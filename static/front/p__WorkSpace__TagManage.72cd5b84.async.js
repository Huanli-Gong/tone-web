(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2895,2485,5189],{36192:function(G){G.exports={picker:"picker___uSvFT",waves:"waves___3JsYm"}},73989:function(G){G.exports={warp:"warp___3xrxY",batch:"batch___27iD6",pagination:"pagination___3BxfY",hidden:"hidden___1M0JS",tag_popover_style:"tag_popover_style___2eA5S"}},77429:function(G){G.exports={test_result_name:"test_result_name___1RBzL",test_summary_item:"test_summary_item___3-Yoh",test_summary_item_right:"test_summary_item_right___2UQVi",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___2cRIc",test_summary_job:"test_summary_job___2a2-P",test_summary_row:"test_summary_row___1zXMg",detail_collection:"detail_collection___1_th-",offline_flag:"offline_flag___3BdpH",ellips_column_refclass:"ellips_column_refclass___30H4W",tag_popover_style:"tag_popover_style___1x8MG",table_question_tooltip:"table_question_tooltip___1Ur7e",join_baseline:"join_baseline___Jgafh",select_baseline:"select_baseline___2nHPA"}},3820:function(G,X,e){"use strict";var ve=e(49111),I=e(19650),$=e(57663),P=e(71577),je=e(48736),w=e(27049),v=e(20228),k=e(11382),F=e(39428),q=e(3182),te=e(43358),_=e(34041),m=e(2824),b=e(67294),x=e(16917),g=e(90105),R=e(85893),ee=function(B){var O=B.confirm,ge=B.onConfirm,U=B.pageSize,C=U===void 0?999:U,l=B.value,d=(0,b.useState)([]),ne=(0,m.Z)(d,2),y=ne[0],se=ne[1],t=(0,b.useState)(),re=(0,m.Z)(t,2),ae=re[0],oe=re[1],de=(0,b.useState)(l==null?void 0:l.name),L=(0,m.Z)(de,2),D=L[0],M=L[1],W=(0,b.useState)(l==null?void 0:l.name),ce=(0,m.Z)(W,2),Ee=ce[0],he=ce[1],Pe=(0,b.useState)(!0),Ie=(0,m.Z)(Pe,2),s=Ie[0],Oe=Ie[1],Le=_.Z.Option,ie=function(){var h=(0,q.Z)((0,F.Z)().mark(function Y(A){var H,Ce,Te;return(0,F.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(H=A&&A.replace(/\s*/g,""),!(ae&&ae==H)){V.next=3;break}return V.abrupt("return");case 3:return oe(H),Oe(!0),V.next=7,(0,g.tR)({keyword:H,page_size:C});case 7:Ce=V.sent,Te=Ce.data,se(Te||[]),Oe(!1);case 11:case"end":return V.stop()}},Y)}));return function(A){return h.apply(this,arguments)}}();return(0,b.useEffect)(function(){ie()},[]),(0,R.jsxs)("div",{style:{padding:8},children:[(0,R.jsx)("div",{children:(0,R.jsx)(_.Z,{allowClear:!0,defaultOpen:!0,onClear:ie,notFoundContent:s?(0,R.jsx)(k.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:ie,style:{width:"100%"},onChange:function(Y,A){he(A==null?void 0:A.children),M(Y)},showArrow:!1,autoFocus:!0,value:D,children:y.map(function(h){return(0,R.jsx)(Le,{value:h.id,children:h.last_name},h.id)})})}),(0,R.jsx)(w.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,R.jsxs)(I.Z,{children:[(0,R.jsx)(P.Z,{onClick:function(){var Y=D;D&&isNaN(Number(D))&&(Y=l==null?void 0:l.id),O==null||O(),ge(Y,Ee)},type:"link",size:"small",style:{width:75},children:(0,R.jsx)(x._H,{id:"operation.search"})}),(0,R.jsx)(P.Z,{type:"text",onClick:function(){O==null||O(),M(void 0),he(void 0),ge(void 0,void 0),ie()},size:"small",style:{width:75,border:"none"},children:(0,R.jsx)(x._H,{id:"operation.reset"})})]})]})};X.Z=ee},46873:function(G,X,e){"use strict";var ve=e(48736),I=e(27049),$=e(2824),P=e(67294),je=e(79941),w=e(19730),v=e(79508),k=e(36192),F=e.n(k),q=e(34528),te=e.n(q),_=e(85893),m=function(x){var g=x.value,R=x.onChange,ee=(0,P.useState)(!1),E=(0,$.Z)(ee,2),B=E[0],O=E[1],ge=(0,P.useState)(!1),U=(0,$.Z)(ge,2),C=U[0],l=U[1],d=(0,P.useState)({r:255,g:157,b:78,a:1}),ne=(0,$.Z)(d,2),y=ne[0],se=ne[1],t=[{r:255,g:157,b:78,a:1},{r:91,g:216,b:166,a:1},{r:91,g:143,b:249,a:1},{r:247,g:102,b:78,a:1},{r:255,g:134,b:183,a:1},{r:43,g:158,b:157,a:1},{r:146,g:112,b:202,a:1},{r:109,g:200,b:236,a:1},{r:102,g:119,b:150,a:1},{r:245,g:188,b:22,a:1},{r:231,g:107,b:242,a:1}],re=function(){O(!B)},ae=function(){O(!1)},oe=function(M){var W=M.rgb;se(W);var ce="rgb(".concat(W.r,",").concat(W.g,",").concat(W.b,",").concat(W.a,")");R&&R(ce)};(0,P.useEffect)(function(){var D={r:255,g:157,b:78,a:1};if(g){var M=g.slice(4,g.length-1).split(",");D={r:Number(M[0]),g:Number(M[1]),b:Number(M[2]),a:Number(M[3])}}se(D)},[g]);var de=function(M){se(M),l(!1);var W="rgb(".concat(M.r,",").concat(M.g,",").concat(M.b,",").concat(M.a,")");R&&R(W)},L=(0,je.ZP)({default:{color:{position:"relative",width:"22px",height:"22px",borderRadius:"2px",background:"rgba(".concat(y.r,", ").concat(y.g,", ").concat(y.b,", ").concat(y.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},warp:{position:"absolute",paddingTop:"16px",paddingBottom:"6px",background:"#fff",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)",borderRadius:"2px",zIndex:9999}}});return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{style:L.swatch,className:F().click,onClick:re,children:(0,_.jsx)("div",{style:L.color,className:F().waves})}),B?(0,_.jsxs)("div",{style:L.popover,children:[(0,_.jsx)("div",{style:L.cover,onClick:ae}),(0,_.jsxs)("div",{style:L.warp,children:[(0,_.jsxs)("div",{style:{background:"#fff",width:244,paddingLeft:"16px"},children:[t.map(function(D,M){return(0,_.jsx)("div",{children:(0,_.jsx)("div",{className:F().waves,style:{position:"relative",float:"left",marginRight:"16px",marginBottom:"16px",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden",background:"rgba(".concat(D.r,", ").concat(D.g,", ").concat(D.b,", ").concat(D.a,")")},onClick:function(){return de(D)},children:JSON.stringify(y)==JSON.stringify(D)&&(0,_.jsx)(v.Z,{style:{position:"absolute",top:"5px",left:"5px",color:"#fff"}})})},M)}),(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:F().waves,style:{float:"left",marginRight:"16px",marginBottom:"16px",position:"relative",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden"},onClick:function(){return l(!C)},children:[(0,_.jsx)("img",{src:te(),style:{position:"absolute",width:"22px"}}),(0,_.jsx)("div",{style:{position:"absolute",left:"4px",top:"4px",width:"14px",height:"14px",borderRadius:"2px",background:"rgba(".concat(y.r,", ").concat(y.g,", ").concat(y.b,", ").concat(y.a,")")}})]})})]}),C&&(0,_.jsx)(I.Z,{style:{margin:0}}),C&&(0,_.jsx)("div",{style:{padding:"6px"},children:(0,_.jsx)(w.xS,{className:F().picker,width:212,color:y,onChange:oe,presetColors:[]})})]})]}):null]})};X.Z=m},22153:function(G,X,e){"use strict";e.r(X);var ve=e(57338),I=e(440),$=e(47673),P=e(4107),je=e(20228),w=e(11382),v=e(13062),k=e(71230),F=e(14781),q=e(10664),te=e(49111),_=e(19650),m=e(62350),b=e(24565),x=e(57663),g=e(71577),R=e(34792),ee=e(48086),E=e(11849),B=e(39428),O=e(3182),ge=e(9715),U=e(20526),C=e(2824),l=e(67294),d=e(16917),ne=e(20009),y=e(22928),se=e(73989),t=e.n(se),re=e(46873),ae=e(37763),oe=e.n(ae),de=e(39067),L=e(99069),D=e(57119),M=e(3820),W=e(87415),ce=e(24480),Ee=e(10753),he=e(72529),Pe=e(85450),Ie=e(8366),s=e(85893),Oe=function(){var ie=(0,d.YB)(),h=ie.formatMessage,Y=(0,ne.UO)(),A=Y.ws_id,H={ws_id:A,page_num:1,page_size:10},Ce=U.Z.useForm(),Te=(0,C.Z)(Ce,1),me=Te[0],V=l.useState(H),Ue=(0,C.Z)(V,2),p=Ue[0],u=Ue[1],n=(0,l.useState)([]),a=(0,C.Z)(n,2),i=a[0],j=a[1],Q=(0,l.useState)(!0),fe=(0,C.Z)(Q,2),K=fe[0],pe=fe[1],_e=(0,l.useState)(new Date().getTime()),be=(0,C.Z)(_e,2),Ke=be[0],We=be[1],ye=(0,l.useState)(!0),Ze=(0,C.Z)(ye,2),Se=Ze[0],Re=Ze[1],Be=(0,l.useState)(!1),xe=(0,C.Z)(Be,2),De=xe[0],le=xe[1],we=(0,l.useState)(!1),J=(0,C.Z)(we,2),ue=J[0],Me=J[1],Qe=(0,l.useState)(),Fe=(0,C.Z)(Qe,2),Ae=Fe[0],He=Fe[1],Je=(0,l.useState)(),Ne=(0,C.Z)(Je,2),Ge=Ne[0],N=Ne[1],Xe=(0,l.useState)(),ze=(0,C.Z)(Xe,2),$e=ze[0],z=ze[1],ke=function(){var c=(0,O.Z)((0,B.Z)().mark(function r(){var o,T,Z=arguments;return(0,B.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=Z.length>0&&Z[0]!==void 0?Z[0]:p,Re(!0),j({data:[]}),f.next=5,(0,y.oG)(o);case 5:T=f.sent,T&&j(T),Re(!1);case 8:case"end":return f.stop()}},r)}));return function(){return c.apply(this,arguments)}}();(0,l.useEffect)(function(){ke()},[Ke,p]);var Ye=function(r,o){u(function(T){return(0,E.Z)((0,E.Z)({},T),{},{page_num:r,page_size:o})})},Ve=function(){return We(new Date().getTime())},qe=function(r){me.resetFields(),z("success"),N(h({id:"job.tags.msg1"})),le(!0),He(r.id),setTimeout(function(){me.setFieldsValue(r)},1)},et=function(){var c=(0,O.Z)((0,B.Z)().mark(function r(o){var T,Z;return(0,B.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!ue){f.next=2;break}return f.abrupt("return");case 2:if(Me(!0),o.name=o.name&&o.name.replace(/\s+/g,""),o.description=o.description&&o.description.replace(/\s+/g,"")||"",T=(0,E.Z)({},o),z("validating"),N(""),T.ws_id=A,!Ae){f.next=15;break}return f.next=12,(0,y.tk)(Ae,T);case 12:f.t0=f.sent,f.next=18;break;case 15:return f.next=17,(0,y._U)(T);case 17:f.t0=f.sent;case 18:if(Z=f.t0,Z.code!=201){f.next=24;break}return setTimeout(function(){Me(!1)},1),z("error"),N(Z.msg),f.abrupt("return");case 24:if(Z.code!=="1-12-002"){f.next=29;break}return setTimeout(function(){Me(!1)},1),z("error"),N(Z.msg),f.abrupt("return");case 29:if(Z.code!=1302){f.next=34;break}return z("error"),N(h({id:"job.tags.msg2"})),Me(!1),f.abrupt("return");case 34:return z("success"),N(""),f.next=38,le(!1);case 38:setTimeout(function(){Me(!1)},1),ee.default.success(h({id:"operation.success"})),Ae||(p==null?void 0:p.page_num)==1?Ve():u(function(at){return(0,E.Z)((0,E.Z)({},at),{},{page_num:1})});case 41:case"end":return f.stop()}},r)}));return function(o){return c.apply(this,arguments)}}(),tt=function(){me.validateFields().then(function(r){var o=new RegExp(/^[A-Za-z0-9\._-]*$/g);if(!r.name||r.name.replace(/\s+/g,"")==""){z("error"),N(h({id:"please.enter"}));return}else if(!o.test(r.name)||r.name.length>64){z("error"),N(h({id:"job.tags.msg3"}));return}else et(r)}).catch(function(r){(!r.values.name||r.values.name.replace(/\s+/g,"")=="")&&(z("error"),N(h({id:"please.enter"})))})},nt=function(){He(void 0),le(!0),me.resetFields(),z(""),N(h({id:"job.tags.msg1"}))},st=function(){var c=(0,O.Z)((0,B.Z)().mark(function r(o){var T;return(0,B.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,y.D8)({tag_id:o.id,ws_id:A});case 2:if(T=S.sent,T.code==200){S.next=6;break}return(0,ce.EV)(T.code,T.msg),S.abrupt("return");case 6:u(function(f){return(0,E.Z)((0,E.Z)({},f),{},{page_num:Math.ceil((i.total-1)/p.page_size)||1})}),ee.default.success(h({id:"operation.success"})),We(new Date().getTime());case 9:case"end":return S.stop()}},r)}));return function(o){return c.apply(this,arguments)}}(),rt=[{title:(0,s.jsx)(d._H,{id:"job.tags.tag.name"}),dataIndex:"name",ellipsis:{showTitle:!1},filterDropdown:function(r){var o=r.confirm;return(0,s.jsx)(de.Z,{confirm:o,autoFocus:K,onConfirm:function(Z){u(function(S){return(0,E.Z)((0,E.Z)({},S),{},{page_num:1,name:Z})})}})},onFilterDropdownVisibleChange:function(r){r&&pe(!K)},filterIcon:function(){return(0,s.jsx)(L.Z,{style:{color:p!=null&&p.name?"#1890ff":void 0}})},render:function(r,o){return(0,s.jsx)(Ie.ResizeTag,(0,E.Z)({},o))}},{title:(0,s.jsx)(d._H,{id:"job.tags.source_tag"}),dataIndex:"source_tag",ellipsis:{showTitle:!1},width:100},{title:(0,s.jsx)(d._H,{id:"job.tags.creator_name"}),dataIndex:"creator_name",ellipsis:{showTitle:!1},width:100,filterIcon:function(){return(0,s.jsx)(L.Z,{style:{color:p!=null&&p.creator?"#1890ff":void 0}})},filterDropdown:function(r){var o=r.confirm;return(0,s.jsx)(M.Z,{confirm:o,onConfirm:function(Z){u(function(S){return(0,E.Z)((0,E.Z)({},S),{},{page_num:1,creator:Z})})}})}},(0,E.Z)({title:(0,s.jsx)(d._H,{id:"job.tags.update_user"}),dataIndex:"update_user",width:100,filterIcon:function(){return(0,s.jsx)(L.Z,{style:{color:p!=null&&p.update_user?"#1890ff":void 0}})},filterDropdown:function(r){var o=r.confirm;return(0,s.jsx)(M.Z,{confirm:o,onConfirm:function(Z){u(function(S){return(0,E.Z)((0,E.Z)({},S),{},{update_user:Z,page_num:1})})}})}},(0,he.yQ)("-")),{title:(0,s.jsx)(d._H,{id:"job.tags.gmt_created"}),dataIndex:"gmt_created",width:160,ellipsis:{shwoTitle:!1},render:function(r,o){return o.source_tag!=="\u7CFB\u7EDF\u6807\u7B7E"?(0,s.jsx)(Ee.K,{ellipsis:{tooltip:!0},children:o.gmt_created}):"-"}},{title:(0,s.jsx)(d._H,{id:"job.tags.gmt_modified"}),dataIndex:"gmt_modified",width:160,ellipsis:{shwoTitle:!1},render:function(r,o){return o.source_tag!=="\u7CFB\u7EDF\u6807\u7B7E"?(0,s.jsxs)(Ee.K,{ellipsis:{tooltip:!0},children:[o.gmt_modified," "]}):"-"}},{title:(0,s.jsx)(d._H,{id:"job.tags.remarks"}),dataIndex:"description",width:160,ellipsis:{showTitle:!1},filterIcon:function(){return(0,s.jsx)(L.Z,{style:{color:p!=null&&p.description?"#1890ff":void 0}})},filterDropdown:function(r){var o=r.confirm;return(0,s.jsx)(de.Z,{confirm:o,autoFocus:K,onConfirm:function(Z){u(function(S){return(0,E.Z)((0,E.Z)({},S),{},{description:Z,page_num:1})})}})},onFilterDropdownVisibleChange:function(r){r&&pe(!K)},render:function(r,o){return(0,s.jsx)(Ee.K,{ellipsis:{tooltip:o.description},children:(0,s.jsx)(oe(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[(p==null?void 0:p.description)||""],autoEscape:!0,textToHighlight:o.description?o.description.toString():"-"})})}},{title:(0,s.jsx)(d._H,{id:"Table.columns.operation"}),valueType:"option",dataIndex:"creator",width:120,render:function(r,o){return o.source_tag!=="\u7CFB\u7EDF\u6807\u7B7E"&&(0,s.jsxs)(_.Z,{children:[(0,s.jsx)(g.Z,{type:"link",style:{padding:0,height:"auto"},onClick:function(){return qe((0,E.Z)({},o))},children:(0,s.jsx)(d._H,{id:"operation.edit"})}),(0,s.jsx)(b.Z,{title:(0,s.jsx)("div",{style:{color:"red"},children:(0,s.jsx)(d._H,{id:"job.tags.delete.prompt"})}),placement:"topRight",okText:(0,s.jsx)(d._H,{id:"operation.cancel"}),cancelText:(0,s.jsx)(d._H,{id:"operation.delete"}),onCancel:function(){return st(o)},overlayStyle:{width:"300px"},icon:(0,s.jsx)(D.Z,{style:{color:"red"}}),children:(0,s.jsx)(g.Z,{type:"link",style:{padding:0,height:"auto"},children:(0,s.jsx)(d._H,{id:"operation.delete"})})})]})}}];return(0,s.jsxs)(W.gM,{title:(0,s.jsx)(d._H,{id:"job.tags.name"}),extra:(0,s.jsx)(g.Z,{type:"primary",onClick:nt,children:(0,s.jsx)(d._H,{id:"job.tags.create"})},"3"),children:[(0,s.jsxs)(w.Z,{spinning:Se,children:[(0,s.jsx)(Pe.sL,{name:"ws-job-type-tag-list",refreshDeps:[i,K,p],pagination:!1,rowKey:function(r){return r.id+""},columns:rt,dataSource:i.data,size:"small",scroll:{x:"100%"}}),(0,s.jsxs)(k.Z,{justify:"space-between",style:{marginTop:20},children:[(0,s.jsx)("div",{className:i.total==0?t().hidden:"",children:h({id:"pagination.total.strip"},{data:i.total})}),(0,s.jsx)(q.Z,{size:"small",className:i.total==0?t().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:p==null?void 0:p.page_num,defaultCurrent:1,onChange:function(r,o){return Ye(r,o)},onShowSizeChange:function(r,o){return Ye(r,o)},total:i.total})]})]}),(0,s.jsx)(I.Z,{maskClosable:!1,keyboard:!1,title:Ae?(0,s.jsx)(d._H,{id:"job.tags.edit.tag"}):(0,s.jsx)(d._H,{id:"job.tags.create.tag"}),width:376,onClose:function(){return le(!1)},open:De,bodyStyle:{paddingBottom:80},footer:(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)(g.Z,{onClick:function(){return le(!1)},style:{marginRight:8},children:(0,s.jsx)(d._H,{id:"operation.cancel"})}),(0,s.jsx)(g.Z,{onClick:tt,type:"primary",htmlType:"submit",children:Ae?(0,s.jsx)(d._H,{id:"operation.update"}):(0,s.jsx)(d._H,{id:"operation.ok"})})]}),children:(0,s.jsx)(w.Z,{spinning:$e=="validating",children:(0,s.jsxs)(U.Z,{layout:"vertical",form:me,initialValues:{tag_color:"rgb(255,157,78,1)"},children:[(0,s.jsx)(U.Z.Item,{name:"tag_color",label:(0,s.jsx)(d._H,{id:"job.tags.tag_color"}),rules:[{required:!0,message:h({id:"please.select"})}],children:(0,s.jsx)(re.Z,{})}),(0,s.jsx)(U.Z.Item,{name:"name",label:(0,s.jsx)(d._H,{id:"job.tags.tag.name"}),validateStatus:$e,help:Ge,rules:[{required:!0}],children:(0,s.jsx)(P.Z,{autoComplete:"off",placeholder:h({id:"please.enter"}),onChange:function(r){if(!r.target.value.replace(/\s+/g,"")){z("error"),N(h({id:"please.enter"}));return}N(void 0),z("")}})}),(0,s.jsx)(U.Z.Item,{name:"description",label:(0,s.jsx)(d._H,{id:"job.tags.remarks"}),children:(0,s.jsx)(P.Z.TextArea,{rows:3,placeholder:h({id:"job.tags.remarks.placeholder"})})})]})})})]})};X.default=Oe},22928:function(G,X,e){"use strict";e.d(X,{oG:function(){return je},_U:function(){return v},tk:function(){return F},D8:function(){return te}});var ve=e(11849),I=e(39428),$=e(3182),P=e(16917);function je(_){return w.apply(this,arguments)}function w(){return w=(0,$.Z)((0,I.Z)().mark(function _(m){return(0,I.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,P.WY)("/api/job/tag/",{params:m}));case 1:case"end":return x.stop()}},_)})),w.apply(this,arguments)}function v(_){return k.apply(this,arguments)}function k(){return k=(0,$.Z)((0,I.Z)().mark(function _(m){return(0,I.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,P.WY)("/api/job/tag/",{method:"POST",data:(0,ve.Z)({},m)}));case 1:case"end":return x.stop()}},_)})),k.apply(this,arguments)}function F(_,m){return q.apply(this,arguments)}function q(){return q=(0,$.Z)((0,I.Z)().mark(function _(m,b){return(0,I.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,P.WY)("/api/job/tag/",{method:"PUT",data:(0,ve.Z)((0,ve.Z)({},b),{tag_id:m})}));case 1:case"end":return g.stop()}},_)})),q.apply(this,arguments)}var te=function(){var _=(0,$.Z)((0,I.Z)().mark(function m(b){return(0,I.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,P.WY)("/api/job/tag/",{method:"DELETE",data:b}));case 1:case"end":return g.stop()}},m)}));return function(b){return _.apply(this,arguments)}}()},72529:function(G,X,e){"use strict";e.d(X,{gN:function(){return de},tZ:function(){return W},yQ:function(){return ce},Pc:function(){return Ee},KS:function(){return s},YV:function(){return Oe},Nq:function(){return Le},JQ:function(){return Te},iK:function(){return me},fD:function(){return V},QN:function(){return Ue},ud:function(){return p}});var ve=e(402),I=e(97272),$=e(49111),P=e(19650),je=e(20136),w=e(55241),v=e(11849),k=e(71153),F=e(60331),q=e(89032),te=e(15746),_=e(13062),m=e(71230),b=e(22385),x=e(89456),g=e(20310),R=e(36017),ee=e(35247),E=e(67294),B=e(77429),O=e.n(B),ge=e(8212),U=e(1870),C=e(20009),l=e(16917),d=e(12788),ne=e(24480),y=e(60035),se=e(10753),t=e(85893),re,ae,oe=new Map([["success","#81BF84"],["pass","#81BF84"],["running","#649FF6"],["fail","#C84C5A"]]),de=function(n){var a=(0,C.UO)(),i=a.ws_id;return(0,t.jsxs)(ee.Z,{style:{marginBottom:n.bottomHeight},children:[(0,t.jsx)(ee.Z.Item,{children:(0,t.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return l.m8.push("/ws/".concat(i,"/test_result"))},children:(0,t.jsx)(l._H,{id:"ws.result.details.test.result"})})}),(0,t.jsx)(ee.Z.Item,{children:(0,t.jsx)(l._H,{id:"ws.result.details.result.details"})})]})},L=new Map([["success","#81BF84"],["fail","#C84C5A"],["running","#649FF6"],["stop","#1D1D1D"],["pending","#1D1D1D"],["skip","#1D1D1D"],["warning","#faad14"]]),D=function(n){return L.get(n)||""},M=d.ZP.span(re||(re=(0,g.Z)([`
    color: `,`;
    fontWeight: 500;
    text-transform: capitalize;
`])),function(u){var n=u.color;return n}),W=function(n){var a=n;return Object.prototype.toString.call(n)==="[object Boolean]"&&(a=n?"success":"fail"),(0,t.jsx)(M,{color:D(a),children:a})},ce=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(i){return i?(0,t.jsx)(se.K,{ellipsis:{tooltip:!0},children:i}):n}}},Ee=function(n){var a=n.title,i=n.width,j=i===void 0?"100%":i,Q=n.onEdit,fe=n.access,K=(0,E.useRef)(),pe=(0,C.UO)(),_e=pe.share_id;return(0,t.jsx)("div",{ref:K,style:{width:j},children:(0,t.jsxs)(m.Z,{style:{width:j},justify:"start",align:"middle",children:[(0,t.jsx)(x.Z,{placement:"topLeft",title:a,children:(0,t.jsx)("span",{style:{maxWidth:54,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a||"-"})}),!_e&&(0,t.jsx)(ge.Z,{style:{marginLeft:6,cursor:"pointer"},onClick:function(){return fe?Q():(0,ne.WR)()}})]})})},he=function(n){return oe.get(n)||"#D9D9D9"},Pe=function(n){var a=n.text,i=(0,l.YB)(),j=(0,y.oM)(i.formatMessage({id:"request.copy.success"}));return(0,t.jsx)("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return j(a)},children:i.formatMessage({id:"operation.copy",defaultMessage:"\u590D\u5236"})})},Ie=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(i){return i?_jsx(_Tooltip,{overlayClassName:styles.tootip_overflow,placement:"topLeft",title:_jsxs(_Row,{children:[_jsx(_Col,{span:24,style:{whiteSpace:"break-spaces"},children:i}),_jsx(_Col,{span:24,children:_jsx(_Row,{justify:"center",children:_jsx(Pe,{text:i})})})]}),children:i}):n}}},s=function(n){var a=n.text,i=n.defaultText,j=i===void 0?"-":i;return a?(0,t.jsx)(x.Z,{overlayClassName:O().tootip_overflow,placement:"topLeft",title:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(te.Z,{span:24,style:{whiteSpace:"break-spaces"},children:a}),(0,t.jsx)(te.Z,{span:24,children:(0,t.jsx)(m.Z,{justify:"center",children:(0,t.jsx)(Pe,{text:a})})})]}),children:a}):j},Oe=function(n){return n==="decline"?"#C84C5A":n==="normal"?"#000000":n==="increase"?"#81BF84":""},Le=function(n,a,i){return n==="decline"?(0,t.jsx)("span",{style:{color:"#C84C5A"},children:i({id:"ws.result.details.".concat(n)})}):n==="normal"?(0,t.jsx)("span",{style:{color:"#000000"},children:i({id:"ws.result.details.".concat(n)})}):n==="increase"?(0,t.jsx)("span",{style:{color:"#81BF84"},children:i({id:"ws.result.details.".concat(n)})}):a||"-"},ie=(0,d.ZP)(F.Z)(ae||(ae=(0,g.Z)([`
    font-weight: 500;
    width: 72px;
    text-align: center;
    `,`
    text-transform: capitalize;
`])),function(u){var n=u.no_margin;return n?"margin-right: 0;":""}),h=function(n){return(0,t.jsx)(ie,(0,v.Z)({},(0,v.Z)((0,v.Z)({},n),{},{collection:void 0})))},Y=function(n){var a=(0,l.YB)(),i=a.formatMessage;return(0,t.jsx)(x.Z,{title:i({id:"ws.result.details.job_state"}),placement:"bottom",children:(0,t.jsx)(ie,(0,v.Z)({},n))})},A=function(n){var a=n.title;return(0,t.jsx)(w.Z,{title:a,placement:"right",trigger:"hover",overlayClassName:O().tag_popover_style,children:(0,t.jsx)(U.Z,{style:{color:"rgba(0, 0, 0, 0.65)",verticalAlign:"middle"}})})},H=function(n){var a=n.state;return(0,t.jsx)(h,(0,v.Z)((0,v.Z)({},n),{},{color:he(a),style:oe.get(a)?void 0:{color:"#1d1d1d"},children:a==="success"?"complete":a}))},Ce=function(n){var a=n.state;return(0,t.jsx)(Y,(0,v.Z)((0,v.Z)({},n),{},{color:he(a),style:oe.get(a)?void 0:{color:"#1d1d1d"},children:a==="success"?"complete":a}))},Te=function(n){var a=(0,l.YB)(),i=a.formatMessage,j=n.state,Q=n.run_state,fe=Q===void 0?"":Q,K=n.state_desc,pe=(0,C.UO)(),_e=pe.ws_id;return j==="running"?K?(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(H,(0,v.Z)((0,v.Z)({},n),{},{children:j})),(0,t.jsx)(A,{title:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:K.replace(/(\d+)/g,'<a href="/ws/'.concat(_e,'/test_result/$1" target="_blank">$1</a>'))}})})]}):fe?(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(H,(0,v.Z)((0,v.Z)({},n),{},{children:j})),(0,t.jsx)(A,{title:i({id:"ws.result.details.not.assigned.server"})})]}):(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(H,(0,v.Z)((0,v.Z)({},n),{},{children:j})),(0,t.jsx)(A,{title:i({id:"ws.result.details.running,please.wait"})})]}):j==="pending"&&K?(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(H,(0,v.Z)((0,v.Z)({},n),{},{children:j})),(0,t.jsx)(A,{title:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:K.replace(/(\d+)/g,'<a href="/ws/'.concat(_e,'/test_result/$1" target="_blank">$1</a>'))}})})]}):(0,t.jsx)(H,(0,v.Z)({},n))},me=function(n){return(0,t.jsx)(Ce,(0,v.Z)((0,v.Z)({},n),{},{no_margin:1}))},V=function(n){var a=n.title,i=n.desc,j=n.placement,Q=j===void 0?"bottom":j;return(0,t.jsxs)(P.Z,{children:[(0,t.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:a}),(0,t.jsx)(x.Z,{overlayClassName:O().table_question_tooltip,placement:Q,arrowPointAtCenter:!0,title:i,color:"#fff",children:(0,t.jsx)(U.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})})]})},Ue=function(n){var a=n.title,i=n.test_value,j=n.value_list,Q=n.cv_value,fe=n.max_value,K=n.min_value,pe=n.metric,_e=n.result,be=(0,l.YB)(),Ke=be.formatMessage,We=(0,y.oM)(Ke({id:"request.copy.success"})),ye=function(ue){return ue?new Number(ue).toFixed(2):null},Ze=ye(fe),Se=ye(K),Re=Q,Be=ye(i),xe=j.map(function(J){return ye(J)}),De="".concat(pe," ").concat(a,`:
Avg: `).concat(Be,`
CV:  `).concat(Re);De+=Ze?`
Max: `.concat(Ze):"",De+=Se?`
Min: `.concat(Se):"",De+=xe.length?`
Test Record
`:"",De+=xe.reduce(function(J,ue,Me){return J.concat("(".concat(Me+1,") ").concat(ue,`
`))},"");var le="".concat(Be,"\xB1").concat(Re),we=function(){return _e==="decline"?(0,t.jsx)("span",{className:O().result_popover_span,style:{color:"#C84C5A"},children:le}):_e==="increase"?(0,t.jsx)("span",{className:O().result_popover_span,style:{color:"#81BF84"},children:le}):(0,t.jsx)("span",{className:O().result_popover_span,style:{color:"rgba(0, 0, 0, 0.65)"},children:le})};return(0,t.jsx)(w.Z,{overlayClassName:O().metric_list_copy,title:(0,t.jsxs)(m.Z,{justify:"space-between",children:[(0,t.jsx)("b",{children:a}),(0,t.jsx)("span",{onClick:function(){return We(De)},style:{color:"#1890FF",cursor:"pointer",marginLeft:"8px"},children:(0,t.jsx)(l._H,{id:"operation.copy"})})]}),content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.Z,{children:[(0,t.jsx)("b",{children:"Avg\uFF1A"}),(0,t.jsx)("span",{children:Be})]}),(0,t.jsxs)(m.Z,{children:[(0,t.jsx)("b",{children:"CV\uFF1A"}),(0,t.jsx)("span",{children:Re})]}),(0,t.jsxs)(m.Z,{children:[(0,t.jsx)("b",{children:"Max\uFF1A"}),(0,t.jsx)("span",{children:Ze})]}),(0,t.jsxs)(m.Z,{children:[(0,t.jsx)("b",{children:"Min\uFF1A"}),(0,t.jsx)("span",{children:Se})]}),xe.length>0&&(0,t.jsx)(m.Z,{style:{marginTop:16},children:(0,t.jsx)("b",{children:"Test Record"})}),xe.map(function(J,ue){return(0,t.jsx)(m.Z,{children:"(".concat(ue+1,")").concat(J)},ue)})]}),children:we()})},p=function(n,a){return a&&(0,t.jsx)(te.Z,{span:24,children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(I.Z.Text,{style:{width:70,fontWeight:600,marginRight:8},children:n}),(0,t.jsx)(I.Z.Paragraph,{style:{width:"calc( 100% - 70px - 8px)"},ellipsis:!0,children:a})]})})}}}]);
