(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[7432],{30420:function(X){X.exports={log_td:"log_td___3ViXg",log_table:"log_table___3W2Yo",cell:"cell___1iA9a",no_margin_line:"no_margin_line___1Z9Kp"}},70216:function(X){X.exports={cover:"cover___Mo5GD"}},69183:function(X){X.exports={cover:"cover___3PIkw"}},65318:function(X){X.exports={DeployModal_root:"DeployModal_root___1OL4b",Alert:"Alert___1ubcT"}},1398:function(X){X.exports={filter:"filter___3oqYG",confirm:"confirm___30iCS"}},8476:function(X,b,e){"use strict";e.d(b,{Z:function(){return E}});var le=e(65790),W=e(17187),N=e(64510),R=e(87445),w=e(67448),T=e(47548),h=e(51937),f=e(34516),M=e(35832),g=e(81138),I=e(96146),C=e(32326),a=e(39190),t=e(69230),L=e(33821),o=e(22374),m=e(22812),Z=e(24812);function A(){return l.apply(this,arguments)}function l(){return l=(0,C.Z)((0,M.Z)().mark(function r(){var y,j=arguments;return(0,M.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return y=j.length>0&&j[0]!==void 0?j[0]:{},p.abrupt("return",(0,m.WY)("/api/server/server_tag/",{params:y}));case 2:case"end":return p.stop()}},r)})),l.apply(this,arguments)}var B=e(52454),O=L.Z.Option,E=function(r){var y=(0,m.YB)(),j=y.formatMessage,F=r.isQuery,p=r.list,n=(0,Z.UO)(),c=n.ws_id,x=(0,o.useState)(!0),_=(0,a.Z)(x,2),v=_[0],i=_[1],u=(0,o.useState)([]),s=(0,a.Z)(u,2),d=s[0],D=s[1],H=(0,o.useState)(),te=(0,a.Z)(H,2),S=te[0],de=te[1],ne=(0,o.useState)({total:0,page_num:1,page_size:20}),G=(0,a.Z)(ne,2),oe=G[0],$=G[1],P=function(){var V=(0,C.Z)((0,M.Z)().mark(function Q(U){var Y,k,z,me=arguments;return(0,M.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return Y=me.length>1&&me[1]!==void 0?me[1]:"concat",i(!0),se.prev=2,se.next=5,A(U);case 5:k=se.sent,k.code===200?(Y==="concat"?(z=d.concat(k.data||[]),D(z||[])):Y==="reset"&&D(k.data||[]),$(k)):I.default.error(k.msg||j({id:"operation.failed"})),i(!1),se.next=13;break;case 10:se.prev=10,se.t0=se.catch(2),i(!1);case 13:case"end":return se.stop()}},Q,null,[[2,10]])}));return function(U){return V.apply(this,arguments)}}(),K=function(){var V=(0,C.Z)((0,M.Z)().mark(function Q(U){var Y;return(0,M.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(Y=U&&U.replace(/\s*/g,""),!(S&&S==Y)){z.next=3;break}return z.abrupt("return");case 3:de(Y),P({name:Y,page_num:1,page_size:20,ws_id:c},"reset");case 5:case"end":return z.stop()}},Q)}));return function(U){return V.apply(this,arguments)}}();(0,o.useEffect)(function(){F==="edit"&&P({tag_id_list:p+"",page_num:1,page_size:20,ws_id:c},"reset"),F==="add"&&K()},[F,p]);var ie=function(Q){var U=oe.page_num,Y=oe.page_size,k=oe.total,z=Q.target,me=z.clientHeight,he=z.scrollHeight,se=z.scrollTop;me+se>=he&&!isNaN(U)&&Math.ceil(k/Y)>U&&P({name:S,page_num:U+1,page_size:Y,ws_id:c},"concat")},ae=function(){K()},fe=function(Q){var U=Q.label,Y=Q.closable,k=Q.onClose,z=U.props||{},me=z.color,he=z.children;return(0,B.jsx)(f.Z,{color:me,closable:Y,onClose:k,style:{marginRight:3},children:he})};return(0,B.jsx)(W.Z.Item,{name:"tags",label:(0,B.jsx)(m._H,{id:"device.tag"}),children:(0,B.jsx)(L.Z,{mode:"multiple",allowClear:!0,notFoundContent:v?(0,B.jsx)(T.Z,{size:"small"}):(0,B.jsx)(R.Z,{image:R.Z.PRESENTED_IMAGE_SIMPLE}),filterOption:!1,loading:v,placeholder:(0,B.jsx)(m._H,{id:"device.tag.dispatch.tag"}),onSearch:K,style:{width:"100%"},showArrow:!0,onClear:ae,onPopupScroll:ie,tagRender:fe,children:d.map(function(V){return(0,B.jsx)(O,{value:V.id,children:(0,B.jsx)(f.Z,{color:V.tag_color,children:V.name},V.id)},V.id)})})})}},57286:function(X,b,e){"use strict";e.d(b,{Z:function(){return m}});var le=e(64510),W=e(87445),N=e(67448),R=e(47548),w=e(65790),T=e(17187),h=e(69230),f=e(33821),M=e(35832),g=e(32326),I=e(22374),C=e(22812),a=e(24812);function t(Z){return(0,C.WY)("/api/auth/user/",{params:Z})}var L=e(52454),o=function(){var A=(0,C.YB)(),l=A.formatMessage,B=(0,a.UO)(),O=B.ws_id,E=(0,C.QT)(function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t({keyword:p,scope:"aligroup",ws_id:O,page_num:1,page_size:500})},{debounceInterval:300}),r=E.data,y=E.loading,j=E.run,F=function(){var p=(0,g.Z)((0,M.Z)().mark(function n(){var c,x=arguments;return(0,M.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:c=x.length>0&&x[0]!==void 0?x[0]:"",j(c);case 2:case"end":return v.stop()}},n)}));return function(){return p.apply(this,arguments)}}();return r?(0,L.jsx)(T.Z.Item,{name:"emp_id",label:"Owner",rules:[{required:!0,message:l({id:"please.select"})}],children:(0,L.jsx)(f.Z,{allowClear:!0,notFoundContent:y?(0,L.jsx)(R.Z,{size:"small"}):(0,L.jsx)(W.Z,{image:W.Z.PRESENTED_IMAGE_SIMPLE}),placeholder:l({id:"select.owner"}),filterOption:!1,onSearch:F,style:{width:"100%"},showArrow:!0,showSearch:!0,listHeight:160,getPopupContainer:function(n){return n.parentNode},children:r==null?void 0:r.map(function(p,n){return(0,L.jsxs)(f.Z.Option,{value:p.emp_id,children:[p.last_name,"(",p.first_name===""?p.last_name:p.first_name,")",!1]},n)})})}):(0,L.jsx)(T.Z.Item,{label:"Owner",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}],children:(0,L.jsx)(f.Z,{placeholder:"\u8BF7\u9009\u62E9Owner"})})},m=o},79638:function(X,b,e){"use strict";var le=e(79625),W=e(96584),N=e(20418),R=e(39190),w=e(488),T=e(41428),h=e(22374),f=e(97939),M=e(526),g=e(52454),I=["title","children","width","color","placement","style"],C,a=f.ZP.div(C||(C=(0,T.Z)([`
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
`]))),t=function(o){var m=o.title,Z=o.children,A=o.width,l=o.color,B=o.placement,O=B===void 0?"topLeft":B,E=o.style,r=(0,w.Z)(o,I),y=(0,h.useRef)(null),j=(0,h.useState)(!1),F=(0,R.Z)(j,2),p=F[0],n=F[1],c=(0,M.CR)(),x=c.width,_=function(){var u,s,d=y==null||(u=y.current)===null||u===void 0?void 0:u.clientWidth,D=y==null||(s=y.current)===null||s===void 0?void 0:s.scrollWidth;n(d<D)};(0,h.useEffect)(function(){_()},[m,x]);var v=(0,g.jsx)(a,(0,N.Z)((0,N.Z)({ref:y,style:(0,N.Z)({width:A,color:l},E)},r),{},{children:Z||m||"-"}));return p?(0,g.jsx)(W.Z,{title:m,placement:O,overlayStyle:{wordBreak:"break-all"},children:v}):v};b.Z=t},76123:function(X,b,e){"use strict";e.d(b,{Z:function(){return O}});var le=e(88018),W=e(58414),N=e(11407),R=e(68077),w=e(20418),T=e(8281),h=e(58591),f=e(14320),M=e(53479),g=e(35832),I=e(32326),C=e(39190),a=e(22374),t=e(22812);function L(E){return(0,t.WY)("/api/sys/operation/log/",{params:E})}var o=e(79638),m=e(30420),Z=e.n(m),A=e(97207),l=e(52454),B=function(r){return r==="0"?(0,l.jsx)(t._H,{id:"operation.not.release"}):r==="1"?(0,l.jsx)(t._H,{id:"operation.release"}):r==="2"?(0,l.jsx)(t._H,{id:"device.failed.save"}):r==="cloud"?(0,l.jsx)(t._H,{id:"device.cloud"}):r==="cloud_efficiency"?(0,l.jsx)(t._H,{id:"device.cloud_efficiency"}):r==="cloud_ssd"?(0,l.jsx)(t._H,{id:"device.cloud_ssd"}):r==="cloud_essd"?(0,l.jsx)(t._H,{id:"device.cloud_essd"}):r},O=(0,a.forwardRef)(function(E,r){var y=E.operation_object,j=(0,t.YB)(),F=j.formatMessage,p=(0,a.useState)({}),n=(0,C.Z)(p,2),c=n[0],x=n[1],_=(0,a.useState)(!1),v=(0,C.Z)(_,2),i=v[0],u=v[1],s=(0,a.useState)(!0),d=(0,C.Z)(s,2),D=d[0],H=d[1],te=function(){var $=(0,I.Z)((0,g.Z)().mark(function P(K){var ie;return(0,g.Z)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return H(!0),fe.next=3,L({operation_object:y,pid:K});case 3:ie=fe.sent,x(ie||{}),H(!1);case 6:case"end":return fe.stop()}},P)}));return function(K){return $.apply(this,arguments)}}();(0,a.useImperativeHandle)(r,function(){return{show:function(P){u(!0),te(P)}}});var S=function(P){var K=[{fieldName:"template_name",text:"\u914D\u7F6E\u540D\u79F0"},{fieldName:"release_rule",text:"\u7528\u5B8C\u91CA\u653E"},{fieldName:"manufacturer",text:"\u4E91\u5382\u5546/Ak"},{fieldName:"zone",text:"Region/Zone"},{fieldName:"instance_type",text:"\u89C4\u683C"},{fieldName:"storage_type",text:"\u6570\u636E\u76D8"},{fieldName:"image",text:"\u955C\u50CF"},{fieldName:"system_disk_category",text:"\u7CFB\u7EDF\u76D8"},{fieldName:"bandwidth",text:"\u5E26\u5BBD"},{fieldName:"extra_param",text:"\u6269\u5C55\u5B57\u6BB5"},{fieldName:"image_name",text:"\u955C\u50CF"},{fieldName:"channel_type",text:"\u63A7\u5236\u901A\u9053"},{fieldName:"ips",text:"\u673A\u5668"},{fieldName:"ip",text:"\u673A\u5668"},{fieldName:"name",text:"\u673A\u5668\u540D\u79F0"},{fieldName:"state",text:"\u4F7F\u7528\u72B6\u6001"},{fieldName:"description",text:"\u5907\u6CE8"},{fieldName:"owner",text:"Owner"},{fieldName:"tag",text:"\u6807\u7B7E"},{fieldName:"private_ip",text:"\u79C1\u7F51IP"}],ie=K.filter(function(ae){return P===ae.fieldName});return ie.length?F({id:"log.listName.".concat(ie[0].fieldName)}):B(P)},de=function(P){return P.map(function(K,ie){var ae="";return(0,A.isArray)(K)&&!!K.length?ae=JSON.stringify(K):ae=String(K),(0,l.jsxs)(M.Z,{justify:"center",children:[(0,l.jsx)(M.Z,{justify:"center",className:Z().cell,children:ae&&!!ae.length?(0,l.jsx)(o.Z,{title:S(ae),width:160,children:S(ae)}):"-"}),ie!==P.length-1&&(0,l.jsx)(h.Z,{className:Z().no_margin_line})]},ie)})},ne={align:"center",className:"log_td"},G=[{title:(0,l.jsx)(t._H,{id:"log.columns.operation_type"}),align:"center",dataIndex:"operation_type"},{title:(0,l.jsx)(t._H,{id:"log.columns.edit.content"}),align:"center",children:[(0,w.Z)({title:(0,l.jsx)(t._H,{id:"log.columns.fieldName"}),render:function(P){return de(Object.keys(JSON.parse(P.new_values)))}},ne),(0,w.Z)({title:(0,l.jsx)(t._H,{id:"log.columns.old_values"}),render:function(P){return de(Object.values(JSON.parse(P.old_values)))}},ne),(0,w.Z)({title:(0,l.jsx)(t._H,{id:"log.columns.new_values"}),render:function(P){return de(Object.values(JSON.parse(P.new_values)))}},ne)]},{title:(0,l.jsx)(t._H,{id:"log.columns.creator"}),align:"center",dataIndex:"creator"},{title:(0,l.jsx)(t._H,{id:"log.columns.gmt_created"}),align:"center",dataIndex:"gmt_created"}],oe=function(){u(!1),x({})};return(0,l.jsx)(W.Z,{maskClosable:!1,keyboard:!1,visible:i,forceRender:!0,title:(0,l.jsx)(t._H,{id:"log.operation.title"}),onClose:oe,width:"910",children:(0,l.jsx)(R.Z,{loading:D,rowKey:"id",size:"small",className:Z().log_table,bordered:!0,pagination:{pageSize:c.page_size||10},columns:G,dataSource:c.data&&c.data.filter(function($){return $.new_values!=="{}"})})})})},46444:function(X,b,e){"use strict";var le=e(57359),W=e(34423),N=e(46721),R=e(94867),w=e(8281),T=e(58591),h=e(90846),f=e(56511),M=e(69230),g=e(33821),I=e(39190),C=e(22374),a=e(22812),t=e(52454),L=function(m){var Z=m.confirm,A=m.onConfirm,l=m.stateVal,B=m.tabType,O=m.dataArr,E=(0,C.useState)([]),r=(0,I.Z)(E,2),y=r[0],j=r[1],F=(0,C.useState)(l),p=(0,I.Z)(F,2),n=p[0],c=p[1],x=g.Z.Option;(0,C.useEffect)(function(){j(O)},[]),(0,C.useEffect)(function(){c("")},[B]);var _=function(s){var d=O.filter(function(D){return D.toLowerCase().includes(s)});j(d)},v=function(s){c(s),j(O)},i=function(s){switch(s){case"Available":return(0,t.jsx)(f.Z,{status:"success",text:"Available"});case"Alive":return(0,t.jsx)(f.Z,{status:"success",text:"Alive"});case"Occupied":return(0,t.jsx)(f.Z,{status:"processing",text:"Occupied"});case"Reserved":return(0,t.jsx)(f.Z,{status:"default",text:"Reserved"});case"Broken":return(0,t.jsx)(f.Z,{status:"error",text:"Broken"});case"Online":return(0,t.jsx)(f.Z,{status:"success",text:"Online"});case"Offline":return(0,t.jsx)(f.Z,{status:"error",text:"Offline"});case"Unusable":return(0,t.jsx)(f.Z,{status:"default",text:"Unusable"});default:return(0,t.jsx)(t.Fragment,{})}};return(0,t.jsxs)("div",{style:{padding:8},children:[(0,t.jsx)("div",{children:(0,t.jsx)(g.Z,{allowClear:!0,style:{width:"100%"},placeholder:(0,t.jsx)(a._H,{id:"ws.dashboard.please.select.state"}),showSearch:!0,onSearch:_,onChange:v,value:n,children:y.map(function(u){return(0,t.jsx)(x,{value:u,children:i(u)},u)})})}),(0,t.jsx)(T.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,t.jsxs)(W.Z,{children:[(0,t.jsx)(R.Z,{onClick:function(){Z==null||Z(),A(n)},type:"link",size:"small",style:{width:75},children:(0,t.jsx)(a._H,{id:"operation.search"})}),(0,t.jsx)(R.Z,{type:"text",onClick:function(){Z==null||Z(),c(void 0),A(void 0),j(O)},size:"small",style:{width:75,border:"none"},children:(0,t.jsx)(a._H,{id:"operation.reset"})})]})]})};b.Z=L},27787:function(X,b,e){"use strict";e.d(b,{Z:function(){return j}});var le=e(57359),W=e(34423),N=e(46721),R=e(94867),w=e(8281),T=e(58591),h=e(67448),f=e(47548),M=e(51937),g=e(34516),I=e(35832),C=e(81138),a=e(96146),t=e(32326),L=e(69230),o=e(33821),m=e(39190),Z=e(22374),A=e(97207),l=e(22812);function B(F){return(0,l.WY)("/api/server/server_tag/",{params:F})}var O=e(70216),E=e.n(O),r=e(52454),y=function(p){var n=p.ws_id,c=p.confirm,x=p.onConfirm,_=(0,l.YB)(),v=_.formatMessage,i=(0,Z.useState)({total:0,page_num:1,page_size:10}),u=(0,m.Z)(i,2),s=u[0],d=u[1],D=(0,Z.useState)(!1),H=(0,m.Z)(D,2),te=H[0],S=H[1],de=(0,Z.useState)([]),ne=(0,m.Z)(de,2),G=ne[0],oe=ne[1],$=(0,Z.useState)(),P=(0,m.Z)($,2),K=P[0],ie=P[1],ae=(0,Z.useState)([]),fe=(0,m.Z)(ae,2),V=fe[0],Q=fe[1],U=(0,Z.useState)(!0),Y=(0,m.Z)(U,2),k=Y[0],z=Y[1],me=o.Z.Option,he=(0,Z.useState)(!1),se=(0,m.Z)(he,2),Ze=se[0],ue=se[1],Oe=function(){var re=(0,t.Z)((0,I.Z)().mark(function ce(pe){var q,J,ee,De=arguments;return(0,I.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return q=De.length>1&&De[1]!==void 0?De[1]:"concat",z(!0),ge.prev=2,ge.next=5,B(pe);case 5:J=ge.sent,J.code===200?q==="concat"?(ee=G.concat(J.data||[]),oe(ee||[]),d(J),ee.length===J.total&&S(!0)):q==="reset"&&(oe(J.data||[]),d(J)):a.default.error(J.msg||v({id:"request.failed"})),z(!1),ge.next=13;break;case 10:ge.prev=10,ge.t0=ge.catch(2),z(!1);case 13:case"end":return ge.stop()}},ce,null,[[2,10]])}));return function(pe){return re.apply(this,arguments)}}(),Pe=function(){var re=(0,t.Z)((0,I.Z)().mark(function ce(pe){var q;return(0,I.Z)().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(q=pe&&pe.replace(/\s*/g,""),!(K&&K==q)){ee.next=3;break}return ee.abrupt("return");case 3:ie(q),Oe({name:q,page_num:1,page_size:10,ws_id:n},"reset");case 5:case"end":return ee.stop()}},ce)}));return function(pe){return re.apply(this,arguments)}}(),Ie=function(ce){var pe=s.page_num,q=s.page_size,J=s.total,ee=ce.target,De=ee.clientHeight,Ae=ee.scrollHeight,ge=ee.scrollTop;De+ge+1>=Ae&&!(0,A.isNaN)(pe)&&Math.ceil(J/q)>pe&&!te&&Oe({name:K,page_num:pe+1,page_size:q,ws_id:n},"concat")};(0,Z.useEffect)(function(){Pe()},[]);var Me=function(ce){var pe=ce.label,q=ce.closable,J=ce.onClose;return(0,r.jsx)(g.Z,{color:pe.props.color,closable:q,onClose:J,style:{marginRight:3},children:pe.props.children})};return(0,r.jsxs)("div",{style:{padding:8,width:200},children:[(0,r.jsx)("div",{className:E().cover,onClick:function(){Ze||c==null||c()}}),(0,r.jsx)(o.Z,{mode:"multiple",allowClear:!0,notFoundContent:k?(0,r.jsx)(f.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:Pe,onPopupScroll:k?function(){}:Ie,style:{width:"100%"},onChange:function(ce){return Q(ce)},showArrow:!1,autoFocus:!0,onFocus:function(){ue(!0)},onBlur:function(){setTimeout(function(){ue(!1)},200)},value:V,tagRender:Me,children:G.map(function(re){return(0,r.jsx)(me,{value:re.id,children:(0,r.jsx)(g.Z,{color:re.tag_color,children:re.name})},re.id)})}),(0,r.jsx)(T.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,r.jsxs)(W.Z,{children:[(0,r.jsx)(R.Z,{onClick:function(){c==null||c(),x(V)},type:"link",size:"small",style:{width:75},children:(0,r.jsx)(l._H,{id:"operation.search"})}),(0,r.jsx)(R.Z,{type:"text",onClick:function(){c==null||c(),Q(void 0),S(!1),x(void 0),Pe()},size:"small",style:{width:75,border:"none"},children:(0,r.jsx)(l._H,{id:"operation.reset"})})]})]})},j=y},22911:function(X,b,e){"use strict";e.d(b,{Z:function(){return O}});var le=e(57359),W=e(34423),N=e(46721),R=e(94867),w=e(8281),T=e(58591),h=e(69230),f=e(33821),M=e(67448),g=e(47548),I=e(35832),C=e(32326),a=e(39190),t=e(22374),L=e(24812),o=e(22812);function m(E){return(0,o.WY)("/api/auth/user/",{params:E})}var Z=e(69183),A=e.n(Z),l=e(52454),B=function(r){var y=r.confirm,j=r.onConfirm,F=r.page_size,p=r.mode,n=p===void 0?"multiple":p,c=(0,L.UO)(),x=c.ws_id,_=(0,t.useState)([]),v=(0,a.Z)(_,2),i=v[0],u=v[1],s=(0,t.useState)(),d=(0,a.Z)(s,2),D=d[0],H=d[1],te=(0,t.useState)(),S=(0,a.Z)(te,2),de=S[0],ne=S[1],G=(0,t.useState)(!0),oe=(0,a.Z)(G,2),$=oe[0],P=oe[1],K=(0,t.useState)(!1),ie=(0,a.Z)(K,2),ae=ie[0],fe=ie[1],V=function(){var U=(0,C.Z)((0,I.Z)().mark(function Y(k){var z,me,he;return(0,I.Z)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(z=k&&k.replace(/\s*/g,""),!(D&&D==z)){Ze.next=3;break}return Ze.abrupt("return");case 3:return H(z),P(!0),Ze.next=7,m({ws_id:x,keyword:z,page_size:F||10,page_num:1});case 7:me=Ze.sent,he=me.data,u(Array.isArray(he)?he:[]),P(!1);case 11:case"end":return Ze.stop()}},Y)}));return function(k){return U.apply(this,arguments)}}();(0,t.useEffect)(function(){V()},[]);var Q=function(){V()};return(0,l.jsxs)("div",{style:{padding:8},children:[(0,l.jsx)("div",{className:A().cover,onClick:function(){ae||y==null||y()}}),(0,l.jsx)(f.Z,{mode:n,allowClear:!0,notFoundContent:$?(0,l.jsx)(g.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:V,style:{width:"100%"},onChange:function(Y){return ne(Y)},onDeselect:Q,onClear:Q,showArrow:!1,autoFocus:!0,value:de,onFocus:function(){fe(!0)},onBlur:function(){setTimeout(function(){fe(!1)},200)},options:i==null?void 0:i.map(function(U){return{label:U.last_name,value:U.id}})}),(0,l.jsx)(T.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,l.jsxs)(W.Z,{children:[(0,l.jsx)(R.Z,{onClick:function(){y==null||y(),j(de)},type:"link",size:"small",style:{width:75},children:(0,l.jsx)(o._H,{id:"operation.search"})}),(0,l.jsx)(R.Z,{type:"text",onClick:function(){y==null||y(),ne(void 0),j(void 0),V()},size:"small",style:{width:75,border:"none"},children:(0,l.jsx)(o._H,{id:"operation.reset"})})]})]})},O=B},94376:function(X,b,e){"use strict";var le=e(79625),W=e(96584),N=e(20418),R=e(64974),w=e(39190),T=e(488),h=e(22374),f=e(52454),M=["list","style"],g=function(C){var a=C.list,t=C.style,L=(0,T.Z)(C,M),o=h.useRef(null),m=h.useRef(null),Z=h.useState(void 0),A=(0,w.Z)(Z,2),l=A[0],B=A[1],O=h.useCallback(function(c,x){return c.filter(function(_,v){return v<=x}).reduce(function(_,v){return _+=v.boundingClientRect.width},0)},[]),E=h.useCallback(function(c){var x=c.reduce(function(_,v,i){var u=v.rootBounds,s=v.target,d=u==null?void 0:u.width;if(d){var D=O(c,i),H=parseInt(getComputedStyle(s)["padding-right"])||0,te=D+H;if(d-te>0&&i===c.length||te<d-32)return _+=1}return _},0);B(x)},[]),r=h.useState(),y=(0,w.Z)(r,2),j=y[0],F=y[1];h.useEffect(function(){if(!!m.current){var c=m.current.offsetParent;if(!!c){var x=new ResizeObserver(function(_){var v=(0,R.Z)(_),i;try{for(v.s();!(i=v.n()).done;){var u=i.value;if(u.contentRect){var s=u.contentRect.width;F(s)}}}catch(d){v.e(d)}finally{v.f()}});return x.observe(c),function(){x.unobserve(c)}}}},[]),h.useEffect(function(){var c=new IntersectionObserver(E,{root:o.current});if(o.current){var x=o.current.childNodes;x.forEach(function(_){return c.observe(_)})}return function(){c.disconnect(),B(void 0)}},[a,j]);var p=h.useCallback(function(c){return c.map(function(x,_){return(0,f.jsx)(h.Fragment,{children:x},_)})},[]),n=typeof l=="number";return!a||a.length===0?(0,f.jsx)(f.Fragment,{children:"-"}):(0,f.jsxs)("div",(0,N.Z)((0,N.Z)({ref:m,style:(0,N.Z)({position:"relative",userSelect:"none"},t)},L),{},{children:[(0,f.jsx)("div",{style:{width:"100%",overflow:"hidden",opacity:0},ref:o,children:p(a)}),(0,f.jsx)("div",{style:{width:"100%",position:"absolute",left:0,right:0,top:0},children:n&&(0,f.jsxs)(f.Fragment,{children:[p(a.filter(function(c,x){return x<l})),l-a.length!=0&&(0,f.jsx)(W.Z,{color:"#fff",title:p(a.filter(function(c,x){return x>=l})),children:(0,f.jsxs)("span",{style:{color:"#8c92a4"},children:["+",a.length-l]})})]})})]}))};b.Z=g},75073:function(X,b,e){"use strict";e.d(b,{mQ:function(){return M},gM:function(){return g},nU:function(){return C}});var le=e(40204),W=e(10724),N=e(41428),R=e(97939),w,T,h,f,M=(0,R.ZP)(W.Z)(w||(w=(0,N.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .common_pagination { padding-bottom:0 ;}
`]))),g=(0,R.ZP)(M)(T||(T=(0,N.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`]))),I=(0,R.ZP)(W.Z)(h||(h=(0,N.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        padding: 0 32px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .ant-card-body{
        padding: 24px 24px 24px 0px;
    }
    .common_pagination { padding-bottom:0 ;}
`]))),C=(0,R.ZP)(I)(f||(f=(0,N.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`])))},55704:function(X,b,e){"use strict";e.d(b,{Z:function(){return u}});var le=e(67515),W=e(12238),N=e(67448),R=e(47548),w=e(69230),T=e(33821),h=e(13059),f=e(53676),M=e(88966),g=e(11048),I=e(20693),C=e(3278),a=e(53374),t=e(61674),L=e(79625),o=e(96584),m=e(35832),Z=e(81138),A=e(96146),l=e(32326),B=e(65790),O=e(17187),E=e(39190),r=e(22374),y=e(74066),j=e(22812),F=e(51937),p=e(34516),n=e(52454),c=(0,r.forwardRef)(function(s,d){var D=s||{},H=D.onChange,te=D.dataSource,S=te===void 0?[]:te,de=D.delCallback;function ne(G,oe){if(G.preventDefault(),S&&Array.isArray(S)){var $=S.filter(function(K){return K.id!==oe}),P=$.map(function(K){return K.id});H(P),de($)}}return(0,n.jsx)("div",{ref:d,children:S.map(function(G){return(0,n.jsx)(p.Z,{closable:!(S&&S.length===1),onClose:function($){return ne($,G.id)},children:G.ip},G.id)})})}),x=e(77033),_=e(65318),v=e.n(_),i=e(97207),u=(0,r.forwardRef)(function(s,d){var D,H,te=(0,j.YB)(),S=te.formatMessage,de=O.Z.useForm(),ne=(0,E.Z)(de,1),G=ne[0],oe=(0,r.useState)(!1),$=(0,E.Z)(oe,2),P=$[0],K=$[1],ie=(0,r.useState)(""),ae=(0,E.Z)(ie,2),fe=ae[0],V=ae[1],Q=(0,r.useState)(""),U=(0,E.Z)(Q,2),Y=U[0],k=U[1],z=(0,r.useState)(!1),me=(0,E.Z)(z,2),he=me[0],se=me[1],Ze=(0,r.useState)([]),ue=(0,E.Z)(Ze,2),Oe=ue[0],Pe=ue[1],Ie=(0,r.useState)([]),Me=(0,E.Z)(Ie,2),re=Me[0],ce=Me[1],pe=(0,r.useState)("common"),q=(0,E.Z)(pe,2),J=q[0],ee=q[1],De=(0,r.useState)({}),Ae=(0,E.Z)(De,2),ge=Ae[0],Ue=Ae[1],Fe=(0,r.useState)("x86_64"),We=(0,E.Z)(Fe,2),Ne=We[0],He=We[1],Re=(0,r.useMemo)(function(){return["openanolis","opensource"].includes("opensource")},[]),Ke=function(){ce([]),ee("common"),Ue({}),se(!1)},$e=function(){var Ee=(0,l.Z)((0,m.Z)().mark(function ve(ye){var _e,je,Se,xe,Te;return(0,m.Z)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.prev=0,Ce.next=3,(0,x.un)({arch:ye});case 3:_e=Ce.sent,je=_e.code,Se=_e.msg,xe=_e.data,Te=xe===void 0?[]:xe,je===200?(0,i.isString)(Te)?Pe([]):Pe(Te):A.default.error(Se||S({id:"device.failed.to.request.version"})),Ce.next=13;break;case 11:Ce.prev=11,Ce.t0=Ce.catch(0);case 13:case"end":return Ce.stop()}},ve,null,[[0,11]])}));return function(ye){return Ee.apply(this,arguments)}}();(0,r.useImperativeHandle)(d,function(){return{show:function(ve){var ye=ve.detailData,_e=ve.radio_type,je=ve.instance_id;if(se(!0),k(_e),Re){G.setFieldsValue({instance_id:je});return}var Se=ye.map(function(xe){return{ip:xe,id:xe}});ce(Se),G.setFieldsValue({ips:ye})}}});var ze=function(ve){ce(ve)},be=function(ve){ee(ve.target.value)},Ve=function(){G.validateFields().then(function(){var ve=(0,l.Z)((0,m.Z)().mark(function ye(_e){var je,Se,xe,Te,Le,Ce;return(0,m.Z)().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return K(!0),V(S({id:"device.deploying"})),Be.next=4,(0,x.Ty)(_e);case 4:je=Be.sent,Se=je.code,xe=je.msg,Te=je.data,Le=Te===void 0?{}:Te,Se===200?(Ce=Le.fail_servers)!==null&&Ce!==void 0&&Ce.length?Ue(Le):(A.default.success(S({id:"device.deploy.finish"})),G.resetFields(),Ke(),s.callback(Le)):A.default.error(xe||S({id:"device.deploy.failed"})),K(!1),V("");case 12:case"end":return Be.stop()}},ye)}));return function(ye){return ve.apply(this,arguments)}}()).catch(function(){K(!1),V("")})},Ye=function(){P||(G.resetFields(),Ke())},Ge=function(){var ve=ge.success_servers,ye=ve===void 0?[]:ve,_e=ge.fail_servers,je=_e===void 0?[]:_e,Se=ye==null?void 0:ye.map(function(xe){return xe.ip}).join(" / ");return(0,n.jsxs)("div",{children:[ye!=null&&ye.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{color:"#1890FF"},children:Se}),"\xA0",(0,n.jsx)(j._H,{id:"device.deploy.success"}),"\uFF1B\xA0"]}):null,je==null?void 0:je.map(function(xe){return(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{style:{color:"#F5222D"},children:xe&&xe.ip}),"\xA0",(0,n.jsx)(j._H,{id:"device.deploy.failed"}),"\xA0",(0,n.jsx)(o.Z,{placement:"bottomLeft",title:xe&&xe.msg,children:(0,n.jsx)("a",{children:(0,n.jsx)(j._H,{id:"view.details"})})})]},xe.ip)})]})},Qe=function(){Ue({})},Je=function(){return Re?"active":Y==="cloudManage"?"passive":"active"};return(0,r.useEffect)(function(){he&&$e(Ne)},[he,Ne]),(0,n.jsx)("div",{children:(0,n.jsx)(W.Z,{className:v().DeployModal_root,title:S({id:"agent.deploy.btn"}),open:he,maskClosable:!1,width:460,confirmLoading:P,closable:!P,onOk:Ve,onCancel:Ye,children:(0,n.jsxs)(R.Z,{tip:fe,spinning:P,children:[(D=ge.success_servers)!==null&&D!==void 0&&D.length||(H=ge.fail_servers)!==null&&H!==void 0&&H.length?(0,n.jsx)("div",{className:v().Alert,children:(0,n.jsx)(t.Z,{message:Ge(),type:"info",showIcon:!0,closable:!0,onClose:Qe})}):null,(0,n.jsxs)(O.Z,{form:G,layout:"vertical",initialValues:{channel:"common",mode:Je(),user:"root",arch:"x86_64"},children:[!Re&&(0,n.jsx)(O.Z.Item,{label:"IP",name:"ips",rules:[{required:!0,message:S({id:"DeployModal.ids.message"})}],children:(0,n.jsx)(c,{dataSource:re,delCallback:ze})}),Re&&(0,n.jsx)(O.Z.Item,{label:"InstanceID",name:"instance_id",children:(0,n.jsx)(C.Z,{disabled:!0})}),!Re&&(0,n.jsx)(O.Z.Item,{label:(0,n.jsx)(j._H,{id:"device.deploy.mode"}),name:"channel",children:(0,n.jsxs)(g.ZP.Group,{onChange:be,children:[(0,n.jsx)(g.ZP,{value:"common",children:(0,n.jsx)(j._H,{id:"device.deploy.mode.common"})}),!Re&&Y!=="cloudManage"&&(0,n.jsx)(g.ZP,{value:null,children:S({id:"device.deploy.mode.self_agent"},{data:null})})]})}),(0,n.jsx)(O.Z.Item,{label:"Mode",name:"mode",children:(0,n.jsxs)(g.ZP.Group,{children:[(0,n.jsxs)(g.ZP,{value:"active",children:["active",(0,n.jsx)(f.Z,{placement:"topLeft",content:(0,n.jsx)(j._H,{id:"device.mode.active"}),children:(0,n.jsx)(y.Z,{style:{opacity:.65,marginLeft:2}})})]}),(0,n.jsxs)(g.ZP,{value:"passive",children:["passive",(0,n.jsx)(f.Z,{placement:"topLeft",content:(0,n.jsx)(j._H,{id:"device.mode.passive"}),children:(0,n.jsx)(y.Z,{style:{opacity:.65,marginLeft:2}})})]})]})}),(0,n.jsx)(O.Z.Item,{label:"arch",name:"arch",required:!0,children:(0,n.jsxs)(T.Z,{onSelect:function(ve){return He(ve)},children:[(0,n.jsx)(T.Z.Option,{value:"x86_64",children:"x86_64"}),(0,n.jsx)(T.Z.Option,{value:"aarch64",children:"aarch64"})]})}),(0,n.jsx)(O.Z.Item,{label:(0,n.jsx)(j._H,{id:"agent.modal.Version"}),name:"version",rules:[{required:!0,message:S({id:"please.select"})}],children:(0,n.jsx)(T.Z,{placeholder:S({id:"please.select"}),showSearch:!0,optionFilterProp:"children",filterOption:function(ve,ye){return ye.children.toLowerCase().indexOf(ve.toLowerCase())>=0},children:Oe==null?void 0:Oe.map(function(Ee){return(0,n.jsx)(T.Z.Option,{value:Ee.version,children:Ee.version},Ee.id)})})}),!Re&&J==="common"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.Z.Item,{label:"User",name:"user",rules:[{required:!1,max:20,message:S({id:"device.user.message"})}],children:(0,n.jsx)(C.Z,{placeholder:S({id:"please.enter"}),autoComplete:"off"})}),(0,n.jsx)(O.Z.Item,{label:"Password",name:"password",children:(0,n.jsx)(C.Z.Password,{placeholder:S({id:"please.enter"})})})]})]})]})})})})},77740:function(X,b,e){"use strict";var le=e(67515),W=e(12238),N=e(57359),R=e(34423),w=e(31650),T=e(25100),h=e(46721),f=e(94867),M=e(39190),g=e(22374),I=e(22812),C=e(46601),a=e(52454),t=function(o,m){var Z=(0,I.YB)(),A=o.onOk,l=g.useState(!1),B=(0,M.Z)(l,2),O=B[0],E=B[1],r=g.useState([]),y=(0,M.Z)(r,2),j=y[0],F=y[1],p=g.useState(""),n=(0,M.Z)(p,2),c=n[0],x=n[1],_=function(){E(!1),x(""),F([])},v=function(){_()},i=function(){A==null||A(j),v()};return g.useEffect(function(){return function(){_()}},[]),g.useImperativeHandle(m,function(){return{show:function(s,d){x(d),F(s),E(!0)}}}),(0,a.jsx)(W.Z,{title:(0,a.jsx)(I._H,{id:"delete.tips"}),centered:!0,open:O,onCancel:v,footer:[(0,a.jsx)(f.Z,{onClick:i,children:(0,a.jsx)(I._H,{id:"operation.confirm.delete"})},"submit"),(0,a.jsx)(f.Z,{type:"primary",onClick:v,children:(0,a.jsx)(I._H,{id:"operation.cancel"})},"back")],width:300,children:(0,a.jsxs)(R.Z,{children:[(0,a.jsx)(T.Z.Text,{type:"danger",children:(0,a.jsx)(C.Z,{})}),(0,a.jsx)(T.Z.Text,{type:"danger",children:Z.formatMessage({id:"device.delete.prompt"},{data:c})})]})})};b.Z=g.forwardRef(t)},42847:function(X,b,e){"use strict";var le=e(46721),W=e(94867),N=e(8281),R=e(58591),w=e(57359),T=e(34423),h=e(38519),f=e(16416),M=e(39190),g=e(22374),I=e(22812),C=e(1398),a=e.n(C),t=e(52454),L=function(m){var Z=m.list,A=m.confirm,l=m.onConfirm,B=(0,g.useState)([]),O=(0,M.Z)(B,2),E=O[0],r=O[1],y=(0,g.useState)(!1),j=(0,M.Z)(y,2),F=j[0],p=j[1],n=(0,g.useState)(!1),c=(0,M.Z)(n,2),x=c[0],_=c[1],v=function(d){_(!!d.length&&d.length<Z.length),r(d),p(d.length===Z.length)},i=Z.map(function(s){return s.id}),u=function(d){r(d.target.checked?i:[]),p(d.target.checked),_(!1)};return g.useEffect(function(){return function(){r([]),p(!1),_(!1)}},[]),(0,t.jsxs)("div",{className:a().filter,children:[(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",maxHeight:280,overflow:"auto"},children:(0,t.jsxs)(T.Z,{style:{paddingLeft:8,paddingRight:8},direction:"vertical",size:4,children:[(0,t.jsx)(f.Z,{indeterminate:x,className:a().domain,onChange:u,checked:F,children:(0,t.jsx)(I._H,{id:"operation.select.all"})}),(0,t.jsx)(f.Z.Group,{onChange:v,value:E,children:(0,t.jsx)(T.Z,{direction:"vertical",size:4,children:Z.map(function(s){return(0,t.jsx)(f.Z,{className:a().domain,value:s.id,children:s.name},s.id)})})})]})}),(0,t.jsx)(R.Z,{style:{margin:"10px 0"}}),(0,t.jsxs)("div",{className:a().confirm,children:[(0,t.jsx)(W.Z,{size:"small",type:"link",onClick:function(){A==null||A();var d=E&&E.join(",");l(d)},children:(0,t.jsx)(I._H,{id:"operation.ok"})}),(0,t.jsx)(W.Z,{size:"small",type:"text",onClick:function(){A==null||A(),r([]),l(void 0),p(!1),_(!1)},children:(0,t.jsx)(I._H,{id:"operation.reset"})})]})]})};b.Z=L},61674:function(X,b,e){"use strict";e.d(b,{Z:function(){return _}});var le=e(29700),W=e(85628),N=e(77335),R=e(5888),w=e(38755),T=e(11273),h=e(90770),f=e(53770),M=e(13598),g=e(46601),I=e(25407),C=e(51767),a=e(68591),t=e.n(a),L=e(51572),o=e(22374),m=e(53532),Z=e(24875),A=e(83325),l=e(52318),B=e(31279),O=e(31762),E=e(51129),r=function(v){(0,O.Z)(u,v);var i=(0,E.Z)(u);function u(){var s;return(0,l.Z)(this,u),s=i.apply(this,arguments),s.state={error:void 0,info:{componentStack:""}},s}return(0,B.Z)(u,[{key:"componentDidCatch",value:function(d,D){this.setState({error:d,info:D})}},{key:"render",value:function(){var d=this.props,D=d.message,H=d.description,te=d.children,S=this.state,de=S.error,ne=S.info,G=ne&&ne.componentStack?ne.componentStack:null,oe=typeof D=="undefined"?(de||"").toString():D,$=typeof H=="undefined"?G:H;return de?o.createElement(_,{type:"error",message:oe,description:o.createElement("pre",null,$)}):te}}]),u}(o.Component),y=r,j=function(v,i){var u={};for(var s in v)Object.prototype.hasOwnProperty.call(v,s)&&i.indexOf(s)<0&&(u[s]=v[s]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(v);d<s.length;d++)i.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(v,s[d])&&(u[s[d]]=v[s[d]]);return u},F={success:R.Z,info:I.Z,error:T.Z,warning:M.Z},p={success:w.Z,info:C.Z,error:h.Z,warning:g.Z},n=function(i){var u=i.description,s=i.icon,d=i.prefixCls,D=i.type,H=(u?p:F)[D]||null;return s?(0,A.wm)(s,o.createElement("span",{className:"".concat(d,"-icon")},s),function(){return{className:t()("".concat(d,"-icon"),(0,N.Z)({},s.props.className,s.props.className))}}):o.createElement(H,{className:"".concat(d,"-icon")})},c=function(i){var u=i.isClosable,s=i.closeText,d=i.prefixCls,D=i.closeIcon,H=i.handleClose;return u?o.createElement("button",{type:"button",onClick:H,className:"".concat(d,"-close-icon"),tabIndex:0},s?o.createElement("span",{className:"".concat(d,"-close-text")},s):D):null},x=function(i){var u,s=i.description,d=i.prefixCls,D=i.message,H=i.banner,te=i.className,S=te===void 0?"":te,de=i.style,ne=i.onMouseEnter,G=i.onMouseLeave,oe=i.onClick,$=i.afterClose,P=i.showIcon,K=i.closable,ie=i.closeText,ae=i.closeIcon,fe=ae===void 0?o.createElement(f.Z,null):ae,V=i.action,Q=j(i,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),U=o.useState(!1),Y=(0,W.Z)(U,2),k=Y[0],z=Y[1],me=o.useRef(),he=o.useContext(m.E_),se=he.getPrefixCls,Ze=he.direction,ue=se("alert",d),Oe=function(J){var ee;z(!0),(ee=Q.onClose)===null||ee===void 0||ee.call(Q,J)},Pe=function(){var J=Q.type;return J!==void 0?J:H?"warning":"info"},Ie=ie?!0:K,Me=Pe(),re=H&&P===void 0?!0:P,ce=t()(ue,"".concat(ue,"-").concat(Me),(u={},(0,N.Z)(u,"".concat(ue,"-with-description"),!!s),(0,N.Z)(u,"".concat(ue,"-no-icon"),!re),(0,N.Z)(u,"".concat(ue,"-banner"),!!H),(0,N.Z)(u,"".concat(ue,"-rtl"),Ze==="rtl"),u),S),pe=(0,Z.Z)(Q);return o.createElement(L.Z,{visible:!k,motionName:"".concat(ue,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(J){return{maxHeight:J.offsetHeight}},onLeaveEnd:$},function(q){var J=q.className,ee=q.style;return o.createElement("div",(0,le.Z)({ref:me,"data-show":!k,className:t()(ce,J),style:(0,le.Z)((0,le.Z)({},de),ee),onMouseEnter:ne,onMouseLeave:G,onClick:oe,role:"alert"},pe),re?o.createElement(n,{description:s,icon:Q.icon,prefixCls:ue,type:Me}):null,o.createElement("div",{className:"".concat(ue,"-content")},D?o.createElement("div",{className:"".concat(ue,"-message")},D):null,s?o.createElement("div",{className:"".concat(ue,"-description")},s):null),V?o.createElement("div",{className:"".concat(ue,"-action")},V):null,o.createElement(c,{isClosable:!!Ie,closeText:ie,prefixCls:ue,closeIcon:fe,handleClose:Oe}))})};x.ErrorBoundary=y;var _=x},91959:function(X,b,e){"use strict";e.d(b,{Z:function(){return C}});var le,W=new Uint8Array(16);function N(){if(!le&&(le=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!le))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return le(W)}var R=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function w(a){return typeof a=="string"&&R.test(a)}for(var T=w,h=[],f=0;f<256;++f)h.push((f+256).toString(16).substr(1));function M(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=(h[a[t+0]]+h[a[t+1]]+h[a[t+2]]+h[a[t+3]]+"-"+h[a[t+4]]+h[a[t+5]]+"-"+h[a[t+6]]+h[a[t+7]]+"-"+h[a[t+8]]+h[a[t+9]]+"-"+h[a[t+10]]+h[a[t+11]]+h[a[t+12]]+h[a[t+13]]+h[a[t+14]]+h[a[t+15]]).toLowerCase();if(!T(L))throw TypeError("Stringified UUID is invalid");return L}var g=M;function I(a,t,L){a=a||{};var o=a.random||(a.rng||N)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){L=L||0;for(var m=0;m<16;++m)t[L+m]=o[m];return t}return g(o)}var C=I}}]);
