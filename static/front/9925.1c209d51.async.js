(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[9925],{43163:function(D,h,e){"use strict";e.d(h,{Z:function(){return v}});var f=e(45972),l=e(22374),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},O=M,P=e(25078),o=function(E,g){return l.createElement(P.Z,(0,f.Z)((0,f.Z)({},E),{},{ref:g,icon:O}))};o.displayName="StarFilled";var v=l.forwardRef(o)},72053:function(D,h,e){"use strict";e.d(h,{Z:function(){return v}});var f=e(45972),l=e(22374),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"},O=M,P=e(25078),o=function(E,g){return l.createElement(P.Z,(0,f.Z)((0,f.Z)({},E),{},{ref:g,icon:O}))};o.displayName="StarOutlined";var v=l.forwardRef(o)},99193:function(D,h,e){"use strict";e.d(h,{Z:function(){return v}});var f=e(45972),l=e(22374),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},O=M,P=e(25078),o=function(E,g){return l.createElement(P.Z,(0,f.Z)((0,f.Z)({},E),{},{ref:g,icon:O}))};o.displayName="UpOutlined";var v=l.forwardRef(o)},66503:function(D){D.exports={table_question_tooltip:"table_question_tooltip___2k4VQ"}},69183:function(D){D.exports={cover:"cover___3PIkw"}},41170:function(D){D.exports={popover_group:"popover_group___j2Kz6",job_compare:"job_compare___3XF0q",title:"title___3eiur",job_card:"job_card___1MV_c",job_index:"job_index___24peF",job_detail:"job_detail___37loK",job_id:"job_id___6_EU3",job_creator:"job_creator___3dH-U",remove_active:"remove_active___1zgwl",remove:"remove___i7J9x",job_delete:"job_delete___2EJje",job_group:"job_group___3L14X",job_group_title:"job_group_title___crAIG",job_item:"job_item___2Yq-b",job_item_span:"job_item_span___31i5J",delete:"delete___3vces",operate:"operate___264-O",popover_job:"popover_job___TPuXS",hrefUrl:"hrefUrl___fKrDG",row_table:"row_table___fqOAE",question_icon:"question_icon___39kbo"}},80873:function(D,h,e){"use strict";e.d(h,{f:function(){return u}});var f=e(57359),l=e(34423),M=e(20418),O=e(79625),P=e(96584),o=e(488),v=e(22374),y=e(66503),E=e.n(y),g=e(74066),i=e(52454),U=["desc","title"],u=function(L){var R=L.desc,V=L.title,J=(0,o.Z)(L,U);return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:V}),(0,i.jsx)(P.Z,(0,M.Z)((0,M.Z)({overlayClassName:E().table_question_tooltip,placement:"bottomLeft",arrowPointAtCenter:!0},J),{},{title:R,color:"#fff",children:(0,i.jsx)(g.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})}))]})}},22911:function(D,h,e){"use strict";e.d(h,{Z:function(){return Q}});var f=e(57359),l=e(34423),M=e(46721),O=e(94867),P=e(8281),o=e(58591),v=e(69230),y=e(33821),E=e(67448),g=e(47548),i=e(35832),U=e(32326),u=e(39190),p=e(22374),L=e(24812),R=e(22812);function V(S){return(0,R.WY)("/api/auth/user/",{params:S})}var J=e(69183),ce=e.n(J),j=e(52454),G=function(T){var x=T.confirm,_=T.onConfirm,X=T.value,me=T.page_size,t=T.mode,fe=t===void 0?"multiple":t,Z=(0,L.UO)(),ve=Z.ws_id,Ee=(0,p.useState)([]),Y=(0,u.Z)(Ee,2),W=Y[0],pe=Y[1],I=(0,p.useState)(),k=(0,u.Z)(I,2),$=k[0],he=k[1],q=(0,p.useState)(),w=(0,u.Z)(q,2),ee=w[0],te=w[1],ne=(0,p.useState)(!0),b=(0,u.Z)(ne,2),re=b[0],oe=b[1],ae=(0,p.useState)(!1),C=(0,u.Z)(ae,2),se=C[0],le=C[1],B=function(){var c=(0,U.Z)((0,i.Z)().mark(function F(z){var K,N,H;return(0,i.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(K=z&&z.replace(/\s*/g,""),!($&&$==K)){A.next=3;break}return A.abrupt("return");case 3:return he(K),oe(!0),A.next=7,V({ws_id:ve,keyword:K,page_size:me||10,page_num:1});case 7:N=A.sent,H=N.data,pe(Array.isArray(H)?H:[]),oe(!1);case 11:case"end":return A.stop()}},F)}));return function(z){return c.apply(this,arguments)}}();(0,p.useEffect)(function(){B()},[]);var ie=function(){B()};return(0,j.jsxs)("div",{style:{padding:8},children:[(0,j.jsx)("div",{className:ce().cover,onClick:function(){se||x==null||x()}}),(0,j.jsx)(y.Z,{mode:fe,allowClear:!0,notFoundContent:re?(0,j.jsx)(g.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:B,style:{width:"100%"},onChange:function(F){return te(F)},onDeselect:ie,onClear:ie,showArrow:!1,autoFocus:!0,value:ee,onFocus:function(){le(!0)},onBlur:function(){setTimeout(function(){le(!1)},200)},options:W==null?void 0:W.map(function(c){return{label:c.last_name,value:c.id}})}),(0,j.jsx)(o.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(O.Z,{onClick:function(){x==null||x(),_(ee)},type:"link",size:"small",style:{width:75},children:(0,j.jsx)(R._H,{id:"operation.search"})}),(0,j.jsx)(O.Z,{type:"text",onClick:function(){x==null||x(),te(void 0),_(void 0),B()},size:"small",style:{width:75,border:"none"},children:(0,j.jsx)(R._H,{id:"operation.reset"})})]})]})},Q=G},20038:function(D,h,e){"use strict";var f=e(13059),l=e(53676),M=e(46721),O=e(94867),P=e(31650),o=e(25100),v=e(11407),y=e(41604),E=e(35832),g=e(32326),i=e(20418),U=e(39190),u=e(22374),p=e(41170),L=e.n(p),R=e(28972),V=e(44851),J=e.n(V),ce=e(12590),j=e(22911),G=e(31784),Q=e(39881),S=e(22812),T=e(24812),x=e(97207),_=e.n(x),X=e(6130),me=e(89689),t=e(52454),fe={container:245,button_width:122};h.Z=function(Z){var ve=(0,S.YB)(),Ee=ve.formatMessage,Y=(0,T.UO)(),W=Y.ws_id,pe=Z.dreType,I=Z.jobInfo,k=Z.origin,$=Z.buttonStyle,he=$===void 0?{}:$,q=Z.title,w=I&&I.report_li,ee={name:"",creator_name:""},te=(0,u.useState)(!0),ne=(0,U.Z)(te,2),b=ne[0],re=ne[1],oe=(0,u.useState)(ee),ae=(0,U.Z)(oe,2),C=ae[0],se=ae[1],le=(0,u.useState)([]),B=(0,U.Z)(le,2),ie=B[0],c=B[1],F=(0,u.useState)(!1),z=(0,U.Z)(F,2),K=z[0],N=z[1],H=u.useRef(null);(0,me.Z)(function(){N(!1)},[H]);var _e=function(n,r){var s=_().cloneDeep(r);return n&&(s=s.filter(function(d){var a=n.split(",").map(function(ue){return ue&&(ue==null?void 0:ue.trim())}),je=_().get(d,"creator");return a.includes(String(je))})),s},A=function(n,r){var s=_().cloneDeep(r);return n&&(s=s.filter(function(d){var a=_().get(d,"name");return a.includes(n.trim())})),s},De=function(n,r){var s=n||"";_().isArray(s)&&(s=s.join(","));var d={};d[r]=s;var a=_().cloneDeep(w);s===""?a=A(C.name||"",a):(a=A(C.name||"",a),a=_e(s,a)),c(a),se((0,i.Z)((0,i.Z)({},C),d))},Me=[{dataIndex:"name",title:(0,t.jsx)(S._H,{id:"ws.result.list.report.name"}),width:165,ellipsis:{showTitle:!1},className:"report_name_hover",filterDropdown:function(n){var r=n.confirm;return(0,t.jsx)(ce.Z,{confirm:r,autoFocus:b,styleObj:fe,onConfirm:function(d){var a=_().cloneDeep(w);d===void 0?a=_e(C.creator_name||"",a):(a=_e(C.creator_name||"",a),a=A(d,a)),c(a),se((0,i.Z)((0,i.Z)({},C),{},{name:d}))},placeholder:Ee({id:"ws.result.list.report.name.placeholder"})})},onFilterDropdownVisibleChange:function(n){n&&re(!b)},filterIcon:function(){return(0,t.jsx)(G.Z,{style:{color:C.name?"#1890ff":void 0}})},render:function(n,r){return(0,t.jsx)(X.K,{ellipsis:{tooltip:r.name},children:(0,t.jsx)(J(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[C.name||""],autoEscape:!0,textToHighlight:r&&r.name||"-",onClick:function(){return window.open("/ws/".concat(W,"/test_report/").concat(r.id))}})})}},{dataIndex:"creator_name",width:100,title:(0,t.jsx)(S._H,{id:"ws.result.list.creators"}),filterDropdown:function(n){var r=n.confirm;return(0,t.jsx)(j.Z,{autoFocus:b,confirm:r,onConfirm:function(d){return De(d,"creator_name")},page_size:20})},onFilterDropdownVisibleChange:function(n){n&&re(!b)},filterIcon:function(){return(0,t.jsx)(G.Z,{style:{color:C.creator_name?"#1890ff":void 0}})},render:function(n){return(0,t.jsx)(X.K,{ellipsis:{tooltip:!0},children:n||"-"})}},{dataIndex:"gmt_created",title:(0,t.jsx)(S._H,{id:"ws.result.list.gmt_created"}),width:200,render:function(n){return(0,t.jsx)(X.K,{ellipsis:{tooltip:!0},children:n||"-"})}}],Pe=function(){var m=(0,g.Z)((0,E.Z)().mark(function n(r){return(0,E.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:window.open("/ws/".concat(W,"/test_report/").concat(r));case 1:case"end":return d.stop()}},n)}));return function(r){return m.apply(this,arguments)}}(),Oe=function(n,r){if(n.stopPropagation(),_().isArray(r)||(r=[]),r.length===1){Pe(r[0].id);return}N(!K),c(r)},ge=function(n){return(0,t.jsx)("div",{ref:H,children:(0,t.jsx)(R.$B,{style:{height:244},children:(0,t.jsx)(y.Z,{size:"small",rowKey:"id",columns:Me,dataSource:n,pagination:!1,rowClassName:L().row_table})})})},de=_().get(I,"report_li")&&I.report_li.length;return(0,t.jsx)("div",{className:L().conf_item_box,children:(0,t.jsx)(l.Z,{placement:pe,title:(0,t.jsx)(S._H,{id:"ws.result.list.view.report"}),content:ge(ie),trigger:"click",overlayClassName:L().popover_job,open:K,children:k==="jobList"?(0,t.jsx)(o.Z.Text,{style:{color:"#1890FF",cursor:"pointer",display:de?"inlineBlock":"none"},children:(0,t.jsxs)("span",{onClick:_().partial(Oe,_(),I&&I.report_li),style:{display:"flex",alignItems:"center"},children:[q||(0,t.jsx)(S._H,{id:"ws.result.list.view.report"}),(0,t.jsx)(Q.Z,{style:{display:de>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})}):(0,t.jsxs)(O.Z,{type:"primary",onClick:_().partial(Oe,_(),I&&I.report_li),style:(0,i.Z)({marginRight:8,display:de?"inlineBlock":"none"},he),children:[q||(0,t.jsx)(S._H,{id:"ws.result.list.view.report"}),(0,t.jsx)(Q.Z,{style:{display:de>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})})})}},89689:function(D,h,e){"use strict";e.d(h,{Z:function(){return O}});var f=e(22374),l=e(23101),M="click";function O(P,o,v){v===void 0&&(v=M);var y=(0,f.useRef)(P);y.current=P,(0,f.useEffect)(function(){var E=function(i){var U=Array.isArray(o)?o:[o];U.some(function(u){var p=(0,l.n)(u);return!p||(p==null?void 0:p.contains(i.target))})||y.current(i)};return document.addEventListener(v,E),function(){document.removeEventListener(v,E)}},[o,v])}}}]);
