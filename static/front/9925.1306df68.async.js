(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[9925],{43163:function(D,p,e){"use strict";e.d(p,{Z:function(){return f}});var m=e(45972),l=e(22374),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},h=M,P=e(25078),o=function(v,g){return l.createElement(P.Z,(0,m.Z)((0,m.Z)({},v),{},{ref:g,icon:h}))};o.displayName="StarFilled";var f=l.forwardRef(o)},72053:function(D,p,e){"use strict";e.d(p,{Z:function(){return f}});var m=e(45972),l=e(22374),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"},h=M,P=e(25078),o=function(v,g){return l.createElement(P.Z,(0,m.Z)((0,m.Z)({},v),{},{ref:g,icon:h}))};o.displayName="StarOutlined";var f=l.forwardRef(o)},99193:function(D,p,e){"use strict";e.d(p,{Z:function(){return f}});var m=e(45972),l=e(22374),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},h=M,P=e(25078),o=function(v,g){return l.createElement(P.Z,(0,m.Z)((0,m.Z)({},v),{},{ref:g,icon:h}))};o.displayName="UpOutlined";var f=l.forwardRef(o)},66503:function(D){D.exports={table_question_tooltip:"table_question_tooltip___2k4VQ"}},69183:function(D){D.exports={cover:"cover___3PIkw"}},41170:function(D){D.exports={popover_group:"popover_group___j2Kz6",job_compare:"job_compare___3XF0q",title:"title___3eiur",job_card:"job_card___1MV_c",job_index:"job_index___24peF",job_detail:"job_detail___37loK",job_id:"job_id___6_EU3",job_creator:"job_creator___3dH-U",remove_active:"remove_active___1zgwl",remove:"remove___i7J9x",job_delete:"job_delete___2EJje",job_group:"job_group___3L14X",job_group_title:"job_group_title___crAIG",job_item:"job_item___2Yq-b",job_item_span:"job_item_span___31i5J",delete:"delete___3vces",operate:"operate___264-O",popover_job:"popover_job___TPuXS",hrefUrl:"hrefUrl___fKrDG",row_table:"row_table___fqOAE",question_icon:"question_icon___39kbo"}},80873:function(D,p,e){"use strict";e.d(p,{f:function(){return u}});var m=e(57359),l=e(34423),M=e(20418),h=e(79625),P=e(96584),o=e(488),f=e(22374),C=e(66503),v=e.n(C),g=e(74066),i=e(52454),S=["desc","title"],u=function(L){var T=L.desc,z=L.title,H=(0,o.Z)(L,S);return(0,i.jsxs)(l.Z,{children:[(0,i.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:z}),(0,i.jsx)(P.Z,(0,M.Z)((0,M.Z)({overlayClassName:v().table_question_tooltip,placement:"bottomLeft",arrowPointAtCenter:!0},H),{},{title:T,color:"#fff",children:(0,i.jsx)(g.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})}))]})}},22911:function(D,p,e){"use strict";e.d(p,{Z:function(){return te}});var m=e(57359),l=e(34423),M=e(46721),h=e(94867),P=e(8281),o=e(58591),f=e(69230),C=e(33821),v=e(67448),g=e(47548),i=e(35832),S=e(32326),u=e(39190),E=e(22374),L=e(24812),T=e(22812);function z(I){return(0,T.WY)("/api/auth/user/",{params:I})}var H=e(69183),de=e.n(H),j=e(52454),ee=function(B){var y=B.confirm,_=B.onConfirm,V=B.page_size,ne=B.mode,n=ne===void 0?"multiple":ne,ue=(0,L.UO)(),Z=ue.ws_id,ce=(0,E.useState)([]),re=(0,u.Z)(ce,2),J=re[0],oe=re[1],me=(0,E.useState)(),x=(0,u.Z)(me,2),se=x[0],ae=x[1],fe=(0,E.useState)(),$=(0,u.Z)(fe,2),w=$[0],le=$[1],ve=(0,E.useState)(!0),N=(0,u.Z)(ve,2),K=N[0],G=N[1],Ee=(0,E.useState)(!1),Q=(0,u.Z)(Ee,2),A=Q[0],X=Q[1],W=function(){var O=(0,S.Z)((0,i.Z)().mark(function R(k){var b,q,F;return(0,i.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(b=k&&k.replace(/\s*/g,""),!(se&&se==b)){U.next=3;break}return U.abrupt("return");case 3:return ae(b),G(!0),U.next=7,z({ws_id:Z,keyword:b,page_size:V||10,page_num:1});case 7:q=U.sent,F=q.data,oe(Array.isArray(F)?F:[]),G(!1);case 11:case"end":return U.stop()}},R)}));return function(k){return O.apply(this,arguments)}}();(0,E.useEffect)(function(){W()},[]);var Y=function(){W()};return(0,j.jsxs)("div",{style:{padding:8},children:[(0,j.jsx)("div",{className:de().cover,onClick:function(){A||y==null||y()}}),(0,j.jsx)(C.Z,{mode:n,allowClear:!0,notFoundContent:K?(0,j.jsx)(g.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:W,style:{width:"100%"},onChange:function(R){return le(R)},onDeselect:Y,onClear:Y,showArrow:!1,autoFocus:!0,value:w,onFocus:function(){X(!0)},onBlur:function(){setTimeout(function(){X(!1)},200)},options:J==null?void 0:J.map(function(O){return{label:O.last_name,value:O.id}})}),(0,j.jsx)(o.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,j.jsxs)(l.Z,{children:[(0,j.jsx)(h.Z,{onClick:function(){y==null||y(),_(w)},type:"link",size:"small",style:{width:75},children:(0,j.jsx)(T._H,{id:"operation.search"})}),(0,j.jsx)(h.Z,{type:"text",onClick:function(){y==null||y(),le(void 0),_(void 0),W()},size:"small",style:{width:75,border:"none"},children:(0,j.jsx)(T._H,{id:"operation.reset"})})]})]})},te=ee},20038:function(D,p,e){"use strict";var m=e(13059),l=e(53676),M=e(46721),h=e(94867),P=e(31650),o=e(25100),f=e(11407),C=e(68077),v=e(35832),g=e(32326),i=e(20418),S=e(39190),u=e(22374),E=e(41170),L=e.n(E),T=e(28972),z=e(44851),H=e.n(z),de=e(12590),j=e(22911),ee=e(31784),te=e(39881),I=e(22812),B=e(24812),y=e(97207),_=e.n(y),V=e(6130),ne=e(89689),n=e(52454),ue={container:245,button_width:122};p.Z=function(Z){var ce=(0,I.YB)(),re=ce.formatMessage,J=(0,B.UO)(),oe=J.ws_id,me=Z.dreType,x=Z.jobInfo,se=Z.origin,ae=Z.buttonStyle,fe=ae===void 0?{}:ae,$=Z.title,w=x&&x.report_li,le={name:"",creator_name:""},ve=(0,u.useState)(!0),N=(0,S.Z)(ve,2),K=N[0],G=N[1],Ee=(0,u.useState)(le),Q=(0,S.Z)(Ee,2),A=Q[0],X=Q[1],W=(0,u.useState)([]),Y=(0,S.Z)(W,2),O=Y[0],R=Y[1],k=(0,u.useState)(!1),b=(0,S.Z)(k,2),q=b[0],F=b[1],pe=u.useRef(null);(0,ne.Z)(function(){F(!1)},[pe]);var U=function(t,r){var a=_().cloneDeep(r);return t&&(a=a.filter(function(d){var s=t.split(",").map(function(_e){return _e&&(_e==null?void 0:_e.trim())}),je=_().get(d,"creator");return s.includes(String(je))})),a},he=function(t,r){var a=_().cloneDeep(r);return t&&(a=a.filter(function(d){var s=_().get(d,"name");return s.includes(t.trim())})),a},De=function(t,r){var a=t||"";_().isArray(a)&&(a=a.join(","));var d={};d[r]=a;var s=_().cloneDeep(w);a===""?s=he(A.name||"",s):(s=he(A.name||"",s),s=U(a,s)),R(s),X((0,i.Z)((0,i.Z)({},A),d))},Me=[{dataIndex:"name",title:(0,n.jsx)(I._H,{id:"ws.result.list.report.name"}),width:165,ellipsis:{showTitle:!1},className:"report_name_hover",filterDropdown:function(t){var r=t.confirm;return(0,n.jsx)(de.Z,{confirm:r,autoFocus:K,styleObj:ue,onConfirm:function(d){var s=_().cloneDeep(w);d===void 0?s=U(A.creator_name||"",s):(s=U(A.creator_name||"",s),s=he(d,s)),R(s),X((0,i.Z)((0,i.Z)({},A),{},{name:d}))},placeholder:re({id:"ws.result.list.report.name.placeholder"})})},onFilterDropdownVisibleChange:function(t){t&&G(!K)},filterIcon:function(){return(0,n.jsx)(ee.Z,{style:{color:A.name?"#1890ff":void 0}})},render:function(t,r){return(0,n.jsx)(V.K,{ellipsis:{tooltip:r.name},children:(0,n.jsx)(H(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[A.name||""],autoEscape:!0,textToHighlight:r&&r.name||"-",onClick:function(){return window.open("/ws/".concat(oe,"/test_report/").concat(r.id))}})})}},{dataIndex:"creator_name",width:100,title:(0,n.jsx)(I._H,{id:"ws.result.list.creators"}),filterDropdown:function(t){var r=t.confirm;return(0,n.jsx)(j.Z,{autoFocus:K,confirm:r,onConfirm:function(d){return De(d,"creator_name")},page_size:20})},onFilterDropdownVisibleChange:function(t){t&&G(!K)},filterIcon:function(){return(0,n.jsx)(ee.Z,{style:{color:A.creator_name?"#1890ff":void 0}})},render:function(t){return(0,n.jsx)(V.K,{ellipsis:{tooltip:!0},children:t||"-"})}},{dataIndex:"gmt_created",title:(0,n.jsx)(I._H,{id:"ws.result.list.gmt_created"}),width:200,render:function(t){return(0,n.jsx)(V.K,{ellipsis:{tooltip:!0},children:t||"-"})}}],Pe=function(){var c=(0,g.Z)((0,v.Z)().mark(function t(r){return(0,v.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:window.open("/ws/".concat(oe,"/test_report/").concat(r));case 1:case"end":return d.stop()}},t)}));return function(r){return c.apply(this,arguments)}}(),Oe=function(t,r){if(t.stopPropagation(),_().isArray(r)||(r=[]),r.length===1){Pe(r[0].id);return}F(!q),R(r)},ge=function(t){return(0,n.jsx)("div",{ref:pe,children:(0,n.jsx)(T.$B,{style:{height:244},children:(0,n.jsx)(C.Z,{size:"small",rowKey:"id",columns:Me,dataSource:t,pagination:!1,rowClassName:L().row_table})})})},ie=_().get(x,"report_li")&&x.report_li.length;return(0,n.jsx)("div",{className:L().conf_item_box,children:(0,n.jsx)(l.Z,{placement:me,title:(0,n.jsx)(I._H,{id:"ws.result.list.view.report"}),content:ge(O),trigger:"click",overlayClassName:L().popover_job,open:q,children:se==="jobList"?(0,n.jsx)(o.Z.Text,{style:{color:"#1890FF",cursor:"pointer",display:ie?"inlineBlock":"none"},children:(0,n.jsxs)("span",{onClick:_().partial(Oe,_(),x&&x.report_li),style:{display:"flex",alignItems:"center"},children:[$||(0,n.jsx)(I._H,{id:"ws.result.list.view.report"}),(0,n.jsx)(te.Z,{style:{display:ie>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})}):(0,n.jsxs)(h.Z,{type:"primary",onClick:_().partial(Oe,_(),x&&x.report_li),style:(0,i.Z)({marginRight:8,display:ie?"inlineBlock":"none"},fe),children:[$||(0,n.jsx)(I._H,{id:"ws.result.list.view.report"}),(0,n.jsx)(te.Z,{style:{display:ie>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})})})}},89689:function(D,p,e){"use strict";e.d(p,{Z:function(){return h}});var m=e(22374),l=e(23101),M="click";function h(P,o,f){f===void 0&&(f=M);var C=(0,m.useRef)(P);C.current=P,(0,m.useEffect)(function(){var v=function(i){var S=Array.isArray(o)?o:[o];S.some(function(u){var E=(0,l.n)(u);return!E||(E==null?void 0:E.contains(i.target))})||C.current(i)};return document.addEventListener(f,v),function(){document.removeEventListener(f,v)}},[o,f])}}}]);
