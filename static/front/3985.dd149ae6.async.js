(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[3985],{86252:function(Y){Y.exports={test_result_name:"test_result_name___1RBzL",test_summary_item:"test_summary_item___3-Yoh",test_summary_item_right:"test_summary_item_right___2UQVi",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___2cRIc",test_summary_job:"test_summary_job___2a2-P",test_summary_row:"test_summary_row___1zXMg",detail_collection:"detail_collection___1_th-",offline_flag:"offline_flag___3BdpH",ellips_column_refclass:"ellips_column_refclass___30H4W",tag_popover_style:"tag_popover_style___1x8MG",table_question_tooltip:"table_question_tooltip___1Ur7e",join_baseline:"join_baseline___Jgafh",select_baseline:"select_baseline___2nHPA"}},24637:function(Y,b,n){"use strict";var f=n(38519),m=n(16416),v=n(14320),O=n(53479),d=n(70772),U=n(6701),oe=n(65790),y=n(17187),P=n(39190),H=n(67515),J=n(41083),g=n(41428),C=n(22374),Z=n(97939),V=n(24812),E=n(22812),K=n(20905),S=n(39935),_=n(52454),R,w=(0,Z.ZP)(J.Z)(R||(R=(0,g.Z)([`
    .ant-modal-body {
        background-color: #f0f2f5;
        padding: 0;
    }

    .ant-form-item {
        margin-bottom: 0;
    }
`]))),I=function(r,l){var p=(0,V.UO)(),s=p.ws_id,e=y.Z.useForm(),Q=(0,P.Z)(e,1),x=Q[0],ie=(0,C.useState)(!1),G=(0,P.Z)(ie,2),le=G[0],z=G[1],k=(0,C.useState)(null),X=(0,P.Z)(k,2),j=X[0],q=X[1],_e=(0,C.useState)(!1),F=(0,P.Z)(_e,2),ue=F[0],ee=F[1],L=function(){z(!1),ee(!1),q(null),x.resetFields()},W=C.useState(null),te=(0,P.Z)(W,2),ne=te[0],re=te[1],ce=function(){x.validateFields().then(function(a){var u={};Object.keys(a).forEach(function(M){a[M]&&(u[M==="fail_case"?"suite":M]=M==="fail_case"?"fail":1)});var h=JSON.stringify(u)!=="{}"?"?".concat((0,K.stringify)(u)):"";re("/ws/".concat(s,"/test_job/").concat(j.id,"/import").concat(h)),L()})},de=function(){ne&&(0,S.N1)(ne)},c=y.Z.useWatch("fail_case",x),t=y.Z.useWatch("suite",x);return(0,C.useImperativeHandle)(l,function(){return{show:function(a){console.log(a),a&&q(a),z(!0),re(null)}}}),C.useEffect(function(){ee(t||c)},[c,t]),(0,_.jsxs)(w,{visible:le,width:487,title:(0,_.jsx)(E._H,{id:"ws.result.list.reRun.Modal.title"}),okText:(0,_.jsx)(E._H,{id:"operation.confirm"}),cancelText:(0,_.jsx)(E._H,{id:"operation.cancel"}),onOk:ce,onCancel:L,maskClosable:!1,afterClose:de,children:[(0,_.jsxs)(O.Z,{style:{backgroundColor:"#fff",height:66,marginBottom:10,paddingLeft:20},align:"middle",children:[(0,_.jsx)(U.Z,{span:4,style:{color:"rgba(0,0,0,0.85)",fontWeight:600},children:(0,_.jsx)(E._H,{id:"ws.result.list.name"})}),(0,_.jsx)(U.Z,{span:18,children:j==null?void 0:j.name})]}),(0,_.jsx)(O.Z,{style:{backgroundColor:"#fff",paddingLeft:20},align:"middle",children:(0,_.jsxs)(y.Z,{form:x,children:[(0,_.jsx)(y.Z.Item,{valuePropName:"checked",name:"suite",children:(0,_.jsx)(m.Z,{onChange:function(a){var u=a.target,h=u.checked;h?x.setFieldsValue({fail_case:!1}):x.setFieldsValue({inheriting_machine:!1})},children:(0,_.jsx)(E._H,{id:"ws.result.list.reRun.checked.suite"})})}),(j==null?void 0:j.test_type)==="\u529F\u80FD\u6D4B\u8BD5"&&(0,_.jsx)(y.Z.Item,{valuePropName:"checked",name:"fail_case",children:(0,_.jsx)(m.Z,{onChange:function(a){var u=a.target,h=u.checked;h?x.setFieldsValue({suite:!1}):x.setFieldsValue({inheriting_machine:!1})},children:(0,_.jsx)(E._H,{id:"ws.result.list.reRun.checked.fail_case"})})}),(0,_.jsx)(y.Z.Item,{valuePropName:"checked",name:"notice",children:(0,_.jsx)(m.Z,{children:(0,_.jsx)(E._H,{id:"ws.result.list.reRun.checked.notice"})})}),!["pending","pending_q"].includes(j==null?void 0:j.state)&&(0,_.jsx)(y.Z.Item,{valuePropName:"checked",name:"inheriting_machine",children:(0,_.jsx)(m.Z,{disabled:!ue,children:(0,_.jsx)(E._H,{id:"ws.result.list.reRun.checked.inheriting_machine"})})})]})})]})};b.Z=(0,C.forwardRef)(I)},78358:function(Y,b,n){"use strict";n.d(b,{gN:function(){return ie},tZ:function(){return G},yQ:function(){return le},Pc:function(){return z},cQ:function(){return j},YV:function(){return q},Nq:function(){return _e},JQ:function(){return ne},iK:function(){return re},fD:function(){return ce},QN:function(){return de}});var f=n(57359),m=n(34423),v=n(13059),O=n(53676),d=n(20418),U=n(51937),oe=n(34516),y=n(41428),P=n(70772),H=n(6701),J=n(14320),g=n(53479),C=n(79625),Z=n(96584),V=n(89963),E=n(70077),K=n(22374),S=n(86252),_=n.n(S),R=n(93329),w=n(74066),I=n(24812),i=n(22812),r=n(97939),l=n(39935),p=n(526),s=n(6130),e=n(52454),Q,x=new Map([["success","#81BF84"],["pass","#81BF84"],["running","#649FF6"],["fail","#C84C5A"]]),ie=function(t){var o=(0,I.UO)(),a=o.ws_id;return(0,e.jsxs)(E.Z,{style:{marginBottom:t.bottomHeight},children:[(0,e.jsx)(E.Z.Item,{children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return i.m8.push("/ws/".concat(a,"/test_result"))},children:(0,e.jsx)(i._H,{id:"ws.result.details.test.result"})})}),(0,e.jsx)(E.Z.Item,{children:(0,e.jsx)(i._H,{id:"ws.result.details.result.details"})})]})},G=function(t){return t==="success"||t===!0?(0,e.jsx)("span",{style:{fontWeight:500,color:"#81BF84"},children:"Success"}):t==="fail"||t===!1?(0,e.jsx)("span",{style:{fontWeight:500,color:"#C84C5A"},children:"Fail"}):t==="running"?(0,e.jsx)("span",{style:{fontWeight:500,color:"#649FF6"},children:"Running"}):t==="stop"?(0,e.jsx)("span",{style:{fontWeight:500,color:"#1D1D1D"},children:"Stop"}):t==="pending"?(0,e.jsx)("span",{style:{fontWeight:500,color:"#1D1D1D"},children:"Pending"}):t==="skip"?(0,e.jsx)("span",{style:{fontWeight:500,color:"#1D1D1D"},children:"Skip"}):(0,e.jsx)(e.Fragment,{})},le=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(a){return a?(0,e.jsx)(s.K,{ellipsis:{tooltip:!0},children:a}):t}}},z=function(t){var o=t.title,a=t.width,u=a===void 0?"100%":a,h=t.onEdit,M=t.access,D=(0,K.useRef)(),$=M?(0,e.jsx)(R.Z,{style:{marginLeft:6,cursor:"pointer"},onClick:h}):(0,e.jsx)(R.Z,{style:{marginLeft:6,cursor:"pointer"},onClick:function(){return(0,l.WR)()}});return(0,e.jsx)("div",{ref:D,style:{width:u},children:(0,e.jsxs)(g.Z,{style:{width:u},justify:"start",align:"middle",children:[(0,e.jsx)(Z.Z,{placement:"topLeft",title:o,children:(0,e.jsx)("span",{style:{maxWidth:54,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o||"-"})}),$]})})},k=function(t){return x.get(t)||"#D9D9D9"},X=function(t){var o=t.text,a=(0,i.YB)(),u=(0,p.oM)(a.formatMessage({id:"request.copy.success"}));return(0,e.jsx)("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return u(o)},children:a.formatMessage({id:"operation.copy",defaultMessage:"\u590D\u5236"})})},j=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(a){return a?(0,e.jsx)(Z.Z,{overlayClassName:_().tootip_overflow,placement:"topLeft",title:(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(H.Z,{span:24,children:a}),(0,e.jsx)(H.Z,{span:24,children:(0,e.jsx)(g.Z,{justify:"center",children:(0,e.jsx)(X,{text:a})})})]}),children:a}):t}}},q=function(t){return t==="decline"?"#C84C5A":t==="normal"?"#000000":t==="increase"?"#81BF84":""},_e=function(t,o,a){return t==="decline"?(0,e.jsx)("span",{style:{color:"#C84C5A"},children:a({id:"ws.result.details.".concat(t)})}):t==="normal"?(0,e.jsx)("span",{style:{color:"#000000"},children:a({id:"ws.result.details.".concat(t)})}):t==="increase"?(0,e.jsx)("span",{style:{color:"#81BF84"},children:a({id:"ws.result.details.".concat(t)})}):o||"-"},F=(0,r.ZP)(oe.Z)(Q||(Q=(0,y.Z)([`
    font-weight: 500;
    width: 72px;
    text-align: center;
    `,`
    text-transform: capitalize;
`])),function(c){var t=c.no_margin;return t?"margin-right: 0;":""}),ue=function(t){return(0,e.jsx)(F,(0,d.Z)({},t))},ee=function(t){var o=(0,i.YB)(),a=o.formatMessage;return(0,e.jsx)(Z.Z,{title:a({id:"ws.result.details.job_state"}),placement:"bottom",children:(0,e.jsx)(F,(0,d.Z)({},t))})},L=function(t){var o=t.title;return(0,e.jsx)(O.Z,{title:o,placement:"right",trigger:"hover",overlayClassName:_().tag_popover_style,children:(0,e.jsx)(w.Z,{style:{color:"rgba(0, 0, 0, 0.65)",verticalAlign:"middle"}})})},W=function(t){var o=t.state;return(0,e.jsx)(ue,(0,d.Z)((0,d.Z)({},t),{},{color:k(o),style:!x.get(o)&&{color:"#1d1d1d"},children:o==="success"?"complete":o}))},te=function(t){var o=t.state;return(0,e.jsx)(ee,(0,d.Z)((0,d.Z)({},t),{},{color:k(o),style:!x.get(o)&&{color:"#1d1d1d"},children:o==="success"?"complete":o}))},ne=function(t){var o=(0,i.YB)(),a=o.formatMessage,u=t.state,h=t.run_state,M=h===void 0?"":h,D=t.state_desc,$=(0,I.UO)(),A=$.ws_id;return u==="running"?D?(0,e.jsxs)(m.Z,{size:0,children:[(0,e.jsx)(W,(0,d.Z)((0,d.Z)({},t),{},{children:u})),(0,e.jsx)(L,{title:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:D.replace(/(\d+)/g,'<a href="/ws/'.concat(A,'/test_result/$1" target="_blank">$1</a>'))}})})]}):M?(0,e.jsxs)(m.Z,{size:0,children:[(0,e.jsx)(W,(0,d.Z)((0,d.Z)({},t),{},{children:u})),(0,e.jsx)(L,{title:a({id:"ws.result.details.not.assigned.server"})})]}):(0,e.jsxs)(m.Z,{size:0,children:[(0,e.jsx)(W,(0,d.Z)((0,d.Z)({},t),{},{children:u})),(0,e.jsx)(L,{title:a({id:"ws.result.details.running,please.wait"})})]}):u==="pending"&&D?(0,e.jsxs)(m.Z,{size:0,children:[(0,e.jsx)(W,(0,d.Z)((0,d.Z)({},t),{},{children:u})),(0,e.jsx)(L,{title:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:D.replace(/(\d+)/g,'<a href="/ws/'.concat(A,'/test_result/$1" target="_blank">$1</a>'))}})})]}):(0,e.jsx)(W,(0,d.Z)({},t))},re=function(t){return(0,e.jsx)(te,(0,d.Z)((0,d.Z)({},t),{},{no_margin:1}))},ce=function(t){var o=t.title,a=t.desc,u=t.placement,h=u===void 0?"bottom":u;return(0,e.jsxs)(m.Z,{children:[(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:o}),(0,e.jsx)(Z.Z,{overlayClassName:_().table_question_tooltip,placement:h,arrowPointAtCenter:!0,title:a,color:"#fff",children:(0,e.jsx)(w.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})})]})},de=function(t){var o=t.title,a=t.test_value,u=t.value_list,h=t.cv_value,M=t.max_value,D=t.min_value,$=t.metric,A=t.result,ge=(0,i.YB)(),Ee=ge.formatMessage,xe=(0,p.oM)(Ee({id:"request.copy.success"})),se=function(B){return B?new Number(B).toFixed(2):null},me=se(M),fe=se(D),pe=h,ve=se(a),ae=u.map(function(T){return se(T)}),N="".concat($," ").concat(o,`:
Avg: `).concat(ve,`
CV:  `).concat(pe);N+=me?`
Max: `.concat(me):"",N+=fe?`
Min: `.concat(fe):"",N+=ae.length?`
Test Record
`:"",N+=ae.reduce(function(T,B,je){return T.concat("(".concat(je+1,") ").concat(B,`
`))},"");var he="".concat(ve,"\xB1").concat(pe),ye=function(){return A==="decline"?(0,e.jsx)("span",{className:_().result_popover_span,style:{color:"#C84C5A"},children:he}):A==="increase"?(0,e.jsx)("span",{className:_().result_popover_span,style:{color:"#81BF84"},children:he}):(0,e.jsx)("span",{className:_().result_popover_span,style:{color:"rgba(0, 0, 0, 0.65)"},children:he})};return(0,e.jsx)(O.Z,{overlayClassName:_().metric_list_copy,title:(0,e.jsxs)(g.Z,{justify:"space-between",children:[(0,e.jsx)("b",{children:o}),(0,e.jsx)("span",{onClick:function(){return xe(N)},style:{color:"#1890FF",cursor:"pointer",marginLeft:"8px"},children:(0,e.jsx)(i._H,{id:"operation.copy"})})]}),content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(g.Z,{children:[(0,e.jsx)("b",{children:"Avg\uFF1A"}),(0,e.jsx)("span",{children:ve})]}),(0,e.jsxs)(g.Z,{children:[(0,e.jsx)("b",{children:"CV\uFF1A"}),(0,e.jsx)("span",{children:pe})]}),(0,e.jsxs)(g.Z,{children:[(0,e.jsx)("b",{children:"Max\uFF1A"}),(0,e.jsx)("span",{children:me})]}),(0,e.jsxs)(g.Z,{children:[(0,e.jsx)("b",{children:"Min\uFF1A"}),(0,e.jsx)("span",{children:fe})]}),ae.length>0&&(0,e.jsx)(g.Z,{style:{marginTop:16},children:(0,e.jsx)("b",{children:"Test Record"})}),ae.map(function(T,B){return(0,e.jsx)(g.Z,{children:"(".concat(B+1,")").concat(T)},B)})]}),children:ye()})}},22977:function(Y,b,n){"use strict";n.d(b,{Rg:function(){return O},ZD:function(){return d},yi:function(){return U},dN:function(){return y},pi:function(){return P},iD:function(){return J},nL:function(){return g},U8:function(){return V},Zj:function(){return E},LZ:function(){return K},J1:function(){return S},gQ:function(){return R},k3:function(){return I}});var f=n(35832),m=n(32326),v=n(22812),O=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/job/state/",{params:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),d=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/job/test/",{params:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),U=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/job/test/",{method:"delete",data:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),oe=function(r){return request("/api/sys/product/",{params:r})},y=function(r){return(0,v.WY)("/api/job/collection/",{data:r,method:"post"})},P=function(r){return(0,v.WY)("/api/job/collection/",{data:r,method:"delete"})},H=null,J=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/auth/user/",{params:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),g=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/job/tag/",{params:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),C=null,Z=null,V=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/case/test_suite/",{params:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),E=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/job/type/",{params:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),K=function(){var i=(0,m.Z)((0,f.Z)().mark(function r(l){return(0,f.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,v.WY)("/api/sys/project/",{params:l}));case 1:case"end":return s.stop()}},r)}));return function(l){return i.apply(this,arguments)}}(),S=function(r){return(0,v.WY)("/api/job/result/compare/suite/",{method:"post",data:r})},_=function(r){return request("/api/job/result/compare/list/",{method:"post",data:r})},R=function(r){return(0,v.WY)("/api/job/result/compare/info/",{method:"post",data:r})},w=null,I=function(r){return(0,v.WY)("/api/report/domain/group/",{method:"post",data:r})}}}]);
