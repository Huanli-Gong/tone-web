(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2554],{72726:function(pt){pt.exports={ellipsis:"ellipsis___2ZImK"}},32261:function(pt){pt.exports={filter:"filter___1IKYx",confirm:"confirm___3RbBO",domain:"domain___1-UgM"}},98273:function(pt){pt.exports={cover:"cover___3PIkw"}},88843:function(pt){pt.exports={compare_job:"compare_job___3bD8C",title:"title___fU75R",content:"content___fD2Mn",nogroup_content:"nogroup_content___1lRs0",group_box:"group_box___ohHG2",group_content:"group_content___B4Aqq",compare_title:"compare_title___1mL_U",title_text:"title_text___1xccI",create_group:"create_group___2li-H",popover:"popover___2MjY4",nogroup_info:"nogroup_info___3kXOZ",first_part:"first_part___1QwZk",group_type:"group_type___SKwoZ",cancle_group:"cancle_group___38Xwx",rightExpandButtom:"rightExpandButtom___2Akb0",group_info:"group_info___2-DfG",line:"line___2BHWZ",workspace_name:"workspace_name___18spx",workspace_name_en:"workspace_name_en___3kpLu",baseGroupColorFn:"baseGroupColorFn___1RhBy",baselineColorFn:"baselineColorFn___2mVC-",current:"current___1RrBA",icon:"icon___2u2fe",base_workspace_name:"base_workspace_name___3dTrN",opreate_button:"opreate_button___2hxuY",baseTag:"baseTag___2OLNv",blink:"blink___zmN1S",second_part:"second_part___L6lxW",create_job_type:"create_job_type___1Uj1t",footer_part:"footer_part___g710Y",bottom:"bottom___29-Uz",popover_group:"popover_group___10k1j",popover_mark:"popover_mark___7LgCY",popover_create:"popover_create___3wNKi",master_prover:"master_prover___QOpDL",addJobBtn:"addJobBtn___29Lxo",eidt_marked:"eidt_marked___3dU2f",list_container:"list_container___1USu2",select_product:"select_product___bYxsb",job_text:"job_text___RZHzC",job_test:"job_test___2jx_p",footer:"footer___2OO2k",text_cancle:"text_cancle___34wHS",text_num:"text_num___3midy",footer_line:"footer_line___3luii",baseline_group_modal:"baseline_group_modal___32ciF",bottom_button:"bottom_button___gSnZ5",job_Modal:"job_Modal___qvF1C",suit_detail:"suit_detail___R4Sh8",tab_title:"tab_title___2qXLL",Panel:"Panel___Dv6t6",conf_item_box:"conf_item_box___3BROC",ellipsis:"ellipsis___1yBlF",add_baseline_drawer:"add_baseline_drawer___1cq-K",pers_select:"pers_select___3n1ZU",steps:"steps___3aKRN",steps_en:"steps_en___S_YTZ",popover_job:"popover_job___fyg3-",scroll:"scroll___39SXB",ConfColum:"ConfColum___fIZho",groupOptionIconStyle:"groupOptionIconStyle___2l2p0"}},40166:function(pt,vt,a){"use strict";var Ce=a(22385),nt=a(89456),Lt=a(2824),ke=a(67294),rn=a(72726),ye=a.n(rn),At=a(85893),dt=function(K){var mt=K.title,Ye=K.width,Ae=Ye===void 0?"100%":Ye,T=K.children,fe=K.refData,U=K.customStyle,Ft=U||{width:Ae},Xe=(0,ke.useRef)(null),wt=(0,ke.useState)(!1),X=(0,Lt.Z)(wt,2),pe=X[0],ze=X[1],_t=function(){var i=Xe.current.clientWidth,ee=Xe.current.scrollWidth;ze(i<ee)};(0,ke.useEffect)(function(){_t()},[fe]);var se=function(){return T?ke.cloneElement(T):mt||"-"};return pe?(0,At.jsx)(nt.Z,{placement:"topLeft",title:mt,children:(0,At.jsx)("div",{ref:Xe,className:ye().ellipsis,style:Ft,children:se()})}):(0,At.jsx)("div",{ref:Xe,className:ye().ellipsis,style:Ft,children:se()})};vt.Z=dt},60751:function(pt,vt,a){"use strict";var Ce=a(57663),nt=a(71577),Lt=a(48736),ke=a(27049),rn=a(49111),ye=a(19650),At=a(88983),dt=a(47933),It=a(2824),K=a(67294),mt=a(32261),Ye=a.n(mt),Ae=a(24480),T=a(16917),fe=a(85893),U=function(Xe){var wt=Xe.list,X=Xe.confirm,pe=Xe.onConfirm,ze=Xe.roleType,_t=(0,T.YB)(),se=_t.formatMessage,Ne=(0,K.useState)(),i=(0,It.Z)(Ne,2),ee=i[0],_=i[1],Tt=function(Qe){_(Qe.target.value)};return(0,fe.jsxs)("div",{className:Ye().filter,children:[(0,fe.jsx)(dt.ZP.Group,{onChange:Tt,value:ee,children:(0,fe.jsx)(ye.Z,{direction:"vertical",children:wt.map(function(Pe){return(0,fe.jsx)(dt.ZP,{className:Ye().domain,value:Pe.id,children:ze==="role"?(0,Ae.u)(Pe.name,se):Pe.name},Pe.id)})})}),(0,fe.jsx)(ke.Z,{style:{margin:"10px 0"}}),(0,fe.jsxs)("div",{className:Ye().confirm,children:[(0,fe.jsx)(nt.Z,{size:"small",type:"link",style:{border:"none"},onClick:function(){X==null||X(),pe(ee)},children:(0,fe.jsx)(T._H,{id:"operation.ok"})}),(0,fe.jsx)(nt.Z,{size:"small",type:"text",onClick:function(){X==null||X(),_(void 0),pe(void 0)},children:(0,fe.jsx)(T._H,{id:"operation.reset"})})]})]})};vt.Z=U},27687:function(pt,vt,a){"use strict";var Ce=a(49111),nt=a(19650),Lt=a(57663),ke=a(71577),rn=a(48736),ye=a(27049),At=a(43358),dt=a(34041),It=a(20228),K=a(11382),mt=a(39428),Ye=a(3182),Ae=a(2824),T=a(67294),fe=a(20009),U=a(16917),Ft=a(90105),Xe=a(98273),wt=a.n(Xe),X=a(85893),pe=function(_t){var se=_t.confirm,Ne=_t.onConfirm,i=_t.value,ee=_t.page_size,_=_t.mode,Tt=_===void 0?"multiple":_,Pe=(0,fe.UO)(),Qe=Pe.ws_id,B=(0,T.useState)([]),r=(0,Ae.Z)(B,2),Ee=r[0],le=r[1],m=(0,T.useState)(),Ge=(0,Ae.Z)(m,2),St=Ge[0],j=Ge[1],Ut=(0,T.useState)(),Ct=(0,Ae.Z)(Ut,2),Ue=Ct[0],Bt=Ct[1],Ht=(0,T.useState)(!0),ht=(0,Ae.Z)(Ht,2),Kt=ht[0],Jt=ht[1],gt=(0,T.useState)(!1),e=(0,Ae.Z)(gt,2),it=e[0],ft=e[1],xt=function(){var Fe=(0,Ye.Z)((0,mt.Z)().mark(function Xt(Je){var Oe,ot,jt;return(0,mt.Z)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(Oe=Je&&Je.replace(/\s*/g,""),!(St&&St==Oe)){qe.next=3;break}return qe.abrupt("return");case 3:return j(Oe),Jt(!0),qe.next=7,(0,Ft.tR)({ws_id:Qe,keyword:Oe,page_size:ee||10,page_num:1});case 7:ot=qe.sent,jt=ot.data,le(Array.isArray(jt)?jt:[]),Jt(!1);case 11:case"end":return qe.stop()}},Xt)}));return function(Je){return Fe.apply(this,arguments)}}();(0,T.useEffect)(function(){xt()},[]);var pn=function(){xt()};return(0,X.jsxs)("div",{style:{padding:8},children:[(0,X.jsx)("div",{className:wt().cover,onClick:function(){it||se==null||se()}}),(0,X.jsx)(dt.Z,{mode:Tt,allowClear:!0,notFoundContent:Kt?(0,X.jsx)(K.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:xt,style:{width:"100%"},onChange:function(Xt){return Bt(Xt)},onDeselect:pn,onClear:pn,showArrow:!1,autoFocus:!0,value:Ue,onFocus:function(){ft(!0)},onBlur:function(){setTimeout(function(){ft(!1)},200)},options:Ee==null?void 0:Ee.map(function(Fe){return{label:Fe.last_name,value:Fe.id}})}),(0,X.jsx)(ye.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,X.jsxs)(nt.Z,{children:[(0,X.jsx)(ke.Z,{onClick:function(){se==null||se(),Ne(Ue)},type:"link",size:"small",style:{width:75},children:(0,X.jsx)(U._H,{id:"operation.search"})}),(0,X.jsx)(ke.Z,{type:"text",onClick:function(){se==null||se(),Bt(void 0),Ne(void 0),xt()},size:"small",style:{width:75,border:"none"},children:(0,X.jsx)(U._H,{id:"operation.reset"})})]})]})};vt.Z=pe},72574:function(pt,vt,a){"use strict";a.r(vt),a.d(vt,{default:function(){return Ma}});var Ce=a(24793),nt=a(97183),Lt=a(20228),ke=a(11382),rn=a(57663),ye=a(71577),At=a(17462),dt=a(76772),It=a(49111),K=a(19650),mt=a(62350),Ye=a(24565),Ae=a(48736),T=a(27049),fe=a(22385),U=a(89456),Ft=a(20136),Xe=a(55241),wt=a(30887),X=a(28682),pe=a(39428),ze=a(3182),_t=a(34792),se=a(48086),Ne=a(91220),i=a(11849),ee=a(86582),_=a(2824),Tt=a(43358),Pe=a(34041),Qe=a(402),B=a(97272),r=a(67294),Ee=a(60035),le=a(51017),m=a(16917),Ge=a(20009),St=a(88843),j=a.n(St),Ut=a(92977),Ct=a(19675),Ue=a(49101),Bt=a(57338),Ht=a(440),ht=a(47673),Kt=a(4107),Jt=a(9715),gt=a(20526),e=a(85893),it=(0,r.forwardRef)(function(h,d){var v=(0,m.YB)(),c=v.formatMessage,g=gt.Z.useForm(),x=(0,_.Z)(g,1),A=x[0],R=(0,r.useState)(!1),Q=(0,_.Z)(R,2),Ze=Q[0],xe=Q[1],$=(0,r.useState)(!1),je=(0,_.Z)($,2),De=je[0],b=je[1],H=(0,r.useState)({}),Ke=(0,_.Z)(H,2),Te=Ke[0],Y=Ke[1];(0,r.useImperativeHandle)(d,function(){return{show:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b(!0),Y(N),A.setFieldsValue(N)}}});var D=function(){A.resetFields(),xe(!1),b(!1)},Se=function(){xe(!0),A.validateFields().then(function(){var N=(0,ze.Z)((0,pe.Z)().mark(function L(ue){return(0,pe.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:h.onOk((0,i.Z)((0,i.Z)((0,i.Z)({},Te),ue),{},{by_edit:1})),A.resetFields(),xe(!1),b(!1);case 4:case"end":return G.stop()}},L)}));return function(L){return N.apply(this,arguments)}}()).catch(function(N){return console.log(N)})};return(0,e.jsx)(Ht.Z,{maskClosable:!1,keyboard:!1,title:c({id:"analysis.edit.mark.name"}),width:375,onClose:D,open:De,className:j().add_baseline_drawer,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(ye.Z,{onClick:D,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(ye.Z,{type:"primary",disabled:Ze,onClick:Se,children:(0,e.jsx)(m._H,{id:"operation.update"})})]})}),children:(0,e.jsx)(gt.Z,{form:A,layout:"vertical",children:(0,e.jsx)(gt.Z.Item,{label:(0,e.jsx)(m._H,{id:"analysis.comparison.group"}),name:"name",rules:[{required:!0,message:c({id:"analysis.comparison.group.cannot.empty"})}],children:(0,e.jsx)(Kt.Z,{allowClear:!0,style:{width:"98%"},autoComplete:"off",placeholder:c({id:"analysis.comparison.group.name.placeholder"})})})})})}),ft=a(71194),xt=a(50146),pn=a(18106),Fe=a(73272),Xt=a(66456),Je=a(79764),Oe=a(13254),ot=a(14277),jt=a(35556),st=a(50273),qe=a(7359),Qt=a(7964),Tn=a(25782),qt=a(44378),Nt=a(68002),Zn=a(96486),f=a.n(Zn),Vt=a(31298),an,ar=["svgRef","title"];function Sn(){return Sn=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(h[c]=v[c])}return h},Sn.apply(this,arguments)}function ir(h,d){if(h==null)return{};var v=Bn(h,d),c,g;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);for(g=0;g<x.length;g++)c=x[g],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,c)||(v[c]=h[c]))}return v}function Bn(h,d){if(h==null)return{};var v={},c=Object.keys(h),g,x;for(x=0;x<c.length;x++)g=c[x],!(d.indexOf(g)>=0)&&(v[g]=h[g]);return v}var or=function(d){var v=d.svgRef,c=d.title,g=ir(d,ar);return r.createElement("svg",Sn({width:"10px",height:"14px",viewBox:"0 0 10 14",ref:v},g),c?r.createElement("title",null,c):null,an||(an=r.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"3\\u4E2Agroup\\u76EE\\u5F55\\u6536\\u8D77",transform:"translate(-263.000000, -767.000000)",fillRule:"nonzero"},r.createElement("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(119.000000, 686.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4-8",transform:"translate(21.000000, 64.000000)"},r.createElement("g",{id:"basegroup",transform:"translate(120.000000, 16.000000)"},r.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:16,height:16,rx:2}),r.createElement("path",{d:"M4,1 C3.72417824,1.00077249 3.50077249,1.22417824 3.5,1.5 L3.5,14.5 C3.5,14.7761424 3.72385763,15 4,15 C4.27614237,15 4.5,14.7761424 4.5,14.5 L4.5,1.5 C4.49922751,1.22417824 4.27582176,1.00077249 4,1 L4,1 Z M4.5,2 L12.5,6.5 L4.5,11",id:"\\u5F62\\u72B6",fill:"#1890FF"}))))))))},Cn=r.forwardRef(function(h,d){return r.createElement(or,Sn({svgRef:d},h))}),Un=a.p+"static/BaseIcon.974c58a4.svg",Gt=a(71153),_e=a(60331),be=a(88983),ce=a(47933),he=a(20310),ge=a(99069),on=a(37763),Et=a.n(on),vn=a(39067),Nr=a(12788),$t=a(10753),Zr,Gr=Nr.ZP.span(Zr||(Zr=(0,he.Z)([`
    color: #1890FF;
    cursor: pointer;
`]))),Wr={container:210,button_width:105},kr=function(h){var d=(0,m.YB)(),v=d.formatMessage,c=h.itemSuitData,g=h.handleChangeDefaultJob,x=h.currentTab,A=h.setCurrentJobIndex,R=h.currentJobIndex,Q=Number(x.replace("group","")),Ze=f().get(c,"conf_list")||{},xe=(0,r.useState)({}),$=(0,_.Z)(xe,2),je=$[0],De=$[1],b={job_id:"",job_name:""},H=(0,r.useState)(!0),Ke=(0,_.Z)(H,2),Te=Ke[0],Y=Ke[1],D=(0,r.useState)([]),Se=(0,_.Z)(D,2),Be=Se[0],N=Se[1],L=(0,r.useState)(b),ue=(0,_.Z)(L,2),te=ue[0],G=ue[1],J=(0,r.useState)([]),Ve=(0,_.Z)(J,2),et=Ve[0],Ie=Ve[1],we=(0,r.useState)(0),Mt=(0,_.Z)(we,2),We=Mt[0],lt=Mt[1],ut=(0,r.useState)(!1),kt=(0,_.Z)(ut,2),Me=kt[0],yt=kt[1],Dt=(0,r.useRef)(null),ne=function(){yt(!1)};(0,r.useEffect)(function(){return window.addEventListener("click",ne,!1),function(){window.removeEventListener("click",ne,!1)}},[]),(0,r.useEffect)(function(){De(Ze)},[Q]);var E=[{title:"JobID",dataIndex:"job_id",width:100,ellipsis:!0,filterDropdown:function(W){var k=W.confirm;return(0,e.jsx)(vn.Z,{confirm:k,autoFocus:Te,onConfirm:function(ae){var ie=null;ae===void 0?(ie=f().cloneDeep(Dt.current),te.job_name&&(ie=ie.filter(function($e){var rt=f().get($e,"job_name");return rt.includes(te.job_name.trim())}))):(ie=f().cloneDeep(Be),ie=ie.filter(function($e){return String(f().get($e,"job_id"))===(ae==null?void 0:ae.trim())})),N(ie),G((0,i.Z)((0,i.Z)({},te),{},{job_id:ae}))},placeholder:v({id:"analysis.JobID.placeholder"})})},onFilterDropdownVisibleChange:function(W){W&&Y(!Te)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:te.job_id?"#1890ff":void 0}})},render:function(W){return W}},{title:(0,e.jsx)(m._H,{id:"analysis.job.name"}),dataIndex:"job_name",width:265,ellipsis:{shwoTitle:!1},filterDropdown:function(W){var k=W.confirm;return(0,e.jsx)(vn.Z,{confirm:k,autoFocus:Te,styleObj:Wr,onConfirm:function(ae){var ie=null;ae===void 0?(ie=f().cloneDeep(Dt.current),te.job_id&&(ie=ie.filter(function($e){return String(f().get($e,"job_id"))===te.job_id.trim()}))):(ie=f().cloneDeep(Be),ie=ie.filter(function($e){var rt=f().get($e,"job_name");return rt.includes(ae==null?void 0:ae.trim())})),N(ie),G((0,i.Z)((0,i.Z)({},te),{},{job_name:ae}))},placeholder:v({id:"analysis.job.name.placeholder"})})},onFilterDropdownVisibleChange:function(W){W&&Y(!Te)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:te.job_name?"#1890ff":void 0}})},render:function(W,k){return(0,e.jsx)($t.K,{ellipsis:{tooltip:k.job_name},children:(0,e.jsx)(Et(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[te.job_name||""],autoEscape:!0,textToHighlight:k&&k.job_name})})}},{title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:140,dataIndex:"create_user",ellipsis:!0}],C=function(W){W.stopPropagation();var k=Be.map(function(ae){return String(ae.job_id)===String(W.target.value)?(0,i.Z)((0,i.Z)({},ae),{},{isSelect:!0}):(0,i.Z)((0,i.Z)({},ae),{},{isSelect:!1})});je[We].job_list=k,De(je);var ve=x.slice(x.length-1);Ie([W.target.value]),g(je,We,ve)},I={selectedRowKeys:et,preserveSelectedRowKeys:!1,renderCell:function(W,k){return(0,e.jsx)(ce.ZP.Group,{onChange:C,value:et[0],children:(0,e.jsx)(ce.ZP,{value:k.job_id})})},hideSelectAll:!0},F=function(W){return(0,e.jsx)(Vt.$B,{style:{height:230},children:(0,e.jsx)(Je.Z,{rowSelection:I,size:"small",rowKey:"id",columns:E,dataSource:W,pagination:!1,onRow:function(ve){return{onClick:function(ie){ie.stopPropagation(),Ie([ve.job_id]);var $e=Be.map(function(at){return(0,i.Z)((0,i.Z)({},at),{},{isSelect:String(at.job_id)===String(ve.job_id)})});je[We].job_list=$e,De(je);var rt=x.slice(x.length-1);Ie([ve.job_id]),g(je,We,rt)}}}})})},re=function(W,k,ve,ae,ie){W.stopPropagation(),A(ie),f().isArray(k)||(k=[]);var $e=[ae];Ie($e),N(k),Dt.current=k,lt(ve),ie===R&&yt(!Me),ie!==R&&yt(!0)};return(0,e.jsx)(e.Fragment,{children:Object.values(je).map(function(Z,W){if(isNaN(Q))return"";var k=Z.job_list,ve=k[0]&&k[0].job_id||"";return k.forEach(function(ae){ae&&ae.isSelect&&(ve=ae.job_id)}),!ve||k.length===1?"":(0,e.jsx)("div",{className:j().conf_item_box,children:(0,e.jsxs)(K.Z,{children:[(0,e.jsx)("span",{children:Z.conf_name}),(0,e.jsx)(_e.Z,{color:"#f2f4f6",style:{color:"#515B6A"},children:ve}),(0,e.jsx)(Xe.Z,{placement:"right",title:(0,e.jsx)(m._H,{id:"analysis.select.job"}),content:F(Be),trigger:"click",overlayClassName:j().popover_job,open:R===Z.conf_id&&Me,children:(0,e.jsx)(Gr,{onClick:function(ie){return re(ie,k,W,ve,Z.conf_id)},children:(0,e.jsx)(m._H,{id:"analysis.select.job"})})})]})},W)})})},mn=a(38924),Hn=a(24480),zr=Qt.Z.Panel,Sr=st.Z.Step,Ur=function(d,v){var c=(0,m.Kd)()==="en-US",g=(0,Ee.CR)(),x=g.height,A=x>=728?x-128:600,R=d.onOk,Q=d.baselineGroupIndex,Ze=d.allGroupData[Q===-1?0:Q],xe=f().cloneDeep(d.allGroupData);xe.splice(Q===-1?0:Q,1);var $=xe.filter(function(de){return f().get(de,"members")&&f().get(de,"members").length}),je=(0,r.useState)({}),De=(0,_.Z)(je,2),b=De[0],H=De[1],Ke=(0,r.useState)([]),Te=(0,_.Z)(Ke,2),Y=Te[0],D=Te[1],Se=(0,r.useState)([]),Be=(0,_.Z)(Se,2),N=Be[0],L=Be[1],ue=(0,r.useState)([]),te=(0,_.Z)(ue,2),G=te[0],J=te[1],Ve=(0,r.useState)([]),et=(0,_.Z)(Ve,2),Ie=et[0],we=et[1],Mt=(0,r.useState)([]),We=(0,_.Z)(Mt,2),lt=We[0],ut=We[1],kt=(0,r.useState)(!0),Me=(0,_.Z)(kt,2),yt=Me[0],Dt=Me[1],ne=(0,r.useState)(!1),E=(0,_.Z)(ne,2),C=E[0],I=E[1],F=(0,r.useState)("functional"),re=(0,_.Z)(F,2),Z=re[0],W=re[1],k=(0,r.useState)([]),ve=(0,_.Z)(k,2),ae=ve[0],ie=ve[1],$e=(0,r.useState)([]),rt=(0,_.Z)($e,2),at=rt[0],Ot=rt[1],_n=(0,r.useState)(0),tt=(0,_.Z)(_n,2),ct=tt[0],Kn=tt[1],ln=(0,r.useState)([]),On=(0,_.Z)(ln,2),Nn=On[0],Rn=On[1],Pn=(0,r.useState)([]),hn=(0,_.Z)(Pn,2),bt=hn[0],gn=hn[1],In=(0,r.useState)(),wn=(0,_.Z)(In,2),Gn=wn[0],Mn=wn[1],un=(0,r.useRef)(null),cn=(0,r.useRef)(null),xn=r.useState(!1),jn=(0,_.Z)(xn,2),Wn=jn[0],dn=jn[1],O=r.useState(!1),S=(0,_.Z)(O,2),P=S[0],z=S[1],V=function(p){W(p)},Re=function(){var p=document.querySelector("#list_container table .ant-empty-normal");if(p){var t=A-330>430?430:A-330,n=(t-70-55)/2;p.style.margin="".concat(n,"px 0")}};(0,r.useEffect)(function(){Re()},[b,Z,x]);var en=function(){var de=(0,ze.Z)((0,pe.Z)().mark(function p(t){var n,s,o,u,l,y,w,M,me;return(0,pe.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!P){q.next=2;break}return q.abrupt("return");case 2:return z(!0),q.next=5,(0,le.J1)(t);case 5:n=q.sent,s=n.data,o=n.code,u=n.msg,z(!1),o===200?(l=s.func_suite_dic||{},y=s.perf_suite_dic||{},w=Object.keys(l).map(function(Zt){return String(Zt)}),M=Object.keys(y).map(function(Zt){return String(Zt)}),un.current=(0,ee.Z)(w),cn.current=(0,ee.Z)(M),me=!un.current.length&&cn.current.length,me&&W("performance"),ie((0,ee.Z)(w)),Ot((0,ee.Z)(M)),L(Object.values(l)),J(Object.values(y)),H(s),we(l),ut(y),Dt(!1)):((0,Hn.EV)(o,u),Dt(!1));case 11:case"end":return q.stop()}},p)}));return function(t){return de.apply(this,arguments)}}();r.useImperativeHandle(v,function(){return{show:function(){dn(!0);var p=f().get(Ze,"members"),t={func_data:{base_job:[],compare_job:[]},perf_data:{base_job:[],compare_job:[]}};if(f().isArray(p)){var n=Ze.type==="baseline",s=n?1:0;p.forEach(function(l){["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(l.test_type)&&(t.func_data.is_baseline=s,t.func_data.base_job.push(l.id)),["\u6027\u80FD","\u6027\u80FD\u6D4B\u8BD5","performance"].includes(l.test_type)&&(t.perf_data.is_baseline=s,t.perf_data.base_job.push(l.id))})}var o=[],u=[];$.forEach(function(l){var y=f().get(l,"members");f().isArray(y)&&y.forEach(function(w){["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(w.test_type)&&o.push(w.id),["\u6027\u80FD","\u6027\u80FD\u6D4B\u8BD5","performance"].includes(w.test_type)&&u.push(w.id)})}),t.func_data.compare_job=o,t.perf_data.compare_job=u,en(t)},hide:function(){dn(!1)}}}),(0,r.useEffect)(function(){var de=JSON.stringify(b.func_suite_dic)!=="{}"?"functional":"performance";ct===0&&W(de),ct===1&&W("group0")},[ct]),(0,r.useEffect)(function(){var de=f().cloneDeep(b).func_suite_dic||{},p=f().cloneDeep(b).perf_suite_dic||{};Z==="functional"?L(Object.values(de)):J(Object.values(p))},[b,Z]);var tn=function(){var de=(0,ze.Z)((0,pe.Z)().mark(function p(t,n){var s,o,u,l,y;return(0,pe.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(s=n.test_job_id,o=n.suite_id,u=n.is_baseline,!t){M.next=6;break}return M.next=4,(0,le.OF)({test_job_id:s,suite_id:o,is_baseline:u,test_type:Z});case 4:l=M.sent,l.code===200&&(y=l.data.conf_dic,Z==="functional"?(Ie[o].conf_dic=y,we((0,i.Z)({},Ie))):(lt[o].conf_dic=y,ut((0,i.Z)({},lt))),ie([].concat((0,ee.Z)(ae),(0,ee.Z)(Object.keys(y).map(function(me){return Number(me)})))),Ot([].concat((0,ee.Z)(at),(0,ee.Z)(Object.keys(y).map(function(me){return Number(me)})))));case 6:case"end":return M.stop()}},p)}));return function(t,n){return de.apply(this,arguments)}}();(0,r.useEffect)(function(){var de=Z==="functional"?Ie:lt;if(de){var p=Object.keys(de).map(function(s){return String(s)}),t=[],n=[];t=Object.values(de).map(function(s){return s.conf_dic&&JSON.stringify(s.conf_dic)!=="{}"&&(n=(0,ee.Z)(Object.keys(s.conf_dic).map(function(o){return+o})),s.conf_list=Object.values(s.conf_dic).map(function(o){return{key:o.conf_id,suite_id:s.suite_id,conf_id:o.conf_id,conf_list:n,conf_name:o.conf_name,title:"Test conf",level:2}})),s}),L(t),J(t),un.current=[].concat((0,ee.Z)(p),(0,ee.Z)(n)),cn.current=[].concat((0,ee.Z)(p),(0,ee.Z)(n))}},[Z,Ie,lt]);var fn=function(){var de=(0,ze.Z)((0,pe.Z)().mark(function p(t){var n,s,o,u,l,y,w,M,me,oe,q,Zt,He;return(0,pe.Z)().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:if(I(!0),n=Z==="functional"?f().cloneDeep(N):f().cloneDeep(G),t!==1){Rt.next=17;break}return s=f().cloneDeep(d.allGroupData),o=s.map(function(Le){return{group_name:Le.name,is_baseline:Le.type==="baseline"?1:0,test_job_id:[].concat(Le.members.map(function(Pt){return Pt.id}))}}),u=Z==="functional"?ae:at,l=n.filter(function(Le){return u.includes(String(Le.suite_id))}),y=[],l.forEach(function(Le){var Pt=Le.conf_dic?Object.keys(Le.conf_dic).filter(function(An){return u.includes(+An)}):[];Pt=Le.conf_dic&&Object.keys(Le.conf_dic).length===Pt.length?[]:Pt;var Ln=Pt.length?0:1;Le.test_job_id.length>1&&y.push({suite_id:Le.suite_id,is_all:Ln,conf_list:Pt,test_job_id:Le.test_job_id})}),w={group_jobs:o,base_index:Q===-1?0:Q,suite_list:y},Rt.next=12,(0,le.a4)(w);case 12:M=Rt.sent,me=M.data,oe=M.code,q=M.msg,oe===200?(JSON.stringify(me)==="{}"?gn([]):(Zt=me.duplicate_data,He=[],Zt=Zt.map(function(Le,Pt){var Ln=Le.suite_list.map(function(An){var yr=An.conf_list.map(function(zt){var Fn,br=zt.job_list.map(function(La,Aa){return(0,i.Z)((0,i.Z)({},La),{},{isSelect:Aa===0})});return He.push({conf_id:zt.conf_id,job_id:((Fn=zt.job_list[0])===null||Fn===void 0?void 0:Fn.job_id)||"",key:Pt}),(0,i.Z)((0,i.Z)({},zt),{},{job_list:br})});return(0,i.Z)((0,i.Z)({},An),{},{conf_list:yr})});return(0,i.Z)((0,i.Z)({},Le),{},{suite_list:Ln})}),gn(Zt),D(He)),I(!1)):((0,Hn.EV)(oe,q),I(!1));case 17:I(!1),Kn(t);case 19:case"end":return Rt.stop()}},p)}));return function(t){return de.apply(this,arguments)}}(),qn=function(p){var t=b.func_suite_dic||{},n=b.perf_suite_dic||{},s=d.allGroupData||[],o=Q===-1?0:Q,u={func_suite_dic:(0,mn.wb)(t,s,o,ae,Y),perf_suite_dic:(0,mn.wb)(n,s,o,at,Y)};p(u)},pr=function(p,t){var n=Z==="functional"?f().cloneDeep(ae):f().cloneDeep(at);if(t)if(p.level)n=[].concat((0,ee.Z)(n),[p.conf_id,p.suite_id+""]);else{var s=[];p.conf_list&&(s=p.conf_list.map(function(l){return l.conf_id})),n=[].concat((0,ee.Z)(n),[p.suite_id+""],(0,ee.Z)(s))}else if(p.level){n=n.filter(function(l){return l!==p.conf_id});var u=p.conf_list.splice(0);u=u.filter(function(l){return l!==p.conf_id}),u.length===0&&(n=n.filter(function(l){return l!==String(p.suite_id)}))}else{if(p.conf_list){var o=p.conf_list.map(function(l){return l.conf_id});n=n.filter(function(l){return!o.includes(l)})}n=n.filter(function(l){return String(p.suite_id)!==l})}n=Array.from(new Set(n)),Z==="functional"?ie(n):Ot(n)},er={selectedRowKeys:Z==="functional"?ae:at,preserveSelectedRowKeys:!1,onSelect:pr,checkStrictly:!1,onSelectAll:function(p){p||(Z==="functional"?ie([]):Ot([])),p&&(Z==="functional"?ie(un.current):Ot(cn.current))}},tr=(0,i.Z)((0,i.Z)({},er),{},{hideSelectAll:!0}),vr=[{dataIndex:"suite_name",title:"Test Suite",key:"Test Suite"}],nr=[{dataIndex:"conf_name",title:"Test Conf",key:"Test Conf"}],mr=f().cloneDeep(b).func_suite_dic||{},_r=f().cloneDeep(b).perf_suite_dic||{},kn=[];Z==="functional"&&JSON.stringify(mr)!=="{}"&&(kn=N),Z==="performance"&&JSON.stringify(_r)!=="{}"&&(kn=G);var rr=A-330>430?430:A-330+14,hr={height:ct===1?rr-44:rr},yn=function(p){Rn(p)},Yt=function(p,t,n){var s=Y.slice(0),o=p[t].job_list;s=s.map(function(u){if(u.conf_id===p[t].conf_id&&u.key==n){var l=o.filter(function(y){return y.isSelect})[0].job_id||"";return(0,i.Z)((0,i.Z)({},u),{},{job_id:l})}return(0,i.Z)({},u)}),D(s)},bn=function(){var p=Number(Z.replace("group","")),t=isNaN(p),n=t?0:p;return f().isUndefined(bt)||!bt.length?(0,e.jsx)(ot.Z,{description:(0,e.jsx)(m._H,{id:"analysis.no.duplicate.data"}),image:ot.Z.PRESENTED_IMAGE_SIMPLE,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:"0"}}):(0,e.jsx)(Qt.Z,{onChange:yn,activeKey:Nn,expandIcon:function(o){var u=o.isActive;return(0,e.jsx)(Tn.Z,{rotate:u?90:0})},children:bt[n].suite_list.map(function(s,o){return(0,e.jsx)(zr,{header:f().get(s,"suite_name"),className:j().Panel,children:(0,e.jsx)(kr,{setCurrentJobIndex:Mn,currentJobIndex:Gn,currentTab:Z,itemSuitData:s,handleChangeDefaultJob:Yt})},o)})})},gr=function(){return(0,e.jsx)(Je.Z,{rowSelection:er,dataSource:kn,columns:vr,rowKey:function(t){return t.suite_id+""},loading:yt,pagination:!1,size:"small",expandable:{onExpand:function(t,n){tn(t,n)},indentSize:20,expandedRowRender:function(t){return(0,e.jsx)(Je.Z,{className:j().ConfColum,columns:nr,dataSource:t.conf_list,pagination:!1,rowKey:function(s){return+s.conf_id},rowSelection:tr})},expandIcon:function(t){var n=t.expanded,s=t.onExpand,o=t.record;if(!o.level)return n?(0,e.jsx)(qt.Z,{onClick:function(l){return s(o,l)}}):(0,e.jsx)(Nt.Z,{onClick:function(l){return s(o,l)}})}}})},xr=function(){return(0,e.jsxs)(Fe.Z,{defaultActiveKey:Z,onTabClick:V,className:j().tab_title,activeKey:Z,children:[(0,e.jsx)(Fe.Z.TabPane,{tab:(0,e.jsx)(m._H,{id:"functional.test"})},"functional"),(0,e.jsx)(Fe.Z.TabPane,{tab:(0,e.jsx)(m._H,{id:"performance.test"})},"performance")]})},jr=function(){var p=/^group[0-9]+$/.test(Z)?Z.replace("group",""):0;return!!bt.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fe.Z,{defaultActiveKey:Z,onTabClick:V,className:j().tab_title,activeKey:Z,children:bt.map(function(t,n){return(0,e.jsx)(Fe.Z.TabPane,{tab:(0,e.jsxs)(e.Fragment,{children:[Q===n&&(0,e.jsx)("span",{style:{marginRight:5},children:(0,e.jsx)(Cn,{})}),t.group_name]})},"group".concat(n))})}),(0,e.jsx)(B.Z.Text,{style:{display:"inline-block",height:"44px",lineHeight:"44px"},children:bt[p].desc})]})},zn=function(){dn(!1)};return(0,e.jsx)(xt.Z,{title:(0,e.jsx)(m._H,{id:"analysis.select.benchmark.group"}),centered:!0,open:Wn,width:1e3,className:j().baseline_del_modal,onCancel:zn,maskClosable:!1,destroyOnClose:!0,wrapClassName:"".concat(j().job_Modal," ").concat(j().baseline_group_modal),children:(0,e.jsxs)("div",{className:j().compare_suite,id:"list_container",children:[(0,e.jsx)("div",{className:j().server_provider,children:(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(B.Z.Text,{className:j().script_right_name,strong:!0,children:(0,e.jsx)(m._H,{id:"analysis.comparison.group"})}),(0,e.jsx)(B.Z.Text,{className:j().script_right_name,children:Ze&&(Ze==null?void 0:Ze.name)})]})}),(0,e.jsx)("div",{className:j().line,children:(0,e.jsx)(T.Z,{style:{borderTop:"10px solid #F5F5F5",width:"calc(100% + 48px)",transform:"translateX(-24px)"}})}),(0,e.jsxs)(st.Z,{size:"small",current:ct,onChange:fn,className:c?j().steps_en:j().steps,children:[(0,e.jsx)(Sr,{title:(0,e.jsx)(m._H,{id:"analysis.select.comparison.data"})}),(0,e.jsx)(Sr,{title:(0,e.jsx)(m._H,{id:"analysis.select.duplicate.data"}),disabled:C})]}),(0,e.jsx)(ke.Z,{spinning:yt,children:(0,e.jsxs)("div",{className:j().suit_detail,children:[ct===1&&jr(),ct===0&&xr(),(0,e.jsxs)(Vt.$B,{style:hr,children:[ct===1&&bn(),ct===0&&gr()]})]})}),(0,e.jsxs)("div",{className:j().bottom_button,children:[(0,e.jsx)(T.Z,{style:{margin:"38px 0 12px 0",width:"calc(100% + 48px)",transform:"translateX(-24px)"}}),ct===0&&(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(ye.Z,{onClick:zn,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(ye.Z,{type:"primary",disabled:yt,onClick:f().partial(fn,1),loading:C,children:(0,e.jsx)(m._H,{id:"operation.next"})})]}),ct===1&&(0,e.jsxs)("div",{children:[(0,e.jsx)(ye.Z,{onClick:f().partial(fn,0),style:{float:"left"},children:(0,e.jsx)(m._H,{id:"operation.previous"})}),(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(ye.Z,{onClick:zn,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(ye.Z,{type:"primary",disabled:yt,onClick:f().partial(qn,R),children:(0,e.jsx)(m._H,{id:"analysis.start.analysis"})})]})]})]})]})})},Jr=r.forwardRef(Ur),Wt=a(56978),Cr,Er,Vr=["svgRef","title"];function Jn(){return Jn=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(h[c]=v[c])}return h},Jn.apply(this,arguments)}function $r(h,d){if(h==null)return{};var v=Yr(h,d),c,g;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);for(g=0;g<x.length;g++)c=x[g],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,c)||(v[c]=h[c]))}return v}function Yr(h,d){if(h==null)return{};var v={},c=Object.keys(h),g,x;for(x=0;x<c.length;x++)g=c[x],!(d.indexOf(g)>=0)&&(v[g]=h[g]);return v}var Xr=function(d){var v=d.svgRef,c=d.title,g=$r(d,Vr);return r.createElement("svg",Jn({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:v},g),c?r.createElement("title",null,c):null,Cr||(Cr=r.createElement("defs",null,r.createElement("filter",{id:"filter-1"},r.createElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0 0 0 0 0.290196 0 0 0 0 0.490196 0 0 0 0 1.000000 0 0 0 1.000000 0"})))),Er||(Er=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"12.\\u6309\\u4EA7\\u54C1\\u7248\\u672C",transform:"translate(-286.000000, -196.000000)"},r.createElement("g",{id:"Group-5",transform:"translate(276.000000, 116.000000)"},r.createElement("g",{id:"Group-Copy-10",transform:"translate(10.000000, 40.000000)"},r.createElement("g",{id:"icon_shell-copy-2",transform:"translate(0.000000, 40.000000)"},r.createElement("g",{id:"\\u4EA7\\u54C1",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:12,height:12}),r.createElement("path",{d:"M5.6385988,6.98886227 L1.11803398,4.20221272 C0.88296566,4.05730759 0.809873952,3.74927825 0.954779081,3.51420993 C0.996010182,3.44732392 1.05242429,3.39109655 1.11944664,3.35008744 L5.63806597,0.585270142 C5.79874681,0.486954016 6.00104723,0.48728939 6.1614012,0.58613773 L10.681966,3.37278728 C10.9170343,3.51769241 10.9901261,3.82572175 10.8452209,4.06079007 C10.8039898,4.12767608 10.7475757,4.18390345 10.6805534,4.22491256 L6.16193404,6.98972986 C6.0012532,7.08804598 5.79895278,7.08771061 5.6385988,6.98886227 Z M2.6,3.775 L5.925,5.825 L9.25,3.775 L5.9,1.75 L2.6,3.775 Z",id:"Shape",fill:"#4A7DFF"}),r.createElement("path",{d:"M9.25,6.075 L5.9,8.1 L2.6,6.05 L1.725,5.25 L1.1438087,5.60327314 C0.907838984,5.74670571 0.832822806,6.05427204 0.976255379,6.29024176 C1.01685522,6.35703504 1.07254928,6.41337937 1.1388668,6.45475176 L5.63946343,9.26246343 C5.79928682,9.36216976 6.00158409,9.36358781 6.16278953,9.26613179 L10.7053118,6.5199706 C10.9416267,6.37710749 11.0173844,6.06972296 10.8745212,5.83340804 C10.8340978,5.76654222 10.7785662,5.71008074 10.7123808,5.66855264 L10.125,5.3 L10.125,5.3 L9.25,6.075 Z",id:"Path",fill:"#4A7DFF"}),r.createElement("path",{d:"M9.225,8.35 L5.9,10.375 L2.6,8.3 L1.725,7.5 L1.11383099,7.87610401 C0.878652039,8.02082952 0.805325037,8.32880293 0.950050545,8.56398188 C0.990712199,8.63005707 1.04619241,8.68576332 1.11210172,8.72669331 L5.63816552,11.5373996 C5.79869719,11.6370905 6.00171691,11.6377623 6.16290479,11.5391359 L10.6825555,8.77368749 C10.918103,8.62956255 10.9922156,8.32177725 10.8480907,8.08622977 C10.8073088,8.01957882 10.7514736,7.9634136 10.6850641,7.92223971 L10.125,7.575 L10.125,7.575 L9.225,8.35 Z",id:"Path",fill:"#4A7DFF"})))))))))},Dr=r.forwardRef(function(h,d){return r.createElement(Xr,Jn({svgRef:d},h))}),Fa=a.p+"static/icon_product.d86080ed.svg",Or,Rr,Qr=["svgRef","title"];function Vn(){return Vn=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(h[c]=v[c])}return h},Vn.apply(this,arguments)}function qr(h,d){if(h==null)return{};var v=ea(h,d),c,g;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);for(g=0;g<x.length;g++)c=x[g],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,c)||(v[c]=h[c]))}return v}function ea(h,d){if(h==null)return{};var v={},c=Object.keys(h),g,x;for(x=0;x<c.length;x++)g=c[x],!(d.indexOf(g)>=0)&&(v[g]=h[g]);return v}var ta=function(d){var v=d.svgRef,c=d.title,g=qr(d,Qr);return r.createElement("svg",Vn({width:"10px",height:"10px",viewBox:"0 0 10 10",ref:v},g),c?r.createElement("title",null,c):null,Or||(Or=r.createElement("defs",null,r.createElement("filter",{id:"filter-1"},r.createElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0 0 0 0 1.000000 0 0 0 0 0.509804 0 0 0 0 0.180392 0 0 0 1.000000 0"})))),Rr||(Rr=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"12.\\u6309\\u4EA7\\u54C1\\u7248\\u672C",transform:"translate(-359.000000, -197.000000)"},r.createElement("g",{id:"Group-5",transform:"translate(276.000000, 116.000000)"},r.createElement("g",{id:"Group-Copy-10",transform:"translate(10.000000, 40.000000)"},r.createElement("g",{id:"icon_shell-copy",transform:"translate(72.000000, 40.000000)"},r.createElement("g",{id:"\\u7F51\\u76D8",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:12,height:12}),r.createElement("path",{d:"M10.4309411,8.7539 L9.33670178,2.23111667 C9.27738214,1.82681667 8.95124464,1.51693334 8.55039108,1.5 L3.45054108,1.5 C3.04311428,1.51725 2.71101428,1.83658333 2.65984286,2.25065 L1.56905892,8.75423334 C1.52793214,8.88476667 1.5,9.02181667 1.5,9.16666667 C1.5,9.903 2.07567858,10.5 2.78571428,10.5 L9.21428571,10.5 C9.92432142,10.5 10.5,9.903 10.5,9.16666667 C10.5,9.02148333 10.4720679,8.88476667 10.4309411,8.7539 Z M3.32655,2.16666667 L8.67343392,2.16666667 L9.63739821,7.91308333 C9.50432678,7.86491667 9.36338036,7.83333334 9.21428572,7.83333334 L2.78571428,7.83333334 C2.63661964,7.83333334 2.49567321,7.86491667 2.36258571,7.91308333 L3.32655,2.16666667 Z M9.21428572,9.83333333 L2.78571428,9.83333333 C2.43132321,9.83333333 2.14285714,9.53418333 2.14285714,9.16666667 C2.14285714,8.79915001 2.43132322,8.5 2.78571428,8.5 L9.21428571,8.5 C9.56867678,8.5 9.85714285,8.79915001 9.85714285,9.16666667 C9.85714285,9.53418333 9.56867678,9.83333333 9.21428572,9.83333333 Z M5.03571428,6.16666667 L6.96428571,6.16666667 C7.31930357,6.16666667 7.60714285,5.86816667 7.60714285,5.5 C7.60714285,5.13183333 7.31930357,4.83333333 6.96428571,4.83333333 C6.96428571,4.28125 6.53268749,3.83333333 5.99999999,3.83333333 C5.46731249,3.83333333 5.03571427,4.28125 5.03571427,4.83333333 C4.68069642,4.83333333 4.39285713,5.13183333 4.39285713,5.5 C4.39285713,5.86816667 4.68069642,6.16666667 5.03571428,6.16666667 Z M8.89285714,8.83333334 C8.7151875,8.83333334 8.57142857,8.98241667 8.57142857,9.16666668 C8.57142857,9.35091669 8.71518749,9.50000002 8.89285714,9.50000002 C9.07052679,9.50000002 9.21428572,9.35091669 9.21428572,9.16666668 C9.21428572,8.98241667 9.07052678,8.83333334 8.89285714,8.83333334 Z",id:"Shape",stroke:"#FF822E",strokeWidth:.2,fill:"#FF822E"})))))))))},Pr=r.forwardRef(function(h,d){return r.createElement(ta,Vn({svgRef:d},h))}),Ta=a.p+"static/icon_jiqi.127135d2.svg",Ir,wr,na=["svgRef","title"];function $n(){return $n=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(h[c]=v[c])}return h},$n.apply(this,arguments)}function ra(h,d){if(h==null)return{};var v=aa(h,d),c,g;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);for(g=0;g<x.length;g++)c=x[g],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,c)||(v[c]=h[c]))}return v}function aa(h,d){if(h==null)return{};var v={},c=Object.keys(h),g,x;for(x=0;x<c.length;x++)g=c[x],!(d.indexOf(g)>=0)&&(v[g]=h[g]);return v}var ia=function(d){var v=d.svgRef,c=d.title,g=ra(d,na);return r.createElement("svg",$n({width:"25px",height:"46px",viewBox:"0 0 25 46",ref:v},g),c?r.createElement("title",null,c):null,Ir||(Ir=r.createElement("defs",null,r.createElement("path",{d:"M0,0 L12.7371541,2.3882164 C14.6290458,2.74294608 16,4.39484487 16,6.31970515 L16,31.6802949 C16,33.6051551 14.6290458,35.2570539 12.7371541,35.6117836 L0,38 L0,38 L0,0 Z",id:"path-1"}),r.createElement("filter",{x:"0.0%",y:"-13.2%",width:"156.2%",height:"121.1%",filterUnits:"objectBoundingBox",id:"filter-2"},r.createElement("feGaussianBlur",{stdDeviation:0,in:"SourceGraphic"})),r.createElement("filter",{x:"-28.1%",y:"-25.0%",width:"212.5%",height:"144.7%",filterUnits:"objectBoundingBox",id:"filter-3"},r.createElement("feOffset",{dx:5,dy:-1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.05 0",type:"matrix",in:"shadowBlurOuter1"})))),wr||(wr=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"14.\\u6536\\u8D77\\u5206\\u7EC4\\u533A",transform:"translate(0.000000, -262.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 267.000000)"},r.createElement("g",{id:"Rectangle",filter:"url(#filter-2)"},r.createElement("use",{fill:"black",fillOpacity:1,filter:"url(#filter-3)",xlinkHref:"#path-1"}),r.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})),r.createElement("g",{id:"\\u8FD4\\u56DE",transform:"translate(0.000000, 11.000000)",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,transform:"translate(8.000000, 8.000000) scale(-1, -1) translate(-8.000000, -8.000000) ",x:0,y:0,width:16,height:16}),r.createElement("polygon",{id:"Path",points:"10.803 15.875 2.928 8 10.803 0.125 11.51 0.832 4.342 8 11.51 15.168"})))))))},oa=r.forwardRef(function(h,d){return r.createElement(ia,$n({svgRef:d},h))}),Ba=a.p+"static/compare_collapse.440adc2e.svg",Mr,Lr,sa=["svgRef","title"];function Yn(){return Yn=Object.assign?Object.assign.bind():function(h){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(h[c]=v[c])}return h},Yn.apply(this,arguments)}function la(h,d){if(h==null)return{};var v=ua(h,d),c,g;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(h);for(g=0;g<x.length;g++)c=x[g],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,c)||(v[c]=h[c]))}return v}function ua(h,d){if(h==null)return{};var v={},c=Object.keys(h),g,x;for(x=0;x<c.length;x++)g=c[x],!(d.indexOf(g)>=0)&&(v[g]=h[g]);return v}var ca=function(d){var v=d.svgRef,c=d.title,g=la(d,sa);return r.createElement("svg",Yn({width:"25px",height:"46px",viewBox:"0 0 25 46",ref:v},g),c?r.createElement("title",null,c):null,Mr||(Mr=r.createElement("defs",null,r.createElement("path",{d:"M0,0 L12.7371541,2.3882164 C14.6290458,2.74294608 16,4.39484487 16,6.31970515 L16,31.6802949 C16,33.6051551 14.6290458,35.2570539 12.7371541,35.6117836 L0,38 L0,38 L0,0 Z",id:"path-1"}),r.createElement("filter",{x:"0.0%",y:"-13.2%",width:"156.2%",height:"121.1%",filterUnits:"objectBoundingBox",id:"filter-2"},r.createElement("feGaussianBlur",{stdDeviation:0,in:"SourceGraphic"})),r.createElement("filter",{x:"-28.1%",y:"-25.0%",width:"212.5%",height:"144.7%",filterUnits:"objectBoundingBox",id:"filter-3"},r.createElement("feOffset",{dx:5,dy:-1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.05 0",type:"matrix",in:"shadowBlurOuter1"})))),Lr||(Lr=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"14.\\u6536\\u8D77\\u5206\\u7EC4\\u533A",transform:"translate(0.000000, -262.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 267.000000)"},r.createElement("g",{id:"Rectangle",filter:"url(#filter-2)"},r.createElement("use",{fill:"black",fillOpacity:1,filter:"url(#filter-3)",xlinkHref:"#path-1"}),r.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})),r.createElement("g",{id:"\\u8FD4\\u56DE",transform:"translate(8.000000, 19.000000) scale(-1, 1) translate(-8.000000, -19.000000) translate(0.000000, 11.000000)",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("polygon",{id:"Path",points:"10.803 15.875 2.928 8 10.803 0.125 11.51 0.832 4.342 8 11.51 15.168"})))))))},da=r.forwardRef(function(h,d){return r.createElement(ca,Yn({svgRef:d},h))}),Ha=a.p+"static/compare_expand.d55981ad.svg",fa=a(54564),sr=a(40166),pa=function(d){return d.map(function(v,c){if(v.product_version=v.product_version||v.name,f().isArray(v.members)&&v.members[0]){var g=v.members[0].product_version||v.members[0].version;g&&(v.product_version=g)}return v.id=+new Date+c,v})},va=function(d){var v=d.filter(function(c){return c&&f().isArray(c.members)}).map(function(c,g){var x=c.members.filter(function(A){return A}).map(function(A,R){return A.job_id?(0,i.Z)((0,i.Z)({},A),{},{id:"".concat(g,"-").concat(A.id,"-").concat(R)}):(0,i.Z)((0,i.Z)({},A),{},{id:"".concat(g,"-").concat(A.id,"-").concat(R),job_id:A.id})});return(0,i.Z)((0,i.Z)({},c),{},{id:"group-".concat(g),members:x})});return v},ma=function(d){var v=d.filter(function(c){return c}).map(function(c,g){return c.job_id?(0,i.Z)((0,i.Z)({},c),{},{id:"".concat(c.id,"-").concat(g)}):(0,i.Z)((0,i.Z)({},c),{},{id:"".concat(c.id,"-").concat(g),job_id:c.id})});return v},Ar=function(d){var v=(0,m.YB)(),c=v.formatMessage,g=(0,m.Kd)()==="en-US",x=d.text,A=d.flag,R=d.isBaseGroup,Q=x;x!=null&&x.match(/^对比组[0-9]+$/)&&(Q=c({id:"analysis.comparison.group"})+x.slice(3));var Ze=g?j().workspace_name_en:j().workspace_name,xe=(0,e.jsxs)("span",{className:R?"".concat(Ze," ").concat(j().base_workspace_name):"".concat(Ze),children:[A?(0,e.jsx)(_e.Z,{color:"#0089FF",className:j().baselineColorFn,children:(0,e.jsx)(m._H,{id:"analysis.base"})}):"",Q]});return(0,e.jsxs)(e.Fragment,{children:[R&&(0,e.jsx)("span",{title:c({id:"analysis.benchmark.group"}),style:{paddingRight:4,transform:"translateY(-12px)",width:16,display:"inline-block"},children:(0,e.jsx)(Cn,{title:c({id:"analysis.benchmark.group"})})}),(0,e.jsx)(U.Z,{title:Q,overlayStyle:{wordBreak:"break-all"},children:xe})]})},_a=function(d){return(0,i.Z)({display:"flex",alignItems:"flex-start",overflowY:"hidden",userSelect:"none",outline:"none"},d)},lr=function(d){return(0,i.Z)({userSelect:"none",outline:"none",marginRight:16},d)},En=function(d){return(0,i.Z)({userSelect:"none",outline:"none"},d)},Ka=a(13062),Dn=a(71230),Na=a(89032),sn=a(15746),Ga=a(14965),Fr=a(36577),ur=a(60751),Tr=a(27687),cr=a(86213),dr=a(85450),ha=Fr.Z.RangePicker,Br=Pe.Z.Option,Hr={all_job:0,data:[],fail_job:0,my_job:0,pending_job:0,running_job:0,stop_job:0,success_job:0,total:0},ga={container:210,button_width:105},xa=function(d,v){var c=d.onOk,g=d.noGroupData,x=d.groupData,A=(0,Ge.UO)(),R=A.ws_id,Q={page_num:1,page_size:10,ws_id:R,state:"success,fail,skip,stop,running"},Ze=(0,Ee.CR)(),xe=Ze.height,$=xe>=728?xe-128:600,je=(0,r.useState)(!1),De=(0,_.Z)(je,2),b=De[0],H=De[1],Ke=(0,r.useState)([]),Te=(0,_.Z)(Ke,2),Y=Te[0],D=Te[1],Se=(0,r.useState)([]),Be=(0,_.Z)(Se,2),N=Be[0],L=Be[1],ue=(0,r.useState)([]),te=(0,_.Z)(ue,2),G=te[0],J=te[1],Ve=(0,r.useState)([]),et=(0,_.Z)(Ve,2),Ie=et[0],we=et[1],Mt=(0,r.useState)(!1),We=(0,_.Z)(Mt,2),lt=We[0],ut=We[1],kt=(0,m.YB)(),Me=kt.formatMessage,yt=(0,r.useState)(Q),Dt=(0,_.Z)(yt,2),ne=Dt[0],E=Dt[1],C=(0,r.useState)(!0),I=(0,_.Z)(C,2),F=I[0],re=I[1],Z=[{id:1,name:Me({id:"header.test_type.functional"})},{id:0,name:Me({id:"header.test_type.performance"})}],W=(0,r.useState)(),k=(0,_.Z)(W,2),ve=k[0],ae=k[1],ie=(0,r.useState)(),$e=(0,_.Z)(ie,2),rt=$e[0],at=$e[1],Ot=(0,r.useState)(Hr),_n=(0,_.Z)(Ot,2),tt=_n[0],ct=_n[1];r.useImperativeHandle(v,function(){return{show:function(){H(!0)}}});var Kn=function(S,P,z){var V=P[0],Re=P[1];!V&&!Re&&E((0,i.Z)((0,i.Z)({},ne),{},{creation_time:null})),V&&Re&&E((0,i.Z)((0,i.Z)({},ne),{},{creation_time:JSON.stringify({start_time:V,end_time:Re})})),z==null||z()},ln=function(){var O=(0,ze.Z)((0,pe.Z)().mark(function S(P){var z,V;return(0,pe.Z)().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:return ut(!0),en.next=3,(0,le.VX)({ws_id:R,product_id:P});case 3:z=en.sent,z.code===200?(V=z.data.filter(function(tn){return tn==null?void 0:tn.trim()}),V=V.map(function(tn,fn){return{label:fn,value:tn}}),J(V),!!V.length&&ve?at(V[0].value):at(void 0)):(0,Hn.EV)(z.code,z.msg),ut(!1);case 6:case"end":return en.stop()}},S)}));return function(P){return O.apply(this,arguments)}}(),On=function(){var O=(0,ze.Z)((0,pe.Z)().mark(function S(){var P,z;return(0,pe.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return ut(!0),Re.next=3,(0,le.lI)({ws_id:R});case 3:P=Re.sent,P.code===200?(z=f().isArray(P.data)?P.data:[],L(z),z.length&&ae(void 0)):(0,Hn.EV)(P.code,P.msg),ut(!1);case 6:case"end":return Re.stop()}},S)}));return function(){return O.apply(this,arguments)}}(),Nn=function(){var O=(0,ze.Z)((0,pe.Z)().mark(function S(){var P;return(0,pe.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return ut(!0),V.next=3,(0,le._V)(ne);case 3:P=V.sent,P.code===200?(ct(P),ut(!1)):(ct(Hr),(0,Hn.EV)(P.code,P.msg));case 5:case"end":return V.stop()}},S)}));return function(){return O.apply(this,arguments)}}();(0,r.useEffect)(function(){g.length&&(D(g.map(function(O){return O.id})),we(g))},[g]);var Rn=[{title:"Job ID",dataIndex:"id",width:100,ellipsis:{shwoTitle:!1},filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(vn.Z,{confirm:P,autoFocus:F,onConfirm:function(V){E((0,i.Z)((0,i.Z)({},ne),{},{job_id:V,page_num:1}))},placeholder:Me({id:"analysis.JobID.placeholder"})})},onFilterDropdownVisibleChange:function(S){S&&re(!F)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:ne.job_id?"#1890ff":void 0}})},render:function(S,P){return S}},{title:(0,e.jsx)(m._H,{id:"analysis.job.name"}),dataIndex:"name",width:300,ellipsis:{shwoTitle:!1},filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(vn.Z,{confirm:P,autoFocus:F,styleObj:ga,onConfirm:function(V){E((0,i.Z)((0,i.Z)({},ne),{},{name:V,page_num:1}))},placeholder:Me({id:"analysis.job.name.placeholder"})})},onFilterDropdownVisibleChange:function(S){S&&re(!F)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:ne.name?"#1890ff":void 0}})},render:function(S,P){return(0,e.jsx)($t.K,{ellipsis:{tooltip:P.name},children:(0,e.jsx)(Et(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[ne.name||""],autoEscape:!0,textToHighlight:P&&P.name})})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_type"}),width:100,dataIndex:"test_type",ellipsis:{shwoTitle:!1},render:function(S,P){var z=["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(P.test_type)?"functional":"performance";return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:Me({id:"header.test_type.".concat(z)})})},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:ne.test_type?"#1890ff":void 0}})},filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(ur.Z,{list:Z,confirm:P,onConfirm:function(V){var Re=void 0;V===1&&(Re="functional"),V===0&&(Re="performance"),E((0,i.Z)((0,i.Z)({},ne),{},{test_type:Re}))}})}},{title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:80,ellipsis:{shwoTitle:!1},dataIndex:"creator_name",filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(Tr.Z,{autoFocus:F,mode:"",confirm:P,onConfirm:function(V){return E((0,i.Z)((0,i.Z)({},ne),{},{creators:V?JSON.stringify([V]):null}))},page_size:9999})},onFilterDropdownVisibleChange:function(S){S&&re(!F)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:ne.creators&&ne.creators!=="[]"?"#1890ff":void 0}})},render:function(S){return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:S||"-"})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_time"}),width:180,ellipsis:{shwoTitle:!1},dataIndex:"start_time",filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(ha,{size:"middle",showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",onChange:f().partial(Kn,f(),f(),P)})},onFilterDropdownVisibleChange:function(S){S&&re(!F)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:ne.creation_time?"#1890ff":void 0}})},render:function(S){return S||"-"}}];(0,r.useEffect)(function(){On(),ln(void 0)},[]),(0,r.useEffect)(function(){ve&&ln(ve)},[ve]),(0,r.useEffect)(function(){Nn()},[ne]),(0,r.useEffect)(function(){ve&&!rt&&E((0,i.Z)((0,i.Z)({},ne),{},{product_id:ve,product_version:void 0})),ve&&rt&&E((0,i.Z)((0,i.Z)({},ne),{},{product_version:rt,product_id:ve}))},[ve,rt]);var Pn=function(S){at(S)},hn=function(S){ae(S)},bt=function(){at(void 0),E((0,i.Z)((0,i.Z)({},ne),{},{product_version:void 0}))},gn=function(){ae(void 0),at(void 0),E(Q)},In=function(S,P){if(P){var z=Ie.concat(S);we(z),D(z.map(function(Re){return Re.id}))}else{var V=Ie.filter(function(Re){return Re.id!==S.id});we(V),D(V.map(function(Re){return Re.id}))}},wn=function(S){var P=f().isArray(S)?S:[],z=[];P.forEach(function(V){return z.push(V.id)}),D([].concat((0,ee.Z)(Y),z)),we([].concat((0,ee.Z)(Ie),(0,ee.Z)(P)))},Gn=function(S){var P=f().isArray(S)?S:[],z=[];P.forEach(function(V){return z.push(V.id)}),D(f().difference(Y,z)),we(f().differenceBy(Ie,P,"id"))},Mn=x.filter(function(O){return O.type==="job"}).reduce(function(O,S){var P=S.members;return O.concat(P.map(function(z){return z.id}))},[]),un={selectedRowKeys:Y,preserveSelectedRowKeys:!1,getCheckboxProps:function(S){return{disabled:Mn.includes(S.id),name:S.name}},onSelect:In,onSelectAll:function(S,P,z){if(S){wn(z);return}else Gn(z)}},cn=function(){D([]),we([])},xn=function(){H(!1)},jn=function(){c(Ie),xn()},Wn=f().isArray(tt.data)?tt.data:[],dn={height:$-339>430?430:$-339};return(0,e.jsx)(xt.Z,{title:Me({id:"analysis.select.job"}),open:b,centered:!0,width:1e3,maskClosable:!1,destroyOnClose:!0,footer:null,onOk:jn,onCancel:xn,children:(0,e.jsxs)("div",{className:j().list_container,id:"list_container",children:[(0,e.jsxs)("div",{className:j().select_product,children:[(0,e.jsxs)(Dn.Z,{children:[(0,e.jsxs)(sn.Z,{span:12,children:[(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.product.label"})}),(0,e.jsx)(Pe.Z,{showSearch:!0,allowClear:!0,style:{width:"calc(100% - 75px)"},placeholder:Me({id:"analysis.product.placeholder"}),value:ve,optionFilterProp:"children",onSelect:hn,onClear:gn,filterOption:function(S,P){return P.children.toLowerCase().indexOf(S.toLowerCase())>=0},children:N.map(function(O){return(0,e.jsx)(Br,{value:O.id,children:O.name},O.id)})})]}),(0,e.jsxs)(sn.Z,{span:12,children:[(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.version.label"})}),(0,e.jsx)(Pe.Z,{showSearch:!0,allowClear:!0,style:{width:"calc(100% - ".concat((0,m.Kd)()==="en-US"?120:75,"px)")},placeholder:Me({id:"analysis.version.placeholder"}),value:rt,optionFilterProp:"children",onSelect:Pn,onClear:bt,filterOption:function(S,P){return P.children.toLowerCase().indexOf(S.toLowerCase())>=0},children:G.map(function(O){return(0,e.jsx)(Br,{value:O.value,children:O.value},O.label)})})]})]}),(0,e.jsx)("div",{className:j().job_text,children:(0,e.jsx)(m._H,{id:"analysis.job.table"})}),(0,e.jsx)(T.Z,{className:j().line})]}),(0,e.jsx)(Vt.$B,{style:dn,className:j().scroll,children:(0,e.jsx)(dr.sL,{rowSelection:un,rowKey:"id",columns:Rn,name:"ws-compare-all-job-list",refreshDeps:[R,ne,F],loading:lt,dataSource:Wn,pagination:!1,size:"small"})}),(0,e.jsx)(cr.Z,{total:tt.total,currentPage:ne&&ne.page_num,pageSize:ne&&ne.page_size,onPageChange:function(S,P){E((0,i.Z)((0,i.Z)({},ne),{},{page_num:S,page_size:P}))}}),(0,e.jsx)(T.Z,{className:j().footer_line}),(0,e.jsxs)("div",{className:j().footer,children:[(0,e.jsxs)("span",{children:[(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.selected"})}),(0,e.jsx)("span",{className:j().text_num,children:"".concat(Ie.length)}),(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.item"})}),(0,e.jsx)("span",{className:j().text_cancle,onClick:cn,children:(0,e.jsx)(m._H,{id:"analysis.all.cancel"})})]}),(0,e.jsx)("span",{children:(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(ye.Z,{onClick:xn,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(ye.Z,{type:"primary",onClick:jn,children:(0,e.jsx)(m._H,{id:"operation.ok"})})]})})]})]})})},ja=r.forwardRef(xa),Xn=a(44586),ya=function(d,v){var c=d.onOk,g=r.useState(!1),x=(0,_.Z)(g,2),A=x[0],R=x[1],Q=r.useState(),Ze=(0,_.Z)(Q,2),xe=Ze[0],$=Ze[1],je=function(){R(!1)};r.useImperativeHandle(v,function(){return{show:function(H){$(H),R(!0)}}});var De=function(){c==null||c(xe),R(!1)};return(0,e.jsx)(xt.Z,{title:(0,e.jsx)(m._H,{id:"delete.prompt"}),open:A,width:480,className:j().baseline_del_modal,destroyOnClose:!0,onCancel:je,footer:(0,e.jsx)(Dn.Z,{justify:"end",children:(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(ye.Z,{onClick:je,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(ye.Z,{onClick:De,type:"primary",danger:!0,children:(0,e.jsx)(m._H,{id:"operation.delete"})})]})}),children:(0,e.jsxs)("span",{children:[(0,e.jsx)(m._H,{id:"analysis.are.you.sure.delete.group"}),"\u3010",xe==null?void 0:xe.name,"\u3011"]})})},ba=r.forwardRef(ya),fr=a(10279),Za={page_size:10,page_num:1},Kr=function(d,v){return d.filter(function(c){return c.type===v}).reduce(function(c,g){var x;return!g||!g.members?c:c.concat((x=g.members)===null||x===void 0?void 0:x.map(function(A){return A.id}))},[])},Sa=function(d){var v,c=d.selectedRowDatas,g=d.setSelectedRowDatas,x=d.product_id,A=d.product_version,R=d.members,Q=d.noGroupData,Ze=d.allGroupData,xe=d.activeKey,$=Kr(Q,xe).concat(Kr(Ze,xe)).filter(function(E){return!R.map(function(C){return C.id}).includes(E)}),je=(0,Ge.UO)(),De=je.ws_id,b=(0,m.YB)(),H=b.formatMessage,Ke=[{id:1,name:H({id:"header.test_type.functional"})},{id:0,name:H({id:"header.test_type.performance"})}],Te=r.useState((0,i.Z)((0,i.Z)({},Za),{},{ws_id:De,state:"success,fail,skip,stop,running",filter_id:$.toString()})),Y=(0,_.Z)(Te,2),D=Y[0],Se=Y[1],Be=r.useState(!0),N=(0,_.Z)(Be,2),L=N[0],ue=N[1],te=r.useState([]),G=(0,_.Z)(te,2),J=G[0],Ve=G[1],et=function(){var E=(0,ze.Z)((0,pe.Z)().mark(function C(I){var F,re,Z;return(0,pe.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,le.VX)({ws_id:De,product_id:I});case 2:if(F=k.sent,re=F.data,Z=F.code,Z!==200){k.next=7;break}return k.abrupt("return",re||[]);case 7:return k.abrupt("return",[]);case 8:case"end":return k.stop()}},C)}));return function(I){return E.apply(this,arguments)}}(),Ie=(0,fr.ZP)(function(){return(0,le.lI)({ws_id:De})},{initialData:[]}),we=Ie.data.data,Mt=(0,fr.ZP)(function(){return(0,le._V)(D)},{debounceInterval:200,refreshDeps:[D],ready:!!D.product_id&&!!D.product_version}),We=Mt.data,lt=Mt.loading;r.useEffect(function(){if(we&&we.length>0){var E={product_id:x!=null?x:we[0].id,product_version:A};E.product_id&&et(E.product_id).then(function(C){Ve(C);var I=C.length>0?C[0]:void 0;Se(function(F){return A?(0,i.Z)((0,i.Z)({},F),E):(0,i.Z)((0,i.Z)((0,i.Z)({},F),E),{},{product_version:I})})})}},[we,x,A]);var ut=r.useMemo(function(){return A&&x},[A,x]),kt=function(C,I,F){var re=I[0],Z=I[1];!re&&!Z&&Se(function(W){return(0,i.Z)((0,i.Z)({},W),{},{creation_time:null,page_num:1})}),re&&Z&&Se(function(W){return(0,i.Z)((0,i.Z)({},W),{},{creation_time:JSON.stringify({start_time:re,end_time:Z}),page_num:1})}),F==null||F()},Me=[{title:"Job ID",dataIndex:"id",width:100,ellipsis:{shwoTitle:!1},filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(vn.Z,{confirm:I,autoFocus:L,onConfirm:function(re){return Se(function(Z){return(0,i.Z)((0,i.Z)({},Z),{},{job_id:re,page_num:1})})},placeholder:H({id:"analysis.JobID.placeholder"})})},onFilterDropdownVisibleChange:function(C){C&&ue(!L)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:D!=null&&D.job_id?"#1890ff":void 0}})},render:function(C){return C}},{title:(0,e.jsx)(m._H,{id:"analysis.job.name"}),dataIndex:"name",width:300,ellipsis:{shwoTitle:!1},filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(vn.Z,{confirm:I,autoFocus:L,styleObj:{container:230,button_width:115},onConfirm:function(re){return Se(function(Z){return(0,i.Z)((0,i.Z)({},Z),{},{name:re,page_num:1})})},placeholder:H({id:"analysis.job.name.placeholder"})})},onFilterDropdownVisibleChange:function(C){C&&ue(!L)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:D!=null&&D.name?"#1890ff":void 0}})},render:function(C,I){return(0,e.jsx)($t.K,{ellipsis:{tooltip:I.name},children:(0,e.jsx)(Et(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[(D==null?void 0:D.name)||""],autoEscape:!0,textToHighlight:I&&I.name})})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_type"}),width:100,dataIndex:"test_type",ellipsis:{shwoTitle:!1},render:function(C,I){return["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(I.test_type)?(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:H({id:"header.test_type.functional"})}):(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:H({id:"header.test_type.performance"})})},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:D!=null&&D.test_type?"#1890ff":void 0}})},filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(ur.Z,{list:Ke,confirm:I,onConfirm:function(re){var Z=void 0;re===1&&(Z="functional"),re===0&&(Z="performance"),Se(function(W){return(0,i.Z)((0,i.Z)({},W),{},{test_type:Z,page_num:1})})}})}},{title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:80,ellipsis:{shwoTitle:!1},dataIndex:"creator_name",filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(Tr.Z,{autoFocus:L,mode:"",confirm:I,onConfirm:function(re){return Se(function(Z){return(0,i.Z)((0,i.Z)({},Z),{},{creators:re?JSON.stringify([re]):null,page_num:1})})},page_size:9999})},onFilterDropdownVisibleChange:function(C){C&&ue(!L)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:D!=null&&D.creators&&(D==null?void 0:D.creators)!=="[]"?"#1890ff":void 0}})},render:function(C){return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:C||"-"})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_time"}),width:180,ellipsis:{shwoTitle:!1},dataIndex:"start_time",filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(Fr.Z.RangePicker,{size:"middle",showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",onChange:f().partial(kt,f(),f(),I)})},onFilterDropdownVisibleChange:function(C){C&&ue(!L)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:D!=null&&D.creation_time?"#1890ff":void 0}})},render:function(C){return C||"-"}}],yt=function(C,I){g(function(F){return I?F.concat(C):F.filter(function(re){return re.id!==C.id})})},Dt={selectedRowKeys:c.map(function(E){return E.id}),getCheckboxProps:function(C){var I=!R&&x===(C==null?void 0:C.product_id)&&!["success","fail"].includes(C==null?void 0:C.state);return{disabled:I,name:C.name}},preserveSelectedRowKeys:!1,onSelect:yt,onSelectAll:function(C,I,F){var re=F.map(function(Z){return Z.id});g(function(Z){return C?Z.concat(F):Z.filter(function(W){return!re.includes(W.id)})})}},ne={showSearch:!0,allClear:!0,optionFilterProp:"children",disabled:ut,style:{width:"100%"},filterOption:function(C,I){var F;return((F=I.label)===null||F===void 0?void 0:F.toLowerCase().indexOf(C.toLowerCase()))>=0}};return(0,e.jsxs)(K.Z,{direction:"vertical",style:{width:"100%",padding:"0 16px"},size:0,children:[(0,e.jsxs)(Dn.Z,{gutter:20,children:[(0,e.jsx)(sn.Z,{span:12,children:(0,e.jsxs)(Dn.Z,{align:"middle",children:[(0,e.jsx)(sn.Z,{span:4,children:(0,e.jsx)(m._H,{id:"analysis.product.label"})}),(0,e.jsx)(sn.Z,{span:20,children:(0,e.jsx)(Pe.Z,(0,i.Z)((0,i.Z)({},ne),{},{placeholder:H({id:"analysis.product.placeholder"}),value:D.product_id,onSelect:function(C){et(C).then(function(I){var F=I&&I.length>0?I[0]:void 0;Se(function(re){return(0,i.Z)((0,i.Z)({},re),{},{page_num:1,product_id:C,product_version:F})}),Ve(I),g([])})},options:we==null?void 0:we.map(function(E){return{value:E.id,label:E.name}})}))})]})}),(0,e.jsx)(sn.Z,{span:12,children:(0,e.jsxs)(Dn.Z,{align:"middle",children:[(0,e.jsx)(sn.Z,{span:4,children:(0,e.jsx)(m._H,{id:"analysis.version.label"})}),(0,e.jsx)(sn.Z,{span:20,children:(0,e.jsx)(Pe.Z,(0,i.Z)((0,i.Z)({},ne),{},{placeholder:H({id:"analysis.version.placeholder"}),value:D.product_version,onSelect:function(C){Se((0,i.Z)((0,i.Z)({},D),{},{product_version:C})),g([])},options:J==null?void 0:J.map(function(E){return{value:E,label:E}})}))})]})})]}),(0,e.jsxs)(K.Z,{direction:"vertical",size:0,style:{width:"100%"},children:[(0,e.jsx)(dr.sL,{rowSelection:Dt,rowKey:"id",name:"ws-analysis-compare-job-add",refreshDeps:[De,D,c,ut,d],columns:Me,loading:lt,dataSource:(v=We==null?void 0:We.data)!==null&&v!==void 0?v:[],pagination:!1,size:"small"}),(0,e.jsx)(cr.Z,{total:We==null?void 0:We.total,currentPage:D==null?void 0:D.page_num,pageSize:D==null?void 0:D.page_size,onPageChange:function(C,I){return Se(function(F){return(0,i.Z)((0,i.Z)({},F),{},{page_num:C,page_size:I})})}})]})]})},Ca=Sa,Ea=a(78037),Da={page_num:1,page_size:10},Oa=function(d){var v=d.selectedRowDatas,c=d.setSelectedRowDatas,g=(0,Ge.UO)(),x=g.ws_id,A=(0,m.YB)(),R=A.formatMessage,Q=[{id:1,name:R({id:"header.test_type.functional"})},{id:0,name:R({id:"header.test_type.performance"})}],Ze=r.useState(Da),xe=(0,_.Z)(Ze,2),$=xe[0],je=xe[1],De=r.useState(!0),b=(0,_.Z)(De,2),H=b[0],Ke=b[1],Te=(0,fr.ZP)(function(){return(0,le.xP)((0,i.Z)((0,i.Z)({},$),{},{ws_id:x}))},{debounceInterval:200,refreshDeps:[$]}),Y=Te.data,D=Te.loading,Se={selectedRowKeys:v.map(function(N){return N.id}),preserveSelectedRowKeys:!1,getCheckboxProps:function(L){return{name:L.name}},onSelect:function(L,ue){c(function(te){return ue?te.concat(L):te.filter(function(G){return G.id!==L.id})})},onSelectAll:function(L,ue,te){var G=te.map(function(J){return J.id});c(function(J){return L?J.concat(te):J.filter(function(Ve){return!G.includes(Ve.id)})})}},Be=[{title:(0,e.jsx)(m._H,{id:"analysis.baseline_name"}),dataIndex:"name",width:150,ellipsis:{shwoTitle:!1},filterDropdown:function(L){var ue=L.confirm;return(0,e.jsx)(vn.Z,{confirm:ue,autoFocus:H,onConfirm:function(G){return je(function(J){return(0,i.Z)((0,i.Z)({},J),{},{name:G,page_num:1})})},placeholder:R({id:"analysis.baseline.placeholder"})})},onFilterDropdownVisibleChange:function(L){L&&Ke(!H)},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:$!=null&&$.name?"#1890ff":void 0}})},render:function(L){return L}},{title:(0,e.jsx)(m._H,{id:"analysis.test_type"}),width:100,dataIndex:"test_type",ellipsis:{shwoTitle:!1},render:function(L,ue){var te=["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(ue.test_type)?"functional":"performance";return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:R({id:"header.test_type.".concat(te)})})},filterIcon:function(){return(0,e.jsx)(ge.Z,{style:{color:$!=null&&$.test_type?"#1890ff":void 0}})},filterDropdown:function(L){var ue=L.confirm;return(0,e.jsx)(ur.Z,{list:Q,confirm:ue,onConfirm:function(G){var J=void 0;G===1&&(J="functional"),G===0&&(J="performance"),je(function(Ve){return(0,i.Z)((0,i.Z)({},Ve),{},{test_type:J,page_num:1})})}})}},(0,i.Z)((0,i.Z)({title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:80,ellipsis:{shwoTitle:!1},dataIndex:"creator_name"},(0,Ea.ln)($,je,"creator")),{},{render:function(L){return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:L||"-"})}}),{title:(0,e.jsx)(m._H,{id:"analysis.gmt_created"}),width:180,ellipsis:{shwoTitle:!1},dataIndex:"gmt_created",render:function(L){return L||"-"}}];return(0,e.jsxs)(K.Z,{direction:"vertical",style:{width:"100%",display:"flex",padding:"0 16px"},size:0,children:[(0,e.jsx)(dr.sL,{rowSelection:Se,rowKey:"id",name:"ws-analysis-compare-baseline-add",columns:Be,refreshDeps:[$,x],loading:D,dataSource:Y==null?void 0:Y.data,pagination:!1,size:"small"}),(0,e.jsx)(cr.Z,{total:Y==null?void 0:Y.total,currentPage:$==null?void 0:$.page_num,pageSize:$==null?void 0:$.page_size,onPageChange:function(L,ue){return je(function(te){return(0,i.Z)((0,i.Z)({},te),{},{page_num:L,page_size:ue})})}})]})},Ra=Oa,Pa=function(d,v){var c=d.onOk,g=(0,m.YB)(),x=r.useState(),A=(0,_.Z)(x,2),R=A[0],Q=A[1],Ze=r.useState(!1),xe=(0,_.Z)(Ze,2),$=xe[0],je=xe[1],De=r.useState([]),b=(0,_.Z)(De,2),H=b[0],Ke=b[1],Te=r.useState("job"),Y=(0,_.Z)(Te,2),D=Y[0],Se=Y[1],Be=function(J){Se(J),Ke(J===(R==null?void 0:R.type)?R==null?void 0:R.members:[])};r.useImperativeHandle(v,function(){return{show:function(J){Q(J),Se((J==null?void 0:J.type)||"job"),je(!0),Ke(J.members||[])}}});var N=function(){je(!1),Ke([]),Se("job")},L=function(){var J={};if(D==="job"&&H.length>0){var Ve=H[0],et=Ve.product_id,Ie=Ve.product_version;J.product_id=et,J.product_version=Ie}var we=(0,i.Z)((0,i.Z)((0,i.Z)({},R),{},{members:H},J),{},{type:D});c==null||c(we),N()},ue=(0,i.Z)((0,i.Z)((0,i.Z)({},d),R),{},{activeKey:D,selectedRowDatas:H,setSelectedRowDatas:Ke}),te=function(J){return R!=null&&R.type?(R==null?void 0:R.type)!==J:!1};return(0,e.jsx)(xt.Z,{title:R==null?void 0:R.name,centered:!0,open:$,width:1e3,className:j().baseline_del_modal,onOk:L,onCancel:N,maskClosable:!1,destroyOnClose:!0,bodyStyle:{padding:0,minHeight:480},footer:(0,e.jsxs)(Dn.Z,{justify:"space-between",align:"middle",children:[(0,e.jsxs)(K.Z,{children:[(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(m._H,{id:"analysis.selected"}),H.length,(0,e.jsx)(m._H,{id:"analysis.item"})]}),(0,e.jsx)(B.Z.Link,{onClick:function(){return Ke([])},children:(0,e.jsx)(m._H,{id:"analysis.all.cancel"})})]}),(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(ye.Z,{onClick:N,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(ye.Z,{type:"primary",onClick:L,children:(0,e.jsx)(m._H,{id:"operation.ok"})})]})]}),children:(0,e.jsx)(Fe.Z,{activeKey:D,onTabClick:Be,items:["job","baseline"].map(function(G){return{key:G,disabled:te(G),label:g.formatMessage({id:"analysis.".concat(G,".data")}),children:G==="job"?(0,e.jsx)(Ca,(0,i.Z)({},ue)):(0,e.jsx)(Ra,(0,i.Z)({},ue))}})})})},Ia=r.forwardRef(Pa),wa=B.Z.Text,Qn=Pe.Z.Option,Ma=function(h){var d=(0,m.YB)(),v=d.formatMessage,c=(0,m.Kd)()==="en-US",g=(0,Ge.UO)(),x=g.ws_id,A=h.location.state,R=f().get(A,"".concat(x,"-compareData"));R=R&&f().isArray(JSON.parse(R))?JSON.parse(R):[],R=pa(R);var Q=f().get(A,"".concat(x,"-noGroupJobData"));Q=Q&&f().isArray(JSON.parse(Q))?JSON.parse(Q):[];var Ze=f().get(A,"".concat(x,"-originType"))||"",xe=(0,Ee.CR)(),$=xe.height,je=(0,r.useState)(R),De=(0,_.Z)(je,2),b=De[0],H=De[1],Ke=(0,r.useState)(Q),Te=(0,_.Z)(Ke,2),Y=Te[0],D=Te[1],Se=(0,r.useRef)(null),Be=(0,r.useState)(!1),N=(0,_.Z)(Be,2),L=N[0],ue=N[1],te=(0,r.useRef)([]),G=(0,r.useRef)([]),J=(0,r.useState)(!1),Ve=(0,_.Z)(J,2),et=Ve[0],Ie=Ve[1],we=(0,r.useState)(null),Mt=(0,_.Z)(we,2),We=Mt[0],lt=Mt[1],ut=(0,r.useState)(!0),kt=(0,_.Z)(ut,2),Me=kt[0],yt=kt[1],Dt=(0,r.useState)(!1),ne=(0,_.Z)(Dt,2),E=ne[0],C=ne[1],I=(0,r.useState)(null),F=(0,_.Z)(I,2),re=F[0],Z=F[1],W=(0,r.useState)(!0),k=(0,_.Z)(W,2),ve=k[0],ae=k[1],ie=(0,r.useRef)(null),$e=(0,r.useRef)(null);document.title="\u914D\u7F6E\u9875-T-One";var rt=(0,r.useRef)(null),at=(0,r.useRef)(null),Ot=(0,r.useRef)(null),_n=(0,r.useRef)(null),tt=r.useMemo(function(){return b.findIndex(function(p){var t=p.is_base_group;return t})},[b]);(0,r.useEffect)(function(){Ze!=="test_result"&&gn()},[]);var ct=function(){yt(!Me),Me||(ie.current.style.left="0"),Me&&(ie.current.style.left="-260px")};(0,r.useEffect)(function(){C(!!b.filter(function(p){return p.type==="job"}).reduce(function(p,t){var n=t.members;return p.concat(n)},[]).length)},[b]);var Kn=function(t){var n,s=(n=t.trim().match(/\(\d+\)$/))===null||n===void 0?void 0:n[0].replace(/[\(\)]/g,"");return s?+s:0},ln=function(t,n){var s=n.trim(),o=t.filter(function(l){return l.name.trim().replace(/\(\d+\)$/,"")===s}).map(function(l){return Kn(l.name)}).sort(function(l,y){return y-l}),u=o==null?void 0:o[0];return Object.prototype.toString.call(u)==="[object Number]"?"".concat(s,"(").concat(u+1,")"):s},On=function p(t,n){var s=t.filter(function(u){return u.product_version===t[0].product_version&&u.product_id===t[0].product_id});n.push(s);var o=f().xorWith(t,s,f().isEqual);o.length&&p(o,n),o.length||(n=n.map(function(u){var l,y;return{members:u,product_version:(l=u[0])===null||l===void 0?void 0:l.product_version,product_id:(y=u[0])===null||y===void 0?void 0:y.product_id}}),G.current=n)},Nn=function p(t,n){var s=t.filter(function(u){return u.product_version===t[0].product_version&&u.server===t[0].server&&u.product_id===t[0].product_id});n.push(s);var o=f().xorWith(t,s,f().isEqual);o.length&&p(o,n),o.length||(n=n.map(function(u){return{members:u,product_version:u[0].product_version,server:u[0].server}}),G.current=n)},Rn=function(t){var n=f().cloneDeep(b),s=f().cloneDeep(Y),o=[];if(s.length&&t==="version"&&(On(s,[]),G.current.forEach(function(l){var y=f().find(n,function(oe){return oe.product_version===l.product_version&&oe.product_id===l.product_id});if(y){y.members=[].concat((0,ee.Z)(y.members),(0,ee.Z)(l.members));var w=f().findIndex(n,function(oe){return oe.id===y.id});w!==-1&&(n[w]=y)}if(!y){var M=bt(n,l.product_version),me={product_version:l.product_version,members:l.members,product_id:l.product_id,name:M,type:"job",id:(0,Xn.Z)()};n.push(me)}})),s.length&&t==="sn"){var u=[];s.forEach(function(l){l.server&&l.server.split(",").length===1&&u.push(l),(!l.server||l.server.split(",").length!==1)&&o.push(l)}),u.length&&Nn(u,[]),u.length||(G.current=[]),n=n.map(function(l){var y=!1,w=[];return l.members.forEach(function(M){f().get(M,"server")&&w.push(f().get(M,"server"))}),w=f().uniq(w),w.length===1&&w[0].split(",").length===1&&(y=!0),(0,i.Z)((0,i.Z)({},l),{},{isSnSame:y})}),G.current.forEach(function(l){var y=f().find(n,function(oe){return oe.product_version===l.product_version&&oe.isSnSame&&oe.members[0].server===l.server});if(y){y.members=[].concat((0,ee.Z)(y.members),(0,ee.Z)(l.members));var w=f().findIndex(n,function(oe){return oe.id===y.id});w!==-1&&(n[w]=y)}if(!y){var M=bt(n,l.product_version),me={product_version:l.product_version,members:l.members,product_id:l.product_id,name:M,type:"job",id:(0,Xn.Z)()};n.push(me)}})}Z(t),H(n),D(o)},Pn=function(){var t;(t=_n.current)===null||t===void 0||t.show()},hn=function(){var t=b.filter(function(o){return o.type!=="baseline"}),n=t.reduce(function(o,u){return o.concat(u.members)},[]).concat(Y),s=Object.entries(n.reduce(function(o,u){var l=u.id;return o[l]=u,o},{})).map(function(o){var u=(0,_.Z)(o,2),l=u[1];return l});Z(null),H(b.filter(function(o){return o.type==="baseline"})),D(s)},bt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v({id:"analysis.comparison.group"});return ln(t,n||v({id:"analysis.comparison.group"}))},gn=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=f().cloneDeep(b),s=bt(),o={product_version:void 0,product_id:void 0,members:[],name:s,type:t,id:(0,Xn.Z)()};n.push(o),H(n)},In=function(t,n){H(function(s){return s.map(function(o,u){return(0,i.Z)((0,i.Z)({},o),{},{is_base_group:n===u})})})},wn=function(t){lt("ongroup".concat(t))},Gn=function(t,n){lt("".concat(t).concat(n))},Mn=function(t){t||lt(null)},un=function(t,n){t.stopPropagation();var s=f().cloneDeep(Y);s=s.filter(function(o,u){return u!==n}),D(s),lt(null)},cn=function(t,n,s){t.stopPropagation();var o=f().cloneDeep(b);if(o[n].members=o[n].members.filter(function(l,y){return y!==s}),!o[n].members.length){var u=bt();o[n].product_version=u,o[n].name=u}H(o),lt(null)};r.useEffect(function(){window.sessionStorage.setItem("".concat(x,"-compareData"),JSON.stringify(b)),window.sessionStorage.setItem("".concat(x,"-noGroupJobData"),JSON.stringify(Y))},[b,Y,x]);var xn=function(t){H(function(n){var s=n.filter(function(o){return o.id!==t.id});return s})},jn=function(t){H(function(n){return n.map(function(s){return s.id===t.id?t:s})})},Wn=function(){D([]),H([])},dn=r.useMemo(function(){var p=[],t=(0,Ne.Z)(b),n;try{for(t.s();!(n=t.n()).done;){var s=n.value;p.push(s.members)}}catch(o){t.e(o)}finally{t.f()}return!(p.length>0)},[b]),O=function(){if(!dn){for(var t=0,n=b.length;t<n;t++){var s=b[t];if(s.members&&s.members.length===0){se.default.warning(v({id:"analysis.comparison.group.compare_data.empty"}));return}}var o=0,u=!1;if(b.forEach(function(y){y.members.length>0&&(o++,u=y.type==="baseline")}),o>1&&tt===-1){Ie(!0);var l=v({id:"analysis.please.set.the.benchmark.group"});return se.default.warning(l)}if(o===1&&u)return se.default.warning(v({id:"analysis.please.add.comparison.group"}));b.length===1&&tt===-1&&H(function(y){return y.map(function(w){return(0,i.Z)((0,i.Z)({},w),{},{is_base_group:!0})})}),Ot==null||Ot.current.show()}};(0,r.useEffect)(function(){var p;et?p=setTimeout(function(){Ie(!1)},3e3):clearTimeout(p)},[et]);var S=function(){var p=(0,ze.Z)((0,pe.Z)().mark(function t(n){var s;return(0,pe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,le.k3)(n);case 2:return s=u.sent,u.abrupt("return",s);case 4:case"end":return u.stop()}},t)}));return function(n){return p.apply(this,arguments)}}(),P=function(){var p=(0,ze.Z)((0,pe.Z)().mark(function t(n){var s;return(0,pe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,le.gQ)(n);case 2:return s=u.sent,u.abrupt("return",s);case 4:case"end":return u.stop()}},t)}));return function(n){return p.apply(this,arguments)}}(),z=function(){return b.filter(function(t){return f().get(t,"members")&&f().get(t,"members").length})},V=function(t){var n=(0,mn.LN)(t),s=fn(t);ue(!0),Promise.all([S(n)]).then(function(o){if(ue(!1),o[0].code===200){m.m8.push({pathname:"/ws/".concat(x,"/test_analysis/result"),state:{wsId:x,baselineGroupIndex:tt,allGroupData:z(),compareGroupData:s,domainGroupResult:o[0].data,testDataParam:t,envDataParam:s}});return}}).catch(function(o){ue(!1),se.default.error(v({id:"request.failed"})),console.log(o)})},Re=function(t,n){ue(!0);var s=n.func_suite_dic||{},o=n.perf_suite_dic||{},u=0,l=Object.keys(s)||[],y=Object.keys(o)||[],w=[],M={func_suite_dic:(0,mn.wb)(s,b,u,l,w),perf_suite_dic:(0,mn.wb)(o,b,u,y,w)},me=fn(n),oe=(0,mn.LN)(n);Promise.all([P(me),S(oe)]).then(function(q){if(ue(!1),q[0].code===200&&q[1].code===200){m.m8.push({pathname:"/ws/".concat(x,"/test_create_report"),state:{environmentResult:q[0].data,baselineGroupIndex:tt,allGroupData:z(),testDataParam:f().cloneDeep(M),domainGroupResult:q[1].data,compareGroupData:me,saveReportData:t}});return}if(q[1].code===1358){var Zt=v({id:"analysis.please.add.comparison.group"});se.default.error(Zt);return}if(q[0].code!==200){se.default.error(q[0].msg);return}q[1].code!==200&&se.default.error(q[1].msg)}).catch(function(q){ue(!1),se.default.error(v({id:"request.failed"})),console.log(q)})},en=function(t){var n;Ot.current.hide(),(n=$e.current)===null||n===void 0||n.show(t)},tn=function p(t,n){var s=t.filter(function(u){return u.product_version===t[0].product_version});n.push(s);var o=f().xorWith(t,s,f().isEqual);o.length&&p(o,n),o.length||(n=n.map(function(u){return u.length<2?u:u.map(function(l,y){return(0,i.Z)((0,i.Z)({},l),{},{product_version:"".concat(l.product_version,"(").concat(++y,")")})})}),te.current=n)},fn=function(t){var n=(0,mn.Jn)(t,b.map(function(He){return He.members||[]}).flat(Infinity)),s=n.baseArr,o=n.compareArr,u=f().cloneDeep(b).filter(function(He){return f().get(He,"members")&&f().get(He,"members").length}),l=[];u.length&&(tn(u,[]),l=te.current.flat());var y=b.filter(function(He,nn){return nn!==tt}).filter(function(He){return f().get(He,"members")&&f().get(He,"members").length}),w=b.filter(function(He,nn){return f().get(He,"members")&&f().get(He,"members").length}),M={},me=[];if(w.length===1){var oe;M={tag:((oe=l[0])===null||oe===void 0?void 0:oe.name)||"",base_objs:s}}else{var q;M={tag:l.length?(q=l[tt])===null||q===void 0?void 0:q.name:"",base_objs:s},me=f().reduce(y,function(He,nn){var Rt,Le,Pt,Ln=f().findIndex(l,function(zt){return String(zt.id)===String(nn.id)}),An=(Rt=l[Ln])===null||Rt===void 0||(Le=Rt.members)===null||Le===void 0?void 0:Le.map(function(zt){return zt.id}),yr={tag:(Pt=l[Ln])===null||Pt===void 0?void 0:Pt.name,base_objs:o.reduce(function(zt,Fn){var br=Fn.obj_id;return An.includes(br)?zt.concat(Fn):zt},[])};return He.push(yr),He},[])}var Zt={base_group:M,compare_groups:me};return Zt},qn=function(t){var n=t.group,s=r.useState(!1),o=(0,_.Z)(s,2),u=o[0],l=o[1],y=function(M){var me=M.key;if(me==="editMark"){var oe;(oe=Se.current)===null||oe===void 0||oe.show(n)}if(me==="deleteMark"){var q;(q=rt.current)===null||q===void 0||q.show(n)}l(!1)};return(0,e.jsx)(Xe.Z,{trigger:["click"],onOpenChange:l,open:u,overlayClassName:j().groupOptionIconStyle,content:(0,e.jsx)(X.Z,{onClick:y,items:["editMark","deleteMark"].map(function(w){return{key:w,title:v({id:"analysis.".concat(w)}),label:v({id:"analysis.".concat(w)})}})}),children:(0,e.jsx)("span",{className:j().opreate_button,children:(0,e.jsx)(Ut.Z,{})})})},pr=function(t){H(function(n){return n.map(function(s){return t.id===s.id?(t==null?void 0:t.by_edit)===1?t:(0,i.Z)((0,i.Z)({},t),{},{name:bt(n,t==null?void 0:t.product_version)}):s})})},er=function(t){t.stopPropagation()},tr=function(t){if(!t.length)return"";if(t.length===1)return(0,e.jsx)(sr.Z,{title:t[0],refData:b,customStyle:{display:"inline-block",maxWidth:"50%"},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Pr,{style:{marginRight:2}}),t[0]]})});var n=t.map(function(s){return(0,e.jsxs)("span",{children:[s,(0,e.jsx)("br",{})]},(0,Xn.Z)())});if(t.length>1)return(0,e.jsx)(U.Z,{placement:"right",title:n,children:(0,e.jsxs)("span",{onMouseOver:er,style:{color:"#1890FF",boxSizing:"border-box",display:"inline-block",maxWidth:"50%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,e.jsx)(Pr,{style:{marginRight:2}}),t[0]]})})},vr=function(t,n,s){var o=Array.from(t),u=o.splice(n,1),l=(0,_.Z)(u,1),y=l[0];return o.splice(s,0,y),o},nr=function(t,n,s){var o=Array.from(t),u=o.splice(n,1),l=(0,_.Z)(u,1),y=l[0];return o.splice(s,0,y),o},mr=function(t,n,s,o,u){var l=t[u],y=f().cloneDeep(l.members),w=t[o].members.splice(n,1),M=(0,_.Z)(w,1),me=M[0];l.members.splice(s,0,me);var oe=f().get(l.members[0],"product_version");if((!y||!y.length)&&oe&&(l.product_version=oe,(l==null?void 0:l.by_edit)!==1&&l.name.replace(/\(\d+\)$/,"")!==l.product_version)){var q=ln(t,oe);l.name=q}return l.type=t[o].type,t},_r=function(t,n,s,o,u){var l=n[u],y=f().cloneDeep(l.members),w=t.splice(s,1),M=(0,_.Z)(w,1),me=M[0];l.members.splice(o,0,me);var oe=f().get(l.members[0],"product_version");if((!y||!y.length)&&oe&&(l.product_version=oe,(l==null?void 0:l.by_edit)!==1&&l.name.replace(/\(\d+\)$/,"")!==l.product_version)){var q=ln(n,oe);l.name=q}return l.type="job",l.product_id=f().get(n[u].members[0],"product_id"),{groupArr:n,noGoupArr:t}},kn=function(t,n,s,o,u){var l=t[u].members.splice(s,1),y=(0,_.Z)(l,1),w=y[0];return n.splice(o,0,w),{groupArr:t,noGoupArr:n}},rr=function(t){if(!!t.destination){var n=f().cloneDeep(b),s=f().cloneDeep(Y),o=t.source.droppableId.replace("Group",""),u=t.destination.droppableId.replace(new RegExp("Group","g"),"");if(o=Number(o),u=Number(u),t.source.droppableId===t.destination.droppableId&&t.source.droppableId!=="noGroup"){var l=nr(n[o].members,t.source.index,t.destination.index);n[o].members=l}if(t.source.droppableId===t.destination.droppableId&&t.source.droppableId==="noGroup"){var y=nr(s,t.source.index,t.destination.index);s=y}if(t.source.droppableId!==t.destination.droppableId&&t.source.droppableId!=="noGroup"&&t.destination.droppableId!=="noGroup"){var w=f().cloneDeep(n),M=w[o].members[0],me=w[u].members[0];if(me&&M&&(f().get(M,"product_version")!==f().get(me,"product_version")||f().get(M,"product_id")!==f().get(me,"product_id")))return;var oe=mr(n,t.source.index,t.destination.index,o,u);n=oe}if(t.source.droppableId!==t.destination.droppableId&&t.source.droppableId==="noGroup"){var q=f().cloneDeep(n),Zt=f().cloneDeep(s),He=Zt[t.source.index],nn=q[u].members[0];if(nn&&He&&(f().get(He,"product_version")!==f().get(nn,"product_version")||f().get(He,"product_id")!==f().get(nn,"product_id")))return;var Rt=_r(s,n,t.source.index,t.destination.index,u);s=Rt.noGoupArr,n=Rt.groupArr}if(t.source.droppableId!==t.destination.droppableId&&t.destination.droppableId==="noGroup"){var Le=kn(n,s,t.source.index,t.destination.index,o);s=Le.noGoupArr,n=Le.groupArr}H(n),D(s)}},hr=function(t){if(!!t.destination)if(t.type==="DEFAULT"){var n=f().cloneDeep(b),s=vr(n,t.source.index,t.destination.index);H(s)}else rr(t)},yn=va(f().cloneDeep(b)),Yt=ma(Y),bn={height:$-329+8-22-5},gr=function(t,n){return f().get(t,"members").length?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:j().first_part,children:[(0,e.jsx)(Ar,{text:t.name,flag:t.type==="baseline",isBaseGroup:n===tt}),(0,e.jsx)(qn,{group:b[n]}),n!==tt&&(0,e.jsx)("span",{className:et?j().baseTag:j().baseGroupColorFn,onClick:f().partial(In,b[n],n),children:(0,e.jsx)(m._H,{id:"analysis.set.benchmark.group"})})]}),(0,e.jsx)(T.Z,{className:j().line}),(0,e.jsx)("ul",{children:(0,e.jsx)(Wt.bK,{droppableId:"Group".concat(n),index:n,type:"1",children:function(o){return(0,e.jsx)(Vt.$B,{autoHeightMax:ve?bn.height+64-20:bn.height+64+32,autoHeight:!0,children:(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({className:j().second_part,ref:o.innerRef},o.droppableProps),o.dragHandleProps),{},{style:En(o.droppableProps.style),children:[t&&t.members.map(function(u,l){if(!u)return"";var y=f().get(u,"server")&&u.server.split(",");return y=f().isArray(y)?y:[],(0,e.jsx)(Wt._l,{draggableId:u.id,index:l,children:function(M){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:M.innerRef},M.draggableProps),M.dragHandleProps),{},{style:En(M.draggableProps.style),children:(0,e.jsxs)("li",{style:{background:"#fff"},children:[(0,e.jsx)(B.Z.Text,{ellipsis:{tooltip:!0},children:u.name}),(0,e.jsxs)("div",{children:[u.name&&(0,e.jsx)(sr.Z,{title:u.name,refData:b,customStyle:{display:"inline-block",maxWidth:"50%",paddingRight:8},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Dr,{style:{marginRight:2,transform:"translateY(2px)"}}),u.name]})}),tr(y)]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:"#".concat(u.job_id)}),(0,e.jsx)("span",{children:u.creator_name}),(0,e.jsx)(Ye.Z,{title:(0,e.jsx)(m._H,{id:"analysis.delete.job.prompt"}),onConfirm:f().partial(cn,f(),n,l),okText:(0,e.jsx)(m._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(m._H,{id:"operation.cancel"}),arrowPointAtCenter:!0,trigger:"click",onOpenChange:f().partial(Mn,f(),n,l),children:(0,e.jsx)("span",{style:{opacity:We==="".concat(n).concat(l)?1:0},className:j().compare_job_delete,onClick:f().partial(Gn,n,l),children:(0,e.jsx)(m._H,{id:"operation.delete"})})})]})]},u.job_id)}))}},u.id)}),o.placeholder]}))})}},"Group".concat(n))})]}):(0,e.jsx)(Wt.bK,{droppableId:"Group".concat(n),index:n,type:"1",children:function(o){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({className:j().second_part,ref:o.innerRef},o.droppableProps),o.dragHandleProps),{},{style:En(o.droppableProps.style),children:[(0,e.jsxs)("div",{className:j().first_part,children:[(0,e.jsx)(Ar,{text:t.name,flag:t.type==="baseline",isBaseGroup:n===tt}),(0,e.jsx)(qn,{group:b[n]}),n!==tt&&(0,e.jsx)("span",{className:et?j().baseTag:j().baseGroupColorFn,onClick:f().partial(In,b[n],n),children:(0,e.jsx)(m._H,{id:"analysis.set.benchmark.group"})})]}),(0,e.jsx)(T.Z,{className:j().line}),o.placeholder]}))}},"Group".concat(n))},xr=function(){return Yt.length?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:j().group_type,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(m._H,{id:"analysis.auto.group"}),(0,e.jsx)("span",{className:j().cancle_group,onClick:hn,style:{display:E?"inline-block":"none"},children:(0,e.jsx)(m._H,{id:"analysis.revoke"})})]}),(0,e.jsx)("div",{className:j().button,children:(0,e.jsxs)(Pe.Z,{onChange:Rn,value:re,disabled:E,placeholder:v({id:"analysis.select.group.placeholder"}),children:[(0,e.jsx)(Qn,{value:"version",children:(0,e.jsx)(m._H,{id:"analysis.product.version"})}),(0,e.jsx)(Qn,{value:"sn",children:(0,e.jsx)(m._H,{id:"analysis.by.machine"})})]})})]}),(0,e.jsx)(T.Z,{className:j().line}),(0,e.jsx)("ul",{children:(0,e.jsx)(Vt.$B,{autoHeightMax:bn.height-94+68+80+5,autoHeight:!0,children:(0,e.jsx)(Wt.bK,{droppableId:"noGroup",index:Yt.length,type:"1",children:function(n){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({className:j().second_part,ref:n.innerRef},n.droppableProps),n.dragHandleProps),{},{style:(0,i.Z)((0,i.Z)({},En(n.droppableProps.style)),{},{height:bn.height-94+68+80}),children:[Yt.map(function(s,o){if(!s)return"";var u=f().get(s,"server")&&s.server.split(",");return u=f().isArray(u)?u:[],(0,e.jsx)(Wt._l,{draggableId:s.id,index:o,children:function(y){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:y.innerRef},y.draggableProps),y.dragHandleProps),{},{style:En(y.draggableProps.style),children:(0,e.jsxs)("li",{style:{background:"#fff"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(B.Z.Text,{ellipsis:{tooltip:!0},children:s.name})}),(0,e.jsxs)("div",{children:[s.name&&(0,e.jsx)(sr.Z,{title:s.name,refData:b,customStyle:{display:"inline-block",maxWidth:"50%",paddingRight:8},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Dr,{style:{marginRight:2,transform:"translateY(2px)"}}),s.name]})}),tr(u)]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:"#".concat(s.job_id)}),(0,e.jsx)("span",{children:s.creator_name}),(0,e.jsx)(Ye.Z,{title:(0,e.jsx)(m._H,{id:"analysis.delete.job.prompt"}),onConfirm:f().partial(un,f(),o),okText:(0,e.jsx)(m._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(m._H,{id:"operation.cancel"}),arrowPointAtCenter:!0,trigger:"click",onVisibleChange:f().partial(Mn),children:(0,e.jsx)("span",{style:{opacity:We==="ongroup".concat(o)?1:0},className:j().compare_job_delete,onClick:f().partial(wn,o),children:(0,e.jsx)(m._H,{id:"operation.delete"})})})]})]},s.job_id)}))}},s.id)}),n.placeholder]}))}},"noGroup".concat(Yt.length))})}),(0,e.jsx)("div",{className:j().addJobBtn,onClick:Pn,children:(0,e.jsxs)(K.Z,{children:[v({id:"analysis.table.add.job"}),(0,e.jsx)(Ct.Z,{})]})})]}):(0,e.jsx)(Wt.bK,{droppableId:"noGroup",index:Yt.length,type:"1",children:function(n,s){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:n.innerRef},n.droppableProps),n.dragHandleProps),{},{style:En(n.droppableProps.style),children:[(0,e.jsxs)("div",{className:j().group_type,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(m._H,{id:"analysis.auto.group"}),(0,e.jsx)("span",{className:j().cancle_group,onClick:hn,style:{display:E?"inline-block":"none"},children:(0,e.jsx)(m._H,{id:"analysis.revoke"})})]}),(0,e.jsx)("div",{className:j().button,children:(0,e.jsxs)(Pe.Z,{onChange:Rn,value:re,disabled:E,placeholder:(0,e.jsx)(m._H,{id:"analysis.select.group.placeholder"}),children:[(0,e.jsx)(Qn,{value:"version",children:(0,e.jsx)(m._H,{id:"analysis.product.version"})}),(0,e.jsx)(Qn,{value:"sn",children:(0,e.jsx)(m._H,{id:"analysis.by.machine"})})]})})]}),(0,e.jsx)(T.Z,{className:j().line}),(0,e.jsx)("div",{className:j().addJobBtn,onClick:Pn,children:(0,e.jsxs)(K.Z,{children:[v({id:"analysis.table.add.job"}),(0,e.jsx)(Ct.Z,{})]})}),n.placeholder]}))}},"noGroup".concat(Yt.length))},jr=function(){ae(!1)},zn=function(){return Ze==="test_result"?Me?innerWidth-276-20:innerWidth-16-20:yn.length>4?"100%":innerWidth-40},de=function(t){D(t)};return(0,e.jsx)(nt.Z,{style:{paddingRight:20,paddingBottom:20,height:$-50,minHeight:0,overflow:"auto",background:"#f5f5f5"},className:j().compare_job,children:(0,e.jsxs)(ke.Z,{spinning:L,children:[(0,e.jsx)("div",{className:j().content,style:{height:$-50-56},children:(0,e.jsx)(Wt.Z5,{onDragEnd:hr,children:(0,e.jsx)(Wt.bK,{droppableId:"droppable1",direction:"horizontal",children:function(t,n){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:t.innerRef},t.droppableProps),t.dragHandleProps),{},{style:(0,i.Z)((0,i.Z)({},_a(t.droppableProps.style)),{},{width:"100%"}),children:[(0,e.jsx)("div",{style:{width:Me?"276px":"16px",height:$-50-56-5},className:j().nogroup_content,children:(0,e.jsx)(Wt._l,{isDragDisabled:!0,draggableId:"waitGroup-".concat(Yt.length),index:Yt.length,children:function(o,u){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{className:j().expand_box,style:(0,i.Z)((0,i.Z)({},lr(o.draggableProps.style)),{},{transform:"translate(0, 0)"}),children:(0,e.jsxs)("div",{className:"".concat(j().group_info," ").concat(j().nogroup_info),ref:ie,style:{height:$-50-56-5,left:0},children:[(0,e.jsx)("div",{className:j().rightExpandButtom,onClick:ct,children:Me?(0,e.jsx)(oa,{}):(0,e.jsx)(da,{})}),(0,e.jsxs)("div",{className:j().first_part,children:[(0,e.jsx)(m._H,{id:"analysis.area.to.grouped"}),"(",Y.length,")"]}),(0,e.jsx)(T.Z,{className:j().line}),xr()]})}))}},"waitGroup-".concat(Y.length))}),(0,e.jsxs)("div",{style:{marginLeft:Ze==="test_result"?0:20},className:j().group_content,children:[(0,e.jsxs)("div",{className:j().compare_title,children:[(0,e.jsx)("span",{className:j().title_text,children:(0,e.jsx)(m._H,{id:"analysis.title"})}),(0,e.jsx)(wa,{children:(0,e.jsx)(m._H,{id:"analysis.subTitle"})})]}),ve&&(0,e.jsx)(dt.Z,{onClose:jr,message:(0,e.jsx)(m._H,{id:"analysis.isAlertClose"}),type:"info",showIcon:!0,closable:!0,style:{width:zn(),transition:"width ease 0.3s"}}),(0,e.jsxs)("div",{className:j().group_box,style:{marginTop:20},children:[yn.map(function(s,o){return(0,e.jsx)(Wt._l,{draggableId:s.id,index:o,children:function(l,y){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:l.innerRef},l.draggableProps),l.dragHandleProps),{},{style:(0,i.Z)({height:50},lr(l.draggableProps.style)),children:(0,e.jsxs)("div",{className:j().group_info,style:{left:"".concat(o*312,"px")},children:[gr(s,o),(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){var M;return(M=at.current)===null||M===void 0?void 0:M.show(b[o])},className:j().create_job_type,children:s.type==="baseline"?(0,e.jsx)(m._H,{id:"analysis.add.baseline"}):(0,e.jsx)(m._H,{id:"analysis.add.job"})})]})}))}},s.id)}),(0,e.jsx)(Wt._l,{isDragDisabled:!0,draggableId:"create-".concat(yn.length),index:yn.length,children:function(o){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{style:(0,i.Z)({},lr(o.draggableProps.style)),children:(0,e.jsx)("div",{className:j().create_group,style:{left:b.length?"".concat(b.length*312,"px"):0,height:bn.height+82,width:c?220:110},children:(0,e.jsxs)("div",{onClick:f().partial(gn,""),className:j().popover,children:[(0,e.jsx)(Ue.Z,{style:{fontSize:14,marginRight:8}}),(0,e.jsx)(m._H,{id:"analysis.create.comparison.group"})]})})}))}},"create-".concat(yn.length))]})]}),t.placeholder]}))}})})}),(0,e.jsx)("div",{className:j().footer_part,children:(0,e.jsx)("div",{className:j().bottom,children:(0,e.jsxs)(K.Z,{children:[(0,e.jsx)(ye.Z,{onClick:Wn,children:(0,e.jsx)(m._H,{id:"operation.clear"})}),(0,e.jsx)(ye.Z,{type:"primary",onClick:O,disabled:dn,children:(0,e.jsx)(m._H,{id:"operation.ok"})})]})})}),(0,e.jsx)(it,{ref:Se,onOk:jn}),(0,e.jsx)(ba,{ref:rt,onOk:xn}),(0,e.jsx)(Ia,{ref:at,allGroupData:b,noGroupData:Y,onOk:pr}),(0,e.jsx)(Jr,{ref:Ot,baselineGroupIndex:tt,onOk:V,creatReportOk:en,allGroupData:b}),(0,e.jsx)(ja,{ref:_n,onOk:de,groupData:b,noGroupData:Y}),(0,e.jsx)(fa.Z,{ref:$e,onOk:Re,allGroup:b})]})})}},51017:function(pt,vt,a){"use strict";a.d(vt,{_V:function(){return nt},xP:function(){return Lt},VX:function(){return ke},J1:function(){return rn},OF:function(){return ye},on:function(){return At},gQ:function(){return dt},k3:function(){return Ye},lI:function(){return Ae},a4:function(){return T}});var Ce=a(16917),nt=function(U){return(0,Ce.WY)("/api/job/test/",{params:U})},Lt=function(U){return(0,Ce.WY)("/api/baseline/list/",{params:U})},ke=function(U){return(0,Ce.WY)("/api/get/product/version/",{params:U})},rn=function(U){return(0,Ce.WY)("/api/job/result/compare/suite/",{method:"post",data:U})},ye=function(U){return(0,Ce.WY)("/api/job/result/compare/conf/",{method:"post",data:U})},At=function(U){return(0,Ce.WY)("/api/job/result/compare/list/",{method:"post",data:U})},dt=function(U){return(0,Ce.WY)("/api/job/result/compare/info/",{method:"post",data:U})},It=function(U){return request("/api/plan/view/",{params:U})},K=function(U){return request("/api/plan/result/",{params:U})},mt=function(U){return request("/api/plan/constraint/",{params:U})},Ye=function(U){return(0,Ce.WY)("/api/report/domain/group/",{method:"post",data:U})},Ae=function(U){return(0,Ce.WY)("/api/sys/product/",{params:U})},T=function(U){return(0,Ce.WY)("/api/job/result/compare/duplicate/",{method:"post",data:U})}},54564:function(pt,vt,a){"use strict";var Ce=a(20228),nt=a(11382),Lt=a(47673),ke=a(4107),rn=a(49111),ye=a(19650),At=a(57663),dt=a(71577),It=a(11849),K=a(39428),mt=a(3182),Ye=a(9715),Ae=a(20526),T=a(2824),fe=a(57338),U=a(440),Ft=a(20310),Xe=a(43358),wt=a(34041),X=a(67294),pe=a(50310),ze=a(12788),_t=a(96486),se=a.n(_t),Ne=a(16917),i=a(20009),ee=a(24480),_=a(85893),Tt,Pe=wt.Z.Option,Qe=(0,ze.ZP)(U.Z)(Tt||(Tt=(0,Ft.Z)([`
    .ant-drawer-title{
        font-weight: 600;
    }
    .server_provider {
        margin-bottom: 5px;  
    }
    .script_right_name{
        font-size: 14px;
        color: rgba(0,0,0,0.85);
    }
`])));vt.Z=(0,X.forwardRef)(function(B,r){var Ee=(0,Ne.YB)(),le=Ee.formatMessage,m=(0,i.UO)(),Ge=m.ws_id,St=B.onOk,j=B.allGroup,Ut=Ae.Z.useForm(),Ct=(0,T.Z)(Ut,1),Ue=Ct[0],Bt=(0,X.useState)(!1),Ht=(0,T.Z)(Bt,2),ht=Ht[0],Kt=Ht[1],Jt=(0,X.useState)(!1),gt=(0,T.Z)(Jt,2),e=gt[0],it=gt[1],ft=(0,X.useState)({}),xt=(0,T.Z)(ft,2),pn=xt[0],Fe=xt[1],Xt=(0,X.useState)(!0),Je=(0,T.Z)(Xt,2),Oe=Je[0],ot=Je[1],jt=(0,X.useState)([]),st=(0,T.Z)(jt,2),qe=st[0],Qt=st[1],Tn=(0,X.useState)([]),qt=(0,T.Z)(Tn,2),Nt=qt[0],Zn=qt[1],f=(0,X.useState)([]),Vt=(0,T.Z)(f,2),an=Vt[0],ar=Vt[1];(0,X.useImperativeHandle)(r,function(){return{show:function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it(!0),Fe(_e),Ue.setFieldsValue(_e),ir()}}});var Sn=function(){var Gt=(0,mt.Z)((0,K.Z)().mark(function _e(){var be,ce,he,ge;return(0,K.Z)().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:return Et.next=2,(0,pe.MD)({page_size:9999,page_num:1,ws_id:Ge});case 2:be=Et.sent,ce=be.data,he=be.code,ge=be.msg,he===200&&ar(ce),ot(!1),he!==200&&(0,ee.EV)(he,ge);case 9:case"end":return Et.stop()}},_e)}));return function(){return Gt.apply(this,arguments)}}();(0,X.useEffect)(function(){Sn()},[]),(0,X.useEffect)(function(){var Gt=se().find(an,"is_default"),_e=null;Gt&&(_e=Gt.id);var be=null;Nt.length===1&&(be=Nt[0]);var ce=null;qe.length===1&&(ce=qe[0].id);var he=Ue.getFieldsValue();he.template=_e,he.productVersion=be,he.project=ce,Ue.setFieldsValue(he)},[an,Nt,qe]);var ir=function(){var _e=[],be=[];try{j.forEach(function(ce,he){ce&&se().isArray(ce.members)&&ce.members.length&&(_e.push(ce.members[0].product_version),ce.members.forEach(function(ge){return be.push({id:ge.project_id,name:ge.project_name})}))}),_e=se().uniq(_e),be=se().uniqWith(be,se().isEqual),be=be.filter(function(ce){return ce.id!==void 0}),Zn(_e),Qt(be)}catch(ce){console.log(ce)}},Bn=function(){Ue.resetFields(),Kt(!1),it(!1)},or=function(){Kt(!0),Ue.validateFields().then(function(){var _e=(0,mt.Z)((0,K.Z)().mark(function be(ce){var he,ge;return(0,K.Z)().wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:he=ce.template,ge=se().find(an,{id:he}),St((0,It.Z)((0,It.Z)({},ce),{},{is_default:se().get(ge,"is_default")}),pn),Bn();case 4:case"end":return Et.stop()}},be)}));return function(be){return _e.apply(this,arguments)}}()).catch(function(_e){console.log(_e),Kt(!1)})},Cn=function(_e){var be="",ce=an;if(_e==="template"){var he=se().find(ce,"is_default");he&&(be=he.id)}return _e==="productVersion"&&(ce=Nt.filter(function(ge){return ge}),ce.length===1&&(be=ce[0])),_e==="project"&&(ce=qe,ce.length===1&&(be=ce[0].id)),be},Un=function(_e){var be="",ce=an;return _e==="template"&&(be=le({id:"report.please.select.template"})),_e==="productVersion"&&(ce=Nt.filter(function(he){return he}),be=le({id:"report.select.productVersion"})),_e==="project"&&(ce=qe,be=le({id:"report.select.project"})),(0,_.jsx)(wt.Z,{showSearch:!0,allowClear:!0,placeholder:be,optionFilterProp:"children",style:{width:"100%"},onChange:function(ge){var on=Ue.getFieldsValue();on[_e]=ge,Ue.setFieldsValue(on)},showArrow:!0,filterOption:function(ge,on){return on.children.toLowerCase().indexOf(ge.toLowerCase())>=0},children:ce.map(function(he){return _e==="productVersion"?(0,_.jsx)(Pe,{value:he,children:he},he):(0,_.jsx)(Pe,{value:he.id,children:he.name},he.id)})})};return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(nt.Z,{spinning:Oe,children:(0,_.jsx)(Qe,{title:(0,_.jsx)(Ne._H,{id:"report.generate.report"}),width:"375",onClose:Bn,visible:e,footer:(0,_.jsx)("div",{style:{textAlign:"right"},children:(0,_.jsxs)(ye.Z,{children:[(0,_.jsx)(dt.Z,{onClick:Bn,children:(0,_.jsx)(Ne._H,{id:"operation.cancel"})}),(0,_.jsx)(dt.Z,{type:"primary",disabled:ht,onClick:or,children:(0,_.jsx)(Ne._H,{id:"operation.ok"})})]})}),children:(0,_.jsxs)(Ae.Z,{form:Ue,layout:"vertical",initialValues:{template:Cn("template"),productVersion:Cn("productVersion"),project:Cn("project")},children:[(0,_.jsx)(Ae.Z.Item,{label:(0,_.jsx)(Ne._H,{id:"report.columns.name"}),name:"name",rules:[{required:!0,message:le({id:"report.please.enter.name"})}],children:(0,_.jsx)(ke.Z,{autoComplete:"auto",placeholder:le({id:"report.please.enter.name"})})}),(0,_.jsx)(Ae.Z.Item,{label:(0,_.jsx)(Ne._H,{id:"report.select.template"}),name:"template",rules:[{required:!0}],children:Un("template")}),(0,_.jsx)(Ae.Z.Item,{label:(0,_.jsx)(Ne._H,{id:"report.columns.product_version"}),name:"productVersion",children:Un("productVersion")}),(0,_.jsx)(Ae.Z.Item,{label:(0,_.jsx)(Ne._H,{id:"report.columns.project"}),name:"project",children:Un("project")}),(0,_.jsx)(Ae.Z.Item,{label:(0,_.jsx)(Ne._H,{id:"report.description.input"}),name:"description",children:(0,_.jsx)(ke.Z.TextArea,{placeholder:le({id:"report.description.placeholder"})})})]})})})})})},85450:function(pt,vt,a){"use strict";a.d(vt,{sL:function(){return Pe},ny:function(){return _},Fu:function(){return Tt}});var Ce=a(11849),nt=a(2824),Lt=a(93224),ke=a(32059),rn=a(66456),ye=a(79764),At=a(86582),dt=a(19273),It=a(20310),K=a(67294),mt=a(1706),Ye=a(12788),Ae=a(57392),T=a(85893),fe=["width","onResizeStart","onResize","onResizeStop","resize"],U=["columns","name","onColumnsChange"],Ft,Xe,wt,X=Ye.ZP.div(Ft||(Ft=(0,It.Z)([`
    position: relative;
    width: 100%;
`]))),pe=Ye.ZP.div.attrs(function(Qe){return{style:{left:Qe.left,height:Qe==null?void 0:Qe.height}}})(Xe||(Xe=(0,It.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),ze=(0,Ye.ZP)(mt.Resizable)(wt||(wt=(0,It.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(Qe){var B=Qe.resize;return B?"col-resize":"default"}),_t=function(B){var r=B.width,Ee=B.onResizeStart,le=B.onResize,m=B.onResizeStop,Ge=B.resize,St=(0,Lt.Z)(B,fe);return(0,T.jsx)(ze,(0,Ce.Z)((0,Ce.Z)({width:r||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:Ee,onResize:le,onResizeStop:m,resize:Ge?1:0},St),{},{children:(0,T.jsx)("th",(0,Ce.Z)({},St))}))},se=function(B){var r=B.columns,Ee=r===void 0?[]:r,le=B.name,m=B.onColumnsChange,Ge=(0,Lt.Z)(B,U),St=K.useState(0),j=(0,nt.Z)(St,2),Ut=j[0],Ct=j[1],Ue=K.useState(0),Bt=(0,nt.Z)(Ue,2),Ht=Bt[0],ht=Bt[1],Kt=K.useState(!1),Jt=(0,nt.Z)(Kt,2),gt=Jt[0],e=Jt[1],it=K.useRef(null),ft=(0,Ae.Z)(it),xt=function(Oe){return function(ot,jt){var st;if((0,dt.Z)(jt),!!Ee[Oe].ellipsis){var qe=ot.clientX,Qt=qe-((st=it.current)===null||st===void 0?void 0:st.getBoundingClientRect().x);ht(Qt),Ct(Qt),e(!0)}}},pn=function(){return function(Oe){var ot,jt=Oe.clientX,st=jt-((ot=it.current)===null||ot===void 0?void 0:ot.getBoundingClientRect().x);Ct(st)}},Fe=function(Oe){return function(ot,jt){var st,qe=jt.size,Qt=ot.clientX,Tn=Qt-((st=it.current)===null||st===void 0?void 0:st.getBoundingClientRect().x),qt=(0,At.Z)(Ee);if(qt[Oe].ellipsis){var Nt=qe.width+=Tn-Ht,Zn=qt[Oe],f=Zn.dataIndex,Vt=Zn.key;Nt>20&&(qt[Oe]=(0,Ce.Z)((0,Ce.Z)({},qt[Oe]),{},{width:Nt}),le&&Tt(le,f||Vt,Nt),m==null||m())}Ct(0),ht(0),e(!1)}},Xt=K.useMemo(function(){return Ee.reduce(function(Je,Oe){return Oe.width?Je+=Oe==null?void 0:Oe.width:Je},0)},[Ee]);return(0,T.jsxs)(X,{ref:it,className:"resize-table-wrapper",children:[(0,T.jsx)(ye.Z,(0,Ce.Z)((0,Ce.Z)({},Ge),{},{components:{header:{cell:_t}},scroll:(B==null?void 0:B.scroll)||{x:Xt||(ft==null?void 0:ft.width)},columns:Ee.filter(Boolean).map(function(Je,Oe){return(0,Ce.Z)((0,Ce.Z)({},Je),{},{onHeaderCell:function(jt){return{resize:!!Je.ellipsis,width:jt.width,onResizeStart:xt(Oe),onResize:pn(),onResizeStop:Fe(Oe)}}})})})),gt&&(0,T.jsx)(pe,{height:ft==null?void 0:ft.height,left:Ut||Ht})]})},Ne=se,i=["name","columns","refreshDeps","onColumnsChange"],ee="umi_locale",_=function(B,r){var Ee=localStorage.getItem(B),le=localStorage.getItem(ee)||"zh-CN";if(!!Ee)return JSON.parse(Ee)["".concat(le,"-").concat(r)]},Tt=function(B,r,Ee){var le=localStorage.getItem(B),m=localStorage.getItem(ee)||"zh-CN",Ge=(0,ke.Z)({},"".concat(m,"-").concat(r),Ee);le?localStorage.setItem(B,JSON.stringify(Object.assign(JSON.parse(le),Ge))):localStorage.setItem(B,JSON.stringify(Ge))},Pe=function(B){var r=B.name,Ee=B.columns,le=B.refreshDeps,m=le===void 0?[]:le,Ge=B.onColumnsChange,St=(0,Lt.Z)(B,i),j=K.useState([]),Ut=(0,nt.Z)(j,2),Ct=Ut[0],Ue=Ut[1],Bt=function(){return(Ee==null?void 0:Ee.filter(Boolean).map(function(ht){var Kt=ht.dataIndex,Jt=ht.key,gt=ht.width,e=Kt||Jt,it=_(r,e);!it&&gt&&Tt(r,e,gt);var ft=it||gt;return ft&&(ht.width=ft),ht}))||[]};return K.useEffect(function(){Ue(Bt())},m),(0,T.jsx)(Ne,(0,Ce.Z)({name:r,columns:Ct,setColumns:Ue,size:"small",onColumnsChange:function(){Ge==null||Ge(),Ue(Bt())}},St))}}}]);
