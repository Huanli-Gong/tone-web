(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2715],{88062:function(ge){ge.exports={pagination:"pagination___ooSI8",hidden:"hidden___3mzqN",table_empty:"table_empty___KRJ5E"}},37231:function(ge){ge.exports={drawerWarper:"drawerWarper___zY5oE","upload-help-text":"upload-help-text___1cq3v",contentWarper:"contentWarper___2eAR4"}},8316:function(ge){ge.exports={TestUpload_root:"TestUpload_root___221c-",not_logged_in:"not_logged_in___1Kcs9",content_header:"content_header___34key",item1:"item1___1dMhG",content_table:"content_table___2liH5"}},82078:function(ge,de,t){"use strict";var s=t(67448),m=t(47548),h=t(36142),X=t(76837),D=t(20418),$e=t(488),B=t(22374),Y=t(22812),P=t(88062),f=t.n(P),i=t(79390),W=t(52454),Be=["total","loading","handlePage","showPagination","page","paginationBottom","pageSize","className"],G=function(y){var we=y.total,J=we===void 0?0:we,S=y.loading,xe=y.handlePage,ye=y.showPagination,We=ye===void 0?!0:ye,Ee=y.page,ne=Ee===void 0?1:Ee,Fe=y.paginationBottom,Te=Fe===void 0?!1:Fe,Re=y.pageSize,Pe=Re===void 0?10:Re,Oe=y.className,o=(0,$e.Z)(y,Be),a=(0,Y.YB)(),n=a.formatMessage,c=(0,B.useRef)(null),e=function u(p){var R=p.offsetTop;return p.offsetParent!=null&&(R+=u(p.offsetParent)),R},C=function(){var p=e(c.current);if(p!=0){var R=p-200;p<=377&&(R=p-377),window.scrollTo({top:R,behavior:"smooth"})}};return(0,W.jsxs)(m.Z,{spinning:S,children:[(0,W.jsx)("div",{ref:c}),(0,W.jsx)(i.sL,(0,D.Z)({size:"small",className:"".concat(f().table_empty," ").concat(Oe),pagination:!1},o)),We&&(0,W.jsx)("div",{className:"".concat(Te?null:"common_pagination"," ").concat(!S&&J?f().pagination:f().hidden),children:J>=1&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:J==0?f().hidden:"",children:n({id:"pagination.total.strip"},{data:J})}),(0,W.jsx)(X.Z,{className:J==0?f().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:ne,pageSize:Pe,defaultCurrent:1,size:"small",onChange:function(p,R){xe(p,R),C()},onShowSizeChange:function(p,R){xe(p,R),C()},total:J})]})})]})};de.Z=G},85879:function(ge,de,t){"use strict";var s=t(53374),m=t(61674),h=t(41428),X=t(22812),D=t(97939),$e=t(39935),B=t(52454),Y,P=D.ZP.span(Y||(Y=(0,h.Z)([`
  font-family: PingFangSC;
  font-weight: 400;
  font-size: 14px;
  color: #1890FF;
  letter-spacing: 0;
  line-height: 24px;
  cursor: pointer;
`])));de.Z=function(){var f=(0,X.YB)(),i=f.formatMessage,W=function(){return X.m8.push("/login?redirect_url=".concat(window.location.pathname))};return(0,B.jsx)(m.Z,{message:(0,B.jsxs)("div",{children:[(0,B.jsx)("span",{children:i({id:"you.haven.not.signed.in"})}),(0,B.jsx)(P,{onClick:W,children:i({id:"go.to.login"})})]}),type:"info",showIcon:!0,closable:!0})}},20662:function(ge,de,t){"use strict";t.d(de,{VX:function(){return X},Ir:function(){return D},ry:function(){return $e},nM:function(){return B},Zf:function(){return Y},OV:function(){return P},c0:function(){return f},lk:function(){return i},$L:function(){return W},YK:function(){return Be},ty:function(){return G},th:function(){return Qe},_L:function(){return y},E7:function(){return we},h4:function(){return J},GW:function(){return S},cQ:function(){return xe},fW:function(){return ye},xN:function(){return We},h5:function(){return Ee},yE:function(){return ne},vS:function(){return Fe},Qj:function(){return Te},o_:function(){return Re},NA:function(){return Pe},ff:function(){return Oe}});var s=t(35832),m=t(32326),h=t(22812),X=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),D=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),$e=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),B=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Y=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/drag/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),P=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/drag/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),f=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/drag/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),i=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/drag/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),W=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Be=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),G=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Qe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),y=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),we=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/project/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),J=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),S=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),xe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),ye=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),We=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Ee=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),ne=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Fe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Te=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Re=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Pe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Oe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/check/gitlab/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}()},19871:function(ge,de,t){"use strict";t.r(de),t.d(de,{default:function(){return _t}});var s=t(67448),m=t(47548),h=t(46721),X=t(94867),D=t(35832),$e=t(81138),B=t(96146),Y=t(32326),P=t(39190),f=t(22374),i=t(22812),W=t(85879),Be=t(20632),G=t(71853),Qe=t(57359),y=t(34423),we=t(13059),J=t(53676),S=t(20418),xe=t(488),ye=t(24812),We=t(74066),Ee=t(82078),ne=t(39935),Fe=t(67515),Te=t(12238),Re=t(14320),Pe=t(53479),Oe=t(20693),o=t(3278),a=t(69230),n=t(33821),c=t(53374),e=t(61674),C=t(65790),u=t(17187),p=t(2656);function R(v){return K.apply(this,arguments)}function K(){return K=(0,Y.Z)((0,D.Z)().mark(function v(g){return(0,D.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,i.WY)("/api/user/summary",{method:"GET",params:g}));case 1:case"end":return l.stop()}},v)})),K.apply(this,arguments)}function Ze(v){return ae.apply(this,arguments)}function ae(){return ae=(0,Y.Z)((0,D.Z)().mark(function v(g){return(0,D.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,i.WY)("/api/job/test/upload/offline/",{method:"GET",params:g}));case 1:case"end":return l.stop()}},v)})),ae.apply(this,arguments)}function pe(v){return q.apply(this,arguments)}function q(){return q=(0,Y.Z)((0,D.Z)().mark(function v(g){return(0,D.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,i.WY)("/api/job/test/upload/offline/",{method:"DELETE",data:g}));case 1:case"end":return l.stop()}},v)})),q.apply(this,arguments)}function De(){return V.apply(this,arguments)}function V(){return V=(0,Y.Z)((0,D.Z)().mark(function v(){var g,Z,l=arguments;return(0,D.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return g=l.length>0&&l[0]!==void 0?l[0]:{},Z=new FormData,Object.keys(g).forEach(function(O){g[O]&&Z.append(O,g[O])}),x.abrupt("return",(0,i.WY)("/api/job/test/upload/offline/",{method:"post",data:Z}));case 4:case"end":return x.stop()}},v)})),V.apply(this,arguments)}function He(){return je.apply(this,arguments)}function je(){return je=_asyncToGenerator(_regeneratorRuntime().mark(function v(){return _regeneratorRuntime().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",request("/api/product_list",{method:"GET"}));case 1:case"end":return Z.stop()}},v)})),je.apply(this,arguments)}function Ae(){return fe.apply(this,arguments)}function fe(){return fe=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,Z,l,N,x=arguments;return _regeneratorRuntime().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return g=x.length>0&&x[0]!==void 0?x[0]:{},Z=g.parentId,l=g.searchKeyword,N=l?"/api/project_list/".concat(Z,"/").concat(l):"/api/project_list/".concat(Z),z.abrupt("return",request(N,{method:"GET"}));case 4:case"end":return z.stop()}},v)})),fe.apply(this,arguments)}function le(){return ee.apply(this,arguments)}function ee(){return ee=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,Z,l,N,x,O,z=arguments;return _regeneratorRuntime().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return g=z.length>0&&z[0]!==void 0?z[0]:{},Z=g.page,l=g.pageSize,N=g.parentId,x=g.searchKeyword,O=x?"/api/baseline/".concat(x,"/").concat(N,"/").concat(Z,"/").concat(l):"/api/baseline/".concat(N,"/").concat(Z,"/").concat(l),te.abrupt("return",request(O,{method:"GET"}));case 4:case"end":return te.stop()}},v)})),ee.apply(this,arguments)}function pt(){return Ce.apply(this,arguments)}function Ce(){return Ce=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,Z,l,N,x,O=arguments;return _regeneratorRuntime().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return g=O.length>0&&O[0]!==void 0?O[0]:{},Z=g.searchKeyword,l=g.page,N=g.pageSize,x=Z?"/api/biz_list/".concat(Z,"/").concat(l,"/").concat(N):"/api/biz_list/".concat(l,"/").concat(N),T.abrupt("return",request(x,{method:"GET"}));case 4:case"end":return T.stop()}},v)})),Ce.apply(this,arguments)}function Ct(){return Ye.apply(this,arguments)}function Ye(){return Ye=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,Z,l=arguments;return _regeneratorRuntime().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return g=l.length>0&&l[0]!==void 0?l[0]:{},Z=new FormData,Object.keys(g).forEach(function(O){Z.append(O,g[O])}),x.abrupt("return",request("/api/job/test/upload/tar/",{method:"post",data:Z}));case 4:case"end":return x.stop()}},v)})),Ye.apply(this,arguments)}var ve=t(29143),F=t(34517),me=t(90770),oe=t(45972),ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},Xe=ue,U=t(25078),lt=function(g,Z){return f.createElement(U.Z,(0,oe.Z)((0,oe.Z)({},g),{},{ref:Z,icon:Xe}))};lt.displayName="UploadOutlined";var Ke=f.forwardRef(lt),r=t(52454),Je=Te.Z.confirm,ot=(0,f.forwardRef)(function(v,g){var Z=(0,i.YB)(),l=Z.formatMessage,N=(0,f.useState)([]),x=(0,P.Z)(N,2),O=x[0],z=x[1],T=function(se){var I=se.type,be=se.size,Ie=["application/x-tar","application/x-gzip"],Q=Ie.indexOf(I)>=0;if(!Q)return B.default.error(l({id:"upload.list.Drawer.valid.type"})),!1;var Me=be/1024/1024<=500;return Me?(z([se]),v.onChange(se),v.callback(se),!1):(Je({title:l({id:"upload.list.Drawer.confirm.title"}),content:l({id:"upload.list.Drawer.confirm.content"}),cancelText:l({id:"operation.cancel"}),okText:l({id:"operation.confirm"}),icon:(0,r.jsx)(me.Z,{style:{color:"#f5222d"}})}),!1)},te=function(se){var I=O.filter(function(be){return be.url!==se.url});z(I),I.length?(v.onChange(I[0]),v.callback(I[0])):(v.onChange(void 0),v.callback(void 0))};return(0,r.jsx)("div",{ref:g,children:(0,r.jsx)(F.Z,{accept:"application/x-tar,application/x-gzip",name:"file",beforeUpload:T,fileList:O,onRemove:te,children:(0,r.jsx)(X.Z,{icon:(0,r.jsx)(Ke,{style:{marginRight:10}}),disabled:!!O.length,children:(0,r.jsx)(i._H,{id:"upload.list.Drawer.upload.button"})})})})}),ft=ot,St=t(37231),ke=t.n(St),ze=(0,f.forwardRef)(function(v,g){var Z=(0,i.YB)(),l=Z.formatMessage,N=(0,ye.UO)(),x=N.ws_id,O=v.visible,z=v.baselines,T=v.projects,te=v.products,tt=u.Z.useForm(),se=(0,P.Z)(tt,1),I=se[0],be=(0,f.useState)(!1),Ie=(0,P.Z)(be,2),Q=Ie[0],Me=Ie[1],rt=(0,f.useState)(""),M=(0,P.Z)(rt,2),ie=M[0],Ge=M[1],Ue=(0,f.useState)(""),mt=(0,P.Z)(Ue,2),nt=mt[0],ut=mt[1],Ne=(0,f.useState)(""),ct=(0,P.Z)(Ne,2),ht=ct[0],gt=ct[1],yt=(0,f.useState)([]),Se=(0,P.Z)(yt,2),_=Se[0],ce=Se[1],w=(0,f.useState)(""),d=(0,P.Z)(w,2),j=d[0],H=d[1],_e=(0,f.useState)(!0),Le=(0,P.Z)(_e,2),Ve=Le[0],at=Le[1],he=u.Z.useWatch("project_id",I),st=u.Z.useWatch("product_id",I),L=f.useMemo(function(){return T.length?Object.prototype.toString.call(st)!=="[object Number]"?[]:T.filter(function(b){var E=b.product_id;return E===st}):[]},[T,st]);f.useEffect(function(){if(he)for(var b=T.length,E=0;E<b;E++){var $=T[E],A=$.id,re=$.product_version;A===he&&I.setFieldValue("product_version",re)}},[he,T]);var Lt=function(){var b=(0,Y.Z)((0,D.Z)().mark(function E($){var A,re;return(0,D.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,(0,p.Wt)((0,S.Z)({ws_id:x},$));case 3:A=k.sent,A.code===200?(re=A.data||[],ce(re.filter(function(dt){return dt.enable}))):B.default.error(A.msg||l({id:"request.failed"})),k.next=10;break;case 7:k.prev=7,k.t0=k.catch(0),console.log(k.t0);case 10:case"end":return k.stop()}},E,null,[[0,7]])}));return function($){return b.apply(this,arguments)}}();(0,f.useEffect)(function(){O&&Lt({})},[O]);var Zt=function(){try{var E,$=I.getFieldsValue(),A=!1;(E=Object.keys($))===null||E===void 0||E.forEach(function(re){!$[re]&&re!=="baseline_id"&&re!=="ip"&&(A=!0)}),at(A)}catch(re){at(!0)}};(0,f.useEffect)(function(){return window.addEventListener("click",Zt),function(){window.removeEventListener("click",Zt)}},[]);var Et=function(){Ge(""),ut(""),gt(""),ce([]),H("")},Tt=function(){Et(),I.resetFields(),v.callback({title:""})},$t=function(){I.validateFields().then(function(){var E=(0,Y.Z)((0,D.Z)().mark(function $(A){var re,jt,k,dt,Rt;return(0,D.Z)().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:if(re=A.product_version,re.trim()){it.next=4;break}return I.setFields([{name:"product_version",value:null,errors:[l({id:"upload.list.Drawer.product_version.message"})]}]),it.abrupt("return");case 4:return Me(!0),jt=(0,S.Z)((0,S.Z)({ws_id:x,server_type:ie,test_type:nt},A),{},{product_version:re.trim()}),it.next=8,De(jt);case 8:k=it.sent,dt=k.code,Rt=k.msg,Me(!1),dt===200?(B.default.success(l({id:"request.create.success"})),Et(),I.resetFields(),v.callback({title:"ok"})):B.default.error(Rt||l({id:"request.create.failed"}));case 13:case"end":return it.stop()}},$)}));return function($){return E.apply(this,arguments)}}()).catch(function(){Me(!1)})},Bt=function(){I.setFieldsValue({project_id:void 0})},Wt=function(){I.setFieldsValue({project_id:void 0}),Zt()},Ft=function(E){H(E),I.setFieldsValue({baseline_id:void 0});var $=_.filter(function(dt){return dt.id===E});if($.length){var A=$[0],re=A.server_type,jt=A.test_type,k=A.has_baseline;Ge(re),ut(jt),gt(k)}},Ut=function(){H(""),I.setFieldsValue({baseline_id:void 0}),Zt()},bt=l({id:"please.select"});return(0,r.jsx)(Te.Z,{title:(0,r.jsx)(i._H,{id:"upload.list.Drawer.title"}),width:460,open:O,maskClosable:!Q,onCancel:Q?function(){}:Tt,className:ke().drawerWarper,footer:(0,r.jsx)("div",{style:{textAlign:"right"},children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(X.Z,{onClick:Tt,disabled:Q,children:(0,r.jsx)(i._H,{id:"operation.cancel"})}),(0,r.jsx)(X.Z,{onClick:$t,type:"primary",disabled:Ve||Q,children:(0,r.jsx)(i._H,{id:"operation.confirm"})})]})}),children:(0,r.jsxs)("div",{className:ke().contentWarper,ref:g,children:[(0,r.jsx)(e.Z,{message:(0,r.jsx)(i._H,{id:"upload.list.Drawer.upload.Alert"}),type:"info",showIcon:!0,style:{marginBottom:20,padding:"4px 15px"}}),(0,r.jsx)(m.Z,{spinning:Q,children:(0,r.jsxs)(u.Z,{form:I,layout:"vertical",children:[(0,r.jsx)(u.Z.Item,{label:(0,r.jsx)(i._H,{id:"upload.list.Drawer.product"}),name:"product_id",rules:[{required:!0,message:bt}],children:(0,r.jsx)(n.Z,{allowClear:!0,style:{width:"100%"},placeholder:(0,r.jsx)(i._H,{id:"upload.list.Drawer.product.placeholder"}),getPopupContainer:function(E){return E.parentNode},onChange:Bt,onClear:Wt,autoFocus:!0,showSearch:!0,filterOption:function(E,$){return $.label.toLowerCase().indexOf(E.toLowerCase())>=0},options:te==null?void 0:te.map(function(b){return{value:b.id,label:b.name}})})}),(0,r.jsx)(u.Z.Item,{label:(0,r.jsx)(i._H,{id:"upload.list.Drawer.project"}),name:"project_id",rules:[{required:!0,message:bt}],children:(0,r.jsx)(n.Z,{placeholder:(0,r.jsx)(i._H,{id:"upload.list.Drawer.project.placeholder"}),getPopupContainer:function(E){return E.parentNode},disabled:!st||!(L!=null&&L.length),showSearch:!0,filterOption:function(E,$){return $.label.toLowerCase().indexOf(E.toLowerCase())>=0},options:L==null?void 0:L.map(function(b){return{value:b.id,label:b.name}})})}),(0,r.jsx)(u.Z.Item,{label:l({id:"upload.list.Drawer.product_version"}),name:"product_version",rules:[{required:!0,message:l({id:"upload.list.Drawer.product_version.message"})}],children:(0,r.jsx)(o.Z,{placeholder:l({id:"upload.list.Drawer.product_version.placeholder"}),disabled:!he,allowClear:!0})}),(0,r.jsx)(u.Z.Item,{label:(0,r.jsx)(i._H,{id:"upload.list.Drawer.job_type"}),name:"job_type_id",rules:[{required:!0,message:bt}],children:(0,r.jsx)(n.Z,{allowClear:!0,placeholder:(0,r.jsx)(i._H,{id:"upload.list.Drawer.job_type.placeholder"}),getPopupContainer:function(E){return E.parentNode},onChange:Ft,onClear:Ut,showSearch:!0,filterOption:function(E,$){var A;return((A=$.search)===null||A===void 0?void 0:A.toLowerCase().indexOf(E.toLowerCase()))>=0},options:_==null?void 0:_.map(function(b){return{value:b.id,search:b.name,label:(0,r.jsxs)(Pe.Z,{justify:"space-between",children:[(0,r.jsx)("span",{children:b.name}),(0,r.jsxs)("span",{children:[(0,ne.lN)(b.test_type,l)," | ",(0,ne.a5)(b.server_type,l)]})]})}})})}),ht?(0,r.jsx)(u.Z.Item,{label:(0,r.jsx)(i._H,{id:"upload.list.Drawer.baseline"}),name:"baseline_id",rules:[{required:!1,message:bt}],children:(0,r.jsx)(n.Z,{allowClear:!0,placeholder:(0,r.jsx)(i._H,{id:"upload.list.Drawer.baseline.placeholder"}),getPopupContainer:function(E){return E.parentNode},disabled:!j||!(z!=null&&z.length),showSearch:!0,filterOption:function(E,$){return $.label.toLowerCase().indexOf(E.toLowerCase())>=0},options:z==null?void 0:z.map(function(b){return{label:b.name,value:b.id}})})}):null,(0,r.jsx)(u.Z.Item,{label:(0,r.jsx)(i._H,{id:"upload.list.Drawer.ip"}),name:"ip",rules:[{required:!1}],children:(0,r.jsx)(o.Z,{placeholder:l({id:"upload.list.Drawer.ip.placeholder"})})}),(0,r.jsx)(u.Z.Item,{label:(0,r.jsx)(i._H,{id:"upload.list.Drawer.result"}),name:"file",rules:[{required:!0,message:l({id:"upload.list.Drawer.upload.message"})}],extra:l({id:"upload.list.Drawer.upload.supportText"})+": .tar\u3001.tar.gz",children:(0,r.jsx)(ft,{callback:Zt})})]})})]})})}),qe=ze,wt=t(6130),et=t(93299),Pt=t(44851),Ot=t.n(Pt),xt=t(20662),Dt=t(72100),zt=["code","msg","total"],It=(0,f.forwardRef)(function(v,g){var Z=(0,i.YB)(),l=Z.formatMessage,N=(0,ye.UO)(),x=N.ws_id,O=f.useState({data:[],total:0,page_num:1,page_size:20}),z=(0,P.Z)(O,2),T=z[0],te=z[1],tt=f.useState(!1),se=(0,P.Z)(tt,2),I=se[0],be=se[1],Ie=(0,i.md)(),Q={page_num:1,page_size:20,ws_id:x},Me=f.useState(Q),rt=(0,P.Z)(Me,2),M=rt[0],ie=rt[1],Ge=(0,i.QT)(function(){return(0,xt.YK)({ws_id:x,page_size:999})},{initialData:[]}),Ue=Ge.data,mt=(0,i.QT)(function(){return(0,xt.VX)({ws_id:x,page_size:999})},{initialData:[]}),nt=mt.data,ut=(0,i.QT)(function(){return(0,Dt.bU)({ws_id:x})},{initialData:[]}),Ne=ut.data,ct=function(){var w=(0,Y.Z)((0,D.Z)().mark(function d(){var j,H,_e,Le,Ve,at,he=arguments;return(0,D.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return j=he.length>0&&he[0]!==void 0?he[0]:M,v.loadingCallback({loading:!0}),L.prev=2,L.next=5,Ze(j);case 5:if(L.t0=L.sent,L.t0){L.next=8;break}L.t0={};case 8:H=L.t0,_e=H.code,Le=H.msg,Ve=H.total,at=(0,xe.Z)(H,zt),_e===200?(te((0,S.Z)((0,S.Z)({},at),{},{total:Ve})),v.refreshCallback(Ve)):B.default.error(Le||l({id:"request.failed"})),v.loadingCallback({loading:!1}),L.next=20;break;case 17:L.prev=17,L.t1=L.catch(2),v.loadingCallback({loading:!1});case 20:case"end":return L.stop()}},d,null,[[2,17]])}));return function(){return w.apply(this,arguments)}}(),ht=function(d){pe({pk:d.id}).then(function(j){if(j.code===200){B.default.success(l({id:"request.delete.success"}));var H=T.page_num,_e=T.page_size,Le=T.total,Ve=Le===void 0?0:Le,at=Ve%_e==1,he=Math.floor(Ve/_e);at&&he&&he+1<=H?ie(function(st){return(0,S.Z)((0,S.Z)({},st),{},{page_num:he})}):ie(Q)}else B.default.error(j.msg||l({id:"request.delete.failed"}))}).catch(function(j){console.log(j)})};(0,f.useEffect)(function(){ct()},[M]),(0,f.useImperativeHandle)(g,function(){return{showModal:function(){be(!0)}}});var gt=function(d){var j=d.title;j==="ok"&&ie(Q),be(!1)},yt=function(d,j){ie(function(H){return(0,S.Z)((0,S.Z)({},H),{},{page_num:d,page_size:j})})},Se=function(d){var j=d.content,H=j===void 0?"":j;return(0,r.jsx)(J.Z,{placement:"top",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i._H,{id:"upload.list.table.state.question"}),H]}),children:(0,r.jsx)(We.Z,{style:{color:"rgba(0, 0, 0, 0.55)"}})})},_=function(d){var j=d.title,H=j===void 0?"":j,_e=d.content,Le=_e===void 0?"":_e;switch(H){case"file":return(0,r.jsx)("span",{style:{color:"#649FF6",fontFamily:"PingFangSC-Semibold"},children:"Upload"});case"running":return(0,r.jsx)("span",{style:{color:"#649FF6",fontFamily:"PingFangSC-Semibold"},children:"Upload"});case"success":return(0,r.jsx)("span",{style:{color:"#81BF84",fontFamily:"PingFangSC-Semibold"},children:"Success"});case"fail":return(0,r.jsxs)("span",{style:{color:"#C84C5A",fontFamily:"PingFangSC-Semibold"},children:["Fail ",(0,r.jsx)(Se,{content:Le})]});default:return(0,r.jsx)(r.Fragment,{children:"-"})}},ce=[(0,S.Z)((0,S.Z)({title:(0,r.jsx)(i._H,{id:"upload.list.table.product"}),dataIndex:"product_name",ellipsis:{showTitle:!1}},(0,et.Ht)(M,ie,nt==null?void 0:nt.map(function(w){return{name:w.name,value:w.id}}),"product_id")),{},{render:function(d,j){return(0,r.jsx)(wt.K,{ellipsis:{tooltip:j==null?void 0:j.product_name},children:(0,r.jsx)(Ot(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[(M==null?void 0:M.product_name)||""],autoEscape:!0,textToHighlight:j==null?void 0:j.product_name})})}}),(0,S.Z)((0,S.Z)({title:(0,r.jsx)(i._H,{id:"upload.list.table.project"}),dataIndex:"project_name",ellipsis:{showTitle:!1}},(0,et.Ht)(M,ie,Ue==null?void 0:Ue.map(function(w){return{name:w.name,value:w.id}}),"project_id")),{},{render:function(d){return(0,r.jsx)(wt.K,{ellipsis:{tooltip:!0},children:d})}}),(0,S.Z)((0,S.Z)({title:(0,r.jsx)(i._H,{id:"upload.list.table.state"}),dataIndex:"state"},(0,et.Ht)(M,ie,[{name:"Upload",value:"running"},{name:"Success",value:"success"},{name:"Fail",value:"fail"}],"state")),{},{render:function(d,j){return(0,r.jsx)(_,{title:d,content:j.state_desc})}}),(0,S.Z)((0,S.Z)({title:(0,r.jsx)(i._H,{id:"upload.list.table.testType"}),dataIndex:"test_type"},(0,et.Ht)(M,ie,ne.oQ.map(function(w){return{name:l({id:w.value}),value:w.value}}),"test_type")),{},{render:function(d){return(0,r.jsx)("span",{children:ne.oQ.filter(function(j){return j.value==d}).map(function(j){return l({id:j.value})})})}}),(0,S.Z)((0,S.Z)({title:(0,r.jsx)(i._H,{id:"upload.list.table.baseline"}),dataIndex:"baseline_name",ellipsis:{showTitle:!1}},(0,et.Ht)(M,ie,Ne==null?void 0:Ne.map(function(w){return{name:w.name,value:w.id}}),"baseline_id")),{},{render:function(d){return(0,r.jsx)(wt.K,{ellipsis:{tooltip:!0},children:d})}}),(0,S.Z)((0,S.Z)({title:(0,r.jsx)(i._H,{id:"upload.list.table.uploader"}),dataIndex:"uploader"},(0,et.ln)(M,ie,"uploader")),{},{ellipsis:!0,render:function(d){return(0,r.jsx)("span",{children:d||"-"})}}),(0,S.Z)((0,S.Z)({title:(0,r.jsx)(i._H,{id:"upload.list.table.date"}),dataIndex:"gmt_created",ellipsis:{showTitle:!1}},(0,et.hC)([M==null?void 0:M.start_time,M==null?void 0:M.end_time],function(w){console.log(w),ie(function(d){return(0,S.Z)((0,S.Z)({},d),{},{page_num:1},w)})})),{},{render:function(d){return(0,r.jsx)("span",{children:d||"-"})}}),{title:(0,r.jsx)(i._H,{id:"Table.columns.operation"}),ellipsis:{showTitle:!1},width:180,fixed:"right",key:"operation",render:function(d,j){return(0,r.jsx)(y.Z,{children:["file","running","fail"].includes(j.state)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{style:{opacity:.25},children:(0,r.jsx)(i._H,{id:"operation.view"})}),(0,r.jsx)("span",{style:{opacity:.25},children:(0,r.jsx)(i._H,{id:"operation.download"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("a",{href:j.job_link,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(i._H,{id:"operation.view"})}),(0,r.jsx)(i.Nv,{accessible:Ie.WsTourist(),children:(0,r.jsx)(i.Nv,{accessible:Ie.WsMemberOperateSelf(j.creator),fallback:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)("a",{onClick:function(){return(0,ne.WR)()},children:(0,r.jsx)(i._H,{id:"operation.download"})}),(0,r.jsx)("a",{onClick:function(){return(0,ne.WR)()},children:(0,r.jsx)(i._H,{id:"operation.delete"})})]}),children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)("a",{href:j.file_link,target:"_blank",rel:"noreferrer",children:(0,r.jsx)(i._H,{id:"operation.download"})}),(0,r.jsx)(G.Z,{placement:"topRight",title:(0,r.jsx)(i._H,{id:"delete.prompt"}),onConfirm:function(){return ht(j)},okText:(0,r.jsx)(i._H,{id:"operation.confirm"}),cancelText:(0,r.jsx)(i._H,{id:"operation.cancel"}),children:(0,r.jsx)("a",{children:(0,r.jsx)(i._H,{id:"operation.delete"})})})]})})})]})})}}];return(0,r.jsxs)("div",{children:[(0,r.jsx)(Ee.Z,{loading:!1,columns:ce,name:"ws-offline-upload",refreshDeps:[Ie,M,Ue,Ne],total:(T==null?void 0:T.total)||0,page:(T==null?void 0:T.page_num)||Q.page_num,pageSize:(T==null?void 0:T.page_size)||Q.page_size,dataSource:(T==null?void 0:T.data)||[],handlePage:yt}),(0,r.jsx)(qe,{visible:I,callback:gt,baselines:Ne,products:nt,projects:Ue})]})}),Mt=t(8316),vt=t.n(Mt),_t=function(v){var g=(0,i.YB)(),Z=g.formatMessage,l=v.match.params.ws_id,N=(0,f.useState)(!0),x=(0,P.Z)(N,2),O=x[0],z=x[1],T=(0,f.useState)("record"),te=(0,P.Z)(T,2),tt=te[0],se=te[1],I=(0,f.useState)(0),be=(0,P.Z)(I,2),Ie=be[0],Q=be[1],Me=(0,f.useRef)(null),rt=(0,i.tT)("@@initialState"),M=rt.initialState,ie=rt.setInitialState,Ge=M.authList,Ue=(0,i.md)(),mt=function(){var Se=(0,Y.Z)((0,D.Z)().mark(function _(){var ce;return(0,D.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,R({});case 3:if(d.t0=d.sent,d.t0){d.next=6;break}d.t0={};case 6:ce=d.t0,ce.code===200?Q(ce.data||0):B.default.error(ce.msg||Z({id:"request.failed"})),d.next=13;break;case 10:d.prev=10,d.t1=d.catch(0),console.log(d.t1);case 13:case"end":return d.stop()}},_,null,[[0,10]])}));return function(){return Se.apply(this,arguments)}}(),nt=function(_){se(_)},ut=function(_){var ce=_.loading;z(ce)},Ne=function(_){_!==Ie&&Q(_)},ct=function(){var _;(_=Me.current)===null||_===void 0||_.showModal()},ht=[{name:Z({id:"TestUpload.tab.record"}),key:"record"}],gt=function(_){var ce={backgroundColor:"#E6F7FF",color:"#1890FF",marginTop:-3},w={backgroundColor:"#0000000a",color:"#000",marginTop:-3};return tt===_?ce:w},yt=(0,r.jsx)(i.Nv,{accessible:Ue.IsWsSetting(),children:(0,r.jsx)(X.Z,{type:"primary",onClick:ct,children:(0,r.jsx)(i._H,{id:"TestUpload.tab.tabBarExtraContent.upload"})})});return(0,r.jsxs)("div",{className:vt().TestUpload_root,children:[!O&&!(Ge!=null&&Ge.user_id)?(0,r.jsx)("div",{className:vt().not_logged_in,children:(0,r.jsx)(W.Z,{})}):null,(0,r.jsxs)("div",{className:vt().content_header,children:[(0,r.jsx)("div",{className:vt().item1,children:ht[0].name}),yt]}),(0,r.jsx)(m.Z,{spinning:O,children:(0,r.jsx)("div",{className:vt().content_table,children:(0,r.jsx)(It,{ref:Me,ws_id:l,loadingCallback:ut,refreshCallback:Ne})})})]})}},79390:function(ge,de,t){"use strict";t.d(de,{sL:function(){return o},ny:function(){return Pe},Fu:function(){return Oe}});var s=t(20418),m=t(39190),h=t(488),X=t(26388),D=t(11407),$e=t(68077),B=t(2605),Y=t(74127),P=t(41428),f=t(22374),i=t(48434),W=t(97939),Be=t(99648),G=t(52454),Qe=["width","onResizeStart","onResize","onResizeStop","resize"],y=["columns","name","onColumnsChange"],we,J,S,xe=W.ZP.div(we||(we=(0,P.Z)([`
    position: relative;
    width: 100%;
`]))),ye=W.ZP.div.attrs(function(a){return{style:{left:a.left,height:a==null?void 0:a.height}}})(J||(J=(0,P.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),We=(0,W.ZP)(i.Resizable)(S||(S=(0,P.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(a){var n=a.resize;return n?"col-resize":"default"}),Ee=function(n){var c=n.width,e=n.onResizeStart,C=n.onResize,u=n.onResizeStop,p=n.resize,R=(0,h.Z)(n,Qe);return(0,G.jsx)(We,(0,s.Z)((0,s.Z)({width:c||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:e,onResize:C,onResizeStop:u,resize:p?1:0},R),{},{children:(0,G.jsx)("th",(0,s.Z)({},R))}))},ne=function(n){var c=n.columns,e=c===void 0?[]:c,C=n.name,u=n.onColumnsChange,p=(0,h.Z)(n,y),R=f.useState(0),K=(0,m.Z)(R,2),Ze=K[0],ae=K[1],pe=f.useState(0),q=(0,m.Z)(pe,2),De=q[0],V=q[1],He=f.useState(!1),je=(0,m.Z)(He,2),Ae=je[0],fe=je[1],le=f.useRef(null),ee=(0,Be.Z)(le),pt=function(F){return function(me,oe){var ue;if((0,Y.Z)(oe),!!e[F].ellipsis){var Xe=me.clientX,U=Xe-((ue=le.current)===null||ue===void 0?void 0:ue.getBoundingClientRect().x);V(U),ae(U),fe(!0)}}},Ce=function(){return function(F){var me,oe=F.clientX,ue=oe-((me=le.current)===null||me===void 0?void 0:me.getBoundingClientRect().x);ae(ue)}},Ct=function(F){return function(me,oe){var ue,Xe=oe.size,U=me.clientX,lt=U-((ue=le.current)===null||ue===void 0?void 0:ue.getBoundingClientRect().x),Ke=(0,B.Z)(e);if(Ke[F].ellipsis){var r=Xe.width+=lt-De,Je=Ke[F],ot=Je.dataIndex,ft=Je.key;r>20&&(Ke[F]=(0,s.Z)((0,s.Z)({},Ke[F]),{},{width:r}),C&&Oe(C,ot||ft,r),u==null||u())}ae(0),V(0),fe(!1)}},Ye=f.useMemo(function(){return e.reduce(function(ve,F){return F.width?ve+=F==null?void 0:F.width:ve},0)},[e]);return(0,G.jsxs)(xe,{ref:le,className:"resize-table-wrapper",children:[(0,G.jsx)($e.Z,(0,s.Z)((0,s.Z)({},p),{},{components:{header:{cell:Ee}},scroll:(n==null?void 0:n.scroll)||{x:Ye||(ee==null?void 0:ee.width)},columns:e.filter(Boolean).map(function(ve,F){return(0,s.Z)((0,s.Z)({},ve),{},{onHeaderCell:function(oe){return{resize:!!ve.ellipsis,width:oe.width,onResizeStart:pt(F),onResize:Ce(),onResizeStop:Ct(F)}}})})})),Ae&&(0,G.jsx)(ye,{height:ee==null?void 0:ee.height,left:Ze||De})]})},Fe=ne,Te=["name","columns","refreshDeps","onColumnsChange"],Re="umi_locale",Pe=function(n,c){var e=localStorage.getItem(n),C=localStorage.getItem(Re)||"zh-CN";if(!!e)return JSON.parse(e)["".concat(C,"-").concat(c)]},Oe=function(n,c,e){var C=localStorage.getItem(n),u=localStorage.getItem(Re)||"zh-CN",p=(0,X.Z)({},"".concat(u,"-").concat(c),e);C?localStorage.setItem(n,JSON.stringify(Object.assign(JSON.parse(C),p))):localStorage.setItem(n,JSON.stringify(p))},o=function(n){var c=n.name,e=n.columns,C=n.refreshDeps,u=C===void 0?[]:C,p=n.onColumnsChange,R=(0,h.Z)(n,Te),K=f.useState([]),Ze=(0,m.Z)(K,2),ae=Ze[0],pe=Ze[1],q=function(){return(e==null?void 0:e.filter(Boolean).map(function(V){var He=V.dataIndex,je=V.key,Ae=V.width,fe=He||je,le=Pe(c,fe);!le&&Ae&&Oe(c,fe,Ae);var ee=le||Ae;return ee&&(V.width=ee),V}))||[]};return f.useEffect(function(){pe(q())},u),(0,G.jsx)(Fe,(0,s.Z)({name:c,columns:ae,setColumns:pe,size:"small",onColumnsChange:function(){p==null||p(),pe(q())}},R))}},61674:function(ge,de,t){"use strict";t.d(de,{Z:function(){return n}});var s=t(29700),m=t(85628),h=t(77335),X=t(5888),D=t(38755),$e=t(11273),B=t(90770),Y=t(53770),P=t(13598),f=t(46601),i=t(25407),W=t(51767),Be=t(68591),G=t.n(Be),Qe=t(51572),y=t(22374),we=t(53532),J=t(24875),S=t(83325),xe=t(52318),ye=t(31279),We=t(31762),Ee=t(51129),ne=function(c){(0,We.Z)(C,c);var e=(0,Ee.Z)(C);function C(){var u;return(0,xe.Z)(this,C),u=e.apply(this,arguments),u.state={error:void 0,info:{componentStack:""}},u}return(0,ye.Z)(C,[{key:"componentDidCatch",value:function(p,R){this.setState({error:p,info:R})}},{key:"render",value:function(){var p=this.props,R=p.message,K=p.description,Ze=p.children,ae=this.state,pe=ae.error,q=ae.info,De=q&&q.componentStack?q.componentStack:null,V=typeof R=="undefined"?(pe||"").toString():R,He=typeof K=="undefined"?De:K;return pe?y.createElement(n,{type:"error",message:V,description:y.createElement("pre",null,He)}):Ze}}]),C}(y.Component),Fe=ne,Te=function(c,e){var C={};for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&e.indexOf(u)<0&&(C[u]=c[u]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,u=Object.getOwnPropertySymbols(c);p<u.length;p++)e.indexOf(u[p])<0&&Object.prototype.propertyIsEnumerable.call(c,u[p])&&(C[u[p]]=c[u[p]]);return C},Re={success:X.Z,info:i.Z,error:$e.Z,warning:P.Z},Pe={success:D.Z,info:W.Z,error:B.Z,warning:f.Z},Oe=function(e){var C=e.description,u=e.icon,p=e.prefixCls,R=e.type,K=(C?Pe:Re)[R]||null;return u?(0,S.wm)(u,y.createElement("span",{className:"".concat(p,"-icon")},u),function(){return{className:G()("".concat(p,"-icon"),(0,h.Z)({},u.props.className,u.props.className))}}):y.createElement(K,{className:"".concat(p,"-icon")})},o=function(e){var C=e.isClosable,u=e.closeText,p=e.prefixCls,R=e.closeIcon,K=e.handleClose;return C?y.createElement("button",{type:"button",onClick:K,className:"".concat(p,"-close-icon"),tabIndex:0},u?y.createElement("span",{className:"".concat(p,"-close-text")},u):R):null},a=function(e){var C,u=e.description,p=e.prefixCls,R=e.message,K=e.banner,Ze=e.className,ae=Ze===void 0?"":Ze,pe=e.style,q=e.onMouseEnter,De=e.onMouseLeave,V=e.onClick,He=e.afterClose,je=e.showIcon,Ae=e.closable,fe=e.closeText,le=e.closeIcon,ee=le===void 0?y.createElement(Y.Z,null):le,pt=e.action,Ce=Te(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),Ct=y.useState(!1),Ye=(0,m.Z)(Ct,2),ve=Ye[0],F=Ye[1],me=y.useRef(),oe=y.useContext(we.E_),ue=oe.getPrefixCls,Xe=oe.direction,U=ue("alert",p),lt=function(ze){var qe;F(!0),(qe=Ce.onClose)===null||qe===void 0||qe.call(Ce,ze)},Ke=function(){var ze=Ce.type;return ze!==void 0?ze:K?"warning":"info"},r=fe?!0:Ae,Je=Ke(),ot=K&&je===void 0?!0:je,ft=G()(U,"".concat(U,"-").concat(Je),(C={},(0,h.Z)(C,"".concat(U,"-with-description"),!!u),(0,h.Z)(C,"".concat(U,"-no-icon"),!ot),(0,h.Z)(C,"".concat(U,"-banner"),!!K),(0,h.Z)(C,"".concat(U,"-rtl"),Xe==="rtl"),C),ae),St=(0,J.Z)(Ce);return y.createElement(Qe.Z,{visible:!ve,motionName:"".concat(U,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(ze){return{maxHeight:ze.offsetHeight}},onLeaveEnd:He},function(ke){var ze=ke.className,qe=ke.style;return y.createElement("div",(0,s.Z)({ref:me,"data-show":!ve,className:G()(ft,ze),style:(0,s.Z)((0,s.Z)({},pe),qe),onMouseEnter:q,onMouseLeave:De,onClick:V,role:"alert"},St),ot?y.createElement(Oe,{description:u,icon:Ce.icon,prefixCls:U,type:Je}):null,y.createElement("div",{className:"".concat(U,"-content")},R?y.createElement("div",{className:"".concat(U,"-message")},R):null,u?y.createElement("div",{className:"".concat(U,"-description")},u):null),pt?y.createElement("div",{className:"".concat(U,"-action")},pt):null,y.createElement(o,{isClosable:!!r,closeText:fe,prefixCls:U,closeIcon:ee,handleClose:lt}))})};a.ErrorBoundary=Fe;var n=a}}]);
