(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[8215,2485],{87802:function(z){z.exports={confList_root:"confList_root___3EWrK",deleteAll:"deleteAll___3e4kr"}},88168:function(z){z.exports={suitList_root:"suitList_root___1zyyW",deleteAll:"deleteAll___1zMKb"}},36286:function(z){z.exports={businessList_root:"businessList_root___3Hau8",common_pagination:"common_pagination___24xa6"}},1398:function(z){z.exports={filter:"filter___3oqYG",confirm:"confirm___30iCS"}},30635:function(z){z.exports={filter_search_wrapper:"filter_search_wrapper___2c59u"}},24401:function(z){z.exports={filter_wrapper_container:"filter_wrapper_container___sONnw",filter_icon_wrapper:"filter_icon_wrapper___1PY8Q",filter_icon_contaner:"filter_icon_contaner___1nddu",filter_icon_contaner_active:"filter_icon_contaner_active___1jmG0"}},89767:function(z){z.exports={warp:"warp___3w5Ib",batch:"batch___uZFrp",pagination:"pagination___1rXjk",hidden:"hidden___1brZX",ellipsis:"ellipsis___2myYN",table_style:"table_style___iyAhl",des:"des___26R54"}},42847:function(z,ve,t){"use strict";var k=t(46721),$=t(94867),re=t(8281),xe=t(58591),Ce=t(57359),ge=t(34423),we=t(38519),ue=t(16416),oe=t(39190),ne=t(22374),le=t(22812),ce=t(1398),se=t.n(ce),R=t(52454),je=function(x){var c=x.list,p=x.confirm,a=x.onConfirm,f=(0,ne.useState)([]),G=(0,oe.Z)(f,2),s=G[0],me=G[1],_e=(0,ne.useState)(!1),fe=(0,oe.Z)(_e,2),pe=fe[0],n=fe[1],Le=(0,ne.useState)(!1),Pe=(0,oe.Z)(Le,2),Se=Pe[0],Ee=Pe[1],he=function(J){Ee(!!J.length&&J.length<c.length),me(J),n(J.length===c.length)},De=c.map(function(ee){return ee.id}),e=function(J){me(J.target.checked?De:[]),n(J.target.checked),Ee(!1)};return ne.useEffect(function(){return function(){me([]),n(!1),Ee(!1)}},[]),(0,R.jsxs)("div",{className:se().filter,children:[(0,R.jsx)("div",{style:{display:"flex",flexDirection:"column",maxHeight:280,overflow:"auto"},children:(0,R.jsxs)(ge.Z,{style:{paddingLeft:8,paddingRight:8},direction:"vertical",size:4,children:[(0,R.jsx)(ue.Z,{indeterminate:Se,className:se().domain,onChange:e,checked:pe,children:(0,R.jsx)(le._H,{id:"operation.select.all"})}),(0,R.jsx)(ue.Z.Group,{onChange:he,value:s,children:(0,R.jsx)(ge.Z,{direction:"vertical",size:4,children:c.map(function(ee){return(0,R.jsx)(ue.Z,{className:se().domain,value:ee.id,children:ee.name},ee.id)})})})]})}),(0,R.jsx)(xe.Z,{style:{margin:"10px 0"}}),(0,R.jsxs)("div",{className:se().confirm,children:[(0,R.jsx)($.Z,{size:"small",type:"link",onClick:function(){p==null||p();var J=s&&s.join(",");a(J)},children:(0,R.jsx)(le._H,{id:"operation.ok"})}),(0,R.jsx)($.Z,{size:"small",type:"text",onClick:function(){p==null||p(),me([]),a(void 0),n(!1),Ee(!1)},children:(0,R.jsx)(le._H,{id:"operation.reset"})})]})]})};ve.Z=je},56477:function(z,ve,t){"use strict";t.r(ve),t.d(ve,{default:function(){return wt}});var k=t(88018),$=t(58414),re=t(67448),xe=t(47548),Ce=t(14320),ge=t(53479),we=t(36142),ue=t(76837),oe=t(11407),ne=t(68077),le=t(46721),ce=t(94867),se=t(79625),R=t(96584),je=t(31650),Ie=t(25100),x=t(20418),c=t(35832),p=t(32326),a=t(39190),f=t(54905),G=t(90087),s=t(22374),me=t(74066),_e=t(48766),fe=t(81343),pe=t(25578),n=t(22812),Le=t(9620),Pe=t(89767),Se=t.n(Pe),Ee=t(57359),he=t(34423),De=t(82078),e=t(52454),ee=function(d){var C=d.id,w=d.innerKey,I=d.ws_id,E=(0,n.YB)(),h=E.formatMessage,O=(0,s.useState)([]),D=(0,a.Z)(O,2),g=D[0],o=D[1],M=(0,s.useState)(!0),N=(0,a.Z)(M,2),T=N[0],S=N[1],U=function(){var Y=(0,p.Z)((0,c.Z)().mark(function u(L){var V,A;return(0,c.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o({data:[]}),S(!0),V={ws_id:I,object_type:w,object_id:L},r.next=5,(0,pe.J1)(V);case 5:A=r.sent,o(A),S(!1);case 8:case"end":return r.stop()}},u)}));return function(L){return Y.apply(this,arguments)}}();(0,s.useEffect)(function(){U(C)},[w]);var te=[{title:h({id:"suite.indicators"}),dataIndex:"name",width:200,fixed:"left"},{title:h({id:"suite.cmp_threshold"}),dataIndex:"cmp_threshold",width:160,render:function(u){return u&&Number(u).toFixed(2)}},{title:h({id:"suite.cv_threshold"}),dataIndex:"cv_threshold",width:140,render:function(u){return u&&Number(u).toFixed(2)}},{title:h({id:"suite.direction"}),dataIndex:"direction",width:140}];return(0,e.jsx)("div",{className:Se().warp,children:(0,e.jsx)(De.Z,{columns:te,name:"ws-suite-manage-metric-list",loading:T,dataSource:g.data,showPagination:!1,scroll:{x:640}})},C)},J=ee,He=t(53536),Re=t(7597),B=t(6130),qe=function(d){var C=d.record,w=d.id,I=d.type,E=d.ws_id,h=G.Z.TabPane,O=(0,s.useState)("case"),D=(0,a.Z)(O,2),g=D[0],o=D[1],M=(0,s.useState)([]),N=(0,a.Z)(M,2),T=N[0],S=N[1],U=(0,s.useState)(!1),te=(0,a.Z)(U,2),Y=te[0],u=te[1],L=(0,s.useState)(""),V=(0,a.Z)(L,2),A=V[0],j=V[1],r=function(_){o(_)},y=[{title:"Test Conf",dataIndex:"name",ellipsis:!0,width:300,fixed:"left",render:function(_){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:_})}},{title:(0,e.jsx)(n._H,{id:"suite.alias"}),dataIndex:"alias",ellipsis:!0,render:function(_){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:_})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(_){return _?(0,e.jsx)(R.Z,{placement:"bottomLeft",title:_,children:(0,e.jsx)(Ie.Z.Text,{style:{width:100},ellipsis:!0,children:_||"-"})}):"-"}},{title:"Timeout(s)",dataIndex:"timeout",width:100},{title:(0,e.jsx)(n._H,{id:"suite.repeat"}),dataIndex:"repeat",width:120,ellipsis:!0},{title:(0,e.jsx)(n._H,{id:"suite.var"}),dataIndex:"var",ellipsis:!0,width:120,render:function(_,K){return(0,e.jsx)(B.K,{ellipsis:{tooltip:K.var&&JSON.parse(K.var).map(function(F,W){return(0,e.jsxs)("p",{children:["".concat(F.name,"=").concat(F.val,",").concat(F.des||"-"),";"]},W)})},children:(0,e.jsx)(he.Z,{direction:"vertical",style:{width:"100%"},children:K.var&&K.var!="[]"?JSON.parse(K.var).map(function(F,W){return(0,e.jsxs)("p",{children:["".concat(F.name,"=").concat(F.val,",").concat(F.des||"-"),";"]},W)}):"-"})})}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:120,ellipsis:!0,render:function(_,K){return(0,e.jsx)(Re.Z,{title:K.doc,isCode:!0,width:90,onClick:function(){u(!0),j(K.doc)}})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170}];return(0,e.jsxs)("div",{className:Se().warp,children:[I=="performance"&&(0,e.jsxs)(G.Z,{defaultActiveKey:"case",activeKey:g,onChange:function(_){return r(_)},children:[(0,e.jsx)(h,{tab:"Test Conf"},"case"),(0,e.jsx)(h,{tab:(0,e.jsx)(n._H,{id:"suite.indicators"})},"suite")]}),g==="case"?(0,e.jsx)(De.Z,{columns:y,name:"ws-suite-manage-case",dataSource:C,loading:!1,rowKey:"id",showPagination:!1,size:"small",expandable:I==="performance"?{indentSize:40,expandedRowRender:function(_){return(0,e.jsx)(J,{ws_id:E,id:_.id,innerKey:g})},expandedRowKeys:T,expandIcon:function(_){var K=_.expanded,F=_.onExpand,W=_.record;return K?(0,e.jsx)(_e.Z,{onClick:function(){return S([])}}):(0,e.jsx)(fe.Z,{onClick:function(){return S([W.id])}})}}:{},scroll:{x:1030}}):(0,e.jsx)(J,{ws_id:E,id:w,innerKey:g}),(0,e.jsx)($.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return u(!1)},visible:Y,children:(0,e.jsx)(He.Z,{code:A})})]})},et=qe,It=t(81138),tt=t(96146),be=t(31784),$e=t(24812),nt=t(25399),ze=t.n(nt),Ge=t(12590),at=t(6532),Ae=t(39935),st=t(87802),it=t.n(st),rt=function(d){var C=d.type,w=d.dataSource,I=(0,s.useState)({visible:!1,doc:""}),E=(0,a.Z)(I,2),h=E[0],O=E[1],D=[{title:"Test Conf",dataIndex:"name",fixed:"left",width:150,render:function(o){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(o){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.timeout"}),dataIndex:"timeout",width:120,render:function(o){return(0,e.jsx)("span",{children:o||"-"})}},!["functional","performance"].includes(C)&&{title:(0,e.jsx)(n._H,{id:"suite.ci_type"}),dataIndex:"ci_type",width:120,render:function(o){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170,render:function(o){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:o?ze()(o).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:200,render:function(o){return o?(0,e.jsx)(Re.Z,{title:o,width:150,isCode:!0,onClick:function(){O({visible:!0,doc:o})}}):"-"}}];return(0,e.jsxs)("div",{children:[(0,e.jsx)(De.Z,{className:it().confList_root,columns:D,name:"ws-suite-manage-buiness-conf",dataSource:w}),(0,e.jsx)($.Z,{maskClosable:!0,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return O({visible:!1,doc:""})},open:h.visible,children:(0,e.jsx)(He.Z,{code:h.doc})})]})},ot=rt,lt=t(88168),dt=t.n(lt),ut=function(d){var C=d.dataSource,w=(0,n.YB)(),I=w.formatMessage,E=(0,s.useState)(!1),h=(0,a.Z)(E,2),O=h[0],D=h[1],g=(0,s.useState)([]),o=(0,a.Z)(g,2),M=o[0],N=o[1],T=(0,s.useState)([]),S=(0,a.Z)(T,2),U=S[0],te=S[1],Y=(0,s.useState)({visible:!1,doc:""}),u=(0,a.Z)(Y,2),L=u[0],V=u[1],A=[{title:"Test Suite",dataIndex:"name",fixed:"left",width:120,render:function(r){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},width:120,children:r})}},{title:(0,e.jsx)(n._H,{id:"suite.run_mode"}),dataIndex:"run_mode",width:100,render:function(r){return Ae.ur.map(function(y){return y.id===r?(0,e.jsx)("span",{children:I({id:y.id})||"-"},y.id):null})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(r){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:r||"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.test_type"}),dataIndex:"test_type",width:100,render:function(r){return Ae.oQ.map(function(y){return y.value===r?(0,e.jsx)("span",{children:I({id:y.value})||"-"},y.value):null})}},{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n._H,{id:"suite.view_type"})," ",(0,e.jsx)(R.Z,{title:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type2"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type3"})})]}),placement:"bottomLeft",children:(0,e.jsx)(me.Z,{})})]}),dataIndex:"view_type",width:120,ellipsis:!0,render:function(r,y){return(0,Le.o)(r,y)}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:150,render:function(r){return(0,e.jsx)("div",{children:r?(0,e.jsx)(Re.Z,{title:r,width:100,isCode:!0,onClick:function(){V({visible:!0,doc:r})}}):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",className:"no_padding_head",width:100,ellipsis:{shwoTitle:!1},render:function(r,y){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:y.description})}},{title:"Owner",width:120,dataIndex:"owner_name"},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170,render:function(r){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:r||"-"})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ne.Z,{className:dt().suitList_root,size:"small",loading:O,rowKey:function(r){return r.id},columns:A,dataSource:C,expandable:{expandedRowKeys:M,expandedRowRender:function(r){var y=r.test_type,b=r.test_case_list;return(0,e.jsx)(ot,(0,x.Z)((0,x.Z)({suite_id:r.id,type:y},r),{},{domainList:U,dataSource:b}))},onExpand:function(r,y){N(r?[y.id]:[])},expandIcon:function(r){var y=r.expanded,b=r.onExpand,_=r.record;return y?(0,e.jsx)(_e.Z,{onClick:function(F){return b(_,F)}}):(0,e.jsx)(fe.Z,{onClick:function(F){return b(_,F)}})}},scroll:{x:"auto"},pagination:!1}),(0,e.jsx)($.Z,{maskClosable:!0,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return V({visible:!1,doc:""})},visible:L.visible,children:(0,e.jsx)(He.Z,{code:L.doc})})]})},ct=ut,mt=t(36286),Qe=t.n(mt),ft=function(){var ae=(0,$e.UO)(),d=ae.ws_id,C=(0,n.YB)(),w=C.formatMessage,I=(0,$e.TH)(),E=(0,s.useState)(!1),h=(0,a.Z)(E,2),O=h[0],D=h[1],g=(0,s.useState)({data:[],total:0,page_num:1}),o=(0,a.Z)(g,2),M=o[0],N=o[1],T=(0,s.useState)(10),S=(0,a.Z)(T,2),U=S[0],te=S[1],Y=(0,s.useState)([]),u=(0,a.Z)(Y,2),L=u[0],V=u[1],A=(0,s.useState)({}),j=(0,a.Z)(A,2),r=j[0],y=j[1],b=(0,s.useState)(!0),_=(0,a.Z)(b,2),K=_[0],F=_[1],W=(0,s.useState)(""),ye=(0,a.Z)(W,2),Ze=ye[0],Ye=ye[1],Oe=(0,s.useState)(),Ne=(0,a.Z)(Oe,2),Ke=Ne[0],Ve=Ne[1],Te=function(){var Z=(0,p.Z)((0,c.Z)().mark(function l(P){var q,m,i,v;return(0,c.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return D(!0),H.prev=1,H.next=4,(0,pe.p4)((0,x.Z)((0,x.Z)({},r),{},{ws_id:d},P));case 4:q=H.sent,m=q||{},i=m.code,v=m.msg,i===200?N(q):tt.default.error(v||w({id:"request.failed"})),D(!1),H.next=13;break;case 10:H.prev=10,H.t0=H.catch(1),D(!1);case 13:case"end":return H.stop()}},l,null,[[1,10]])}));return function(P){return Z.apply(this,arguments)}}();(0,s.useEffect)(function(){var Z={page_num:1,page_size:U,name:Ze,owner:Ke};y(Z),Te(Z)},[Ze,Ke,I==null?void 0:I.query]);var Fe=[{title:(0,e.jsx)(n._H,{id:"suite.business.name"}),dataIndex:"name",fixed:"left",width:"auto",filterIcon:function(){return(0,e.jsx)(be.Z,{style:{color:Ze?"#1890ff":void 0}})},filterDropdown:function(l){var P=l.confirm;return(0,e.jsx)(Ge.Z,{confirm:P,autoFocus:K,onConfirm:function(m){Ye(m)}})},onFilterDropdownVisibleChange:function(l){l&&F(!K)},render:function(l){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:l})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",onCell:function(){return{style:{minWidth:170}}},render:function(l){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:l?ze()(l).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_modified"}),dataIndex:"gmt_modified",onCell:function(){return{style:{minWidth:170}}},render:function(l){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:l?ze()(l).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:"Owner",dataIndex:"creator_name",onCell:function(){return{style:{minWidth:150}}},filterIcon:function(){return(0,e.jsx)(be.Z,{style:{color:Ke?"#1890ff":void 0}})},filterDropdown:function(l){var P=l.confirm;return(0,e.jsx)(at.Z,{confirm:P,onConfirm:function(m){Ve(m)}})},onFilterDropdownVisibleChange:function(l){l&&F(!K)},render:function(l){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:l})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",render:function(l){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:l})}}],We=function(l,P){te(P),Te({page_num:l,page_size:P})},ke=M.data,Me=M.total,Be=M.page_num;return(0,e.jsxs)("div",{children:[(0,e.jsx)(ne.Z,{className:Qe().businessList_root,size:"small",loading:O,rowKey:function(l){return l.id},columns:Fe,dataSource:ke,expandable:{expandedRowKeys:L,expandedRowRender:function(l){var P=l.test_suite_list,q=P===void 0?[]:P;return(0,e.jsx)(ct,{business_id:l.id,dataSource:q})},onExpand:function(l,P){V(l?[P.id]:[])},expandIcon:function(l){var P=l.expanded,q=l.onExpand,m=l.record;return P?(0,e.jsx)(_e.Z,{onClick:function(v){return q(m,v)}}):(0,e.jsx)(fe.Z,{onClick:function(v){return q(m,v)}})}},scroll:{x:"auto"},pagination:!1}),!!Me&&(0,e.jsxs)("div",{className:Qe().common_pagination,children:[(0,e.jsx)("div",{children:w({id:"pagination.total.strip"},{data:Me})}),(0,e.jsx)(ue.Z,{showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,current:Be,pageSize:U,total:Me,onChange:function(l,P){We(l,P)},onShowSizeChange:function(l,P){We(l,P)}})]})]})},Et=t(87967),Ue=t(65320),pt=t(42847),Dt=t(8281),ht=t(58591),bt=t(69230),Je=t(33821),vt=t(30635),xt=t.n(vt),gt=function(d){var C=d.confirm,w=d.onConfirm,I=(0,s.useState)([]),E=(0,a.Z)(I,2),h=E[0],O=E[1],D=(0,s.useState)(),g=(0,a.Z)(D,2),o=g[0],M=g[1],N=(0,s.useState)(),T=(0,a.Z)(N,2),S=T[0],U=T[1],te=(0,s.useState)(!0),Y=(0,a.Z)(te,2),u=Y[0],L=Y[1],V=Je.Z.Option;(0,s.useEffect)(function(){A()},[]);var A=function(){var j=(0,p.Z)((0,c.Z)().mark(function r(y){var b,_,K;return(0,c.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(b=y&&y.replace(/\s*/g,""),!(o&&o==b)){W.next=3;break}return W.abrupt("return");case 3:return M(b),L(!0),W.next=7,(0,pe.fP)({keyword:b,page_size:50,page_num:1});case 7:_=W.sent,K=_.data,O(K||[]),L(!1);case 11:case"end":return W.stop()}},r)}));return function(y){return j.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:xt().filter_search_wrapper,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Je.Z,{allowClear:!0,onDropdownVisibleChange:function(){return A()},notFoundContent:u?(0,e.jsx)(xe.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:A,style:{width:"100%"},onChange:function(r){return U(r)},showArrow:!1,autoFocus:!0,mode:"multiple",value:S,children:h.map(function(j){return(0,e.jsx)(V,{value:j.id,children:j.last_name},j.id)})})}),(0,e.jsx)(ht.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,e.jsxs)(he.Z,{children:[(0,e.jsx)(ce.Z,{onClick:function(){C==null||C(),S&&S.length>0&&w(S.toString())},type:"link",size:"small",style:{width:75},children:(0,e.jsx)(n._H,{id:"operation.search"})}),(0,e.jsx)(ce.Z,{type:"text",onClick:function(){C==null||C(),U(void 0),w(void 0),A()},size:"small",style:{width:75},children:(0,e.jsx)(n._H,{id:"operation.reset"})})]})]})},jt=gt,_t=t(24401),X=t.n(_t),St=function(d){var C=d.title,w=d.confirm,I=d.setParams,E=d.params,h=d.name,O=(0,s.useState)(!1),D=(0,a.Z)(O,2),g=D[0],o=D[1],M=function(T){o(T)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(he.Z,{children:[(0,e.jsx)("span",{children:C}),(0,e.jsx)(Ue.Z,{visible:g,onVisibleChange:M,trigger:["click"],overlayStyle:{background:"#fff",boxShadow:"0 9px 28px 8px rgb(0 0 0 / 5%), 0 6px 16px 0 rgb(0 0 0 / 8%), 0 3px 6px -4px rgb(0 0 0 / 12%)"},overlay:(0,e.jsx)(Ge.Z,{confirm:w,onConfirm:function(T){var S={};S[h]=T,o(!1),I((0,x.Z)((0,x.Z)((0,x.Z)({},E),S),{},{page_num:1}))}}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(be.Z,{className:E[h]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},Xe=function(d){var C=d.title,w=d.confirm,I=d.setParams,E=d.params,h=d.name,O=d.list,D=(0,s.useState)(!1),g=(0,a.Z)(D,2),o=g[0],M=g[1],N=function(S){M(S)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(he.Z,{children:[(0,e.jsx)("span",{children:C}),(0,e.jsx)(Ue.Z,{visible:o,onVisibleChange:N,trigger:["click"],overlay:(0,e.jsx)(pt.Z,{confirm:w,onConfirm:function(S){var U={};U[h]=S,M(!1),I((0,x.Z)((0,x.Z)((0,x.Z)({},E),U),{},{page_num:1}))},list:O}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(be.Z,{className:E[h]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},yt=function(d){var C=d.title,w=d.confirm,I=d.setParams,E=d.params,h=d.name,O=(0,s.useState)(!1),D=(0,a.Z)(O,2),g=D[0],o=D[1],M=function(T){o(T)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(he.Z,{children:[(0,e.jsx)("span",{children:C}),(0,e.jsx)(Ue.Z,{visible:g,onVisibleChange:M,trigger:["click"],overlay:(0,e.jsx)(jt,{confirm:w,onConfirm:function(T){var S={};S[h]=T,o(!1),I((0,x.Z)((0,x.Z)({},E),S))}}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(be.Z,{className:E[h]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},Zt=t(75073),Ct=function(d){var C=(0,n.YB)(),w=C.formatMessage,I=d.match.params.ws_id,E=(0,n.md)(),h=d.location.query.test_type||"functional",O=G.Z.TabPane,D=(0,s.useState)([]),g=(0,a.Z)(D,2),o=g[0],M=g[1],N=(0,s.useState)(!0),T=(0,a.Z)(N,2),S=T[0],U=T[1],te=(0,s.useState)({name:"",domain:"",run_mode:"",owner:"",order:"",page_num:1,page_size:10,test_type:h}),Y=(0,a.Z)(te,2),u=Y[0],L=Y[1],V=(0,s.useState)(!0),A=(0,a.Z)(V,2),j=A[0],r=A[1],y=(0,s.useState)([]),b=(0,a.Z)(y,2),_=b[0],K=b[1],F=(0,s.useState)(!1),W=(0,a.Z)(F,2),ye=W[0],Ze=W[1],Ye=(0,s.useState)(""),Oe=(0,a.Z)(Ye,2),Ne=Oe[0],Ke=Oe[1],Ve=(0,s.useState)([]),Te=(0,a.Z)(Ve,2),Fe=Te[0],We=Te[1],ke=function(){var m=(0,p.Z)((0,c.Z)().mark(function i(){var v,Q;return(0,c.Z)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,pe.R2)();case 2:v=de.sent,Q=v.data,We(Q);case 5:case"end":return de.stop()}},i)}));return function(){return m.apply(this,arguments)}}();(0,s.useEffect)(function(){ke()},[]);var Me=function(){var m=(0,p.Z)((0,c.Z)().mark(function i(){var v,Q,H=arguments;return(0,c.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return v=H.length>0&&H[0]!==void 0?H[0]:{},r(!0),M({data:[]}),ie.next=5,(0,pe.J1)((0,x.Z)((0,x.Z)({},v),{},{ws_id:I}));case 5:Q=ie.sent,M(Q),r(!1);case 8:case"end":return ie.stop()}},i)}));return function(){return m.apply(this,arguments)}}();(0,s.useEffect)(function(){["functional","performance"].includes(u.test_type)&&(Me(u),K([]))},[u,S]);var Be=function(i,v){L((0,x.Z)((0,x.Z)({},u),{},{page_num:i,page_size:v}))},Z=(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type2"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type3"})})]}),l=function(i){["functional","performance"].includes(i)&&K([]),L({test_type:i,name:"",domain:"",owner:"",order:"",run_mode:"",page_num:1,page_size:10}),n.m8.push("".concat(location.pathname,"?test_type=").concat(i))},P=[{title:function(){return(0,e.jsx)(St,{title:"Test Suite",params:u,setParams:L,name:"name"})},className:"no_padding_head",dataIndex:"name",ellipsis:!0},{title:function(){return(0,e.jsx)(Xe,{title:w({id:"suite.run_mode"}),params:u,setParams:L,name:"run_mode",list:Ae.ur.map(function(i){return(0,x.Z)((0,x.Z)({},i),{},{name:w({id:i.id})})})})},width:120,className:"no_padding_head",dataIndex:"run_mode",render:function(i){return i==="standalone"?(0,e.jsx)(n._H,{id:"standalone"}):(0,e.jsx)(n._H,{id:"cluster"})}},{title:function(){return(0,e.jsx)(Xe,{title:w({id:"suite.domain"}),params:u,setParams:L,name:"domain",list:Fe})},width:90,ellipsis:{shwoTitle:!1},render:function(i){return i?(0,e.jsx)(R.Z,{placement:"bottomLeft",title:i,children:(0,e.jsx)(Ie.Z.Text,{style:{width:85},ellipsis:!0,children:i||"-"})}):"-"},className:"no_padding_head",dataIndex:"domain_name_list"},{title:h==="functional"?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n._H,{id:"suite.view_type"})," ",(0,e.jsx)(R.Z,{title:Z,placement:"bottomLeft",children:(0,e.jsx)(me.Z,{})})]}),dataIndex:"view_type",width:h==="functional"?0:120,ellipsis:!0,render:function(i,v){return h==="functional"?(0,e.jsx)(e.Fragment,{}):(0,Le.o)(i,v)}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",className:"no_padding_head",width:190,render:function(i,v){return(0,e.jsx)("div",{children:(0,e.jsx)(Re.Z,{title:v.doc,isCode:!0,onClick:function(){Ze(!0),Ke(v.doc)}})})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",className:"no_padding_head",width:100,ellipsis:{shwoTitle:!1},render:function(i,v){return(0,e.jsx)(B.K,{ellipsis:{tooltip:!0},children:v.description})}},{title:function(){return(0,e.jsx)(yt,{title:"Owner",params:u,setParams:L,name:"owner"})},width:120,className:"no_padding_head",dataIndex:"owner_name"},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",className:"no_padding_head",sorter:!0,ellipsis:!0}],q=function(){var m=(0,p.Z)((0,c.Z)().mark(function i(v){return(0,c.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:K([v.id+""]);case 1:case"end":return H.stop()}},i)}));return function(v){return m.apply(this,arguments)}}();return(0,e.jsxs)(Zt.mQ,{title:(0,e.jsxs)(G.Z,{defaultActiveKey:h,onChange:l,children:[(0,e.jsx)(O,{tab:(0,e.jsx)(n._H,{id:"functional.test"})},"functional"),(0,e.jsx)(O,{tab:(0,e.jsx)(n._H,{id:"performance.test"})},"performance"),!1]}),extra:(0,e.jsx)(n.Nv,{accessible:E.WsMemberOperateSelf(),children:(0,e.jsx)(ce.Z,{type:"primary",onClick:function(){["functional","performance","business"].includes(u.test_type)&&n.m8.push("/ws/".concat(I,"/new_suite/").concat(u.test_type))},children:(0,e.jsx)(n._H,{id:"test.suite.manage"})},"createSuite")}),children:[["functional","performance"].includes(u.test_type)&&(0,e.jsxs)(xe.Z,{spinning:j,children:[(0,e.jsx)(ne.Z,{className:Se().table_style,size:"small",onChange:function(i,v,Q){switch(Q.order){case void 0:L((0,x.Z)((0,x.Z)({},u),{},{order:void 0}));break;case"descend":L((0,x.Z)((0,x.Z)({},u),{},{order:"-gmt_created"}));break;case"ascend":L((0,x.Z)((0,x.Z)({},u),{},{order:"gmt_created"}));break;default:break}},columns:P,dataSource:o.data,rowKey:function(i){return i.id+""},expandable:{expandedRowRender:function(i){return(0,e.jsx)(et,{domains:Fe,record:i.test_case_list,id:i.id,type:u.test_type,ws_id:I})},indentSize:0,onExpand:function(i,v){return i?q(v):K([])},expandedRowKeys:_,expandIcon:function(i){var v=i.expanded,Q=i.onExpand,H=i.record;return v?(0,e.jsx)(_e.Z,{onClick:function(ie){return Q(H,ie)}}):(0,e.jsx)(fe.Z,{onClick:function(ie){return Q(H,ie)}})}},pagination:!1}),(0,e.jsxs)(ge.Z,{justify:"space-between",style:{padding:"16px 20px 0"},children:[(0,e.jsx)("div",{children:w({id:"pagination.total.strip"},{data:o.total||0})}),(0,e.jsx)(ue.Z,{className:o.total==0?Se().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:u.page_num,defaultCurrent:1,onChange:function(i,v){return Be(i,v)},onShowSizeChange:function(i,v){return Be(i,v)},total:o.total})]})]}),u.test_type==="business"&&(0,e.jsx)(ft,{}),(0,e.jsx)($.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return Ze(!1)},open:ye,children:(0,e.jsx)(He.Z,{code:Ne})})]})},wt=Ct},25578:function(z,ve,t){"use strict";t.d(ve,{J1:function(){return xe},fP:function(){return ge},R2:function(){return ne},p4:function(){return ce},Vz:function(){return R},Ux:function(){return Ie}});var k=t(35832),$=t(32326),re=t(22812);function xe(c){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,$.Z)((0,k.Z)().mark(function c(p){return(0,k.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,re.WY)("/api/case/workspace/case/",{params:p}));case 1:case"end":return f.stop()}},c)})),Ce.apply(this,arguments)}function ge(c){return we.apply(this,arguments)}function we(){return we=(0,$.Z)((0,k.Z)().mark(function c(p){return(0,k.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,re.WY)("/api/auth/user/",{params:p}));case 1:case"end":return f.stop()}},c)})),we.apply(this,arguments)}function ue(c){return oe.apply(this,arguments)}function oe(){return oe=_asyncToGenerator(_regeneratorRuntime().mark(function c(p){return _regeneratorRuntime().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/case/workspace/has_record/",{params:p}));case 1:case"end":return f.stop()}},c)})),oe.apply(this,arguments)}function ne(){return le.apply(this,arguments)}function le(){return le=(0,$.Z)((0,k.Z)().mark(function c(){var p,a=arguments;return(0,k.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return p=a.length>0&&a[0]!==void 0?a[0]:{page_size:100},G.abrupt("return",(0,re.WY)("/api/case/test_domain/",{params:p}));case 2:case"end":return G.stop()}},c)})),le.apply(this,arguments)}function ce(c){return se.apply(this,arguments)}function se(){return se=(0,$.Z)((0,k.Z)().mark(function c(p){var a,f;return(0,k.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a={};for(f in p)(p[f]||p[f]===0)&&(a[f]=p[f]);return s.abrupt("return",(0,re.WY)("/api/case/workspace/business/brief/",{method:"GET",params:a}));case 3:case"end":return s.stop()}},c)})),se.apply(this,arguments)}function R(c){return je.apply(this,arguments)}function je(){return je=(0,$.Z)((0,k.Z)().mark(function c(p){var a,f;return(0,k.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a={};for(f in p)(p[f]||p[f]===0)&&(a[f]=p[f]);return s.abrupt("return",(0,re.WY)("/api/case/business/brief/",{method:"GET",params:a}));case 3:case"end":return s.stop()}},c)})),je.apply(this,arguments)}function Ie(c){return x.apply(this,arguments)}function x(){return x=(0,$.Z)((0,k.Z)().mark(function c(p){return(0,k.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,re.WY)("/api/case/workspace/business/brief/",{method:"GET",params:p}));case 1:case"end":return f.stop()}},c)})),x.apply(this,arguments)}}}]);
