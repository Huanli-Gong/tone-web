(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[3082],{98273:function(he){he.exports={cover:"cover___3PIkw"}},48877:function(he){he.exports={popover_group:"popover_group___IHI8-",job_compare:"job_compare___1_D5r",title:"title___1c0Gv",job_card:"job_card___3UEp7",job_index:"job_index___21-8z",job_detail:"job_detail___2CJBE",job_id:"job_id___1JRQn",job_creator:"job_creator___2TJh_",remove_active:"remove_active___1igZz",remove:"remove___1aCnX",job_delete:"job_delete___373RN",job_group:"job_group___2Qdj0",job_group_title:"job_group_title___QcEKp",job_item:"job_item___2_-nV",job_item_span:"job_item_span___5EB5v",delete:"delete___23RNK",operate:"operate___12fkp",list_container:"list_container___3WGnU",ViewTableStyle:"ViewTableStyle___1E2RD",result_table_row:"result_table_row___35tpX"}},7253:function(he){he.exports={popover_group:"popover_group___j2Kz6",job_compare:"job_compare___3XF0q",title:"title___3eiur",job_card:"job_card___1MV_c",job_index:"job_index___24peF",job_detail:"job_detail___37loK",job_id:"job_id___6_EU3",job_creator:"job_creator___3dH-U",remove_active:"remove_active___1zgwl",remove:"remove___i7J9x",job_delete:"job_delete___2EJje",job_group:"job_group___3L14X",job_group_title:"job_group_title___crAIG",job_item:"job_item___2Yq-b",job_item_span:"job_item_span___31i5J",delete:"delete___3vces",operate:"operate___264-O",popover_job:"popover_job___TPuXS",hrefUrl:"hrefUrl___fKrDG",row_table:"row_table___fqOAE",question_icon:"question_icon___39kbo"}},27687:function(he,ge,e){"use strict";var Z=e(49111),X=e(19650),ne=e(57663),de=e(71577),je=e(48736),ce=e(27049),r=e(43358),me=e(34041),x=e(20228),u=e(11382),_=e(39428),v=e(3182),a=e(2824),P=e(67294),oe=e(20009),g=e(16917),le=e(90105),Ee=e(98273),s=e.n(Ee),W=e(85893),ve=function(n){var C=n.confirm,xe=n.onConfirm,w=n.value,Y=n.page_size,Pe=n.mode,i=Pe===void 0?"multiple":Pe,fe=(0,oe.UO)(),t=fe.ws_id,o=(0,P.useState)([]),L=(0,a.Z)(o,2),j=L[0],z=L[1],k=(0,P.useState)(),h=(0,a.Z)(k,2),re=h[0],Ce=h[1],be=(0,P.useState)(),ie=(0,a.Z)(be,2),q=ie[0],ee=ie[1],ae=(0,P.useState)(!0),F=(0,a.Z)(ae,2),O=F[0],K=F[1],U=(0,P.useState)(!1),R=(0,a.Z)(U,2),f=R[0],I=R[1],pe=function(){var D=(0,v.Z)((0,_.Z)().mark(function b(A){var d,H,$;return(0,_.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(d=A&&A.replace(/\s*/g,""),!(re&&re==d)){N.next=3;break}return N.abrupt("return");case 3:return Ce(d),K(!0),N.next=7,(0,le.tR)({ws_id:t,keyword:d,page_size:Y||10,page_num:1});case 7:H=N.sent,$=H.data,z(Array.isArray($)?$:[]),K(!1);case 11:case"end":return N.stop()}},b)}));return function(A){return D.apply(this,arguments)}}();(0,P.useEffect)(function(){pe()},[]);var Re=function(){pe()};return(0,W.jsxs)("div",{style:{padding:8},children:[(0,W.jsx)("div",{className:s().cover,onClick:function(){f||C==null||C()}}),(0,W.jsx)(me.Z,{mode:i,allowClear:!0,notFoundContent:O?(0,W.jsx)(u.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:pe,style:{width:"100%"},onChange:function(b){return ee(b)},onDeselect:Re,onClear:Re,showArrow:!1,autoFocus:!0,value:q,onFocus:function(){I(!0)},onBlur:function(){setTimeout(function(){I(!1)},200)},options:j==null?void 0:j.map(function(D){return{label:D.last_name,value:D.id}})}),(0,W.jsx)(ce.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,W.jsxs)(X.Z,{children:[(0,W.jsx)(de.Z,{onClick:function(){C==null||C(),xe(q)},type:"link",size:"small",style:{width:75},children:(0,W.jsx)(g._H,{id:"operation.search"})}),(0,W.jsx)(de.Z,{type:"text",onClick:function(){C==null||C(),ee(void 0),xe(void 0),pe()},size:"small",style:{width:75,border:"none"},children:(0,W.jsx)(g._H,{id:"operation.reset"})})]})]})};ge.Z=ve},93082:function(he,ge,e){"use strict";e.d(ge,{Z:function(){return ie}});var Z=e(20228),X=e(11382),ne=e(49111),de=e(19650),je=e(62350),ce=e(24565),r=e(22385),me=e(89456),x=e(39428),u=e(34792),_=e(48086),v=e(11849),a=e(3182),P=e(2824),oe=e(20310),g=e(67294),le=e(12788),Ee=e(96348),s=e(16917),W=e(20009),ve=e(11468),p=e(86213),n=e(78037),C=e(57663),xe=e(71577),w=e(48877),Y=e.n(w),Pe=e(31298),i=e(8812),fe=e(24480),t=e(85893),o=function(q){var ee=(0,W.UO)(),ae=ee.ws_id,F=q.selectedChange,O=q.allGroup,K=q.selectedRowKeys,U=(0,g.useRef)(null),R=(0,g.useRef)(null),f=(0,g.useState)(!1),I=(0,P.Z)(f,2),pe=I[0],Re=I[1],D=function(){var c=document.querySelector("#job_group li"),y=document.getElementById("job_group");if(c&&y){var M=c.clientWidth+1,te=y.clientWidth;(O.length+1)*M>te&&Re(!0)}};(0,g.useEffect)(function(){return window.addEventListener("resize",D),function(){window.removeEventListener("resize",D)}},[]),(0,g.useEffect)(function(){D()},[O]);var b=function(){F()},A=function(c,y,M){if(c===200){var te=O.map(function(se,S){se.job_total=se.job_total.map(function(E){return String(E)});var l=M.filter(function(E){return se.job_total.includes(String(E.id))}),m={name:"Group".concat(S+1),product_version:"Group".concat(S+1),members:l};return m});window.sessionStorage.setItem("".concat(ae,"-compareData"),JSON.stringify(te)),window.sessionStorage.setItem("".concat(ae,"-originType"),"test_plan"),s.m8.push("/ws/".concat(ae,"/test_analysis/compare"))}else(0,fe.EV)(c,y)},d=(0,x.Z)().mark(function V(c){return(0,x.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,ve.W3)(c);case 2:case"end":return M.stop()}},V)}),H=function(){var c={plan_instance_list:K.join(","),ws_id:ae},y=d(c),M=y.next();M.value.then(function(te){var se=te.code,S=te.msg,l=te.data;A(se,S,l)})};(0,g.useEffect)(function(){R.current=document.querySelectorAll("#box li"),R.current&&(R.current=Array.from(R.current))},[O]);var $=function(c){if(R.current&&R.current[0]){var y=parseInt(window.getComputedStyle(R.current[0]).width);return c*y}return 0},Q=function(){if(U.current){var c=U.current.getScrollLeft();return c}},N=function(){var c=document.getElementById("job_group"),y=c.clientWidth;if(U.current){var M=Q();U.current.scrollLeft(M+y-230)}},ue={width:"100%"};return(0,t.jsxs)("div",{className:Y().job_compare,style:{display:O.length?"block":"none"},children:[(0,t.jsxs)("div",{className:Y().title,children:[(0,t.jsx)(s._H,{id:"plan.comparison.column"}),(0,t.jsxs)("span",{children:["\uFF08",O.length,"\uFF09"]})]}),(0,t.jsxs)("div",{className:Y().job_group,id:"job_group",children:[(0,t.jsx)(Pe.$B,{style:ue,ref:U,children:(0,t.jsx)("ul",{id:"box",children:O.map(function(V,c){var y=$(c);return(0,t.jsx)("li",{style:{borderRight:O.length>1&&c!==O.length-1?"1px dashed rgba(151, 151, 151, 0.4)":"none",position:"absolute",left:"".concat(y,"px")},children:(0,t.jsx)("div",{className:Y().job_group_title,children:"Group".concat(c+1,"(Job Num:").concat(V.job_total&&V.job_total.length||0,")")})},V.id)})})}),(0,t.jsx)("div",{className:Y().operate,children:(0,t.jsxs)(de.Z,{children:[(0,t.jsx)(i.Z,{onClick:N,style:{opacity:pe?1:0}}),(0,t.jsx)(xe.Z,{onClick:b,children:(0,t.jsx)(s._H,{id:"operation.cancel"})}),(0,t.jsx)(xe.Z,{type:"primary",onClick:H,children:(0,t.jsx)(s._H,{id:"operation.next"})})]})})]})]})},L=e(28686),j=e(85450),z=e(10753),k,h,re=le.ZP.span(k||(k=(0,oe.Z)([`
    color:#1890FF;
    cursor:pointer;
`]))),Ce=le.ZP.div(h||(h=(0,oe.Z)([`
    height : 36px;
    width : 100%;
    text-align:center;
    cursor:pointer;
    line-height:36px;
    color:rgba(0,0,0,.65);
    border-top:1px solid #f0f0f0;
`]))),be=function(ee){var ae=(0,s.YB)(),F=ae.formatMessage,O=(0,W.UO)(),K=O.ws_id,U=(0,s.md)(),R=ee.plan_id,f=ee.showPagination,I=f===void 0?!1:f,pe=ee.callBackViewTotal,Re=(0,g.useState)({page_size:10,page_num:1,ws_id:K,plan_id:R}),D=(0,P.Z)(Re,2),b=D[0],A=D[1],d=(0,g.useState)([]),H=(0,P.Z)(d,2),$=H[0],Q=H[1],N=(0,g.useState)([]),ue=(0,P.Z)(N,2),V=ue[0],c=ue[1],y=(0,fe.YM)(b),M=(0,s.QT)(function(J){return(0,ve.kB)(J)},{initialData:{data:[]},manual:!0,formatResult:function(T){return T}}),te=M.data,se=M.run,S=M.loading,l=(0,fe.YM)(te);(0,g.useEffect)(function(){se(b)},[R,b]);var m=(0,g.useCallback)(function(J){s.m8.push("/ws/".concat(K,"/test_plan/view/detail/").concat(J.id))},[]),E=function(){var J=(0,a.Z)((0,x.Z)().mark(function T(_e){var Me,Se,Te,Ze;return(0,x.Z)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return Me=y.current.page_size,Oe.next=3,(0,ve.Fg)({plan_instance_id:_e.id,ws_id:K});case 3:if(Se=Oe.sent,Te=Se.code,Ze=Se.msg,Te===200){Oe.next=9;break}return(0,fe.EV)(Te,Ze),Oe.abrupt("return");case 9:pe(),A((0,v.Z)((0,v.Z)({},b),{},{page_num:(0,fe.NG)(y,l),page_size:Me})),_.default.success(F({id:"plan.operation.success"}));case 12:case"end":return Oe.stop()}},T)}));return function(_e){return J.apply(this,arguments)}}(),G=[(0,v.Z)({dataIndex:"name",title:(0,t.jsx)(s._H,{id:"plan.plan.name"}),ellipsis:{showTitle:!1},fixed:"left",className:"plan_name_hover",render:function(T,_e){return(0,t.jsx)("span",{onClick:function(){return m(_e)},children:T||"-"})}},(0,n.QT)(b,A,"name")),(0,v.Z)({dataIndex:"state",title:(0,t.jsx)(s._H,{id:"plan.state"}),width:120,render:function(T){return(0,t.jsx)(Ee.kK,{state:T})}},(0,n.Ht)(b,A,[{name:"Complate",value:"success"},{name:"Fail",value:"fail"},{name:"Running",value:"running"},{name:"Pedding",value:"pedding"}],"state")),{title:(0,t.jsx)(s._H,{id:"plan.total/success/failure"}),width:180,key:"total",render:function(T){return(0,t.jsx)(Ee.Bs,(0,v.Z)({},T.statistics))}},{dataIndex:"trigger_name",width:100,title:(0,t.jsx)(s._H,{id:"plan.trigger"}),ellipsis:{showTitle:!1},render:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return(0,t.jsx)(me.Z,{placement:"topLeft",title:T,children:T})}},{dataIndex:"start_time",title:(0,t.jsx)(s._H,{id:"plan.start_time"}),width:180,ellipsis:{showTitle:!1},render:function(T,_e){return(0,t.jsx)(z.K,{ellipsis:{tooltip:!0},children:_e.start_time||"-"})}},{dataIndex:"end_time",title:(0,t.jsx)(s._H,{id:"plan.end_time"}),ellipsis:{showTitle:!1},width:180,render:function(T,_e){return(0,t.jsx)(z.K,{ellipsis:{tooltip:!0},children:_e.end_time||"-"})}},{title:(0,t.jsx)(s._H,{id:"Table.columns.operation"}),width:150,ellipsis:{showTitle:!1},fixed:"right",key:"operation",className:"option",render:function(T){return(0,t.jsxs)(de.Z,{children:[(0,t.jsx)(re,{className:"option-detail",onClick:function(){return m(T)},children:(0,t.jsx)(s._H,{id:"operation.detail"})}),(0,t.jsx)(s.Nv,{accessible:U.WsTourist(),children:(0,t.jsx)(s.Nv,{accessible:U.WsMemberOperateSelf(T.creator),fallback:(0,t.jsx)(re,{className:"option-delete",onClick:function(){return(0,fe.WR)()},children:(0,t.jsx)(s._H,{id:"operation.delete"})}),children:(0,t.jsx)(ce.Z,{title:(0,t.jsx)(s._H,{id:"delete.prompt"}),okText:(0,t.jsx)(s._H,{id:"operation.ok"}),cancelText:(0,t.jsx)(s._H,{id:"operation.cancel"}),onConfirm:function(){return E(T)},children:(0,t.jsx)(re,{className:"option-delete",children:(0,t.jsx)(s._H,{id:"operation.delete"})})})})}),(0,t.jsx)(L.Z,{className:"option-detail",dreType:"left",title:F({id:"plan.report"}),ws_id:K,jobInfo:T,origin:"jobList"})]})}}],B=function(){Q([]),c([])},ye=(0,g.useRef)(null),De=(0,g.useCallback)(function(J){s.m8.push("/ws/".concat(K,"/test_plan/view/summary/").concat(J))},[K]);return(0,t.jsx)("div",{ref:ye,className:Y().list_container,children:(0,t.jsxs)(X.Z,{spinning:S,children:[(0,t.jsx)(j.sL,{className:Y().ViewTableStyle,rowClassName:Y().result_table_row,columns:G,name:"ws-test-plan-view-table",refreshDeps:[K,b,U],dataSource:te.data,size:"small",pagination:!1,rowKey:"id"}),I&&(0,t.jsx)(p.Z,{total:te.total,pageSize:b.page_size,currentPage:b.page_num,onPageChange:function(T,_e){A((0,v.Z)((0,v.Z)({},b),{},{page_num:T,page_size:_e}))}}),(0,t.jsx)(o,{selectedRowKeys:$,allGroup:V,selectedChange:B}),I?null:te.total>10&&(0,t.jsx)(Ce,{onClick:function(){return De(R)},children:"\u67E5\u770B\u5168\u90E8"})]})})},ie=be},96348:function(he,ge,e){"use strict";e.d(ge,{kK:function(){return Ee},Bs:function(){return s},IT:function(){return ve}});var Z=e(49111),X=e(19650),ne=e(20310),de=e(67294),je=e(16917),ce=e(12788),r=e(85893),me,x,u,_=ce.ZP.span(me||(me=(0,ne.Z)([`
    color:`,`;
    background : `,`;
    height: 18px;
    min-width: 36px;
    font-size: 14px;
    line-height:18px;
    text-align : center;
    // font-weight: 700;
    display:inline-block;
    padding:0 7px;
`])),function(p){return p.color},function(p){return a(p.color)}),v=ce.ZP.span(x||(x=(0,ne.Z)([`
    color:`,`;
    background : `,`;
    height: 18px;
    min-width: 36px;
    font-size: 14px;
    line-height:18px;
    text-align : center;
    display:inline-block;
    border-radius: 12px;
    // font-weight: 700;
    padding:0 7px;
`])),function(p){return p.color},function(p){return a(p.color)});function a(p){if(p=="")return"";p=p.substring(1),p=p.toLowerCase();for(var n=new Array,C=0;C<3;C++)n[0]=p.substr(C*2,2),n[3]="0123456789abcdef",n[1]=n[0].substr(0,1),n[2]=n[0].substr(1,1),n[20+C]=n[3].indexOf(n[1])*16+n[3].indexOf(n[2]);return"rgba("+n[20]+","+n[21]+","+n[22]+",.1)"}var P="#000000a6",oe="#C84C5A",g="#39C15B",le="#649FF6",Ee=function(n){var C=n.state;switch(C){case"pending":return(0,r.jsx)(_,{color:P,children:"Pending"});case"running":return(0,r.jsx)(_,{color:le,children:"Running"});case"success":return(0,r.jsx)(_,{color:g,children:"Complete"});case"fail":return(0,r.jsx)(_,{color:oe,children:"Fail"});default:return(0,r.jsx)(r.Fragment,{children:"-"})}return(0,r.jsx)(r.Fragment,{children:"-"})},s=function(n){var C=n.total,xe=n.pass,w=n.fail;return(0,r.jsxs)(X.Z,{children:[(0,r.jsx)(v,{color:le,children:C||"-"}),(0,r.jsx)(v,{color:g,children:xe||"-"}),(0,r.jsx)(v,{color:oe,children:w||"-"})]})},W=(0,ce.ZP)(X.Z)(u||(u=(0,ne.Z)([`
    span { font-size : 12px; }
`]))),ve=function(n){return(0,r.jsxs)(W,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{children:[(0,r.jsx)(je._H,{id:"plan.trigger_count"}),"\uFF1A"]}),(0,r.jsx)("span",{style:{marginRight:8,color:le},children:n.trigger_count}),(0,r.jsxs)("span",{children:[(0,r.jsx)(je._H,{id:"plan.success"}),"\uFF1A"]}),(0,r.jsx)("span",{style:{marginRight:8,color:g},children:n.success_count}),(0,r.jsxs)("span",{children:[(0,r.jsx)(je._H,{id:"plan.fail"}),"\uFF1A"]}),(0,r.jsx)("span",{style:{marginRight:8,color:oe},children:n.fail_count})]}),n.last_time&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{children:[(0,r.jsx)(je._H,{id:"plan.last_time"}),"\uFF1A"]}),(0,r.jsx)("span",{children:n.last_time})]}),n.next_time&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{children:[(0,r.jsx)(je._H,{id:"plan.next_time"}),"\uFF1A"]}),(0,r.jsx)("span",{children:n.next_time})]})]})}},11468:function(he,ge,e){"use strict";e.d(ge,{oW:function(){return de},kB:function(){return je},Fg:function(){return r},W3:function(){return me}});var Z=e(39428),X=e(3182),ne=e(16917),de=function(){var x=(0,X.Z)((0,Z.Z)().mark(function u(_){return(0,Z.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,ne.WY)("/api/plan/view/",{params:_}));case 1:case"end":return a.stop()}},u)}));return function(_){return x.apply(this,arguments)}}(),je=function(){var x=(0,X.Z)((0,Z.Z)().mark(function u(_){return(0,Z.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,ne.WY)("/api/plan/result/",{params:_}));case 1:case"end":return a.stop()}},u)}));return function(_){return x.apply(this,arguments)}}(),ce=null,r=function(){var x=(0,X.Z)((0,Z.Z)().mark(function u(_){return(0,Z.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,ne.WY)("/api/plan/result/",{data:_,method:"delete"}));case 1:case"end":return a.stop()}},u)}));return function(_){return x.apply(this,arguments)}}(),me=function(u){return(0,ne.WY)("/api/plan/constraint/",{params:u})}},28686:function(he,ge,e){"use strict";var Z=e(20136),X=e(55241),ne=e(57663),de=e(71577),je=e(402),ce=e(97272),r=e(66456),me=e(79764),x=e(39428),u=e(3182),_=e(11849),v=e(2824),a=e(67294),P=e(7253),oe=e.n(P),g=e(31298),le=e(37763),Ee=e.n(le),s=e(39067),W=e(27687),ve=e(99069),p=e(19675),n=e(16917),C=e(20009),xe=e(96486),w=e.n(xe),Y=e(10753),Pe=e(71933),i=e(85893),fe={container:245,button_width:122};ge.Z=function(t){var o=(0,n.YB)(),L=o.formatMessage,j=(0,C.UO)(),z=j.ws_id,k=t.dreType,h=t.jobInfo,re=t.origin,Ce=t.buttonStyle,be=Ce===void 0?{}:Ce,ie=t.title,q=h&&h.report_li,ee={name:"",creator_name:""},ae=(0,a.useState)(!0),F=(0,v.Z)(ae,2),O=F[0],K=F[1],U=(0,a.useState)(ee),R=(0,v.Z)(U,2),f=R[0],I=R[1],pe=(0,a.useState)([]),Re=(0,v.Z)(pe,2),D=Re[0],b=Re[1],A=(0,a.useState)(!1),d=(0,v.Z)(A,2),H=d[0],$=d[1],Q=a.useRef(null);(0,Pe.Z)(function(){$(!1)},[Q]);var N=function(l,m){var E=w().cloneDeep(m);return l&&(E=E.filter(function(G){var B=l.split(",").map(function(De){return De&&(De==null?void 0:De.trim())}),ye=w().get(G,"creator");return B.includes(String(ye))})),E},ue=function(l,m){var E=w().cloneDeep(m);return l&&(E=E.filter(function(G){var B=w().get(G,"name");return B.includes(l.trim())})),E},V=function(l,m){var E=l||"";w().isArray(E)&&(E=E.join(","));var G={};G[m]=E;var B=w().cloneDeep(q);E===""?B=ue(f.name||"",B):(B=ue(f.name||"",B),B=N(E,B)),b(B),I((0,_.Z)((0,_.Z)({},f),G))},c=[{dataIndex:"name",title:(0,i.jsx)(n._H,{id:"ws.result.list.report.name"}),width:165,ellipsis:{showTitle:!1},className:"report_name_hover",filterDropdown:function(l){var m=l.confirm;return(0,i.jsx)(s.Z,{confirm:m,autoFocus:O,styleObj:fe,onConfirm:function(G){var B=w().cloneDeep(q);G===void 0?B=N(f.creator_name||"",B):(B=N(f.creator_name||"",B),B=ue(G,B)),b(B),I((0,_.Z)((0,_.Z)({},f),{},{name:G}))},placeholder:L({id:"ws.result.list.report.name.placeholder"})})},onFilterDropdownVisibleChange:function(l){l&&K(!O)},filterIcon:function(){return(0,i.jsx)(ve.Z,{style:{color:f.name?"#1890ff":void 0}})},render:function(l,m){return(0,i.jsx)(Y.K,{ellipsis:{tooltip:m.name},children:(0,i.jsx)(Ee(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[f.name||""],autoEscape:!0,textToHighlight:m&&m.name||"-",onClick:function(){return window.open("/ws/".concat(z,"/test_report/").concat(m.id))}})})}},{dataIndex:"creator_name",width:100,title:(0,i.jsx)(n._H,{id:"ws.result.list.creators"}),filterDropdown:function(l){var m=l.confirm;return(0,i.jsx)(W.Z,{autoFocus:O,confirm:m,onConfirm:function(G){return V(G,"creator_name")},page_size:20})},onFilterDropdownVisibleChange:function(l){l&&K(!O)},filterIcon:function(){return(0,i.jsx)(ve.Z,{style:{color:f.creator_name?"#1890ff":void 0}})},render:function(l){return(0,i.jsx)(Y.K,{ellipsis:{tooltip:!0},children:l||"-"})}},{dataIndex:"gmt_created",title:(0,i.jsx)(n._H,{id:"ws.result.list.gmt_created"}),width:200,render:function(l){return(0,i.jsx)(Y.K,{ellipsis:{tooltip:!0},children:l||"-"})}}],y=function(){var S=(0,u.Z)((0,x.Z)().mark(function l(m){return(0,x.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:window.open("/ws/".concat(z,"/test_report/").concat(m));case 1:case"end":return G.stop()}},l)}));return function(m){return S.apply(this,arguments)}}(),M=function(l,m){if(l.stopPropagation(),w().isArray(m)||(m=[]),m.length===1){y(m[0].id);return}$(!H),b(m)},te=function(l){return(0,i.jsx)("div",{ref:Q,children:(0,i.jsx)(g.$B,{style:{height:244},children:(0,i.jsx)(me.Z,{size:"small",rowKey:"id",columns:c,dataSource:l,pagination:!1,rowClassName:oe().row_table})})})},se=w().get(h,"report_li")&&h.report_li.length;return(0,i.jsx)("div",{className:oe().conf_item_box,children:(0,i.jsx)(X.Z,{placement:k,title:(0,i.jsx)(n._H,{id:"ws.result.list.view.report"}),content:te(D),trigger:"click",overlayClassName:oe().popover_job,open:H,children:re==="jobList"?(0,i.jsx)(ce.Z.Text,{style:{color:"#1890FF",cursor:"pointer",display:se?"inlineBlock":"none"},children:(0,i.jsxs)("span",{onClick:w().partial(M,w(),h&&h.report_li),style:{display:"flex",alignItems:"center"},children:[ie||(0,i.jsx)(n._H,{id:"ws.result.list.view.report"}),(0,i.jsx)(p.Z,{style:{display:se>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})}):(0,i.jsxs)(de.Z,{type:"primary",onClick:w().partial(M,w(),h&&h.report_li),style:(0,_.Z)({marginRight:8,display:se?"inlineBlock":"none"},be),children:[ie||(0,i.jsx)(n._H,{id:"ws.result.list.view.report"}),(0,i.jsx)(p.Z,{style:{display:se>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})})})}},85450:function(he,ge,e){"use strict";e.d(ge,{sL:function(){return fe},ny:function(){return Pe},Fu:function(){return i}});var Z=e(11849),X=e(2824),ne=e(93224),de=e(32059),je=e(66456),ce=e(79764),r=e(86582),me=e(19273),x=e(20310),u=e(67294),_=e(1706),v=e(12788),a=e(57392),P=e(85893),oe=["width","onResizeStart","onResize","onResizeStop","resize"],g=["columns","name","onColumnsChange"],le,Ee,s,W=v.ZP.div(le||(le=(0,x.Z)([`
    position: relative;
    width: 100%;
`]))),ve=v.ZP.div.attrs(function(t){return{style:{left:t.left,height:t==null?void 0:t.height}}})(Ee||(Ee=(0,x.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),p=(0,v.ZP)(_.Resizable)(s||(s=(0,x.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(t){var o=t.resize;return o?"col-resize":"default"}),n=function(o){var L=o.width,j=o.onResizeStart,z=o.onResize,k=o.onResizeStop,h=o.resize,re=(0,ne.Z)(o,oe);return(0,P.jsx)(p,(0,Z.Z)((0,Z.Z)({width:L||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:j,onResize:z,onResizeStop:k,resize:h?1:0},re),{},{children:(0,P.jsx)("th",(0,Z.Z)({},re))}))},C=function(o){var L=o.columns,j=L===void 0?[]:L,z=o.name,k=o.onColumnsChange,h=(0,ne.Z)(o,g),re=u.useState(0),Ce=(0,X.Z)(re,2),be=Ce[0],ie=Ce[1],q=u.useState(0),ee=(0,X.Z)(q,2),ae=ee[0],F=ee[1],O=u.useState(!1),K=(0,X.Z)(O,2),U=K[0],R=K[1],f=u.useRef(null),I=(0,a.Z)(f),pe=function(d){return function(H,$){var Q;if((0,me.Z)($),!!j[d].ellipsis){var N=H.clientX,ue=N-((Q=f.current)===null||Q===void 0?void 0:Q.getBoundingClientRect().x);F(ue),ie(ue),R(!0)}}},Re=function(){return function(d){var H,$=d.clientX,Q=$-((H=f.current)===null||H===void 0?void 0:H.getBoundingClientRect().x);ie(Q)}},D=function(d){return function(H,$){var Q,N=$.size,ue=H.clientX,V=ue-((Q=f.current)===null||Q===void 0?void 0:Q.getBoundingClientRect().x),c=(0,r.Z)(j);if(c[d].ellipsis){var y=N.width+=V-ae,M=c[d],te=M.dataIndex,se=M.key;y>20&&(c[d]=(0,Z.Z)((0,Z.Z)({},c[d]),{},{width:y}),z&&i(z,te||se,y),k==null||k())}ie(0),F(0),R(!1)}},b=u.useMemo(function(){return j.reduce(function(A,d){return d.width?A+=d==null?void 0:d.width:A},0)},[j]);return(0,P.jsxs)(W,{ref:f,className:"resize-table-wrapper",children:[(0,P.jsx)(ce.Z,(0,Z.Z)((0,Z.Z)({},h),{},{components:{header:{cell:n}},scroll:(o==null?void 0:o.scroll)||{x:b||(I==null?void 0:I.width)},columns:j.filter(Boolean).map(function(A,d){return(0,Z.Z)((0,Z.Z)({},A),{},{onHeaderCell:function($){return{resize:!!A.ellipsis,width:$.width,onResizeStart:pe(d),onResize:Re(),onResizeStop:D(d)}}})})})),U&&(0,P.jsx)(ve,{height:I==null?void 0:I.height,left:be||ae})]})},xe=C,w=["name","columns","refreshDeps","onColumnsChange"],Y="umi_locale",Pe=function(o,L){var j=localStorage.getItem(o),z=localStorage.getItem(Y)||"zh-CN";if(!!j)return JSON.parse(j)["".concat(z,"-").concat(L)]},i=function(o,L,j){var z=localStorage.getItem(o),k=localStorage.getItem(Y)||"zh-CN",h=(0,de.Z)({},"".concat(k,"-").concat(L),j);z?localStorage.setItem(o,JSON.stringify(Object.assign(JSON.parse(z),h))):localStorage.setItem(o,JSON.stringify(h))},fe=function(o){var L=o.name,j=o.columns,z=o.refreshDeps,k=z===void 0?[]:z,h=o.onColumnsChange,re=(0,ne.Z)(o,w),Ce=u.useState([]),be=(0,X.Z)(Ce,2),ie=be[0],q=be[1],ee=function(){return(j==null?void 0:j.filter(Boolean).map(function(F){var O=F.dataIndex,K=F.key,U=F.width,R=O||K,f=Pe(L,R);!f&&U&&i(L,R,U);var I=f||U;return I&&(F.width=I),F}))||[]};return u.useEffect(function(){q(ee())},k),(0,P.jsx)(xe,(0,Z.Z)({name:L,columns:ie,setColumns:q,size:"small",onColumnsChange:function(){h==null||h(),q(ee())}},re))}}}]);
