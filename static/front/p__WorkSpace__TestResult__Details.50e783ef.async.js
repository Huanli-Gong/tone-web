(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[804],{12475:function(Je){Je.exports={code_wrapper:"code_wrapper___3eANK"}},36192:function(Je){Je.exports={picker:"picker___uSvFT",waves:"waves___3JsYm"}},35412:function(Je){Je.exports={step_table_popover:"step_table_popover___1f0Zw",prep_test_conf_row:"prep_test_conf_row___19C03",popover_text_span:"popover_text_span___U51QY",prepTable:"prepTable___peGpw",buildTable:"buildTable___1mFuX",buildWrap:"buildWrap___1ORko",buildChild:"buildChild___3rdXh",buildName:"buildName___2BsvL",buildDetail:"buildDetail___2n-Br",buildCopy:"buildCopy___3X5js",process_suite_table_cls:"process_suite_table_cls___2_nEr",popover_warp:"popover_warp___zTwln",answers_warp:"answers_warp___w_Ua_",process_fail_reason:"process_fail_reason___3-Bm6",process_fail_answer:"process_fail_answer___dKRc-",text_warp:"text_warp___1aqi1"}},35696:function(Je){Je.exports={expandConf:"expandConf___3BXhT",expandIndex:"expandIndex___1kNdp",result_expand_table:"result_expand_table___2vQfW",result_info_table_head:"result_info_table_head___1GDEA",result_info_table_row:"result_info_table_row___2DLWy",column_circle_text:"column_circle_text___pXv4B",edit:"edit___2nvH1",file_icon:"file_icon___11_1k",dir_icon:"dir_icon___1qN2O",resultCaseTableCls:"resultCaseTableCls___U7YMc"}},63255:function(Je){Je.exports={setting_info_table:"setting_info_table___1ZOsw",label_style_form:"label_style_form___2imbA",label_style_form_en:"label_style_form_en___3Nm3-",job_test_form:"job_test_form___1r3-Z",pers_select:"pers_select___1FSND",join_persbaseline:"join_persbaseline___1_0tA",customCardCls:"customCardCls___1hVKa",test_suite_server_table:"test_suite_server_table___Pzj6m"}},27387:function(Je){Je.exports={test_result_name:"test_result_name___1v7Kr",test_summary_item:"test_summary_item___3O54P",test_summary_item_right:"test_summary_item_right___6YC7G",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___cXNoX",test_summary_row:"test_summary_row___3ciVC",detail_collection:"detail_collection___q_uDD",offline_flag:"offline_flag___3dYdc",result_tab_nav:"result_tab_nav___xfr-a","ant-tabs-bar":"ant-tabs-bar___lp4GA"}},13690:function(Je,ut,c){"use strict";var be=c(23412),De=c.n(be),ze=c(53631),we=c.n(ze),vt=c(31149),ct=c.n(vt),ot=c(29656),Oe=c(12475),st=c.n(Oe),ve=c(85893);ut.Z=function(Be){var N=Be.code,Le=Be.onChange,Ye=Be.readOnly,et=Ye===void 0?!1:Ye,de=Be.mode,at=de===void 0?"shell":de;return(0,ve.jsx)(ot.fk,{value:N,className:st().code_wrapper,options:{theme:"monokai",keyMap:"sublime",lineNumbers:at==="yaml",mode:at,readOnly:et},onBeforeChange:function(xt,tt,pt){return Le(pt)}})}},14552:function(Je,ut,c){"use strict";var be=c(22385),De=c(89456),ze=c(11849),we=c(2824),vt=c(93224),ct=c(20310),ot=c(67294),Oe=c(12788),st=c(60035),ve=c(85893),Be=["title","children","width","color","placement","style"],N,Le=Oe.ZP.div(N||(N=(0,ct.Z)([`
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
`]))),Ye=function(de){var at=de.title,Ne=de.children,xt=de.width,tt=de.color,pt=de.placement,ne=pt===void 0?"topLeft":pt,ke=de.style,ce=(0,vt.Z)(de,Be),d=(0,ot.useRef)(null),W=(0,ot.useState)(!1),ie=(0,we.Z)(W,2),_=ie[0],r=ie[1],ht=(0,st.CR)(),$e=ht.width,n=function(){var ft,Ge,Xe=d==null||(ft=d.current)===null||ft===void 0?void 0:ft.clientWidth,ee=d==null||(Ge=d.current)===null||Ge===void 0?void 0:Ge.scrollWidth;r(Xe<ee)};(0,ot.useEffect)(function(){n()},[at,$e]);var Ee=(0,ve.jsx)(Le,(0,ze.Z)((0,ze.Z)({ref:d,style:(0,ze.Z)({width:xt,color:tt},ke)},ce),{},{children:Ne||at||"-"}));return _?(0,ve.jsx)(De.Z,{title:at,placement:ne,overlayStyle:{wordBreak:"break-all"},children:Ee}):Ee};ut.Z=Ye},10938:function(Je,ut,c){"use strict";c.d(ut,{$x:function(){return vt},X6:function(){return ot},xN:function(){return st},cm:function(){return Be},BG:function(){return Le},BS:function(){return Ne},Ti:function(){return xt},iB:function(){return tt},F$:function(){return pt},x1:function(){return ne},Sy:function(){return ce},Rp:function(){return d},Tv:function(){return W},rc:function(){return ie},aB:function(){return _},Yh:function(){return r},mN:function(){return ht},L0:function(){return n},MH:function(){return Ee},oz:function(){return Te},XW:function(){return ft},vu:function(){return Ge},kA:function(){return Xe}});var be=c(39428),De=c(11849),ze=c(3182),we=c(16917);function vt(){return ct.apply(this,arguments)}function ct(){return ct=(0,ze.Z)((0,be.Z)().mark(function ee(){var He,re=arguments;return(0,be.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return He=re.length>0&&re[0]!==void 0?re[0]:{},Re.abrupt("return",(0,we.WY)("/api/server/cloud_server/",{params:He}));case 2:case"end":return Re.stop()}},ee)})),ct.apply(this,arguments)}function ot(){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,ze.Z)((0,be.Z)().mark(function ee(){var He,re=arguments;return(0,be.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return He=re.length>0&&re[0]!==void 0?re[0]:{},Re.abrupt("return",(0,we.WY)("/api/server/cloud_server/",{method:"POST",data:(0,De.Z)({},He)}));case 2:case"end":return Re.stop()}},ee)})),Oe.apply(this,arguments)}function st(){return ve.apply(this,arguments)}function ve(){return ve=(0,ze.Z)((0,be.Z)().mark(function ee(){var He,re=arguments;return(0,be.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return He=re.length>0&&re[0]!==void 0?re[0]:{},Re.abrupt("return",(0,we.WY)("/api/server/cloud_server/copy/",{method:"POST",data:(0,De.Z)({},He)}));case 2:case"end":return Re.stop()}},ee)})),ve.apply(this,arguments)}function Be(ee){return N.apply(this,arguments)}function N(){return N=(0,ze.Z)((0,be.Z)().mark(function ee(He){var re,e=arguments;return(0,be.Z)().wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:return re=e.length>1&&e[1]!==void 0?e[1]:{},Ft.abrupt("return",(0,we.WY)("/api/server/cloud_server/detail/".concat(He,"/"),{method:"PUT",data:(0,De.Z)({},re)}));case 2:case"end":return Ft.stop()}},ee)})),N.apply(this,arguments)}function Le(ee,He){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,ze.Z)((0,be.Z)().mark(function ee(He,re){return(0,be.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.abrupt("return",(0,we.WY)("/api/server/cloud_server/detail/".concat(He,"/"),{method:"DELETE",data:(0,De.Z)({},re)}));case 1:case"end":return Re.stop()}},ee)})),Ye.apply(this,arguments)}function et(){return de.apply(this,arguments)}function de(){return de=_asyncToGenerator(_regeneratorRuntime().mark(function ee(){var He,re=arguments;return _regeneratorRuntime().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return He=re.length>0&&re[0]!==void 0?re[0]:{},Re.abrupt("return",request("/api/server/server_tag/",{params:He}));case 2:case"end":return Re.stop()}},ee)})),de.apply(this,arguments)}function at(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return request("/api/auth/user/",{params:ee})}function Ne(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/cloud_server/instance_type/",{params:ee})}function xt(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/cloud_server/aliyun/",{params:ee})}function tt(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/cloud_server/image/",{params:ee})}function pt(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/cloud_server/disk/categories/",{params:ee})}function ne(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/check/cloud_name/",{params:ee})}function ke(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return request("/api/server/check/var_name/",{method:"POST",data:_objectSpread({},ee)})}function ce(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/test_cluster/",{params:ee})}function d(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/test_cluster/",{method:"POST",data:(0,De.Z)({},ee)})}function W(ee,He){return(0,we.WY)("/api/server/test_cluster/detail/".concat(ee,"/"),{method:"PUT",data:(0,De.Z)({},He)})}function ie(ee,He){return(0,we.WY)("/api/server/test_cluster/detail/".concat(ee,"/"),{method:"DELETE",data:He})}function _(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/cloud_ak/",{params:ee})}function r(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/cloud_server/region/",{params:ee})}function ht(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/cloud_server/zone/",{params:ee})}function $e(ee){return request("/api/server/test_cluster/cloud_type/".concat(ee,"/"))}function n(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/test_cluster/cloud_server/",{params:ee})}function Ee(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,we.WY)("/api/server/test_cluster/cloud_server/",{method:"POST",data:(0,De.Z)({},ee)})}function Te(ee){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,we.WY)("/api/server/test_cluster/cloud_server/detail/".concat(ee,"/"),{method:"PUT",data:(0,De.Z)({},He)})}function ft(ee){return(0,we.WY)("/api/server/test_cluster/cloud_server/detail/".concat(ee,"/"),{method:"DELETE"})}var Ge=function(){var ee=(0,ze.Z)((0,be.Z)().mark(function He(re){return(0,be.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.abrupt("return",(0,we.WY)("/api/server/sync_state/",{method:"post",data:re}));case 1:case"end":return Re.stop()}},He)}));return function(re){return ee.apply(this,arguments)}}(),Xe=function(){var ee=(0,ze.Z)((0,be.Z)().mark(function He(re){return(0,be.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.abrupt("return",(0,we.WY)("/api/server/sync_cloud_server_info/",{params:re}));case 1:case"end":return Re.stop()}},He)}));return function(re){return ee.apply(this,arguments)}}()},46873:function(Je,ut,c){"use strict";var be=c(48736),De=c(27049),ze=c(2824),we=c(67294),vt=c(79941),ct=c(19730),ot=c(79508),Oe=c(36192),st=c.n(Oe),ve=c(34528),Be=c.n(ve),N=c(85893),Le=function(et){var de=et.value,at=et.onChange,Ne=(0,we.useState)(!1),xt=(0,ze.Z)(Ne,2),tt=xt[0],pt=xt[1],ne=(0,we.useState)(!1),ke=(0,ze.Z)(ne,2),ce=ke[0],d=ke[1],W=(0,we.useState)({r:255,g:157,b:78,a:1}),ie=(0,ze.Z)(W,2),_=ie[0],r=ie[1],ht=[{r:255,g:157,b:78,a:1},{r:91,g:216,b:166,a:1},{r:91,g:143,b:249,a:1},{r:247,g:102,b:78,a:1},{r:255,g:134,b:183,a:1},{r:43,g:158,b:157,a:1},{r:146,g:112,b:202,a:1},{r:109,g:200,b:236,a:1},{r:102,g:119,b:150,a:1},{r:245,g:188,b:22,a:1},{r:231,g:107,b:242,a:1}],$e=function(){pt(!tt)},n=function(){pt(!1)},Ee=function(Xe){var ee=Xe.rgb;r(ee);var He="rgb(".concat(ee.r,",").concat(ee.g,",").concat(ee.b,",").concat(ee.a,")");at&&at(He)};(0,we.useEffect)(function(){var Ge={r:255,g:157,b:78,a:1};if(de){var Xe=de.slice(4,de.length-1).split(",");Ge={r:Number(Xe[0]),g:Number(Xe[1]),b:Number(Xe[2]),a:Number(Xe[3])}}r(Ge)},[de]);var Te=function(Xe){r(Xe),d(!1);var ee="rgb(".concat(Xe.r,",").concat(Xe.g,",").concat(Xe.b,",").concat(Xe.a,")");at&&at(ee)},ft=(0,vt.ZP)({default:{color:{position:"relative",width:"22px",height:"22px",borderRadius:"2px",background:"rgba(".concat(_.r,", ").concat(_.g,", ").concat(_.b,", ").concat(_.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},warp:{position:"absolute",paddingTop:"16px",paddingBottom:"6px",background:"#fff",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)",borderRadius:"2px",zIndex:9999}}});return(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{style:ft.swatch,className:st().click,onClick:$e,children:(0,N.jsx)("div",{style:ft.color,className:st().waves})}),tt?(0,N.jsxs)("div",{style:ft.popover,children:[(0,N.jsx)("div",{style:ft.cover,onClick:n}),(0,N.jsxs)("div",{style:ft.warp,children:[(0,N.jsxs)("div",{style:{background:"#fff",width:244,paddingLeft:"16px"},children:[ht.map(function(Ge,Xe){return(0,N.jsx)("div",{children:(0,N.jsx)("div",{className:st().waves,style:{position:"relative",float:"left",marginRight:"16px",marginBottom:"16px",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden",background:"rgba(".concat(Ge.r,", ").concat(Ge.g,", ").concat(Ge.b,", ").concat(Ge.a,")")},onClick:function(){return Te(Ge)},children:JSON.stringify(_)==JSON.stringify(Ge)&&(0,N.jsx)(ot.Z,{style:{position:"absolute",top:"5px",left:"5px",color:"#fff"}})})},Xe)}),(0,N.jsx)("div",{children:(0,N.jsxs)("div",{className:st().waves,style:{float:"left",marginRight:"16px",marginBottom:"16px",position:"relative",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden"},onClick:function(){return d(!ce)},children:[(0,N.jsx)("img",{src:Be(),style:{position:"absolute",width:"22px"}}),(0,N.jsx)("div",{style:{position:"absolute",left:"4px",top:"4px",width:"14px",height:"14px",borderRadius:"2px",background:"rgba(".concat(_.r,", ").concat(_.g,", ").concat(_.b,", ").concat(_.a,")")}})]})})]}),ce&&(0,N.jsx)(De.Z,{style:{margin:0}}),ce&&(0,N.jsx)("div",{style:{padding:"6px"},children:(0,N.jsx)(ct.xS,{className:st().picker,width:212,color:_,onChange:Ee,presetColors:[]})})]})]}):null]})};ut.Z=Le},59187:function(Je,ut,c){"use strict";c.r(ut),c.d(ut,{default:function(){return ai}});var be=c(20228),De=c(11382),ze=c(18106),we=c(73272),vt=c(62350),ct=c(24565),ot=c(57663),Oe=c(71577),st=c(89032),ve=c(15746),Be=c(402),N=c(97272),Le=c(17462),Ye=c(76772),et=c(49111),de=c(19650),at=c(22385),Ne=c(89456),xt=c(71153),tt=c(60331),pt=c(13062),ne=c(71230),ke=c(34792),ce=c(48086),d=c(11849),W=c(39428),ie=c(3182),_=c(2824),r=c(67294),ht=c(27387),$e=c.n(ht),n=c(16917),Ee=c(20009),Te=c(4424),ft=c(8990),Ge=c(22263),Xe=c(86504),ee=c(93224),He=c(63132),re=c(24480),e=c(85893),Re=["count"],Ft=function(o){var t=o.data,i=t===void 0?{}:t,s=o.test_type,a=s===void 0?"":s,u=(0,n.YB)(),p=u.formatMessage,h=function(b,R){if(b==="increase")return{color:"#81BF84",name:p({id:"ws.result.details.".concat(b)}),legend:"#389E0D"};if(b==="decline")return{color:"#C84C5A",name:p({id:"ws.result.details.".concat(b)}),legend:"#C84C5A"};if(b==="normal")return{color:"#6A737D",name:p({id:"ws.result.details.".concat(b)}),legend:"#000000"};if(b==="invalid")return{color:"#6A737D",name:p({id:"ws.result.details.".concat(b)}),legend:"#000000"};if(b==="na")return{color:"#6A737D",name:p({id:"ws.result.details.".concat(b)}),legend:"#000000"};if(b==="success")return{color:"#81BF84",name:p(R==="business_business"?{id:"ws.result.details.business.".concat(b)}:{id:"ws.result.details.".concat(b)}),legend:"#389E0D"};if(b==="fail")return{color:"#C84C5A",name:p({id:"ws.result.details.".concat(b)}),legend:"#C84C5A"};if(b==="warn")return{color:"#DCC506",name:p({id:"ws.result.details.".concat(b)}),legend:"#DCC506"};if(b==="skip")return{color:"#6A737D",name:p({id:"ws.result.details.".concat(b)}),legend:"#000000"}},y=(0,r.useRef)(null),j=(0,re.SE)(a),x=(0,r.useState)(""),S=(0,_.Z)(x,2),T=S[0],f=S[1];return(0,r.useEffect)(function(){var g=setInterval(function(){var b=(0,n.Kd)();b!==T&&f(b)},200);return function(){g&&clearInterval(g)}},[]),(0,r.useEffect)(function(){if(JSON.stringify(i)!=="{}"){var g=i.count,b=(0,ee.Z)(i,Re),R=j==="business_business"?["success","fail"]:Object.keys(b),m=R.map(function(v){return(0,d.Z)({value:i[v],key:v},h(v,j))}),B=He.init(y.current),L={};return m.forEach(function(v){var H=v.legend,Z=v.key;L[Z]={color:H}}),B.setOption({color:m.map(function(v){var H=v.color;return H}),legend:{selectedMode:!1,show:!0,bottom:0,formatter:function(H){var Z=m.findIndex(function(se){return H===se.name}),K=m[Z];return"{".concat(K.key,"|").concat(H,"(").concat(K.value,")}")},textStyle:{rich:L},data:m.map(function(v){var H=v.color,Z=v.name;return{name:Z,textStyle:H}}),itemWidth:0,itemHeight:0},tooltip:{show:!1},series:[{type:"pie",radius:["60%","80%"],avoidLabelOverlap:!1,data:m,hoverOffset:1,height:"90%",label:{show:!0,position:"center",color:"#4c4a4a",formatter:"{total|"+g+`}
\r{active|All cases}`,rich:{total:{fontSize:30,fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",color:"#000000"},active:{fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",fontSize:12,color:"rgba(0,0,0,.65)"}}},emphasis:{label:{show:!0}}}]}),function(){B==null||B.dispose()}}},[i,y,T]),(0,e.jsx)("div",{style:{width:"calc(100% - 0px)"},children:(0,e.jsx)("div",{ref:y,style:{height:170}})})},ui=c(59250),Zs=c(13013),ci=c(30887),_n=c(28682),_t=c(32059),Dn=c(57254),It=c(44378),Pt=c(68002),fi=c(66456),Dt=c(79764),Lt=c(13090),vi=c(57338),gn=c(440),pi=c(88983),rt=c(47933),mi=c(43358),mt=c(34041),hi=c(48736),Ut=c(27049),_i=c(47673),dt=c(4107),gi=c(9715),ge=c(20526),Ss=c(77429),xn=c.n(Ss),jn=c(49101),xi=c(71194),Hn=c(50146),Cs=(0,r.forwardRef)(function(o,t){var i=(0,n.YB)(),s=i.formatMessage,a=(0,r.useState)(!1),u=(0,_.Z)(a,2),p=u[0],h=u[1],y=(0,r.useState)(!1),j=(0,_.Z)(y,2),x=j[0],S=j[1];(0,r.useImperativeHandle)(t,function(){return{show:function(){h(!0)}}});var T=ge.Z.useForm(),f=(0,_.Z)(T,1),g=f[0],b=function(){h(!1)},R=function(){x||(S(!0),g.validateFields().then(function(B){console.log(B)}).catch(function(){S(!1)}))};return(0,e.jsxs)(Hn.Z,{width:487,title:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"}),visible:p,onCancel:b,onOk:R,okText:(0,e.jsx)(n._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:[(0,e.jsxs)(ne.Z,{children:[(0,e.jsx)("b",{children:(0,e.jsx)(n._H,{id:"ws.result.details.test.env"})}),(0,e.jsx)("span",{})]}),(0,e.jsxs)(ne.Z,{children:[(0,e.jsx)("b",{children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.type"})}),(0,e.jsx)("span",{})]}),(0,e.jsx)("div",{style:{width:"100%",height:10,background:"#F5F5F5"}}),(0,e.jsxs)(ge.Z,{form:g,layout:"vertical",children:[(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.name"}),children:(0,e.jsx)(dt.Z,{autoComplete:"off",placeholder:s({id:"ws.result.details.baseline.name.placeholder"})})}),(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.desc"}),children:(0,e.jsx)(dt.Z.TextArea,{rows:3,autoComplete:"off",placeholder:s({id:"ws.result.details.baseline.desc.placeholder"})})})]})]})}),ks=c(37763),bn=c.n(ks),Ts=c(88896),oe=c(72529),Rs=function(t,i){var s=(0,n.YB)(),a=s.formatMessage,u=(0,Ee.UO)(),p=u.ws_id,h=u.id,y=(0,n.md)(),j=t.test_type,x=t.onOk,S=r.useContext(At),T=S.oSuite,f=ge.Z.useForm(),g=(0,_.Z)(f,1),b=g[0],R=(0,r.useState)(!1),m=(0,_.Z)(R,2),B=m[0],L=m[1],v=(0,r.useState)({suite_list:[],suite_data:[]}),H=(0,_.Z)(v,2),Z=H[0],K=H[1],se=(0,r.useState)(!1),U=(0,_.Z)(se,2),F=U[0],k=U[1],I=(0,r.useState)(!1),z=(0,_.Z)(I,2),le=z[0],he=z[1],M=(0,r.useState)([]),E=(0,_.Z)(M,2),P=E[0],$=E[1],l=(0,r.useState)([]),J=(0,_.Z)(l,2),D=J[0],O=J[1],w=(0,r.useState)(),C=(0,_.Z)(w,2),A=C[0],pe=C[1],Ze=(0,r.useState)(),ae=(0,_.Z)(Ze,2),fe=ae[0],_e=ae[1],Y=(0,r.useRef)(null),ue=(0,r.useRef)(null),Se=(0,r.useRef)(null),We=function(){var te=(0,ie.Z)((0,W.Z)().mark(function G(){var X,me,Me,Ie;return(0,W.Z)().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return he(!0),wt.next=3,(0,Te.bU)({ws_id:p,test_type:j});case 3:X=wt.sent,me=X.data,Me=X.code,Me===200&&(Ie=me.map(function(nt){return{label:nt.name,key:nt.id,value:nt.id}}),j==="functional"?$(Ie):O(Ie),he(!1));case 7:case"end":return wt.stop()}},G)}));return function(){return te.apply(this,arguments)}}(),Ae=function(){var te=(0,ie.Z)((0,W.Z)().mark(function G(X){var me,Me,Ie,qe;return(0,W.Z)().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(X){nt.next=2;break}return nt.abrupt("return");case 2:return nt.next=4,(0,Ts.si)({name:X,test_type:j,version:"",page_size:999,ws_id:p});case 4:return me=nt.sent,Me=me.code,Ie=me.msg,qe=me.data,Me===200?(ce.default.success("\u6DFB\u52A0\u57FA\u7EBF\u6210\u529F!!!"),We(),pe(void 0),_e(void 0)):(0,re.EV)(Me,Ie),nt.abrupt("return",qe);case 10:case"end":return nt.stop()}},G)}));return function(X){return te.apply(this,arguments)}}();(0,r.useImperativeHandle)(i,function(){return{show:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;L(!0),We(),G&&(K(G),b.setFieldsValue(G)),_e(void 0),pe(void 0)}}});var Ke=function(){L(!1),b.resetFields(),k(!1),K({}),pe(void 0)},Ue=function(G,X){if(G!==200){k(!1),(0,re.EV)(G,X);return}x(),ce.default.success(a({id:"operation.success"})),Ke()},yt=function(){k(!0),b.validateFields().then(function(){var G=(0,ie.Z)((0,W.Z)().mark(function X(me){var Me,Ie,qe,wt,nt,Nt,$t,cn,Wt,fn,vn,Mt,Kt,zt,pn,mn;return(0,W.Z)().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(Ie=(0,d.Z)((0,d.Z)({},me),{},{ws_id:p,test_type:j,bug:me==null||(Me=me.bug)===null||Me===void 0?void 0:Me.trim()}),console.log(Z),!(Z!=null&&Z.isMore)){Ve.next=10;break}return Ve.next=5,(0,Te.FJ)((0,d.Z)((0,d.Z)({},Ie),{},{ids:T,job_id:h}));case 5:return qe=Ve.sent,wt=qe.code,nt=qe.msg,Ue(wt,nt),Ve.abrupt("return");case 10:if(j!=="functional"){Ve.next=20;break}return Nt=Z.suite_id,$t=Z.test_case_id,cn=Z.id,Ve.next=14,(0,Te._f)((0,d.Z)((0,d.Z)({},Ie),{},{test_job_id:h,test_suite_id:Nt,test_case_id:$t,result_id:cn}));case 14:Wt=Ve.sent,fn=Wt.code,vn=Wt.msg,Ue(fn,vn),Ve.next=34;break;case 20:if(Mt=Z.suite_id,Kt=Z.test_case_id,!Kt){Ve.next=27;break}return Ve.next=24,(0,Te.Tm)((0,d.Z)((0,d.Z)({},Ie),{},{job_id:h,suite_id:Mt,case_id:Kt}));case 24:Ve.t0=Ve.sent,Ve.next=30;break;case 27:return Ve.next=29,(0,Te.FJ)((0,d.Z)((0,d.Z)({},Ie),{},{job_id:h,ids:(0,_t.Z)({},Mt,{})}));case 29:Ve.t0=Ve.sent;case 30:zt=Ve.t0,pn=zt.code,mn=zt.msg,Ue(pn,mn);case 34:case"end":return Ve.stop()}},X)}));return function(X){return G.apply(this,arguments)}}()).catch(function(G){console.log(G),k(!1)})},ye=function(G){pe(G)},xe=function(G){_e(G)},V=function(){var te=(0,ie.Z)((0,W.Z)().mark(function G(){var X,me,Me;return(0,W.Z)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(!A){qe.next=10;break}return qe.next=3,Ae(A);case 3:if(X=qe.sent,X){qe.next=6;break}return qe.abrupt("return");case 6:me=X.id,me&&(Me=b.getFieldValue("baseline_id")||[],b.setFieldsValue({baseline_id:Me.concat([me])})),pe(""),ue.current.blur();case 10:case"end":return qe.stop()}},G)}));return function(){return te.apply(this,arguments)}}(),q=function(){var te=(0,ie.Z)((0,W.Z)().mark(function G(){var X,me;return(0,W.Z)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!fe){Ie.next=9;break}return Ie.next=3,Ae(fe);case 3:if(X=Ie.sent,X){Ie.next=6;break}return Ie.abrupt("return");case 6:me=X.id,me&&b.setFieldsValue({baseline_id:me}),Se.current.blur();case 9:case"end":return Ie.stop()}},G)}));return function(){return te.apply(this,arguments)}}();return(0,e.jsxs)(gn.Z,{maskClosable:!1,keyboard:!1,width:"376",title:Z!=null&&Z.bug?(0,e.jsx)(n._H,{id:"ws.result.details.edit.baseline"}):(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"}),open:B,bodyStyle:{padding:0},onClose:Ke,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(Oe.Z,{onClick:Ke,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(Oe.Z,{type:"primary",onClick:yt,disabled:F,children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})}),children:[(0,e.jsxs)(De.Z,{spinning:le,children:[((Z==null?void 0:Z.suite_name)||(Z==null?void 0:Z.conf_name))&&(0,e.jsxs)(ne.Z,{style:{marginBottom:10,background:"#fff",padding:20,borderBottom:"10px solid #f0f2f5"},children:[(0,oe.ud)("Test Suite",Z==null?void 0:Z.suite_name),(0,oe.ud)("Test Conf",Z==null?void 0:Z.conf_name),(0,oe.ud)("Test Case",Z==null?void 0:Z.case_name)]}),(0,e.jsxs)(ge.Z,{form:b,layout:"vertical",style:{background:"#fff",padding:"10px 20px"},children:[j==="functional"&&(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.bug"}),name:"bug",rules:[{required:!0,message:a({id:"ws.result.details.bug.empty"}),validator:function(G,X,me){return X.trim()?Promise.resolve():Promise.reject(a({id:"ws.result.details.bug.empty"}))}}],children:(0,e.jsx)(dt.Z,{placeholder:a({id:"ws.result.details.bug.placeholder"}),autoComplete:"off"})}),j==="performance"&&(0,e.jsx)("div",{onMouseDown:function(G){return G.preventDefault()},children:(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_id"}),name:"baseline_id",rules:[{required:!0,message:a({id:"ws.result.details.baseline_id.empty"})}],children:(0,e.jsx)(mt.Z,{listHeight:160,mode:"multiple",getPopupContainer:function(G){return G.parentNode},onSearch:xe,ref:Se,defaultActiveFirstOption:!1,filterOption:function(G,X){return X.name.indexOf(G)>=0},loading:le,placeholder:a({id:"ws.result.details.baseline_id.placeholder"}),dropdownStyle:{padding:0,margin:0},onSelect:function(G){return b.setFieldsValue({baseline_id:G})},dropdownRender:function(G){return(0,e.jsxs)(e.Fragment,{children:[G,fe&&!!fe.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ut.Z,{style:{margin:"8px 0"}}),y.IsWsSetting()&&(0,e.jsx)("div",{style:{display:"inline-block",flexWrap:"nowrap",width:"100%",padding:"0 0 8px 8px"},onClick:q,children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(jn.Z,{style:{color:"#1890FF"}}),(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"})})]})})]})]})},options:D.map(function(te){return{value:te.value,name:te.label,label:(0,e.jsx)(N.Z.Text,{ellipsis:{tooltip:te.label},children:(0,e.jsx)(bn(),{highlightStyle:{color:"#1890FF",padding:0,background:"unset"},searchWords:[A],autoEscape:!0,textToHighlight:te.label})})}})})})}),j==="functional"&&(0,e.jsx)("div",{onMouseDown:function(G){return G.preventDefault()},children:(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_id"}),name:"baseline_id",rules:[{required:!0,message:a({id:"ws.result.details.baseline_id.empty"})}],children:(0,e.jsx)(mt.Z,{placeholder:a({id:"ws.result.details.baseline_id.placeholder"}),mode:"multiple",className:xn().select_baseline,allowClear:!0,optionLabelProp:"label",ref:ue,listHeight:160,loading:le,getPopupContainer:function(G){return G.parentNode},onSearch:ye,filterOption:function(G,X){return X.name.indexOf(G)>=0},dropdownRender:function(G){return(0,e.jsxs)(e.Fragment,{children:[G,A&&!!A.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ut.Z,{style:{margin:"8px 0"}}),y.IsWsSetting()&&(0,e.jsx)("div",{style:{display:"inline-block",flexWrap:"nowrap",width:"100%",padding:"0 0 8px 8px"},onClick:V,children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(jn.Z,{style:{color:"#1890FF"}}),(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"})})]})})]})]})},options:P.map(function(te){return{value:te.value,name:te.label,label:(0,e.jsx)(N.Z.Text,{ellipsis:{tooltip:te.label},children:(0,e.jsx)(bn(),{highlightStyle:{color:"#1890FF",padding:0,background:"unset"},searchWords:[A],autoEscape:!0,textToHighlight:te.label})})}})})})}),j==="functional"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.impact_result"}),name:"impact_result",initialValue:!0,children:(0,e.jsxs)(rt.ZP.Group,{children:[(0,e.jsx)(rt.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(rt.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.description"}),name:"description",children:(0,e.jsx)(dt.Z.TextArea,{rows:4,placeholder:a({id:"ws.result.details.description.placeholder"})})})]}),(0,e.jsx)(ge.Z.Item,{label:"\u57FA\u7EBF\u8BF4\u660E",name:"desc",children:(0,e.jsx)(dt.Z,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165"})})]})]}),(0,e.jsx)(Cs,{ref:Y})]})},yn=(0,r.forwardRef)(Rs),jt=c(20310),Bn=c(99069),Es=function(t,i){var s=(0,n.YB)(),a=s.formatMessage,u=(0,Ee.UO)(),p=u.ws_id,h=(0,r.useState)(!1),y=(0,_.Z)(h,2),j=y[0],x=y[1],S=(0,r.useState)({suite_name:"",conf_name:""}),T=(0,_.Z)(S,2),f=T[0],g=T[1],b=(0,r.useState)(!1),R=(0,_.Z)(b,2),m=R[0],B=R[1],L=ge.Z.useForm(),v=(0,_.Z)(L,1),H=v[0];(0,r.useImperativeHandle)(i,function(){return{show:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;x(!0),U!==!1&&(g(U),H.setFieldsValue({note:U.note}))}}});var Z=function(){x(!1),g({suite_name:"",conf_name:""}),B(!1),H.resetFields()},K=function(){m||H.validateFields().then(function(){var U=(0,ie.Z)((0,W.Z)().mark(function F(k){var I,z,le,he;return(0,W.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return B(!0),console.log(k,f),I=(0,d.Z)({},k),I.editor_obj=f.editor_obj,I.ws_id=p,f.editor_obj==="job"&&(I.job_id=f.job_id),f.editor_obj==="test_job_suite"&&(I.test_job_suite_id=f.job_suite_id),f.editor_obj==="test_job_conf"&&(I.test_job_conf_id=f.id),f.editor_obj==="test_job_case"&&(I.test_job_case_id=f.id),E.next=11,(0,Te.tV)(I);case 11:if(z=E.sent,le=z.msg,he=z.code,he!==200){E.next=19;break}return t.onOk(),Z(),ce.default.success(a({id:"operation.success"})),E.abrupt("return");case 19:return B(!1),E.abrupt("return",(0,re.EV)(he,le));case 21:case"end":return E.stop()}},F)}));return function(F){return U.apply(this,arguments)}}()).catch(console.log)};return(0,e.jsxs)(gn.Z,{maskClosable:!1,keyboard:!1,width:"376",title:(0,e.jsx)(n._H,{id:"ws.result.details.edit.remarks"}),open:j,onClose:Z,bodyStyle:{padding:0},footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(Oe.Z,{onClick:Z,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(Oe.Z,{type:"primary",onClick:K,children:(0,e.jsx)(n._H,{id:"operation.update"})})]})}),children:[((f==null?void 0:f.suite_name)||(f==null?void 0:f.conf_name))&&(0,e.jsxs)(ne.Z,{style:{marginBottom:10,background:"#fff",padding:20,borderBottom:"10px solid #f0f2f5"},children:[(0,oe.ud)("Test Suite",f==null?void 0:f.suite_name),(0,oe.ud)("Test Conf",f==null?void 0:f.conf_name),(0,oe.ud)("Test Case",f==null?void 0:f.case_name)]}),(0,e.jsx)(ge.Z,{form:H,layout:"vertical",style:{background:"#fff",padding:20,height:"calc( 100% - 94px )"},children:(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),name:"note",children:(0,e.jsx)(dt.Z.TextArea,{rows:8,placeholder:a({id:"ws.result.details.please.enter.remarks"})})})})]})},Yt=(0,r.forwardRef)(Es),Vt=c(99833),wn=c(87735),Os=c(35696),Fe=c.n(Os),Qe=c(85450),it=c(10753),Mn=function(t){return new Map([["success",1],["fail",2],["skip",5],["warn",6]]).get(t)||void 0},Fs=function(o){var t=(0,n.YB)(),i=t.formatMessage,s=(0,Ee.UO)(),a=s.ws_id,u=s.id,p=s.share_id,h=(0,n.md)(),y=o.test_case_id,j=o.suite_id,x=o.testType,S=o.creator,T=o.server_provider,f=o.state,g=f===void 0?"":f,b=o.suite_name,R=o.conf_name,m=o.refreshId,B=o.setRefreshId,L=(0,r.useRef)(null),v=(0,r.useRef)(null),H=(0,r.useRef)(null),Z=["performance","\u6027\u80FD\u6D4B\u8BD5"].includes(x)?"performance":"functional",K={job_id:u,case_id:y,suite_id:j,ws_id:a,sub_case_name:void 0,sub_case_result:void 0,page_size:100,page_num:1,share_id:p},se=r.useState(K),U=(0,_.Z)(se,2),F=U[0],k=U[1],I=(0,n.QT)(function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:F;return(0,Te._x)(J)},{initialData:[],refreshDeps:[F],debounceInterval:200,formatResult:function(D){return D}}),z=I.data,le=I.refresh,he=I.loading,M=function(D,O){O==null||O(),k(function(w){return(0,d.Z)((0,d.Z)({},w),{},{sub_case_name:D,page_num:1,page_size:100})})},E=function(D){return{filterDropdown:function(w){var C=w.setSelectedKeys,A=w.selectedKeys,pe=w.confirm,Ze=w.clearFilters;return(0,e.jsxs)("div",{style:{padding:8},children:[(0,e.jsx)(dt.Z,{ref:H,placeholder:"".concat(i({id:"operation.search"})," ").concat(D),value:A,onChange:function(fe){return C(fe.target.value)},onPressEnter:function(){return M(A,pe)},style:{width:150,marginBottom:8,display:"block"}}),(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(Oe.Z,{onClick:function(){return M(A,pe)},type:"link",size:"small",style:{width:75},children:(0,e.jsx)(n._H,{id:"operation.search"})}),(0,e.jsx)(Oe.Z,{onClick:function(){C(void 0),M(void 0,pe)},type:"text",size:"small",style:{width:75,border:"none"},children:(0,e.jsx)(n._H,{id:"operation.reset"})})]})]})},filterIcon:function(w){return(0,e.jsx)(Bn.Z,{style:{color:w?"#1890ff":void 0}})},onFilterDropdownVisibleChange:function(w){w&&setTimeout(function(){return H.current.select()},100)},render:function(w){return(0,e.jsx)(it.K,{ellipsis:{tooltip:w},children:(0,e.jsx)(bn(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[F==null?void 0:F.sub_case_name],autoEscape:!0,textToHighlight:w?w.toString():""})})}}};(0,r.useEffect)(function(){m===y&&(k(function(J){return(0,d.Z)((0,d.Z)({},J),{},{page_num:1,page_size:10,sub_case_result:Mn(g)})}),setTimeout(function(){B(null)},300)),m||k(function(J){return(0,d.Z)((0,d.Z)({},J),{},{page_num:1,page_size:10,sub_case_result:Mn(g)})})},[g]);var P=function(D){L.current.show((0,d.Z)((0,d.Z)({},D),{},{editor_obj:"test_job_case",case_name:D.sub_case_name,suite_name:b,conf_name:R}))},$=function(D){v.current.show((0,d.Z)((0,d.Z)({},D),{},{suite_id:j,test_case_id:y}))},l=[(0,d.Z)((0,d.Z)({dataIndex:"sub_case_name",title:"Test Case",fixed:"left",width:400},(0,oe.yQ)()),E("Test Case")),{dataIndex:"result",title:(0,e.jsx)(Vt.f,{placement:"bottomLeft",title:i({id:"ws.result.details.test.result"}),desc:i({id:"ws.result.details.test.result.view.log.file"})}),width:150,ellipsis:!0,render:function(D){var O="";return D==="Fail"&&(O="#C84C5A"),D==="Pass"&&(O="#81BF84"),D==="Warning"&&(O="#dcc506"),D==="Stop"&&(O="#1D1D1D"),(0,e.jsx)("span",{style:{color:O},children:D})}},{title:(0,e.jsx)(Vt.f,{placement:"bottomLeft",title:i({id:"ws.result.details.baseline.description"}),desc:i({id:"ws.result.details.baseline.description.ps"})}),dataIndex:"description",width:180,ellipsis:!0,render:function(D,O){var w=O.description,C=i({id:"ws.result.details.match.baseline"});return O.match_baseline&&O.result==="Fail"&&(w=D?"".concat(D,"(").concat(C,")"):C),w?!p&&h.IsWsSetting()?(0,e.jsx)(Ne.Z,{placement:"topLeft",title:w,children:O.skip_baseline_info?(0,e.jsx)(N.Z.Link,{target:"_blank",href:"/ws/".concat(a,"/baseline/").concat(Z,"?").concat(wn.stringify(O.skip_baseline_info)),children:w}):w}):(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:w}):"-"}},{dataIndex:"bug",title:["business_functional"].includes(x)?(0,e.jsx)(n._H,{id:"ws.result.details.aone.bug"}):(0,e.jsx)(n._H,{id:"ws.result.details.bug"}),width:180,ellipsis:!0,render:function(D,O){var w=O.bug,C="";if(w){C=w;var A=/^((http|https|ftps):(?:\/\/))/;A.test(w)||(C="".concat(window.origin,"/ws/").concat(a,"404?page=").concat(location.href))}return w?(0,e.jsx)(Ne.Z,{placement:"topLeft",title:D,children:p?w:(0,e.jsx)(N.Z.Link,{href:C,target:"_blank",children:w})}):"-"}},(0,d.Z)({dataIndex:"note",width:180,title:(0,e.jsx)(Vt.f,{placement:"bottomLeft",title:i({id:"ws.result.details.result.remarks"}),desc:i({id:"ws.result.details.result.remarks.ps"})})},(0,oe.yQ)()),!p&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),fixed:"right",width:200,render:function(D,O){var w=D.result==="Fail"&&!O.skip_baseline_info,C=D.bug?(0,e.jsx)(n._H,{id:"ws.result.details.edit.baseline"}):(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"});return(0,e.jsx)(n.Nv,{accessible:h.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:h.WsMemberOperateSelf(S),fallback:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return(0,re.WR)()},children:(0,e.jsx)(n._H,{id:"operation.edit"})}),w&&(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return(0,re.WR)()},children:C})]}),children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return P(D)},children:(0,e.jsx)(n._H,{id:"operation.edit"})}),w&&(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return $(D)},children:C})]})})})}}].filter(Boolean);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Qe.sL,{name:"wsResultTableCaseList",refreshDeps:[h,x],rowKey:"id",size:"small",loading:he,className:"".concat(Fe().result_info_table_head," ").concat(z!=null&&z.length?"":Fe().result_info_table_head_line),pagination:{pageSize:z.page_size||100,current:z.page_num||1,total:z.total||0,showQuickJumper:!0,showSizeChanger:!0,onChange:function(D,O){k(function(w){return(0,d.Z)((0,d.Z)({},w),{},{page_num:w.page_size===O?D:1,page_size:O})})},showTotal:function(D){return i({id:"pagination.total.strip"},{data:D})},pageSizeOptions:[100,200,500]},columns:l,rowClassName:Fe().result_info_table_row,dataSource:z.data||[]}),(0,e.jsx)(Yt,{ref:L,onOk:le}),(0,e.jsx)(yn,{ref:v,onOk:le,test_type:x,server_provider:T})]})},ji=c(13254),Zt=c(14277),bi=c(32157),Is=c(45742),Ln=c(90631),Ps=function(t){return t.items.length>0?(0,e.jsx)("span",{className:Fe().dir_icon}):(0,e.jsx)("span",{className:Fe().file_icon})},Ds=function(o){var t=o.test_case_id,i=o.suite_id,s=(0,n.YB)(),a=s.formatMessage,u=(0,n.tT)("@@initialState"),p=u.initialState,h=(0,Ee.UO)(),y=h.id,j=h.share_id,x=function(){var R=(0,ie.Z)((0,W.Z)().mark(function m(B,L){var v,H,Z,K,se,U,F;return(0,W.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(v={path:B.path,job_id:y,share_id:j},L==="download"&&(v.download="1"),L!=="download_folder"){I.next=10;break}v.download="1",v.is_folder="1",U=location.origin+"/api/get/oss/url/?"+Object.keys(v).filter(function(z){return v[z]}).map(function(z){return"".concat(z,"=").concat(v[z])}).join("&"),window.open(U),I.next=14;break;case 10:return I.next=12,(0,n.WY)("/api/get/oss/url/",{params:v});case 12:F=I.sent,F&&(F.code===200&&F.msg==="ok"?window.open(F.data):ce.default.warn("".concat(["download","download_folder"].includes(L)?a({id:"ws.result.details.failed.download.file"}):a({id:"ws.result.details.failed.get.file"}))));case 14:case"end":return I.stop()}},m)}));return function(B,L){return R.apply(this,arguments)}}(),S=function(m){var B=m.items.length?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{children:m.name}),!1]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{onClick:function(){return x(m,"look")},children:m.name}),(0,e.jsx)(Ln.Z,{onClick:function(){return x(m,"download")}})]});return(0,e.jsx)(de.Z,{children:j?(0,e.jsx)("span",{children:m.name}):B})},T=function R(m,B){return m.map(function(L,v){return(0,d.Z)((0,d.Z)({},L),{},{title:S(L),key:"".concat(B,"-").concat(v),icon:function(Z){return(0,e.jsx)(Ps,(0,d.Z)({},Z))},children:L.items&&L.items.length>0?R(L.items,"".concat(B,"-").concat(v)):[]})})},f=(0,n.QT)(function(){return(0,Te.XJ)({job_id:y,case_id:t,suite_id:i,share_id:j})},{initialData:[],formatResult:function(m){return m.code===200?T(m.data,0):[]}}),g=f.data,b=f.loading;return(0,e.jsx)("div",{style:{minHeight:50},children:(0,e.jsx)(De.Z,{spinning:b,children:g.length>0?(0,e.jsx)(Is.Z,{style:{padding:20},treeData:g,showIcon:!0}):(0,e.jsx)(Zt.Z,{image:Zt.Z.PRESENTED_IMAGE_SIMPLE})})})},Hs=function(o){var t,i,s=o.test_case_id,a=o.suite_id,u=(0,Ee.UO)(),p=u.id,h=u.share_id,y={kernel_version:"",rpm_info:[]},j=(0,n.QT)(function(){return(0,Te.yH)({job_id:p,case_id:s,suite_id:a,share_id:h})},{initialData:y,formatResult:function(f){if(f.code===200){var g=(0,_.Z)(f.data,1),b=g[0],R=b.kernel_version,m=b.rpm_info;return m&&m!=="{}"?{kernel_version:R,rpm_info:JSON.parse(m)}:{kernel_version:R,rpm_info:[]}}return y}}),x=j.data,S=j.loading;return(0,e.jsx)("div",{style:{background:"#fff",padding:20},children:(0,e.jsxs)(De.Z,{spinning:S,children:[(0,e.jsx)(ne.Z,{children:x.kernel_version&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("b",{style:{marginRight:16},children:[(0,e.jsx)(n._H,{id:"ws.result.details.installed.kernel"}),"\xA0"]}),(0,e.jsx)("span",{children:x.kernel_version})]})}),x==null||(t=x.rpm_info)===null||t===void 0?void 0:t.map(function(T){return(0,e.jsxs)(ne.Z,{children:[(0,e.jsx)("b",{style:{marginRight:16},children:(0,e.jsx)(n._H,{id:"ws.result.details.installed.rpm"})}),(0,e.jsx)("span",{children:T.rpm})]},T==null?void 0:T.rpm)}),!(x!=null&&x.kernel_version)&&(x==null||(i=x.rpm_info)===null||i===void 0?void 0:i.length)===0&&(0,e.jsx)(Zt.Z,{image:Zt.Z.PRESENTED_IMAGE_SIMPLE})]})})},Bs=function(){return(0,e.jsx)(Zt.Z,{image:Zt.Z.PRESENTED_IMAGE_SIMPLE})},Ms=c(39067),An=c(14552),Ls=function(o){var t,i,s=(0,n.YB)(),a=s.formatMessage,u=o.test_case_id,p=o.suite_id,h=o.state,y=o.refreshId,j=o.setRefreshId,x=o.testType,S=(0,Ee.UO)(),T=S.id,f=S.ws_id,g=S.share_id,b=r.useContext(At),R=b.setOSuite,m=b.oSuite,B={ws_id:f,job_id:T,case_id:u,suite_id:p,sub_case_name:void 0,page_size:100,page_num:1,compare_result:h,share_id:g},L=(0,r.useState)(B),v=(0,_.Z)(L,2),H=v[0],Z=v[1],K=(0,n.QT)(function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;return(0,Te.Zx)(M)},{initialData:{data:[]},refreshDeps:[H],debounceInterval:200,formatResult:function(E){return E}}),se=K.data,U=K.run,F=K.loading,k=(0,n.md)(),I=["performance","\u6027\u80FD\u6D4B\u8BD5"].includes(x)?"performance":"functional";(0,r.useEffect)(function(){y&&y===u&&(U(),setTimeout(function(){j(null)},300)),y||U()},[h]);var z=a({id:"ws.result.details.threshold"}),le=[{title:(0,e.jsx)(n._H,{id:"ws.result.details.metric"}),dataIndex:"metric",ellipsis:{showTitle:!1},filterIcon:function(E){return(0,e.jsx)(Bn.Z,{style:{color:H.metric?"#1890ff":void 0}})},filterDropdown:function(E){var P=E.confirm;return(0,e.jsx)(Ms.Z,{autoFocus:!1,value:H.metric,confirm:P,onConfirm:function(l){return Z((0,d.Z)((0,d.Z)({},H),{},{metric:l||void 0,page_num:1}))}})},render:function(E){return E?(0,e.jsx)(Ne.Z,{placement:"topLeft",title:E,children:E}):"-"}},{title:(0,e.jsx)(oe.fD,{placement:"bottomLeft",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.result"}),desc:(0,e.jsx)(n._H,{id:"ws.result.details.test.result.view.log.file"})}),dataIndex:"test_value",ellipsis:{showTitle:!1},width:200,render:function(E,P){return(0,e.jsx)(oe.QN,(0,d.Z)((0,d.Z)({},P),{},{title:a({id:"ws.result.details.compared.results"})}))}},{title:(0,e.jsx)(oe.fD,{title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_value"}),desc:"AVG \xB1 CV"}),dataIndex:"baseline_value",width:120,ellipsis:{showTitle:!1},render:function(E,P){return E&&P.baseline_cv_value?(0,e.jsx)(n.Nv,{accessible:!g&&k.IsWsSetting(),fallback:"".concat(E,"\xB1").concat(P.baseline_cv_value)||"-",children:P.skip_baseline_info?(0,e.jsx)(N.Z.Link,{target:"_blank",href:"/ws/".concat(f,"/baseline/").concat(I,"?").concat(wn.stringify(P.skip_baseline_info)),children:(0,e.jsx)(An.Z,{title:"".concat(E,"\xB1").concat(P.baseline_cv_value)})}):"".concat(E,"\xB1").concat(P.baseline_cv_value)}):"-"}},{dataIndex:"description",width:130,title:(0,e.jsx)(oe.fD,{placement:"bottomLeft",title:a({id:"ws.result.details.baseline.description"}),desc:a({id:"ws.result.details.baseline.description.ps"})}),ellipsis:!0,render:function(E,P){var $=P.description,l=a({id:"ws.result.details.match.baseline"});return P.match_baseline&&P.result==="Fail"&&($=E?"".concat(E,"(").concat(l,")"):l),$?!g&&k.IsWsSetting()?(0,e.jsx)(Ne.Z,{placement:"topLeft",title:$,children:P.skip_baseline_info?(0,e.jsx)(N.Z.Link,{target:"_blank",href:"/ws/".concat(f,"/baseline/").concat(I,"?").concat(wn.stringify(P.skip_baseline_info)),children:$}):$}):(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:$}):"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.compared.results"}),dataIndex:"compare_result",width:120,ellipsis:!0,render:function(E,P){return E?(0,e.jsx)("span",{style:{color:(0,oe.YV)(P.compare_result)},children:E}):"-"}},{title:(0,e.jsx)(oe.fD,{title:z,desc:"AVG ".concat(z," / CV ").concat(z)}),dataIndex:"threshold",width:120,ellipsis:{showTitle:!1},render:function(E){return E?(0,e.jsx)(An.Z,{title:E}):"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.track_result"}),width:120,dataIndex:"track_result",ellipsis:!0,render:function(E,P){return(0,oe.Nq)(P.track_result,P.result,a)}}],he=!g&&x==="performance"?{columnWidth:40,selectedRowKeys:m==null||(t=m[p])===null||t===void 0?void 0:t[u],onChange:function(E){R((0,d.Z)((0,d.Z)({},m),{},(0,_t.Z)({},p,E.length>0?(0,d.Z)((0,d.Z)({},(m==null?void 0:m[p])||{}),{},(0,_t.Z)({},u,E)):Object.keys(m==null?void 0:m[p]).reduce(function(P,$){var l;return+$===u||(P[$]=m==null||(l=m[p])===null||l===void 0?void 0:l[$]),P},{}))))}}:void 0;return r.useEffect(function(){var M;se&&Object.prototype.toString.call(m==null||(M=m[p])===null||M===void 0?void 0:M[u])==="[object Null]"&&R((0,d.Z)((0,d.Z)({},m),{},(0,_t.Z)({},p,(0,d.Z)((0,d.Z)({},(m==null?void 0:m[p])||{}),{},(0,_t.Z)({},u,se.data.map(function(E){return E.id}))))))},[m,se.data]),(0,e.jsx)(Qe.sL,{name:"ws-result-metric-list",rowKey:"id",size:"small",loading:F,rowSelection:he,className:"".concat(Fe().result_info_table_head," ").concat((i=se.data)!==null&&i!==void 0&&i.length?"":Fe().result_info_table_head_line),pagination:{pageSize:se.page_size||100,current:se.page_num||1,total:se.total||0,showQuickJumper:!0,showSizeChanger:!0,onChange:function(E,P){Z(function($){return(0,d.Z)((0,d.Z)({},$),{},{page_num:$.page_size===P?E:1,page_size:P})})},showTotal:function(E){return a({id:"pagination.total.strip"},{data:E})},pageSizeOptions:[100,200,500]},rowClassName:Fe().result_info_table_row,dataSource:se.data,columns:le,refreshDeps:[H,f,z,k]})},bt=c(12788),Nn,As=(0,bt.ZP)(we.Z)(Nn||(Nn=(0,jt.Z)([`
    .ant-tabs-nav {
        margin: 0;
    }
`]))),Ns=function(t){switch(t){case"success":return(0,e.jsx)("span",{style:{color:"#81BF84"},children:"Complete"});case"fail":return(0,e.jsx)("span",{style:{color:"#C84C5A"},children:"Fail"});default:return(0,re.CB)(t)?(0,e.jsx)("a",{href:t,children:t}):(0,e.jsx)("span",{style:{opacity:.65},children:t})}},Jt=function(t){var i=t.label,s=t.value;return(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsx)("div",{style:{opacity:.85,width:124,fontFamily:"PingFangSC-Medium",fontSize:14},children:i}),Ns(s)]})},$s=function(t){var i=t.testType,s=t.result_data,a=s===void 0?{}:s,u=a.ci_detail,p=a.result,h=u?JSON.parse(u):{},y=r.useState("1"),j=(0,_.Z)(y,2),x=j[0],S=j[1];return(0,e.jsx)("div",{style:{paddingLeft:40,paddingRight:0,background:"#FBFBFB",width:"100%"},children:(0,e.jsx)(As,{defaultActiveKey:"1",onTabClick:function(f){return S(f)},activeKey:x,items:[{key:"1",label:(0,e.jsx)(n._H,{id:"ws.result.details.tab.testResult"}),children:(0,e.jsxs)(e.Fragment,{children:[["performance","business_performance"].includes(i)&&(0,e.jsx)(Ls,(0,d.Z)({},t)),["functional","business_functional"].includes(i)&&(0,e.jsx)(Fs,(0,d.Z)({},t)),["business_business"].includes(i)&&(0,e.jsx)("div",{style:{background:"#fff",padding:"16px 24px"},children:(0,e.jsx)(Jt,{label:"Test Result",value:p||"-"})})]})},["performance","business_performance"].includes(i)&&{key:"2",label:(0,e.jsx)(n._H,{id:"ws.result.details.tab.monitor"}),children:(0,e.jsx)(Bs,(0,d.Z)({},t))},{key:"3",label:(0,e.jsx)(n._H,{id:"ws.result.details.tab.log"}),children:(0,e.jsx)(Ds,(0,d.Z)({},t))},{key:"4",label:(0,e.jsx)(n._H,{id:"ws.result.details.tab.versionInfo"}),children:(0,e.jsx)(Hs,(0,d.Z)({},t))},["business_business"].includes(i)&&{key:"5",label:(0,e.jsx)(n._H,{id:"ws.result.details.tab.executionDetails"}),children:(0,e.jsxs)("div",{style:{background:"#fff",padding:"16px 24px"},children:[(0,e.jsx)(Jt,{label:"CI type",value:h.ci_system||"-"}),(0,e.jsx)(Jt,{label:"Build ID",value:h.build_id||"-"}),(0,e.jsx)(Jt,{label:"CI Project",value:h.ci_project||"-"})]})}].filter(Boolean)})})},Ws=$s,$n,Ks=["svgRef","title"];function Gt(){return Gt=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},Gt.apply(this,arguments)}function zs(o,t){if(o==null)return{};var i=Us(o,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(i[s]=o[s]))}return i}function Us(o,t){if(o==null)return{};var i={},s=Object.keys(o),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=o[a]);return i}var Ys=function(t){var i=t.svgRef,s=t.title,a=zs(t,Ks);return r.createElement("svg",Gt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},a),s?r.createElement("title",null,s):null,$n||($n=r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"C_Success",transform:"translate(-4.000000, -4.000000)"},r.createElement("g",{id:"\\u6210\\u529F",transform:"translate(4.000000, 4.000000)"},r.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M12.3752188,6.09965625 L7.1603125,11.3145312 C7.03828125,11.4365625 6.84040625,11.4365625 6.718375,11.3145312 L3.62478125,8.2209375 C3.50275,8.0989375 3.50275,7.9010625 3.62478125,7.77903125 L4.5970625,6.80678125 C4.71909375,6.68471875 4.91696875,6.68475 5.039,6.80678125 L6.939375,8.70709375 L10.9610625,4.6854375 C11.0830938,4.56340625 11.2809375,4.56340625 11.403,4.6854375 L12.37525,5.65771875 C12.49725,5.77975 12.4972813,5.977625 12.3752188,6.09965625 Z",id:"Shape",fill:"#81BF84"}))))))},Vs=r.forwardRef(function(o,t){return r.createElement(Ys,Gt({svgRef:t},o))}),yi=c.p+"static/success.7ee737e7.svg",Wn,Js=["svgRef","title"];function Qt(){return Qt=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},Qt.apply(this,arguments)}function Gs(o,t){if(o==null)return{};var i=Qs(o,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(i[s]=o[s]))}return i}function Qs(o,t){if(o==null)return{};var i={},s=Object.keys(o),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=o[a]);return i}var Xs=function(t){var i=t.svgRef,s=t.title,a=Gs(t,Js);return r.createElement("svg",Qt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},a),s?r.createElement("title",null,s):null,Wn||(Wn=r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"C_FAIL",transform:"translate(-4.000000, -5.000000)"},r.createElement("g",{id:"\\u5931\\u8D25",transform:"translate(4.000000, 5.000000)"},r.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("polygon",{id:"Shape",fill:"#C84C5A",points:"10.8533334 12.1066666 7.94666667 9.36 5.22666667 12.2666666 3.78666667 10.9066666 6.50666667 8 3.94666667 5.57333333 5.30666667 4.13333333 7.86666667 6.56 10.2933334 4 11.7333334 5.36 9.33333336 7.92 12.2133334 10.6666666"}))))))},qs=r.forwardRef(function(o,t){return r.createElement(Xs,Qt({svgRef:t},o))}),wi=c.p+"static/fail.ca2441d0.svg",Kn,ea=["svgRef","title"];function Xt(){return Xt=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},Xt.apply(this,arguments)}function ta(o,t){if(o==null)return{};var i=na(o,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(i[s]=o[s]))}return i}function na(o,t){if(o==null)return{};var i={},s=Object.keys(o),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=o[a]);return i}var sa=function(t){var i=t.svgRef,s=t.title,a=ta(t,ea);return r.createElement("svg",Xt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},a),s?r.createElement("title",null,s):null,Kn||(Kn=r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"C_NA",transform:"translate(-4.000000, -4.000000)"},r.createElement("g",{id:"\\u5FFD\\u7565",transform:"translate(4.000000, 4.000000)"},r.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("polygon",{id:"Shape",fill:"#6A737D",points:"4.56852792 6.85279187 11.4213198 6.85279187 11.4213198 9.13705584 4.56852792 9.13705584"}))))))},aa=r.forwardRef(function(o,t){return r.createElement(sa,Xt({svgRef:t},o))}),Zi=c.p+"static/skip.1ce7951a.svg",zn=c(63885),ra=["isMore","test_case_id"],ia=function(t,i){var s=(0,n.YB)(),a=s.formatMessage,u=(0,Ee.UO)(),p=u.ws_id,h=u.id,y=r.useContext(At),j=y.oSuite,x=t.test_type,S=t.onOk,T=(0,r.useState)(!1),f=(0,_.Z)(T,2),g=f[0],b=f[1],R=(0,r.useState)(!1),m=(0,_.Z)(R,2),B=m[0],L=m[1],v=ge.Z.useForm(),H=(0,_.Z)(v,1),Z=H[0],K=(0,r.useState)(),se=(0,_.Z)(K,2),U=se[0],F=se[1],k=(0,n.QT)(function(){return(0,zn.bU)({ws_id:p,test_type:x,page_size:999})},{initialData:[],manual:!0}),I=k.data,z=k.loading,le=k.run;(0,r.useImperativeHandle)(i,function(){return{show:function(P){le(),F(P),b(!0)}}});var he=function(){b(!1),L(!1),F(null),Z.resetFields()},M=function(){B||(L(!0),Z.validateFields().then(function(){var P=(0,ie.Z)((0,W.Z)().mark(function $(l){var J,D,O,w,C,A,pe;return(0,W.Z)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return J=U.isMore,D=U.test_case_id,O=(0,ee.Z)(U,ra),w={case_id:D},J&&(w.ids=j),ae.next=5,(0,Te.sG)((0,d.Z)((0,d.Z)((0,d.Z)({ws_id:p,job_id:h},O),w),l));case 5:if(C=ae.sent,A=C.code,pe=C.msg,A===200){ae.next=12;break}return(0,re.EV)(A,pe),L(!1),ae.abrupt("return");case 12:he(),S(),L(!1);case 15:case"end":return ae.stop()}},$)}));return function($){return P.apply(this,arguments)}}()).catch(function(P){console.log(P),L(!1)}))};return(0,e.jsxs)(gn.Z,{maskClosable:!1,keyboard:!1,open:g,destroyOnClose:!0,title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),onClose:he,bodyStyle:{padding:0},width:"376",footer:(0,e.jsx)(ne.Z,{justify:"end",children:(0,e.jsxs)(de.Z,{align:"end",children:[(0,e.jsx)(Oe.Z,{onClick:he,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(Oe.Z,{type:"primary",onClick:M,disabled:B,children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})}),children:[((U==null?void 0:U.suite_name)||(U==null?void 0:U.conf_name))&&(0,e.jsxs)(ne.Z,{style:{marginBottom:10,background:"#fff",padding:20,borderBottom:"10px solid #f0f2f5"},children:[(0,oe.ud)("Test Suite",U==null?void 0:U.suite_name),(0,oe.ud)("Test Conf",U==null?void 0:U.conf_name),(0,oe.ud)("Test Case",U==null?void 0:U.case_name)]}),(0,e.jsx)(ge.Z,{form:Z,requiredMark:!1,layout:"vertical",style:{background:"#fff",padding:"10px 20px"},children:(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),name:"baseline_id",rules:[{required:!0,message:a({id:"ws.result.details.baseline.message"})}],children:(0,e.jsx)(mt.Z,{placeholder:a({id:"ws.result.details.baseline.placeholder"}),showSearch:!0,allowClear:!0,loading:z,filterOption:function(P,$){var l,J;return(l=(J=$==null?void 0:$.name)!==null&&J!==void 0?J:"")===null||l===void 0?void 0:l.toLowerCase().includes(P.toLowerCase())},options:I==null?void 0:I.map(function(E){return{value:E.id,name:E.name,label:(0,e.jsx)(N.Z.Text,{ellipsis:{tooltip:!0},children:E.name})}})})})})]})},Un=(0,r.forwardRef)(ia),la=c(20080),oa=c.n(la),da="url(".concat(oa(),") center center / 38.6px 32px "),ua=function(t){var i,s,a=t.suite_id,u=t.testType,p=t.suite_name,h=t.server_provider,y=t.provider_name,j=t.creator,x=t.expandedState,S=t.expandedCaseRowKeys,T=t.openAllRows,f=T===void 0?!1:T,g=t.setIndexExpandFlag,b=t.parentTableName,R=t.columnsChange,m=(0,n.Kd)()==="en-US",B=r.useContext(At),L=B.setOSuite,v=B.oSuite,H=(0,Ee.UO)(),Z=H.id,K=H.share_id,se=r.useState([]),U=(0,_.Z)(se,2),F=U[0],k=U[1],I=(0,n.md)(),z=r.useState(""),le=(0,_.Z)(z,2),he=le[0],M=le[1],E=r.useState(!0),P=(0,_.Z)(E,2),$=P[0],l=P[1],J=r.useState([]),D=(0,_.Z)(J,2),O=D[0],w=D[1],C=r.useState(x),A=(0,_.Z)(C,2),pe=A[0],Ze=A[1],ae=function(){var xe=(0,ie.Z)((0,W.Z)().mark(function V(){var q,te,G;return(0,W.Z)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return l(!0),me.next=3,(0,Te.Q7)({job_id:Z,suite_id:a,state:x,share_id:K});case 3:if(q=me.sent,te=q.data,G=q.code,l(!1),G===200){me.next=9;break}return me.abrupt("return");case 9:w(te);case 10:case"end":return me.stop()}},V)}));return function(){return xe.apply(this,arguments)}}();r.useEffect(function(){ae(),Ze(x)},[x]);var fe=function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";k(Array.from(new Set(F.concat(V)))),M(V),Ze(q)},_e=r.useRef(null),Y=r.useRef(null),ue=r.useRef(null),Se=!!O.length&&(O==null||(i=O[0])===null||i===void 0?void 0:i.baseline),We=!!O.length&&(O==null||(s=O[0])===null||s===void 0?void 0:s.baseline_job_id),Ae=function(V){ue.current.show((0,d.Z)((0,d.Z)({},V),{},{ids:(0,_t.Z)({},a,(0,_t.Z)({},V.test_case_id,null))}))},Ke=function(V){Y.current.show((0,d.Z)((0,d.Z)({},V),{},{suite_id:a}))},Ue=r.useMemo(function(){return[(0,d.Z)({title:"Test Suite",dataIndex:"conf_name",width:(0,Qe.ny)(b,"suite_name")-32||228},(0,oe.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_type"}),dataIndex:"test_type",width:(0,Qe.ny)(b,"test_type")||100,render:function(V){return(0,e.jsx)("span",{children:V||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),dataIndex:"server_ip",width:130,ellipsis:{showHeader:!1},render:function(V,q){return(0,e.jsx)(Lt.Z,(0,d.Z)((0,d.Z)({},q),{},{val:V,param:q.server_id,provider:y,description:q.server_description}))}},["functional","business_functional","business_business"].includes(u)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.result"}),width:80,render:function(V){var q=V.result_data.result;return q==="success"?(0,e.jsx)(Vs,{style:{width:16,height:16}}):q==="fail"?(0,e.jsx)(qs,{style:{width:16,height:16}}):q==="NA"?(0,e.jsx)(aa,{style:{width:16,height:16}}):q==="-"?q:""}},{width:["functional","business_functional","business_business"].includes(u)?255:302,render:function(V){return["functional","business_functional","business_business"].includes(u)?(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"")},className:Fe().column_circle_text,style:{fontWeight:600,color:"#649FF6"},children:V.result_data.case_count}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"success")},className:Fe().column_circle_text,style:{fontWeight:600,color:"#81BF84"},children:V.result_data.case_success}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"fail")},className:Fe().column_circle_text,style:{fontWeight:600,color:"#C84C5A"},children:V.result_data.case_fail}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"warn")},className:Fe().column_circle_text,style:{fontWeight:600,color:"#dcc506"},children:V.result_data.case_warn}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"skip")},className:Fe().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:V.result_data.case_skip})]}):(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"")},className:Fe().column_circle_text,style:{fontWeight:600,color:"#649FF6"},children:V.result_data.count}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"increase")},className:Fe().column_circle_text,style:{fontWeight:600,color:"#81BF84"},children:V.result_data.increase}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"decline")},className:Fe().column_circle_text,style:{fontWeight:600,color:"#C84C5A"},children:V.result_data.decline}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"normal")},className:Fe().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:V.result_data.normal}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"invalid")},className:Fe().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:V.result_data.invalid}),(0,e.jsx)("span",{onClick:function(){return fe(V.test_case_id,"na")},className:Fe().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:V.result_data.na})]})}},["performance","business_performance"].includes(u)&&Se&&(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),dataIndex:"baseline",width:80},(0,oe.yQ)()),["performance","business_performance"].includes(u)&&We&&(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_job_id"}),dataIndex:"baseline_job_id",width:80},(0,oe.yQ)()),(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),dataIndex:"start_time",width:(0,Qe.ny)(b,"start_time")||160},(0,oe.yQ)()),(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),dataIndex:"end_time",width:(0,Qe.ny)(b,"end_time")||160},(0,oe.yQ)()),I.WsTourist()&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.note"}),dataIndex:"note",width:120,ellipsis:{showTitle:!1},render:function(V,q){return(0,e.jsx)(oe.Pc,{title:V,width:120,access:I.WsMemberOperateSelf(j),onEdit:function(){return _e.current.show((0,d.Z)((0,d.Z)({},q),{},{suite_name:q.suite_name,editor_obj:"test_job_conf"}))}})}},!K&&["performance","business_performance"].includes(u)&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:m?180:145,render:function(V){return(0,e.jsx)(n.Nv,{accessible:I.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:I.WsMemberOperateSelf(j),fallback:(0,e.jsxs)(de.Z,{onClick:function(){return(0,re.WR)()},children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return Ae(V)},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return Ke(V)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}]},[j,I,Se,We,R]).filter(Boolean),yt=!K&&["performance","business_performance"].includes(u)?{columnWidth:40,selectedRowKeys:v!=null&&v[a]?Object.keys(v==null?void 0:v[a]).map(function(xe){return+xe}):[],onChange:function(V){L(V.length>0?(0,d.Z)((0,d.Z)({},v),{},(0,_t.Z)({},a,V.reduce(function(q,te){var G;return q[te]=(v==null||(G=v[a])===null||G===void 0?void 0:G[te])||null,q},{}))):Object.keys(v).reduce(function(q,te){if(+te!==a){var G;return q[te]=(v==null||(G=v[a])===null||G===void 0?void 0:G[te])||null}return q},{}))}}:void 0;(0,r.useEffect)(function(){O&&Object.prototype.toString.call(v==null?void 0:v[a])==="[object Null]"&&L((0,d.Z)((0,d.Z)({},v),{},(0,_t.Z)({},a,O.reduce(function(xe,V){var q=V.test_case_id;return xe[q]=null,xe},{}))))},[v,O]);var ye=function(V,q){V?(g(!0),k(F.concat([q.test_case_id]))):(g(!1),k(F.filter(function(te){return te!==q.test_case_id})))};return(0,r.useEffect)(function(){O!=null&&O.length&&S.includes(a)?k(O==null?void 0:O.map(function(xe){return xe.test_case_id})):k([])},[O,S]),(0,e.jsxs)("div",{style:{width:"100%"},children:[(0,e.jsxs)(ne.Z,{justify:"start",children:[(0,e.jsx)("div",{style:{width:32,background:da}}),(0,e.jsx)(Dt.Z,{rowKey:"test_case_id",columns:Ue,loading:$,showHeader:!1,dataSource:O,pagination:!1,scroll:{x:"100%"},size:"small",className:Fe().resultCaseTableCls,style:{width:"calc(100% - 32px)"},rowSelection:yt,expandable:{defaultExpandAllRows:f,expandedRowKeys:F,onExpand:ye,expandedRowClassName:function(){return"expandedRowClassNameCls"},expandedRowRender:function(V){return(0,e.jsx)(Ws,(0,d.Z)((0,d.Z)({},V),{},{state:pe,testType:u,server_provider:h,creator:j,suite_id:a,suite_name:p,refreshId:he,setRefreshId:M}))},expandIcon:function(V){var q=V.expanded,te=V.onExpand,G=V.record;return q?(0,e.jsx)(It.Z,{onClick:function(me){return te(G,me)}}):(0,e.jsx)(Pt.Z,{onClick:function(me){return te(G,me)}})}}})]}),(0,e.jsx)(yn,{ref:Y,test_type:u,server_provider:h,onOk:ae}),(0,e.jsx)(Un,{ref:ue,test_type:u,server_provider:h,onOk:ae}),(0,e.jsx)(Yt,{ref:_e,onOk:ae})]})},ca=ua,Yn,fa=["svgRef","title"];function qt(){return qt=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},qt.apply(this,arguments)}function va(o,t){if(o==null)return{};var i=pa(o,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(i[s]=o[s]))}return i}function pa(o,t){if(o==null)return{};var i={},s=Object.keys(o),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=o[a]);return i}var ma=function(t){var i=t.svgRef,s=t.title,a=va(t,fa);return r.createElement("svg",qt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},a),s?r.createElement("title",null,s):null,Yn||(Yn=r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"S_NA",transform:"translate(-4.000000, -4.000000)"},r.createElement("g",{id:"\\u5FFD\\u7565",transform:"translate(4.000000, 4.000000)"},r.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M7.99492386,0 C3.57947208,0 0,3.57945178 0,7.99492386 C0,12.4104163 3.57947208,15.9898477 7.99492386,15.9898477 C12.4103756,15.9898477 15.9898477,12.4103959 15.9898477,7.99492386 C15.9898477,3.57949239 12.4103756,0 7.99492386,0 Z M4.56852792,6.85279188 L11.4213198,6.85279188 L11.4213198,9.13705584 L4.56852792,9.13705584 L4.56852792,6.85279188 Z",id:"Shape",fill:"#6A737D"}))))))},ha=r.forwardRef(function(o,t){return r.createElement(ma,qt({svgRef:t},o))}),Si=c.p+"static/skip.6be9c732.svg",Vn,_a=["svgRef","title"];function en(){return en=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},en.apply(this,arguments)}function ga(o,t){if(o==null)return{};var i=xa(o,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(i[s]=o[s]))}return i}function xa(o,t){if(o==null)return{};var i={},s=Object.keys(o),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=o[a]);return i}var ja=function(t){var i=t.svgRef,s=t.title,a=ga(t,_a);return r.createElement("svg",en({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},a),s?r.createElement("title",null,s):null,Vn||(Vn=r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"S_Success",transform:"translate(-4.000000, -4.000000)"},r.createElement("g",{id:"\\u6210\\u529F",transform:"translate(4.000000, 4.000000)"},r.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M8,0 C3.58171875,0 0,3.58171875 0,8 C0,12.4182812 3.58171875,16 8,16 C12.4182812,16 16,12.4182812 16,8 C16,3.58171875 12.4182812,0 8,0 Z M12.3752188,6.09965625 L7.1603125,11.3145312 C7.03828125,11.4365625 6.84040625,11.4365625 6.718375,11.3145312 L3.62478125,8.2209375 C3.50275,8.0989375 3.50275,7.9010625 3.62478125,7.77903125 L4.5970625,6.80678125 C4.71909375,6.68471875 4.91696875,6.68475 5.039,6.80678125 L6.939375,8.70709375 L10.9610625,4.6854375 C11.0830937,4.56340625 11.2809375,4.56340625 11.403,4.6854375 L12.37525,5.65771875 C12.49725,5.77975 12.4972813,5.977625 12.3752188,6.09965625 Z",id:"Shape",fill:"#81BF84"}))))))},ba=r.forwardRef(function(o,t){return r.createElement(ja,en({svgRef:t},o))}),Ci=c.p+"static/success.c47356ee.svg",Jn,ya=["svgRef","title"];function tn(){return tn=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},tn.apply(this,arguments)}function wa(o,t){if(o==null)return{};var i=Za(o,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(i[s]=o[s]))}return i}function Za(o,t){if(o==null)return{};var i={},s=Object.keys(o),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=o[a]);return i}var Sa=function(t){var i=t.svgRef,s=t.title,a=wa(t,ya);return r.createElement("svg",tn({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},a),s?r.createElement("title",null,s):null,Jn||(Jn=r.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"S_FAIL",transform:"translate(-4.000000, -5.000000)"},r.createElement("g",{id:"\\u5931\\u8D25",transform:"translate(4.000000, 5.000000)"},r.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M8,0 C3.57333333,0 0,3.57333333 0,8 C0,12.4266666 3.57333333,16 8,16 C12.4266666,16 16,12.4266666 16,8 C16,3.57333333 12.4266666,0 8,0 L8,0 Z M10.8533334,12.1066666 L7.94666667,9.36 L5.22666667,12.2666666 L3.78666667,10.9066666 L6.50666667,8 L3.94666667,5.57333333 L5.30666667,4.13333333 L7.86666667,6.56 L10.2933334,4 L11.7333334,5.36 L9.33333336,7.92 L12.2133334,10.6666666 L10.8533334,12.1066666 L10.8533334,12.1066666 Z",id:"Shape",fill:"#C84C5A"}))))))},Ca=r.forwardRef(function(o,t){return r.createElement(Sa,tn({svgRef:t},o))}),ki=c.p+"static/fail.bc149468.svg",kt=c(44586),At=r.createContext(null),ka=function(t){var i,s=(0,n.YB)(),a=s.formatMessage,u=(0,n.Kd)()==="en-US",p=[{key:"count",name:a({id:"ws.result.details.count"}),value:"",color:"#649FF6"},{key:"success",name:a({id:"ws.result.details.success"}),value:"success",color:"#81BF84"},{key:"fail",name:a({id:"ws.result.details.fail"}),value:"fail",color:"#C84C5A"},{key:"warn",name:a({id:"ws.result.details.warn"}),value:"warn",color:"#dcc506"},{key:"skip",name:a({id:"ws.result.details.skip"}),value:"skip",color:"#DDDDDD"}],h=[{key:"count",name:a({id:"ws.result.details.count"}),value:"",color:"#649FF6"},{key:"increase",name:a({id:"ws.result.details.increase"}),value:"increase",color:"#81BF84"},{key:"decline",name:a({id:"ws.result.details.decline"}),value:"decline",color:"#C84C5A"},{key:"normal",name:a({id:"ws.result.details.normal"}),value:"normal",color:"#DDDDDD"},{key:"invalid",name:a({id:"ws.result.details.invalid"}),value:"invalid",color:"#DDDDDD"},{key:"na",name:a({id:"ws.result.details.na"}),value:"na",color:"#DDDDDD"}],y=[{key:"count",name:a({id:"ws.result.details.business.count"}),value:"",color:"#649FF6"},{key:"success",name:a({id:"ws.result.details.business.success"}),value:"success",color:"#81BF84"},{key:"fail",name:a({id:"ws.result.details.business.fail"}),value:"fail",color:"#C84C5A"}],j=(0,Ee.UO)(),x=j.id,S=j.ws_id,T=j.share_id,f=t.caseResult,g=f===void 0?{}:f,b=t.test_type,R=t.provider_name,m=R===void 0?"":R,B=t.creator,L=t.refreshResult,v=r.useMemo(function(){return(0,re.SE)(b)},[b]),H=(0,r.useState)(!1),Z=(0,_.Z)(H,2),K=Z[0],se=Z[1],U=(0,r.useState)([]),F=(0,_.Z)(U,2),k=F[0],I=F[1],z=r.useState([]),le=(0,_.Z)(z,2),he=le[0],M=le[1],E=(0,r.useRef)(null),P=(0,r.useRef)(null),$=(0,r.useRef)(null),l=(0,r.useState)([]),J=(0,_.Z)(l,2),D=J[0],O=J[1],w=(0,n.md)(),C=(0,r.useState)(),A=(0,_.Z)(C,2),pe=A[0],Ze=A[1],ae=(0,r.useState)(!1),fe=(0,_.Z)(ae,2),_e=fe[0],Y=fe[1],ue=r.useState(""),Se=(0,_.Z)(ue,2),We=Se[0],Ae=Se[1],Ke=r.useState(!0),Ue=(0,_.Z)(Ke,2),yt=Ue[0],ye=Ue[1],xe=r.useState({}),V=(0,_.Z)(xe,2),q=V[0],te=V[1],G=function(){var Ce=(0,ie.Z)((0,W.Z)().mark(function Q(){var je,Pe;return(0,W.Z)().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return ye(!0),Rt.next=3,(0,Te.EF)({state:"",job_id:x,share_id:T});case 3:je=Rt.sent,Pe=je.data,ye(!1),O(Object.prototype.toString.call(Pe)==="[object Array]"?Pe:[]);case 7:case"end":return Rt.stop()}},Q)}));return function(){return Ce.apply(this,arguments)}}();r.useEffect(function(){G()},[L]);var X=function(Q,je){I(function(Pe){return Pe.concat(Q.suite_id)}),M(function(Pe){return Pe.concat(Q.suite_id)}),O(function(Pe){return Pe==null?void 0:Pe.map(function(gt){return gt.suite_id===Q.suite_id?(0,d.Z)((0,d.Z)({},gt),{},{expandedState:je}):gt})})},me=function(Q){P.current.show((0,d.Z)((0,d.Z)({},Q),{},{ids:(0,_t.Z)({},Q.suite_id,null)}))},Me=function(){G(),te([]),Ze((0,kt.Z)())},Ie=function(Q){E.current.show(Q)},qe=function(Q){var je=Q?D.map(function(Pe){var gt=Pe.suite_id;return gt}):[];se(Q),I(je),M(je)},wt=["functional","business_functional"].includes(v)?p:v==="business_business"?y:h,nt=D[0]||{},Nt=nt.baseline,$t=nt.baseline_job_id,cn=[(0,d.Z)({title:"Test Suite",dataIndex:"suite_name",width:260},(0,oe.yQ)()),["functional","performance"].includes(v)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_type"}),dataIndex:"test_type",width:100,ellipsis:{showTitle:!1},render:function(Q){var je=(0,re.SE)(Q);return(0,e.jsx)("span",{children:(0,e.jsx)(n._H,{id:"".concat(je,".test"),defaultMessage:Q})})}},["business_functional","business_performance","business_business"].includes(v)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(Q){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:Q})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),width:130,dataIndex:"server",render:function(){return"-"}},["functional","business_functional","business_business"].includes(v)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.result"}),dataIndex:"result",width:80,render:function(Q){return Q==="NA"?(0,e.jsx)(ha,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):Q==="-"?Q:Q==="fail"?(0,e.jsx)(Ca,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):Q==="success"?(0,e.jsx)(ba,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):(0,e.jsx)(e.Fragment,{})}},{title:["functional","business_functional"].includes(v)?(0,e.jsx)(n._H,{id:"ws.result.details.functional"}):v==="business_business"?(0,e.jsx)(n._H,{id:"ws.result.details.business_business"}):(0,e.jsx)(n._H,{id:"ws.result.details.performance"}),width:["functional","business_functional","business_business"].includes(v)?255:302,key:"details",render:function(Q){return["functional","business_functional","business_business"].includes(v)?(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#649FF6"},onClick:function(){return X(Q,"")},children:Q.conf_count}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#81BF84"},onClick:function(){return X(Q,"success")},children:Q.conf_success}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#C84C5A"},onClick:function(){return X(Q,"fail")},children:Q.conf_fail}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#dcc506"},onClick:function(){return X(Q,"warn")},children:Q.conf_warn}),v!=="business_business"&&(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return X(Q,"skip")},children:Q.conf_skip})]}):(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#649FF6"},onClick:function(){return X(Q,"")},children:Q.count}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#81BF84"},onClick:function(){return X(Q,"increase")},children:Q.increase}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#C84C5A"},onClick:function(){return X(Q,"decline")},children:Q.decline}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return X(Q,"normal")},children:Q.normal}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return X(Q,"invalid")},children:Q.invalid}),(0,e.jsx)("div",{className:Fe().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return X(Q,"na")},children:Q.na})]})}},["performance","business_performance"].includes(v)&&!!Nt&&(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),dataIndex:"baseline",width:80},(0,oe.yQ)()),["performance","business_performance"].includes(v)&&$t&&(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_job_id"}),dataIndex:"baseline_job_id",width:80},(0,oe.yQ)()),(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),dataIndex:"start_time",width:160},(0,oe.yQ)()),(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),dataIndex:"end_time",width:160},(0,oe.yQ)()),w.WsTourist()&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),dataIndex:"note",width:120,ellipsis:{showTitle:!1},render:function(Q,je){return(0,e.jsx)(oe.Pc,{title:Q,width:120,access:w.WsMemberOperateSelf(B),onEdit:function(){return $.current.show((0,d.Z)((0,d.Z)({},je),{},{suite_name:je.suite_name,editor_obj:"test_job_suite"}))}})}},!T&&["performance","business_performance"].includes(v)&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:u?180:145,key:"operation",ellipsis:{showTitle:!1},render:function(Q){var je={color:"#1890FF",cursor:"pointer",whiteSpace:"nowrap"};return(0,e.jsx)(n.Nv,{accessible:w.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:w.WsMemberOperateSelf(B),fallback:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("span",{style:je,onClick:function(){return(0,re.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:je,onClick:function(){return(0,re.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("span",{style:je,onClick:function(){return me(Q)},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:je,onClick:function(){return Ie(Q)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}],Wt=function(){P.current.show({isMore:!0})},fn=function(){G(),te({})},vn=function(){E.current.show({isMore:!0})},Mt=function(){Y(!K),qe(!K)},Kt=function(){K&&(M([]),Y(!1)),se(!K),I(K?[]:D.map(function(Q){return Q.suite_id}))},zt=function(){Y(!_e),_e?M([]):qe(!0)},pn=function(Q){Ae(Q),O(function(je){return je==null?void 0:je.map(function(Pe){return(0,d.Z)((0,d.Z)({},Pe),{},{expandedState:Q})})}),D.length&&(Mt(),qe(!0))};(0,r.useEffect)(function(){if(g.count<50){var Ce=D.map(function(Q){var je=Q.suite_id;return je});I(Ce),M(Ce),se(!0),Y(!0)}},[g,D]);var mn=!T&&v==="performance"?{columnWidth:40,selectedRowKeys:q?(i=Object.keys(q))===null||i===void 0?void 0:i.map(function(Ce){return+Ce}):[],onChange:function(Q){console.log(Q),Q.length>0?te(Q.reduce(function(je,Pe){return je[Pe]=null,je},{})):te({})}}:void 0,In=r.useMemo(function(){return k.length===D.length},[k,D]),Ve=["functional","business_functional","business_business"].includes(v)?"Case":"index",ri=a(In?{id:"ws.result.details.folded.conf"}:{id:"ws.result.details.expand.conf"}),ii=a(_e?{id:"ws.result.details.folded.".concat(Ve)}:{id:"ws.result.details.expand.".concat(Ve)}),ys="ws-job-result-list",li=r.useState((0,kt.Z)()),ws=(0,_.Z)(li,2),oi=ws[0],di=ws[1],hn=r.useMemo(function(){return!(q&&Object.keys(q).length)},[q]);return(0,e.jsx)(At.Provider,{value:{setOSuite:te,oSuite:q},children:(0,e.jsxs)("div",{style:{padding:"4px 20px 20px 20px"},children:[(0,e.jsxs)(ne.Z,{justify:"space-between",children:[(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(Zs.Z.Button,{onClick:Mt,placement:"bottomLeft",icon:(0,e.jsx)(Dn.Z,{}),overlay:(0,e.jsxs)(_n.Z,{children:[(0,e.jsx)(_n.Z.Item,{className:Fe().expandConf,onClick:Kt,children:ri},"1"),(0,e.jsx)(_n.Z.Item,{className:Fe().expandIndex,onClick:zt,children:ii},"2")]}),children:a(In?{id:"ws.result.details.folded.all"}:{id:"ws.result.details.expand.all"})}),!T&&["performance","business_performance"].includes(v)&&(0,e.jsx)(n.Nv,{accessible:w.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:w.WsMemberOperateSelf(B),fallback:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(Oe.Z,{disabled:hn,onClick:function(){return(0,re.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.baseline"})}),(0,e.jsx)(Oe.Z,{disabled:hn,onClick:function(){return(0,re.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.join.baseline"})})]}),children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(Oe.Z,{disabled:hn,onClick:function(){return Wt()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.baseline"})}),(0,e.jsx)(Oe.Z,{disabled:hn,onClick:function(){return vn()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.join.baseline"})})]})})})]}),(0,e.jsx)(de.Z,{children:wt.map(function(Ce){var Q=Ce.key,je=Ce.name,Pe=Ce.value;return(0,e.jsxs)("span",{onClick:function(){return pn(Pe)},style:{cursor:"pointer",color:We===Pe?"#1890FF":"rgba(0, 0, 0, 0.65)"},children:[je,"(",g[Q],")"]},Q)})})]}),(0,e.jsx)(Qe.sL,{columns:cn,onColumnsChange:function(){return di((0,kt.Z)())},rowKey:"suite_id",name:ys,dataSource:D,pagination:!1,refreshDeps:[S,w,Nt,$t,B],size:"small",loading:yt,className:Fe().result_expand_table,style:{marginTop:20},rowSelection:mn,expandable:{defaultExpandAllRows:K,expandedRowKeys:k,onExpand:function(Q,je){if(Q){var Pe=k.concat([je.suite_id]);I(Pe),(Pe==null?void 0:Pe.length)===D.length&&(se(!0),Y(!0))}else{var gt=k.filter(function(Rt){return Rt!==je.suite_id});I(gt),gt.length||(se(!1),Y(!1))}},expandedRowRender:function(Q){return(0,r.createElement)(ca,(0,d.Z)((0,d.Z)({},Q),{},{key:pe,creator:B,columnsChange:oi,parentTableName:ys,server_provider:m,provider_name:m,testType:v,setIndexExpandFlag:Y,expandedCaseRowKeys:he}))},expandIcon:function(Q){var je=Q.expanded,Pe=Q.onExpand,gt=Q.record;return je?(0,e.jsx)(It.Z,{onClick:function(Pn){return Pe(gt,Pn)}}):(0,e.jsx)(Pt.Z,{onClick:function(Pn){return Pe(gt,Pn)}})}}}),(0,e.jsx)(yn,{ref:E,test_type:v,server_provider:m,onOk:fn}),(0,e.jsx)(Yt,{ref:$,onOk:G}),(0,e.jsx)(Un,{ref:P,test_type:v,server_provider:m,onOk:Me})]})})},Ta=ka,Ti=c(58024),Et=c(91894),Ra=c(54732),nn=c(60035),Gn,Ea=(0,bt.ZP)(Dt.Z)(Gn||(Gn=(0,jt.Z)([`
    .expanded-row-padding-no>td {
        padding : 0 !important;
    }
    .buildWrap {
        height: 122px;
        padding: 20px 70px;
    }
`]))),Zn=function(t){var i=t.name,s=t.link,a=(0,n.YB)(),u=a.formatMessage,p=(0,nn.oM)(u({id:"ws.result.details.copied"}));return s?(0,e.jsxs)(ne.Z,{gutter:16,style:{width:"100%"},children:[(0,e.jsx)(ve.Z,{span:2,xs:3,md:2,style:{textAlign:"right"},children:(0,e.jsxs)(N.Z.Text,{strong:!0,children:[i,(0,e.jsx)(n._H,{id:"ws.result.details.package"})]})}),(0,e.jsx)(ve.Z,{span:18,children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(N.Z.Link,{children:s}),(0,e.jsx)("span",{onClick:function(){return p(s)},style:{cursor:"pointer"},children:(0,e.jsx)(Ra.r,{})})]})})]}):(0,e.jsx)(e.Fragment,{})},Oa=function(t){var i=(0,Ee.UO)(),s=i.id,a=i.share_id,u=t.refresh,p=u===void 0?!1:u,h=(0,r.useState)([]),y=(0,_.Z)(h,2),j=y[0],x=y[1],S=(0,n.QT)(function(){return(0,Te.f7)({job_id:s,share_id:a})},{manual:!0}),T=S.loading,f=S.run,g=S.data;r.useEffect(function(){g&&JSON.stringify(g)!=="{}"&&x([g])},[g]),(0,r.useEffect)(function(){f()},[p]);var b=[(0,d.Z)({dataIndex:"name",title:(0,e.jsx)(n._H,{id:"ws.result.details.name"})},(0,oe.yQ)()),{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:oe.tZ},{dataIndex:"git_repo",title:(0,e.jsx)(n._H,{id:"ws.result.details.git_repo"}),ellipsis:!0,render:function(m){return m?(0,e.jsx)("a",{href:m,target:"_blank",children:m}):"-"}},(0,d.Z)({dataIndex:"git_branch",title:(0,e.jsx)(n._H,{id:"ws.result.details.git_branch"})},(0,oe.yQ)()),(0,d.Z)({dataIndex:"git_commit",title:"commit"},(0,oe.yQ)()),{dataIndex:"cbp_link",title:(0,e.jsx)(n._H,{id:"ws.result.details.cbp_link"}),ellipsis:!0,render:function(m){return m?(0,e.jsx)("a",{href:m,target:"_blank",children:m}):"-"}},(0,d.Z)({dataIndex:"start_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"})},(0,oe.yQ)()),(0,d.Z)({dataIndex:"end_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"})},(0,oe.yQ)())];return j&&j.length?(0,e.jsx)(Et.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.build.kernel"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none",borderTop:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(Ea,{dataSource:j,columns:b,rowKey:"name",loading:T,size:"small",pagination:!1,expandable:{expandedRowClassName:function(){return"expanded-row-padding-no"},expandedRowRender:function(m){return(0,e.jsxs)(de.Z,{direction:"vertical",style:{width:"100%",padding:16},children:[(0,e.jsx)(Zn,{name:"kernel",link:m.kernel_package}),(0,e.jsx)(Zn,{name:"devel",link:m.devel_package}),(0,e.jsx)(Zn,{name:"headers",link:m.headers_package})]})},expandIcon:function(m){var B=m.expanded,L=m.onExpand,v=m.record;return B?(0,e.jsx)(It.Z,{onClick:function(Z){return L(v,Z)}}):(0,e.jsx)(Pt.Z,{onClick:function(Z){return L(v,Z)}})}}})}):(0,e.jsx)(e.Fragment,{})},Fa=Oa,Ri=c(24793),sn=c(97183),Ia=c(13690),Qn,Xn,Pa=(0,bt.ZP)(ne.Z)(Qn||(Qn=(0,jt.Z)([`
    & div:first-child {
        text-align: right;
        font-size: 14px;
        color: rgba(0,0,0,.45);
        &::after {
            content: ':'
        }
    }
    
    & div:last-child {
        font-size: 14px;
        color: #000000;
    }
`]))),qn=bt.ZP.span(Xn||(Xn=(0,jt.Z)([`
    float: left;
    width:2px;
    height:14px;
    background: #1890ff;
    margin: 5px 8px 0 0;
`]))),Da=function(t){var i=t.name,s=t.field;return(0,e.jsxs)(Pa,{gutter:20,children:[(0,e.jsx)(ve.Z,{span:6,children:i}),(0,e.jsx)(ve.Z,{span:18,children:s||"-"})]})},Ha=[["TID","tid"],["Sync","sync"],["Env","env"],["Args","args"],["Cwd","cwd"],["Timeout","timeout"],["IP","ip"],["SN","sn"],["TSN","tsn"]],Ba=[["Status","status"],["Delivery time","delivery_time"],["Start time","start_time"],["Finish time","finish_time"],["Exit code","exit_code"],["Error code","error_code"],["Error msg","error_msg"],["Pid","pid"]],es=function(t){var i=t.title,s=t.list,a=t.source;return(0,e.jsxs)(sn.Z.Content,{style:{marginBottom:20},children:[(0,e.jsx)(Ut.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(N.Z.Text,{strong:!0,children:[(0,e.jsx)(qn,{}),i]})}),s.map(function(u){var p=(0,_.Z)(u,2),h=p[0],y=p[1];return(0,e.jsx)(Da,{name:h,field:a==null?void 0:a[y]},h)})]})},Ma=function(t){var i=t.tid,s=(0,r.useState)(!1),a=(0,_.Z)(s,2),u=a[0],p=a[1],h=(0,r.useState)({}),y=(0,_.Z)(h,2),j=y[0],x=y[1],S=(0,r.useState)(!1),T=(0,_.Z)(S,2),f=T[0],g=T[1],b=(0,Ee.UO)(),R=b.share_id,m=function(){var B=(0,ie.Z)((0,W.Z)().mark(function L(v){var H,Z,K,se;return(0,W.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!v){F.next=14;break}return p(!0),F.next=4,(0,Te.K0)({tid:i,share_id:R});case 4:if(H=F.sent,Z=H.data,K=H.code,se=H.msg,p(!1),g(v),K===200){F.next=13;break}return(0,re.EV)(K,se),F.abrupt("return");case 13:x(Z);case 14:g(v);case 15:case"end":return F.stop()}},L)}));return function(v){return B.apply(this,arguments)}}();return(0,e.jsx)(Ne.Z,{open:f,destroyTooltipOnHide:!0,overlayStyle:{width:510,maxWidth:"unset",padding:0,maxHeight:400,overflowY:"auto",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)"},color:"#fff",placement:"right",title:(0,e.jsxs)(De.Z,{spinning:u,children:[(0,e.jsx)(es,{title:"\u4EFB\u52A1\u4FE1\u606F",list:Ha,source:j}),(0,e.jsx)(es,{title:"\u4EFB\u52A1\u72B6\u6001",list:Ba,source:j}),(0,e.jsxs)(sn.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(Ut.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(N.Z.Text,{strong:!0,children:[(0,e.jsx)(qn,{}),"\u4EFB\u52A1\u7ED3\u679C"]})}),(0,e.jsx)(ne.Z,{gutter:20,style:{margin:"0 10px",height:200},children:(0,e.jsx)(Ia.Z,{code:j==null?void 0:j.result})})]})]}),onOpenChange:m,children:(0,e.jsx)("span",{style:{cursor:u?"progress":"default"},children:i||"-"})})},Sn=Ma,La=c(35412),St=c.n(La),ts,Aa=["svgRef","title"];function an(){return an=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},an.apply(this,arguments)}function Na(o,t){if(o==null)return{};var i=$a(o,t),s,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(a=0;a<u.length;a++)s=u[a],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(i[s]=o[s]))}return i}function $a(o,t){if(o==null)return{};var i={},s=Object.keys(o),a,u;for(u=0;u<s.length;u++)a=s[u],!(t.indexOf(a)>=0)&&(i[a]=o[a]);return i}var Wa=function(t){var i=t.svgRef,s=t.title,a=Na(t,Aa);return r.createElement("svg",an({width:"41px",height:"21px",viewBox:"0 0 41 21",ref:i},a),s?r.createElement("title",null,s):null,ts||(ts=r.createElement("g",{id:"Job\\u7ED3\\u679C\\u9875",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",opacity:.153831845},r.createElement("g",{id:"Artboard",transform:"translate(-246.000000, -132.000000)",stroke:"#000000"},r.createElement("g",{id:"Group-8-Copy",transform:"translate(246.000000, 132.000000)"},r.createElement("line",{x1:.5,y1:.5,x2:.5,y2:20.5,id:"Path-4"}),r.createElement("line",{x1:.75,y1:20,x2:40.75,y2:20.115605,id:"Path-4-Copy"}))))))},Ka=r.forwardRef(function(o,t){return r.createElement(Wa,an({svgRef:t},o))}),Ei=c.p+"static/line.d0e4233f.svg",Oi=c(20136),Cn=c(55241),za=function(t){var i,s,a=t.text,u=t.placement,p=u===void 0?"left":u,h=(0,r.useState)(!1),y=(0,_.Z)(h,2),j=y[0],x=y[1],S=(0,r.useState)([]),T=(0,_.Z)(S,2),f=T[0],g=T[1],b=(0,r.useState)(!1),R=(0,_.Z)(b,2),m=R[0],B=R[1],L=function(){var H=(0,ie.Z)((0,W.Z)().mark(function Z(K){var se;return(0,W.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!(K&&a&&!f.length)){F.next=8;break}return x(!0),F.next=4,(0,Te.em)({problem:a,limit:1}).catch(function(){return x(!1)});case 4:se=F.sent,x(!1),B(K),se.code===200&&g(se.data);case 8:B(K);case 9:case"end":return F.stop()}},Z)}));return function(K){return H.apply(this,arguments)}}();(0,r.useEffect)(function(){return function(){g([])}},[a]);var v={maxWidth:400,wordBreak:"break-word"};return(0,e.jsx)(Cn.Z,{content:a?(0,e.jsx)(De.Z,{spinning:j,children:(0,e.jsxs)("div",{className:St().answers_warp,children:[(0,e.jsx)("h3",{style:v,children:a}),(i=f[0])===null||i===void 0||(s=i.answers)===null||s===void 0?void 0:s.map(function(H,Z){return(0,e.jsxs)("div",{style:v,children:[(0,e.jsxs)("div",{className:St().process_fail_reason,children:[(0,e.jsx)(tt.Z,{color:"processing",children:"\u539F\u56E0".concat(Z+1)}),H.reason]}),(0,e.jsx)("div",{className:St().process_fail_answer,dangerouslySetInnerHTML:{__html:H.answer}})]},H.answer_id)})]})}):null,open:m,destroyTooltipOnHide:!0,placement:p,overlayClassName:St().popover_warp,overlayStyle:{wordBreak:"break-all"},onOpenChange:L,children:(0,e.jsx)("div",{className:St().text_warp,style:{cursor:j?"progress":"default"},children:a})})},ns=za,Ua=function(t){var i=t.dataSource,s=t.parentTableName,a=t.columnsChange,u=(0,n.YB)(),p=u.formatMessage,h=(0,Ee.UO)(),y=h.share_id,j=r.useMemo(function(){return[{dataIndex:"mode",title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),width:(0,Qe.ny)(s,"server_type")+47||127,ellipsis:{showTitle:!1}},{dataIndex:"ip",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),align:"center",ellipsis:{showTitle:!1},width:(0,Qe.ny)(s,"server")||220,render:function(){return(0,e.jsx)("div",{style:{display:"flex",justifyContent:"start"},children:(0,e.jsx)(Ka,{})})}},{dataIndex:"stage",title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),ellipsis:{showTitle:!1},width:(0,Qe.ny)(s,"stage")||150,render:function(S){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:S||"-"})}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:{showTitle:!1},width:(0,Qe.ny)(s,"state")||80,render:oe.tZ},{dataIndex:"result",title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),width:(0,Qe.ny)(s,"result"),ellipsis:{showTitle:!1},render:function(S,T){return["fail",!1].includes(T.state)?(0,e.jsx)(ns,{text:S}):(0,e.jsx)(oe.KS,{text:S,defaultText:"Nothing to do"})}},{dataIndex:"tid",title:"TID",width:(0,Qe.ny)(s,"tid"),ellipsis:{showTitle:!1},render:function(S){return S!=null&&S.length?S.indexOf("API_v2_0_")>-1?(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:S}):(0,e.jsx)(Sn,{tid:S}):"-"}},{dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},width:(0,Qe.ny)(s,"gmt_created")||170},{dataIndex:"gmt_modified",title:(0,e.jsx)(n._H,{id:"ws.result.details.finish_time"}),ellipsis:{showTitle:!1},width:(0,Qe.ny)(s,"gmt_modified")||170},{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),ellipsis:{showTitle:!1},key:"log",fixed:"right",width:(0,Qe.ny)(s,"log")||80,render:function(S){var T=p({id:"ws.result.details.log"});return!y&&["success","fail","stop"].includes(S.state)&&S.log_file?(0,e.jsx)(Oe.Z,{size:"small",type:"link",style:{padding:0},onClick:function(){return window.open(S.log_file)},children:T}):(0,e.jsx)(Oe.Z,{size:"small",type:"link",style:{padding:0},disabled:!0,children:T})}}]},[a]);return(0,e.jsx)(Dt.Z,{columns:j,dataSource:i,showHeader:!1,rowKey:"id",size:"small",scroll:{x:j.reduce(function(x,S){return S!=null&&S.width?x+=+S.width:x},0)},rowClassName:St().prep_test_conf_row,pagination:!1})},ss=Ua,Ya=function(t){var i=t.refresh,s=i===void 0?!1:i,a=t.provider_name,u=(0,Ee.UO)(),p=u.id,h=u.ws_id,y=u.share_id,j=(0,n.YB)(),x=j.formatMessage,S=(0,r.useState)([]),T=(0,_.Z)(S,2),f=T[0],g=T[1],b=r.useState((0,kt.Z)()),R=(0,_.Z)(b,2),m=R[0],B=R[1],L=(0,n.QT)(function(){return(0,Te.DH)({job_id:p,ws_id:h,share_id:y})},{refreshDeps:[s]}),v=L.data,H=L.loading;if(!v)return(0,e.jsx)(e.Fragment,{});var Z=[{dataIndex:"server_type",title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),ellipsis:{showTitle:!1},width:80,render:function(k){return x({id:k})}},{dataIndex:"server",width:220,title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),ellipsis:{showTitle:!1},render:function(k,I){return I.server_type==="cluster"?(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:k}):(0,e.jsx)(Lt.Z,(0,d.Z)((0,d.Z)({},I),{},{val:k,param:I.server_id,provider:a,description:I.server_description}))}},{dataIndex:"stage",title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),ellipsis:{showTitle:!1},width:150,render:function(k){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:k||"-"})}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:{showTitle:!1},width:80,render:oe.tZ},{dataIndex:"result",ellipsis:{showTitle:!1},title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),render:function(k){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:k||"-"})}},{dataIndex:"tid",title:"TID",ellipsis:{showTitle:!1},render:function(){return"-"}},(0,d.Z)({dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),width:170},(0,oe.yQ)()),(0,d.Z)({dataIndex:"gmt_modified",title:(0,e.jsx)(n._H,{id:"ws.result.details.finish_time"}),width:170},(0,oe.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),width:80,key:"log",fixed:"right",ellipsis:{showTitle:!1},render:function(k){var I=x({id:"ws.result.details.log"});return!y&&["success","fail","stop"].includes(k.state)&&k.log_file?(0,e.jsx)(N.Z.Link,{href:k.log_file,target:"_blank",children:I}):(0,e.jsx)(N.Z.Link,{disabled:!0,children:I})}}],K=[{width:150},{dataIndex:"server",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),width:300,render:function(k,I){return k?(0,e.jsx)(Lt.Z,(0,d.Z)((0,d.Z)({},I),{},{val:k,param:I.server_id,provider:a})):"-"}},{},{},{},{},{}],se="ws-job-result-process-parent",U=v==null?void 0:v.map(function(F,k){var I;return(0,d.Z)((0,d.Z)({},F),{},{rowKey:"".concat(F.server_id||F.server,"-").concat(k),exists:F==null||(I=F.server_list_exists)===null||I===void 0?void 0:I[F==null?void 0:F.server]})});return(0,e.jsx)(Et.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.preparation"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none",borderTop:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(Qe.sL,{dataSource:U,columns:Z,name:se,onColumnsChange:function(){return B((0,kt.Z)())},rowKey:"rowKey",loading:H,size:"small",className:St().prepTable,pagination:!1,expandable:{columnWidth:47,expandedRowClassName:function(){return"expanded-row-padding-no"},expandedRowKeys:f,onExpand:function(k,I){return g(k?f.concat(I.rowKey):f.filter(function(z){return z!==I.rowKey}))},expandedRowRender:function(k){var I;return(k==null?void 0:k.server_type)==="cluster"?k!=null&&k.server_list?Object.keys(k.server_list).map(function(z){var le,he,M=k.server_list[z],E=M==null||(le=M[0])===null||le===void 0?void 0:le.server_id;return(0,e.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,e.jsx)(Dt.Z,{dataSource:[{server:z,id:E,server_id:E,exists:k==null||(he=k.server_list_exists)===null||he===void 0?void 0:he[z]}],columns:K,size:"small",rowKey:"id",showHeader:!1,pagination:!1}),(0,e.jsx)(ss,(0,d.Z)((0,d.Z)({},k),{},{columnsChange:m,parentTableName:se,dataSource:M.map(function(P,$){return(0,d.Z)((0,d.Z)({},P),{},{id:"".concat(z,"-").concat($)})})}))]},z)}):(0,e.jsx)(Zt.Z,{image:Zt.Z.PRESENTED_IMAGE_SIMPLE}):(0,e.jsx)(ss,(0,d.Z)((0,d.Z)({},k),{},{parentTableName:se,columnsChange:m,dataSource:k==null||(I=k.server_list)===null||I===void 0?void 0:I.map(function(z,le){return(0,d.Z)((0,d.Z)({},z),{},{id:"".concat(z==null?void 0:z.server_id,"-").concat(le)})})}))},expandIcon:function(k){var I=k.expanded,z=k.onExpand,le=k.record;return I?(0,e.jsx)(It.Z,{onClick:function(M){return z(le,M)}}):(0,e.jsx)(Pt.Z,{onClick:function(M){return z(le,M)}})}}})})},Va=Ya,as=function(o){var t=o.title,i=t===void 0?"":t,s=o.need_reboot,a=o.setup_info,u=o.cleanup_info,p=o.step,h=(0,n.YB)(),y=h.formatMessage,j=[(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),dataIndex:"stage"},(0,oe.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),dataIndex:"state",render:oe.tZ},(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),dataIndex:"result"},(0,oe.yQ)()),{title:"TID",dataIndex:"tid",ellipsis:{showTitle:!1},render:function(f){return f!=null&&f.length?f.indexOf("API_v2_0_")>-1?(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:f}):(0,e.jsx)(Sn,{tid:f}):"-"}},(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.gmt_created"}),dataIndex:"gmt_created"},(0,oe.yQ)()),(0,d.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.gmt_modified"}),dataIndex:"gmt_modified"},(0,oe.yQ)())],x=s?y({id:"ws.result.details.restart.server"}):"",S=a||u?y({id:"ws.result.details.execute.script"}):"";return x||S?(0,e.jsx)(Cn.Z,{overlayStyle:{width:850},arrowPointAtCenter:!0,className:St().step_table_popover,title:i,content:(0,e.jsx)(Dt.Z,{size:"small",rowKey:"uid",columns:j,style:{width:810},dataSource:p,pagination:!1}),children:(0,e.jsx)("span",{className:St().popover_text_span,children:"".concat(x).concat(x&&S&&"\u3001").concat(S)})}):(0,e.jsx)(e.Fragment,{children:"-"})},Ja=c(86213),Ga=function(t){var i=t.test_suite_name,s=t.test_suite_id,a=t.testType,u=t.provider_name,p=t.creator,h=t.columnsRefresh,y=t.setColumnsRefresh,j=(0,Ee.UO)(),x=j.id,S=j.share_id,T=(0,n.YB)(),f=T.formatMessage,g=(0,n.Kd)()==="en-US",b={page_num:1,page_size:10,job_id:x,test_suite_id:s,share_id:S},R=(0,r.useState)(b),m=(0,_.Z)(R,2),B=m[0],L=m[1],v=(0,r.useState)(!1),H=(0,_.Z)(v,2),Z=H[0],K=H[1],se=(0,r.useState)(0),U=(0,_.Z)(se,2),F=U[0],k=U[1],I=(0,r.useState)({data:[],total:0}),z=(0,_.Z)(I,2),le=z[0],he=z[1],M=(0,n.tT)("@@initialState"),E=M.initialState,P=(0,n.md)(),$=function(){var w=(0,ie.Z)((0,W.Z)().mark(function C(A){var pe,Ze,ae;return(0,W.Z)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return K(!0),_e.next=3,(0,Te.EG)(A);case 3:pe=_e.sent,Ze=pe.code,ae=pe.msg,Ze===200?(he(pe),k(F),K(!1)):(0,re.EV)(Ze,ae);case 6:case"end":return _e.stop()}},C)}));return function(A){return w.apply(this,arguments)}}(),l=(0,re.YM)(B),J=(0,re.YM)(le),D=function(){var w=(0,ie.Z)((0,W.Z)().mark(function C(A,pe){var Ze,ae,fe,_e,Y,ue,Se;return(0,W.Z)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ze=E==null?void 0:E.authList,ae=Ze.user_id,fe=ae?{user_id:ae}:{},Ae.next=4,(0,Te.Xc)((0,d.Z)((0,d.Z)({},fe),{},{editor_obj:"test_job_conf",test_job_conf_id:A.id,state:pe}));case 4:_e=Ae.sent,Y=_e.code,ue=_e.msg,Se=l.current.page_size,Y===200?(L((0,d.Z)((0,d.Z)({},B),{},{page_num:(0,re.NG)(l,J),page_size:Se})),ce.default.success(f({id:"operation.success"}))):(0,re.EV)(Y,ue);case 9:case"end":return Ae.stop()}},C)}));return function(A,pe){return w.apply(this,arguments)}}();(0,r.useEffect)(function(){$(B)},[B]);var O=[(0,d.Z)({dataIndex:"test_case_name",title:"Test Conf",width:160},(0,oe.yQ)()),{dataIndex:"server",title:["business_business"].includes(a)?(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}):(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),width:100,ellipsis:{showTitle:!1},render:function(C,A){return(0,e.jsx)(Lt.Z,(0,d.Z)((0,d.Z)({},A),{},{val:C,param:A.server_id,provider:u,description:A.server_description}))}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.env.preparation"}),width:g?200:80,ellipsis:{showTitle:!1},key:"preparation",render:function(C){var A=f({id:"ws.result.details.env.preparation.details"});return(0,e.jsx)(as,(0,d.Z)((0,d.Z)({},C),{},{title:"".concat(i,"/").concat(C.name||C.test_case_name).concat(A)}))}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:!0,width:80,render:oe.tZ},{dataIndex:"tid",title:"TID",width:120,ellipsis:{showTitle:!1},render:function(C){return C&&C.length?C.indexOf("API_v2_0_")>-1?(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:C}):(0,e.jsx)(Sn,{tid:C}):"-"}},{dataIndex:"result",title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),width:150,ellipsis:{showTitle:!1},render:function(C,A){return["fail",!1].includes(A.state)?(0,e.jsx)(ns,{text:C,placement:"leftBottom"}):(0,e.jsx)(oe.KS,{text:C,defaultText:"Nothing to do"})}},(0,d.Z)({dataIndex:"start_time",width:160,title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"})},(0,oe.yQ)("-")),(0,d.Z)({dataIndex:"end_time",width:160,title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"})},(0,oe.yQ)("-")),{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),width:80,ellipsis:{showTitle:!1},fixed:"right",key:"log",render:function(C){var A=f({id:"ws.result.details.log"});return!S&&["success","fail","stop"].includes(C.state)&&C.log_file?(0,e.jsx)(N.Z.Link,{target:"_blank",href:C.log_file,children:A}):(0,e.jsx)(N.Z.Text,{disabled:!0,children:A})}},!S&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:80,ellipsis:{showTitle:!1},fixed:"right",key:"operation",render:function(C){return(0,e.jsx)(n.Nv,{accessible:P.WsTourist(),children:(0,e.jsxs)(n.Nv,{accessible:P.WsMemberOperateSelf(p),fallback:(0,e.jsxs)(N.Z.Link,{onClick:function(){return(0,re.WR)()},children:[C.state==="running"&&(0,e.jsx)(n._H,{id:"ws.result.details.suspension"}),C.state==="pending"&&(0,e.jsx)(n._H,{id:"ws.result.details.skip"})]}),children:[C.state==="running"&&(0,e.jsx)(N.Z.Link,{onClick:function(){return D(C,"stop")},children:(0,e.jsx)(n._H,{id:"ws.result.details.suspension"})}),C.state==="pending"&&(0,e.jsx)(N.Z.Link,{onClick:function(){return D(C,"skip")},children:(0,e.jsx)(n._H,{id:"ws.result.details.skip"})})]})})}}].filter(Boolean);return(0,e.jsxs)(de.Z,{style:{width:"100%",paddingLeft:40,paddingBottom:8},direction:"vertical",children:[(0,e.jsx)(Qe.sL,{columns:O,name:"ws-job-result-process-testconf",dataSource:(le==null?void 0:le.data)||[],refreshDeps:[u,P,a,i,p,h],loading:Z,rowKey:"id",size:"small",pagination:!1,onColumnsChange:y}),(0,e.jsx)(Ja.Z,{style:{marginTop:0,marginBottom:0},total:le.total,currentPage:B.page_num,pageSize:B.page_size,onPageChange:function(C,A){return L((0,d.Z)((0,d.Z)({},B),{},{page_num:C,page_size:A}))}})]})},Qa=Ga,rn={color:"#1890FF",cursor:"pointer",marginLeft:12},ln={color:"rgba(0,0,0,.25)",marginLeft:12},Xa=function(t){var i=t.refresh,s=i===void 0?!1:i,a=t.testType,u=t.provider_name,p=(0,Ee.UO)(),h=p.id,y=p.share_id,j=(0,n.YB)(),x=j.formatMessage,S=(0,n.tT)("@@initialState"),T=S.initialState,f=(0,n.md)(),g=(0,r.useState)(!1),b=(0,_.Z)(g,2),R=b[0],m=b[1],B=(0,r.useState)(0),L=(0,_.Z)(B,2),v=L[0],H=L[1],Z=r.useState((0,kt.Z)()),K=(0,_.Z)(Z,2),se=K[0],U=K[1],F=(0,r.useState)([]),k=(0,_.Z)(F,2),I=k[0],z=k[1],le=x({id:"ws.result.details.stop.suite"}),he=x({id:"ws.result.details.skip.suite"}),M=(0,n.QT)(function(){return(0,Te.Po)({job_id:h,share_id:y})},{manual:!0,initialData:[]}),E=M.data,P=M.loading,$=M.run;(0,r.useEffect)(function(){$()},[s]);var l=function(){var O=(0,ie.Z)((0,W.Z)().mark(function w(C){var A,pe,Ze,ae,fe,_e;return(0,W.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return A=T==null?void 0:T.authList,pe=A.user_id,Ze=pe?{user_id:pe}:{},ue.next=4,(0,Te.Xc)((0,d.Z)((0,d.Z)({},Ze),{},{editor_obj:"test_job_suite",test_job_suite_id:C.id,state:"stop"}));case 4:if(ae=ue.sent,fe=ae.code,_e=ae.msg,fe===200){ue.next=10;break}return(0,re.EV)(fe,_e),ue.abrupt("return");case 10:$(),ce.default.success(x({id:"operation.success"}));case 12:case"end":return ue.stop()}},w)}));return function(C){return O.apply(this,arguments)}}(),J=function(){var O=(0,ie.Z)((0,W.Z)().mark(function w(C){var A,pe,Ze,ae,fe;return(0,W.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return A=T==null?void 0:T.authList,pe=A.user_id,Y.next=3,(0,Te.Xc)({editor_obj:"test_job_suite",state:"skip",test_job_suite_id:C.id,user_id:pe});case 3:if(Ze=Y.sent,ae=Ze.code,fe=Ze.msg,ae!==200){Y.next=13;break}H(C.id),m(!0),ce.default.success(x({id:"operation.success"})),$(),Y.next=16;break;case 13:return m(!1),(0,re.EV)(ae,fe),Y.abrupt("return");case 16:case"end":return Y.stop()}},w)}));return function(C){return O.apply(this,arguments)}}(),D=[{dataIndex:"test_suite_name",title:"Test Suite",width:160,ellipsis:{showTitle:!1}},["business_business"].includes(a)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(w){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:w})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.env.preparation"}),ellipsis:{showTitle:!1},key:"preparation",render:function(w){var C=x({id:"ws.result.details.env.preparation.details"});return(0,e.jsx)(as,(0,d.Z)((0,d.Z)({},w),{},{title:"".concat(w.test_suite_name).concat(C)}))}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:function(w,C){return C.suite_state_desc&&!!C.suite_state_desc.length?(0,e.jsx)(Vt.f,{title:(0,oe.tZ)(w),desc:C.suite_state_desc}):(0,oe.tZ)(w)}},{dataIndex:"start_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},render:function(w){return(0,e.jsx)(e.Fragment,{children:w||"-"})}},{dataIndex:"end_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),ellipsis:{showTitle:!1},render:function(w){return(0,e.jsx)(e.Fragment,{children:w||"-"})}},!y&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),fixed:"right",key:"operation",render:function(w){var C=w.state,A={color:C!=="running"?"rgba(0,0,0,.25)":"#1890FF",cursor:C!=="running"?"not-allowed":"pointer"},pe=R&&v===w.id;return C==="running"?(0,e.jsx)(n.Nv,{accessible:f.WsTourist(),children:(0,e.jsxs)(n.Nv,{accessible:f.WsMemberOperateSelf(w.creator),fallback:(0,e.jsxs)("span",{children:[(0,e.jsx)("span",{style:A,onClick:function(){return(0,re.WR)()},children:le}),pe?(0,e.jsx)("span",{style:ln,children:he}):(0,e.jsx)("span",{style:rn,onClick:function(){return(0,re.WR)()},children:he})]}),children:[(0,e.jsx)("span",{style:A,onClick:function(){return l(w)},children:le}),pe?(0,e.jsx)("span",{style:ln,children:he}):(0,e.jsx)("span",{style:rn,onClick:function(){return J(w)},children:he})]})}):C==="pending"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{style:A,children:le}),(0,e.jsx)(n.Nv,{accessible:f.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:f.WsMemberOperateSelf(w.creator),fallback:pe?(0,e.jsx)("span",{style:ln,children:he}):(0,e.jsx)("span",{style:rn,onClick:function(){return(0,re.WR)()},children:he}),children:pe?(0,e.jsx)("span",{style:ln,children:he}):(0,e.jsx)("span",{style:rn,onClick:function(){return J(w)},children:he})})})]}):(0,e.jsx)("span",{style:A,children:le})}}].filter(Boolean);return(0,e.jsx)(Et.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.case"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},extra:I.length===E.length?(0,e.jsx)(Oe.Z,{onClick:function(){return z([])},children:(0,e.jsx)(n._H,{id:"ws.result.details.put.away.all"})}):(0,e.jsx)(Oe.Z,{onClick:function(){return z(E.map(function(w){return w.id}))},children:(0,e.jsx)(n._H,{id:"ws.result.details.expanded.all"})}),children:(0,e.jsx)(Qe.sL,{dataSource:E,columns:D,name:"job-result-process-suite",rowKey:"id",loading:P,size:"small",pagination:!1,className:St().process_suite_table_cls,refreshDeps:[a,f],expandable:{indentSize:60,expandedRowKeys:I,onExpand:function(w,C){z(w?I.concat(C.id):I.filter(function(A){return A!==C.id}))},expandedRowRender:function(w){return(0,e.jsx)(Qa,(0,d.Z)((0,d.Z)({},w),{},{testType:a,provider_name:u,setColumnsRefresh:function(){return U((0,kt.Z)())},columnsRefresh:se}))},expandIcon:function(w){var C=w.expanded,A=w.onExpand,pe=w.record;return C?(0,e.jsx)(It.Z,{onClick:function(ae){return A(pe,ae)}}):(0,e.jsx)(Pt.Z,{onClick:function(ae){return A(pe,ae)}})}}})})},qa=Xa,er=function(o){var t=o.refresh,i=t===void 0?!1:t,s=o.provider_name,a=(0,Ee.UO)(),u=a.id,p=a.share_id,h=(0,n.QT)(function(){return(0,Te.kv)({job_id:u,share_id:p})},{manual:!0}),y=h.data,j=h.loading,x=h.run;(0,r.useEffect)(function(){x()},[i]);var S=[{dataIndex:"index",title:" ",width:48,render:function(g){return g}},{dataIndex:"server",title:"IP".concat(""),ellipsis:{showTitle:!1},render:function(g,b){return g?(0,e.jsx)(Lt.Z,(0,d.Z)((0,d.Z)({},b),{},{val:g,param:b.server_id,provider:s,description:b.server_description})):"-"}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:oe.tZ},{dataIndex:"monitor_link",title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor_link"}),ellipsis:{shwoTitle:!1},render:function(g){return g?(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},style:{color:"#1890FF"},children:(0,e.jsx)(N.Z.Link,{target:"_blank",href:g,ellipsis:!0,children:g})}):"-"}},(0,d.Z)({dataIndex:"remark",title:(0,e.jsx)(n._H,{id:"ws.result.details.failed.info"})},(0,oe.yQ)()),{dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},render:function(g){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:g||"-"})}}];if(y&&!y.monitor_control)return(0,e.jsx)(e.Fragment,{});var T=y&&Array.isArray(y.result_list)?y.result_list:[];return(0,e.jsx)(Et.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(Qe.sL,{dataSource:T,columns:S,refreshDeps:[],name:"ws-job-result-process-monitor-conf-table",rowKey:"id",loading:j,size:"small",pagination:!1})})},rs,tr=bt.ZP.div(rs||(rs=(0,jt.Z)([`
    background-color: #f5f5f5;
    & .ant-card:first-child {
        .ant-card-head-title {
            padding-top: 0;
        }
    }
`]))),nr=function(o){var t=o.onRef,i=o.test_type,s=o.provider_name,a=(0,r.useState)(new Date().getTime()),u=(0,_.Z)(a,2),p=u[0],h=u[1],y=(0,re.SE)(i);return(0,r.useImperativeHandle)(t,function(){return{refresh:function(){h(new Date().getTime())}}}),(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsxs)(tr,{children:[(0,e.jsx)(Fa,{refresh:p}),(0,e.jsx)(Va,{refresh:p,provider_name:s}),(0,e.jsx)(er,{refresh:p,provider_name:s}),(0,e.jsx)(qa,{refresh:p,testType:y,provider_name:s})]})})},is=c(10938),sr=c(77045),ls,os,ds,us,cs,fs,kn=(0,bt.ZP)(de.Z)(ls||(ls=(0,jt.Z)([`
    width: 100%;
    & .ant-row{
        width: 100%;
        & div:first-child {
            text-align: right;
            font-size: 14px;
            color: rgba(0,0,0,.45);
        }
        & div:last-child {
            font-size: 14px;
            color: #000000;
        }
    }
`]))),ar=bt.ZP.div(os||(os=(0,jt.Z)([`
    width: 100%;
    padding: 20px;
`]))),vs=function(t,i){var s={cloud:i({id:"common.cloud"}),cloud_efficiency:i({id:"common.cloud_efficiency"}),cloud_ssd:i({id:"common.cloud_ssd"}),cloud_essd:i({id:"common.cloud_essd"})};return s[t]},lt=function(t){var i=t.label,s=t.children;return(0,e.jsxs)(ne.Z,{gutter:8,children:[(0,e.jsx)(ve.Z,{span:6,children:i}),(0,e.jsx)(ve.Z,{span:18,children:s||"-"})]})},Ht=function(t){var i=t.label,s=t.children;return(0,e.jsxs)(ne.Z,{gutter:8,children:[(0,e.jsx)(ve.Z,{span:4,children:i}),(0,e.jsx)(ve.Z,{span:20,children:s||"-"})]})},Tt=function(t){return(0,e.jsx)(de.Z,(0,d.Z)({direction:"vertical",style:{width:"100%"}},t))},rr=function(t){var i=t.tag_list,s=(0,n.YB)(),a=s.formatMessage;return(0,e.jsxs)(kn,{direction:"vertical",size:20,children:[i&&!!i.length&&(0,e.jsxs)(Tt,{children:[(0,e.jsx)(N.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.scheduling.tab"})}),(0,e.jsx)(ne.Z,{children:i.map(function(u){return(0,e.jsx)(tt.Z,{color:u.tag_color,children:u.name},u.id)})})]}),(0,e.jsxs)(Tt,{children:[(0,e.jsx)(N.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.other.information"})}),(0,e.jsx)(lt,{label:"".concat(a({id:"ws.result.details.configuration.name"}),":"),children:t==null?void 0:t.name}),(0,e.jsx)(lt,{label:"Owner:",children:t==null?void 0:t.owner_name}),(0,e.jsx)(lt,{label:"".concat(a({id:"ws.result.details.gmt_created"}),":"),children:t==null?void 0:t.gmt_created}),(0,e.jsx)(lt,{label:"".concat(a({id:"ws.result.details.gmt_modified"}),":"),children:t==null?void 0:t.gmt_modified}),(0,e.jsx)(lt,{label:"".concat(a({id:"ws.result.details.test_summary"}),":"),children:t==null?void 0:t.description})]})]})},ps=function(t){var i,s=t.$type,a=(0,n.YB)(),u=a.formatMessage;return(0,e.jsx)(ar,{children:(0,e.jsxs)(kn,{direction:"vertical",size:20,children:[(0,e.jsxs)(Tt,{children:[(0,e.jsx)(N.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.hardware"})}),(0,e.jsxs)(Tt,{children:[s!==0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(lt,{label:"".concat(u({id:"common.instance.ID"}),":"),children:t==null?void 0:t.instance_id}),(0,e.jsx)(lt,{label:"".concat(u({id:"common.private_ip"}),":"),children:t==null?void 0:t.private_ip})]}),(0,e.jsx)(lt,{label:"Region/Zone:",children:t==null?void 0:t.region_zone}),(0,e.jsx)(lt,{label:"".concat(u({id:"common.instance_type"}),":"),children:t==null?void 0:t.instance_type}),(0,e.jsx)(lt,{label:"".concat(u({id:"common.bandwidth"}),":"),children:t==null?void 0:t.bandwidth}),(t==null?void 0:t.manufacturer)!=="aliyun_eci"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(lt,{label:"".concat(u({id:"common.system_disk"}),":"),children:[vs(t==null?void 0:t.system_disk_category,u),"/",t==null?void 0:t.system_disk_size,"G"]}),(0,e.jsxs)(lt,{label:"".concat(u({id:"common.storage_type"}),":"),children:[vs(t==null?void 0:t.storage_type,u),"/",t==null?void 0:t.storage_size,"G/",t==null?void 0:t.storage_number,"\u4E2A"]})]})]})]}),(0,e.jsxs)(Tt,{children:[(0,e.jsx)(N.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.soft"})}),(0,e.jsx)(lt,{label:"".concat(u({id:"common.image_name"}),":"),children:t==null?void 0:t.image_name})]}),s!==0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Tt,{children:[(0,e.jsx)(N.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.use_state"})}),(0,e.jsx)(lt,{label:"".concat(u({id:"common.server.state"}),":"),children:t==null?void 0:t.real_state})]}),(0,e.jsxs)(Tt,{children:[(0,e.jsx)(N.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.channel_type"})}),(0,e.jsx)(lt,{label:"Channel:",children:t==null?void 0:t.image_name}),(0,e.jsx)(lt,{label:"".concat(u({id:"ws.result.details.state"}),":"),children:t==null?void 0:t.image_name})]})]}),JSON.stringify(t==null?void 0:t.extra_param)!=="{}"&&(0,e.jsxs)(Tt,{children:[(0,e.jsx)(N.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.extended.field"})}),t==null||(i=t.extra_param)===null||i===void 0?void 0:i.map(function(p,h){return p.param_key&&p.param_value!==""&&(0,e.jsxs)(lt,{label:" ",children:[p.param_key,":",p.param_value]},h)})]}),(0,e.jsx)(rr,(0,d.Z)({},t))]})})},ir=bt.ZP.div(ds||(ds=(0,jt.Z)([`
    width: 100%;
`]))),lr=bt.ZP.div(us||(us=(0,jt.Z)([`
    height: 42px;
    width: 100%;
    padding: 0 20px;
    background: #F5F5F5;
    color: rgba(0,0,0,0.85);
    line-height: 42px;
    font-weight: 700;
`]))),or=bt.ZP.div(cs||(cs=(0,jt.Z)([`
    width: 100%;
    border: 1px solid rgba(0,0,0,0.10);
`]))),dr=bt.ZP.div(fs||(fs=(0,jt.Z)([`
    height: 40px;
    line-height: 40px;
    width: 100%;
    border-bottom: 1px solid rgba(0,0,0,0.10);
    background-color: #F5F5F5;
    font-weight: 700;
    padding: 0 20px;
    color: rgba(0,0,0,0.85);
`]))),ur=function(t){var i=(0,n.YB)(),s=i.formatMessage,a=t.id,u=t.name,p=t.is_instance,h=r.useState([]),y=(0,_.Z)(h,2),j=y[0],x=y[1],S=r.useState(!1),T=(0,_.Z)(S,2),f=T[0],g=T[1],b=function(){var R=(0,ie.Z)((0,W.Z)().mark(function m(){var B,L,v;return(0,W.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,is.L0)({cluster_id:a});case 2:B=Z.sent,L=B.data,v=B.code,v===200&&x(L.map(function(K){return(0,d.Z)((0,d.Z)({},K),K.test_server)}));case 6:case"end":return Z.stop()}},m)}));return function(){return R.apply(this,arguments)}}();return r.useEffect(function(){b()},[a]),(0,e.jsxs)(ir,{children:[(0,e.jsxs)(lr,{children:[(0,e.jsx)(n._H,{id:"ws.result.details.cluster.name"}),"\uFF1A",u]}),(0,e.jsxs)(kn,{direction:"vertical",style:{padding:20},children:[(0,e.jsxs)(Tt,{style:{padding:"0 20px",width:"100%"},children:[(0,e.jsx)(Ht,{label:"".concat(s({id:"ws.result.details.configuration.name"}),":"),children:t==null?void 0:t.name}),(0,e.jsx)(Ht,{label:"Owner:",children:t==null?void 0:t.owner_name}),(0,e.jsx)(Ht,{label:"".concat(s({id:"ws.result.details.gmt_created"}),":"),children:t==null?void 0:t.gmt_created}),(0,e.jsx)(Ht,{label:"".concat(s({id:"ws.result.details.gmt_modified"}),":"),children:t==null?void 0:t.gmt_modified}),(0,e.jsx)(Ht,{label:"".concat(s({id:"ws.result.details.test_summary"}),":"),children:t==null?void 0:t.description}),(0,e.jsx)(Ht,{label:"".concat(s({id:"ws.result.details.scheduling.tab"}),":"),children:t.tag_list&&!!t.tag_list.length?t==null?void 0:t.tag_list.map(function(R){return(0,e.jsx)(tt.Z,{color:R.tag_color,children:R.name},R.id)}):"-"})]}),j.map(function(R){var m=R.is_instance?s({id:"ws.result.details.server.instance.name"},{data:R.name}):s({id:"ws.result.details.server.configuration.name"},{data:R.name});return(0,e.jsxs)(or,{children:[(0,e.jsx)(dr,{children:f?(0,e.jsx)(Ne.Z,{title:R.name,children:(0,e.jsx)(N.Z.Text,{ellipsis:!0,children:m})}):(0,e.jsx)(N.Z.Text,{ellipsis:{onEllipsis:function(){return g(!0)}},children:m})}),(0,e.jsx)(ps,(0,d.Z)({$type:p},R))]},R.server_id)})]})]})},cr=function(t){var i=t.server_ip,s=t.is_instance,a=t.run_mode,u=t.provider_name,p=(0,Ee.UO)(),h=p.ws_id,y=r.useState([]),j=(0,_.Z)(y,2),x=j[0],S=j[1],T=r.useState(!1),f=(0,_.Z)(T,2),g=f[0],b=f[1],R=(0,n.YB)(),m=R.formatMessage,B=Object.prototype.toString.call(s)==="[object Number]",L=function(){var H=(0,ie.Z)((0,W.Z)().mark(function Z(K){var se,U,F,k,I,z,le;return(0,W.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!(K&&B)){M.next=26;break}if(a!=="cluster"){M.next=13;break}return M.next=4,(0,sr.Y_)({ws_id:h,cluster_type:"aliyun",name:i});case 4:if(se=M.sent,U=se.data,F=se.code,F!==200){M.next=11;break}S(U[0]),M.next=13;break;case 11:return b(!1),M.abrupt("return");case 13:if(a!=="standalone"){M.next=26;break}return M.next=16,(0,is.$x)((k={ws_id:h},(0,_t.Z)(k,s?"private_ip":"server_conf",i),(0,_t.Z)(k,"in_pool",s?"":"all"),(0,_t.Z)(k,"query_size",1),k));case 16:if(I=M.sent,z=I.data,le=I.code,le!==200){M.next=26;break}if(!(Object.prototype.toString.call(z)==="[object Array]"&&!!z.length)){M.next=24;break}S(z),M.next=26;break;case 24:return b(!1),M.abrupt("return");case 26:b(K);case 27:case"end":return M.stop()}},Z)}));return function(K){return H.apply(this,arguments)}}(),v=i||"-";return u==="aliyun"&&!["",null,"\u968F\u673A"].includes(i)&&B?(0,e.jsx)(Ne.Z,{open:g,overlayStyle:{width:510,maxWidth:"unset",padding:0,maxHeight:450,overflowY:"auto",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)"},color:"#fff",placement:"right",title:a==="cluster"?(0,e.jsx)(ur,(0,d.Z)((0,d.Z)({},x),{},{is_instance:s})):x.map(function(H){return(0,e.jsx)(ps,(0,d.Z)((0,d.Z)({},H),{},{$type:s}),H.id)}),onOpenChange:L,children:v}):["\u968F\u673A"].includes(i)?(0,e.jsx)(Ne.Z,{title:m({id:"common.random"}),children:(0,e.jsx)(n._H,{id:"common.random"})}):(0,e.jsx)(Ne.Z,{title:v,children:v})},fr=function(o){var t=o.data,i=t===void 0?[]:t,s=o.testType,a=o.provider_name,u=o.columnsRefresh,p=o.onColumnsChange,h=(0,Ee.UO)(),y=h.share_id,j=(0,n.YB)(),x=j.formatMessage,S=[{title:"Test Conf",dataIndex:"test_case_name",ellipsis:{showTitle:!1},width:200,render:function(f){return(0,e.jsx)(Ne.Z,{title:f,children:f})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),ellipsis:{showTitle:!1},width:150,dataIndex:"run_mode"},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),dataIndex:"server_ip",ellipsis:{showTitle:!1},width:150,render:function(f,g){return y?f||"-":(0,e.jsx)(cr,(0,d.Z)({provider_name:a},g))}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.timeout"}),dataIndex:"timeout",width:150,ellipsis:{showTitle:!1},render:function(f,g){return g.timeout||"-"}},{title:"Repeat",dataIndex:"repeat",width:100,ellipsis:{showTitle:!1}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.variable"}),ellipsis:{showTitle:!1},width:150,key:"variable",render:function(f){var g=f.env_info&&JSON.stringify(f.env_info)!=="{}"?Object.keys(f.env_info).reduce(function(b,R,m){return b+="".concat(m===0?"":";").concat(R,"=").concat(f.env_info[R])},""):"-";return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:g})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.restart"}),dataIndex:"need_reboot",width:100,ellipsis:{showTitle:!1},render:function(f){return f?(0,e.jsx)(n._H,{id:"operation.yes"}):(0,e.jsx)(n._H,{id:"operation.no"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.setup_info"}),dataIndex:"setup_info",ellipsis:{showTitle:!1},width:150,render:function(f,g){if(!(g!=null&&g.need_reboot))return"-";var b=x({id:"ws.result.details.restart.before"}),R=x({id:"ws.result.details.restart.after"}),m=(0,e.jsxs)("span",{children:["[",b,"]: ",f||"-",",  [",R,"]: ",g.cleanup_info||"-"]});return f||g.cleanup_info?(0,e.jsx)(Ne.Z,{placement:"topLeft",title:m,children:m}):"-"}},["business_business"].includes(s)&&{title:"Console",dataIndex:"console",width:100,ellipsis:{showTitle:!1},render:function(f){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:f})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),width:100,dataIndex:"monitor",ellipsis:{showTitle:!1},render:function(){return"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.priority"}),dataIndex:"priority",width:100,ellipsis:{showTitle:!1}}];return(0,e.jsx)(Qe.sL,{dataSource:i,columns:S,onColumnsChange:p,refreshDeps:[s,u],name:"ws-job-result-setting-case",rowKey:"test_case_id",pagination:!1,size:"small"})},vr=c(63255),Ot=c.n(vr),pr=function(o){var t=o.data,i=t===void 0?[]:t,s=o.testType,a=o.provider_name,u=(0,n.YB)(),p=u.formatMessage,h=r.useState((0,kt.Z)()),y=(0,_.Z)(h,2),j=y[0],x=y[1],S=[{title:"Test Suite",dataIndex:"test_suite_name",width:160,ellipsis:{showTitle:!1}},["business_business"].includes(s)?{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(f){return(0,e.jsx)(it.K,{ellipsis:{tooltip:!0},children:f})}}:{title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),dataIndex:"run_mode",width:160,ellipsis:{showTitle:!1}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.restart"}),dataIndex:"need_reboot",ellipsis:{showTitle:!1},width:100,render:function(f){return f?(0,e.jsx)(n._H,{id:"operation.yes"}):(0,e.jsx)(n._H,{id:"operation.no"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.setup_info"}),dataIndex:"setup_info",ellipsis:{showTitle:!1},width:150,render:function(f,g){if(!(g!=null&&g.need_reboot))return"-";var b=p({id:"ws.result.details.restart.before"}),R=p({id:"ws.result.details.restart.after"});return f||g.cleanup_info?(0,e.jsxs)(N.Z.Text,{ellipsis:{tooltip:!0},children:["[",b,"]: ",f||"-",",  [",R,"]: ",g.cleanup_info||"-"]}):"-"}},{title:"Console",dataIndex:"console",ellipsis:{showTitle:!1},width:100,render:function(f){return f||"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),dataIndex:"monitor_info",ellipsis:{showTitle:!1},width:100,render:function(){return"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.priority"}),dataIndex:"priority",ellipsis:{showTitle:!1},width:100,render:function(f){return f||"-"}}];return(0,e.jsx)(Et.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.cases.and.config"}),style:{marginBottom:10},children:(0,e.jsx)(Qe.sL,{dataSource:i,columns:S,name:"ws-job-result-setting-suite-server",rowKey:"test_suite_id",size:"small",pagination:!1,className:Ot().test_suite_server_table,refreshDeps:[s],expandable:{columnWidth:30,expandedRowRender:function(f){return(0,e.jsx)(fr,{onColumnsChange:function(){return x((0,kt.Z)())},columnsRefresh:j,data:f.cases,testType:s,provider_name:a})},expandIcon:function(f){var g=f.expanded,b=f.onExpand,R=f.record;return g?(0,e.jsx)(It.Z,{onClick:function(B){return b(R,B)}}):(0,e.jsx)(Pt.Z,{onClick:function(B){return b(R,B)}})}}})})},mr=c(45680),hr=c(84739),_r=c(55787),gr=c(60306),ms=c(37579),xr=c(45537),jr=c(53909),br=function(o){var t=o.contrl,i=o.disabled,s=i===void 0?!1:i,a=o.onRef,u=a===void 0?null:a,p=o.template,h=p===void 0?{}:p;if(JSON.stringify(t)==="{}")return(0,e.jsx)(e.Fragment,{});var y=(0,n.YB)(),j=y.formatMessage,x=(0,n.Kd)()==="en-US",S=ge.Z.useForm(),T=(0,_.Z)(S,1),f=T[0],g=(0,r.useState)(!1),b=(0,_.Z)(g,2),R=b[0],m=b[1],B=(0,r.useState)(!1),L=(0,_.Z)(B,2),v=L[0],H=L[1],Z=(0,r.useState)(!1),K=(0,_.Z)(Z,2),se=K[0],U=K[1],F=(0,r.useState)("no"),k=(0,_.Z)(F,2),I=k[0],z=k[1],le=function($){z($.target.value),!s&&f.resetFields(["kernel","devel","headers","kernel_version","scripts"])};(0,r.useImperativeHandle)(u,function(){return{form:f,reset:function(){z("no"),m(!1),H(!1),U(!1),f.resetFields()}}});var he=(0,n.QT)(function(){return(0,mr.ZP)({enable:"True"})}),M=he.data;(0,r.useEffect)(function(){if(JSON.stringify(h)!=="{}"){var P=h.monitor_info,$=h.need_reboot,l=h.rpm_info,J=h.script_info,D=h.env_info,O=h.kernel_info,w=h.kernel_version,C=h.iclone_info,A=h.build_pkg_info,pe=[];O&&JSON.stringify(O)!=="{}"&&(pe=(0,d.Z)((0,d.Z)({},pe),O));var Ze=!1,ae,fe;C&&(ae=C.os,fe=C.app_name,(ae||fe)&&(Ze=!0,m(Ze)));var _e=!!A&&JSON.stringify(A)!=="{}";w&&z("install_push"),!w&&!_e&&z("no"),_e&&z("install_build_kernel"),O&&JSON.stringify(O)!=="{}"&&!w&&z("install_un_push"),H($);var Y=!1;P&&P.length>0&&(U(!0),Y=!0);var ue=D?(0,nn.xX)(D):"";f.setFieldsValue((0,d.Z)((0,d.Z)({},pe),(0,d.Z)({monitor_info:P&&P.length>0?P:[{}],rpm_info:l&&l.length>0?l:[{rpm:"",pos:"before"}],script_info:J&&J.length>0?J:[{script:"",pos:"before"}],need_reboot:$,env_info:ue,reclone_contrl:Ze,os:ae,app_name:fe,moniter_contrl:Y,kernel_version:w},A)))}},[h,M]);var E=function($){var l=$.target;H(l.value),!s&&f.resetFields(["rpm_info","script_info"])};return(0,e.jsx)(Et.Z,{className:Ot().customCardCls,title:(0,e.jsx)(n._H,{id:"ws.result.details.env.prepare.config"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(ge.Z,{colon:!1,layout:"horizontal",size:"small",style:{width:"100%"},name:"env",form:f,labelCol:{span:4},className:"".concat(Ot().job_test_form," ").concat(Ot()[x?"label_style_form_en":"label_style_form"]),initialValues:{rpm_info:[{rpm:"",pos:"before"}],script_info:[{script:"",pos:"before"}],monitor_info:[{}],need_reboot:!1,hotfix_install:!0,scripts:[{script:"",pos:"before"}]},children:(0,e.jsx)(ne.Z,{children:(0,e.jsxs)(ve.Z,{span:15,children:["reclone"in t&&(0,e.jsx)(ge.Z.Item,{label:t.reclone.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.reclone.name)}),name:"reclone_contrl",initialValue:!1,children:(0,e.jsxs)(rt.ZP.Group,{disabled:s,onChange:function($){var l=$.target;return m(l.value)},children:[(0,e.jsx)(rt.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(rt.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),R&&(0,e.jsxs)(ge.Z.Item,{label:" ",children:[(0,e.jsx)(ge.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.physical"}),children:(0,e.jsxs)(ne.Z,{gutter:10,children:[(0,e.jsx)(ve.Z,{span:12,children:(0,e.jsx)(ge.Z.Item,{name:"os",noStyle:!0,children:(0,e.jsxs)(mt.Z,{getPopupContainer:function($){return $.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.physical.placeholder"}),disabled:s,children:[(0,e.jsx)(mt.Z.Option,{value:"AliOS7U2-4.9-x86-64",children:"AliOS7U2-4.9-x86-64"}),(0,e.jsx)(mt.Z.Option,{value:"AliOS7U2-aarch64",children:"AliOS7U2-aarch64"}),(0,e.jsx)(mt.Z.Option,{value:"AliOS7U2-x86-64",children:"AliOS7U2-x86-64"})]})})}),(0,e.jsx)(ve.Z,{span:12,children:(0,e.jsx)(ge.Z.Item,{name:"app_name",noStyle:!0,children:(0,e.jsxs)(mt.Z,{getPopupContainer:function($){return $.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.app_name.placeholder"}),disabled:s,children:[(0,e.jsx)(mt.Z.Option,{value:"baseos_server",children:"baseos_server"}),(0,e.jsx)(mt.Z.Option,{value:"app_server",children:"app_server"})]})})})]})}),(0,e.jsx)(ge.Z.Item,{name:"vm",label:(0,e.jsx)(n._H,{id:"ws.result.details.vm"}),children:(0,e.jsx)(mt.Z,{getPopupContainer:function($){return $.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.vm.placeholder"}),disabled:s})})]}),"kernel_install"in t&&(0,e.jsx)(ge.Z.Item,{label:t.kernel_install.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.kernel_install.name)}),children:(0,e.jsxs)(rt.ZP.Group,{value:I,disabled:s,onChange:le,children:[(0,e.jsx)(rt.ZP,{value:"no",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_no"})}),(0,e.jsx)(rt.ZP,{value:"install_push",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_publish"})}),(0,e.jsx)(rt.ZP,{value:"install_un_push",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_un"})}),(0,e.jsx)(rt.ZP,{value:"install_build_kernel",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_build"})})]})}),I==="install_push"&&(0,e.jsx)(hr.Z,{form:f,kernel:I,kernelList:M,disabled:s}),I==="install_un_push"&&(0,e.jsx)(_r.Z,{disabled:s,form:f}),I==="install_build_kernel"&&(0,e.jsx)(gr.Z,{form:f,disabled:s,project_id:h==null?void 0:h.project_id}),"reboot"in t&&(0,e.jsx)(ge.Z.Item,{label:t.reboot.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.reboot.name)}),name:"need_reboot",children:(0,e.jsxs)(rt.ZP.Group,{disabled:s,onChange:E,children:[(0,e.jsx)(rt.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(rt.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),"global_variable"in t&&(0,e.jsx)(ge.Z.Item,{label:t.global_variable.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.global_variable.name)}),children:(0,e.jsxs)(ve.Z,{span:24,style:{position:"relative"},children:[(0,e.jsx)(ge.Z.Item,{name:"env_info",rules:[function(){return{validator:function($,l){if(l){var J=/^(\w+=((('[^']+'|"[^"]+")|.+)( |\n)))*\w+=(('[^']+'|"[^"]+")|.+)$/;return J.test(l)?Promise.resolve():Promise.reject(j({id:"format.key.value"}))}else return Promise.resolve()}}}],children:(0,e.jsx)(dt.Z.TextArea,{disabled:s,placeholder:j({id:"format.key.value"}),autoSize:{maxRows:10,minRows:3}})}),f.getFieldValue("env_info")&&(0,e.jsx)(jr.db,{style:{right:-20},onCopy:function(){return f.getFieldValue("env_info")}})]})}),"rpm"in t&&(0,e.jsx)(ms.Z,{form:f,label:t.rpm.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.rpm.name)}),listName:"rpm_info",textName:"rpm",radioName:"pos",buttonText:j({id:"ws.result.details.rpm.add"}),placeholder:j({id:"ws.result.details.please.enter.rpm"}),buttonShow:v,disabled:s}),"script"in t&&(0,e.jsx)(ms.Z,{form:f,label:t.script.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.script.name)}),listName:"script_info",textName:"script",radioName:"pos",buttonText:j({id:"ws.result.details.script.add"}),placeholder:j({id:"ws.result.details.please.enter.script"}),buttonShow:v,disabled:s}),"monitor"in t&&(0,e.jsx)(ge.Z.Item,{label:t.monitor.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.monitor.name,".config")}),name:"moniter_contrl",initialValue:!1,children:(0,e.jsxs)(rt.ZP.Group,{disabled:s,onChange:function($){var l=$.target;return U(l.value)},children:[(0,e.jsx)(rt.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(rt.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),se&&(0,e.jsx)(xr.Z,{disabled:s,formComponent:f})]})})})})},Fi=c(77883),hs=c(22928),Tn=c(71459),yr=c(1870),on=c(96486),Ct=c.n(on),wr=mt.Z.Option,Zr=function(o){var t,i,s,a,u=o.contrl,p=o.disabled,h=p===void 0?!1:p,y=o.onRef,j=y===void 0?null:y,x=o.template,S=x===void 0?{}:x,T=(0,Ee.UO)(),f=T.ws_id,g=T.share_id;if(JSON.stringify(u)==="{}")return(0,e.jsx)(e.Fragment,{});var b=(0,n.YB)(),R=b.formatMessage,m=(0,n.Kd)()==="en-US",B=ge.Z.useForm(),L=(0,_.Z)(B,1),v=L[0],H=(0,r.useState)([]),Z=(0,_.Z)(H,2),K=Z[0],se=Z[1],U=(0,r.useState)([]),F=(0,_.Z)(U,2),k=F[0],I=F[1],z=r.useState(),le=(0,_.Z)(z,2),he=le[0],M=le[1],E=(0,r.useState)([]),P=(0,_.Z)(E,2),$=P[0],l=P[1],J=(0,r.useState)({}),D=(0,_.Z)(J,2),O=D[0],w=D[1];(0,r.useImperativeHandle)(j,function(){return{form:v,reset:function(){v.resetFields()}}});var C=function(){var ae=(0,ie.Z)((0,W.Z)().mark(function fe(){var _e,Y;return(0,W.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,hs.oG)({ws_id:f,share_id:g});case 2:_e=Se.sent,Y=_e.data,se(Y);case 5:case"end":return Se.stop()}},fe)}));return function(){return ae.apply(this,arguments)}}(),A=function(){var ae=(0,ie.Z)((0,W.Z)().mark(function fe(){var _e,Y,ue,Se,We;return(0,W.Z)().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return Ke.prev=0,Ke.next=3,(0,zn.MD)({ws_id:f,page_size:99999,share_id:g});case 3:_e=Ke.sent,Y=_e.code,ue=_e.data,Y===200&&(Se=Ct().isArray(ue)?ue:[],We=Ct().find(Se,{is_default:!0}),l(Se),w(We)),Ke.next=12;break;case 9:Ke.prev=9,Ke.t0=Ke.catch(0),console.log(Ke.t0);case 12:case"end":return Ke.stop()}},fe,null,[[0,9]])}));return function(){return ae.apply(this,arguments)}}();(0,r.useEffect)(function(){A(),C()},[]),(0,r.useEffect)(function(){var ae=Ct().cloneDeep(v.getFieldsValue());if(JSON.stringify(S)==="{}"&&JSON.stringify(O)!=="{}"&&v.setFieldsValue((0,d.Z)((0,d.Z)({},ae),{},{report_template_id:Ct().get(O,"id")})),JSON.stringify(S)!=="{}"){var fe,_e,Y,ue=S.cleanup_info,Se=S.tags,We=S.notice_info,Ae=S.report_name,Ke=S.callback_api,Ue=S.report_template_id;if(Ct().isArray(We)&&We.forEach(function(ye){fe=ye.subject,ye.type==="email"&&(_e=ye.to),ye.type==="ding"&&(Y=ye.to)}),Ct().isArray($)){var yt=Ct().find($,["id",S.report_template_id]);Ue=Ct().get(yt,"id")}v.setFieldsValue((0,d.Z)((0,d.Z)({},S),{},{cleanup_info:ue,tags:Se,notice_subject:fe,email:_e,ding_token:Y,report_template_id:Ue,report_name:Ae,callback_api:Ke})),I(Se),M(Ae)}},[O,$,S]);var pe=function(fe){var _e=fe.target.value,Y=Ct().cloneDeep(v.getFieldsValue());v.setFieldsValue((0,d.Z)((0,d.Z)({},Y),{},{report_name:_e})),M(_e)},Ze=(0,r.useMemo)(function(){return K==null?void 0:K.filter(function(ae){return k==null?void 0:k.includes(ae.id)})},[k,K]);return(0,e.jsx)(Et.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.more.configurations"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},children:(0,e.jsx)(ge.Z,{colon:!1,layout:"horizontal",size:"small",labelCol:{span:4},style:{width:"100%"},name:"more",form:v,className:"".concat(Ot().job_test_form," ").concat(Ot()[m?"label_style_form_en":"label_style_form"]),children:(0,e.jsx)(ne.Z,{children:(0,e.jsxs)(ve.Z,{span:15,children:["cleanup"in u&&(0,e.jsx)(ge.Z.Item,{name:"cleanup_info",label:u.cleanup.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.cleanup.name)}),children:(0,e.jsx)(dt.Z.TextArea,{disabled:h,placeholder:R({id:"ws.result.details.cleanup.placeholder"})})}),"job_tag"in u&&(0,e.jsx)(Tn.OT,{tags:K,initialValue:Ze,label:u.job_tag.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.job_tag.name)}),disabled:h}),"notice_subject"in u&&(0,e.jsx)(ge.Z.Item,{name:"notice_subject",label:u.notice_subject.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.notice_subject.name)}),children:(0,e.jsx)(dt.Z,{autoComplete:"off",disabled:h,placeholder:R({id:"ws.result.details.notice_subject.placeholder"},{date:"{date}"})})}),"email_notice"in u&&(0,e.jsx)(ge.Z.Item,{name:"email",label:u.email_notice.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.email_notice.name)}),rules:[{pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:R({id:"ws.result.details.email.message"})}],children:(0,e.jsx)(dt.Z,{autoComplete:"off",disabled:h,placeholder:R({id:"ws.result.details.email.placeholder"})})}),"ding_notice"in u&&(0,e.jsx)(ge.Z.Item,{name:"ding_token",label:u.ding_notice.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.ding_notice.name)}),children:(0,e.jsx)(dt.Z,{autoComplete:"off",disabled:h,placeholder:R({id:"ws.result.details.ding_notice.placeholder"})})}),"report"in u&&(0,e.jsxs)(ge.Z.Item,{label:(u==null||(t=u.report)===null||t===void 0?void 0:t.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.report"}),name:"report_name",children:[(0,e.jsx)(dt.Z,{value:he||void 0,onChange:pe,autoComplete:"off",disabled:h,placeholder:R({id:"ws.result.details.report.placeholder"},{job_name:"{job_name}",report_seq_id:"{report_seq_id}"})}),(0,e.jsx)(Cn.Z,{content:(0,e.jsxs)("div",{children:[R({id:"ws.result.details.report.Popover"}),(0,e.jsx)("p",{children:"{date} {job_name} {job_id} {product_version}"})]}),children:(0,e.jsx)(yr.Z,{className:Ot().question_icon})})]}),he&&"report"in u&&(0,e.jsx)(ge.Z.Item,{name:"report_template_id",label:(u==null||(i=u.report)===null||i===void 0?void 0:i.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.report_template"}),children:(0,e.jsx)(mt.Z,{showSearch:!0,disabled:h,placeholder:R({id:"ws.result.details.report_template.placeholder"}),defaultValue:O==null?void 0:O.name,optionFilterProp:"children",filterOption:function(fe,_e){return(_e==null?void 0:_e.toLowerCase().indexOf(fe.toLowerCase()))>=0},children:$.map(function(ae){return(0,e.jsx)(wr,{value:ae.id,children:ae.name},ae.id)})})}),"callback_api"in u&&(0,e.jsx)(ge.Z.Item,{name:"callback_api",label:(u==null||(s=u.callback_api)===null||s===void 0?void 0:s.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.callback_api"}),children:(0,e.jsx)(dt.Z,{autoComplete:"off",disabled:h,placeholder:R({id:"ws.result.details.callback_api.placeholder"})})}),!1]})})})})},Sr=c(75044),Cr=function(o){var t=o.jt_id,i=o.test_type,s=o.provider_name,a=(0,Ee.UO)(),u=a.id,p=a.ws_id,h=a.share_id,y=(0,re.SE)(i),j=(0,n.QT)(function(){return(0,Te.Cl)({job_id:u,share_id:h})},{initialData:{test_config:[]},formatResult:function(R){return R.code===200?R.data[0]:{test_config:[]}}}),x=j.data,S=j.loading,T=(0,n.QT)(function(){return(0,Sr.Dn)({jt_id:t,ws_id:p})},{initialData:[]}),f=T.data,g=(0,r.useMemo)(function(){var b={},R={},m={},B={};return f.forEach(function(L){L.config_index===1&&(b[L.name]=L),L.config_index===2&&(R[L.name]=L),L.config_index===3&&(m[L.name]=L),L.config_index===4&&(B[L.name]=L)}),{basic:b,env:R,suite:m,more:B}},[f]);return(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsx)(De.Z,{spinning:S,children:(0,e.jsxs)("div",{style:{background:"#F5F5F5"},children:[(0,e.jsx)(br,{contrl:g.env,disabled:!0,template:x}),(0,e.jsx)(pr,{data:x==null?void 0:x.test_config,testType:y,provider_name:s}),(0,e.jsx)(Zr,{contrl:g.more,disabled:!0,template:x})]})})})},kr=c(30381),_s=c.n(kr),Rn=c(8212),Tr=c(46873),Rr=(0,r.forwardRef)(function(o,t){var i=(0,n.YB)(),s=i.formatMessage,a=ge.Z.useForm(),u=(0,_.Z)(a,1),p=u[0],h=(0,r.useState)(!1),y=(0,_.Z)(h,2),j=y[0],x=y[1],S=(0,r.useState)(!1),T=(0,_.Z)(S,2),f=T[0],g=T[1],b=(0,r.useState)(),R=(0,_.Z)(b,2),m=R[0],B=R[1];(0,r.useImperativeHandle)(t,function(){return{show:function(){x(!0),B(s({id:"please.enter.message"})),p.setFieldsValue({tag_color:"rgb(255,157,78,1)"})}}});var L=function(){p.resetFields(),x(!1),g(!1)},v=function(){g(!1)},H=function(){f||(g(!0),B(void 0),p.validateFields().then(function(){var K=(0,ie.Z)((0,W.Z)().mark(function se(U){var F,k,I;return(0,W.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,Te._U)((0,d.Z)({ws_id:o.ws_id},U));case 2:F=le.sent,k=F.code,I=F.msg,k===200?(o.onOk(),L(),ce.default.success(s({id:"operation.success"}))):k===1302?B(s({id:"ws.result.details.tag_name.already.exists"})):(g(!1),ce.default.error(I));case 6:case"end":return le.stop()}},se)}));return function(se){return K.apply(this,arguments)}}()).catch(function(){g(!1)}))};return(0,e.jsx)(Hn.Z,{width:460,title:(0,e.jsx)(n._H,{id:"ws.result.details.new.tag"}),open:j,centered:!0,onCancel:L,maskClosable:!1,onOk:H,okText:(0,e.jsx)(n._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:(0,e.jsx)(De.Z,{spinning:!1,children:(0,e.jsxs)(ge.Z,{form:p,layout:"vertical",children:[(0,e.jsx)(ge.Z.Item,{name:"tag_color",label:(0,e.jsx)(n._H,{id:"ws.result.details.tag_color"}),children:(0,e.jsx)(Tr.Z,{})}),(0,e.jsx)(ge.Z.Item,{name:"name",label:(0,e.jsx)(n._H,{id:"ws.result.details.tag_name"}),help:m,rules:[{required:!0,max:32,message:s({id:"please.enter.message"}),pattern:/^[A-Za-z0-9\._-]*$/g}],children:(0,e.jsx)(dt.Z,{onFocus:v})}),(0,e.jsx)(ge.Z.Item,{name:"description",label:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),children:(0,e.jsx)(dt.Z.TextArea,{rows:4,placeholder:s({id:"ws.result.details.please.enter.remarks"})})})]})})})}),Er=function(t){var i,s,a=t.label,u=t.closable,p=t.onClose,h=t.value;return(0,e.jsx)(tt.Z,{color:(i=a.props)===null||i===void 0?void 0:i.color,closable:u,onClose:p,style:{marginRight:3},children:((s=a.props)===null||s===void 0?void 0:s.children)||h})},gs={paddingTop:5,paddingRight:8},Or=[{id:"keep_three_months",name:"\u4FDD\u7559\u4E09\u4E2A\u6708"},{id:"keep_six_months",name:"\u4FDD\u7559\u516D\u4E2A\u6708"},{id:"keep_one_year",name:"\u4FDD\u7559\u4E00\u5E74"}],En=Or.map(function(o){return o.id}),Fr=function(t){var i=t.tags,s=i===void 0?[]:i,a=t.onOk,u=t.creator_id,p=t.width,h=(0,Ee.UO)(),y=h.ws_id,j=h.id,x=h.share_id,S=!!x,T=(0,n.md)(),f=(0,n.YB)(),g=f.formatMessage,b={ws_id:y,page_num:1,page_size:100},R=(0,r.useState)(!1),m=(0,_.Z)(R,2),B=m[0],L=m[1],v=(0,r.useState)([]),H=(0,_.Z)(v,2),Z=H[0],K=H[1],se=r.useState(b),U=(0,_.Z)(se,2),F=U[0],k=U[1],I=r.useState([]),z=(0,_.Z)(I,2),le=z[0],he=z[1],M=(0,r.useState)([]),E=(0,_.Z)(M,2),P=E[0],$=E[1],l=(0,r.useRef)(null),J=(0,n.QT)(function(){return(0,hs.oG)(F)},{initialData:[],formatResult:function(ue){return ue},refreshDeps:[F],ready:B}),D=J.data,O=J.loading,w=J.refresh,C=function(){L(!1)};r.useEffect(function(){return function(){B||(he([]),k(b))}},[B]);var A=function(){var Y=(0,ie.Z)((0,W.Z)().mark(function ue(){var Se,We,Ae;return(0,W.Z)().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,(0,Te.ED)({job_id:j,tag_id:Z,ws_id:y});case 2:if(Se=Ue.sent,We=Se.code,Ae=Se.msg,We===200){Ue.next=8;break}return(0,re.EV)(We,Ae),Ue.abrupt("return");case 8:a(),C();case 10:case"end":return Ue.stop()}},ue)}));return function(){return Y.apply(this,arguments)}}();r.useEffect(function(){D!=null&&D.data&&he(function(Y){return Y.concat(D==null?void 0:D.data)})},[D]),(0,r.useEffect)(function(){K(s.map(function(ue){return ue.id}));var Y=(s==null?void 0:s.map(function(ue){return{value:ue.id,label:ue.name}}))||[];$(Y)},[s]);var pe=function(){L(!0)},Ze=function(ue,Se){K(ue);var We=(Se==null?void 0:Se.map(function(Ae){return{value:Ae.value,label:Ae.label.props.children}}))||[];$(We)},ae=function(){var ue;(ue=l.current)===null||ue===void 0||ue.show()},fe=function(ue){var Se=ue.target,We=Se.clientHeight,Ae=Se.scrollHeight,Ke=Se.scrollTop;if(We+Ke===Ae){var Ue=F.page_num+1;Ue<=(D==null?void 0:D.total_page)&&k(function(yt){return(0,d.Z)((0,d.Z)({},yt),{},{page_num:yt.page_num+1})})}},_e=P.filter(function(Y){return En.indexOf(Y.label)>-1});return(0,e.jsxs)("div",{style:{width:"calc(100% - ".concat(p,"px)")},children:[B?(0,e.jsxs)(de.Z,{size:8,children:[(0,e.jsx)(mt.Z,{mode:"multiple",value:Z,loading:O,size:"small",style:{width:600},tagRender:Er,onChange:Ze,allowClear:!0,onPopupScroll:fe,getPopupContainer:function(ue){return ue.parentNode},onSearch:Ct().debounce(function(Y){he([]),k((0,d.Z)((0,d.Z)({},b),{},{name:Y}))},300),filterOption:!1,defaultActiveFirstOption:!1,notFoundContent:O?(0,e.jsx)(De.Z,{}):(0,e.jsx)(Zt.Z,{image:Zt.Z.PRESENTED_IMAGE_SIMPLE}),dropdownRender:function(ue){return(0,e.jsxs)("div",{children:[ue,T.WsMemberOperateSelf()&&(0,e.jsx)("div",{style:{maxHeight:300,overflow:"auto",padding:"10px",borderTop:"1px solid #eee",marginBottom:"-4px"},onClick:ae,children:(0,e.jsxs)("span",{className:xn().test_summary_job,children:[(0,e.jsx)(jn.Z,{style:{marginRight:8,color:"#1890ff"}}),(0,e.jsx)(n._H,{id:"ws.result.details.new.tag"})]})})]})},options:le.map(function(Y){var ue=P.filter(function(Ae){return En.indexOf(Ae.label)>-1}),Se=En.includes(Y.name)&&ue.length?Y.name!==ue[0].label:!1,We=Se?(0,e.jsx)("span",{style:{color:"#bfbfbf"},children:Y.name}):Y.name;return{value:Y.id,label:(0,e.jsx)(tt.Z,{color:Y.tag_color,children:We}),disabled:Se}})}),(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(Oe.Z,{onClick:C,size:"small",children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),_e.length?(0,e.jsx)(ct.Z,{title:g({id:"ws.result.details.keep.time.job.tag"},{data:_e[0].label}),onConfirm:A,okText:(0,e.jsx)(n._H,{id:"operation.ok"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),placement:"topRight",children:(0,e.jsx)(Oe.Z,{size:"small",type:"primary",children:(0,e.jsx)(n._H,{id:"operation.ok"})})}):(0,e.jsx)(Oe.Z,{onClick:A,size:"small",type:"primary",children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})]}):(0,e.jsxs)(de.Z,{wrap:!0,size:4,children:[!S&&(0,e.jsx)(n.Nv,{accessible:T.WsTourist()&&T.WsMemberOperateSelf(u),fallback:(0,e.jsx)(Rn.Z,{onClick:function(){return(0,re.WR)()},style:gs}),children:(0,e.jsx)(Rn.Z,{onClick:pe,style:gs})}),s.length>0?s.map(function(Y){return(0,e.jsx)(Ne.Z,{title:Y.time_keep_to?_s()(Y.time_keep_to).unix()>_s()().unix()?g({id:"ws.result.details.delete.tag"},{data:Y.time_keep_to}):g({id:"ws.result.details.deleted.today"}):null,children:(0,e.jsx)(tt.Z,{style:{margin:0},color:Y.color,children:Y.name},Y.id)})}):(0,e.jsx)("span",{style:{color:"rgba(0,0,0,0.85)"},children:"-"})]}),(0,e.jsx)(Rr,{ref:l,ws_id:y,onOk:w})]})},Ir=Fr,Pr=c(28686),Dr=c(97969),Hr=c.n(Dr),Br=function(){var t=(0,nn.CR)(),i=t.height,s=(0,Ee.UO)(),a=s.ws_id,u=(0,n.YB)();return(0,e.jsxs)(sn.Z,{style:{padding:20,height:i-50,minHeight:0,overflowX:"scroll",background:"#f5f5f5"},children:[(0,e.jsx)(oe.gN,{bottomHeight:20}),(0,e.jsx)(sn.Z.Content,{style:{background:"#fff"},children:(0,e.jsx)("div",{style:{backgroundColor:"#fff",height:i-140},children:(0,e.jsx)("div",{style:{textAlign:"center",position:"relative",top:"50%",transform:"translateY(-50%)"},children:(0,e.jsx)(de.Z,{direction:"vertical",children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)("div",{style:{display:"inline-block"},children:(0,e.jsx)("img",{alt:"icon",src:Hr()})}),(0,e.jsxs)("div",{style:{textAlign:"left",display:"inline-block",marginLeft:80},children:[(0,e.jsx)("div",{style:{color:"#000",fontSize:48,opacity:.85,fontWeight:"bold"},children:"\u62B1\u6B49\uFF0C\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\u2026"}),(0,e.jsx)("div",{style:{color:"#000",fontSize:16,opacity:.45,marginTop:20,marginBottom:20},children:"\u9875\u9762\u94FE\u63A5\u53EF\u80FD\u5DF2\u5931\u6548\u6216\u88AB\u5220\u9664"}),(0,e.jsx)(N.Z.Link,{onClick:function(){return n.m8.push(a?"/ws/".concat(a,"/test_result"):"/")},children:u.formatMessage({defaultMessage:"\u8FD4\u56DE\u9996\u9875",id:"page.500.button"})})]})]})})})})})]})},Mr=Br,dn=c(57119),Lr=c(58491),Ar=function(){var t=(0,Ee.UO)(),i=t.ws_id,s=t.share_id,a=t.id,u=(0,r.useState)(!0),p=(0,_.Z)(u,2),h=p[0],y=p[1],j=(0,r.useState)(!0),x=(0,_.Z)(j,2),S=x[0],T=x[1],f=(0,r.useState)([]),g=(0,_.Z)(f,2),b=g[0],R=g[1],m=function(){y(!h)},B=function(){var v=(0,ie.Z)((0,W.Z)().mark(function H(){var Z,K;return(0,W.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return T(!0),U.next=3,(0,Te.dy)({job_id:a,share_id:s});case 3:Z=U.sent,K=Z.data,R(K||[]),T(!1);case 7:case"end":return U.stop()}},H)}));return function(){return v.apply(this,arguments)}}();(0,r.useEffect)(function(){B()},[a]);var L=[{title:"IP",render:function(H,Z){return(0,e.jsx)("span",{children:Z.device_type?Z.ip:Z.pub_ip||"-"})}},{title:"SN",dataIndex:"sn"},{title:(0,e.jsx)(n._H,{id:"ws.result.details.provider_name"}),dataIndex:"device_type",render:function(H){return(0,e.jsx)(e.Fragment,{children:H||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.channel_type"}),dataIndex:"channel_type",render:function(H){return(0,e.jsx)(e.Fragment,{children:H||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.use_state"}),dataIndex:"state",render:function(H,Z){return(0,Tn.Ul)(H,Z,i)}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.real_state"}),dataIndex:"real_state",render:function(H,Z){return(0,Tn.Ul)(H,Z,i)}}];return b.length?(0,e.jsx)(De.Z,{spinning:S,children:(0,e.jsxs)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:[(0,e.jsxs)(ne.Z,{style:{marginBottom:16},children:[(0,e.jsxs)(ve.Z,{span:22,children:[(0,e.jsx)(dn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(N.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.test.machine.failure"})}),(0,e.jsxs)(ne.Z,{style:{padding:"4px 0 0 60px"},children:[(0,e.jsx)(N.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.failed.server"})}),Array.isArray(b)&&b.map(function(v,H){var Z=v.ip,K=v.sn,se=v.pub_ip,U=v.device_type,F=U?Z:se,k=F&&K?F+"/"+K:F||K;return(0,e.jsx)("span",{style:{marginRight:20},children:k},H)})]})]}),(0,e.jsx)(ve.Z,{span:2,style:{textAlign:"right",paddingRight:18},children:(0,e.jsx)("div",{style:{paddingTop:38,cursor:"pointer"},onClick:m,children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(N.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"#1890FF"},children:h?(0,e.jsx)(n._H,{id:"operation.expand"}):(0,e.jsx)(n._H,{id:"operation.collapse"})}),h?(0,e.jsx)(Dn.Z,{style:{color:"#1890FF"}}):(0,e.jsx)(Lr.Z,{style:{color:"#1890FF"}})]})})})]}),!h&&(0,e.jsx)(ne.Z,{style:{padding:"0 20px 16px 20px"},children:(0,e.jsx)(ve.Z,{span:24,className:xn().machineTable,children:(0,e.jsx)(Dt.Z,{columns:L,dataSource:b,pagination:!1,size:"small"})})})]})}):(0,e.jsx)(e.Fragment,{})},Nr=Ar,$r=function(t){var i=t.aliyun_is_instance_release,s=t.cluster_msg,a=t.server_occupied,u=t.provider_name,p=(0,Ee.UO)(),h=p.ws_id,y=function(x){return!!(x&&typeof x=="string"&&x.length>0)};return y(i)?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(ne.Z,{style:{marginBottom:16},children:(0,e.jsxs)(ve.Z,{span:24,children:[(0,e.jsx)(dn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsxs)(N.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:[(0,e.jsx)(n._H,{id:"aliyunServer"})," ",(0,e.jsx)(n._H,{id:"ws.result.details.instance.released"})]}),(0,e.jsx)(ne.Z,{style:{padding:"4px 0 0 60px"},children:(0,e.jsx)(N.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:i})})]})})}):y(s)?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(ne.Z,{style:{marginBottom:16},children:(0,e.jsxs)(ve.Z,{span:24,children:[(0,e.jsx)(dn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(N.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.machine.config.error"})}),(0,e.jsx)(ne.Z,{style:{padding:"4px 0 0 60px"},children:(0,e.jsx)(N.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)("a",{href:u==="cluster"?"/ws/".concat(h,"/device/cloud"):"/ws/".concat(h,"/device/group"),target:"_blank",children:s})})})]})})}):a&&!!a.length?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(ne.Z,{style:{marginBottom:16},children:(0,e.jsxs)(ve.Z,{span:24,children:[(0,e.jsx)(dn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(N.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.machine.occupied.by.job"})}),(0,e.jsxs)(ne.Z,{style:{padding:"4px 0 0 60px"},children:[(0,e.jsx)(N.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.occupy.job"})}),a.map(function(j){return(0,e.jsxs)("span",{style:{marginRight:20},onClick:function(){return setTimeout(function(){window.location.href="/ws/".concat(h,"/test_result/").concat(j.job_id)})},children:[j.job_name,"/",j.job_id]},j.job_id)})]})]})})}):(0,e.jsx)(e.Fragment,{})},Wr=$r,Kr=c(50130),Ii=c(36017),On=c(35247),Pi=c(74379),zr=c(38648),Ur=c(62298),xs=c(28991),Yr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Vr=Yr,Jr=c(27029),Gr=function(t,i){return r.createElement(Jr.Z,(0,xs.Z)((0,xs.Z)({},t),{},{ref:i,icon:Vr}))},Qr=r.forwardRef(Gr),Xr=Qr,qr=c(36986),js,Fn=(0,bt.ZP)(N.Z.Text)(js||(js=(0,jt.Z)([`
    cursor: pointer;
    font-size: 18px;
    &:hover {
        color: #1890ff
    }
`]))),un=["running","pending","pending_q"],bs=function(t){return new Promise(function(i){return setTimeout(i,t)})},ei=function(t){var i=t.state,s=t.bottomHeight,a=(0,Ee.UO)(),u=a.ws_id,p=a.id,h=(0,n.md)(),y=(0,n.YB)(),j=r.useRef(null),x=r.useRef(null),S=r.useState(),T=(0,_.Z)(S,2),f=T[0],g=T[1],b=r.useState(!1),R=(0,_.Z)(b,2),m=R[0],B=R[1],L=r.useState(!1),v=(0,_.Z)(L,2),H=v[0],Z=v[1],K=(0,nn.oM)(y.formatMessage({id:"request.copy.success"})),se=function(){var M=(0,ie.Z)((0,W.Z)().mark(function E(){var P,$,l,J,D,O;return(0,W.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return B(!0),C.next=3,(0,Te._N)({job_id:p});case 3:if(P=C.sent,$=P.data,l=P.code,B(!1),l===200){C.next=11;break}return ce.default.destroy("download_running_".concat(u,"_").concat(p)),Z(!1),C.abrupt("return");case 11:if($){C.next=13;break}return C.abrupt("return");case 13:if(J=$.state,D=$.job_url,J!=="running"){C.next=19;break}return C.next=17,bs(1500);case 17:return se(),C.abrupt("return");case 19:if(ce.default.destroy("download_running_".concat(u,"_").concat(p)),J!=="success"){C.next=26;break}return g(D),Z(!1),C.next=25,bs(300);case 25:(O=j.current)===null||O===void 0||O.click();case 26:J==="fail"&&(Z(!1),ce.default.error(y.formatMessage({id:"ws.result.details.breadcrumb.button.download.fail"})));case 27:case"end":return C.stop()}},E)}));return function(){return M.apply(this,arguments)}}(),U=function(){var M=(0,ie.Z)((0,W.Z)().mark(function E(){var P,$,l;return(0,W.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!f){D.next=3;break}return(P=j.current)===null||P===void 0||P.click(),D.abrupt("return");case 3:if(!H){D.next=5;break}return D.abrupt("return");case 5:if(m){D.next=15;break}return D.next=8,(0,Te.$Y)({job_id:p});case 8:if($=D.sent,l=$.code,l===200){D.next=12;break}return D.abrupt("return",ce.default.error(y.formatMessage({id:"ws.result.details.breadcrumb.button.download.fail"})));case 12:se(),Z(!0),ce.default.loading({key:"download_running_".concat(u,"_").concat(p),content:y.formatMessage({id:"ws.result.details.breadcrumb.button.download.running"}),duration:0});case 15:case"end":return D.stop()}},E)}));return function(){return M.apply(this,arguments)}}(),F=function(){var M=(0,ie.Z)((0,W.Z)().mark(function E(P){var $,l,J,D,O,w;return(0,W.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(J=P.target,($=J.files)!==null&&$!==void 0&&$.length){A.next=3;break}return A.abrupt("return");case 3:return A.next=5,(0,qr.$L)({job_id:p,ws_id:u,file:J==null||(l=J.files)===null||l===void 0?void 0:l[0]});case 5:if(D=A.sent,O=D.code,w=D.msg,O===200){A.next=10;break}return A.abrupt("return",ce.default.error(w));case 10:zr.default.success({top:80,duration:null,message:y.formatMessage({id:"ws.result.details.breadcrumb.button.upload.message"}),description:(0,e.jsxs)(de.Z,{children:[y.formatMessage({id:"ws.result.details.breadcrumb.button.upload.ok"}),(0,e.jsx)(N.Z.Link,{target:"_blank",href:"/ws/".concat(u,"/offline_test"),children:y.formatMessage({id:"ws.result.details.breadcrumb.button.upload.ok.view"})})]})}),x.current.value="";case 12:case"end":return A.stop()}},E)}));return function(P){return M.apply(this,arguments)}}(),k=r.useState(!1),I=(0,_.Z)(k,2),z=I[0],le=I[1],he=function(){var M=(0,ie.Z)((0,W.Z)().mark(function E(){var P,$;return(0,W.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!z){J.next=2;break}return J.abrupt("return");case 2:return le(!0),J.next=5,(0,Te.Et)({ws_id:u,job_id:p});case 5:P=J.sent,$=P.data,le(!1),K("".concat(window.location.origin,"/share/job/").concat($));case 9:case"end":return J.stop()}},E)}));return function(){return M.apply(this,arguments)}}();return(0,e.jsxs)(ne.Z,{justify:"space-between",children:[(0,e.jsxs)(On.Z,{style:{marginBottom:s},children:[(0,e.jsx)(On.Z.Item,{children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return n.m8.push("/ws/".concat(u,"/test_result"))},children:(0,e.jsx)(n._H,{id:"ws.result.details.test.result"})})}),(0,e.jsx)(On.Z.Item,{children:(0,e.jsx)(n._H,{id:"ws.result.details.result.details"})})]}),(0,e.jsx)(n.Nv,{accessible:h.IsWsSetting(),children:(0,e.jsxs)(de.Z,{size:12,children:[(0,e.jsx)(Ne.Z,{placement:"left",title:y.formatMessage({id:"ws.result.details.breadcrumb.button.fail_case_upload"}),children:(0,e.jsx)(Fn,{onClick:function(){var E;return(E=x.current)===null||E===void 0?void 0:E.click()},children:(0,e.jsx)(Ur.Z,{})})}),(0,e.jsx)(Ne.Z,{placement:"left",title:y.formatMessage({id:"ws.result.details.breadcrumb.button.share"}),children:(0,e.jsx)(Fn,{onClick:function(){return he()},children:(0,e.jsx)(Xr,{})})}),!un.includes(i)&&(0,e.jsx)(Ne.Z,{placement:"left",title:y.formatMessage({id:"ws.result.details.breadcrumb.button.download"}),children:(0,e.jsx)(Fn,{onClick:U,children:(0,e.jsx)(Ln.Z,{})})})]})}),(0,e.jsx)("a",{ref:j,href:f,target:"_blank",style:{display:"none"},rel:"noreferrer"}),(0,e.jsx)("input",{ref:x,type:"file",style:{width:0,height:0,display:"none",position:"absolute",zIndex:-9999},onChange:F,accept:"application/x-tar,application/x-gzip"})]})},Bt=function(t){var i=t.name,s=t.dataIndex,a=t.isLink,u=t.onClick,p=(0,n.Kd)()==="en-US",h=p?120:58,y=(0,Ee.UO)(),j=y.share_id;return(0,e.jsxs)(ve.Z,{span:8,style:{display:"flex",alignItems:"start"},children:[(0,e.jsx)(N.Z.Text,{className:$e().test_summary_item,style:{width:h},children:i}),!j&&a?(0,e.jsx)(N.Z.Text,{className:$e().test_summary_item_right,style:{cursor:"pointer",color:"#1890FF",width:"calc(100% - ".concat(h,"px - 16px)")},children:(0,e.jsx)("span",{onClick:u,children:s||"-"})}):(0,e.jsx)(N.Z.Text,{className:$e().test_summary_item_right,style:{width:"calc( 100% - ".concat(h,"px - 16px)")},children:s||"-"})]})},ti=function(t){var i=(0,n.md)(),s=t.creator_id,a=t.note,u=t.refresh,p=(0,Ee.UO)(),h=p.id,y=p.share_id,j=!!y,x=r.useRef(),S=function(){var g;(g=x.current)===null||g===void 0||g.show({editor_obj:"job",job_id:h,note:a})},T={paddingTop:5,marginRight:10};return(0,e.jsxs)(e.Fragment,{children:[!j&&(0,e.jsx)(n.Nv,{accessible:i.WsMemberOperateSelf(s),children:(0,e.jsx)(Rn.Z,{onClick:S,style:(0,d.Z)({},T)})}),(0,e.jsx)(Yt,{ref:x,onOk:u})]})},ni={wordBreak:"break-all",whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2},si=function(t){var i,s=(0,n.YB)(),a=s.formatMessage,u=(0,n.Kd)()==="en-US",p=u?120:58,h=(0,Ee.UO)(),y=h.ws_id,j=h.id,x=h.share_id,S=(0,Ee.TH)(),T=S.pathname,f=S.query,g=!!x,b=(0,n.md)(),R=(0,r.useRef)(),m=(0,r.useRef)(),B=r.useState(!1),L=(0,_.Z)(B,2),v=L[0],H=L[1],Z=r.useState(!1),K=(0,_.Z)(Z,2),se=K[0],U=K[1],F=(0,r.useRef)(null),k=(0,r.useRef)(null),I=(0,n.tT)("@@initialState"),z=I.initialState,le=r.useState(!0),he=(0,_.Z)(le,2),M=he[0],E=he[1],P=r.useState({}),$=(0,_.Z)(P,2),l=$[0],J=$[1],D=(0,r.useState)(f!=null&&f.tab?+f.tab:1),O=(0,_.Z)(D,2),w=O[0],C=O[1],A=r.useRef(null),pe=function(){var ye=(0,ie.Z)((0,W.Z)().mark(function xe(){var V,q,te,G,X;return(0,W.Z)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return E(!0),Me.next=3,(0,Te.xO)({job_id:j,ws_id:y,share_id:x});case 3:if(V=Me.sent,q=V.data,te=V.code,E(!1),!(te!==200||Object.prototype.toString.call(q)!=="[object Array]"||q.length===0)){Me.next=9;break}return Me.abrupt("return",J({}));case 9:if(G=(0,_.Z)(q,1),X=G[0],X){Me.next=12;break}return Me.abrupt("return",J({}));case 12:(X==null?void 0:X.state)==="running"&&C(2),J(X),setTimeout(function(){document.title="#".concat(X==null?void 0:X.id," ").concat(X==null?void 0:X.name," - T-One")},300);case 15:case"end":return Me.stop()}},xe)}));return function(){return ye.apply(this,arguments)}}();r.useEffect(function(){return pe(),function(){A.current&&clearTimeout(A.current),J({})}},[]);var Ze=function(){var ye=(0,ie.Z)((0,W.Z)().mark(function xe(){var V,q,te,G;return(0,W.Z)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(V=l.state,un.includes(V)){me.next=3;break}return me.abrupt("return");case 3:return me.next=5,(0,ft.Rg)({job_id:j,ws_id:y,share_id:x});case 5:if(q=me.sent,te=q.data.job_state,G=q.code,G===200){me.next=10;break}return me.abrupt("return");case 10:un.includes(te)&&(A.current=setTimeout(Ze,3e4)),J(function(Me){return(0,d.Z)((0,d.Z)({},Me),{},{state:te})});case 12:case"end":return me.stop()}},xe)}));return function(){return ye.apply(this,arguments)}}();r.useEffect(function(){var ye=l.state;A.current&&setTimeout(A.current),ye&&Ze()},[l==null?void 0:l.state]);var ae=function(xe){C(xe),n.m8.replace("".concat(T,"?tab=").concat(xe))},fe=function(){ce.default.success(a({id:"operation.success"})),pe()},_e=function(){return(0,on.isNull)(l==null?void 0:l.baseline_job_id)?l==null?void 0:l.baseline_name:(0,e.jsxs)("a",{href:"/ws/".concat(y,"/test_result/").concat(l==null?void 0:l.baseline_job_id),children:["# ",l==null?void 0:l.baseline_job_id]})},Y=function(){var ye=(0,ie.Z)((0,W.Z)().mark(function xe(){var V,q,te;return(0,W.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(l.collection){X.next=6;break}return X.next=3,(0,ft.dN)({job_id:j});case 3:X.t0=X.sent,X.next=9;break;case 6:return X.next=8,(0,ft.pi)({job_id:j});case 8:X.t0=X.sent;case 9:if(V=X.t0,q=V.msg,te=V.code,te===200){X.next=14;break}return X.abrupt("return",(0,re.EV)(te,q));case 14:J(function(me){return(0,d.Z)((0,d.Z)({},me),{},{collection:!me.collection})});case 15:case"end":return X.stop()}},xe)}));return function(){return ye.apply(this,arguments)}}(),ue=function(){var ye=(0,ie.Z)((0,W.Z)().mark(function xe(){var V,q,te,G,X,me;return(0,W.Z)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!v){Ie.next=2;break}return Ie.abrupt("return");case 2:return H(!0),V=z==null?void 0:z.authList,q=V.user_id,te=q?{user_id:q}:{},Ie.next=7,(0,Te.Xc)((0,d.Z)((0,d.Z)({},te),{},{editor_obj:"job",job_id:j,state:"stop"}));case 7:if(G=Ie.sent,X=G.code,me=G.msg,X===200){Ie.next=14;break}return(0,re.EV)(X,me),H(!1),Ie.abrupt("return");case 14:ce.default.success(a({id:"operation.success"})),pe(),w===1&&U(!se),w===2&&m.current.refresh(),H(!1);case 19:case"end":return Ie.stop()}},xe)}));return function(){return ye.apply(this,arguments)}}(),Se=function(){R.current.show(l)},We=l!=null&&(i=l.report_li)!==null&&i!==void 0&&i.length?"default":"primary",Ae=(l==null?void 0:l.created_from)==="offline",Ke=function(xe){return new Map([["\u5185\u7F51\u673A\u5668",a({id:"aligroupServer"})],["\u4E91\u4E0A\u673A\u5668",a({id:"aliyunServer"})],["aligroup",a({id:"aligroupServer"})],["aliyun",a({id:"aliyunServer"})]]).get(xe)},Ue=function(xe){return new Map([["\u5185\u7F51\u673A\u5668","aligroup"],["\u4E91\u4E0A\u673A\u5668","aliyun"],["aligroup","aligroup"],["aliyun","aliyun"]]).get(xe)},yt=[[1,"testResult",(0,e.jsx)(Ta,{creator:l.creator,test_type:l.test_type,cases:l.case_result,caseResult:l.case_result,provider_name:Ue(l.provider_name),refreshResult:se},"testResult")],[2,"testProgress",(0,e.jsx)(nr,{job_id:j,onRef:m,test_type:l==null?void 0:l.test_type,provider_name:Ue(l==null?void 0:l.provider_name)},"testProgress")],[3,"testConfig",(0,e.jsx)(Cr,{jt_id:l==null?void 0:l.job_type_id,provider_name:Ue(l==null?void 0:l.provider_name),test_type:l==null?void 0:l.test_type},"testConfig")]];return(0,e.jsxs)(De.Z,{spinning:M,className:$e().spin_style,children:[JSON.stringify(l)==="{}"?(0,e.jsx)(Mr,{}):(0,e.jsxs)("div",{style:{background:"#F5F5F5",width:"100%",overflowX:"hidden",overflowY:"auto"},children:[(0,e.jsxs)("div",{style:{minHeight:270,marginBottom:10,background:"#fff",padding:20},children:[!g&&(0,e.jsx)(ei,(0,d.Z)({bottomHeight:4},l)),(0,e.jsxs)("div",{style:{paddingLeft:20,position:"relative"},children:[(0,e.jsx)(n.Nv,{accessible:!g&&b.WsTourist(),children:l!=null&&l.collection?(0,e.jsx)(Xe.Z,{style:{color:"#F7B500"},className:$e().detail_collection,onClick:Y}):(0,e.jsx)(Ge.Z,{style:{color:"#4F4F4F"},className:$e().detail_collection,onClick:Y})}),(0,e.jsxs)(ne.Z,{className:$e().test_result_name,align:"middle",children:["#".concat(l==null?void 0:l.id," ").concat(l==null?void 0:l.name),(l==null?void 0:l.created_from)==="offline"&&(0,e.jsx)("span",{className:$e().offline_flag,children:(0,e.jsx)(n._H,{id:"ws.result.list.offline"})})]}),(0,e.jsxs)(ne.Z,{children:[(0,e.jsxs)(ve.Z,{span:17,children:[(0,e.jsx)(ne.Z,{style:{marginBottom:(l==null?void 0:l.state)!=="pending"||(0,on.isNull)(l==null?void 0:l.pending_state_desc)?26:0},children:(0,e.jsxs)(de.Z,{children:[(0,e.jsx)(oe.iK,{state:l==null?void 0:l.state}),(l==null?void 0:l.provider_name)&&(0,e.jsx)(Ne.Z,{title:a({id:"ws.result.details.provider_name"}),placement:"bottom",children:(0,e.jsx)(tt.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:Ke(l==null?void 0:l.provider_name)})}),(l==null?void 0:l.test_type)&&(0,e.jsx)(Ne.Z,{title:a({id:"ws.result.details.test_type"}),placement:"bottom",children:(0,e.jsx)(tt.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:(0,e.jsx)(n._H,{id:"".concat((0,re.SE)(l==null?void 0:l.test_type),".test"),defaultMessage:l==null?void 0:l.test_type})})}),(l==null?void 0:l.job_type)&&(0,e.jsx)(Ne.Z,{title:a({id:"ws.result.details.job_type"}),placement:"bottom",children:(0,e.jsx)(tt.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:l==null?void 0:l.job_type})})]})}),(l==null?void 0:l.state)==="pending"&&(l==null?void 0:l.pending_state_desc)&&(0,e.jsx)(ne.Z,{style:{marginBottom:26,marginTop:6},children:(0,e.jsx)(Ye.Z,{message:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:l==null?void 0:l.pending_state_desc.replace(/(\d+)/g,'<a href="/ws/'.concat(y,'/test_result/$1" target="_blank">$1</a>'))}}),type:"warning",showIcon:!0,closable:!0,style:{height:30,color:"rgba(0,0,0,0.65)",fontSize:12}})}),(0,e.jsxs)(ne.Z,{className:$e().test_summary_row,children:[(0,e.jsx)(Bt,{name:a({id:"ws.result.details.creator_name"}),dataIndex:l==null?void 0:l.creator_name}),(0,e.jsx)(Bt,{name:a({id:"ws.result.details.gmt_created"}),dataIndex:l==null?void 0:l.gmt_created}),(0,e.jsx)(Bt,{name:a({id:"ws.result.details.finish_time"}),dataIndex:l==null?void 0:l.end_time})]}),(0,e.jsxs)(ne.Z,{className:$e().test_summary_row,children:[(0,e.jsx)(Bt,{name:a({id:"ws.result.details.project_name"}),dataIndex:l==null?void 0:l.project_name}),(0,e.jsx)(Bt,{name:(0,on.isNull)(l==null?void 0:l.baseline_job_id)?a({id:"ws.result.details.baseline_test"}):a({id:"ws.result.details.baseline_job"}),dataIndex:_e()}),(0,e.jsx)(ve.Z,{span:8,children:(0,e.jsxs)(ne.Z,{children:[(0,e.jsx)(N.Z.Text,{className:$e().test_summary_item,style:{width:p},children:(0,e.jsx)(n._H,{id:"ws.result.details.produce.version"})}),(0,e.jsx)(N.Z.Text,{className:$e().test_summary_item_right_unellipsis,style:{width:"calc( 100% - ".concat(p,"px - 16px)")},children:(l==null?void 0:l.product_version)||"-"})]})})]}),(l==null?void 0:l.plan_instance_name)&&(l==null?void 0:l.plan_instance_id)&&(0,e.jsx)(ne.Z,{className:$e().test_summary_row,children:(0,e.jsx)(Bt,{name:a({id:"ws.result.details.plan_instance_name"}),dataIndex:l==null?void 0:l.plan_instance_name,isLink:!0,onClick:function(){return n.m8.push("/ws/".concat(y,"/test_plan/view/detail/").concat(l==null?void 0:l.plan_instance_id))}})}),(0,e.jsxs)(ne.Z,{className:$e().test_summary_row,children:[(0,e.jsx)(N.Z.Text,{className:$e().test_summary_item,style:{width:p},children:(0,e.jsx)(n._H,{id:"ws.result.details.job.tag"})}),(0,e.jsx)(Ir,{width:p+16,onOk:fe,tags:l==null?void 0:l.tags,creator_id:l==null?void 0:l.creator})]}),(0,e.jsxs)(ne.Z,{style:{position:"relative"},children:[(0,e.jsx)(N.Z.Text,{className:$e().test_summary_item,style:{width:p},children:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"})}),(0,e.jsx)(ti,{note:l==null?void 0:l.note,creator_id:l==null?void 0:l.creator,refresh:pe}),(0,e.jsx)("div",{style:(0,d.Z)((0,d.Z)({},ni),{},{width:"calc(100% - ".concat(p,"px - 60px)")}),children:l!=null&&l.note?(0,e.jsx)(Ne.Z,{title:(0,e.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:l==null?void 0:l.note}),placement:"topLeft",overlayStyle:{minWidth:800},children:l==null?void 0:l.note}):(0,e.jsx)("span",{children:"-"})})]})]}),(0,e.jsx)(ve.Z,{span:7,style:{position:"relative"},children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"fix-end",width:"100%"},children:(0,e.jsx)(Ft,{test_type:l.test_type,data:l.case_result,plan:l.plan_instance_name&&l.plan_instance_id})})})]})]})]}),!g&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Nr,{}),(0,e.jsx)(Wr,(0,d.Z)({},l))]}),(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsx)(we.Z,{defaultActiveKey:w,onTabClick:ae,className:$e().result_tab_nav,tabBarExtraContent:!g&&(0,e.jsxs)("div",{style:{display:"flex",marginRight:12},children:[(0,e.jsx)(Pr.Z,{viewAllReport:F,dreType:"bottomRight",jobInfo:l,origin:"jobDetail",stylesButton:k.current}),(0,e.jsx)(n.Nv,{accessible:b.IsWsSetting(),children:(0,e.jsx)(Oe.Z,{type:We,onClick:Se,disabled:Ae,style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.rerun"})})}),(0,e.jsx)(n.Nv,{accessible:b.WsMemberOperateSelf(l==null?void 0:l.creator),children:un.includes(l==null?void 0:l.state)&&(0,e.jsx)(ct.Z,{placement:"topRight",title:a({id:"ws.result.details.job.confirm.stop",defaultMessage:"\u786E\u5B9A\u8981\u505C\u6B62job\u5417\uFF1F"}),onConfirm:ue,children:(0,e.jsx)(Oe.Z,{style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.stop"})})})})]}),items:yt.map(function(ye){return{key:ye==null?void 0:ye[0],label:a({id:"ws.result.details.tab.".concat(ye==null?void 0:ye[1])}),children:ye==null?void 0:ye[2],disabled:(ye==null?void 0:ye[0])===2&&(l==null?void 0:l.created_from)==="offline"}})})})]}),(0,e.jsx)(Kr.Z,{ref:R})]})},ai=si},36986:function(Je,ut,c){"use strict";c.d(ut,{ST:function(){return we},qc:function(){return ct},hu:function(){return Oe},$L:function(){return ve}});var be=c(39428),De=c(3182),ze=c(16917);function we(ne){return vt.apply(this,arguments)}function vt(){return vt=(0,De.Z)((0,be.Z)().mark(function ne(ke){return(0,be.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,ze.WY)("/api/user/summary",{method:"GET",params:ke}));case 1:case"end":return d.stop()}},ne)})),vt.apply(this,arguments)}function ct(ne){return ot.apply(this,arguments)}function ot(){return ot=(0,De.Z)((0,be.Z)().mark(function ne(ke){return(0,be.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,ze.WY)("/api/job/test/upload/offline/",{method:"GET",params:ke}));case 1:case"end":return d.stop()}},ne)})),ot.apply(this,arguments)}function Oe(ne){return st.apply(this,arguments)}function st(){return st=(0,De.Z)((0,be.Z)().mark(function ne(ke){return(0,be.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,ze.WY)("/api/job/test/upload/offline/",{method:"DELETE",data:ke}));case 1:case"end":return d.stop()}},ne)})),st.apply(this,arguments)}function ve(){return Be.apply(this,arguments)}function Be(){return Be=(0,De.Z)((0,be.Z)().mark(function ne(){var ke,ce,d=arguments;return(0,be.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ke=d.length>0&&d[0]!==void 0?d[0]:{},ce=new FormData,Object.keys(ke).forEach(function(_){ke[_]&&ce.append(_,ke[_])}),ie.abrupt("return",(0,ze.WY)("/api/job/test/upload/offline/",{method:"post",data:ce}));case 4:case"end":return ie.stop()}},ne)})),Be.apply(this,arguments)}function N(){return Le.apply(this,arguments)}function Le(){return Le=_asyncToGenerator(_regeneratorRuntime().mark(function ne(){return _regeneratorRuntime().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.abrupt("return",request("/api/product_list",{method:"GET"}));case 1:case"end":return ce.stop()}},ne)})),Le.apply(this,arguments)}function Ye(){return et.apply(this,arguments)}function et(){return et=_asyncToGenerator(_regeneratorRuntime().mark(function ne(){var ke,ce,d,W,ie=arguments;return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return ke=ie.length>0&&ie[0]!==void 0?ie[0]:{},ce=ke.parentId,d=ke.searchKeyword,W=d?"/api/project_list/".concat(ce,"/").concat(d):"/api/project_list/".concat(ce),r.abrupt("return",request(W,{method:"GET"}));case 4:case"end":return r.stop()}},ne)})),et.apply(this,arguments)}function de(){return at.apply(this,arguments)}function at(){return at=_asyncToGenerator(_regeneratorRuntime().mark(function ne(){var ke,ce,d,W,ie,_,r=arguments;return _regeneratorRuntime().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return ke=r.length>0&&r[0]!==void 0?r[0]:{},ce=ke.page,d=ke.pageSize,W=ke.parentId,ie=ke.searchKeyword,_=ie?"/api/baseline/".concat(ie,"/").concat(W,"/").concat(ce,"/").concat(d):"/api/baseline/".concat(W,"/").concat(ce,"/").concat(d),$e.abrupt("return",request(_,{method:"GET"}));case 4:case"end":return $e.stop()}},ne)})),at.apply(this,arguments)}function Ne(){return xt.apply(this,arguments)}function xt(){return xt=_asyncToGenerator(_regeneratorRuntime().mark(function ne(){var ke,ce,d,W,ie,_=arguments;return _regeneratorRuntime().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:return ke=_.length>0&&_[0]!==void 0?_[0]:{},ce=ke.searchKeyword,d=ke.page,W=ke.pageSize,ie=ce?"/api/biz_list/".concat(ce,"/").concat(d,"/").concat(W):"/api/biz_list/".concat(d,"/").concat(W),ht.abrupt("return",request(ie,{method:"GET"}));case 4:case"end":return ht.stop()}},ne)})),xt.apply(this,arguments)}function tt(){return pt.apply(this,arguments)}function pt(){return pt=_asyncToGenerator(_regeneratorRuntime().mark(function ne(){var ke,ce,d=arguments;return _regeneratorRuntime().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ke=d.length>0&&d[0]!==void 0?d[0]:{},ce=new FormData,Object.keys(ke).forEach(function(_){ce.append(_,ke[_])}),ie.abrupt("return",request("/api/job/test/upload/tar/",{method:"post",data:ce}));case 4:case"end":return ie.stop()}},ne)})),pt.apply(this,arguments)}},54732:function(Je,ut,c){"use strict";c.d(ut,{r:function(){return Oe}});var be=c(67294),De,ze=["svgRef","title"];function we(){return we=Object.assign?Object.assign.bind():function(ve){for(var Be=1;Be<arguments.length;Be++){var N=arguments[Be];for(var Le in N)Object.prototype.hasOwnProperty.call(N,Le)&&(ve[Le]=N[Le])}return ve},we.apply(this,arguments)}function vt(ve,Be){if(ve==null)return{};var N=ct(ve,Be),Le,Ye;if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(ve);for(Ye=0;Ye<et.length;Ye++)Le=et[Ye],!(Be.indexOf(Le)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ve,Le)||(N[Le]=ve[Le]))}return N}function ct(ve,Be){if(ve==null)return{};var N={},Le=Object.keys(ve),Ye,et;for(et=0;et<Le.length;et++)Ye=Le[et],!(Be.indexOf(Ye)>=0)&&(N[Ye]=ve[Ye]);return N}var ot=function(Be){var N=Be.svgRef,Le=Be.title,Ye=vt(Be,ze);return be.createElement("svg",we({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:N},Ye),Le?be.createElement("title",null,Le):null,De||(De=be.createElement("g",{id:"\\u5BF9\\u6BD4",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},be.createElement("g",{id:"13.\\u5BF9\\u6BD4\\u7ED3\\u679C",transform:"translate(-399.000000, -706.000000)",fill:"#000000",fillRule:"nonzero"},be.createElement("g",{id:"Group-42",transform:"translate(0.000000, 534.000000)"},be.createElement("g",{id:"Group-41",transform:"translate(0.000000, 107.000000)"},be.createElement("g",{id:"Group-22",transform:"translate(20.000000, 1.000000)"},be.createElement("g",{id:"Group",transform:"translate(377.000000, 59.000000)"},be.createElement("g",{id:"\\u94FE\\u63A5",transform:"translate(0.000000, 3.000000)"},be.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),be.createElement("path",{d:"M11.91,7.92 C11.7153722,8.09503346 11.4186893,8.09033311 11.2297039,7.90922206 C11.0407184,7.72811102 11.0234032,7.43189657 11.19,7.23 L12.06,6.32 C12.709515,5.51696592 12.6264975,4.34816777 11.87,3.645 C11.115,2.86 10,2.79 9.37,3.45 L6.94,6 C6.29048502,6.80303408 6.37350246,7.97183223 7.13,8.675 C7.3238618,8.87001873 7.3238618,9.18498127 7.13,9.38 C7.0361167,9.47465633 6.90831877,9.52789916 6.775,9.52789916 C6.64168123,9.52789916 6.5138833,9.47465633 6.42,9.38 C5.29380253,8.29148422 5.21051969,6.51405308 6.23,5.325 L8.66,2.79 C9.705,1.7 11.48,1.79 12.61,2.99 C13.7040886,4.07696429 13.7802373,5.82185565 12.785,7 L11.91,7.92 Z M3.59,8.08 C3.78462784,7.90496654 4.0813107,7.90966689 4.27029614,8.09077794 C4.45928159,8.27188898 4.47659677,8.56810343 4.31,8.77 L3.44,9.68 C2.79048502,10.4830341 2.87350246,11.6518322 3.63,12.355 C4.385,13.14 5.5,13.21 6.13,12.55 L8.56,10 C9.20951498,9.19696592 9.12649754,8.02816777 8.37,7.325 C8.1761382,7.12998127 8.1761382,6.81501873 8.37,6.62 C8.4638833,6.52534367 8.59168123,6.47210084 8.725,6.47210084 C8.85831877,6.47210084 8.9861167,6.52534367 9.08,6.62 C10.2061975,7.70851578 10.2894803,9.48594692 9.27,10.675 L6.84,13.21 C5.795,14.3 4.02,14.21 2.89,13.01 C1.79591137,11.9230357 1.71976275,10.1781444 2.715,9 L3.59,8.08 Z",id:"Shape"}))))))))))},Oe=be.forwardRef(function(ve,Be){return be.createElement(ot,we({svgRef:Be},ve))}),st=c.p+"static/icon_link.0476abd6.svg"},97969:function(Je,ut,c){Je.exports=c.p+"static/loss.14b90aa5.png"},34528:function(Je){Je.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABUlJREFUWAnVmT1yHDcQhRvAzO7yR1U2HbGKsUPzCsxUOoIPYGVWyBs4YSiXE/kAOoJSXcE+A8uM7Mgkd2d3Bv5eA6Ak+wCEUYttoAcYPDw0enowwUjXf15fzPu/b1JYrkZbzqNlW4W9Sa7DglxsEw+WkNKnkO3YilxHJPqTKjeS9DnluvoP02RxzhbuZwuHxdLDbEY9Pe4tSL9Fr/rDwfVxWrxu24OFhf77cGfz8jHldB3ePN4OPwL2cZp+G4KdWQ4MHkw/umkuyJK4NcMLglnmbwm6TkEKihL/SWrYEoOXzii4qe6mbODXBFrySait2pDzPJ9T/j7vdy/z26PLYX+INxbGs8zNI8wFgxHaRxud2cSdEqVdhh2Vw+B3OjCYJrcwIt34j9SEqUApANBoxoDSNb8yoxCgPQpIjdQDOe5KO2MVNAEW0gHHic6owrSc2fbxZpgtXelGS4iMtlTmyj0NncZTEnz1FCEixpxhALMqkbJUrW1rUhqqRvJlKUVvrcZ00rJ7R64Hb6M6ZdfXa2pb2l8Nkw3nDOkDRtYg5PDhaLV6/dM3N7fl9s/zz/JfzNP+HTb9ysFqRRY7jzAMq9o2JRtgb54ZrCjSBkur8bWDbQwj4z4e2aQc1ljvyn7uAGxbU4F2Wxe71eYHOS1tCN9SbpeteSfyM3bF9jCFYwCz2aJ8ga52luQ9BAuPoo0mL+EcF6fVGVjB+TfDu7hxhof8f2E4Djwo8K/4QAyjP4rl+DGFxvSwJSrwZz6PmuL+O8P8uQ3Dp9vw4gHOyEOjY4bbptvFU2f2sEx9MrytJiE/LC9R/HAmUINhhUe9JdmwYCkL8EN84cymTHzq1t0Z4vsC9AmwwnIBbeFfZ3CfmPUwUQxvK8NT0/SG+LEyrE1HGhb8sOLQZstF3dF/3WxurWL43k4cXerRfoWsMVz9AV5Crzy6AvweQTe3ViGGsNO7SK0h8jo5/KJ7/v88fsnikJeGr8nnB/kFgoPeJT+lYXwoFb35Kk1FdPOf118XS/V3fs4pQnUXDriC7gatgMSRP4DpjRqQQ6q7sFfAefNVAbzwjAbzEPyggYnUaEiT6io1hgmChXgY27O6MN4VVoHJazGME555gmAWg8puDi2y7w1ywoYVp0OogD/ZcGqPwM4A59ULB2qHyrB7CZlDY7ozwNYY1gklTA+81DnYjEn0GL/nEYYFjnNnB9yiyn69BLFOxkMsmABBz5BqcOE2LF1nKa9OAcsZtJvGjB8WSNlvpyZhxOs6p7alPJI/2TB1d2+dMWyJeB0bzhwJFxuuDHNQ7Ez3hteS2BUqAWbvBU5WlIeav3ubL3oBnV/9epGHY8vjMUg3nmOU/das8m6ydz2AFthpPrzTw9jZTTCceP/89pf8ByZyLjcn4JGAWHKgrgmskAl5VOtHXPe6VgT9CdGeS7wN5152ynWXO3Y0a3lsD3x5OthxvGdRZ773FXnCWV5ip6+NOgOu4pbwhuv+fXDmeyBfs/QoZvl1fm17Bsz5Tm0+CpjbCVJl5cZ6kt3UrLI/05FPelSKo7Rhn0JUtSNVQakc0ZS6Wpej8/JyptdfjiP5GiV92UqCGCgXnfTadCHGjwOWcb3f20smdCaQ8scaeIXXECgxLUbHyvBGerVrkhE0Qf+GpyHpo9ySjmiUdWCu4bXEqh8chN5wdC6t/mtA62sfx2a0ltS09nzGkExj+GuV0nX8/U24HRe7BOR78h3tCrsakbIzSdFBCUjN0gu4J8oC6W+Fuv6UXFNrKhemSzftekGRDkk/6QVVuiJhP4Q7pvF+k9Jl+PDD7T9Qqao1PwZEZwAAAABJRU5ErkJggg=="}}]);
