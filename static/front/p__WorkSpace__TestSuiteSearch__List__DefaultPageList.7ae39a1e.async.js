(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[7274],{64601:function($){$.exports={DefaultPageList_root:"DefaultPageList_root___2Dd4K",ChildTable_root:"ChildTable_root___3Qy8t","click-a-text":"click-a-text___3ApE6",enterOutlined:"enterOutlined___3t7Wz",ellipsis:"ellipsis___2zZHb",safety:"safety___2WpBr",expand_all_btn:"expand_all_btn___1SJEW"}},10723:function($){$.exports={TestSuiteDefault_wrapper:"TestSuiteDefault_wrapper___29lcd",content:"content___3yKqZ",content_search:"content_search___3ULXk",initialPage:"initialPage___X8A8H",headerInfo:"headerInfo___3uqmW",define_backTop:"define_backTop___rrTNv",backTop_icon:"backTop_icon___WThkT"}},22976:function($,H,t){"use strict";t.r(H),t.d(H,{default:function(){return be}});var l=t(49111),j=t(19650),h=t(39428),D=t(3182),Z=t(2824),le=t(47673),ae=t(4107),i=t(67294),L=t(16917),p=t(20009),g=t(76570),x=t(58491),s=t(66456),n=t(79764),a=t(11849),T=t(34792),e=t(48086),re=t(44378),P=t(68002),ue=t(57254),fe,X=["svgRef","title"];function ce(){return ce=Object.assign?Object.assign.bind():function(c){for(var o=1;o<arguments.length;o++){var y=arguments[o];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(c[u]=y[u])}return c},ce.apply(this,arguments)}function _e(c,o){if(c==null)return{};var y=Se(c,o),u,S;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(c);for(S=0;S<w.length;S++)u=w[S],!(o.indexOf(u)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,u)||(y[u]=c[u]))}return y}function Se(c,o){if(c==null)return{};var y={},u=Object.keys(c),S,w;for(w=0;w<u.length;w++)S=u[w],!(o.indexOf(S)>=0)&&(y[S]=c[S]);return y}var we=function(o){var y=o.svgRef,u=o.title,S=_e(o,X);return i.createElement("svg",ce({width:"12px",height:"14px",viewBox:"0 0 12 14",ref:y},S),u?i.createElement("title",null,u):null,fe||(fe=i.createElement("g",{id:"test-suite\\u68C0\\u7D22",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"1.\\u641C\\u7D22\\u9875",transform:"translate(-869.000000, -573.000000)",fillRule:"nonzero"},i.createElement("g",{id:"Group-3",transform:"translate(371.000000, 336.000000)"},i.createElement("g",{id:"Group-2",transform:"translate(0.000000, 34.000000)"},i.createElement("g",{id:"w\\u521B\\u5EFA",transform:"translate(30.000000, 9.000000)"},i.createElement("g",{id:"\\u8BA4\\u8BC1",transform:"translate(466.000000, 193.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M7.57066667,1.20613333 L2.77066667,3.31546667 C2.38352522,3.48568842 2.13351096,3.86855543 2.13333333,4.29146667 L2.13333333,7.59733333 C2.13333333,9.62213333 3.03893333,11.4314667 4.63466667,12.6784 L7.38506667,14.6192 C7.75375749,14.8793285 8.24624251,14.8793285 8.61493333,14.6192 L11.3445333,12.6938667 C12.9610667,11.4312 13.8666667,9.62186667 13.8666667,7.59733333 L13.8666667,4.29173333 C13.8666667,3.86862857 13.6166519,3.48549966 13.2293333,3.3152 L8.42933333,1.20586667 C8.15574995,1.0855751 7.84425005,1.0855751 7.57066667,1.20586667 L7.57066667,1.20613333 Z M3.2,4.29173333 L8,2.1824 L12.8,4.29173333 L12.8,7.59733333 C12.8,9.2896 12.0488,10.7906667 10.7085333,11.8378667 L8,13.7474667 L5.2704,11.8221333 C3.9512,10.7898667 3.2,9.28906667 3.2,7.5968 L3.2,4.29173333 Z",id:"Shape",fill:"#333333",opacity:.800000012}),i.createElement("path",{d:"M10.6666667,5.6 L11.4208,6.35413333 L7.95413333,9.8208 C7.74586674,10.0290037 7.40826659,10.0290037 7.2,9.8208 L5.06666667,7.68746667 L5.8208,6.93333333 L7.57706667,8.68933333 L10.6666667,5.6 Z",id:"Path",fill:"#00B386"})))))))))},me=i.forwardRef(function(c,o){return i.createElement(we,ce({svgRef:o},c))}),Oe=t.p+"static/icon_SafetyCertificate.72202a9f.svg",ve=t(24480),Ce=t(24057),pe=t(55083),xe=t(64601),R=t.n(xe),r=t(85893),Ee=function(c){var o=(0,L.YB)(),y=o.formatMessage,u=new URL(window.location.href),S=u.pathname,w=c.ws_id,k=c.id,U=c.name,z=c.test_type,Q=(0,i.useState)(!1),J=(0,Z.Z)(Q,2),M=J[0],B=J[1],V=(0,i.useState)([]),F=(0,Z.Z)(V,2),G=F[0],q=F[1],ee=function(){var I=(0,D.Z)((0,h.Z)().mark(function _(A){var E,N,Y;return(0,h.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return B(!0),m.prev=1,m.next=4,(0,pe.z)(A);case 4:E=m.sent,N=E||{},Y=N.data,E.code===200&&Array.isArray(Y)?q(Y):(q([]),e.default.error(E.msg||y({id:"request.failed"}))),B(!1),m.next=13;break;case 10:m.prev=10,m.t0=m.catch(1),B(!1);case 13:case"end":return m.stop()}},_,null,[[1,10]])}));return function(A){return I.apply(this,arguments)}}();(0,i.useEffect)(function(){ee({test_type:z,ws_id:w,suite_id:k})},[k]);var K=[{dataIndex:"name",render:function(_){return(0,r.jsx)("span",{className:R()["click-a-text"],children:_})}},{dataIndex:"certificated",width:70,render:function(_){return(0,r.jsx)("span",{children:_?(0,r.jsxs)("span",{className:R().safety,children:[(0,r.jsx)(me,{style:{marginRight:4}}),(0,r.jsx)(L._H,{id:"test.suite.authentication"})]}):null})}},{dataIndex:"add_state",width:80,render:function(_){return(0,r.jsx)("span",{className:R().ellipsis,children:(0,ve.IA)(_,y)})}},{align:"right",dataIndex:"case_count",width:50,render:function(_){return(0,r.jsx)("span",{className:R().ellipsis,children:_==="\u5DF2\u6DFB\u52A0"?(0,r.jsx)(L._H,{id:"added"}):_})}}];return(0,r.jsx)("div",{className:R().ChildTable_root,children:(0,r.jsx)(n.Z,{showHeader:!1,size:"small",rowKey:"id",loading:M,columns:K,dataSource:G,onRow:function(_){return{onClick:function(){var E=document.createElement("a");E.target="_blank",E.rel="noopener noreferrer",E.href="".concat(S,"/conf_Details?suite_id=").concat(k,"&case_id=").concat(_.id,"&suite_name=").concat(encodeURIComponent(U),"&conf_name=").concat(encodeURIComponent(_.name)),E.click()}}},expandable:{expandIcon:function(){return(0,r.jsx)(Ce.r,{className:R().enterOutlined})}},pagination:!1})})},je=function(o){var y=(0,L.YB)(),u=y.formatMessage,S=new URL(window.location.href),w=S.pathname,k=o.type,U=o.ws_id,z=(0,i.useState)(!1),Q=(0,Z.Z)(z,2),J=Q[0],M=Q[1],B=(0,i.useState)([]),V=(0,Z.Z)(B,2),F=V[0],G=V[1],q=(0,i.useState)(!1),ee=(0,Z.Z)(q,2),K=ee[0],I=ee[1],_=(0,i.useState)([]),A=(0,Z.Z)(_,2),E=A[0],N=A[1],Y=(0,i.useState)(!1),se=(0,Z.Z)(Y,2),m=se[0],b=se[1],te=function(){var d=(0,D.Z)((0,h.Z)().mark(function f(C){var O,ne;return(0,h.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,M(!0),v.next=4,(0,pe.z)(C);case 4:if(v.t0=v.sent,v.t0){v.next=7;break}v.t0={};case 7:O=v.t0,ne=O.data,O.code===200&&Array.isArray(ne)?G(ne):O.code!==200&&(G([]),e.default.error(O.msg||u({id:"request.failed"}))),M(!1),v.next=16;break;case 13:v.prev=13,v.t1=v.catch(0),M(!1);case 16:case"end":return v.stop()}},f,null,[[0,13]])}));return function(C){return d.apply(this,arguments)}}();(0,i.useEffect)(function(){k&&(te({test_type:k,ws_id:U}),N([]),b(!1))},[k]);var ie=function(f,C){N(f?E.concat([C.id]):E.filter(function(O){return O!==C.id}))},oe=function(f){var C=document.createElement("a");C.target="_blank",C.rel="noopener noreferrer",C.href="".concat(w,"/suite_Details?suite_id=").concat(f.id,"&suite_name=").concat(encodeURIComponent(f.name)),C.click()},de=function(){b(!0)},ge=[{dataIndex:"name",render:function(f,C){return(0,r.jsx)("span",{className:R()["click-a-text"],onClick:function(){return oe(C)},children:f})}},{dataIndex:"certificated",width:70,render:function(f){return(0,r.jsx)("span",{children:f?(0,r.jsxs)("span",{className:R().safety,children:[(0,r.jsx)(me,{style:{marginRight:4}}),(0,r.jsx)(L._H,{id:"test.suite.authentication"})]}):null})}},{dataIndex:"add_state",width:80,render:function(f){return(0,r.jsx)("span",{className:R().ellipsis,children:(0,ve.IA)(f,u)})}},{align:"right",dataIndex:"case_count",width:50,render:function(f){return(0,r.jsx)("span",{className:R().ellipsis,children:f})}}];return(0,r.jsxs)("div",{className:R().DefaultPageList_root,children:[(0,r.jsx)(n.Z,{showHeader:!1,size:"small",columns:ge,rowKey:"id",dataSource:m?F:F.slice(0,20),pagination:!1,loading:J,expandable:{defaultExpandAllRows:K,expandedRowKeys:E,onExpand:ie,expandedRowRender:function(f,C){return(0,r.jsx)(Ee,(0,a.Z)({ws_id:U,test_type:k},f),C)},expandIcon:function(f){var C=f.expanded,O=f.onExpand,ne=f.record;return C?(0,r.jsx)(re.Z,{onClick:function(v){return O(ne,v)}}):(0,r.jsx)(P.Z,{onClick:function(v){return O(ne,v)}})}}}),!m&&F.length>20&&(0,r.jsxs)("div",{className:R().expand_all_btn,onClick:de,children:["\u5168\u90E8\u5C55\u5F00 ",(0,r.jsx)(ue.Z,{})]})]})},Ze=je,Te=t(10723),W=t.n(Te),he=t(60035),Le=ae.Z.Search,Re=function(o){var y=(0,L.YB)(),u=y.formatMessage;(0,he.jk)("Workspace.".concat(o.route.name));var S=(0,p.UO)(),w=S.ws_id,k=(0,i.useState)("performance"),U=(0,Z.Z)(k,2),z=U[0],Q=U[1],J=(0,i.useState)({performance_num:0,functional_num:0}),M=(0,Z.Z)(J,2),B=M[0],V=M[1],F=(0,i.useState)(0),G=(0,Z.Z)(F,2),q=G[0],ee=G[1],K=(0,i.useRef)(null),I=function(){var m=(0,D.Z)((0,h.Z)().mark(function b(){var te,ie,oe,de;return(0,h.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,pe.ys)({ws_id:w,total_num:!0});case 2:if(d.t0=d.sent,d.t0){d.next=5;break}d.t0={};case 5:te=d.t0,te.code===200&&te.data&&(ie=te.data||{},oe=ie.functional_num,de=ie.performance_num,V({functional_num:oe,performance_num:de}));case 7:case"end":return d.stop()}},b)}));return function(){return m.apply(this,arguments)}}();(0,i.useEffect)(function(){I()},[w]);var _=(0,he.CR)(),A=_.height,E=function(b){b&&L.m8.push({pathname:"/ws/".concat(w,"/suite_search/key"),query:{keyword:b}})},N=function(b){return function(){Q(b)}},Y=function(){var b=K.current.scrollTop;ee(b)},se=function(){K.current.scrollTo(0,0)};return(0,r.jsxs)("div",{className:W().TestSuiteDefault_wrapper,style:{minHeight:A-50},onScroll:Y,ref:K,children:[(0,r.jsxs)("div",{className:W().content,style:{minHeight:A-270},children:[(0,r.jsx)(Le,{className:W().content_search,prefix:(0,r.jsx)(g.Z,{style:{color:"#bfbfbf",marginTop:4,marginRight:8}}),placeholder:u({id:"test.suite.search.placeholder"}),allowClear:!0,enterButton:u({id:"test.suite.search"}),onSearch:E}),(0,r.jsxs)("div",{className:W().initialPage,children:[(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("div",{className:W().headerInfo,children:(0,r.jsxs)("span",{onClick:N("performance"),style:{color:z==="performance"?"#1890FF":"rgba(0, 0, 0, 0.65)",cursor:"pointer"},children:[(0,r.jsx)(L._H,{id:"performance.test"}),"(",B.performance_num,")"]})}),(0,r.jsx)("div",{className:W().headerInfo,children:(0,r.jsxs)("span",{onClick:N("functional"),style:{color:z==="functional"?"#1890FF":"rgba(0, 0, 0, 0.65)",cursor:"pointer"},children:[(0,r.jsx)(L._H,{id:"functional.test"}),"(",B.functional_num,")"]})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(Ze,{type:z,ws_id:w})})]})]}),(0,r.jsx)("div",{className:W().define_backTop,onClick:se,style:{display:q>200?"block":"none",paddingTop:7},children:(0,r.jsx)(x.Z,{className:W().backTop_icon})})]})},be=Re},55083:function($,H,t){"use strict";t.d(H,{ys:function(){return D},z:function(){return Z},w7:function(){return le},_Z:function(){return ae},qn:function(){return i},lZ:function(){return L},yn:function(){return p},hX:function(){return g},_k:function(){return x}});var l=t(39428),j=t(3182),h=t(16917),D=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/case/test_suite/retrieve/",{params:a}));case 1:case"end":return e.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),Z=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/case/test_suite/retrieve/",{method:"GET",params:a}));case 1:case"end":return e.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),le=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/case/retrieve/quantity/",{method:"GET",params:a}));case 1:case"end":return e.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),ae=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){var T,e,re,P,ue;return(0,l.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return T=a.search_key,e=a.search_type,re=a.page_num,P=a.page_size,ue=a.ws_id,X.abrupt("return",(0,h.WY)("/api/case/test_suite/retrieve/",{method:"POST",params:{page_num:re,page_size:P},data:{search_key:T,search_type:e,ws_id:ue}}));case 2:case"end":return X.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),i=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/case/test_suite/",{method:"GET",params:a}));case 1:case"end":return e.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),L=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/case/test_metric/",{method:"GET",params:a}));case 1:case"end":return e.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),p=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){var T,e;return(0,l.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return T=a.case_id,e=a.ws_id,P.abrupt("return",(0,h.WY)("/api/case/test_case/detail/".concat(T,"/"),{method:"GET",params:{retrieve:1,ws_id:e}}));case 2:case"end":return P.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),g=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/case/test_suite/retrieve/",{method:"GET",params:a}));case 1:case"end":return e.stop()}},n)}));return function(a){return s.apply(this,arguments)}}(),x=function(){var s=(0,j.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/case/test_metric/",{method:"GET",params:a}));case 1:case"end":return e.stop()}},n)}));return function(a){return s.apply(this,arguments)}}()},24057:function($,H,t){"use strict";t.d(H,{r:function(){return i}});var l=t(67294),j,h=["svgRef","title"];function D(){return D=Object.assign?Object.assign.bind():function(p){for(var g=1;g<arguments.length;g++){var x=arguments[g];for(var s in x)Object.prototype.hasOwnProperty.call(x,s)&&(p[s]=x[s])}return p},D.apply(this,arguments)}function Z(p,g){if(p==null)return{};var x=le(p,g),s,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(p);for(n=0;n<a.length;n++)s=a[n],!(g.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(p,s)||(x[s]=p[s]))}return x}function le(p,g){if(p==null)return{};var x={},s=Object.keys(p),n,a;for(a=0;a<s.length;a++)n=s[a],!(g.indexOf(n)>=0)&&(x[n]=p[n]);return x}var ae=function(g){var x=g.svgRef,s=g.title,n=Z(g,h);return l.createElement("svg",D({width:"9px",height:"10px",viewBox:"0 0 9 10",ref:x},n),s?l.createElement("title",null,s):null,j||(j=l.createElement("g",{id:"test-suite\\u68C0\\u7D22",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.createElement("g",{id:"10.conf\\u8BE6\\u60C5\\u9875-\\u65E0\\u8BF4\\u660E-\\u65E0\\u6700\\u8FD1\\u8FD0\\u884C",transform:"translate(-244.000000, -313.000000)",fillRule:"nonzero"},l.createElement("g",{id:"Group-5",transform:"translate(220.000000, 262.000000)"},l.createElement("g",{id:"\\u7BAD\\u5934",transform:"translate(20.000000, 48.000000)"},l.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),l.createElement("path",{d:"M9.02246875,6.33009375 C8.82639063,6.1345625 8.50854688,6.1345625 8.3125,6.33009375 C8.1164375,6.525625 8.1164375,6.84264063 8.3125,7.03817188 L10.3681094,9.085625 L5.03665625,9.085625 L5.03665625,3.5169375 C5.03665625,3.23189062 4.80414063,3 4.51832813,3 C4.23251563,3 4,3.23190625 4,3.5169375 L4,9.6025625 C4,9.88759375 4.23251563,10.1194844 4.51832813,10.1194844 L10.368125,10.1194844 L8.3125,12.1669219 C8.1164375,12.3624531 8.1164375,12.6794844 8.3125,12.875 C8.41053125,12.9727969 8.53898437,13.0216563 8.66748437,13.0216563 C8.79595312,13.0216563 8.92445313,12.9727656 9.02246875,12.8750156 L11.9514063,9.95659375 C12.0455176,9.86281088 12.0984531,9.73542399 12.0984531,9.6025625 C12.0984531,9.46970083 12.045499,9.34231742 11.9513906,9.24853125 L9.02246875,6.33009375 Z",id:"Path",fill:"#575757"})))))))},i=l.forwardRef(function(p,g){return l.createElement(ae,D({svgRef:g},p))}),L=t.p+"static/icon_arrow_on.dd9cd0b2.svg"}}]);
