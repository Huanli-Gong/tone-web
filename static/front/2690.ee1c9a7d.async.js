var Ti=Object.prototype.hasOwnProperty;var Si=Object.getOwnPropertySymbols,xi=Object.prototype.propertyIsEnumerable;var Te=Object.assign;var yi=(En,Ot)=>{var ge={};for(var A in En)Ti.call(En,A)&&Ot.indexOf(A)<0&&(ge[A]=En[A]);if(En!=null&&Si)for(var A of Si(En))Ot.indexOf(A)<0&&xi.call(En,A)&&(ge[A]=En[A]);return ge};(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2690],{14102:function(En,Ot,ge){"use strict";ge.d(Ot,{ML:function(){return Kt},hj:function(){return Et},vc:function(){return re},NB:function(){return Nt},DK:function(){return kn},nU:function(){return o},XP:function(){return ur},N2:function(){return br},b5:function(){return Yr},qv:function(){return Dr},u9:function(){return zr},QC:function(){return Lr},Nl:function(){return T},Jo:function(){return Kn},tI:function(){return yr},eE:function(){return un},Cf:function(){return At},K9:function(){return An},P1:function(){return we},x2:function(){return Mt},DS:function(){return Xt},zK:function(){return mt},S0:function(){return fn}});var A=ge(66961),Ne=ge(35371),Ee=ge(27781),de=ge(60052),le=ge(64520);const qe=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function je(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const me=(t,e,r)=>{let s=je(t,r);if(!s)return!1;let u=st(s);if(!u){let g=s.blockRange(),C=g&&(0,le.k9)(g);return C==null?!1:(e&&e(t.tr.lift(g,C).scrollIntoView()),!0)}let p=u.nodeBefore;if(!p.type.spec.isolating&&te(t,u,e))return!0;if(s.parent.content.size==0&&(at(p,"end")||A.qv.isSelectable(p))){let g=(0,le.dR)(t.doc,s.before(),s.after(),de.p2.empty);if(g&&g.slice.size<g.to-g.from){if(e){let C=t.tr.step(g);C.setSelection(at(p,"end")?A.Y1.findFrom(C.doc.resolve(C.mapping.map(u.pos,-1)),-1):A.qv.create(C.doc,u.pos-p.nodeSize)),e(C.scrollIntoView())}return!0}}return p.isAtom&&u.depth==s.depth-1?(e&&e(t.tr.delete(u.pos-p.nodeSize,u.pos).scrollIntoView()),!0):!1},Fe=(t,e,r)=>{let s=je(t,r);if(!s)return!1;let u=st(s);return u?Xe(t,u,e):!1},He=(t,e,r)=>{let s=Ue(t,r);if(!s)return!1;let u=Ye(s);return u?Xe(t,u,e):!1};function Xe(t,e,r){let s=e.nodeBefore,u=s,p=e.pos-1;for(;!u.isTextblock;p--){if(u.type.spec.isolating)return!1;let B=u.lastChild;if(!B)return!1;u=B}let g=e.nodeAfter,C=g,D=e.pos+1;for(;!C.isTextblock;D++){if(C.type.spec.isolating)return!1;let B=C.firstChild;if(!B)return!1;C=B}let $=replaceStep(t.doc,p,D,Slice.empty);if(!$||$.from!=p||$ instanceof ReplaceStep&&$.slice.size>=D-p)return!1;if(r){let B=t.tr.step($);B.setSelection(TextSelection.create(B.doc,p)),r(B.scrollIntoView())}return!0}function at(t,e,r=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(r&&s.childCount!=1)return!1}return!1}const dt=(t,e,r)=>{let{$head:s,empty:u}=t.selection,p=s;if(!u)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):s.parentOffset>0)return!1;p=st(s)}let g=p&&p.nodeBefore;return!g||!A.qv.isSelectable(g)?!1:(e&&e(t.tr.setSelection(A.qv.create(t.doc,p.pos-g.nodeSize)).scrollIntoView()),!0)};function st(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Ue(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const ut=(t,e,r)=>{let s=Ue(t,r);if(!s)return!1;let u=Ye(s);if(!u)return!1;let p=u.nodeAfter;if(te(t,u,e))return!0;if(s.parent.content.size==0&&(at(p,"start")||A.qv.isSelectable(p))){let g=(0,le.dR)(t.doc,s.before(),s.after(),de.p2.empty);if(g&&g.slice.size<g.to-g.from){if(e){let C=t.tr.step(g);C.setSelection(at(p,"start")?A.Y1.findFrom(C.doc.resolve(C.mapping.map(u.pos)),1):A.qv.create(C.doc,C.mapping.map(u.pos))),e(C.scrollIntoView())}return!0}}return p.isAtom&&u.depth==s.depth-1?(e&&e(t.tr.delete(u.pos,u.pos+p.nodeSize).scrollIntoView()),!0):!1},Pe=(t,e,r)=>{let{$head:s,empty:u}=t.selection,p=s;if(!u)return!1;if(s.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;p=Ye(s)}let g=p&&p.nodeAfter;return!g||!A.qv.isSelectable(g)?!1:(e&&e(t.tr.setSelection(A.qv.create(t.doc,p.pos)).scrollIntoView()),!0)};function Ye(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const We=(t,e)=>{let r=t.selection,s=r instanceof A.qv,u;if(s){if(r.node.isTextblock||!(0,le.Mn)(t.doc,r.from))return!1;u=r.from}else if(u=(0,le.GJ)(t.doc,r.from,-1),u==null)return!1;if(e){let p=t.tr.join(u);s&&p.setSelection(A.qv.create(p.doc,u-t.doc.resolve(u).nodeBefore.nodeSize)),e(p.scrollIntoView())}return!0},Rt=(t,e)=>{let r=t.selection,s;if(r instanceof A.qv){if(r.node.isTextblock||!(0,le.Mn)(t.doc,r.to))return!1;s=r.to}else if(s=(0,le.GJ)(t.doc,r.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},Bt=(t,e)=>{let{$from:r,$to:s}=t.selection,u=r.blockRange(s),p=u&&(0,le.k9)(u);return p==null?!1:(e&&e(t.tr.lift(u,p).scrollIntoView()),!0)},ve=(t,e)=>{let{$head:r,$anchor:s}=t.selection;return!r.parent.type.spec.code||!r.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Ht(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const St=(t,e)=>{let{$head:r,$anchor:s}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(s))return!1;let u=r.node(-1),p=r.indexAfter(-1),g=Ht(u.contentMatchAt(p));if(!g||!u.canReplaceWith(p,p,g))return!1;if(e){let C=r.after(),D=t.tr.replaceWith(C,C,g.createAndFill());D.setSelection(A.Y1.near(D.doc.resolve(C),1)),e(D.scrollIntoView())}return!0},on=(t,e)=>{let r=t.selection,{$from:s,$to:u}=r;if(r instanceof A.C1||s.parent.inlineContent||u.parent.inlineContent)return!1;let p=Ht(u.parent.contentMatchAt(u.indexAfter()));if(!p||!p.isTextblock)return!1;if(e){let g=(!s.parentOffset&&u.index()<u.parent.childCount?s:u).pos,C=t.tr.insert(g,p.createAndFill());C.setSelection(A.Bs.create(C.doc,g+1)),e(C.scrollIntoView())}return!0},Ge=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let p=r.before();if((0,le.Ax)(t.doc,p))return e&&e(t.tr.split(p).scrollIntoView()),!0}let s=r.blockRange(),u=s&&(0,le.k9)(s);return u==null?!1:(e&&e(t.tr.lift(s,u).scrollIntoView()),!0)};function Ke(t){return(e,r)=>{let{$from:s,$to:u}=e.selection;if(e.selection instanceof A.qv&&e.selection.node.isBlock)return!s.parentOffset||!(0,le.Ax)(e.doc,s.pos)?!1:(r&&r(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(r){let p=u.parentOffset==u.parent.content.size,g=e.tr;(e.selection instanceof A.Bs||e.selection instanceof A.C1)&&g.deleteSelection();let C=s.depth==0?null:Ht(s.node(-1).contentMatchAt(s.indexAfter(-1))),D=t&&t(u.parent,p),$=D?[D]:p&&C?[{type:C}]:void 0,B=(0,le.Ax)(g.doc,g.mapping.map(s.pos),1,$);if(!$&&!B&&(0,le.Ax)(g.doc,g.mapping.map(s.pos),1,C?[{type:C}]:void 0)&&(C&&($=[{type:C}]),B=!0),B&&(g.split(g.mapping.map(s.pos),1,$),!p&&!s.parentOffset&&s.parent.type!=C)){let G=g.mapping.map(s.before()),ee=g.doc.resolve(G);C&&s.node(-1).canReplaceWith(ee.index(),ee.index()+1,C)&&g.setNodeMarkup(g.mapping.map(s.before()),C)}r(g.scrollIntoView())}return!0}}const Be=Ke(),gt=(t,e)=>Be(t,e&&(r=>{let s=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();s&&r.ensureMarks(s),e(r)})),Ce=(t,e)=>{let{$from:r,to:s}=t.selection,u,p=r.sharedDepth(s);return p==0?!1:(u=r.before(p),e&&e(t.tr.setSelection(A.qv.create(t.doc,u))),!0)},U=(t,e)=>(e&&e(t.tr.setSelection(new A.C1(t.doc))),!0);function J(t,e,r){let s=e.nodeBefore,u=e.nodeAfter,p=e.index();return!s||!u||!s.type.compatibleContent(u.type)?!1:!s.content.size&&e.parent.canReplace(p-1,p)?(r&&r(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(p,p+1)||!(u.isTextblock||(0,le.Mn)(t.doc,e.pos))?!1:(r&&r(t.tr.clearIncompatible(e.pos,s.type,s.contentMatchAt(s.childCount)).join(e.pos).scrollIntoView()),!0)}function te(t,e,r){let s=e.nodeBefore,u=e.nodeAfter,p,g;if(s.type.spec.isolating||u.type.spec.isolating)return!1;if(J(t,e,r))return!0;let C=e.parent.canReplace(e.index(),e.index()+1);if(C&&(p=(g=s.contentMatchAt(s.childCount)).findWrapping(u.type))&&g.matchType(p[0]||u.type).validEnd){if(r){let G=e.pos+u.nodeSize,ee=de.HY.empty;for(let ct=p.length-1;ct>=0;ct--)ee=de.HY.from(p[ct].create(null,ee));ee=de.HY.from(s.copy(ee));let be=t.tr.step(new le.FC(e.pos-1,G,e.pos,G,new de.p2(ee,1,0),p.length,!0)),Qe=G+2*p.length;(0,le.Mn)(be.doc,Qe)&&be.join(Qe),r(be.scrollIntoView())}return!0}let D=A.Y1.findFrom(e,1),$=D&&D.$from.blockRange(D.$to),B=$&&(0,le.k9)($);if(B!=null&&B>=e.depth)return r&&r(t.tr.lift($,B).scrollIntoView()),!0;if(C&&at(u,"start",!0)&&at(s,"end")){let G=s,ee=[];for(;ee.push(G),!G.isTextblock;)G=G.lastChild;let be=u,Qe=1;for(;!be.isTextblock;be=be.firstChild)Qe++;if(G.canReplace(G.childCount,G.childCount,be.content)){if(r){let ct=de.HY.empty;for(let vt=ee.length-1;vt>=0;vt--)ct=de.HY.from(ee[vt].copy(ct));let yt=t.tr.step(new le.FC(e.pos-ee.length,e.pos+u.nodeSize,e.pos+Qe,e.pos+u.nodeSize-Qe,new de.p2(ct,ee.length,0),0,!0));r(yt.scrollIntoView())}return!0}}return!1}function ke(t){return function(e,r){let s=e.selection,u=t<0?s.$from:s.$to,p=u.depth;for(;u.node(p).isInline;){if(!p)return!1;p--}return u.node(p).isTextblock?(r&&r(e.tr.setSelection(A.Bs.create(e.doc,t<0?u.start(p):u.end(p)))),!0):!1}}const ze=ke(-1),it=ke(1);function Lt(t,e=null){return function(r,s){let{$from:u,$to:p}=r.selection,g=u.blockRange(p),C=g&&(0,le.nd)(g,t,e);return C?(s&&s(r.tr.wrap(g,C).scrollIntoView()),!0):!1}}function Ft(t,e=null){return function(r,s){let u=!1;for(let p=0;p<r.selection.ranges.length&&!u;p++){let{$from:{pos:g},$to:{pos:C}}=r.selection.ranges[p];r.doc.nodesBetween(g,C,(D,$)=>{if(u)return!1;if(!(!D.isTextblock||D.hasMarkup(t,e)))if(D.type==t)u=!0;else{let B=r.doc.resolve($),G=B.index();u=B.parent.canReplaceWith(G,G+1,t)}})}if(!u)return!1;if(s){let p=r.tr;for(let g=0;g<r.selection.ranges.length;g++){let{$from:{pos:C},$to:{pos:D}}=r.selection.ranges[g];p.setBlockType(C,D,t,e)}s(p.scrollIntoView())}return!0}}function Dt(t,e,r){for(let s=0;s<e.length;s++){let{$from:u,$to:p}=e[s],g=u.depth==0?t.inlineContent&&t.type.allowsMarkType(r):!1;if(t.nodesBetween(u.pos,p.pos,C=>{if(g)return!1;g=C.inlineContent&&C.type.allowsMarkType(r)}),g)return!0}return!1}function xt(t,e=null){return function(r,s){let{empty:u,$cursor:p,ranges:g}=r.selection;if(u&&!p||!Dt(r.doc,g,t))return!1;if(s)if(p)t.isInSet(r.storedMarks||p.marks())?s(r.tr.removeStoredMark(t)):s(r.tr.addStoredMark(t.create(e)));else{let C=!1,D=r.tr;for(let $=0;!C&&$<g.length;$++){let{$from:B,$to:G}=g[$];C=r.doc.rangeHasMark(B.pos,G.pos,t)}for(let $=0;$<g.length;$++){let{$from:B,$to:G}=g[$];if(C)D.removeMark(B.pos,G.pos,t);else{let ee=B.pos,be=G.pos,Qe=B.nodeAfter,ct=G.nodeBefore,yt=Qe&&Qe.isText?/^\s*/.exec(Qe.text)[0].length:0,vt=ct&&ct.isText?/\s*$/.exec(ct.text)[0].length:0;ee+yt<be&&(ee+=yt,be-=vt),D.addMark(ee,be,t.create(e))}}s(D.scrollIntoView())}return!0}}function Cn(t,e){return r=>{if(!r.isGeneric)return t(r);let s=[];for(let p=0;p<r.mapping.maps.length;p++){let g=r.mapping.maps[p];for(let C=0;C<s.length;C++)s[C]=g.map(s[C]);g.forEach((C,D,$,B)=>s.push($,B))}let u=[];for(let p=0;p<s.length;p+=2){let g=s[p],C=s[p+1],D=r.doc.resolve(g),$=D.sharedDepth(C),B=D.node($);for(let G=D.indexAfter($),ee=D.after($+1);ee<=C;++G){let be=B.maybeChild(G);if(!be)break;if(G&&u.indexOf(ee)==-1){let Qe=B.child(G-1);Qe.type==be.type&&e(Qe,be)&&u.push(ee)}ee+=be.nodeSize}}u.sort((p,g)=>p-g);for(let p=u.length-1;p>=0;p--)canJoin(r.doc,u[p])&&r.join(u[p]);t(r)}}function zn(t,e){let r=Array.isArray(e)?s=>e.indexOf(s.type.name)>-1:e;return(s,u,p)=>t(s,u&&Cn(u,r),p)}function Rn(...t){return function(e,r,s){for(let u=0;u<t.length;u++)if(t[u](e,r,s))return!0;return!1}}let Mn=Rn(qe,me,dt),rn=Rn(qe,ut,Pe);const vn={Enter:Rn(ve,on,Ge,Be),"Mod-Enter":St,Backspace:Mn,"Mod-Backspace":Mn,"Shift-Backspace":Mn,Delete:rn,"Mod-Delete":rn,"Mod-a":U},bn={"Ctrl-h":vn.Backspace,"Alt-Backspace":vn["Mod-Backspace"],"Ctrl-d":vn.Delete,"Ctrl-Alt-Backspace":vn["Mod-Delete"],"Alt-Delete":vn["Mod-Delete"],"Alt-d":vn["Mod-Delete"],"Ctrl-a":ze,"Ctrl-e":it};for(let t in vn)bn[t]=vn[t];const mn=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,qn=null,In=["ol",0],wn=["ul",0],cn=["li",0],Pn={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM(t){return t.attrs.order==1?In:["ol",{start:t.attrs.order},0]}},Sn={parseDOM:[{tag:"ul"}],toDOM(){return wn}},Bn={parseDOM:[{tag:"li"}],toDOM(){return cn},defining:!0};function Tn(t,e){let r={};for(let s in t)r[s]=t[s];for(let s in e)r[s]=e[s];return r}function Xn(t,e,r){return t.append({ordered_list:Tn(Pn,{content:"list_item+",group:r}),bullet_list:Tn(Sn,{content:"list_item+",group:r}),list_item:Tn(Bn,{content:e})})}function tr(t,e=null){return function(r,s){let{$from:u,$to:p}=r.selection,g=u.blockRange(p),C=!1,D=g;if(!g)return!1;if(g.depth>=2&&u.node(g.depth-1).type.compatibleContent(t)&&g.startIndex==0){if(u.index(g.depth-1)==0)return!1;let B=r.doc.resolve(g.start-2);D=new de.Ts(B,B,g.depth),g.endIndex<g.parent.childCount&&(g=new de.Ts(u,r.doc.resolve(p.end(g.depth)),g.depth)),C=!0}let $=(0,le.nd)(D,t,e,g);return $?(s&&s(_n(r.tr,g,$,C,t).scrollIntoView()),!0):!1}}function _n(t,e,r,s,u){let p=de.HY.empty;for(let B=r.length-1;B>=0;B--)p=de.HY.from(r[B].type.create(r[B].attrs,p));t.step(new le.FC(e.start-(s?2:0),e.end,e.start,e.end,new de.p2(p,0,0),r.length,!0));let g=0;for(let B=0;B<r.length;B++)r[B].type==u&&(g=B+1);let C=r.length-g,D=e.start+r.length-(s?2:0),$=e.parent;for(let B=e.startIndex,G=e.endIndex,ee=!0;B<G;B++,ee=!1)!ee&&(0,le.Ax)(t.doc,D,C)&&(t.split(D,C),D+=2*C),D+=$.child(B).nodeSize;return t}function Jn(t,e){return function(r,s){let{$from:u,$to:p,node:g}=r.selection;if(g&&g.isBlock||u.depth<2||!u.sameParent(p))return!1;let C=u.node(-1);if(C.type!=t)return!1;if(u.parent.content.size==0&&u.node(-1).childCount==u.indexAfter(-1)){if(u.depth==3||u.node(-3).type!=t||u.index(-2)!=u.node(-2).childCount-1)return!1;if(s){let G=Fragment.empty,ee=u.index(-1)?1:u.index(-2)?2:3;for(let vt=u.depth-ee;vt>=u.depth-3;vt--)G=Fragment.from(u.node(vt).copy(G));let be=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3;G=G.append(Fragment.from(t.createAndFill()));let Qe=u.before(u.depth-(ee-1)),ct=r.tr.replace(Qe,u.after(-be),new Slice(G,4-ee,0)),yt=-1;ct.doc.nodesBetween(Qe,ct.doc.content.size,(vt,pn)=>{if(yt>-1)return!1;vt.isTextblock&&vt.content.size==0&&(yt=pn+1)}),yt>-1&&ct.setSelection(Selection.near(ct.doc.resolve(yt))),s(ct.scrollIntoView())}return!0}let D=p.pos==u.end()?C.contentMatchAt(0).defaultType:null,$=r.tr.delete(u.pos,p.pos),B=D?[e?{type:t,attrs:e}:null,{type:D}]:void 0;return canSplit($.doc,u.pos,2,B)?(s&&s($.split(u.pos,2,B).scrollIntoView()),!0):!1}}function Yn(t){return function(e,r){let{$from:s,$to:u}=e.selection,p=s.blockRange(u,g=>g.childCount>0&&g.firstChild.type==t);return p?r?s.node(p.depth-1).type==t?Dn(e,r,t,p):Nn(e,r,p):!0:!1}}function Dn(t,e,r,s){let u=t.tr,p=s.end,g=s.$to.end(s.depth);p<g&&(u.step(new le.FC(p-1,g,p,g,new de.p2(de.HY.from(r.create(null,s.parent.copy())),1,0),1,!0)),s=new de.Ts(u.doc.resolve(s.$from.pos),u.doc.resolve(g),s.depth));const C=(0,le.k9)(s);if(C==null)return!1;u.lift(s,C);let D=u.mapping.map(p,-1)-1;return(0,le.Mn)(u.doc,D)&&u.join(D),e(u.scrollIntoView()),!0}function Nn(t,e,r){let s=t.tr,u=r.parent;for(let be=r.end,Qe=r.endIndex-1,ct=r.startIndex;Qe>ct;Qe--)be-=u.child(Qe).nodeSize,s.delete(be-1,be+1);let p=s.doc.resolve(r.start),g=p.nodeAfter;if(s.mapping.map(r.end)!=r.start+p.nodeAfter.nodeSize)return!1;let C=r.startIndex==0,D=r.endIndex==u.childCount,$=p.node(-1),B=p.index(-1);if(!$.canReplace(B+(C?0:1),B+1,g.content.append(D?de.HY.empty:de.HY.from(u))))return!1;let G=p.pos,ee=G+g.nodeSize;return s.step(new le.FC(G-(C?1:0),ee+(D?1:0),G+1,ee-1,new de.p2((C?de.HY.empty:de.HY.from(u.copy(de.HY.empty))).append(D?de.HY.empty:de.HY.from(u.copy(de.HY.empty))),C?0:1,D?0:1),C?0:1)),e(s.scrollIntoView()),!0}function Hn(t){return function(e,r){let{$from:s,$to:u}=e.selection,p=s.blockRange(u,$=>$.childCount>0&&$.firstChild.type==t);if(!p)return!1;let g=p.startIndex;if(g==0)return!1;let C=p.parent,D=C.child(g-1);if(D.type!=t)return!1;if(r){let $=D.lastChild&&D.lastChild.type==C.type,B=de.HY.from($?t.create():null),G=new de.p2(de.HY.from(t.create(null,de.HY.from(C.type.create(null,B)))),$?3:1,0),ee=p.start,be=p.end;r(e.tr.step(new le.FC(ee-($?3:1),be,ee,be,G,1,!0)).scrollIntoView())}return!0}}function ue(t){const{state:e,transaction:r}=t;let{selection:s}=r,{doc:u}=r,{storedMarks:p}=r;return Te(Te({},e),{apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return p},get selection(){return s},get doc(){return u},get tr(){return s=r.selection,u=r.doc,p=r.storedMarks,r}})}class v{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:r,state:s}=this,{view:u}=r,{tr:p}=s,g=this.buildProps(p);return Object.fromEntries(Object.entries(e).map(([C,D])=>[C,(...B)=>{const G=D(...B)(g);return!p.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(p),G}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){const{rawCommands:s,editor:u,state:p}=this,{view:g}=u,C=[],D=!!e,$=e||p.tr,B=()=>(!D&&r&&!$.getMeta("preventDispatch")&&!this.hasCustomState&&g.dispatch($),C.every(ee=>ee===!0)),G=Te(Te({},Object.fromEntries(Object.entries(s).map(([ee,be])=>[ee,(...ct)=>{const yt=this.buildProps($,r),vt=be(...ct)(yt);return C.push(vt),G}]))),{run:B});return G}createCan(e){const{rawCommands:r,state:s}=this,u=!1,p=e||s.tr,g=this.buildProps(p,u),C=Object.fromEntries(Object.entries(r).map(([D,$])=>[D,(...B)=>$(...B)(Te(Te({},g),{dispatch:void 0}))]));return Te(Te({},C),{chain:()=>this.createChain(p,u)})}buildProps(e,r=!0){const{rawCommands:s,editor:u,state:p}=this,{view:g}=u,C={tr:e,editor:u,view:g,state:ue({state:p,transaction:e}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(e,r),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(s).map(([D,$])=>[D,(...B)=>$(...B)(C)]))}};return C}}class _{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const s=this.callbacks[e];return s&&s.forEach(u=>u.apply(this,r)),this}off(e,r){const s=this.callbacks[e];return s&&(r?this.callbacks[e]=s.filter(u=>u!==r):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function T(t,e,r){return t.config[e]===void 0&&t.parent?T(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind(Te(Te({},r),{parent:t.parent?T(t.parent,e,r):null})):t.config[e]}function Y(t){const e=t.filter(u=>u.type==="extension"),r=t.filter(u=>u.type==="node"),s=t.filter(u=>u.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:s}}function ie(t){const e=[],{nodeExtensions:r,markExtensions:s}=Y(t),u=[...r,...s],p={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(g=>{const C={name:g.name,options:g.options,storage:g.storage},D=T(g,"addGlobalAttributes",C);if(!D)return;D().forEach(B=>{B.types.forEach(G=>{Object.entries(B.attributes).forEach(([ee,be])=>{e.push({type:G,name:ee,attribute:Te(Te({},p),be)})})})})}),u.forEach(g=>{const C={name:g.name,options:g.options,storage:g.storage},D=T(g,"addAttributes",C);if(!D)return;const $=D();Object.entries($).forEach(([B,G])=>{const ee=Te(Te({},p),G);typeof(ee==null?void 0:ee.default)=="function"&&(ee.default=ee.default()),(ee==null?void 0:ee.isRequired)&&(ee==null?void 0:ee.default)===void 0&&delete ee.default,e.push({type:g.name,name:B,attribute:ee})})}),e}function Q(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function we(...t){return t.filter(e=>!!e).reduce((e,r)=>{const s=Te({},e);return Object.entries(r).forEach(([u,p])=>{if(!s[u]){s[u]=p;return}if(u==="class"){const C=p?p.split(" "):[],D=s[u]?s[u].split(" "):[],$=C.filter(B=>!D.includes(B));s[u]=[...D,...$].join(" ")}else u==="style"?s[u]=[s[u],p].join("; "):s[u]=p}),s},{})}function De(t,e){return e.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,s)=>we(r,s),{})}function I(t){return typeof t=="function"}function o(t,e=void 0,...r){return I(t)?e?t.bind(e)(...r):t(...r):t}function c(t={}){return Object.keys(t).length===0&&t.constructor===Object}function y(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function S(t,e){return t.style?t:Te(Te({},t),{getAttrs:r=>{const s=t.getAttrs?t.getAttrs(r):t.attrs;if(s===!1)return!1;const u=e.reduce((p,g)=>{const C=g.attribute.parseHTML?g.attribute.parseHTML(r):y(r.getAttribute(g.name));return C==null?p:Te(Te({},p),{[g.name]:C})},{});return Te(Te({},s),u)}})}function O(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&c(r)?!1:r!=null))}function z(t,e){var r;const s=ie(t),{nodeExtensions:u,markExtensions:p}=Y(t),g=(r=u.find($=>T($,"topNode")))===null||r===void 0?void 0:r.name,C=Object.fromEntries(u.map($=>{const B=s.filter(vt=>vt.type===$.name),G={name:$.name,options:$.options,storage:$.storage,editor:e},ee=t.reduce((vt,pn)=>{const rr=T(pn,"extendNodeSchema",G);return Te(Te({},vt),rr?rr($):{})},{}),be=O(Te(Te({},ee),{content:o(T($,"content",G)),marks:o(T($,"marks",G)),group:o(T($,"group",G)),inline:o(T($,"inline",G)),atom:o(T($,"atom",G)),selectable:o(T($,"selectable",G)),draggable:o(T($,"draggable",G)),code:o(T($,"code",G)),defining:o(T($,"defining",G)),isolating:o(T($,"isolating",G)),attrs:Object.fromEntries(B.map(vt=>{var pn;return[vt.name,{default:(pn=vt==null?void 0:vt.attribute)===null||pn===void 0?void 0:pn.default}]}))})),Qe=o(T($,"parseHTML",G));Qe&&(be.parseDOM=Qe.map(vt=>S(vt,B)));const ct=T($,"renderHTML",G);ct&&(be.toDOM=vt=>ct({node:vt,HTMLAttributes:De(vt,B)}));const yt=T($,"renderText",G);return yt&&(be.toText=yt),[$.name,be]})),D=Object.fromEntries(p.map($=>{const B=s.filter(yt=>yt.type===$.name),G={name:$.name,options:$.options,storage:$.storage,editor:e},ee=t.reduce((yt,vt)=>{const pn=T(vt,"extendMarkSchema",G);return Te(Te({},yt),pn?pn($):{})},{}),be=O(Te(Te({},ee),{inclusive:o(T($,"inclusive",G)),excludes:o(T($,"excludes",G)),group:o(T($,"group",G)),spanning:o(T($,"spanning",G)),code:o(T($,"code",G)),attrs:Object.fromEntries(B.map(yt=>{var vt;return[yt.name,{default:(vt=yt==null?void 0:yt.attribute)===null||vt===void 0?void 0:vt.default}]}))})),Qe=o(T($,"parseHTML",G));Qe&&(be.parseDOM=Qe.map(yt=>S(yt,B)));const ct=T($,"renderHTML",G);return ct&&(be.toDOM=yt=>ct({mark:yt,HTMLAttributes:De(yt,B)})),[$.name,be]}));return new de.V_({topNode:g,nodes:C,marks:D})}function j(t,e){return e.nodes[t]||e.marks[t]||null}function ce(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}const tt=(t,e=500)=>{let r="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(u,p,g,C)=>{var D,$;r+=((($=(D=u.type.spec).toText)===null||$===void 0?void 0:$.call(D,{node:u,pos:p,parent:g,index:C}))||u.textContent||"%leaf%").slice(0,Math.max(0,s-p))}),r};function L(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class F{constructor(e){this.find=e.find,this.handler=e.handler}}const q=(t,e)=>{if(L(e))return e.exec(t);const r=e(t);if(!r)return null;const s=[r.text];return s.index=r.index,s.input=t,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(r.replaceWith)),s};function oe(t){var e;const{editor:r,from:s,to:u,text:p,rules:g,plugin:C}=t,{view:D}=r;if(D.composing)return!1;const $=D.state.doc.resolve(s);if($.parent.type.spec.code||!!((e=$.nodeBefore||$.nodeAfter)===null||e===void 0?void 0:e.marks.find(ee=>ee.type.spec.code)))return!1;let B=!1;const G=tt($)+p;return g.forEach(ee=>{if(B)return;const be=q(G,ee.find);if(!be)return;const Qe=D.state.tr,ct=ue({state:D.state,transaction:Qe}),yt={from:s-(be[0].length-p.length),to:u},{commands:vt,chain:pn,can:rr}=new v({editor:r,state:ct});ee.handler({state:ct,range:yt,match:be,commands:vt,chain:pn,can:rr})===null||!Qe.steps.length||(Qe.setMeta(C,{transform:Qe,from:s,to:u,text:p}),D.dispatch(Qe),B=!0)}),B}function ne(t){const{editor:e,rules:r}=t,s=new A.Sy({state:{init(){return null},apply(u,p){const g=u.getMeta(s);return g||(u.selectionSet||u.docChanged?null:p)}},props:{handleTextInput(u,p,g,C){return oe({editor:e,from:p,to:g,text:C,rules:r,plugin:s})},handleDOMEvents:{compositionend:u=>(setTimeout(()=>{const{$cursor:p}=u.state.selection;p&&oe({editor:e,from:p.pos,to:p.pos,text:"",rules:r,plugin:s})}),!1)},handleKeyDown(u,p){if(p.key!=="Enter")return!1;const{$cursor:g}=u.state.selection;return g?oe({editor:e,from:g.pos,to:g.pos,text:`
`,rules:r,plugin:s}):!1}},isInputRules:!0});return s}function xe(t){return typeof t=="number"}class Le{constructor(e){this.find=e.find,this.handler=e.handler}}const Ze=(t,e)=>{if(L(e))return[...t.matchAll(e)];const r=e(t);return r?r.map(s=>{const u=[s.text];return u.index=s.index,u.input=t,u.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),u.push(s.replaceWith)),u}):[]};function _t(t){const{editor:e,state:r,from:s,to:u,rule:p}=t,{commands:g,chain:C,can:D}=new v({editor:e,state:r}),$=[];return r.doc.nodesBetween(s,u,(G,ee)=>{if(!G.isTextblock||G.type.spec.code)return;const be=Math.max(s,ee),Qe=Math.min(u,ee+G.content.size),ct=G.textBetween(be-ee,Qe-ee,void 0,"\uFFFC");Ze(ct,p.find).forEach(vt=>{if(vt.index===void 0)return;const pn=be+vt.index+1,rr=pn+vt[0].length,lr={from:r.tr.mapping.map(pn),to:r.tr.mapping.map(rr)},tn=p.handler({state:r,range:lr,match:vt,commands:g,chain:C,can:D});$.push(tn)})}),$.every(G=>G!==null)}function $t(t){const{editor:e,rules:r}=t;let s=null,u=!1,p=!1;return r.map(C=>new A.Sy({view(D){const $=B=>{var G;s=((G=D.dom.parentElement)===null||G===void 0?void 0:G.contains(B.target))?D.dom.parentElement:null};return window.addEventListener("dragstart",$),{destroy(){window.removeEventListener("dragstart",$)}}},props:{handleDOMEvents:{drop:D=>(p=s===D.dom.parentElement,!1),paste:(D,$)=>{var B;const G=(B=$.clipboardData)===null||B===void 0?void 0:B.getData("text/html");return u=!!(G==null?void 0:G.includes("data-pm-slice")),!1}}},appendTransaction:(D,$,B)=>{const G=D[0],ee=G.getMeta("uiEvent")==="paste"&&!u,be=G.getMeta("uiEvent")==="drop"&&!p;if(!ee&&!be)return;const Qe=$.doc.content.findDiffStart(B.doc.content),ct=$.doc.content.findDiffEnd(B.doc.content);if(!xe(Qe)||!ct||Qe===ct.b)return;const yt=B.tr,vt=ue({state:B,transaction:yt});if(!(!_t({editor:e,state:vt,from:Math.max(Qe-1,0),to:ct.b-1,rule:C})||!yt.steps.length))return yt}}))}function Ut(t){const e=t.filter((r,s)=>t.indexOf(r)!==s);return[...new Set(e)]}class W{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=W.resolve(e),this.schema=z(this.extensions,r),this.extensions.forEach(s=>{var u;this.editor.extensionStorage[s.name]=s.storage;const p={name:s.name,options:s.options,storage:s.storage,editor:this.editor,type:j(s.name,this.schema)};s.type==="mark"&&((u=o(T(s,"keepOnSplit",p)))!==null&&u!==void 0?u:!0)&&this.splittableMarks.push(s.name);const g=T(s,"onBeforeCreate",p);g&&this.editor.on("beforeCreate",g);const C=T(s,"onCreate",p);C&&this.editor.on("create",C);const D=T(s,"onUpdate",p);D&&this.editor.on("update",D);const $=T(s,"onSelectionUpdate",p);$&&this.editor.on("selectionUpdate",$);const B=T(s,"onTransaction",p);B&&this.editor.on("transaction",B);const G=T(s,"onFocus",p);G&&this.editor.on("focus",G);const ee=T(s,"onBlur",p);ee&&this.editor.on("blur",ee);const be=T(s,"onDestroy",p);be&&this.editor.on("destroy",be)})}static resolve(e){const r=W.sort(W.flatten(e)),s=Ut(r.map(u=>u.name));return s.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${s.map(u=>`'${u}'`).join(", ")}]. This can lead to issues.`),r}static flatten(e){return e.map(r=>{const s={name:r.name,options:r.options,storage:r.storage},u=T(r,"addExtensions",s);return u?[r,...this.flatten(u())]:r}).flat(10)}static sort(e){const r=100;return e.sort((s,u)=>{const p=T(s,"priority")||r,g=T(u,"priority")||r;return p>g?-1:p<g?1:0})}get commands(){return this.extensions.reduce((e,r)=>{const s={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:j(r.name,this.schema)},u=T(r,"addCommands",s);return u?Te(Te({},e),u()):e},{})}get plugins(){const{editor:e}=this,r=W.sort([...this.extensions].reverse()),s=[],u=[],p=r.map(g=>{const C={name:g.name,options:g.options,storage:g.storage,editor:e,type:j(g.name,this.schema)},D=[],$=T(g,"addKeyboardShortcuts",C);let B={};if(g.type==="mark"&&g.config.exitable&&(B.ArrowRight=()=>re.handleExit({editor:e,mark:g})),$){const ct=Object.fromEntries(Object.entries($()).map(([yt,vt])=>[yt,()=>vt({editor:e})]));B=Te(Te({},B),ct)}const G=(0,Ee.h)(B);D.push(G);const ee=T(g,"addInputRules",C);ce(g,e.options.enableInputRules)&&ee&&s.push(...ee());const be=T(g,"addPasteRules",C);ce(g,e.options.enablePasteRules)&&be&&u.push(...be());const Qe=T(g,"addProseMirrorPlugins",C);if(Qe){const ct=Qe();D.push(...ct)}return D}).flat();return[ne({editor:e,rules:s}),...$t({editor:e,rules:u}),...p]}get attributes(){return ie(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:r}=Y(this.extensions);return Object.fromEntries(r.filter(s=>!!T(s,"addNodeView")).map(s=>{const u=this.attributes.filter(D=>D.type===s.name),p={name:s.name,options:s.options,storage:s.storage,editor:e,type:Q(s.name,this.schema)},g=T(s,"addNodeView",p);if(!g)return[];const C=(D,$,B,G)=>{const ee=De(D,u);return g()({editor:e,node:D,getPos:B,decorations:G,HTMLAttributes:ee,extension:s})};return[s.name,C]}))}}function ae(t){return Object.prototype.toString.call(t).slice(8,-1)}function Me(t){return ae(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function lt(t,e){const r=Te({},t);return Me(t)&&Me(e)&&Object.keys(e).forEach(s=>{Me(e[s])?s in t?r[s]=lt(t[s],e[s]):Object.assign(r,{[s]:e[s]}):Object.assign(r,{[s]:e[s]})}),r}class Et{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Te(Te({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=o(T(this,"addOptions",{name:this.name}))),this.storage=o(T(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Et(e)}configure(e={}){const r=this.extend();return r.options=lt(this.options,e),r.storage=o(T(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new Et(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=o(T(r,"addOptions",{name:r.name})),r.storage=o(T(r,"addStorage",{name:r.name,options:r.options})),r}}function Tt(t,e,r){const{from:s,to:u}=e,{blockSeparator:p=`

`,textSerializers:g={}}=r||{};let C="",D=!0;return t.nodesBetween(s,u,($,B,G,ee)=>{var be;const Qe=g==null?void 0:g[$.type.name];Qe?($.isBlock&&!D&&(C+=p,D=!0),G&&(C+=Qe({node:$,pos:B,parent:G,index:ee,range:e}))):$.isText?(C+=(be=$==null?void 0:$.text)===null||be===void 0?void 0:be.slice(Math.max(s,B)-B,u-B),D=!1):$.isBlock&&!D&&(C+=p,D=!0)}),C}function nt(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}const _e=Et.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new A.Sy({key:new A.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:s,selection:u}=e,{ranges:p}=u,g=Math.min(...p.map(B=>B.$from.pos)),C=Math.max(...p.map(B=>B.$to.pos)),D=nt(r);return Tt(s,{from:g,to:C},{textSerializers:D})}}})]}}),kt=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),Zt=(t=!1)=>({commands:e})=>e.setContent("",t),qt=()=>({state:t,tr:e,dispatch:r})=>{const{selection:s}=e,{ranges:u}=s;return r&&u.forEach(({$from:p,$to:g})=>{t.doc.nodesBetween(p.pos,g.pos,(C,D)=>{if(C.type.isText)return;const{doc:$,mapping:B}=e,G=$.resolve(B.map(D)),ee=$.resolve(B.map(D+C.nodeSize)),be=G.blockRange(ee);if(!be)return;const Qe=(0,le.k9)(be);if(C.type.isTextblock){const{defaultType:ct}=G.parent.contentMatchAt(G.index());e.setNodeMarkup(be.start,ct)}(Qe||Qe===0)&&e.lift(be,Qe)})}),!0},On=t=>e=>t(e),Wt=()=>({state:t,dispatch:e})=>on(t,e),an=(t,e)=>({editor:r,tr:s})=>{const{state:u}=r,p=u.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const g=s.mapping.map(e);return s.insert(g,p.content),s.setSelection(new A.Bs(s.doc.resolve(g-1))),!0},Un=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,s=r.$anchor.node();if(s.content.size>0)return!1;const u=t.selection.$anchor;for(let p=u.depth;p>0;p-=1)if(u.node(p).type===s.type){if(e){const C=u.before(p),D=u.after(p);t.delete(C,D).scrollIntoView()}return!0}return!1},Gn=t=>({tr:e,state:r,dispatch:s})=>{const u=Q(t,r.schema),p=e.selection.$anchor;for(let g=p.depth;g>0;g-=1)if(p.node(g).type===u){if(s){const D=p.before(g),$=p.after(g);e.delete(D,$).scrollIntoView()}return!0}return!1},xn=t=>({tr:e,dispatch:r})=>{const{from:s,to:u}=t;return r&&e.delete(s,u),!0},$n=()=>({state:t,dispatch:e})=>qe(t,e),or=()=>({commands:t})=>t.keyboardShortcut("Enter"),ir=()=>({state:t,dispatch:e})=>St(t,e);function m(t,e,r={strict:!0}){const s=Object.keys(e);return s.length?s.every(u=>r.strict?e[u]===t[u]:L(e[u])?e[u].test(t[u]):e[u]===t[u]):!0}function d(t,e,r={}){return t.find(s=>s.type===e&&m(s.attrs,r))}function b(t,e,r={}){return!!d(t,e,r)}function h(t,e,r={}){if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if(t.parentOffset===s.offset&&s.offset!==0&&(s=t.parent.childBefore(t.parentOffset)),!s.node)return;const u=d([...s.node.marks],e,r);if(!u)return;let p=s.index,g=t.start()+s.offset,C=p+1,D=g+s.node.nodeSize;for(d([...s.node.marks],e,r);p>0&&u.isInSet(t.parent.child(p-1).marks);)p-=1,g-=t.parent.child(p).nodeSize;for(;C<t.parent.childCount&&b([...t.parent.child(C).marks],e,r);)D+=t.parent.child(C).nodeSize,C+=1;return{from:g,to:D}}function w(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const M=(t,e={})=>({tr:r,state:s,dispatch:u})=>{const p=w(t,s.schema),{doc:g,selection:C}=r,{$from:D,from:$,to:B}=C;if(u){const G=h(D,p,e);if(G&&G.from<=$&&G.to>=B){const ee=A.Bs.create(g,G.from,G.to);r.setSelection(ee)}}return!0},R=t=>e=>{const r=typeof t=="function"?t(e):t;for(let s=0;s<r.length;s+=1)if(r[s](e))return!0;return!1};function f(t){return t instanceof A.Bs}function E(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function x(t,e=null){if(!e)return null;const r=A.Y1.atStart(t),s=A.Y1.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return s;const u=r.from,p=s.to;return e==="all"?A.Bs.create(t,E(0,u,p),E(t.content.size,u,p)):A.Bs.create(t,E(e,u,p),E(e,u,p))}function P(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const V=(t=null,e={})=>({editor:r,view:s,tr:u,dispatch:p})=>{e=Te({scrollIntoView:!0},e);const g=()=>{P()&&s.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(s.focus(),(e==null?void 0:e.scrollIntoView)&&r.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(p&&t===null&&!f(r.state.selection))return g(),!0;const C=x(u.doc,t)||r.state.selection,D=r.state.selection.eq(C);return p&&(D||u.setSelection(C),D&&u.storedMarks&&u.setStoredMarks(u.storedMarks),g()),!0},K=(t,e)=>r=>t.every((s,u)=>e(s,Te(Te({},r),{index:u}))),Z=(t,e)=>({tr:r,commands:s})=>s.insertContentAt({from:r.selection.from,to:r.selection.to},t,e);function X(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function he(t,e,r){if(r=Te({slice:!0,parseOptions:{}},r),typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?de.HY.fromArray(t.map(s=>e.nodeFromJSON(s))):e.nodeFromJSON(t)}catch(s){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),he("",e,r)}if(typeof t=="string"){const s=de.aw.fromSchema(e);return r.slice?s.parseSlice(X(t),r.parseOptions).content:s.parse(X(t),r.parseOptions)}return he("",e,r)}function pe(t,e,r){const s=t.steps.length-1;if(s<e)return;const u=t.steps[s];if(!(u instanceof le.Pu||u instanceof le.FC))return;const p=t.mapping.maps[s];let g=0;p.forEach((C,D,$,B)=>{g===0&&(g=B)}),t.setSelection(A.Y1.near(t.doc.resolve(g),r))}const Se=t=>t.toString().startsWith("<"),Re=(t,e,r)=>({tr:s,dispatch:u,editor:p})=>{if(u){r=Te({parseOptions:{},updateSelection:!0},r);const g=he(e,p.schema,{parseOptions:Te({preserveWhitespace:"full"},r.parseOptions)});if(g.toString()==="<>")return!0;let{from:C,to:D}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},$=!0,B=!0;if((Se(g)?g:[g]).forEach(ee=>{ee.check(),$=$?ee.isText&&ee.marks.length===0:!1,B=B?ee.isBlock:!1}),C===D&&B){const{parent:ee}=s.doc.resolve(C);ee.isTextblock&&!ee.type.spec.code&&!ee.childCount&&(C-=1,D+=1)}$?Array.isArray(e)?s.insertText(e.map(ee=>ee.text||"").join(""),C,D):typeof e=="object"&&!!e&&!!e.text?s.insertText(e.text,C,D):s.insertText(e,C,D):s.replaceWith(C,D,g),r.updateSelection&&pe(s,s.steps.length-1,-1)}return!0},$e=()=>({state:t,dispatch:e})=>We(t,e),et=()=>({state:t,dispatch:e})=>Rt(t,e),ht=()=>({state:t,dispatch:e})=>me(t,e),wt=()=>({state:t,dispatch:e})=>ut(t,e),rt=()=>({tr:t,state:e,dispatch:r})=>{try{const s=(0,le.GJ)(e.doc,e.selection.$from.pos,-1);return s==null?!1:(t.join(s,2),r&&r(t),!0)}catch(s){return!1}},It=()=>({state:t,dispatch:e,tr:r})=>{try{const s=(0,le.GJ)(t.doc,t.selection.$from.pos,1);return s==null?!1:(r.join(s,2),e&&e(r),!0)}catch(s){return!1}};function un(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function sn(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let s,u,p,g;for(let C=0;C<e.length-1;C+=1){const D=e[C];if(/^(cmd|meta|m)$/i.test(D))g=!0;else if(/^a(lt)?$/i.test(D))s=!0;else if(/^(c|ctrl|control)$/i.test(D))u=!0;else if(/^s(hift)?$/i.test(D))p=!0;else if(/^mod$/i.test(D))P()||un()?g=!0:u=!0;else throw new Error(`Unrecognized modifier name: ${D}`)}return s&&(r=`Alt-${r}`),u&&(r=`Ctrl-${r}`),g&&(r=`Meta-${r}`),p&&(r=`Shift-${r}`),r}const Gt=t=>({editor:e,view:r,tr:s,dispatch:u})=>{const p=sn(t).split(/-(?!$)/),g=p.find($=>!["Alt","Ctrl","Meta","Shift"].includes($)),C=new KeyboardEvent("keydown",{key:g==="Space"?" ":g,altKey:p.includes("Alt"),ctrlKey:p.includes("Ctrl"),metaKey:p.includes("Meta"),shiftKey:p.includes("Shift"),bubbles:!0,cancelable:!0}),D=e.captureTransaction(()=>{r.someProp("handleKeyDown",$=>$(r,C))});return D==null||D.steps.forEach($=>{const B=$.map(s.mapping);B&&u&&s.maybeStep(B)}),!0};function Qt(t,e,r={}){const{from:s,to:u,empty:p}=t.selection,g=e?Q(e,t.schema):null,C=[];t.doc.nodesBetween(s,u,(G,ee)=>{if(G.isText)return;const be=Math.max(s,ee),Qe=Math.min(u,ee+G.nodeSize);C.push({node:G,from:be,to:Qe})});const D=u-s,$=C.filter(G=>g?g.name===G.node.type.name:!0).filter(G=>m(G.node.attrs,r,{strict:!1}));return p?!!$.length:$.reduce((G,ee)=>G+ee.to-ee.from,0)>=D}const ln=(t,e={})=>({state:r,dispatch:s})=>{const u=Q(t,r.schema);return Qt(r,u,e)?Bt(r,s):!1},nn=()=>({state:t,dispatch:e})=>Ge(t,e),Ln=t=>({state:e,dispatch:r})=>{const s=Q(t,e.schema);return Yn(s)(e,r)},Wn=()=>({state:t,dispatch:e})=>ve(t,e);function bt(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function yn(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,u)=>(r.includes(u)||(s[u]=t[u]),s),{})}const gn=(t,e)=>({tr:r,state:s,dispatch:u})=>{let p=null,g=null;const C=bt(typeof t=="string"?t:t.name,s.schema);return C?(C==="node"&&(p=Q(t,s.schema)),C==="mark"&&(g=w(t,s.schema)),u&&r.selection.ranges.forEach(D=>{s.doc.nodesBetween(D.$from.pos,D.$to.pos,($,B)=>{p&&p===$.type&&r.setNodeMarkup(B,void 0,yn($.attrs,e)),g&&$.marks.length&&$.marks.forEach(G=>{g===G.type&&r.addMark(B,B+$.nodeSize,g.create(yn(G.attrs,e)))})})}),!0):!1},zt=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),jn=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),Fn=()=>({state:t,dispatch:e})=>dt(t,e),nr=()=>({state:t,dispatch:e})=>Pe(t,e),jt=()=>({state:t,dispatch:e})=>Ce(t,e),ot=()=>({state:t,dispatch:e})=>it(t,e),Ct=()=>({state:t,dispatch:e})=>ze(t,e);function Vt(t,e,r={}){return he(t,e,{slice:!1,parseOptions:r})}const dn=(t,e=!1,r={})=>({tr:s,editor:u,dispatch:p})=>{const{doc:g}=s,C=Vt(t,u.schema,r);return p&&s.replaceWith(0,g.content.size,C).setMeta("preventUpdate",!e),!0};function Kn(t,e){const r=w(e,t.schema),{from:s,to:u,empty:p}=t.selection,g=[];p?(t.storedMarks&&g.push(...t.storedMarks),g.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,u,D=>{g.push(...D.marks)});const C=g.find(D=>D.type.name===r.name);return C?Te({},C.attrs):{}}function ur(t,e){const r=new le.wx(t);return e.forEach(s=>{s.steps.forEach(u=>{r.step(u)})}),r}function hr(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function br(t,e){const r=[];return t.descendants((s,u)=>{e(s)&&r.push({node:s,pos:u})}),r}function Yr(t,e,r){const s=[];return t.nodesBetween(e.from,e.to,(u,p)=>{r(u)&&s.push({node:u,pos:p})}),s}function Dr(t,e){for(let r=t.depth;r>0;r-=1){const s=t.node(r);if(e(s))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:s}}}function _r(t){return e=>Dr(e.$from,t)}function Qn(t,e){const r=de.PW.fromSchema(e).serializeFragment(t),u=document.implementation.createHTMLDocument().createElement("div");return u.appendChild(r),u.innerHTML}function Cr(t,e){const r=W.resolve(t);return z(r,e)}function Tr(t,e){const r=Cr(e),s=Node$1.fromJSON(r,t);return Qn(s.content,r)}function cr(t,e){const r=Cr(e),s=X(t);return DOMParser.fromSchema(r).parse(s).toJSON()}function Gr(t,e){const r={from:0,to:t.content.size};return Tt(t,r,e)}function Qr(t,e,r){const{blockSeparator:s=`

`,textSerializers:u={}}=r||{},p=Cr(e),g=Node$1.fromJSON(p,t);return Gr(g,{blockSeparator:s,textSerializers:Te(Te({},nt(p)),u)})}function Zr(t,e){const r=Q(e,t.schema),{from:s,to:u}=t.selection,p=[];t.doc.nodesBetween(s,u,C=>{p.push(C)});const g=p.reverse().find(C=>C.type.name===r.name);return g?Te({},g.attrs):{}}function zr(t,e){const r=bt(typeof e=="string"?e:e.name,t.schema);return r==="node"?Zr(t,e):r==="mark"?Kn(t,e):{}}function Hr(t,e=JSON.stringify){const r={};return t.filter(s=>{const u=e(s);return Object.prototype.hasOwnProperty.call(r,u)?!1:r[u]=!0})}function ci(t){const e=Hr(t);return e.length===1?e:e.filter((r,s)=>!e.filter((p,g)=>g!==s).some(p=>r.oldRange.from>=p.oldRange.from&&r.oldRange.to<=p.oldRange.to&&r.newRange.from>=p.newRange.from&&r.newRange.to<=p.newRange.to))}function Lr(t){const{mapping:e,steps:r}=t,s=[];return e.maps.forEach((u,p)=>{const g=[];if(u.ranges.length)u.forEach((C,D)=>{g.push({from:C,to:D})});else{const{from:C,to:D}=r[p];if(C===void 0||D===void 0)return;g.push({from:C,to:D})}g.forEach(({from:C,to:D})=>{const $=e.slice(p).map(C,-1),B=e.slice(p).map(D),G=e.invert().map($,-1),ee=e.invert().map(B);s.push({oldRange:{from:G,to:ee},newRange:{from:$,to:B}})})}),ci(s)}function Ur(t,e=0){const s=t.type===t.type.schema.topNodeType?0:1,u=e,p=u+t.nodeSize,g=t.marks.map($=>{const B={type:$.type.name};return Object.keys($.attrs).length&&(B.attrs=Te({},$.attrs)),B}),C=Te({},t.attrs),D={type:t.type.name,from:u,to:p};return Object.keys(C).length&&(D.attrs=C),g.length&&(D.marks=g),t.content.childCount&&(D.content=[],t.forEach(($,B)=>{var G;(G=D.content)===null||G===void 0||G.push(Ur($,e+B+s))})),t.text&&(D.text=t.text),D}function yr(t,e,r){const s=[];return t===e?r.resolve(t).marks().forEach(u=>{const p=r.resolve(t-1),g=h(p,u.type);!g||s.push(Te({mark:u},g))}):r.nodesBetween(t,e,(u,p)=>{s.push(...u.marks.map(g=>({from:p,to:p+u.nodeSize,mark:g})))}),s}const ei=(t,e,r,s=20)=>{const u=t.doc.resolve(r);let p=s,g=null;for(;p>0&&g===null;){const C=u.node(p);(C==null?void 0:C.type.name)===e?g=C:p-=1}return[g,p]};function kr(t,e,r){return Object.fromEntries(Object.entries(r).filter(([s])=>{const u=t.find(p=>p.type===e&&p.name===s);return u?u.attribute.keepOnSplit:!1}))}function vr(t,e,r={}){const{empty:s,ranges:u}=t.selection,p=e?w(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(G=>p?p.name===G.type.name:!0).find(G=>m(G.attrs,r,{strict:!1}));let g=0;const C=[];if(u.forEach(({$from:G,$to:ee})=>{const be=G.pos,Qe=ee.pos;t.doc.nodesBetween(be,Qe,(ct,yt)=>{if(!ct.isText&&!ct.marks.length)return;const vt=Math.max(be,yt),pn=Math.min(Qe,yt+ct.nodeSize);g+=pn-vt,C.push(...ct.marks.map(lr=>({mark:lr,from:vt,to:pn})))})}),g===0)return!1;const D=C.filter(G=>p?p.name===G.mark.type.name:!0).filter(G=>m(G.mark.attrs,r,{strict:!1})).reduce((G,ee)=>G+ee.to-ee.from,0),$=C.filter(G=>p?G.mark.type!==p&&G.mark.type.excludes(p):!0).reduce((G,ee)=>G+ee.to-ee.from,0);return(D>0?D+$:D)>=g}function ti(t,e,r={}){if(!e)return Qt(t,null,r)||vr(t,null,r);const s=bt(e,t.schema);return s==="node"?Qt(t,e,r):s==="mark"?vr(t,e,r):!1}const Pr=(t,e)=>{const{$from:r,$to:s,$anchor:u}=t.selection;if(e){const p=_r(C=>C.type.name===e)(t.selection);if(!p)return!1;const g=t.doc.resolve(p.pos+1);return u.pos+1===g.end()}return!(s.parentOffset<s.parent.nodeSize-2||r.pos!==s.pos)},Mr=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function Br(t,e){const{nodeExtensions:r}=Y(e),s=r.find(g=>g.name===t);if(!s)return!1;const u={name:s.name,options:s.options,storage:s.storage},p=o(T(s,"group",u));return typeof p!="string"?!1:p.split(" ").includes("list")}function dr(t){var e;const r=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),s=t.toJSON();return JSON.stringify(r)===JSON.stringify(s)}function ni(t){return t instanceof NodeSelection}function mr(t,e,r){const s=0,u=t.state.doc.content.size,p=E(e,s,u),g=E(r,s,u),C=t.coordsAtPos(p),D=t.coordsAtPos(g,-1),$=Math.min(C.top,D.top),B=Math.max(C.bottom,D.bottom),G=Math.min(C.left,D.left),ee=Math.max(C.right,D.right),be=ee-G,Qe=B-$,vt={top:$,bottom:B,left:G,right:ee,width:be,height:Qe,x:G,y:$};return Te(Te({},vt),{toJSON:()=>vt})}function xr(t,e,r){var s;const{selection:u}=e;let p=null;if(f(u)&&(p=u.$cursor),p){const C=(s=t.storedMarks)!==null&&s!==void 0?s:p.marks();return!!r.isInSet(C)||!C.some(D=>D.type.excludes(r))}const{ranges:g}=u;return g.some(({$from:C,$to:D})=>{let $=C.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(C.pos,D.pos,(B,G,ee)=>{if($)return!1;if(B.isInline){const be=!ee||ee.type.allowsMarkType(r),Qe=!!r.isInSet(B.marks)||!B.marks.some(ct=>ct.type.excludes(r));$=be&&Qe}return!$}),$})}const Nr=(t,e={})=>({tr:r,state:s,dispatch:u})=>{const{selection:p}=r,{empty:g,ranges:C}=p,D=w(t,s.schema);if(u)if(g){const $=Kn(s,D);r.addStoredMark(D.create(Te(Te({},$),e)))}else C.forEach($=>{const B=$.$from.pos,G=$.$to.pos;s.doc.nodesBetween(B,G,(ee,be)=>{const Qe=Math.max(be,B),ct=Math.min(be+ee.nodeSize,G);ee.marks.find(vt=>vt.type===D)?ee.marks.forEach(vt=>{D===vt.type&&r.addMark(Qe,ct,D.create(Te(Te({},vt.attrs),e)))}):r.addMark(Qe,ct,D.create(e))})});return xr(s,r,D)},ar=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),fr=(t,e={})=>({state:r,dispatch:s,chain:u})=>{const p=Q(t,r.schema);return p.isTextblock?u().command(({commands:g})=>Ft(p,e)(r)?!0:g.clearNodes()).command(({state:g})=>Ft(p,e)(g,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},wr=t=>({tr:e,dispatch:r})=>{if(r){const{doc:s}=e,u=E(t,0,s.content.size),p=A.qv.create(s,u);e.setSelection(p)}return!0},$r=t=>({tr:e,dispatch:r})=>{if(r){const{doc:s}=e,{from:u,to:p}=typeof t=="number"?{from:t,to:t}:t,g=A.Bs.atStart(s).from,C=A.Bs.atEnd(s).to,D=E(u,g,C),$=E(p,g,C),B=A.Bs.create(s,D,$);e.setSelection(B)}return!0},Ar=t=>({state:e,dispatch:r})=>{const s=Q(t,e.schema);return Hn(s)(e,r)};function Kr(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const s=r.filter(u=>e==null?void 0:e.includes(u.type.name));t.tr.ensureMarks(s)}}const qr=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:s,editor:u})=>{const{selection:p,doc:g}=e,{$from:C,$to:D}=p,$=u.extensionManager.attributes,B=kr($,C.node().type.name,C.node().attrs);if(p instanceof A.qv&&p.node.isBlock)return!C.parentOffset||!(0,le.Ax)(g,C.pos)?!1:(s&&(t&&Kr(r,u.extensionManager.splittableMarks),e.split(C.pos).scrollIntoView()),!0);if(!C.parent.isBlock)return!1;if(s){const G=D.parentOffset===D.parent.content.size;p instanceof A.Bs&&e.deleteSelection();const ee=C.depth===0?void 0:hr(C.node(-1).contentMatchAt(C.indexAfter(-1)));let be=G&&ee?[{type:ee,attrs:B}]:void 0,Qe=(0,le.Ax)(e.doc,e.mapping.map(C.pos),1,be);if(!be&&!Qe&&(0,le.Ax)(e.doc,e.mapping.map(C.pos),1,ee?[{type:ee}]:void 0)&&(Qe=!0,be=ee?[{type:ee,attrs:B}]:void 0),Qe&&(e.split(e.mapping.map(C.pos),1,be),ee&&!G&&!C.parentOffset&&C.parent.type!==ee)){const ct=e.mapping.map(C.before()),yt=e.doc.resolve(ct);C.node(-1).canReplaceWith(yt.index(),yt.index()+1,ee)&&e.setNodeMarkup(e.mapping.map(C.before()),ee)}t&&Kr(r,u.extensionManager.splittableMarks),e.scrollIntoView()}return!0},jr=t=>({tr:e,state:r,dispatch:s,editor:u})=>{var p;const g=Q(t,r.schema),{$from:C,$to:D}=r.selection,$=r.selection.node;if($&&$.isBlock||C.depth<2||!C.sameParent(D))return!1;const B=C.node(-1);if(B.type!==g)return!1;const G=u.extensionManager.attributes;if(C.parent.content.size===0&&C.node(-1).childCount===C.indexAfter(-1)){if(C.depth===2||C.node(-3).type!==g||C.index(-2)!==C.node(-2).childCount-1)return!1;if(s){let yt=de.HY.empty;const vt=C.index(-1)?1:C.index(-2)?2:3;for(let pr=C.depth-vt;pr>=C.depth-3;pr-=1)yt=de.HY.from(C.node(pr).copy(yt));const pn=C.indexAfter(-1)<C.node(-2).childCount?1:C.indexAfter(-2)<C.node(-3).childCount?2:3,rr=kr(G,C.node().type.name,C.node().attrs),lr=((p=g.contentMatch.defaultType)===null||p===void 0?void 0:p.createAndFill(rr))||void 0;yt=yt.append(de.HY.from(g.createAndFill(null,lr)||void 0));const tn=C.before(C.depth-(vt-1));e.replace(tn,C.after(-pn),new de.p2(yt,4-vt,0));let sr=-1;e.doc.nodesBetween(tn,e.doc.content.size,(pr,Or)=>{if(sr>-1)return!1;pr.isTextblock&&pr.content.size===0&&(sr=Or+1)}),sr>-1&&e.setSelection(A.Bs.near(e.doc.resolve(sr))),e.scrollIntoView()}return!0}const ee=D.pos===C.end()?B.contentMatchAt(0).defaultType:null,be=kr(G,B.type.name,B.attrs),Qe=kr(G,C.node().type.name,C.node().attrs);e.delete(C.pos,D.pos);const ct=ee?[{type:g,attrs:be},{type:ee,attrs:Qe}]:[{type:g,attrs:be}];if(!(0,le.Ax)(e.doc,C.pos,2))return!1;if(s){const{selection:yt,storedMarks:vt}=r,{splittableMarks:pn}=u.extensionManager,rr=vt||yt.$to.parentOffset&&yt.$from.marks();if(e.split(C.pos,2,ct).scrollIntoView(),!rr||!s)return!0;const lr=rr.filter(tn=>pn.includes(tn.type.name));e.ensureMarks(lr)}return!0},Rr=(t,e)=>{const r=_r(g=>g.type===e)(t.selection);if(!r)return!0;const s=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(s===void 0)return!0;const u=t.doc.nodeAt(s);return r.node.type===(u==null?void 0:u.type)&&(0,le.Mn)(t.doc,r.pos)&&t.join(r.pos),!0},Er=(t,e)=>{const r=_r(g=>g.type===e)(t.selection);if(!r)return!0;const s=t.doc.resolve(r.start).after(r.depth);if(s===void 0)return!0;const u=t.doc.nodeAt(s);return r.node.type===(u==null?void 0:u.type)&&(0,le.Mn)(t.doc,s)&&t.join(s),!0};var ye=Object.freeze({__proto__:null,blur:kt,clearContent:Zt,clearNodes:qt,command:On,createParagraphNear:Wt,cut:an,deleteCurrentNode:Un,deleteNode:Gn,deleteRange:xn,deleteSelection:$n,enter:or,exitCode:ir,extendMarkRange:M,first:R,focus:V,forEach:K,insertContent:Z,insertContentAt:Re,joinUp:$e,joinDown:et,joinBackward:ht,joinForward:wt,joinItemBackward:rt,joinItemForward:It,keyboardShortcut:Gt,lift:ln,liftEmptyBlock:nn,liftListItem:Ln,newlineInCode:Wn,resetAttributes:gn,scrollIntoView:zt,selectAll:jn,selectNodeBackward:Fn,selectNodeForward:nr,selectParentNode:jt,selectTextblockEnd:ot,selectTextblockStart:Ct,setContent:dn,setMark:Nr,setMeta:ar,setNode:fr,setNodeSelection:wr,setTextSelection:$r,sinkListItem:Ar,splitBlock:qr,splitListItem:jr,toggleList:(t,e,r,s={})=>({editor:u,tr:p,state:g,dispatch:C,chain:D,commands:$,can:B})=>{const{extensions:G,splittableMarks:ee}=u.extensionManager,be=Q(t,g.schema),Qe=Q(e,g.schema),{selection:ct,storedMarks:yt}=g,{$from:vt,$to:pn}=ct,rr=vt.blockRange(pn),lr=yt||ct.$to.parentOffset&&ct.$from.marks();if(!rr)return!1;const tn=_r(sr=>Br(sr.type.name,G))(ct);if(rr.depth>=1&&tn&&rr.depth-tn.depth<=1){if(tn.node.type===be)return $.liftListItem(Qe);if(Br(tn.node.type.name,G)&&be.validContent(tn.node.content)&&C)return D().command(()=>(p.setNodeMarkup(tn.pos,be),!0)).command(()=>Rr(p,be)).command(()=>Er(p,be)).run()}return!r||!lr||!C?D().command(()=>B().wrapInList(be,s)?!0:$.clearNodes()).wrapInList(be,s).command(()=>Rr(p,be)).command(()=>Er(p,be)).run():D().command(()=>{const sr=B().wrapInList(be,s),pr=lr.filter(Or=>ee.includes(Or.type.name));return p.ensureMarks(pr),sr?!0:$.clearNodes()}).wrapInList(be,s).command(()=>Rr(p,be)).command(()=>Er(p,be)).run()},toggleMark:(t,e={},r={})=>({state:s,commands:u})=>{const{extendEmptyMarkRange:p=!1}=r,g=w(t,s.schema);return vr(s,g,e)?u.unsetMark(g,{extendEmptyMarkRange:p}):u.setMark(g,e)},toggleNode:(t,e,r={})=>({state:s,commands:u})=>{const p=Q(t,s.schema),g=Q(e,s.schema);return Qt(s,p,r)?u.setNode(g):u.setNode(p,r)},toggleWrap:(t,e={})=>({state:r,commands:s})=>{const u=Q(t,r.schema);return Qt(r,u,e)?s.lift(u):s.wrapIn(u,e)},undoInputRule:()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let s=0;s<r.length;s+=1){const u=r[s];let p;if(u.spec.isInputRules&&(p=u.getState(t))){if(e){const g=t.tr,C=p.transform;for(let D=C.steps.length-1;D>=0;D-=1)g.step(C.steps[D].invert(C.docs[D]));if(p.text){const D=g.doc.resolve(p.from).marks();g.replaceWith(p.from,p.to,t.schema.text(p.text,D))}else g.delete(p.from,p.to)}return!0}}return!1},unsetAllMarks:()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:s,ranges:u}=r;return s||e&&u.forEach(p=>{t.removeMark(p.$from.pos,p.$to.pos)}),!0},unsetMark:(t,e={})=>({tr:r,state:s,dispatch:u})=>{var p;const{extendEmptyMarkRange:g=!1}=e,{selection:C}=r,D=w(t,s.schema),{$from:$,empty:B,ranges:G}=C;if(!u)return!0;if(B&&g){let{from:ee,to:be}=C;const Qe=(p=$.marks().find(yt=>yt.type===D))===null||p===void 0?void 0:p.attrs,ct=h($,D,Qe);ct&&(ee=ct.from,be=ct.to),r.removeMark(ee,be,D)}else G.forEach(ee=>{r.removeMark(ee.$from.pos,ee.$to.pos,D)});return r.removeStoredMark(D),!0},updateAttributes:(t,e={})=>({tr:r,state:s,dispatch:u})=>{let p=null,g=null;const C=bt(typeof t=="string"?t:t.name,s.schema);return C?(C==="node"&&(p=Q(t,s.schema)),C==="mark"&&(g=w(t,s.schema)),u&&r.selection.ranges.forEach(D=>{const $=D.$from.pos,B=D.$to.pos;s.doc.nodesBetween($,B,(G,ee)=>{p&&p===G.type&&r.setNodeMarkup(ee,void 0,Te(Te({},G.attrs),e)),g&&G.marks.length&&G.marks.forEach(be=>{if(g===be.type){const Qe=Math.max(ee,$),ct=Math.min(ee+G.nodeSize,B);r.addMark(Qe,ct,g.create(Te(Te({},be.attrs),e)))}})})}),!0):!1},wrapIn:(t,e={})=>({state:r,dispatch:s})=>{const u=Q(t,r.schema);return Lt(u,e)(r,s)},wrapInList:(t,e={})=>({state:r,dispatch:s})=>{const u=Q(t,r.schema);return tr(u,e)(r,s)}});const Oe=Et.create({name:"commands",addCommands(){return Te({},ye)}}),Ae=Et.create({name:"editable",addProseMirrorPlugins(){return[new A.Sy({key:new A.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Ie=Et.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new A.Sy({key:new A.H$("focusEvents"),props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,r)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),ft=Et.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:g})=>[()=>g.undoInputRule(),()=>g.command(({tr:C})=>{const{selection:D,doc:$}=C,{empty:B,$anchor:G}=D,{pos:ee,parent:be}=G,Qe=G.parent.isTextblock?C.doc.resolve(ee-1):G,ct=Qe.parent.type.spec.isolating,yt=G.pos-G.parentOffset,vt=ct&&Qe.parent.childCount===1?yt===G.pos:A.Y1.atStart($).from===ee;return!B||!vt||!be.type.isTextblock||be.textContent.length?!1:g.clearNodes()}),()=>g.deleteSelection(),()=>g.joinBackward(),()=>g.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:g})=>[()=>g.deleteSelection(),()=>g.deleteCurrentNode(),()=>g.joinForward(),()=>g.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:g})=>[()=>g.newlineInCode(),()=>g.createParagraphNear(),()=>g.liftEmptyBlock(),()=>g.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},u=Te({},s),p=Te(Te({},s),{"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return P()||un()?p:u},addProseMirrorPlugins(){return[new A.Sy({key:new A.H$("clearDocument"),appendTransaction:(t,e,r)=>{if(!(t.some(Qe=>Qe.docChanged)&&!e.doc.eq(r.doc)))return;const{empty:u,from:p,to:g}=e.selection,C=A.Y1.atStart(e.doc).from,D=A.Y1.atEnd(e.doc).to;if(u||!(p===C&&g===D)||!(r.doc.textBetween(0,r.doc.content.size," "," ").length===0))return;const G=r.tr,ee=ue({state:r,transaction:G}),{commands:be}=new v({editor:this.editor,state:ee});if(be.clearNodes(),!!G.steps.length)return G}})]}}),Je=Et.create({name:"tabindex",addProseMirrorPlugins(){return[new A.Sy({key:new A.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var en=Object.freeze({__proto__:null,ClipboardTextSerializer:_e,Commands:Oe,Editable:Ae,FocusEvents:Ie,Keymap:ft,Tabindex:Je});const Jt=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Pt(t,e,r){const s=document.querySelector(`style[data-tiptap-style${r?`-${r}`:""}]`);if(s!==null)return s;const u=document.createElement("style");return e&&u.setAttribute("nonce",e),u.setAttribute(`data-tiptap-style${r?`-${r}`:""}`,""),u.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(u),u}class Kt extends _{constructor(e={}){super();this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Pt(Jt,this.options.injectNonce))}setOptions(e={}){this.options=Te(Te({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){const s=I(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],u=this.state.reconfigure({plugins:s});this.view.updateState(u)}unregisterPlugin(e){if(this.isDestroyed)return;const r=typeof e=="string"?`${e}$`:e.key,s=this.state.reconfigure({plugins:this.state.plugins.filter(u=>!u.key.startsWith(r))});this.view.updateState(s)}createExtensionManager(){const r=[...this.options.enableCoreExtensions?Object.values(en):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new W(r,this)}createCommandManager(){this.commandManager=new v({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=Vt(this.options.content,this.schema,this.options.parseOptions),r=x(e,this.options.autofocus);this.view=new Ne.tk(this.options.element,Te(Te({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:A.yy.create({doc:e,selection:r||void 0})}));const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const u=this.view.dom;u.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(g=>{var C;return(C=this.capturedTransaction)===null||C===void 0?void 0:C.step(g)});return}const r=this.state.apply(e),s=!this.state.selection.eq(r.selection);this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const u=e.getMeta("focus"),p=e.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:e}),p&&this.emit("blur",{editor:this,event:p.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return zr(this.state,e)}isActive(e,r){const s=typeof e=="string"?e:null,u=typeof e=="string"?r:e;return ti(this.state,s,u)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Qn(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:r=`

`,textSerializers:s={}}=e||{};return Gr(this.state.doc,{blockSeparator:r,textSerializers:Te(Te({},nt(this.schema)),s)})}get isEmpty(){return dr(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!((e=this.view)===null||e===void 0?void 0:e.docView)}}function At(t){return new F({find:t.find,handler:({state:e,range:r,match:s})=>{const u=o(t.getAttributes,void 0,s);if(u===!1||u===null)return null;const{tr:p}=e,g=s[s.length-1],C=s[0];if(g){const D=C.search(/\S/),$=r.from+C.indexOf(g),B=$+g.length;if(yr(r.from,r.to,e.doc).filter(be=>be.mark.type.excluded.find(ct=>ct===t.type&&ct!==be.mark.type)).filter(be=>be.to>$).length)return null;B<r.to&&p.delete(B,r.to),$>r.from&&p.delete(r.from+D,$);const ee=r.from+D+g.length;p.addMark(r.from+D,ee,t.type.create(u||{})),p.removeStoredMark(t.type)}}})}function Mt(t){return new F({find:t.find,handler:({state:e,range:r,match:s})=>{const u=o(t.getAttributes,void 0,s)||{},{tr:p}=e,g=r.from;let C=r.to;const D=t.type.create(u);if(s[1]){const $=s[0].lastIndexOf(s[1]);let B=g+$;B>C?B=C:C=B+s[1].length;const G=s[0][s[0].length-1];p.insertText(G,g+s[0].length-1),p.replaceWith(B,C,D)}else s[0]&&p.insert(g-1,t.type.create(u)).delete(p.mapping.map(g),p.mapping.map(C));p.scrollIntoView()}})}function mt(t){return new F({find:t.find,handler:({state:e,range:r,match:s})=>{const u=e.doc.resolve(r.from),p=o(t.getAttributes,void 0,s)||{};if(!u.node(-1).canReplaceWith(u.index(-1),u.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,p)}})}function Xt(t){return new F({find:t.find,handler:({state:e,range:r,match:s})=>{let u=t.replace,p=r.from;const g=r.to;if(s[1]){const C=s[0].lastIndexOf(s[1]);u+=s[0].slice(C+s[1].length),p+=C;const D=p-g;D>0&&(u=s[0].slice(C-D,C)+u,p=g)}e.tr.insertText(u,p,g)}})}function fn(t){return new F({find:t.find,handler:({state:e,range:r,match:s,chain:u})=>{const p=o(t.getAttributes,void 0,s)||{},g=e.tr.delete(r.from,r.to),D=g.doc.resolve(r.from).blockRange(),$=D&&(0,le.nd)(D,t.type,p);if(!$)return null;if(g.wrap(D,$),t.keepMarks&&t.editor){const{selection:G,storedMarks:ee}=e,{splittableMarks:be}=t.editor.extensionManager,Qe=ee||G.$to.parentOffset&&G.$from.marks();if(Qe){const ct=Qe.filter(yt=>be.includes(yt.type.name));g.ensureMarks(ct)}}if(t.keepAttributes){const G=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";u().updateAttributes(G,p).run()}const B=g.doc.resolve(r.from-1).nodeBefore;B&&B.type===t.type&&(0,le.Mn)(g.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(s,B))&&g.join(r.from-1)}})}class re{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Te(Te({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=o(T(this,"addOptions",{name:this.name}))),this.storage=o(T(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new re(e)}configure(e={}){const r=this.extend();return r.options=lt(this.options,e),r.storage=o(T(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new re(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=o(T(r,"addOptions",{name:r.name})),r.storage=o(T(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){const{tr:s}=e.state,u=e.state.selection.$from;if(u.pos===u.end()){const g=u.marks();if(!!!g.find($=>($==null?void 0:$.type.name)===r.name))return!1;const D=g.find($=>($==null?void 0:$.type.name)===r.name);return D&&s.removeStoredMark(D),s.insertText(" ",u.pos),e.view.dispatch(s),!0}return!1}}class Nt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Te(Te({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=o(T(this,"addOptions",{name:this.name}))),this.storage=o(T(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Nt(e)}configure(e={}){const r=this.extend();return r.options=lt(this.options,e),r.storage=o(T(r,"addStorage",{name:r.name,options:r.options})),r}extend(e={}){const r=new Nt(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=o(T(r,"addOptions",{name:r.name})),r.storage=o(T(r,"addStorage",{name:r.name,options:r.options})),r}}function pt(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class kn{constructor(e,r,s){this.isDragging=!1,this.component=e,this.editor=r.editor,this.options=Te({stopEvent:null,ignoreMutation:null},s),this.extension=r.extension,this.node=r.node,this.decorations=r.decorations,this.getPos=r.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var r,s,u,p,g,C,D;const{view:$}=this.editor,B=e.target,G=B.nodeType===3?(r=B.parentElement)===null||r===void 0?void 0:r.closest("[data-drag-handle]"):B.closest("[data-drag-handle]");if(!this.dom||((s=this.contentDOM)===null||s===void 0?void 0:s.contains(B))||!G)return;let ee=0,be=0;if(this.dom!==G){const yt=this.dom.getBoundingClientRect(),vt=G.getBoundingClientRect(),pn=(u=e.offsetX)!==null&&u!==void 0?u:(p=e.nativeEvent)===null||p===void 0?void 0:p.offsetX,rr=(g=e.offsetY)!==null&&g!==void 0?g:(C=e.nativeEvent)===null||C===void 0?void 0:C.offsetY;ee=vt.x-yt.x+pn,be=vt.y-yt.y+rr}(D=e.dataTransfer)===null||D===void 0||D.setDragImage(this.dom,ee,be);const Qe=A.qv.create($.state.doc,this.getPos()),ct=$.state.tr.setSelection(Qe);$.dispatch(ct)}stopEvent(e){var r;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const s=e.target;if(!(this.dom.contains(s)&&!((r=this.contentDOM)===null||r===void 0?void 0:r.contains(s))))return!1;const p=e.type.startsWith("drag"),g=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(s.tagName)||s.isContentEditable)&&!g&&!p)return!0;const{isEditable:D}=this.editor,{isDragging:$}=this,B=!!this.node.type.spec.draggable,G=A.qv.isSelectable(this.node),ee=e.type==="copy",be=e.type==="paste",Qe=e.type==="cut",ct=e.type==="mousedown";if(!B&&G&&p&&e.preventDefault(),B&&p&&!$)return e.preventDefault(),!1;if(B&&D&&!$&&ct){const yt=s.closest("[data-drag-handle]");yt&&(this.dom===yt||this.dom.contains(yt))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!($||g||ee||be||Qe||ct&&G)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(P()||pt())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(s=>s.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:r})=>{const s=this.getPos();return r.setNodeMarkup(s,void 0,Te(Te({},this.node.attrs),e)),!0})}deleteNode(){const e=this.getPos(),r=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:r})}}function An(t){return new Le({find:t.find,handler:({state:e,range:r,match:s})=>{const u=o(t.getAttributes,void 0,s);if(u===!1||u===null)return null;const{tr:p}=e,g=s[s.length-1],C=s[0];let D=r.to;if(g){const $=C.search(/\S/),B=r.from+C.indexOf(g),G=B+g.length;if(yr(r.from,r.to,e.doc).filter(be=>be.mark.type.excluded.find(ct=>ct===t.type&&ct!==be.mark.type)).filter(be=>be.to>B).length)return null;G<r.to&&p.delete(G,r.to),B>r.from&&p.delete(r.from+$,B),D=r.from+$+g.length,p.addMark(r.from+$,D,t.type.create(u||{})),p.removeStoredMark(t.type)}}})}function Zn(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function i(t){return typeof t=="string"}function n(t){return new Le({find:t.find,handler({match:e,chain:r,range:s}){const u=o(t.getAttributes,void 0,e);if(u===!1||u===null)return null;e.input&&r().deleteRange(s).insertContentAt(s.from,{type:t.type.name,attrs:u})}})}function a(t){return new Le({find:t.find,handler:({state:e,range:r,match:s})=>{let u=t.replace,p=r.from;const g=r.to;if(s[1]){const C=s[0].lastIndexOf(s[1]);u+=s[0].slice(C+s[1].length),p+=C;const D=p-g;D>0&&(u=s[0].slice(C-D,C)+u,p=g)}e.tr.insertText(u,p,g)}})}class l{constructor(e){this.transaction=e,this.currentStep=this.transaction.steps.length}map(e){let r=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((u,p)=>{const g=p.getMap().mapResult(u);return g.deleted&&(r=!0),g.pos},e),deleted:r}}}},29301:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ut}});var A=ge(11156),Ne=ge(14102),Ee=ge(66961),de=ge(35371),le={exports:{}};function qe(W){return W instanceof Map?W.clear=W.delete=W.set=function(){throw new Error("map is read-only")}:W instanceof Set&&(W.add=W.clear=W.delete=function(){throw new Error("set is read-only")}),Object.freeze(W),Object.getOwnPropertyNames(W).forEach(function(ae){var Me=W[ae];typeof Me=="object"&&!Object.isFrozen(Me)&&qe(Me)}),W}le.exports=qe,le.exports.default=qe;class je{constructor(ae){ae.data===void 0&&(ae.data={}),this.data=ae.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function me(W){return W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Fe(W,...ae){const Me=Object.create(null);for(const lt in W)Me[lt]=W[lt];return ae.forEach(function(lt){for(const Et in lt)Me[Et]=lt[Et]}),Me}const He="</span>",Xe=W=>!!W.scope||W.sublanguage&&W.language,at=(W,{prefix:ae})=>{if(W.includes(".")){const Me=W.split(".");return[`${ae}${Me.shift()}`,...Me.map((lt,Et)=>`${lt}${"_".repeat(Et+1)}`)].join(" ")}return`${ae}${W}`};class dt{constructor(ae,Me){this.buffer="",this.classPrefix=Me.classPrefix,ae.walk(this)}addText(ae){this.buffer+=me(ae)}openNode(ae){if(!Xe(ae))return;let Me="";ae.sublanguage?Me=`language-${ae.language}`:Me=at(ae.scope,{prefix:this.classPrefix}),this.span(Me)}closeNode(ae){!Xe(ae)||(this.buffer+=He)}value(){return this.buffer}span(ae){this.buffer+=`<span class="${ae}">`}}const st=(W={})=>{const ae={children:[]};return Object.assign(ae,W),ae};class Ue{constructor(){this.rootNode=st(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(ae){this.top.children.push(ae)}openNode(ae){const Me=st({scope:ae});this.add(Me),this.stack.push(Me)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(ae){return this.constructor._walk(ae,this.rootNode)}static _walk(ae,Me){return typeof Me=="string"?ae.addText(Me):Me.children&&(ae.openNode(Me),Me.children.forEach(lt=>this._walk(ae,lt)),ae.closeNode(Me)),ae}static _collapse(ae){typeof ae!="string"&&(!ae.children||(ae.children.every(Me=>typeof Me=="string")?ae.children=[ae.children.join("")]:ae.children.forEach(Me=>{Ue._collapse(Me)})))}}class ut extends Ue{constructor(ae){super();this.options=ae}addKeyword(ae,Me){ae!==""&&(this.openNode(Me),this.addText(ae),this.closeNode())}addText(ae){ae!==""&&this.add(ae)}addSublanguage(ae,Me){const lt=ae.root;lt.sublanguage=!0,lt.language=Me,this.add(lt)}toHTML(){return new dt(this,this.options).value()}finalize(){return!0}}function Pe(W){return W?typeof W=="string"?W:W.source:null}function Ye(W){return Bt("(?=",W,")")}function We(W){return Bt("(?:",W,")*")}function Rt(W){return Bt("(?:",W,")?")}function Bt(...W){return W.map(Me=>Pe(Me)).join("")}function ve(W){const ae=W[W.length-1];return typeof ae=="object"&&ae.constructor===Object?(W.splice(W.length-1,1),ae):{}}function Ht(...W){const ae=ve(W);return"("+(ae.capture?"":"?:")+W.map(lt=>Pe(lt)).join("|")+")"}function St(W){return new RegExp(W.toString()+"|").exec("").length-1}function on(W,ae){const Me=W&&W.exec(ae);return Me&&Me.index===0}const Ge=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Ke(W,{joinWith:ae}){let Me=0;return W.map(lt=>{Me+=1;const Et=Me;let Tt=Pe(lt),nt="";for(;Tt.length>0;){const _e=Ge.exec(Tt);if(!_e){nt+=Tt;break}nt+=Tt.substring(0,_e.index),Tt=Tt.substring(_e.index+_e[0].length),_e[0][0]==="\\"&&_e[1]?nt+="\\"+String(Number(_e[1])+Et):(nt+=_e[0],_e[0]==="("&&Me++)}return nt}).map(lt=>`(${lt})`).join(ae)}const Be=/\b\B/,gt="[a-zA-Z]\\w*",Ce="[a-zA-Z_]\\w*",U="\\b\\d+(\\.\\d+)?",J="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",te="\\b(0b[01]+)",ke="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ze=(W={})=>{const ae=/^#![ ]*\//;return W.binary&&(W.begin=Bt(ae,/.*\b/,W.binary,/\b.*/)),Fe({scope:"meta",begin:ae,end:/$/,relevance:0,"on:begin":(Me,lt)=>{Me.index!==0&&lt.ignoreMatch()}},W)},it={begin:"\\\\[\\s\\S]",relevance:0},Lt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[it]},Ft={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[it]},Dt={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},xt=function(W,ae,Me={}){const lt=Fe({scope:"comment",begin:W,end:ae,contains:[]},Me);lt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const Et=Ht("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return lt.contains.push({begin:Bt(/[ ]+/,"(",Et,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),lt},Cn=xt("//","$"),zn=xt("/\\*","\\*/"),Rn=xt("#","$"),Mn={scope:"number",begin:U,relevance:0},rn={scope:"number",begin:J,relevance:0},vn={scope:"number",begin:te,relevance:0},bn={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[it,{begin:/\[/,end:/\]/,relevance:0,contains:[it]}]}]},mn={scope:"title",begin:gt,relevance:0},qn={scope:"title",begin:Ce,relevance:0},In={begin:"\\.\\s*"+Ce,relevance:0};var cn=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Be,IDENT_RE:gt,UNDERSCORE_IDENT_RE:Ce,NUMBER_RE:U,C_NUMBER_RE:J,BINARY_NUMBER_RE:te,RE_STARTERS_RE:ke,SHEBANG:ze,BACKSLASH_ESCAPE:it,APOS_STRING_MODE:Lt,QUOTE_STRING_MODE:Ft,PHRASAL_WORDS_MODE:Dt,COMMENT:xt,C_LINE_COMMENT_MODE:Cn,C_BLOCK_COMMENT_MODE:zn,HASH_COMMENT_MODE:Rn,NUMBER_MODE:Mn,C_NUMBER_MODE:rn,BINARY_NUMBER_MODE:vn,REGEXP_MODE:bn,TITLE_MODE:mn,UNDERSCORE_TITLE_MODE:qn,METHOD_GUARD:In,END_SAME_AS_BEGIN:function(W){return Object.assign(W,{"on:begin":(ae,Me)=>{Me.data._beginMatch=ae[1]},"on:end":(ae,Me)=>{Me.data._beginMatch!==ae[1]&&Me.ignoreMatch()}})}});function Pn(W,ae){W.input[W.index-1]==="."&&ae.ignoreMatch()}function Sn(W,ae){W.className!==void 0&&(W.scope=W.className,delete W.className)}function Bn(W,ae){!ae||!W.beginKeywords||(W.begin="\\b("+W.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",W.__beforeBegin=Pn,W.keywords=W.keywords||W.beginKeywords,delete W.beginKeywords,W.relevance===void 0&&(W.relevance=0))}function Tn(W,ae){!Array.isArray(W.illegal)||(W.illegal=Ht(...W.illegal))}function Xn(W,ae){if(!!W.match){if(W.begin||W.end)throw new Error("begin & end are not supported with match");W.begin=W.match,delete W.match}}function tr(W,ae){W.relevance===void 0&&(W.relevance=1)}const _n=(W,ae)=>{if(!W.beforeMatch)return;if(W.starts)throw new Error("beforeMatch cannot be used with starts");const Me=Object.assign({},W);Object.keys(W).forEach(lt=>{delete W[lt]}),W.keywords=Me.keywords,W.begin=Bt(Me.beforeMatch,Ye(Me.begin)),W.starts={relevance:0,contains:[Object.assign(Me,{endsParent:!0})]},W.relevance=0,delete Me.beforeMatch},Jn=["of","and","for","in","not","or","if","then","parent","list","value"],Yn="keyword";function Dn(W,ae,Me=Yn){const lt=Object.create(null);return typeof W=="string"?Et(Me,W.split(" ")):Array.isArray(W)?Et(Me,W):Object.keys(W).forEach(function(Tt){Object.assign(lt,Dn(W[Tt],ae,Tt))}),lt;function Et(Tt,nt){ae&&(nt=nt.map(_e=>_e.toLowerCase())),nt.forEach(function(_e){const kt=_e.split("|");lt[kt[0]]=[Tt,Nn(kt[0],kt[1])]})}}function Nn(W,ae){return ae?Number(ae):Hn(W)?0:1}function Hn(W){return Jn.includes(W.toLowerCase())}const ue={},v=W=>{console.error(W)},_=(W,...ae)=>{console.log(`WARN: ${W}`,...ae)},T=(W,ae)=>{ue[`${W}/${ae}`]||(console.log(`Deprecated as of ${W}. ${ae}`),ue[`${W}/${ae}`]=!0)},Y=new Error;function ie(W,ae,{key:Me}){let lt=0;const Et=W[Me],Tt={},nt={};for(let _e=1;_e<=ae.length;_e++)nt[_e+lt]=Et[_e],Tt[_e+lt]=!0,lt+=St(ae[_e-1]);W[Me]=nt,W[Me]._emit=Tt,W[Me]._multi=!0}function Q(W){if(!!Array.isArray(W.begin)){if(W.skip||W.excludeBegin||W.returnBegin)throw v("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Y;if(typeof W.beginScope!="object"||W.beginScope===null)throw v("beginScope must be object"),Y;ie(W,W.begin,{key:"beginScope"}),W.begin=Ke(W.begin,{joinWith:""})}}function we(W){if(!!Array.isArray(W.end)){if(W.skip||W.excludeEnd||W.returnEnd)throw v("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Y;if(typeof W.endScope!="object"||W.endScope===null)throw v("endScope must be object"),Y;ie(W,W.end,{key:"endScope"}),W.end=Ke(W.end,{joinWith:""})}}function De(W){W.scope&&typeof W.scope=="object"&&W.scope!==null&&(W.beginScope=W.scope,delete W.scope)}function I(W){De(W),typeof W.beginScope=="string"&&(W.beginScope={_wrap:W.beginScope}),typeof W.endScope=="string"&&(W.endScope={_wrap:W.endScope}),Q(W),we(W)}function o(W){function ae(nt,_e){return new RegExp(Pe(nt),"m"+(W.case_insensitive?"i":"")+(W.unicodeRegex?"u":"")+(_e?"g":""))}class Me{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(_e,kt){kt.position=this.position++,this.matchIndexes[this.matchAt]=kt,this.regexes.push([kt,_e]),this.matchAt+=St(_e)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const _e=this.regexes.map(kt=>kt[1]);this.matcherRe=ae(Ke(_e,{joinWith:"|"}),!0),this.lastIndex=0}exec(_e){this.matcherRe.lastIndex=this.lastIndex;const kt=this.matcherRe.exec(_e);if(!kt)return null;const Zt=kt.findIndex((On,Wt)=>Wt>0&&On!==void 0),qt=this.matchIndexes[Zt];return kt.splice(0,Zt),Object.assign(kt,qt)}}class lt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(_e){if(this.multiRegexes[_e])return this.multiRegexes[_e];const kt=new Me;return this.rules.slice(_e).forEach(([Zt,qt])=>kt.addRule(Zt,qt)),kt.compile(),this.multiRegexes[_e]=kt,kt}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(_e,kt){this.rules.push([_e,kt]),kt.type==="begin"&&this.count++}exec(_e){const kt=this.getMatcher(this.regexIndex);kt.lastIndex=this.lastIndex;let Zt=kt.exec(_e);if(this.resumingScanAtSamePosition()&&!(Zt&&Zt.index===this.lastIndex)){const qt=this.getMatcher(0);qt.lastIndex=this.lastIndex+1,Zt=qt.exec(_e)}return Zt&&(this.regexIndex+=Zt.position+1,this.regexIndex===this.count&&this.considerAll()),Zt}}function Et(nt){const _e=new lt;return nt.contains.forEach(kt=>_e.addRule(kt.begin,{rule:kt,type:"begin"})),nt.terminatorEnd&&_e.addRule(nt.terminatorEnd,{type:"end"}),nt.illegal&&_e.addRule(nt.illegal,{type:"illegal"}),_e}function Tt(nt,_e){const kt=nt;if(nt.isCompiled)return kt;[Sn,Xn,I,_n].forEach(qt=>qt(nt,_e)),W.compilerExtensions.forEach(qt=>qt(nt,_e)),nt.__beforeBegin=null,[Bn,Tn,tr].forEach(qt=>qt(nt,_e)),nt.isCompiled=!0;let Zt=null;return typeof nt.keywords=="object"&&nt.keywords.$pattern&&(nt.keywords=Object.assign({},nt.keywords),Zt=nt.keywords.$pattern,delete nt.keywords.$pattern),Zt=Zt||/\w+/,nt.keywords&&(nt.keywords=Dn(nt.keywords,W.case_insensitive)),kt.keywordPatternRe=ae(Zt,!0),_e&&(nt.begin||(nt.begin=/\B|\b/),kt.beginRe=ae(kt.begin),!nt.end&&!nt.endsWithParent&&(nt.end=/\B|\b/),nt.end&&(kt.endRe=ae(kt.end)),kt.terminatorEnd=Pe(kt.end)||"",nt.endsWithParent&&_e.terminatorEnd&&(kt.terminatorEnd+=(nt.end?"|":"")+_e.terminatorEnd)),nt.illegal&&(kt.illegalRe=ae(nt.illegal)),nt.contains||(nt.contains=[]),nt.contains=[].concat(...nt.contains.map(function(qt){return y(qt==="self"?nt:qt)})),nt.contains.forEach(function(qt){Tt(qt,kt)}),nt.starts&&Tt(nt.starts,_e),kt.matcher=Et(kt),kt}if(W.compilerExtensions||(W.compilerExtensions=[]),W.contains&&W.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return W.classNameAliases=Fe(W.classNameAliases||{}),Tt(W)}function c(W){return W?W.endsWithParent||c(W.starts):!1}function y(W){return W.variants&&!W.cachedVariants&&(W.cachedVariants=W.variants.map(function(ae){return Fe(W,{variants:null},ae)})),W.cachedVariants?W.cachedVariants:c(W)?Fe(W,{starts:W.starts?Fe(W.starts):null}):Object.isFrozen(W)?Fe(W):W}var S="11.6.0";class O extends Error{constructor(ae,Me){super(ae);this.name="HTMLInjectionError",this.html=Me}}const z=me,j=Fe,ce=Symbol("nomatch"),tt=7;var F=function(W){const ae=Object.create(null),Me=Object.create(null),lt=[];let Et=!0;const Tt="Could not find the language '{}', did you forget to load/include a language module?",nt={disableAutodetect:!0,name:"Plain text",contains:[]};let _e={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:ut};function kt(K){return _e.noHighlightRe.test(K)}function Zt(K){let Z=K.className+" ";Z+=K.parentNode?K.parentNode.className:"";const X=_e.languageDetectRe.exec(Z);if(X){const he=M(X[1]);return he||(_(Tt.replace("{}",X[1])),_("Falling back to no-highlight mode for this block.",K)),he?X[1]:"no-highlight"}return Z.split(/\s+/).find(he=>kt(he)||M(he))}function qt(K,Z,X){let he="",pe="";typeof Z=="object"?(he=K,X=Z.ignoreIllegals,pe=Z.language):(T("10.7.0","highlight(lang, code, ...args) has been deprecated."),T("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),pe=K,he=Z),X===void 0&&(X=!0);const Se={code:he,language:pe};P("before:highlight",Se);const Re=Se.result?Se.result:On(Se.language,Se.code,X);return Re.code=Se.code,P("after:highlight",Re),Re}function On(K,Z,X,he){const pe=Object.create(null);function Se(ot,Ct){return ot.keywords[Ct]}function Re(){if(!bt.keywords){gn.addText(zt);return}let ot=0;bt.keywordPatternRe.lastIndex=0;let Ct=bt.keywordPatternRe.exec(zt),Vt="";for(;Ct;){Vt+=zt.substring(ot,Ct.index);const dn=nn.case_insensitive?Ct[0].toLowerCase():Ct[0],Kn=Se(bt,dn);if(Kn){const[ur,hr]=Kn;if(gn.addText(Vt),Vt="",pe[dn]=(pe[dn]||0)+1,pe[dn]<=tt&&(jn+=hr),ur.startsWith("_"))Vt+=Ct[0];else{const br=nn.classNameAliases[ur]||ur;gn.addKeyword(Ct[0],br)}}else Vt+=Ct[0];ot=bt.keywordPatternRe.lastIndex,Ct=bt.keywordPatternRe.exec(zt)}Vt+=zt.substring(ot),gn.addText(Vt)}function $e(){if(zt==="")return;let ot=null;if(typeof bt.subLanguage=="string"){if(!ae[bt.subLanguage]){gn.addText(zt);return}ot=On(bt.subLanguage,zt,!0,yn[bt.subLanguage]),yn[bt.subLanguage]=ot._top}else ot=an(zt,bt.subLanguage.length?bt.subLanguage:null);bt.relevance>0&&(jn+=ot.relevance),gn.addSublanguage(ot._emitter,ot.language)}function et(){bt.subLanguage!=null?$e():Re(),zt=""}function ht(ot,Ct){let Vt=1;const dn=Ct.length-1;for(;Vt<=dn;){if(!ot._emit[Vt]){Vt++;continue}const Kn=nn.classNameAliases[ot[Vt]]||ot[Vt],ur=Ct[Vt];Kn?gn.addKeyword(ur,Kn):(zt=ur,Re(),zt=""),Vt++}}function wt(ot,Ct){return ot.scope&&typeof ot.scope=="string"&&gn.openNode(nn.classNameAliases[ot.scope]||ot.scope),ot.beginScope&&(ot.beginScope._wrap?(gn.addKeyword(zt,nn.classNameAliases[ot.beginScope._wrap]||ot.beginScope._wrap),zt=""):ot.beginScope._multi&&(ht(ot.beginScope,Ct),zt="")),bt=Object.create(ot,{parent:{value:bt}}),bt}function rt(ot,Ct,Vt){let dn=on(ot.endRe,Vt);if(dn){if(ot["on:end"]){const Kn=new je(ot);ot["on:end"](Ct,Kn),Kn.isMatchIgnored&&(dn=!1)}if(dn){for(;ot.endsParent&&ot.parent;)ot=ot.parent;return ot}}if(ot.endsWithParent)return rt(ot.parent,Ct,Vt)}function It(ot){return bt.matcher.regexIndex===0?(zt+=ot[0],1):(jt=!0,0)}function un(ot){const Ct=ot[0],Vt=ot.rule,dn=new je(Vt),Kn=[Vt.__beforeBegin,Vt["on:begin"]];for(const ur of Kn)if(!!ur&&(ur(ot,dn),dn.isMatchIgnored))return It(Ct);return Vt.skip?zt+=Ct:(Vt.excludeBegin&&(zt+=Ct),et(),!Vt.returnBegin&&!Vt.excludeBegin&&(zt=Ct)),wt(Vt,ot),Vt.returnBegin?0:Ct.length}function sn(ot){const Ct=ot[0],Vt=Z.substring(ot.index),dn=rt(bt,ot,Vt);if(!dn)return ce;const Kn=bt;bt.endScope&&bt.endScope._wrap?(et(),gn.addKeyword(Ct,bt.endScope._wrap)):bt.endScope&&bt.endScope._multi?(et(),ht(bt.endScope,ot)):Kn.skip?zt+=Ct:(Kn.returnEnd||Kn.excludeEnd||(zt+=Ct),et(),Kn.excludeEnd&&(zt=Ct));do bt.scope&&gn.closeNode(),!bt.skip&&!bt.subLanguage&&(jn+=bt.relevance),bt=bt.parent;while(bt!==dn.parent);return dn.starts&&wt(dn.starts,ot),Kn.returnEnd?0:Ct.length}function Gt(){const ot=[];for(let Ct=bt;Ct!==nn;Ct=Ct.parent)Ct.scope&&ot.unshift(Ct.scope);ot.forEach(Ct=>gn.openNode(Ct))}let Qt={};function ln(ot,Ct){const Vt=Ct&&Ct[0];if(zt+=ot,Vt==null)return et(),0;if(Qt.type==="begin"&&Ct.type==="end"&&Qt.index===Ct.index&&Vt===""){if(zt+=Z.slice(Ct.index,Ct.index+1),!Et){const dn=new Error(`0 width match regex (${K})`);throw dn.languageName=K,dn.badRule=Qt.rule,dn}return 1}if(Qt=Ct,Ct.type==="begin")return un(Ct);if(Ct.type==="illegal"&&!X){const dn=new Error('Illegal lexeme "'+Vt+'" for mode "'+(bt.scope||"<unnamed>")+'"');throw dn.mode=bt,dn}else if(Ct.type==="end"){const dn=sn(Ct);if(dn!==ce)return dn}if(Ct.type==="illegal"&&Vt==="")return 1;if(nr>1e5&&nr>Ct.index*3)throw new Error("potential infinite loop, way more iterations than matches");return zt+=Vt,Vt.length}const nn=M(K);if(!nn)throw v(Tt.replace("{}",K)),new Error('Unknown language: "'+K+'"');const Ln=o(nn);let Wn="",bt=he||Ln;const yn={},gn=new _e.__emitter(_e);Gt();let zt="",jn=0,Fn=0,nr=0,jt=!1;try{for(bt.matcher.considerAll();;){nr++,jt?jt=!1:bt.matcher.considerAll(),bt.matcher.lastIndex=Fn;const ot=bt.matcher.exec(Z);if(!ot)break;const Ct=Z.substring(Fn,ot.index),Vt=ln(Ct,ot);Fn=ot.index+Vt}return ln(Z.substring(Fn)),gn.closeAllNodes(),gn.finalize(),Wn=gn.toHTML(),{language:K,value:Wn,relevance:jn,illegal:!1,_emitter:gn,_top:bt}}catch(ot){if(ot.message&&ot.message.includes("Illegal"))return{language:K,value:z(Z),illegal:!0,relevance:0,_illegalBy:{message:ot.message,index:Fn,context:Z.slice(Fn-100,Fn+100),mode:ot.mode,resultSoFar:Wn},_emitter:gn};if(Et)return{language:K,value:z(Z),illegal:!1,relevance:0,errorRaised:ot,_emitter:gn,_top:bt};throw ot}}function Wt(K){const Z={value:z(K),illegal:!1,relevance:0,_top:nt,_emitter:new _e.__emitter(_e)};return Z._emitter.addText(K),Z}function an(K,Z){Z=Z||_e.languages||Object.keys(ae);const X=Wt(K),he=Z.filter(M).filter(f).map(et=>On(et,K,!1));he.unshift(X);const pe=he.sort((et,ht)=>{if(et.relevance!==ht.relevance)return ht.relevance-et.relevance;if(et.language&&ht.language){if(M(et.language).supersetOf===ht.language)return 1;if(M(ht.language).supersetOf===et.language)return-1}return 0}),[Se,Re]=pe,$e=Se;return $e.secondBest=Re,$e}function Un(K,Z,X){const he=Z&&Me[Z]||X;K.classList.add("hljs"),K.classList.add(`language-${he}`)}function Gn(K){let Z=null;const X=Zt(K);if(kt(X))return;if(P("before:highlightElement",{el:K,language:X}),K.children.length>0&&(_e.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(K)),_e.throwUnescapedHTML))throw new O("One of your code blocks includes unescaped HTML.",K.innerHTML);Z=K;const he=Z.textContent,pe=X?qt(he,{language:X,ignoreIllegals:!0}):an(he);K.innerHTML=pe.value,Un(K,X,pe.language),K.result={language:pe.language,re:pe.relevance,relevance:pe.relevance},pe.secondBest&&(K.secondBest={language:pe.secondBest.language,relevance:pe.secondBest.relevance}),P("after:highlightElement",{el:K,result:pe,text:he})}function xn(K){_e=j(_e,K)}const $n=()=>{m(),T("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function or(){m(),T("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let ir=!1;function m(){if(document.readyState==="loading"){ir=!0;return}document.querySelectorAll(_e.cssSelector).forEach(Gn)}function d(){ir&&m()}typeof window!="undefined"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",d,!1);function b(K,Z){let X=null;try{X=Z(W)}catch(he){if(v("Language definition for '{}' could not be registered.".replace("{}",K)),Et)v(he);else throw he;X=nt}X.name||(X.name=K),ae[K]=X,X.rawDefinition=Z.bind(null,W),X.aliases&&R(X.aliases,{languageName:K})}function h(K){delete ae[K];for(const Z of Object.keys(Me))Me[Z]===K&&delete Me[Z]}function w(){return Object.keys(ae)}function M(K){return K=(K||"").toLowerCase(),ae[K]||ae[Me[K]]}function R(K,{languageName:Z}){typeof K=="string"&&(K=[K]),K.forEach(X=>{Me[X.toLowerCase()]=Z})}function f(K){const Z=M(K);return Z&&!Z.disableAutodetect}function E(K){K["before:highlightBlock"]&&!K["before:highlightElement"]&&(K["before:highlightElement"]=Z=>{K["before:highlightBlock"](Object.assign({block:Z.el},Z))}),K["after:highlightBlock"]&&!K["after:highlightElement"]&&(K["after:highlightElement"]=Z=>{K["after:highlightBlock"](Object.assign({block:Z.el},Z))})}function x(K){E(K),lt.push(K)}function P(K,Z){const X=K;lt.forEach(function(he){he[X]&&he[X](Z)})}function V(K){return T("10.7.0","highlightBlock will be removed entirely in v12.0"),T("10.7.0","Please use highlightElement now."),Gn(K)}Object.assign(W,{highlight:qt,highlightAuto:an,highlightAll:m,highlightElement:Gn,highlightBlock:V,configure:xn,initHighlighting:$n,initHighlightingOnLoad:or,registerLanguage:b,unregisterLanguage:h,listLanguages:w,getLanguage:M,registerAliases:R,autoDetection:f,inherit:j,addPlugin:x}),W.debugMode=function(){Et=!1},W.safeMode=function(){Et=!0},W.versionString=S,W.regex={concat:Bt,lookahead:Ye,either:Ht,optional:Rt,anyNumberOfTimes:We};for(const K in cn)typeof cn[K]=="object"&&le.exports(cn[K]);return Object.assign(W,cn),W}({}),q=F;F.HighlightJS=F,F.default=F;var oe=q;function ne(W,ae=[]){return W.map(Me=>{const lt=[...ae,...Me.properties?Me.properties.className:[]];return Me.children?ne(Me.children,lt):{text:Me.value,classes:lt}}).flat()}function xe(W){return W.value||W.children||[]}function Le(W){return Boolean(oe.getLanguage(W))}function Ze({doc:W,name:ae,lowlight:Me,defaultLanguage:lt}){const Et=[];return(0,Ne.N2)(W,Tt=>Tt.type.name===ae).forEach(Tt=>{let nt=Tt.pos+1;const _e=Tt.node.attrs.language||lt,kt=Me.listLanguages(),Zt=_e&&(kt.includes(_e)||Le(_e))?xe(Me.highlight(_e,Tt.node.textContent)):xe(Me.highlightAuto(Tt.node.textContent));ne(Zt).forEach(qt=>{const On=nt+qt.text.length;if(qt.classes.length){const Wt=de.p.inline(nt,On,{class:qt.classes.join(" ")});Et.push(Wt)}nt=On})}),de.EH.create(W,Et)}function _t(W){return typeof W=="function"}function $t({name:W,lowlight:ae,defaultLanguage:Me}){if(!["highlight","highlightAuto","listLanguages"].every(Et=>_t(ae[Et])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const lt=new Ee.Sy({key:new Ee.H$("lowlight"),state:{init:(Et,{doc:Tt})=>Ze({doc:Tt,name:W,lowlight:ae,defaultLanguage:Me}),apply:(Et,Tt,nt,_e)=>{const kt=nt.selection.$head.parent.type.name,Zt=_e.selection.$head.parent.type.name,qt=(0,Ne.N2)(nt.doc,Wt=>Wt.type.name===W),On=(0,Ne.N2)(_e.doc,Wt=>Wt.type.name===W);return Et.docChanged&&([kt,Zt].includes(W)||On.length!==qt.length||Et.steps.some(Wt=>Wt.from!==void 0&&Wt.to!==void 0&&qt.some(an=>an.pos>=Wt.from&&an.pos+an.node.nodeSize<=Wt.to)))?Ze({doc:Et.doc,name:W,lowlight:ae,defaultLanguage:Me}):Tt.map(Et.mapping,Et.doc)}},props:{decorations(Et){return lt.getState(Et)}}});return lt}const Ut=A.ZP.extend({addOptions(){var W;return Te(Te({},(W=this.parent)===null||W===void 0?void 0:W.call(this)),{lowlight:{},defaultLanguage:null})},addProseMirrorPlugins(){var W;return[...((W=this.parent)===null||W===void 0?void 0:W.call(this))||[],$t({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}})},11156:function(En,Ot,ge){"use strict";ge.d(Ot,{dn:function(){return le},ZP:function(){return le}});var A=ge(14102),Ne=ge(66961);const Ee=/^```([a-z]+)?[\s\n]$/,de=/^~~~([a-z]+)?[\s\n]$/,le=A.NB.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:qe=>{var je;const{languageClassPrefix:me}=this.options,Xe=[...((je=qe.firstElementChild)===null||je===void 0?void 0:je.classList)||[]].filter(at=>at.startsWith(me)).map(at=>at.replace(me,""))[0];return Xe||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:qe,HTMLAttributes:je}){return["pre",(0,A.P1)(this.options.HTMLAttributes,je),["code",{class:qe.attrs.language?this.options.languageClassPrefix+qe.attrs.language:null},0]]},addCommands(){return{setCodeBlock:qe=>({commands:je})=>je.setNode(this.name,qe),toggleCodeBlock:qe=>({commands:je})=>je.toggleNode(this.name,"paragraph",qe)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:qe,$anchor:je}=this.editor.state.selection,me=je.pos===1;return!qe||je.parent.type.name!==this.name?!1:me||!je.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:qe})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:je}=qe,{selection:me}=je,{$from:Fe,empty:He}=me;if(!He||Fe.parent.type!==this.type)return!1;const Xe=Fe.parentOffset===Fe.parent.nodeSize-2,at=Fe.parent.textContent.endsWith(`

`);return!Xe||!at?!1:qe.chain().command(({tr:dt})=>(dt.delete(Fe.pos-2,Fe.pos),!0)).exitCode().run()},ArrowDown:({editor:qe})=>{if(!this.options.exitOnArrowDown)return!1;const{state:je}=qe,{selection:me,doc:Fe}=je,{$from:He,empty:Xe}=me;if(!Xe||He.parent.type!==this.type||!(He.parentOffset===He.parent.nodeSize-2))return!1;const dt=He.after();return dt===void 0||Fe.nodeAt(dt)?!1:qe.commands.exitCode()}}},addInputRules(){return[(0,A.zK)({find:Ee,type:this.type,getAttributes:qe=>({language:qe[1]})}),(0,A.zK)({find:de,type:this.type,getAttributes:qe=>({language:qe[1]})})]},addProseMirrorPlugins(){return[new Ne.Sy({key:new Ne.H$("codeBlockVSCodeHandler"),props:{handlePaste:(qe,je)=>{if(!je.clipboardData||this.editor.isActive(this.type.name))return!1;const me=je.clipboardData.getData("text/plain"),Fe=je.clipboardData.getData("vscode-editor-data"),He=Fe?JSON.parse(Fe):void 0,Xe=He==null?void 0:He.mode;if(!me||!Xe)return!1;const{tr:at}=qe.state;return at.replaceSelectionWith(this.type.create({language:Xe})),at.setSelection(Ne.Bs.near(at.doc.resolve(Math.max(0,at.selection.from-2)))),at.insertText(me.replace(/\r\n?/g,`
`)),at.setMeta("paste",!0),qe.dispatch(at),!0}}})]}})},70828:function(En,Ot,ge){"use strict";ge.d(Ot,{I:function(){return Ee}});var A=ge(55972),Ne=ge(14102);const Ee=Ne.hj.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:de=>{var le;return(le=de.style.color)===null||le===void 0?void 0:le.replace(/['"]+/g,"")},renderHTML:de=>de.color?{style:`color: ${de.color}`}:{}}}}]},addCommands(){return{setColor:de=>({chain:le})=>le().setMark("textStyle",{color:de}).run(),unsetColor:()=>({chain:de})=>de().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}})},1211:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ee}});var A=ge(55972),Ne=ge(14102);const Ee=Ne.hj.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:de=>{var le;return(le=de.style.fontFamily)===null||le===void 0?void 0:le.replace(/['"]+/g,"")},renderHTML:de=>de.fontFamily?{style:`font-family: ${de.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:de=>({chain:le})=>le().setMark("textStyle",{fontFamily:de}).run(),unsetFontFamily:()=>({chain:de})=>de().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}})},56671:function(En,Ot,ge){"use strict";ge.d(Ot,{ZP:function(){return de}});var A=ge(14102);const Ne=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,Ee=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,de=A.vc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:le=>le.getAttribute("data-color")||le.style.backgroundColor,renderHTML:le=>le.color?{"data-color":le.color,style:`background-color: ${le.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:le}){return["mark",(0,A.P1)(this.options.HTMLAttributes,le),0]},addCommands(){return{setHighlight:le=>({commands:qe})=>qe.setMark(this.name,le),toggleHighlight:le=>({commands:qe})=>qe.toggleMark(this.name,le),unsetHighlight:()=>({commands:le})=>le.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[(0,A.Cf)({find:Ne,type:this.type})]},addPasteRules(){return[(0,A.K9)({find:Ee,type:this.type})]}})},90893:function(En,Ot,ge){"use strict";ge.d(Ot,{ZP:function(){return Ee}});var A=ge(14102);const Ne=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Ee=A.NB.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:de}){return["img",(0,A.P1)(this.options.HTMLAttributes,de)]},addCommands(){return{setImage:de=>({commands:le})=>le.insertContent({type:this.name,attrs:de})}},addInputRules(){return[(0,A.x2)({find:Ne,type:this.type,getAttributes:de=>{const[,,le,qe,je]=de;return{src:qe,alt:le,title:je}}})]}})},6023:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return m}});var A=ge(14102);const Ne="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Ee="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",de=(d,b)=>{for(const h in b)d[h]=b[h];return d},le="numeric",qe="ascii",je="alpha",me="asciinumeric",Fe="alphanumeric",He="domain",Xe="emoji",at="scheme",dt="slashscheme",st="whitespace";function Ue(d,b){return d in b||(b[d]=[]),b[d]}function ut(d,b,h){b[le]&&(b[me]=!0,b[Fe]=!0),b[qe]&&(b[me]=!0,b[je]=!0),b[me]&&(b[Fe]=!0),b[je]&&(b[Fe]=!0),b[Fe]&&(b[He]=!0),b[Xe]&&(b[He]=!0);for(const w in b){const M=Ue(w,h);M.indexOf(d)<0&&M.push(d)}}function Pe(d,b){const h={};for(const w in b)b[w].indexOf(d)>=0&&(h[w]=!0);return h}function Ye(d){d===void 0&&(d=null),this.j={},this.jr=[],this.jd=null,this.t=d}Ye.groups={},Ye.prototype={accepts(){return!!this.t},go(d){const b=this,h=b.j[d];if(h)return h;for(let w=0;w<b.jr.length;w++){const M=b.jr[w][0],R=b.jr[w][1];if(R&&M.test(d))return R}return b.jd},has(d,b){return b===void 0&&(b=!1),b?d in this.j:!!this.go(d)},ta(d,b,h,w){for(let M=0;M<d.length;M++)this.tt(d[M],b,h,w)},tr(d,b,h,w){w=w||Ye.groups;let M;return b&&b.j?M=b:(M=new Ye(b),h&&w&&ut(b,h,w)),this.jr.push([d,M]),M},ts(d,b,h,w){let M=this;const R=d.length;if(!R)return M;for(let f=0;f<R-1;f++)M=M.tt(d[f]);return M.tt(d[R-1],b,h,w)},tt(d,b,h,w){w=w||Ye.groups;const M=this;if(b&&b.j)return M.j[d]=b,b;const R=b;let f,E=M.go(d);if(E?(f=new Ye,de(f.j,E.j),f.jr.push.apply(f.jr,E.jr),f.jd=E.jd,f.t=E.t):f=new Ye,R){if(w)if(f.t&&typeof f.t=="string"){const x=de(Pe(f.t,w),h);ut(R,x,w)}else h&&ut(R,h,w);f.t=R}return M.j[d]=f,f}};const We=(d,b,h,w,M)=>d.ta(b,h,w,M),Rt=(d,b,h,w,M)=>d.tr(b,h,w,M),Bt=(d,b,h,w,M)=>d.ts(b,h,w,M),ve=(d,b,h,w,M)=>d.tt(b,h,w,M),Ht="WORD",St="UWORD",on="LOCALHOST",Ge="TLD",Ke="UTLD",Be="SCHEME",gt="SLASH_SCHEME",Ce="NUM",U="WS",J="NL",te="OPENBRACE",ke="OPENBRACKET",ze="OPENANGLEBRACKET",it="OPENPAREN",Lt="CLOSEBRACE",Ft="CLOSEBRACKET",Dt="CLOSEANGLEBRACKET",xt="CLOSEPAREN",Cn="AMPERSAND",zn="APOSTROPHE",Rn="ASTERISK",Mn="AT",rn="BACKSLASH",vn="BACKTICK",bn="CARET",mn="COLON",qn="COMMA",In="DOLLAR",wn="DOT",cn="EQUALS",Pn="EXCLAMATION",Sn="HYPHEN",Bn="PERCENT",Tn="PIPE",Xn="PLUS",tr="POUND",_n="QUERY",Jn="QUOTE",Yn="SEMI",Dn="SLASH",Nn="TILDE",Hn="UNDERSCORE",ue="EMOJI",v="SYM";var _=Object.freeze({__proto__:null,WORD:Ht,UWORD:St,LOCALHOST:on,TLD:Ge,UTLD:Ke,SCHEME:Be,SLASH_SCHEME:gt,NUM:Ce,WS:U,NL:J,OPENBRACE:te,OPENBRACKET:ke,OPENANGLEBRACKET:ze,OPENPAREN:it,CLOSEBRACE:Lt,CLOSEBRACKET:Ft,CLOSEANGLEBRACKET:Dt,CLOSEPAREN:xt,AMPERSAND:Cn,APOSTROPHE:zn,ASTERISK:Rn,AT:Mn,BACKSLASH:rn,BACKTICK:vn,CARET:bn,COLON:mn,COMMA:qn,DOLLAR:In,DOT:wn,EQUALS:cn,EXCLAMATION:Pn,HYPHEN:Sn,PERCENT:Bn,PIPE:Tn,PLUS:Xn,POUND:tr,QUERY:_n,QUOTE:Jn,SEMI:Yn,SLASH:Dn,TILDE:Nn,UNDERSCORE:Hn,EMOJI:ue,SYM:v});const T=/[a-z]/,Y=/\p{L}/u,ie=/\p{Emoji}/u,Q=/\ufe0f/,we=/\d/,De=/\s/;var I=Object.freeze({__proto__:null,ASCII_LETTER:T,LETTER:Y,EMOJI:ie,EMOJI_VARIATION:Q,DIGIT:we,SPACE:De});const o=`
`,c="\uFE0F",y="\u200D";let S=null,O=null;function z(d){d===void 0&&(d=[]);const b={};Ye.groups=b;const h=new Ye;S==null&&(S=L(Ne)),O==null&&(O=L(Ee)),ve(h,"'",zn),ve(h,"{",te),ve(h,"[",ke),ve(h,"<",ze),ve(h,"(",it),ve(h,"}",Lt),ve(h,"]",Ft),ve(h,">",Dt),ve(h,")",xt),ve(h,"&",Cn),ve(h,"*",Rn),ve(h,"@",Mn),ve(h,"`",vn),ve(h,"^",bn),ve(h,":",mn),ve(h,",",qn),ve(h,"$",In),ve(h,".",wn),ve(h,"=",cn),ve(h,"!",Pn),ve(h,"-",Sn),ve(h,"%",Bn),ve(h,"|",Tn),ve(h,"+",Xn),ve(h,"#",tr),ve(h,"?",_n),ve(h,'"',Jn),ve(h,"/",Dn),ve(h,";",Yn),ve(h,"~",Nn),ve(h,"_",Hn),ve(h,"\\",rn);const w=Rt(h,we,Ce,{[le]:!0});Rt(w,we,w);const M=Rt(h,T,Ht,{[qe]:!0});Rt(M,T,M);const R=Rt(h,Y,St,{[je]:!0});Rt(R,T),Rt(R,Y,R);const f=Rt(h,De,U,{[st]:!0});ve(h,o,J,{[st]:!0}),ve(f,o),Rt(f,De,f);const E=Rt(h,ie,ue,{[Xe]:!0});Rt(E,ie,E),ve(E,c,E);const x=ve(E,y);Rt(x,ie,E);const P=[[T,M]],V=[[T,null],[Y,R]];for(let K=0;K<S.length;K++)tt(h,S[K],Ge,Ht,P);for(let K=0;K<O.length;K++)tt(h,O[K],Ke,St,V);ut(Ge,{tld:!0,ascii:!0},b),ut(Ke,{utld:!0,alpha:!0},b),tt(h,"file",Be,Ht,P),tt(h,"mailto",Be,Ht,P),tt(h,"http",gt,Ht,P),tt(h,"https",gt,Ht,P),tt(h,"ftp",gt,Ht,P),tt(h,"ftps",gt,Ht,P),ut(Be,{scheme:!0,ascii:!0},b),ut(gt,{slashscheme:!0,ascii:!0},b),d=d.sort((K,Z)=>K[0]>Z[0]?1:-1);for(let K=0;K<d.length;K++){const Z=d[K][0],he=d[K][1]?{[at]:!0}:{[dt]:!0};Z.indexOf("-")>=0?he[He]=!0:T.test(Z)?we.test(Z)?he[me]=!0:he[qe]=!0:he[le]=!0,Bt(h,Z,Z,he)}return Bt(h,"localhost",on,{ascii:!0}),h.jd=new Ye(v),{start:h,tokens:de({groups:b},_)}}function j(d,b){const h=ce(b.replace(/[A-Z]/g,E=>E.toLowerCase())),w=h.length,M=[];let R=0,f=0;for(;f<w;){let E=d,x=null,P=0,V=null,K=-1,Z=-1;for(;f<w&&(x=E.go(h[f]));)E=x,E.accepts()?(K=0,Z=0,V=E):K>=0&&(K+=h[f].length,Z++),P+=h[f].length,R+=h[f].length,f++;R-=K,f-=Z,P-=K,M.push({t:V.t,v:b.slice(R-P,R),s:R-P,e:R})}return M}function ce(d){const b=[],h=d.length;let w=0;for(;w<h;){let M=d.charCodeAt(w),R,f=M<55296||M>56319||w+1===h||(R=d.charCodeAt(w+1))<56320||R>57343?d[w]:d.slice(w,w+2);b.push(f),w+=f.length}return b}function tt(d,b,h,w,M){let R;const f=b.length;for(let E=0;E<f-1;E++){const x=b[E];d.j[x]?R=d.j[x]:(R=new Ye(w),R.jr=M.slice(),d.j[x]=R),d=R}return R=new Ye(h),R.jr=M.slice(),d.j[b[f-1]]=R,R}function L(d){const b=[],h=[];let w=0,M="0123456789";for(;w<d.length;){let R=0;for(;M.indexOf(d[w+R])>=0;)R++;if(R>0){b.push(h.join(""));for(let f=parseInt(d.substring(w,w+R),10);f>0;f--)h.pop();w+=R}else h.push(d[w]),w++}return b}const F={defaultProtocol:"http",events:null,format:oe,formatHref:oe,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:Infinity,className:null,attributes:null,ignoreTags:[],render:null};function q(d,b){b===void 0&&(b=null);let h=de({},F);d&&(h=de(h,d instanceof q?d.o:d));const w=h.ignoreTags,M=[];for(let R=0;R<w.length;R++)M.push(w[R].toUpperCase());this.o=h,b&&(this.defaultRender=b),this.ignoreTags=M}q.prototype={o:F,ignoreTags:[],defaultRender(d){return d},check(d){return this.get("validate",d.toString(),d)},get(d,b,h){const w=b!=null;let M=this.o[d];return M&&(typeof M=="object"?(M=h.t in M?M[h.t]:F[d],typeof M=="function"&&w&&(M=M(b,h))):typeof M=="function"&&w&&(M=M(b,h.t,h)),M)},getObj(d,b,h){let w=this.o[d];return typeof w=="function"&&b!=null&&(w=w(b,h.t,h)),w},render(d){const b=d.render(this);return(this.get("render",null,d)||this.defaultRender)(b,d.t,d)}};function oe(d){return d}var ne=Object.freeze({__proto__:null,defaults:F,Options:q,assign:de});function xe(d,b){this.t="token",this.v=d,this.tk=b}xe.prototype={isLink:!1,toString(){return this.v},toHref(d){return this.toString()},toFormattedString(d){const b=this.toString(),h=d.get("truncate",b,this),w=d.get("format",b,this);return h&&w.length>h?w.substring(0,h)+"\u2026":w},toFormattedHref(d){return d.get("formatHref",this.toHref(d.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(d){return d===void 0&&(d=F.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(d),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(d){return{type:this.t,value:this.toFormattedString(d),isLink:this.isLink,href:this.toFormattedHref(d),start:this.startIndex(),end:this.endIndex()}},validate(d){return d.get("validate",this.toString(),this)},render(d){const b=this,h=this.toHref(d.get("defaultProtocol")),w=d.get("formatHref",h,this),M=d.get("tagName",h,b),R=this.toFormattedString(d),f={},E=d.get("className",h,b),x=d.get("target",h,b),P=d.get("rel",h,b),V=d.getObj("attributes",h,b),K=d.getObj("events",h,b);return f.href=w,E&&(f.class=E),x&&(f.target=x),P&&(f.rel=P),V&&de(f,V),{tagName:M,attributes:f,content:R,eventListeners:K}}};function Le(d,b){class h extends xe{constructor(M,R){super(M,R);this.t=d}}for(const w in b)h.prototype[w]=b[w];return h.t=d,h}const Ze=Le("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),_t=Le("text"),$t=Le("nl"),Ut=Le("url",{isLink:!0,toHref(d){return d===void 0&&(d=F.defaultProtocol),this.hasProtocol()?this.v:`${d}://${this.v}`},hasProtocol(){const d=this.tk;return d.length>=2&&d[0].t!==on&&d[1].t===mn}});var W=Object.freeze({__proto__:null,MultiToken:xe,Base:xe,createTokenClass:Le,Email:Ze,Text:_t,Nl:$t,Url:Ut});const ae=d=>new Ye(d);function Me(d){let{groups:b}=d;const h=b.domain.concat([Cn,Rn,Mn,rn,vn,bn,In,cn,Sn,Ce,Bn,Tn,Xn,tr,Dn,v,Nn,Hn]),w=[zn,Dt,Lt,Ft,xt,mn,qn,wn,Pn,ze,te,ke,it,_n,Jn,Yn],M=[Cn,zn,Rn,rn,vn,bn,Lt,In,cn,Sn,te,Bn,Tn,Xn,tr,_n,Dn,v,Nn,Hn],R=ae(),f=ve(R,Nn);We(f,M,f),We(f,b.domain,f);const E=ae(),x=ae(),P=ae();We(R,b.domain,E),We(R,b.scheme,x),We(R,b.slashscheme,P),We(E,M,f),We(E,b.domain,E);const V=ve(E,Mn);ve(f,Mn,V),ve(x,Mn,V),ve(P,Mn,V);const K=ve(f,wn);We(K,M,f),We(K,b.domain,f);const Z=ae();We(V,b.domain,Z),We(Z,b.domain,Z);const X=ve(Z,wn);We(X,b.domain,Z);const he=ae(Ze);We(X,b.tld,he),We(X,b.utld,he),ve(V,on,he);const pe=ve(Z,Sn);We(pe,b.domain,Z),We(he,b.domain,Z),ve(he,wn,X),ve(he,Sn,pe);const Se=ve(he,mn);We(Se,b.numeric,Ze);const Re=ve(E,Sn),$e=ve(E,wn);We(Re,b.domain,E),We($e,M,f),We($e,b.domain,E);const et=ae(Ut);We($e,b.tld,et),We($e,b.utld,et),We(et,b.domain,E),We(et,M,f),ve(et,wn,$e),ve(et,Sn,Re),ve(et,Mn,V);const ht=ve(et,mn),wt=ae(Ut);We(ht,b.numeric,wt);const rt=ae(Ut),It=ae();We(rt,h,rt),We(rt,w,It),We(It,h,rt),We(It,w,It),ve(et,Dn,rt),ve(wt,Dn,rt);const un=ve(x,mn),sn=ve(P,mn),Gt=ve(sn,Dn),Qt=ve(Gt,Dn);We(x,b.domain,E),ve(x,wn,$e),ve(x,Sn,Re),We(P,b.domain,E),ve(P,wn,$e),ve(P,Sn,Re),We(un,b.domain,rt),ve(un,Dn,rt),We(Qt,b.domain,rt),We(Qt,h,rt),ve(Qt,Dn,rt);const ln=ve(rt,te),nn=ve(rt,ke),Ln=ve(rt,ze),Wn=ve(rt,it);ve(It,te,ln),ve(It,ke,nn),ve(It,ze,Ln),ve(It,it,Wn),ve(ln,Lt,rt),ve(nn,Ft,rt),ve(Ln,Dt,rt),ve(Wn,xt,rt),ve(ln,Lt,rt);const bt=ae(Ut),yn=ae(Ut),gn=ae(Ut),zt=ae(Ut);We(ln,h,bt),We(nn,h,yn),We(Ln,h,gn),We(Wn,h,zt);const jn=ae(),Fn=ae(),nr=ae(),jt=ae();return We(ln,w),We(nn,w),We(Ln,w),We(Wn,w),We(bt,h,bt),We(yn,h,yn),We(gn,h,gn),We(zt,h,zt),We(bt,w,bt),We(yn,w,yn),We(gn,w,gn),We(zt,w,zt),We(jn,h,jn),We(Fn,h,yn),We(nr,h,gn),We(jt,h,zt),We(jn,w,jn),We(Fn,w,Fn),We(nr,w,nr),We(jt,w,jt),ve(yn,Ft,rt),ve(gn,Dt,rt),ve(zt,xt,rt),ve(bt,Lt,rt),ve(Fn,Ft,rt),ve(nr,Dt,rt),ve(jt,xt,rt),ve(jn,xt,rt),ve(R,on,et),ve(R,J,$t),{start:R,tokens:_}}function lt(d,b,h){let w=h.length,M=0,R=[],f=[];for(;M<w;){let E=d,x=null,P=null,V=0,K=null,Z=-1;for(;M<w&&!(x=E.go(h[M].t));)f.push(h[M++]);for(;M<w&&(P=x||E.go(h[M].t));)x=null,E=P,E.accepts()?(Z=0,K=E):Z>=0&&Z++,M++,V++;if(Z<0)M-=V,M<w&&(f.push(h[M]),M++);else{f.length>0&&(R.push(Et(_t,b,f)),f=[]),M-=Z,V-=Z;const X=K.t,he=h.slice(M-V,M);R.push(Et(X,b,he))}}return f.length>0&&R.push(Et(_t,b,f)),R}function Et(d,b,h){const w=h[0].s,M=h[h.length-1].e,R=b.slice(w,M);return new d(R,h)}const Tt=typeof console!="undefined"&&console&&console.warn||(()=>{}),nt="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function kt(){Ye.groups={},_e.scanner=null,_e.parser=null,_e.tokenQueue=[],_e.pluginQueue=[],_e.customSchemes=[],_e.initialized=!1}function Zt(d,b){if(typeof b!="function")throw new Error(`linkifyjs: Invalid token plugin ${b} (expects function)`);for(let h=0;h<_e.tokenQueue.length;h++)if(d===_e.tokenQueue[h][0]){Tt(`linkifyjs: token plugin "${d}" already registered - will be overwritten`),_e.tokenQueue[h]=[d,b];return}_e.tokenQueue.push([d,b]),_e.initialized&&Tt(`linkifyjs: already initialized - will not register token plugin "${d}" ${nt}`)}function qt(d,b){if(typeof b!="function")throw new Error(`linkifyjs: Invalid plugin ${b} (expects function)`);for(let h=0;h<_e.pluginQueue.length;h++)if(d===_e.pluginQueue[h][0]){Tt(`linkifyjs: plugin "${d}" already registered - will be overwritten`),_e.pluginQueue[h]=[d,b];return}_e.pluginQueue.push([d,b]),_e.initialized&&Tt(`linkifyjs: already initialized - will not register plugin "${d}" ${nt}`)}function On(d,b){if(b===void 0&&(b=!1),_e.initialized&&Tt(`linkifyjs: already initialized - will not register custom scheme "${d}" ${nt}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(d))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);_e.customSchemes.push([d,b])}function Wt(){_e.scanner=z(_e.customSchemes);for(let d=0;d<_e.tokenQueue.length;d++)_e.tokenQueue[d][1]({scanner:_e.scanner});_e.parser=Me(_e.scanner.tokens);for(let d=0;d<_e.pluginQueue.length;d++)_e.pluginQueue[d][1]({scanner:_e.scanner,parser:_e.parser});_e.initialized=!0}function an(d){return _e.initialized||Wt(),lt(_e.parser.start,d,j(_e.scanner.start,d))}function Un(d,b,h){if(b===void 0&&(b=null),h===void 0&&(h=null),b&&typeof b=="object"){if(h)throw Error(`linkifyjs: Invalid link type ${b}; must be a string`);h=b,b=null}const w=new q(h),M=an(d),R=[];for(let f=0;f<M.length;f++){const E=M[f];E.isLink&&(!b||E.t===b)&&R.push(E.toFormattedObject(w))}return R}function Gn(d,b){b===void 0&&(b=null);const h=an(d);return h.length===1&&h[0].isLink&&(!b||h[0].t===b)}var xn=ge(66961);function $n(d){return new xn.Sy({key:new xn.H$("autolink"),appendTransaction:(b,h,w)=>{const M=b.some(P=>P.docChanged)&&!h.doc.eq(w.doc),R=b.some(P=>P.getMeta("preventAutolink"));if(!M||R)return;const{tr:f}=w,E=(0,A.XP)(h.doc,[...b]);if((0,A.QC)(E).forEach(({newRange:P})=>{const V=(0,A.b5)(w.doc,P,X=>X.isTextblock);let K,Z;if(V.length>1?(K=V[0],Z=w.doc.textBetween(K.pos,K.pos+K.node.nodeSize,void 0," ")):V.length&&w.doc.textBetween(P.from,P.to," "," ").endsWith(" ")&&(K=V[0],Z=w.doc.textBetween(K.pos,P.to,void 0," ")),K&&Z){const X=Z.split(" ").filter(Se=>Se!=="");if(X.length<=0)return!1;const he=X[X.length-1],pe=K.pos+Z.lastIndexOf(he);if(!he)return!1;Un(he).filter(Se=>Se.isLink).map(Se=>Te(Te({},Se),{from:pe+Se.start+1,to:pe+Se.end+1})).filter(Se=>w.schema.marks.code?!w.doc.rangeHasMark(Se.from,Se.to,w.schema.marks.code):!0).filter(Se=>d.validate?d.validate(Se.value):!0).forEach(Se=>{(0,A.tI)(Se.from,Se.to,w.doc).some(Re=>Re.mark.type===d.type)||f.addMark(Se.from,Se.to,d.type.create({href:Se.href}))})}}),!!f.steps.length)return f}})}function or(d){return new xn.Sy({key:new xn.H$("handleClickLink"),props:{handleClick:(b,h,w)=>{var M,R;if(w.button!==0||w.target.nodeName!=="A")return!1;const E=(0,A.u9)(b.state,d.type.name),x=w.target,P=(M=x==null?void 0:x.href)!==null&&M!==void 0?M:E.href,V=(R=x==null?void 0:x.target)!==null&&R!==void 0?R:E.target;return x&&P?(b.editable&&window.open(P,V),!0):!1}}})}function ir(d){return new xn.Sy({key:new xn.H$("handlePasteLink"),props:{handlePaste:(b,h,w)=>{var M,R;const{state:f}=b,{selection:E}=f;if(f.doc.resolve(E.from).parent.type.spec.code)return!1;let x="";w.content.forEach($e=>{x+=$e.textContent});let P=!1;if(w.content.descendants($e=>{$e.marks.some(et=>et.type.name===d.type.name)&&(P=!0)}),P)return;const V=Un(x).find($e=>$e.isLink&&$e.value===x);if(!E.empty&&d.linkOnPaste){const $e=(V==null?void 0:V.href)||null;if($e)return d.editor.commands.setMark(d.type,{href:$e}),!0}const K=((M=w.content.firstChild)===null||M===void 0?void 0:M.type.name)==="text",Z=(R=w.content.firstChild)===null||R===void 0?void 0:R.marks.some($e=>$e.type.name===d.type.name);if(K&&Z||!d.linkOnPaste)return!1;if(V&&E.empty)return d.editor.commands.insertContent(`<a href="${V.href}">${V.href}</a>`),!0;const{tr:X}=f;let he=!1;E.empty||(he=!0,X.delete(E.from,E.to));let pe=E.from,Se=[];w.content.forEach($e=>{Se=Un($e.textContent),X.insert(pe-1,$e),Se.length>0&&(he=!1,Se.forEach(et=>{const ht=pe+et.start,wt=pe+et.end;X.doc.rangeHasMark(ht,wt,d.type)||X.addMark(ht,wt,d.type.create({href:et.href}))})),pe+=$e.nodeSize});const Re=Se.length>0;return X.docChanged&&!he&&Re?(d.editor.view.dispatch(X),!0):!1}}})}const m=A.vc.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(d=>{if(typeof d=="string"){On(d);return}On(d.scheme,d.optionalSlashes)})},onDestroy(){kt()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:d}){return["a",(0,A.P1)(this.options.HTMLAttributes,d),0]},addCommands(){return{setLink:d=>({chain:b})=>b().setMark(this.name,d).setMeta("preventAutolink",!0).run(),toggleLink:d=>({chain:b})=>b().toggleMark(this.name,d,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:d})=>d().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addProseMirrorPlugins(){const d=[];return this.options.autolink&&d.push($n({type:this.type,validate:this.options.validate})),this.options.openOnClick&&d.push(or({type:this.type})),d.push(ir({editor:this.editor,type:this.type,linkOnPaste:this.options.linkOnPaste})),d}})},20324:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return de}});var A=ge(14102),Ne=ge(66961),Ee=ge(35371);const de=A.hj.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ne.Sy({key:new Ne.H$("placeholder"),props:{decorations:({doc:le,selection:qe})=>{const je=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:me}=qe,Fe=[];if(!je)return null;const He=le.type.createAndFill(),Xe=(He==null?void 0:He.sameMarkup(le))&&He.content.findDiffStart(le.content)===null;return le.descendants((at,dt)=>{const st=me>=dt&&me<=dt+at.nodeSize,Ue=!at.isLeaf&&!at.childCount;if((st||!this.options.showOnlyCurrent)&&Ue){const ut=[this.options.emptyNodeClass];Xe&&ut.push(this.options.emptyEditorClass);const Pe=Ee.p.node(dt,dt+at.nodeSize,{class:ut.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:at,pos:dt,hasAnchor:st}):this.options.placeholder});Fe.push(Pe)}return this.options.includeChildren}),Ee.EH.create(le,Fe)}}})]}})},5889:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.vc.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(Ee){return Ee!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:Ee}){return["sub",(0,A.P1)(this.options.HTMLAttributes,Ee),0]},addCommands(){return{setSubscript:()=>({commands:Ee})=>Ee.setMark(this.name),toggleSubscript:()=>({commands:Ee})=>Ee.toggleMark(this.name),unsetSubscript:()=>({commands:Ee})=>Ee.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}})},1142:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.vc.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(Ee){return Ee!=="super"?!1:null}}]},renderHTML({HTMLAttributes:Ee}){return["sup",(0,A.P1)(this.options.HTMLAttributes,Ee),0]},addCommands(){return{setSuperscript:()=>({commands:Ee})=>Ee.setMark(this.name),toggleSuperscript:()=>({commands:Ee})=>Ee.toggleMark(this.name),unsetSuperscript:()=>({commands:Ee})=>Ee.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}})},22030:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.NB.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:Ee=>{const de=Ee.getAttribute("colwidth");return de?[parseInt(de,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:Ee}){return["td",(0,A.P1)(this.options.HTMLAttributes,Ee),0]}})},4377:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.NB.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:Ee=>{const de=Ee.getAttribute("colwidth");return de?[parseInt(de,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:Ee}){return["th",(0,A.P1)(this.options.HTMLAttributes,Ee),0]}})},95570:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.NB.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:Ee}){return["tr",(0,A.P1)(this.options.HTMLAttributes,Ee),0]}})},38245:function(En,Ot,ge){"use strict";ge.d(Ot,{ZP:function(){return ir}});var A=ge(14102),Ne=ge(66961),Ee=ge(60052),de=ge(35371),le=ge(27781),qe=ge(64520),je,me;if(typeof WeakMap!="undefined"){let m=new WeakMap;je=d=>m.get(d),me=(d,b)=>(m.set(d,b),b)}else{const m=[],d=10;let b=0;je=h=>{for(let w=0;w<m.length;w+=2)if(m[w]==h)return m[w+1]},me=(h,w)=>(b==d&&(b=0),m[b++]=h,m[b++]=w)}var Fe=class{constructor(m,d,b,h){this.width=m,this.height=d,this.map=b,this.problems=h}findCell(m){for(let d=0;d<this.map.length;d++){const b=this.map[d];if(b!=m)continue;const h=d%this.width,w=d/this.width|0;let M=h+1,R=w+1;for(let f=1;M<this.width&&this.map[d+f]==b;f++)M++;for(let f=1;R<this.height&&this.map[d+this.width*f]==b;f++)R++;return{left:h,top:w,right:M,bottom:R}}throw new RangeError(`No cell with offset ${m} found`)}colCount(m){for(let d=0;d<this.map.length;d++)if(this.map[d]==m)return d%this.width;throw new RangeError(`No cell with offset ${m} found`)}nextCell(m,d,b){const{left:h,right:w,top:M,bottom:R}=this.findCell(m);return d=="horiz"?(b<0?h==0:w==this.width)?null:this.map[M*this.width+(b<0?h-1:w)]:(b<0?M==0:R==this.height)?null:this.map[h+this.width*(b<0?M-1:R)]}rectBetween(m,d){const{left:b,right:h,top:w,bottom:M}=this.findCell(m),{left:R,right:f,top:E,bottom:x}=this.findCell(d);return{left:Math.min(b,R),top:Math.min(w,E),right:Math.max(h,f),bottom:Math.max(M,x)}}cellsInRect(m){const d=[],b={};for(let h=m.top;h<m.bottom;h++)for(let w=m.left;w<m.right;w++){const M=h*this.width+w,R=this.map[M];b[R]||(b[R]=!0,!(w==m.left&&w&&this.map[M-1]==R||h==m.top&&h&&this.map[M-this.width]==R)&&d.push(R))}return d}positionAt(m,d,b){for(let h=0,w=0;;h++){const M=w+b.child(h).nodeSize;if(h==m){let R=d+m*this.width;const f=(m+1)*this.width;for(;R<f&&this.map[R]<w;)R++;return R==f?M-1:this.map[R]}w=M}}static get(m){return je(m)||me(m,He(m))}};function He(m){if(m.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+m.type.name);const d=Xe(m),b=m.childCount,h=[];let w=0,M=null;const R=[];for(let x=0,P=d*b;x<P;x++)h[x]=0;for(let x=0,P=0;x<b;x++){const V=m.child(x);P++;for(let X=0;;X++){for(;w<h.length&&h[w]!=0;)w++;if(X==V.childCount)break;const he=V.child(X),{colspan:pe,rowspan:Se,colwidth:Re}=he.attrs;for(let $e=0;$e<Se;$e++){if($e+x>=b){(M||(M=[])).push({type:"overlong_rowspan",pos:P,n:Se-$e});break}const et=w+$e*d;for(let ht=0;ht<pe;ht++){h[et+ht]==0?h[et+ht]=P:(M||(M=[])).push({type:"collision",row:x,pos:P,n:pe-ht});const wt=Re&&Re[ht];if(wt){const rt=(et+ht)%d*2,It=R[rt];It==null||It!=wt&&R[rt+1]==1?(R[rt]=wt,R[rt+1]=1):It==wt&&R[rt+1]++}}}w+=pe,P+=he.nodeSize}const K=(x+1)*d;let Z=0;for(;w<K;)h[w++]==0&&Z++;Z&&(M||(M=[])).push({type:"missing",row:x,n:Z}),P++}const f=new Fe(d,b,h,M);let E=!1;for(let x=0;!E&&x<R.length;x+=2)R[x]!=null&&R[x+1]<b&&(E=!0);return E&&at(f,R,m),f}function Xe(m){let d=-1,b=!1;for(let h=0;h<m.childCount;h++){const w=m.child(h);let M=0;if(b)for(let R=0;R<h;R++){const f=m.child(R);for(let E=0;E<f.childCount;E++){const x=f.child(E);R+x.attrs.rowspan>h&&(M+=x.attrs.colspan)}}for(let R=0;R<w.childCount;R++){const f=w.child(R);M+=f.attrs.colspan,f.attrs.rowspan>1&&(b=!0)}d==-1?d=M:d!=M&&(d=Math.max(d,M))}return d}function at(m,d,b){m.problems||(m.problems=[]);const h={};for(let w=0;w<m.map.length;w++){const M=m.map[w];if(h[M])continue;h[M]=!0;const R=b.nodeAt(M);if(!R)throw new RangeError(`No cell with offset ${M} found`);let f=null;const E=R.attrs;for(let x=0;x<E.colspan;x++){const P=(w+x)%m.width,V=d[P*2];V!=null&&(!E.colwidth||E.colwidth[x]!=V)&&((f||(f=dt(E)))[x]=V)}f&&m.problems.unshift({type:"colwidth mismatch",pos:M,colwidth:f})}}function dt(m){if(m.colwidth)return m.colwidth.slice();const d=[];for(let b=0;b<m.colspan;b++)d.push(0);return d}function st(m,d){if(typeof m=="string")return{};const b=m.getAttribute("data-colwidth"),h=b&&/^\d+(,\d+)*$/.test(b)?b.split(",").map(R=>Number(R)):null,w=Number(m.getAttribute("colspan")||1),M={colspan:w,rowspan:Number(m.getAttribute("rowspan")||1),colwidth:h&&h.length==w?h:null};for(const R in d){const f=d[R].getFromDOM,E=f&&f(m);E!=null&&(M[R]=E)}return M}function Ue(m,d){const b={};m.attrs.colspan!=1&&(b.colspan=m.attrs.colspan),m.attrs.rowspan!=1&&(b.rowspan=m.attrs.rowspan),m.attrs.colwidth&&(b["data-colwidth"]=m.attrs.colwidth.join(","));for(const h in d){const w=d[h].setDOMAttr;w&&w(m.attrs[h],b)}return b}function ut(m){const d=m.cellAttributes||{},b={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const h in d)b[h]={default:d[h].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:m.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:m.cellContent,attrs:b,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:h=>st(h,d)}],toDOM(h){return["td",Ue(h,d),0]}},table_header:{content:m.cellContent,attrs:b,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:h=>st(h,d)}],toDOM(h){return["th",Ue(h,d),0]}}}}function Pe(m){let d=m.cached.tableNodeTypes;if(!d){d=m.cached.tableNodeTypes={};for(const b in m.nodes){const h=m.nodes[b],w=h.spec.tableRole;w&&(d[w]=h)}}return d}var Ye=new Ne.H$("selectingCells");function We(m){for(let d=m.depth-1;d>0;d--)if(m.node(d).type.spec.tableRole=="row")return m.node(0).resolve(m.before(d+1));return null}function Rt(m){for(let d=m.depth;d>0;d--){const b=m.node(d).type.spec.tableRole;if(b==="cell"||b==="header_cell")return m.node(d)}return null}function Bt(m){const d=m.selection.$head;for(let b=d.depth;b>0;b--)if(d.node(b).type.spec.tableRole=="row")return!0;return!1}function ve(m){const d=m.selection;if("$anchorCell"in d&&d.$anchorCell)return d.$anchorCell.pos>d.$headCell.pos?d.$anchorCell:d.$headCell;if("node"in d&&d.node&&d.node.type.spec.tableRole=="cell")return d.$anchor;const b=We(d.$head)||Ht(d.$head);if(b)return b;throw new RangeError(`No cell found around position ${d.head}`)}function Ht(m){for(let d=m.nodeAfter,b=m.pos;d;d=d.firstChild,b++){const h=d.type.spec.tableRole;if(h=="cell"||h=="header_cell")return m.doc.resolve(b)}for(let d=m.nodeBefore,b=m.pos;d;d=d.lastChild,b--){const h=d.type.spec.tableRole;if(h=="cell"||h=="header_cell")return m.doc.resolve(b-d.nodeSize)}}function St(m){return m.parent.type.spec.tableRole=="row"&&!!m.nodeAfter}function on(m){return m.node(0).resolve(m.pos+m.nodeAfter.nodeSize)}function Ge(m,d){return m.depth==d.depth&&m.pos>=d.start(-1)&&m.pos<=d.end(-1)}function Ke(m){return Fe.get(m.node(-1)).findCell(m.pos-m.start(-1))}function Be(m){return Fe.get(m.node(-1)).colCount(m.pos-m.start(-1))}function gt(m,d,b){const h=m.node(-1),w=Fe.get(h),M=m.start(-1),R=w.nextCell(m.pos-M,d,b);return R==null?null:m.node(0).resolve(M+R)}function Ce(m,d,b=1){const h=Te(Te({},m),{colspan:m.colspan-b});return h.colwidth&&(h.colwidth=h.colwidth.slice(),h.colwidth.splice(d,b),h.colwidth.some(w=>w>0)||(h.colwidth=null)),h}function U(m,d,b=1){const h=Te(Te({},m),{colspan:m.colspan+b});if(h.colwidth){h.colwidth=h.colwidth.slice();for(let w=0;w<b;w++)h.colwidth.splice(d,0,0)}return h}function J(m,d,b){const h=Pe(d.type.schema).header_cell;for(let w=0;w<m.height;w++)if(d.nodeAt(m.map[b+w*m.width]).type!=h)return!1;return!0}var te=class extends Ne.Y1{constructor(m,d=m){const b=m.node(-1),h=Fe.get(b),w=m.start(-1),M=h.rectBetween(m.pos-w,d.pos-w),R=m.node(0),f=h.cellsInRect(M).filter(x=>x!=d.pos-w);f.unshift(d.pos-w);const E=f.map(x=>{const P=b.nodeAt(x);if(!P)throw RangeError(`No cell with offset ${x} found`);const V=w+x+1;return new Ne.xm(R.resolve(V),R.resolve(V+P.content.size))});super(E[0].$from,E[0].$to,E);this.$anchorCell=m,this.$headCell=d}map(m,d){const b=m.resolve(d.map(this.$anchorCell.pos)),h=m.resolve(d.map(this.$headCell.pos));if(St(b)&&St(h)&&Ge(b,h)){const w=this.$anchorCell.node(-1)!=b.node(-1);return w&&this.isRowSelection()?te.rowSelection(b,h):w&&this.isColSelection()?te.colSelection(b,h):new te(b,h)}return Ne.Bs.between(b,h)}content(){const m=this.$anchorCell.node(-1),d=Fe.get(m),b=this.$anchorCell.start(-1),h=d.rectBetween(this.$anchorCell.pos-b,this.$headCell.pos-b),w={},M=[];for(let f=h.top;f<h.bottom;f++){const E=[];for(let x=f*d.width+h.left,P=h.left;P<h.right;P++,x++){const V=d.map[x];if(w[V])continue;w[V]=!0;const K=d.findCell(V);let Z=m.nodeAt(V);if(!Z)throw RangeError(`No cell with offset ${V} found`);const X=h.left-K.left,he=K.right-h.right;if(X>0||he>0){let pe=Z.attrs;if(X>0&&(pe=Ce(pe,0,X)),he>0&&(pe=Ce(pe,pe.colspan-he,he)),K.left<h.left){if(Z=Z.type.createAndFill(pe),!Z)throw RangeError(`Could not create cell with attrs ${JSON.stringify(pe)}`)}else Z=Z.type.create(pe,Z.content)}if(K.top<h.top||K.bottom>h.bottom){const pe=Te(Te({},Z.attrs),{rowspan:Math.min(K.bottom,h.bottom)-Math.max(K.top,h.top)});K.top<h.top?Z=Z.type.createAndFill(pe):Z=Z.type.create(pe,Z.content)}E.push(Z)}M.push(m.child(f).copy(Ee.HY.from(E)))}const R=this.isColSelection()&&this.isRowSelection()?m:M;return new Ee.p2(Ee.HY.from(R),1,1)}replace(m,d=Ee.p2.empty){const b=m.steps.length,h=this.ranges;for(let M=0;M<h.length;M++){const{$from:R,$to:f}=h[M],E=m.mapping.slice(b);m.replace(E.map(R.pos),E.map(f.pos),M?Ee.p2.empty:d)}const w=Ne.Y1.findFrom(m.doc.resolve(m.mapping.slice(b).map(this.to)),-1);w&&m.setSelection(w)}replaceWith(m,d){this.replace(m,new Ee.p2(Ee.HY.from(d),0,0))}forEachCell(m){const d=this.$anchorCell.node(-1),b=Fe.get(d),h=this.$anchorCell.start(-1),w=b.cellsInRect(b.rectBetween(this.$anchorCell.pos-h,this.$headCell.pos-h));for(let M=0;M<w.length;M++)m(d.nodeAt(w[M]),h+w[M])}isColSelection(){const m=this.$anchorCell.index(-1),d=this.$headCell.index(-1);if(Math.min(m,d)>0)return!1;const b=m+this.$anchorCell.nodeAfter.attrs.rowspan,h=d+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(b,h)==this.$headCell.node(-1).childCount}static colSelection(m,d=m){const b=m.node(-1),h=Fe.get(b),w=m.start(-1),M=h.findCell(m.pos-w),R=h.findCell(d.pos-w),f=m.node(0);return M.top<=R.top?(M.top>0&&(m=f.resolve(w+h.map[M.left])),R.bottom<h.height&&(d=f.resolve(w+h.map[h.width*(h.height-1)+R.right-1]))):(R.top>0&&(d=f.resolve(w+h.map[R.left])),M.bottom<h.height&&(m=f.resolve(w+h.map[h.width*(h.height-1)+M.right-1]))),new te(m,d)}isRowSelection(){const m=this.$anchorCell.node(-1),d=Fe.get(m),b=this.$anchorCell.start(-1),h=d.colCount(this.$anchorCell.pos-b),w=d.colCount(this.$headCell.pos-b);if(Math.min(h,w)>0)return!1;const M=h+this.$anchorCell.nodeAfter.attrs.colspan,R=w+this.$headCell.nodeAfter.attrs.colspan;return Math.max(M,R)==d.width}eq(m){return m instanceof te&&m.$anchorCell.pos==this.$anchorCell.pos&&m.$headCell.pos==this.$headCell.pos}static rowSelection(m,d=m){const b=m.node(-1),h=Fe.get(b),w=m.start(-1),M=h.findCell(m.pos-w),R=h.findCell(d.pos-w),f=m.node(0);return M.left<=R.left?(M.left>0&&(m=f.resolve(w+h.map[M.top*h.width])),R.right<h.width&&(d=f.resolve(w+h.map[h.width*(R.top+1)-1]))):(R.left>0&&(d=f.resolve(w+h.map[R.top*h.width])),M.right<h.width&&(m=f.resolve(w+h.map[h.width*(M.top+1)-1]))),new te(m,d)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(m,d){return new te(m.resolve(d.anchor),m.resolve(d.head))}static create(m,d,b=d){return new te(m.resolve(d),m.resolve(b))}getBookmark(){return new ke(this.$anchorCell.pos,this.$headCell.pos)}};te.prototype.visible=!1,Ne.Y1.jsonID("cell",te);var ke=class{constructor(m,d){this.anchor=m,this.head=d}map(m){return new ke(m.map(this.anchor),m.map(this.head))}resolve(m){const d=m.resolve(this.anchor),b=m.resolve(this.head);return d.parent.type.spec.tableRole=="row"&&b.parent.type.spec.tableRole=="row"&&d.index()<d.parent.childCount&&b.index()<b.parent.childCount&&Ge(d,b)?new te(d,b):Ne.Y1.near(b,1)}};function ze(m){if(!(m.selection instanceof te))return null;const d=[];return m.selection.forEachCell((b,h)=>{d.push(de.p.node(h,h+b.nodeSize,{class:"selectedCell"}))}),de.EH.create(m.doc,d)}function it({$from:m,$to:d}){if(m.pos==d.pos||m.pos<m.pos-6)return!1;let b=m.pos,h=d.pos,w=m.depth;for(;w>=0&&!(m.after(w+1)<m.end(w));w--,b++);for(let M=d.depth;M>=0&&!(d.before(M+1)>d.start(M));M--,h--);return b==h&&/row|table/.test(m.node(w).type.spec.tableRole)}function Lt({$from:m,$to:d}){let b,h;for(let w=m.depth;w>0;w--){const M=m.node(w);if(M.type.spec.tableRole==="cell"||M.type.spec.tableRole==="header_cell"){b=M;break}}for(let w=d.depth;w>0;w--){const M=d.node(w);if(M.type.spec.tableRole==="cell"||M.type.spec.tableRole==="header_cell"){h=M;break}}return b!==h&&d.parentOffset===0}function Ft(m,d,b){const h=(d||m).selection,w=(d||m).doc;let M,R;if(h instanceof Ne.qv&&(R=h.node.type.spec.tableRole)){if(R=="cell"||R=="header_cell")M=te.create(w,h.from);else if(R=="row"){const f=w.resolve(h.from+1);M=te.rowSelection(f,f)}else if(!b){const f=Fe.get(h.node),E=h.from+1,x=E+f.map[f.width*f.height-1];M=te.create(w,E+1,x)}}else h instanceof Ne.Bs&&it(h)?M=Ne.Bs.create(w,h.from):h instanceof Ne.Bs&&Lt(h)&&(M=Ne.Bs.create(w,h.$from.start(),h.$from.end()));return M&&(d||(d=m.tr)).setSelection(M),d}var Dt=new Ne.H$("fix-tables");function xt(m,d,b,h){const w=m.childCount,M=d.childCount;e:for(let R=0,f=0;R<M;R++){const E=d.child(R);for(let x=f,P=Math.min(w,R+3);x<P;x++)if(m.child(x)==E){f=x+1,b+=E.nodeSize;continue e}h(E,b),f<w&&m.child(f).sameMarkup(E)?xt(m.child(f),E,b+1,h):E.nodesBetween(0,E.content.size,h,b+1),b+=E.nodeSize}}function Cn(m,d){let b;const h=(w,M)=>{w.type.spec.tableRole=="table"&&(b=zn(m,w,M,b))};return d?d.doc!=m.doc&&xt(d.doc,m.doc,0,h):m.doc.descendants(h),b}function zn(m,d,b,h){const w=Fe.get(d);if(!w.problems)return h;h||(h=m.tr);const M=[];for(let E=0;E<w.height;E++)M.push(0);for(let E=0;E<w.problems.length;E++){const x=w.problems[E];if(x.type=="collision"){const P=d.nodeAt(x.pos);if(!P)continue;const V=P.attrs;for(let K=0;K<V.rowspan;K++)M[x.row+K]+=x.n;h.setNodeMarkup(h.mapping.map(b+1+x.pos),null,Ce(V,V.colspan-x.n,x.n))}else if(x.type=="missing")M[x.row]+=x.n;else if(x.type=="overlong_rowspan"){const P=d.nodeAt(x.pos);if(!P)continue;h.setNodeMarkup(h.mapping.map(b+1+x.pos),null,Te(Te({},P.attrs),{rowspan:P.attrs.rowspan-x.n}))}else if(x.type=="colwidth mismatch"){const P=d.nodeAt(x.pos);if(!P)continue;h.setNodeMarkup(h.mapping.map(b+1+x.pos),null,Te(Te({},P.attrs),{colwidth:x.colwidth}))}}let R,f;for(let E=0;E<M.length;E++)M[E]&&(R==null&&(R=E),f=E);for(let E=0,x=b+1;E<w.height;E++){const P=d.child(E),V=x+P.nodeSize,K=M[E];if(K>0){let Z="cell";P.firstChild&&(Z=P.firstChild.type.spec.tableRole);const X=[];for(let pe=0;pe<K;pe++){const Se=Pe(m.schema)[Z].createAndFill();Se&&X.push(Se)}const he=(E==0||R==E-1)&&f==E?x+1:V-1;h.insert(h.mapping.map(he),X)}x=V}return h.setMeta(Dt,{fixTables:!0})}function Rn(m){if(!m.size)return null;let{content:d,openStart:b,openEnd:h}=m;for(;d.childCount==1&&(b>0&&h>0||d.child(0).type.spec.tableRole=="table");)b--,h--,d=d.child(0).content;const w=d.child(0),M=w.type.spec.tableRole,R=w.type.schema,f=[];if(M=="row")for(let E=0;E<d.childCount;E++){let x=d.child(E).content;const P=E?0:Math.max(0,b-1),V=E<d.childCount-1?0:Math.max(0,h-1);(P||V)&&(x=rn(Pe(R).row,new Ee.p2(x,P,V)).content),f.push(x)}else if(M=="cell"||M=="header_cell")f.push(b||h?rn(Pe(R).row,new Ee.p2(d,b,h)).content:d);else return null;return Mn(R,f)}function Mn(m,d){const b=[];for(let w=0;w<d.length;w++){const M=d[w];for(let R=M.childCount-1;R>=0;R--){const{rowspan:f,colspan:E}=M.child(R).attrs;for(let x=w;x<w+f;x++)b[x]=(b[x]||0)+E}}let h=0;for(let w=0;w<b.length;w++)h=Math.max(h,b[w]);for(let w=0;w<b.length;w++)if(w>=d.length&&d.push(Ee.HY.empty),b[w]<h){const M=Pe(m).cell.createAndFill(),R=[];for(let f=b[w];f<h;f++)R.push(M);d[w]=d[w].append(Ee.HY.from(R))}return{height:d.length,width:h,rows:d}}function rn(m,d){const b=m.createAndFill();return new qe.wx(b).replace(0,b.content.size,d).doc}function vn({width:m,height:d,rows:b},h,w){if(m!=h){const M=[],R=[];for(let f=0;f<b.length;f++){const E=b[f],x=[];for(let P=M[f]||0,V=0;P<h;V++){let K=E.child(V%E.childCount);P+K.attrs.colspan>h&&(K=K.type.createChecked(Ce(K.attrs,K.attrs.colspan,P+K.attrs.colspan-h),K.content)),x.push(K),P+=K.attrs.colspan;for(let Z=1;Z<K.attrs.rowspan;Z++)M[f+Z]=(M[f+Z]||0)+K.attrs.colspan}R.push(Ee.HY.from(x))}b=R,m=h}if(d!=w){const M=[];for(let R=0,f=0;R<w;R++,f++){const E=[],x=b[f%d];for(let P=0;P<x.childCount;P++){let V=x.child(P);R+V.attrs.rowspan>w&&(V=V.type.create(Te(Te({},V.attrs),{rowspan:Math.max(1,w-V.attrs.rowspan)}),V.content)),E.push(V)}M.push(Ee.HY.from(E))}b=M,d=w}return{width:m,height:d,rows:b}}function bn(m,d,b,h,w,M,R){const f=m.doc.type.schema,E=Pe(f);let x,P;if(w>d.width)for(let V=0,K=0;V<d.height;V++){const Z=b.child(V);K+=Z.nodeSize;const X=[];let he;Z.lastChild==null||Z.lastChild.type==E.cell?he=x||(x=E.cell.createAndFill()):he=P||(P=E.header_cell.createAndFill());for(let pe=d.width;pe<w;pe++)X.push(he);m.insert(m.mapping.slice(R).map(K-1+h),X)}if(M>d.height){const V=[];for(let X=0,he=(d.height-1)*d.width;X<Math.max(d.width,w);X++){const pe=X>=d.width?!1:b.nodeAt(d.map[he+X]).type==E.header_cell;V.push(pe?P||(P=E.header_cell.createAndFill()):x||(x=E.cell.createAndFill()))}const K=E.row.create(null,Ee.HY.from(V)),Z=[];for(let X=d.height;X<M;X++)Z.push(K);m.insert(m.mapping.slice(R).map(h+b.nodeSize-2),Z)}return!!(x||P)}function mn(m,d,b,h,w,M,R,f){if(R==0||R==d.height)return!1;let E=!1;for(let x=w;x<M;x++){const P=R*d.width+x,V=d.map[P];if(d.map[P-d.width]==V){E=!0;const K=b.nodeAt(V),{top:Z,left:X}=d.findCell(V);m.setNodeMarkup(m.mapping.slice(f).map(V+h),null,Te(Te({},K.attrs),{rowspan:R-Z})),m.insert(m.mapping.slice(f).map(d.positionAt(R,X,b)),K.type.createAndFill(Te(Te({},K.attrs),{rowspan:Z+K.attrs.rowspan-R}))),x+=K.attrs.colspan-1}}return E}function qn(m,d,b,h,w,M,R,f){if(R==0||R==d.width)return!1;let E=!1;for(let x=w;x<M;x++){const P=x*d.width+R,V=d.map[P];if(d.map[P-1]==V){E=!0;const K=b.nodeAt(V),Z=d.colCount(V),X=m.mapping.slice(f).map(V+h);m.setNodeMarkup(X,null,Ce(K.attrs,R-Z,K.attrs.colspan-(R-Z))),m.insert(X+K.nodeSize,K.type.createAndFill(Ce(K.attrs,0,R-Z))),x+=K.attrs.rowspan-1}}return E}function In(m,d,b,h,w){let M=b?m.doc.nodeAt(b-1):m.doc;if(!M)throw new Error("No table found");let R=Fe.get(M);const{top:f,left:E}=h,x=E+w.width,P=f+w.height,V=m.tr;let K=0;function Z(){if(M=b?V.doc.nodeAt(b-1):V.doc,!M)throw new Error("No table found");R=Fe.get(M),K=V.mapping.maps.length}bn(V,R,M,b,x,P,K)&&Z(),mn(V,R,M,b,E,x,f,K)&&Z(),mn(V,R,M,b,E,x,P,K)&&Z(),qn(V,R,M,b,f,P,E,K)&&Z(),qn(V,R,M,b,f,P,x,K)&&Z();for(let X=f;X<P;X++){const he=R.positionAt(X,E,M),pe=R.positionAt(X,x,M);V.replace(V.mapping.slice(K).map(he+b),V.mapping.slice(K).map(pe+b),new Ee.p2(w.rows[X-f],0,0))}Z(),V.setSelection(new te(V.doc.resolve(b+R.positionAt(f,E,M)),V.doc.resolve(b+R.positionAt(P-1,x-1,M)))),d(V)}var wn=(0,le.$)({ArrowLeft:Pn("horiz",-1),ArrowRight:Pn("horiz",1),ArrowUp:Pn("vert",-1),ArrowDown:Pn("vert",1),"Shift-ArrowLeft":Sn("horiz",-1),"Shift-ArrowRight":Sn("horiz",1),"Shift-ArrowUp":Sn("vert",-1),"Shift-ArrowDown":Sn("vert",1),Backspace:Bn,"Mod-Backspace":Bn,Delete:Bn,"Mod-Delete":Bn});function cn(m,d,b){return b.eq(m.selection)?!1:(d&&d(m.tr.setSelection(b).scrollIntoView()),!0)}function Pn(m,d){return(b,h,w)=>{if(!w)return!1;const M=b.selection;if(M instanceof te)return cn(b,h,Ne.Y1.near(M.$headCell,d));if(m!="horiz"&&!M.empty)return!1;const R=_n(w,m,d);if(R==null)return!1;if(m=="horiz")return cn(b,h,Ne.Y1.near(b.doc.resolve(M.head+d),d));{const f=b.doc.resolve(R),E=gt(f,m,d);let x;return E?x=Ne.Y1.near(E,1):d<0?x=Ne.Y1.near(b.doc.resolve(f.before(-1)),-1):x=Ne.Y1.near(b.doc.resolve(f.after(-1)),1),cn(b,h,x)}}}function Sn(m,d){return(b,h,w)=>{if(!w)return!1;const M=b.selection;let R;if(M instanceof te)R=M;else{const E=_n(w,m,d);if(E==null)return!1;R=new te(b.doc.resolve(E))}const f=gt(R.$headCell,m,d);return f?cn(b,h,new te(R.$anchorCell,f)):!1}}function Bn(m,d){const b=m.selection;if(!(b instanceof te))return!1;if(d){const h=m.tr,w=Pe(m.schema).cell.createAndFill().content;b.forEachCell((M,R)=>{M.content.eq(w)||h.replace(h.mapping.map(R+1),h.mapping.map(R+M.nodeSize-1),new Ee.p2(w,0,0))}),h.docChanged&&d(h)}return!0}function Tn(m,d){const b=m.state.doc,h=We(b.resolve(d));return h?(m.dispatch(m.state.tr.setSelection(new te(h))),!0):!1}function Xn(m,d,b){if(!Bt(m.state))return!1;let h=Rn(b);const w=m.state.selection;if(w instanceof te){h||(h={width:1,height:1,rows:[Ee.HY.from(rn(Pe(m.state.schema).cell,b))]});const M=w.$anchorCell.node(-1),R=w.$anchorCell.start(-1),f=Fe.get(M).rectBetween(w.$anchorCell.pos-R,w.$headCell.pos-R);return h=vn(h,f.right-f.left,f.bottom-f.top),In(m.state,m.dispatch,R,f,h),!0}else if(h){const M=ve(m.state),R=M.start(-1);return In(m.state,m.dispatch,R,Fe.get(M.node(-1)).findCell(M.pos-R),h),!0}else return!1}function tr(m,d){var b;if(d.ctrlKey||d.metaKey)return;const h=Jn(m,d.target);let w;if(d.shiftKey&&m.state.selection instanceof te)M(m.state.selection.$anchorCell,d),d.preventDefault();else if(d.shiftKey&&h&&(w=We(m.state.selection.$anchor))!=null&&((b=Yn(m,d))==null?void 0:b.pos)!=w.pos)M(w,d),d.preventDefault();else if(!h)return;function M(E,x){let P=Yn(m,x);const V=Ye.getState(m.state)==null;if(!P||!Ge(E,P))if(V)P=E;else return;const K=new te(E,P);if(V||!m.state.selection.eq(K)){const Z=m.state.tr.setSelection(K);V&&Z.setMeta(Ye,E.pos),m.dispatch(Z)}}function R(){m.root.removeEventListener("mouseup",R),m.root.removeEventListener("dragstart",R),m.root.removeEventListener("mousemove",f),Ye.getState(m.state)!=null&&m.dispatch(m.state.tr.setMeta(Ye,-1))}function f(E){const x=E,P=Ye.getState(m.state);let V;if(P!=null)V=m.state.doc.resolve(P);else if(Jn(m,x.target)!=h&&(V=Yn(m,d),!V))return R();V&&M(V,x)}m.root.addEventListener("mouseup",R),m.root.addEventListener("dragstart",R),m.root.addEventListener("mousemove",f)}function _n(m,d,b){if(!(m.state.selection instanceof Ne.Bs))return null;const{$head:h}=m.state.selection;for(let w=h.depth-1;w>=0;w--){const M=h.node(w);if((b<0?h.index(w):h.indexAfter(w))!=(b<0?0:M.childCount))return null;if(M.type.spec.tableRole=="cell"||M.type.spec.tableRole=="header_cell"){const f=h.before(w),E=d=="vert"?b>0?"down":"up":b>0?"right":"left";return m.endOfTextblock(E)?f:null}}return null}function Jn(m,d){for(;d&&d!=m.dom;d=d.parentNode)if(d.nodeName=="TD"||d.nodeName=="TH")return d;return null}function Yn(m,d){const b=m.posAtCoords({left:d.clientX,top:d.clientY});return b&&b?We(m.state.doc.resolve(b.pos)):null}var Dn=class{constructor(m,d){this.node=m,this.cellMinWidth=d,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Nn(m,this.colgroup,this.table,d),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(m){return m.type!=this.node.type?!1:(this.node=m,Nn(m,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(m){return m.type=="attributes"&&(m.target==this.table||this.colgroup.contains(m.target))}};function Nn(m,d,b,h,w,M){var R;let f=0,E=!0,x=d.firstChild;const P=m.firstChild;if(!!P){for(let V=0,K=0;V<P.childCount;V++){const{colspan:Z,colwidth:X}=P.child(V).attrs;for(let he=0;he<Z;he++,K++){const pe=w==K?M:X&&X[he],Se=pe?pe+"px":"";f+=pe||h,pe||(E=!1),x?(x.style.width!=Se&&(x.style.width=Se),x=x.nextSibling):d.appendChild(document.createElement("col")).style.width=Se}}for(;x;){const V=x.nextSibling;(R=x.parentNode)==null||R.removeChild(x),x=V}E?(b.style.width=f+"px",b.style.minWidth=""):(b.style.width="",b.style.minWidth=f+"px")}}var Hn=new Ne.H$("tableColumnResizing");function ue({handleWidth:m=5,cellMinWidth:d=25,View:b=Dn,lastColumnResizable:h=!0}={}){const w=new Ne.Sy({key:Hn,state:{init(M,R){return w.spec.props.nodeViews[Pe(R.schema).table.name]=(f,E)=>new b(f,d,E),new v(-1,!1)},apply(M,R){return R.apply(M)}},props:{attributes:M=>{const R=Hn.getState(M);return R&&R.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(M,R)=>{_(M,R,m,d,h)},mouseleave:M=>{T(M)},mousedown:(M,R)=>{Y(M,R,d)}},decorations:M=>{const R=Hn.getState(M);if(R&&R.activeHandle>-1)return S(M,R.activeHandle)},nodeViews:{}}});return w}var v=class{constructor(m,d){this.activeHandle=m,this.dragging=d}apply(m){const d=this,b=m.getMeta(Hn);if(b&&b.setHandle!=null)return new v(b.setHandle,!1);if(b&&b.setDragging!==void 0)return new v(d.activeHandle,b.setDragging);if(d.activeHandle>-1&&m.docChanged){let h=m.mapping.map(d.activeHandle,-1);return St(m.doc.resolve(h))||(h=-1),new v(h,d.dragging)}return d}};function _(m,d,b,h,w){const M=Hn.getState(m.state);if(!!M&&!M.dragging){const R=Q(d.target);let f=-1;if(R){const{left:E,right:x}=R.getBoundingClientRect();d.clientX-E<=b?f=we(m,d,"left",b):x-d.clientX<=b&&(f=we(m,d,"right",b))}if(f!=M.activeHandle){if(!w&&f!==-1){const E=m.state.doc.resolve(f),x=E.node(-1),P=Fe.get(x),V=E.start(-1);if(P.colCount(E.pos-V)+E.nodeAfter.attrs.colspan-1==P.width-1)return}I(m,f)}}}function T(m){const d=Hn.getState(m.state);d&&d.activeHandle>-1&&!d.dragging&&I(m,-1)}function Y(m,d,b){const h=Hn.getState(m.state);if(!h||h.activeHandle==-1||h.dragging)return!1;const w=m.state.doc.nodeAt(h.activeHandle),M=ie(m,h.activeHandle,w.attrs);m.dispatch(m.state.tr.setMeta(Hn,{setDragging:{startX:d.clientX,startWidth:M}}));function R(E){window.removeEventListener("mouseup",R),window.removeEventListener("mousemove",f);const x=Hn.getState(m.state);(x==null?void 0:x.dragging)&&(o(m,x.activeHandle,De(x.dragging,E,b)),m.dispatch(m.state.tr.setMeta(Hn,{setDragging:null})))}function f(E){if(!E.which)return R(E);const x=Hn.getState(m.state);if(!!x&&x.dragging){const P=De(x.dragging,E,b);c(m,x.activeHandle,P,b)}}return window.addEventListener("mouseup",R),window.addEventListener("mousemove",f),d.preventDefault(),!0}function ie(m,d,{colspan:b,colwidth:h}){const w=h&&h[h.length-1];if(w)return w;const M=m.domAtPos(d);let f=M.node.childNodes[M.offset].offsetWidth,E=b;if(h)for(let x=0;x<b;x++)h[x]&&(f-=h[x],E--);return f/E}function Q(m){for(;m&&m.nodeName!="TD"&&m.nodeName!="TH";)m=m.classList&&m.classList.contains("ProseMirror")?null:m.parentNode;return m}function we(m,d,b,h){const w=b=="right"?-h:h,M=m.posAtCoords({left:d.clientX+w,top:d.clientY});if(!M)return-1;const{pos:R}=M,f=We(m.state.doc.resolve(R));if(!f)return-1;if(b=="right")return f.pos;const E=Fe.get(f.node(-1)),x=f.start(-1),P=E.map.indexOf(f.pos-x);return P%E.width==0?-1:x+E.map[P-1]}function De(m,d,b){const h=d.clientX-m.startX;return Math.max(b,m.startWidth+h)}function I(m,d){m.dispatch(m.state.tr.setMeta(Hn,{setHandle:d}))}function o(m,d,b){const h=m.state.doc.resolve(d),w=h.node(-1),M=Fe.get(w),R=h.start(-1),f=M.colCount(h.pos-R)+h.nodeAfter.attrs.colspan-1,E=m.state.tr;for(let x=0;x<M.height;x++){const P=x*M.width+f;if(x&&M.map[P]==M.map[P-M.width])continue;const V=M.map[P],K=w.nodeAt(V).attrs,Z=K.colspan==1?0:f-M.colCount(V);if(K.colwidth&&K.colwidth[Z]==b)continue;const X=K.colwidth?K.colwidth.slice():y(K.colspan);X[Z]=b,E.setNodeMarkup(R+V,null,Te(Te({},K),{colwidth:X}))}E.docChanged&&m.dispatch(E)}function c(m,d,b,h){const w=m.state.doc.resolve(d),M=w.node(-1),R=w.start(-1),f=Fe.get(M).colCount(w.pos-R)+w.nodeAfter.attrs.colspan-1;let E=m.domAtPos(w.start(-1)).node;for(;E&&E.nodeName!="TABLE";)E=E.parentNode;!E||Nn(M,E.firstChild,E,h,f,b)}function y(m){return Array(m).fill(0)}function S(m,d){const b=[],h=m.doc.resolve(d),w=h.node(-1);if(!w)return de.EH.empty;const M=Fe.get(w),R=h.start(-1),f=M.colCount(h.pos-R)+h.nodeAfter.attrs.colspan;for(let E=0;E<M.height;E++){const x=f+E*M.width-1;if((f==M.width||M.map[x]!=M.map[x+1])&&(E==0||M.map[x]!=M.map[x-M.width])){const P=M.map[x],V=R+P+w.nodeAt(P).nodeSize-1,K=document.createElement("div");K.className="column-resize-handle",b.push(de.p.widget(V,K))}}return de.EH.create(m.doc,b)}function O(m){const d=m.selection,b=ve(m),h=b.node(-1),w=b.start(-1),M=Fe.get(h),R=d instanceof te?M.rectBetween(d.$anchorCell.pos-w,d.$headCell.pos-w):M.findCell(b.pos-w);return Te(Te({},R),{tableStart:w,map:M,table:h})}function z(m,{map:d,tableStart:b,table:h},w){let M=w>0?-1:0;J(d,h,w+M)&&(M=w==0||w==d.width?null:0);for(let R=0;R<d.height;R++){const f=R*d.width+w;if(w>0&&w<d.width&&d.map[f-1]==d.map[f]){const E=d.map[f],x=h.nodeAt(E);m.setNodeMarkup(m.mapping.map(b+E),null,U(x.attrs,w-d.colCount(E))),R+=x.attrs.rowspan-1}else{const E=M==null?Pe(h.type.schema).cell:h.nodeAt(d.map[f+M]).type,x=d.positionAt(R,w,h);m.insert(m.mapping.map(b+x),E.createAndFill())}}return m}function j(m,d){if(!Bt(m))return!1;if(d){const b=O(m);d(z(m.tr,b,b.left))}return!0}function ce(m,d){if(!Bt(m))return!1;if(d){const b=O(m);d(z(m.tr,b,b.right))}return!0}function tt(m,{map:d,table:b,tableStart:h},w){const M=m.mapping.maps.length;for(let R=0;R<d.height;){const f=R*d.width+w,E=d.map[f],x=b.nodeAt(E),P=x.attrs;if(w>0&&d.map[f-1]==E||w<d.width-1&&d.map[f+1]==E)m.setNodeMarkup(m.mapping.slice(M).map(h+E),null,Ce(P,w-d.colCount(E)));else{const V=m.mapping.slice(M).map(h+E);m.delete(V,V+x.nodeSize)}R+=P.rowspan}}function L(m,d){if(!Bt(m))return!1;if(d){const b=O(m),h=m.tr;if(b.left==0&&b.right==b.map.width)return!1;for(let w=b.right-1;tt(h,b,w),w!=b.left;w--){const M=b.tableStart?h.doc.nodeAt(b.tableStart-1):h.doc;if(!M)throw RangeError("No table found");b.table=M,b.map=Fe.get(M)}d(h)}return!0}function F(m,d,b){var h;const w=Pe(d.type.schema).header_cell;for(let M=0;M<m.width;M++)if(((h=d.nodeAt(m.map[M+b*m.width]))==null?void 0:h.type)!=w)return!1;return!0}function q(m,{map:d,tableStart:b,table:h},w){var M;let R=b;for(let x=0;x<w;x++)R+=h.child(x).nodeSize;const f=[];let E=w>0?-1:0;F(d,h,w+E)&&(E=w==0||w==d.height?null:0);for(let x=0,P=d.width*w;x<d.width;x++,P++)if(w>0&&w<d.height&&d.map[P]==d.map[P-d.width]){const V=d.map[P],K=h.nodeAt(V).attrs;m.setNodeMarkup(b+V,null,Te(Te({},K),{rowspan:K.rowspan+1})),x+=K.colspan-1}else{const V=E==null?Pe(h.type.schema).cell:(M=h.nodeAt(d.map[P+E*d.width]))==null?void 0:M.type,K=V==null?void 0:V.createAndFill();K&&f.push(K)}return m.insert(R,Pe(h.type.schema).row.create(null,f)),m}function oe(m,d){if(!Bt(m))return!1;if(d){const b=O(m);d(q(m.tr,b,b.top))}return!0}function ne(m,d){if(!Bt(m))return!1;if(d){const b=O(m);d(q(m.tr,b,b.bottom))}return!0}function xe(m,{map:d,table:b,tableStart:h},w){let M=0;for(let E=0;E<w;E++)M+=b.child(E).nodeSize;const R=M+b.child(w).nodeSize,f=m.mapping.maps.length;m.delete(M+h,R+h);for(let E=0,x=w*d.width;E<d.width;E++,x++){const P=d.map[x];if(w>0&&P==d.map[x-d.width]){const V=b.nodeAt(P).attrs;m.setNodeMarkup(m.mapping.slice(f).map(P+h),null,Te(Te({},V),{rowspan:V.rowspan-1})),E+=V.colspan-1}else if(w<d.width&&P==d.map[x+d.width]){const V=b.nodeAt(P),K=V.attrs,Z=V.type.create(Te(Te({},K),{rowspan:V.attrs.rowspan-1}),V.content),X=d.positionAt(w+1,E,b);m.insert(m.mapping.slice(f).map(h+X),Z),E+=K.colspan-1}}}function Le(m,d){if(!Bt(m))return!1;if(d){const b=O(m),h=m.tr;if(b.top==0&&b.bottom==b.map.height)return!1;for(let w=b.bottom-1;xe(h,b,w),w!=b.top;w--){const M=b.tableStart?h.doc.nodeAt(b.tableStart-1):h.doc;if(!M)throw RangeError("No table found");b.table=M,b.map=Fe.get(b.table)}d(h)}return!0}function Ze(m){const d=m.content;return d.childCount==1&&d.child(0).isTextblock&&d.child(0).childCount==0}function _t({width:m,height:d,map:b},h){let w=h.top*m+h.left,M=w,R=(h.bottom-1)*m+h.left,f=w+(h.right-h.left-1);for(let E=h.top;E<h.bottom;E++){if(h.left>0&&b[M]==b[M-1]||h.right<m&&b[f]==b[f+1])return!0;M+=m,f+=m}for(let E=h.left;E<h.right;E++){if(h.top>0&&b[w]==b[w-m]||h.bottom<d&&b[R]==b[R+m])return!0;w++,R++}return!1}function $t(m,d){const b=m.selection;if(!(b instanceof te)||b.$anchorCell.pos==b.$headCell.pos)return!1;const h=O(m),{map:w}=h;if(_t(w,h))return!1;if(d){const M=m.tr,R={};let f=Ee.HY.empty,E,x;for(let P=h.top;P<h.bottom;P++)for(let V=h.left;V<h.right;V++){const K=w.map[P*w.width+V],Z=h.table.nodeAt(K);if(!(R[K]||!Z))if(R[K]=!0,E==null)E=K,x=Z;else{Ze(Z)||(f=f.append(Z.content));const X=M.mapping.map(K+h.tableStart);M.delete(X,X+Z.nodeSize)}}if(E==null||x==null)return!0;if(M.setNodeMarkup(E+h.tableStart,null,Te(Te({},U(x.attrs,x.attrs.colspan,h.right-h.left-x.attrs.colspan)),{rowspan:h.bottom-h.top})),f.size){const P=E+1+x.content.size,V=Ze(x)?E+1:P;M.replaceWith(V+h.tableStart,P+h.tableStart,f)}M.setSelection(new te(M.doc.resolve(E+h.tableStart))),d(M)}return!0}function Ut(m,d){const b=Pe(m.schema);return W(({node:h})=>b[h.type.spec.tableRole])(m,d)}function W(m){return(d,b)=>{var h;const w=d.selection;let M,R;if(w instanceof te){if(w.$anchorCell.pos!=w.$headCell.pos)return!1;M=w.$anchorCell.nodeAfter,R=w.$anchorCell.pos}else{if(M=Rt(w.$from),!M)return!1;R=(h=We(w.$from))==null?void 0:h.pos}if(M==null||R==null||M.attrs.colspan==1&&M.attrs.rowspan==1)return!1;if(b){let f=M.attrs;const E=[],x=f.colwidth;f.rowspan>1&&(f=Te(Te({},f),{rowspan:1})),f.colspan>1&&(f=Te(Te({},f),{colspan:1}));const P=O(d),V=d.tr;for(let Z=0;Z<P.right-P.left;Z++)E.push(x?Te(Te({},f),{colwidth:x&&x[Z]?[x[Z]]:null}):f);let K;for(let Z=P.top;Z<P.bottom;Z++){let X=P.map.positionAt(Z,P.left,P.table);Z==P.top&&(X+=M.nodeSize);for(let he=P.left,pe=0;he<P.right;he++,pe++)he==P.left&&Z==P.top||V.insert(K=V.mapping.map(X+P.tableStart,1),m({node:M,row:Z,col:he}).createAndFill(E[pe]))}V.setNodeMarkup(R,m({node:M,row:P.top,col:P.left}),E[0]),w instanceof te&&V.setSelection(new te(V.doc.resolve(w.$anchorCell.pos),K?V.doc.resolve(K):void 0)),b(V)}return!0}}function ae(m,d){return function(b,h){if(!Bt(b))return!1;const w=ve(b);if(w.nodeAfter.attrs[m]===d)return!1;if(h){const M=b.tr;b.selection instanceof te?b.selection.forEachCell((R,f)=>{R.attrs[m]!==d&&M.setNodeMarkup(f,null,Te(Te({},R.attrs),{[m]:d}))}):M.setNodeMarkup(w.pos,null,Te(Te({},w.nodeAfter.attrs),{[m]:d})),h(M)}return!0}}function Me(m){return function(d,b){if(!Bt(d))return!1;if(b){const h=Pe(d.schema),w=O(d),M=d.tr,R=w.map.cellsInRect(m=="column"?{left:w.left,top:0,right:w.right,bottom:w.map.height}:m=="row"?{left:0,top:w.top,right:w.map.width,bottom:w.bottom}:w),f=R.map(E=>w.table.nodeAt(E));for(let E=0;E<R.length;E++)f[E].type==h.header_cell&&M.setNodeMarkup(w.tableStart+R[E],h.cell,f[E].attrs);if(M.steps.length==0)for(let E=0;E<R.length;E++)M.setNodeMarkup(w.tableStart+R[E],h.header_cell,f[E].attrs);b(M)}return!0}}function lt(m,d,b){const h=d.map.cellsInRect({left:0,top:0,right:m=="row"?d.map.width:1,bottom:m=="column"?d.map.height:1});for(let w=0;w<h.length;w++){const M=d.table.nodeAt(h[w]);if(M&&M.type!==b.header_cell)return!1}return!0}function Et(m,d){return d=d||{useDeprecatedLogic:!1},d.useDeprecatedLogic?Me(m):function(b,h){if(!Bt(b))return!1;if(h){const w=Pe(b.schema),M=O(b),R=b.tr,f=lt("row",M,w),E=lt("column",M,w),P=(m==="column"?f:m==="row"?E:!1)?1:0,V=m=="column"?{left:0,top:P,right:1,bottom:M.map.height}:m=="row"?{left:P,top:0,right:M.map.width,bottom:1}:M,K=m=="column"?E?w.cell:w.header_cell:m=="row"?f?w.cell:w.header_cell:w.cell;M.map.cellsInRect(V).forEach(Z=>{const X=Z+M.tableStart,he=R.doc.nodeAt(X);he&&R.setNodeMarkup(X,K,he.attrs)}),h(R)}return!0}}var Tt=Et("row",{useDeprecatedLogic:!0}),nt=Et("column",{useDeprecatedLogic:!0}),_e=Et("cell",{useDeprecatedLogic:!0});function kt(m,d){if(d<0){const b=m.nodeBefore;if(b)return m.pos-b.nodeSize;for(let h=m.index(-1)-1,w=m.before();h>=0;h--){const M=m.node(-1).child(h),R=M.lastChild;if(R)return w-1-R.nodeSize;w-=M.nodeSize}}else{if(m.index()<m.parent.childCount-1)return m.pos+m.nodeAfter.nodeSize;const b=m.node(-1);for(let h=m.indexAfter(-1),w=m.after();h<b.childCount;h++){const M=b.child(h);if(M.childCount)return w+1;w+=M.nodeSize}}return null}function Zt(m){return function(d,b){if(!Bt(d))return!1;const h=kt(ve(d),m);if(h==null)return!1;if(b){const w=d.doc.resolve(h);b(d.tr.setSelection(Ne.Bs.between(w,on(w))).scrollIntoView())}return!0}}function qt(m,d){const b=m.selection.$anchor;for(let h=b.depth;h>0;h--)if(b.node(h).type.spec.tableRole=="table")return d&&d(m.tr.delete(b.before(h),b.after(h)).scrollIntoView()),!0;return!1}function On({allowTableNodeSelection:m=!1}={}){return new Ne.Sy({key:Ye,state:{init(){return null},apply(d,b){const h=d.getMeta(Ye);if(h!=null)return h==-1?null:h;if(b==null||!d.docChanged)return b;const{deleted:w,pos:M}=d.mapping.mapResult(b);return w?null:M}},props:{decorations:ze,handleDOMEvents:{mousedown:tr},createSelectionBetween(d){return Ye.getState(d.state)!=null?d.state.selection:null},handleTripleClick:Tn,handleKeyDown:wn,handlePaste:Xn},appendTransaction(d,b,h){return Ft(h,Cn(h,b),m)}})}function Wt(m,d,b,h,w,M){let R=0,f=!0,E=d.firstChild;const x=m.firstChild;for(let P=0,V=0;P<x.childCount;P+=1){const{colspan:K,colwidth:Z}=x.child(P).attrs;for(let X=0;X<K;X+=1,V+=1){const he=w===V?M:Z&&Z[X],pe=he?`${he}px`:"";R+=he||h,he||(f=!1),E?(E.style.width!==pe&&(E.style.width=pe),E=E.nextSibling):d.appendChild(document.createElement("col")).style.width=pe}}for(;E;){const P=E.nextSibling;E.parentNode.removeChild(E),E=P}f?(b.style.width=`${R}px`,b.style.minWidth=""):(b.style.width="",b.style.minWidth=`${R}px`)}class an{constructor(d,b){this.node=d,this.cellMinWidth=b,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Wt(d,this.colgroup,this.table,b),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(d){return d.type!==this.node.type?!1:(this.node=d,Wt(d,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(d){return d.type==="attributes"&&(d.target===this.table||this.colgroup.contains(d.target))}}function Un(m,d){return d?m.createChecked(null,d):m.createAndFill()}function Gn(m){if(m.cached.tableNodeTypes)return m.cached.tableNodeTypes;const d={};return Object.keys(m.nodes).forEach(b=>{const h=m.nodes[b];h.spec.tableRole&&(d[h.spec.tableRole]=h)}),m.cached.tableNodeTypes=d,d}function xn(m,d,b,h,w){const M=Gn(m),R=[],f=[];for(let x=0;x<b;x+=1){const P=Un(M.cell,w);if(P&&f.push(P),h){const V=Un(M.header_cell,w);V&&R.push(V)}}const E=[];for(let x=0;x<d;x+=1)E.push(M.row.createChecked(null,h&&x===0?R:f));return M.table.createChecked(null,E)}function $n(m){return m instanceof te}const or=({editor:m})=>{const{selection:d}=m.state;if(!$n(d))return!1;let b=0;const h=(0,A.qv)(d.ranges[0].$from,M=>M.type.name==="table");return h==null||h.node.descendants(M=>{if(M.type.name==="table")return!1;["tableCell","tableHeader"].includes(M.type.name)&&(b+=1)}),b===d.ranges.length?(m.commands.deleteTable(),!0):!1},ir=A.NB.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:an,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:m}){return["table",(0,A.P1)(this.options.HTMLAttributes,m),["tbody",0]]},addCommands(){return{insertTable:({rows:m=3,cols:d=3,withHeaderRow:b=!0}={})=>({tr:h,dispatch:w,editor:M})=>{const R=xn(M.schema,m,d,b);if(w){const f=h.selection.anchor+1;h.replaceSelectionWith(R).scrollIntoView().setSelection(Ne.Bs.near(h.doc.resolve(f)))}return!0},addColumnBefore:()=>({state:m,dispatch:d})=>j(m,d),addColumnAfter:()=>({state:m,dispatch:d})=>ce(m,d),deleteColumn:()=>({state:m,dispatch:d})=>L(m,d),addRowBefore:()=>({state:m,dispatch:d})=>oe(m,d),addRowAfter:()=>({state:m,dispatch:d})=>ne(m,d),deleteRow:()=>({state:m,dispatch:d})=>Le(m,d),deleteTable:()=>({state:m,dispatch:d})=>qt(m,d),mergeCells:()=>({state:m,dispatch:d})=>$t(m,d),splitCell:()=>({state:m,dispatch:d})=>Ut(m,d),toggleHeaderColumn:()=>({state:m,dispatch:d})=>Et("column")(m,d),toggleHeaderRow:()=>({state:m,dispatch:d})=>Et("row")(m,d),toggleHeaderCell:()=>({state:m,dispatch:d})=>_e(m,d),mergeOrSplit:()=>({state:m,dispatch:d})=>$t(m,d)?!0:Ut(m,d),setCellAttribute:(m,d)=>({state:b,dispatch:h})=>ae(m,d)(b,h),goToNextCell:()=>({state:m,dispatch:d})=>Zt(1)(m,d),goToPreviousCell:()=>({state:m,dispatch:d})=>Zt(-1)(m,d),fixTables:()=>({state:m,dispatch:d})=>(d&&Cn(m),!0),setCellSelection:m=>({tr:d,dispatch:b})=>{if(b){const h=te.create(d.doc,m.anchorCell,m.headCell);d.setSelection(h)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:or,"Mod-Backspace":or,Delete:or,"Mod-Delete":or}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[ue({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],On({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(m){const d={name:m.name,options:m.options,storage:m.storage};return{tableRole:(0,A.nU)((0,A.Nl)(m,"tableRole",d))}}})},86050:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.hj.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:Ee=>Ee.style.textAlign||this.options.defaultAlignment,renderHTML:Ee=>Ee.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${Ee.textAlign}`}}}}]},addCommands(){return{setTextAlign:Ee=>({commands:de})=>this.options.alignments.includes(Ee)?this.options.types.every(le=>de.updateAttributes(le,{textAlign:Ee})):!1,unsetTextAlign:()=>({commands:Ee})=>this.options.types.every(de=>Ee.resetAttributes(de,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}})},55972:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:Ee=>Ee.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:Ee}){return["span",(0,A.P1)(this.options.HTMLAttributes,Ee),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:Ee,commands:de})=>{const le=(0,A.Jo)(Ee,this.type);return Object.entries(le).some(([,je])=>!!je)?!0:de.unsetMark(this.name)}}}})},76725:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Ne}});var A=ge(14102);const Ne=A.vc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:Ee=>Ee.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:Ee}){return["u",(0,A.P1)(this.options.HTMLAttributes,Ee),0]},addCommands(){return{setUnderline:()=>({commands:Ee})=>Ee.setMark(this.name),toggleUnderline:()=>({commands:Ee})=>Ee.toggleMark(this.name),unsetUnderline:()=>({commands:Ee})=>Ee.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}})},840:function(En,Ot,ge){"use strict";ge.d(Ot,{kg:function(){return je},ms:function(){return We},T5:function(){return Rt},fW:function(){return on},jE:function(){return He}});var A=ge(22374),Ne=ge(55653),Ee=ge(14102);const de=({renderers:Ge})=>A.createElement(A.Fragment,null,Object.entries(Ge).map(([Ke,Be])=>Ne.createPortal(Be.reactElement,Be.element,Ke)));class le extends A.Component{constructor(Ke){super(Ke);this.editorContentRef=A.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:Ke}=this.props;if(Ke&&Ke.options.element){if(Ke.contentComponent)return;const Be=this.editorContentRef.current;Be.append(...Ke.options.element.childNodes),Ke.setOptions({element:Be}),Ke.contentComponent=this,Ke.createNodeViews(),this.initialized=!0}}maybeFlushSync(Ke){this.initialized?(0,Ne.flushSync)(Ke):Ke()}setRenderer(Ke,Be){this.maybeFlushSync(()=>{this.setState(({renderers:gt})=>({renderers:Te(Te({},gt),{[Ke]:Be})}))})}removeRenderer(Ke){this.maybeFlushSync(()=>{this.setState(({renderers:Be})=>{const gt=Te({},Be);return delete gt[Ke],{renderers:gt}})})}componentWillUnmount(){const{editor:Ke}=this.props;if(!Ke||(this.initialized=!1,Ke.isDestroyed||Ke.view.setProps({nodeViews:{}}),Ke.contentComponent=null,!Ke.options.element.firstChild))return;const Be=document.createElement("div");Be.append(...Ke.options.element.childNodes),Ke.setOptions({element:Be})}render(){const gt=this.props,{editor:Ke}=gt,Be=yi(gt,["editor"]);return A.createElement(A.Fragment,null,A.createElement("div",Te({ref:this.editorContentRef},Be)),A.createElement(de,{renderers:this.state.renderers}))}}const qe=Ge=>{const Ke=A.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[Ge.editor]);return A.createElement(le,Te({key:Ke},Ge))},je=A.memo(qe);class me extends Ee.ML{constructor(){super(...arguments);this.contentComponent=null}}function Fe(){const[,Ge]=(0,A.useState)(0);return()=>Ge(Ke=>Ke+1)}const He=(Ge={},Ke=[])=>{const[Be,gt]=(0,A.useState)(null),Ce=Fe(),{onBeforeCreate:U,onBlur:J,onCreate:te,onDestroy:ke,onFocus:ze,onSelectionUpdate:it,onTransaction:Lt,onUpdate:Ft}=Ge,Dt=(0,A.useRef)(U),xt=(0,A.useRef)(J),Cn=(0,A.useRef)(te),zn=(0,A.useRef)(ke),Rn=(0,A.useRef)(ze),Mn=(0,A.useRef)(it),rn=(0,A.useRef)(Lt),vn=(0,A.useRef)(Ft);return(0,A.useEffect)(()=>{!Be||(U&&(Be.off("beforeCreate",Dt.current),Be.on("beforeCreate",U),Dt.current=U),J&&(Be.off("blur",xt.current),Be.on("blur",J),xt.current=J),te&&(Be.off("create",Cn.current),Be.on("create",te),Cn.current=te),ke&&(Be.off("destroy",zn.current),Be.on("destroy",ke),zn.current=ke),ze&&(Be.off("focus",Rn.current),Be.on("focus",ze),Rn.current=ze),it&&(Be.off("selectionUpdate",Mn.current),Be.on("selectionUpdate",it),Mn.current=it),Lt&&(Be.off("transaction",rn.current),Be.on("transaction",Lt),rn.current=Lt),Ft&&(Be.off("update",vn.current),Be.on("update",Ft),vn.current=Ft))},[U,J,te,ke,ze,it,Lt,Ft,Be]),(0,A.useEffect)(()=>{let bn=!0;const mn=new me(Ge);return gt(mn),mn.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{bn&&Ce()})})}),()=>{bn=!1}},Ke),(0,A.useEffect)(()=>()=>{Be==null||Be.destroy()},[Be]),Be},Xe=(0,A.createContext)({editor:null}),at=Xe.Consumer,dt=()=>useContext(Xe),st=Ce=>{var{children:Ge,slotAfter:Ke,slotBefore:Be}=Ce,gt=yi(Ce,["children","slotAfter","slotBefore"]);const U=He(gt);return U?React.createElement(Xe.Provider,{value:{editor:U}},Be,React.createElement(at,null,({editor:J})=>React.createElement(je,{editor:J})),Ge,Ke):null},Ue=Ge=>{const[Ke,Be]=useState(null),{editor:gt}=dt();return useEffect(()=>{var Ce;if(!Ke||((Ce=Ge.editor)===null||Ce===void 0?void 0:Ce.isDestroyed)||(gt==null?void 0:gt.isDestroyed))return;const{pluginKey:U="bubbleMenu",editor:J,tippyOptions:te={},updateDelay:ke,shouldShow:ze=null}=Ge,it=J||gt;if(!it){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const Lt=BubbleMenuPlugin({updateDelay:ke,editor:it,element:Ke,pluginKey:U,shouldShow:ze,tippyOptions:te});return it.registerPlugin(Lt),()=>it.unregisterPlugin(U)},[Ge.editor,gt,Ke]),React.createElement("div",{ref:Be,className:Ge.className,style:{visibility:"hidden"}},Ge.children)},ut=Ge=>{const[Ke,Be]=useState(null),{editor:gt}=dt();return useEffect(()=>{var Ce;if(!Ke||((Ce=Ge.editor)===null||Ce===void 0?void 0:Ce.isDestroyed)||(gt==null?void 0:gt.isDestroyed))return;const{pluginKey:U="floatingMenu",editor:J,tippyOptions:te={},shouldShow:ke=null}=Ge,ze=J||gt;if(!ze){console.warn("FloatingMenu component is not rendered inside of an editor component or does not have editor prop.");return}const it=FloatingMenuPlugin({pluginKey:U,editor:ze,element:Ke,tippyOptions:te,shouldShow:ke});return ze.registerPlugin(it),()=>ze.unregisterPlugin(U)},[Ge.editor,gt,Ke]),React.createElement("div",{ref:Be,className:Ge.className,style:{visibility:"hidden"}},Ge.children)},Pe=(0,A.createContext)({onDragStart:void 0}),Ye=()=>(0,A.useContext)(Pe),We=Ge=>{const Ke=Ge.as||"div",{nodeViewContentRef:Be}=Ye();return A.createElement(Ke,Te(Te({},Ge),{ref:Be,"data-node-view-content":"",style:Te({whiteSpace:"pre-wrap"},Ge.style)}))},Rt=A.forwardRef((Ge,Ke)=>{const{onDragStart:Be}=Ye(),gt=Ge.as||"div";return A.createElement(gt,Te(Te({},Ge),{ref:Ke,"data-node-view-wrapper":"",onDragStart:Be,style:Te({whiteSpace:"normal"},Ge.style)}))});function Bt(Ge){return!!(typeof Ge=="function"&&Ge.prototype&&Ge.prototype.isReactComponent)}function ve(Ge){var Ke;return typeof Ge=="object"&&((Ke=Ge.$$typeof)===null||Ke===void 0?void 0:Ke.toString())==="Symbol(react.forward_ref)"}class Ht{constructor(Ke,{editor:Be,props:gt={},as:Ce="div",className:U="",attrs:J}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=Ke,this.editor=Be,this.props=gt,this.element=document.createElement(Ce),this.element.classList.add("react-renderer"),U&&this.element.classList.add(...U.split(" ")),J&&Object.keys(J).forEach(te=>{this.element.setAttribute(te,J[te])}),this.render()}render(){var Ke,Be;const gt=this.component,Ce=this.props;(Bt(gt)||ve(gt))&&(Ce.ref=U=>{this.ref=U}),this.reactElement=A.createElement(gt,Te({},Ce)),(Be=(Ke=this.editor)===null||Ke===void 0?void 0:Ke.contentComponent)===null||Be===void 0||Be.setRenderer(this.id,this)}updateProps(Ke={}){this.props=Te(Te({},this.props),Ke),this.render()}destroy(){var Ke,Be;(Be=(Ke=this.editor)===null||Ke===void 0?void 0:Ke.contentComponent)===null||Be===void 0||Be.removeRenderer(this.id)}}class St extends Ee.DK{mount(){const Ke={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(U={})=>this.updateAttributes(U),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const U=J=>J.charAt(0).toUpperCase()+J.substring(1);this.component.displayName=U(this.extension.name)}const Be=U=>{const J=this.component,te=this.onDragStart.bind(this),ke=ze=>{ze&&this.contentDOMElement&&ze.firstChild!==this.contentDOMElement&&ze.appendChild(this.contentDOMElement)};return A.createElement(A.Fragment,null,A.createElement(Pe.Provider,{value:{onDragStart:te,nodeViewContentRef:ke}},A.createElement(J,Te({},U))))};Be.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let gt=this.node.isInline?"span":"div";this.options.as&&(gt=this.options.as);const{className:Ce=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new Ht(Be,{editor:this.editor,props:Ke,as:gt,className:`node-${this.node.type.name} ${Ce}`.trim(),attrs:this.options.attrs})}get dom(){var Ke;if(this.renderer.element.firstElementChild&&!((Ke=this.renderer.element.firstElementChild)===null||Ke===void 0?void 0:Ke.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:Ke,to:Be}=this.editor.state.selection;Ke<=this.getPos()&&Be>=this.getPos()+this.node.nodeSize?this.selectNode():this.deselectNode()}update(Ke,Be){const gt=Ce=>{this.renderer.updateProps(Ce)};if(Ke.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const Ce=this.node,U=this.decorations;return this.node=Ke,this.decorations=Be,this.options.update({oldNode:Ce,oldDecorations:U,newNode:Ke,newDecorations:Be,updateProps:()=>gt({node:Ke,decorations:Be})})}return Ke===this.node&&this.decorations===Be||(this.node=Ke,this.decorations=Be,gt({node:Ke,decorations:Be})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function on(Ge,Ke){return Be=>Be.editor.contentComponent?new St(Ge,Be,Ke):{}}},47825:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return tt}});var A=ge(14102);const Ne=/^\s*>\s$/,Ee=A.NB.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:L}){return["blockquote",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setBlockquote:()=>({commands:L})=>L.wrapIn(this.name),toggleBlockquote:()=>({commands:L})=>L.toggleWrap(this.name),unsetBlockquote:()=>({commands:L})=>L.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,A.S0)({find:Ne,type:this.type})]}}),de=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,le=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,qe=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,je=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,me=A.vc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:L=>L.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:L=>/^(bold(er)?|[5-9]\d{2,})$/.test(L)&&null}]},renderHTML({HTMLAttributes:L}){return["strong",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setBold:()=>({commands:L})=>L.setMark(this.name),toggleBold:()=>({commands:L})=>L.toggleMark(this.name),unsetBold:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,A.Cf)({find:de,type:this.type}),(0,A.Cf)({find:qe,type:this.type})]},addPasteRules(){return[(0,A.K9)({find:le,type:this.type}),(0,A.K9)({find:je,type:this.type})]}}),Fe=A.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:L}){return["li",(0,A.P1)(this.options.HTMLAttributes,L),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),He=A.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:L=>L.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:L}){return["span",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:L,commands:F})=>{const q=(0,A.Jo)(L,this.type);return Object.entries(q).some(([,ne])=>!!ne)?!0:F.unsetMark(this.name)}}}}),Xe=/^\s*([-+*])\s$/,at=A.NB.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:L}){return["ul",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{toggleBulletList:()=>({commands:L,chain:F})=>this.options.keepAttributes?F().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Fe.name,this.editor.getAttributes(He.name)).run():L.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let L=(0,A.S0)({find:Xe,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(L=(0,A.S0)({find:Xe,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(He.name),editor:this.editor})),[L]}}),dt=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,st=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,Ue=A.vc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:L}){return["code",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setCode:()=>({commands:L})=>L.setMark(this.name),toggleCode:()=>({commands:L})=>L.toggleMark(this.name),unsetCode:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,A.Cf)({find:dt,type:this.type})]},addPasteRules(){return[(0,A.K9)({find:st,type:this.type})]}});var ut=ge(11156);const Pe=A.NB.create({name:"doc",topNode:!0,content:"block+"});var Ye=ge(66961),We=ge(64520);function Rt(L={}){return new Ye.Sy({view(F){return new Bt(F,L)}})}class Bt{constructor(F,q){var oe;this.editorView=F,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(oe=q.width)!==null&&oe!==void 0?oe:1,this.color=q.color===!1?void 0:q.color||"black",this.class=q.class,this.handlers=["dragover","dragend","drop","dragleave"].map(ne=>{let xe=Le=>{this[ne](Le)};return F.dom.addEventListener(ne,xe),{name:ne,handler:xe}})}destroy(){this.handlers.forEach(({name:F,handler:q})=>this.editorView.dom.removeEventListener(F,q))}update(F,q){this.cursorPos!=null&&q.doc!=F.state.doc&&(this.cursorPos>F.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(F){F!=this.cursorPos&&(this.cursorPos=F,F==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let F=this.editorView.state.doc.resolve(this.cursorPos),q=!F.parent.inlineContent,oe;if(q){let Ze=F.nodeBefore,_t=F.nodeAfter;if(Ze||_t){let $t=this.editorView.nodeDOM(this.cursorPos-(Ze?Ze.nodeSize:0));if($t){let Ut=$t.getBoundingClientRect(),W=Ze?Ut.bottom:Ut.top;Ze&&_t&&(W=(W+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),oe={left:Ut.left,right:Ut.right,top:W-this.width/2,bottom:W+this.width/2}}}}if(!oe){let Ze=this.editorView.coordsAtPos(this.cursorPos);oe={left:Ze.left-this.width/2,right:Ze.left+this.width/2,top:Ze.top,bottom:Ze.bottom}}let ne=this.editorView.dom.offsetParent;this.element||(this.element=ne.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",q),this.element.classList.toggle("prosemirror-dropcursor-inline",!q);let xe,Le;if(!ne||ne==document.body&&getComputedStyle(ne).position=="static")xe=-pageXOffset,Le=-pageYOffset;else{let Ze=ne.getBoundingClientRect();xe=Ze.left-ne.scrollLeft,Le=Ze.top-ne.scrollTop}this.element.style.left=oe.left-xe+"px",this.element.style.top=oe.top-Le+"px",this.element.style.width=oe.right-oe.left+"px",this.element.style.height=oe.bottom-oe.top+"px"}scheduleRemoval(F){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),F)}dragover(F){if(!this.editorView.editable)return;let q=this.editorView.posAtCoords({left:F.clientX,top:F.clientY}),oe=q&&q.inside>=0&&this.editorView.state.doc.nodeAt(q.inside),ne=oe&&oe.type.spec.disableDropCursor,xe=typeof ne=="function"?ne(this.editorView,q,F):ne;if(q&&!xe){let Le=q.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let Ze=(0,We.nj)(this.editorView.state.doc,Le,this.editorView.dragging.slice);Ze!=null&&(Le=Ze)}this.setCursor(Le),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(F){(F.target==this.editorView.dom||!this.editorView.dom.contains(F.relatedTarget))&&this.setCursor(null)}}const ve=A.hj.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Rt(this.options)]}});var Ht=ge(27781),St=ge(60052),on=ge(35371);class Ge extends Ye.Y1{constructor(F){super(F,F)}map(F,q){let oe=F.resolve(q.map(this.head));return Ge.valid(oe)?new Ge(oe):Ye.Y1.near(oe)}content(){return St.p2.empty}eq(F){return F instanceof Ge&&F.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(F,q){if(typeof q.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ge(F.resolve(q.pos))}getBookmark(){return new Ke(this.anchor)}static valid(F){let q=F.parent;if(q.isTextblock||!Be(F)||!gt(F))return!1;let oe=q.type.spec.allowGapCursor;if(oe!=null)return oe;let ne=q.contentMatchAt(F.index()).defaultType;return ne&&ne.isTextblock}static findGapCursorFrom(F,q,oe=!1){e:for(;;){if(!oe&&Ge.valid(F))return F;let ne=F.pos,xe=null;for(let Le=F.depth;;Le--){let Ze=F.node(Le);if(q>0?F.indexAfter(Le)<Ze.childCount:F.index(Le)>0){xe=Ze.child(q>0?F.indexAfter(Le):F.index(Le)-1);break}else if(Le==0)return null;ne+=q;let _t=F.doc.resolve(ne);if(Ge.valid(_t))return _t}for(;;){let Le=q>0?xe.firstChild:xe.lastChild;if(!Le){if(xe.isAtom&&!xe.isText&&!Ye.qv.isSelectable(xe)){F=F.doc.resolve(ne+xe.nodeSize*q),oe=!1;continue e}break}xe=Le,ne+=q;let Ze=F.doc.resolve(ne);if(Ge.valid(Ze))return Ze}return null}}}Ge.prototype.visible=!1,Ge.findFrom=Ge.findGapCursorFrom,Ye.Y1.jsonID("gapcursor",Ge);class Ke{constructor(F){this.pos=F}map(F){return new Ke(F.map(this.pos))}resolve(F){let q=F.resolve(this.pos);return Ge.valid(q)?new Ge(q):Ye.Y1.near(q)}}function Be(L){for(let F=L.depth;F>=0;F--){let q=L.index(F),oe=L.node(F);if(q==0){if(oe.type.spec.isolating)return!0;continue}for(let ne=oe.child(q-1);;ne=ne.lastChild){if(ne.childCount==0&&!ne.inlineContent||ne.isAtom||ne.type.spec.isolating)return!0;if(ne.inlineContent)return!1}}return!0}function gt(L){for(let F=L.depth;F>=0;F--){let q=L.indexAfter(F),oe=L.node(F);if(q==oe.childCount){if(oe.type.spec.isolating)return!0;continue}for(let ne=oe.child(q);;ne=ne.firstChild){if(ne.childCount==0&&!ne.inlineContent||ne.isAtom||ne.type.spec.isolating)return!0;if(ne.inlineContent)return!1}}return!0}function Ce(){return new Ye.Sy({props:{decorations:ze,createSelectionBetween(L,F,q){return F.pos==q.pos&&Ge.valid(q)?new Ge(q):null},handleClick:te,handleKeyDown:U,handleDOMEvents:{beforeinput:ke}}})}const U=(0,Ht.$)({ArrowLeft:J("horiz",-1),ArrowRight:J("horiz",1),ArrowUp:J("vert",-1),ArrowDown:J("vert",1)});function J(L,F){const q=L=="vert"?F>0?"down":"up":F>0?"right":"left";return function(oe,ne,xe){let Le=oe.selection,Ze=F>0?Le.$to:Le.$from,_t=Le.empty;if(Le instanceof Ye.Bs){if(!xe.endOfTextblock(q)||Ze.depth==0)return!1;_t=!1,Ze=oe.doc.resolve(F>0?Ze.after():Ze.before())}let $t=Ge.findGapCursorFrom(Ze,F,_t);return $t?(ne&&ne(oe.tr.setSelection(new Ge($t))),!0):!1}}function te(L,F,q){if(!L||!L.editable)return!1;let oe=L.state.doc.resolve(F);if(!Ge.valid(oe))return!1;let ne=L.posAtCoords({left:q.clientX,top:q.clientY});return ne&&ne.inside>-1&&Ye.qv.isSelectable(L.state.doc.nodeAt(ne.inside))?!1:(L.dispatch(L.state.tr.setSelection(new Ge(oe))),!0)}function ke(L,F){if(F.inputType!="insertCompositionText"||!(L.state.selection instanceof Ge))return!1;let{$from:q}=L.state.selection,oe=q.parent.contentMatchAt(q.index()).findWrapping(L.state.schema.nodes.text);if(!oe)return!1;let ne=St.HY.empty;for(let Le=oe.length-1;Le>=0;Le--)ne=St.HY.from(oe[Le].createAndFill(null,ne));let xe=L.state.tr.replace(q.pos,q.pos,new St.p2(ne,0,0));return xe.setSelection(Ye.Bs.near(xe.doc.resolve(q.pos+1))),L.dispatch(xe),!1}function ze(L){if(!(L.selection instanceof Ge))return null;let F=document.createElement("div");return F.className="ProseMirror-gapcursor",on.EH.create(L.doc,[on.p.widget(L.selection.head,F,{key:"gapcursor"})])}const it=A.hj.create({name:"gapCursor",addProseMirrorPlugins(){return[Ce()]},extendNodeSchema(L){var F;const q={name:L.name,options:L.options,storage:L.storage};return{allowGapCursor:(F=(0,A.nU)((0,A.Nl)(L,"allowGapCursor",q)))!==null&&F!==void 0?F:null}}}),Lt=A.NB.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:L}){return["br",(0,A.P1)(this.options.HTMLAttributes,L)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:L,chain:F,state:q,editor:oe})=>L.first([()=>L.exitCode(),()=>L.command(()=>{const{selection:ne,storedMarks:xe}=q;if(ne.$from.parent.type.spec.isolating)return!1;const{keepMarks:Le}=this.options,{splittableMarks:Ze}=oe.extensionManager,_t=xe||ne.$to.parentOffset&&ne.$from.marks();return F().insertContent({type:this.name}).command(({tr:$t,dispatch:Ut})=>{if(Ut&&_t&&Le){const W=_t.filter(ae=>Ze.includes(ae.type.name));$t.ensureMarks(W)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Ft=A.NB.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(L=>({tag:`h${L}`,attrs:{level:L}}))},renderHTML({node:L,HTMLAttributes:F}){return[`h${this.options.levels.includes(L.attrs.level)?L.attrs.level:this.options.levels[0]}`,(0,A.P1)(this.options.HTMLAttributes,F),0]},addCommands(){return{setHeading:L=>({commands:F})=>this.options.levels.includes(L.level)?F.setNode(this.name,L):!1,toggleHeading:L=>({commands:F})=>this.options.levels.includes(L.level)?F.toggleNode(this.name,"paragraph",L):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((L,F)=>Te(Te({},L),{[`Mod-Alt-${F}`]:()=>this.editor.commands.toggleHeading({level:F})}),{})},addInputRules(){return this.options.levels.map(L=>(0,A.zK)({find:new RegExp(`^(#{1,${L}})\\s$`),type:this.type,getAttributes:{level:L}}))}});var Dt=200,xt=function(){};xt.prototype.append=function(F){return F.length?(F=xt.from(F),!this.length&&F||F.length<Dt&&this.leafAppend(F)||this.length<Dt&&F.leafPrepend(this)||this.appendInner(F)):this},xt.prototype.prepend=function(F){return F.length?xt.from(F).append(this):this},xt.prototype.appendInner=function(F){return new zn(this,F)},xt.prototype.slice=function(F,q){return F===void 0&&(F=0),q===void 0&&(q=this.length),F>=q?xt.empty:this.sliceInner(Math.max(0,F),Math.min(this.length,q))},xt.prototype.get=function(F){if(!(F<0||F>=this.length))return this.getInner(F)},xt.prototype.forEach=function(F,q,oe){q===void 0&&(q=0),oe===void 0&&(oe=this.length),q<=oe?this.forEachInner(F,q,oe,0):this.forEachInvertedInner(F,q,oe,0)},xt.prototype.map=function(F,q,oe){q===void 0&&(q=0),oe===void 0&&(oe=this.length);var ne=[];return this.forEach(function(xe,Le){return ne.push(F(xe,Le))},q,oe),ne},xt.from=function(F){return F instanceof xt?F:F&&F.length?new Cn(F):xt.empty};var Cn=function(L){function F(oe){L.call(this),this.values=oe}L&&(F.__proto__=L),F.prototype=Object.create(L&&L.prototype),F.prototype.constructor=F;var q={length:{configurable:!0},depth:{configurable:!0}};return F.prototype.flatten=function(){return this.values},F.prototype.sliceInner=function(ne,xe){return ne==0&&xe==this.length?this:new F(this.values.slice(ne,xe))},F.prototype.getInner=function(ne){return this.values[ne]},F.prototype.forEachInner=function(ne,xe,Le,Ze){for(var _t=xe;_t<Le;_t++)if(ne(this.values[_t],Ze+_t)===!1)return!1},F.prototype.forEachInvertedInner=function(ne,xe,Le,Ze){for(var _t=xe-1;_t>=Le;_t--)if(ne(this.values[_t],Ze+_t)===!1)return!1},F.prototype.leafAppend=function(ne){if(this.length+ne.length<=Dt)return new F(this.values.concat(ne.flatten()))},F.prototype.leafPrepend=function(ne){if(this.length+ne.length<=Dt)return new F(ne.flatten().concat(this.values))},q.length.get=function(){return this.values.length},q.depth.get=function(){return 0},Object.defineProperties(F.prototype,q),F}(xt);xt.empty=new Cn([]);var zn=function(L){function F(q,oe){L.call(this),this.left=q,this.right=oe,this.length=q.length+oe.length,this.depth=Math.max(q.depth,oe.depth)+1}return L&&(F.__proto__=L),F.prototype=Object.create(L&&L.prototype),F.prototype.constructor=F,F.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},F.prototype.getInner=function(oe){return oe<this.left.length?this.left.get(oe):this.right.get(oe-this.left.length)},F.prototype.forEachInner=function(oe,ne,xe,Le){var Ze=this.left.length;if(ne<Ze&&this.left.forEachInner(oe,ne,Math.min(xe,Ze),Le)===!1||xe>Ze&&this.right.forEachInner(oe,Math.max(ne-Ze,0),Math.min(this.length,xe)-Ze,Le+Ze)===!1)return!1},F.prototype.forEachInvertedInner=function(oe,ne,xe,Le){var Ze=this.left.length;if(ne>Ze&&this.right.forEachInvertedInner(oe,ne-Ze,Math.max(xe,Ze)-Ze,Le+Ze)===!1||xe<Ze&&this.left.forEachInvertedInner(oe,Math.min(ne,Ze),xe,Le)===!1)return!1},F.prototype.sliceInner=function(oe,ne){if(oe==0&&ne==this.length)return this;var xe=this.left.length;return ne<=xe?this.left.slice(oe,ne):oe>=xe?this.right.slice(oe-xe,ne-xe):this.left.slice(oe,xe).append(this.right.slice(0,ne-xe))},F.prototype.leafAppend=function(oe){var ne=this.right.leafAppend(oe);if(ne)return new F(this.left,ne)},F.prototype.leafPrepend=function(oe){var ne=this.left.leafPrepend(oe);if(ne)return new F(ne,this.right)},F.prototype.appendInner=function(oe){return this.left.depth>=Math.max(this.right.depth,oe.depth)+1?new F(this.left,new F(this.right,oe)):new F(this,oe)},F}(xt),Rn=xt;const Mn=500;class rn{constructor(F,q){this.items=F,this.eventCount=q}popEvent(F,q){if(this.eventCount==0)return null;let oe=this.items.length;for(;;oe--)if(this.items.get(oe-1).selection){--oe;break}let ne,xe;q&&(ne=this.remapping(oe,this.items.length),xe=ne.maps.length);let Le=F.tr,Ze,_t,$t=[],Ut=[];return this.items.forEach((W,ae)=>{if(!W.step){ne||(ne=this.remapping(oe,ae+1),xe=ne.maps.length),xe--,Ut.push(W);return}if(ne){Ut.push(new bn(W.map));let Me=W.step.map(ne.slice(xe)),lt;Me&&Le.maybeStep(Me).doc&&(lt=Le.mapping.maps[Le.mapping.maps.length-1],$t.push(new bn(lt,void 0,void 0,$t.length+Ut.length))),xe--,lt&&ne.appendMap(lt,xe)}else Le.maybeStep(W.step);if(W.selection)return Ze=ne?W.selection.map(ne.slice(xe)):W.selection,_t=new rn(this.items.slice(0,oe).append(Ut.reverse().concat($t)),this.eventCount-1),!1},this.items.length,0),{remaining:_t,transform:Le,selection:Ze}}addTransform(F,q,oe,ne){let xe=[],Le=this.eventCount,Ze=this.items,_t=!ne&&Ze.length?Ze.get(Ze.length-1):null;for(let Ut=0;Ut<F.steps.length;Ut++){let W=F.steps[Ut].invert(F.docs[Ut]),ae=new bn(F.mapping.maps[Ut],W,q),Me;(Me=_t&&_t.merge(ae))&&(ae=Me,Ut?xe.pop():Ze=Ze.slice(0,Ze.length-1)),xe.push(ae),q&&(Le++,q=void 0),ne||(_t=ae)}let $t=Le-oe.depth;return $t>qn&&(Ze=vn(Ze,$t),Le-=$t),new rn(Ze.append(xe),Le)}remapping(F,q){let oe=new We.vs;return this.items.forEach((ne,xe)=>{let Le=ne.mirrorOffset!=null&&xe-ne.mirrorOffset>=F?oe.maps.length-ne.mirrorOffset:void 0;oe.appendMap(ne.map,Le)},F,q),oe}addMaps(F){return this.eventCount==0?this:new rn(this.items.append(F.map(q=>new bn(q))),this.eventCount)}rebased(F,q){if(!this.eventCount)return this;let oe=[],ne=Math.max(0,this.items.length-q),xe=F.mapping,Le=F.steps.length,Ze=this.eventCount;this.items.forEach(ae=>{ae.selection&&Ze--},ne);let _t=q;this.items.forEach(ae=>{let Me=xe.getMirror(--_t);if(Me==null)return;Le=Math.min(Le,Me);let lt=xe.maps[Me];if(ae.step){let Et=F.steps[Me].invert(F.docs[Me]),Tt=ae.selection&&ae.selection.map(xe.slice(_t+1,Me));Tt&&Ze++,oe.push(new bn(lt,Et,Tt))}else oe.push(new bn(lt))},ne);let $t=[];for(let ae=q;ae<Le;ae++)$t.push(new bn(xe.maps[ae]));let Ut=this.items.slice(0,ne).append($t).append(oe),W=new rn(Ut,Ze);return W.emptyItemCount()>Mn&&(W=W.compress(this.items.length-oe.length)),W}emptyItemCount(){let F=0;return this.items.forEach(q=>{q.step||F++}),F}compress(F=this.items.length){let q=this.remapping(0,F),oe=q.maps.length,ne=[],xe=0;return this.items.forEach((Le,Ze)=>{if(Ze>=F)ne.push(Le),Le.selection&&xe++;else if(Le.step){let _t=Le.step.map(q.slice(oe)),$t=_t&&_t.getMap();if(oe--,$t&&q.appendMap($t,oe),_t){let Ut=Le.selection&&Le.selection.map(q.slice(oe));Ut&&xe++;let W=new bn($t.invert(),_t,Ut),ae,Me=ne.length-1;(ae=ne.length&&ne[Me].merge(W))?ne[Me]=ae:ne.push(W)}}else Le.map&&oe--},this.items.length,0),new rn(Rn.from(ne.reverse()),xe)}}rn.empty=new rn(Rn.empty,0);function vn(L,F){let q;return L.forEach((oe,ne)=>{if(oe.selection&&F--==0)return q=ne,!1}),L.slice(q)}class bn{constructor(F,q,oe,ne){this.map=F,this.step=q,this.selection=oe,this.mirrorOffset=ne}merge(F){if(this.step&&F.step&&!F.selection){let q=F.step.merge(this.step);if(q)return new bn(q.getMap().invert(),q,this.selection)}}}class mn{constructor(F,q,oe,ne,xe){this.done=F,this.undone=q,this.prevRanges=oe,this.prevTime=ne,this.prevComposition=xe}}const qn=20;function In(L,F,q,oe){let ne=q.getMeta(_n),xe;if(ne)return ne.historyState;q.getMeta(Jn)&&(L=new mn(L.done,L.undone,null,0,-1));let Le=q.getMeta("appendedTransaction");if(q.steps.length==0)return L;if(Le&&Le.getMeta(_n))return Le.getMeta(_n).redo?new mn(L.done.addTransform(q,void 0,oe,Xn(F)),L.undone,cn(q.mapping.maps[q.steps.length-1]),L.prevTime,L.prevComposition):new mn(L.done,L.undone.addTransform(q,void 0,oe,Xn(F)),null,L.prevTime,L.prevComposition);if(q.getMeta("addToHistory")!==!1&&!(Le&&Le.getMeta("addToHistory")===!1)){let Ze=q.getMeta("composition"),_t=L.prevTime==0||!Le&&L.prevComposition!=Ze&&(L.prevTime<(q.time||0)-oe.newGroupDelay||!wn(q,L.prevRanges)),$t=Le?Pn(L.prevRanges,q.mapping):cn(q.mapping.maps[q.steps.length-1]);return new mn(L.done.addTransform(q,_t?F.selection.getBookmark():void 0,oe,Xn(F)),rn.empty,$t,q.time,Ze==null?L.prevComposition:Ze)}else return(xe=q.getMeta("rebased"))?new mn(L.done.rebased(q,xe),L.undone.rebased(q,xe),Pn(L.prevRanges,q.mapping),L.prevTime,L.prevComposition):new mn(L.done.addMaps(q.mapping.maps),L.undone.addMaps(q.mapping.maps),Pn(L.prevRanges,q.mapping),L.prevTime,L.prevComposition)}function wn(L,F){if(!F)return!1;if(!L.docChanged)return!0;let q=!1;return L.mapping.maps[0].forEach((oe,ne)=>{for(let xe=0;xe<F.length;xe+=2)oe<=F[xe+1]&&ne>=F[xe]&&(q=!0)}),q}function cn(L){let F=[];return L.forEach((q,oe,ne,xe)=>F.push(ne,xe)),F}function Pn(L,F){if(!L)return null;let q=[];for(let oe=0;oe<L.length;oe+=2){let ne=F.map(L[oe],1),xe=F.map(L[oe+1],-1);ne<=xe&&q.push(ne,xe)}return q}function Sn(L,F,q,oe){let ne=Xn(F),xe=_n.get(F).spec.config,Le=(oe?L.undone:L.done).popEvent(F,ne);if(!Le)return;let Ze=Le.selection.resolve(Le.transform.doc),_t=(oe?L.done:L.undone).addTransform(Le.transform,F.selection.getBookmark(),xe,ne),$t=new mn(oe?_t:Le.remaining,oe?Le.remaining:_t,null,0,-1);q(Le.transform.setSelection(Ze).setMeta(_n,{redo:oe,historyState:$t}).scrollIntoView())}let Bn=!1,Tn=null;function Xn(L){let F=L.plugins;if(Tn!=F){Bn=!1,Tn=F;for(let q=0;q<F.length;q++)if(F[q].spec.historyPreserveItems){Bn=!0;break}}return Bn}function tr(L){return L.setMeta(Jn,!0)}const _n=new Ye.H$("history"),Jn=new Ye.H$("closeHistory");function Yn(L={}){return L={depth:L.depth||100,newGroupDelay:L.newGroupDelay||500},new Ye.Sy({key:_n,state:{init(){return new mn(rn.empty,rn.empty,null,0,-1)},apply(F,q,oe){return In(q,oe,F,L)}},config:L,props:{handleDOMEvents:{beforeinput(F,q){let oe=q.inputType,ne=oe=="historyUndo"?Dn:oe=="historyRedo"?Nn:null;return ne?(q.preventDefault(),ne(F.state,F.dispatch)):!1}}}})}const Dn=(L,F)=>{let q=_n.getState(L);return!q||q.done.eventCount==0?!1:(F&&Sn(q,L,F,!1),!0)},Nn=(L,F)=>{let q=_n.getState(L);return!q||q.undone.eventCount==0?!1:(F&&Sn(q,L,F,!0),!0)};function Hn(L){let F=_n.getState(L);return F?F.done.eventCount:0}function ue(L){let F=_n.getState(L);return F?F.undone.eventCount:0}const v=A.hj.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:L,dispatch:F})=>Dn(L,F),redo:()=>({state:L,dispatch:F})=>Nn(L,F)}},addProseMirrorPlugins(){return[Yn(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-Z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-Y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Shift-Mod-Z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),_=A.NB.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:L}){return["hr",(0,A.P1)(this.options.HTMLAttributes,L)]},addCommands(){return{setHorizontalRule:()=>({chain:L,state:F})=>{const{$to:q}=F.selection,oe=L();return q.parentOffset===0?oe.insertContentAt(Math.max(q.pos-2,0),{type:this.name}):oe.insertContent({type:this.name}),oe.command(({tr:ne,dispatch:xe})=>{var Le;if(xe){const{$to:Ze}=ne.selection,_t=Ze.end();if(Ze.nodeAfter)Ze.nodeAfter.isTextblock?ne.setSelection(Ye.Bs.create(ne.doc,Ze.pos+1)):Ze.nodeAfter.isBlock?ne.setSelection(Ye.qv.create(ne.doc,Ze.pos)):ne.setSelection(Ye.Bs.create(ne.doc,Ze.pos));else{const $t=(Le=Ze.parent.type.contentMatch.defaultType)===null||Le===void 0?void 0:Le.create();$t&&(ne.insert(_t,$t),ne.setSelection(Ye.Bs.create(ne.doc,_t+1)))}ne.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,A.x2)({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),T=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Y=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,ie=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,Q=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,we=A.vc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:L=>L.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:L}){return["em",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setItalic:()=>({commands:L})=>L.setMark(this.name),toggleItalic:()=>({commands:L})=>L.toggleMark(this.name),unsetItalic:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,A.Cf)({find:T,type:this.type}),(0,A.Cf)({find:ie,type:this.type})]},addPasteRules(){return[(0,A.K9)({find:Y,type:this.type}),(0,A.K9)({find:Q,type:this.type})]}}),De=A.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:L}){return["li",(0,A.P1)(this.options.HTMLAttributes,L),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),I=A.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:L}){return["li",(0,A.P1)(this.options.HTMLAttributes,L),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),o=A.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:L=>L.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:L}){return["span",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:L,commands:F})=>{const q=(0,A.Jo)(L,this.type);return Object.entries(q).some(([,ne])=>!!ne)?!0:F.unsetMark(this.name)}}}}),c=/^(\d+)\.\s$/,y=A.NB.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:L=>L.hasAttribute("start")?parseInt(L.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:L}){const{start:F}=L,q=yi(L,["start"]);return F===1?["ol",(0,A.P1)(this.options.HTMLAttributes,q),0]:["ol",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{toggleOrderedList:()=>({commands:L,chain:F})=>this.options.keepAttributes?F().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(I.name,this.editor.getAttributes(o.name)).run():L.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let L=(0,A.S0)({find:c,type:this.type,getAttributes:F=>({start:+F[1]}),joinPredicate:(F,q)=>q.childCount+q.attrs.start===+F[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(L=(0,A.S0)({find:c,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:F=>Te({start:+F[1]},this.editor.getAttributes(o.name)),joinPredicate:(F,q)=>q.childCount+q.attrs.start===+F[1],editor:this.editor})),[L]}}),S=A.NB.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:L}){return["p",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setParagraph:()=>({commands:L})=>L.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),O=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,z=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,j=A.vc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:L=>L.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:L}){return["s",(0,A.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setStrike:()=>({commands:L})=>L.setMark(this.name),toggleStrike:()=>({commands:L})=>L.toggleMark(this.name),unsetStrike:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){const L={};return(0,A.eE)()?L["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():L["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),L},addInputRules(){return[(0,A.Cf)({find:O,type:this.type})]},addPasteRules(){return[(0,A.K9)({find:z,type:this.type})]}}),ce=A.NB.create({name:"text",group:"inline"}),tt=A.hj.create({name:"starterKit",addExtensions(){var L,F,q,oe,ne,xe,Le,Ze,_t,$t,Ut,W,ae,Me,lt,Et,Tt,nt;const _e=[];return this.options.blockquote!==!1&&_e.push(Ee.configure((L=this.options)===null||L===void 0?void 0:L.blockquote)),this.options.bold!==!1&&_e.push(me.configure((F=this.options)===null||F===void 0?void 0:F.bold)),this.options.bulletList!==!1&&_e.push(at.configure((q=this.options)===null||q===void 0?void 0:q.bulletList)),this.options.code!==!1&&_e.push(Ue.configure((oe=this.options)===null||oe===void 0?void 0:oe.code)),this.options.codeBlock!==!1&&_e.push(ut.dn.configure((ne=this.options)===null||ne===void 0?void 0:ne.codeBlock)),this.options.document!==!1&&_e.push(Pe.configure((xe=this.options)===null||xe===void 0?void 0:xe.document)),this.options.dropcursor!==!1&&_e.push(ve.configure((Le=this.options)===null||Le===void 0?void 0:Le.dropcursor)),this.options.gapcursor!==!1&&_e.push(it.configure((Ze=this.options)===null||Ze===void 0?void 0:Ze.gapcursor)),this.options.hardBreak!==!1&&_e.push(Lt.configure((_t=this.options)===null||_t===void 0?void 0:_t.hardBreak)),this.options.heading!==!1&&_e.push(Ft.configure(($t=this.options)===null||$t===void 0?void 0:$t.heading)),this.options.history!==!1&&_e.push(v.configure((Ut=this.options)===null||Ut===void 0?void 0:Ut.history)),this.options.horizontalRule!==!1&&_e.push(_.configure((W=this.options)===null||W===void 0?void 0:W.horizontalRule)),this.options.italic!==!1&&_e.push(we.configure((ae=this.options)===null||ae===void 0?void 0:ae.italic)),this.options.listItem!==!1&&_e.push(De.configure((Me=this.options)===null||Me===void 0?void 0:Me.listItem)),this.options.orderedList!==!1&&_e.push(y.configure((lt=this.options)===null||lt===void 0?void 0:lt.orderedList)),this.options.paragraph!==!1&&_e.push(S.configure((Et=this.options)===null||Et===void 0?void 0:Et.paragraph)),this.options.strike!==!1&&_e.push(j.configure((Tt=this.options)===null||Tt===void 0?void 0:Tt.strike)),this.options.text!==!1&&_e.push(ce.configure((nt=this.options)===null||nt===void 0?void 0:nt.text)),_e}})},82728:function(){},34075:function(){},89689:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return de}});var A=ge(22374),Ne=ge(23101),Ee="click";function de(le,qe,je){je===void 0&&(je=Ee);var me=(0,A.useRef)(le);me.current=le,(0,A.useEffect)(function(){var Fe=function(Xe){var at=Array.isArray(qe)?qe:[qe];at.some(function(dt){var st=(0,Ne.n)(dt);return!st||(st==null?void 0:st.contains(Xe.target))})||me.current(Xe)};return document.addEventListener(je,Fe),function(){document.removeEventListener(je,Fe)}},[qe,je])}},83375:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return De}});var A=ge(29700),Ne=ge(42098),Ee=ge(73476),de=ge(45972),le=ge(77335),qe=ge(85628),je=ge(10929),me=ge(22374),Fe=ge(68591),He=ge.n(Fe),Xe=ge(65318),at=ge(41140),dt=ge(6050),st=ge(97182),Ue=ge(39448),ut=ge(17700),Pe=["visible","onVisibleChange","getContainer","current","countRender"],Ye=me.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),We=Ye.Provider,Rt=function(o){var c=o.previewPrefixCls,y=c===void 0?"rc-image-preview":c,S=o.children,O=o.icons,z=O===void 0?{}:O,j=o.preview,ce=(0,Ne.Z)(j)==="object"?j:{},tt=ce.visible,L=tt===void 0?void 0:tt,F=ce.onVisibleChange,q=F===void 0?void 0:F,oe=ce.getContainer,ne=oe===void 0?void 0:oe,xe=ce.current,Le=xe===void 0?0:xe,Ze=ce.countRender,_t=Ze===void 0?void 0:Ze,$t=(0,je.Z)(ce,Pe),Ut=(0,me.useState)(new Map),W=(0,qe.Z)(Ut,2),ae=W[0],Me=W[1],lt=(0,me.useState)(),Et=(0,qe.Z)(lt,2),Tt=Et[0],nt=Et[1],_e=(0,at.Z)(!!L,{value:L,onChange:q}),kt=(0,qe.Z)(_e,2),Zt=kt[0],qt=kt[1],On=(0,me.useState)(null),Wt=(0,qe.Z)(On,2),an=Wt[0],Un=Wt[1],Gn=L!==void 0,xn=Array.from(ae.keys()),$n=xn[Le],or=new Map(Array.from(ae).filter(function(d){var b=(0,qe.Z)(d,2),h=b[1].canPreview;return!!h}).map(function(d){var b=(0,qe.Z)(d,2),h=b[0],w=b[1].url;return[h,w]})),ir=function(b,h){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,M=function(){Me(function(f){var E=new Map(f),x=E.delete(b);return x?E:f})};return Me(function(R){return new Map(R).set(b,{url:h,canPreview:w})}),M},m=function(b){b.stopPropagation(),qt(!1),Un(null)};return me.useEffect(function(){nt($n)},[$n]),me.useEffect(function(){!Zt&&Gn&&nt($n)},[$n,Gn,Zt]),me.createElement(We,{value:{isPreviewGroup:!0,previewUrls:or,setPreviewUrls:Me,current:Tt,setCurrent:nt,setShowPreview:qt,setMousePosition:Un,registerImage:ir}},S,me.createElement(Lt,(0,A.Z)({"aria-hidden":!Zt,visible:Zt,prefixCls:y,onClose:m,mousePosition:an,src:or.get(Tt),icons:z,getContainer:ne,countRender:_t},$t)))},Bt=Rt,ve=ge(51572),Ht=ge(28925),St=1,on=50,Ge=1,Ke=.2,Be=function(o){var c,y=o.visible,S=o.maskTransitionName,O=o.getContainer,z=o.prefixCls,j=o.rootClassName,ce=o.icons,tt=o.countRender,L=o.showSwitch,F=o.showProgress,q=o.current,oe=o.count,ne=o.scale,xe=o.onSwitchLeft,Le=o.onSwitchRight,Ze=o.onClose,_t=o.onZoomIn,$t=o.onZoomOut,Ut=o.onRotateRight,W=o.onRotateLeft,ae=ce.rotateLeft,Me=ce.rotateRight,lt=ce.zoomIn,Et=ce.zoomOut,Tt=ce.close,nt=ce.left,_e=ce.right,kt="".concat(z,"-operations-operation"),Zt="".concat(z,"-operations-icon"),qt=[{icon:Tt,onClick:Ze,type:"close"},{icon:lt,onClick:_t,type:"zoomIn",disabled:ne===on},{icon:Et,onClick:$t,type:"zoomOut",disabled:ne===St},{icon:Me,onClick:Ut,type:"rotateRight"},{icon:ae,onClick:W,type:"rotateLeft"}],On=me.createElement(me.Fragment,null,L&&me.createElement(me.Fragment,null,me.createElement("div",{className:He()("".concat(z,"-switch-left"),(0,le.Z)({},"".concat(z,"-switch-left-disabled"),q===0)),onClick:xe},nt),me.createElement("div",{className:He()("".concat(z,"-switch-right"),(0,le.Z)({},"".concat(z,"-switch-right-disabled"),q===oe-1)),onClick:Le},_e)),me.createElement("ul",{className:"".concat(z,"-operations")},F&&me.createElement("li",{className:"".concat(z,"-operations-progress")},(c=tt==null?void 0:tt(q+1,oe))!==null&&c!==void 0?c:"".concat(q+1," / ").concat(oe)),qt.map(function(Wt){var an,Un=Wt.icon,Gn=Wt.onClick,xn=Wt.type,$n=Wt.disabled;return me.createElement("li",{className:He()(kt,(an={},(0,le.Z)(an,"".concat(z,"-operations-operation-").concat(xn),!0),(0,le.Z)(an,"".concat(z,"-operations-operation-disabled"),!!$n),an)),onClick:Gn,key:xn},me.isValidElement(Un)?me.cloneElement(Un,{className:Zt}):Un)})));return me.createElement(ve.Z,{visible:y,motionName:S},function(Wt){var an=Wt.className,Un=Wt.style;return me.createElement(Ht.Z,{open:!0,getContainer:O!=null?O:document.body},me.createElement("div",{className:He()("".concat(z,"-operations-wrapper"),an,j),style:Un},On))})},gt=Be,Ce=ge(96164),U={x:0,y:0,rotate:0,scale:1};function J(I){var o=(0,me.useRef)(null),c=(0,me.useRef)([]),y=(0,me.useState)(U),S=(0,qe.Z)(y,2),O=S[0],z=S[1],j=function(){z(U)},ce=function(F){o.current===null&&(c.current=[],o.current=(0,Ce.Z)(function(){z(function(q){var oe=q;return c.current.forEach(function(ne){oe=(0,de.Z)((0,de.Z)({},oe),ne)}),o.current=null,oe})})),c.current.push((0,de.Z)((0,de.Z)({},O),F))},tt=function(F,q,oe){var ne=I.current,xe=ne.width,Le=ne.height,Ze=ne.offsetWidth,_t=ne.offsetHeight,$t=ne.offsetLeft,Ut=ne.offsetTop,W=F,ae=O.scale*F;ae>on?(W=on/O.scale,ae=on):ae<St&&(W=St/O.scale,ae=St);var Me=q!=null?q:innerWidth/2,lt=oe!=null?oe:innerHeight/2,Et=W-1,Tt=Et*xe*.5,nt=Et*Le*.5,_e=Et*(Me-O.x-$t),kt=Et*(lt-O.y-Ut),Zt=O.x-(_e-Tt),qt=O.y-(kt-nt);if(F<1&&ae===1){var On=Ze*ae,Wt=_t*ae,an=(0,Xe.g1)(),Un=an.width,Gn=an.height;On<=Un&&Wt<=Gn&&(Zt=0,qt=0)}ce({x:Zt,y:qt,scale:ae})};return{transform:O,resetTransform:j,updateTransform:ce,dispatchZoonChange:tt}}function te(I,o,c,y){var S=o+c,O=(c-y)/2;if(c>y){if(o>0)return(0,le.Z)({},I,O);if(o<0&&S<y)return(0,le.Z)({},I,-O)}else if(o<0||S>y)return(0,le.Z)({},I,o<0?O:-O);return{}}function ke(I,o,c,y){var S=(0,Xe.g1)(),O=S.width,z=S.height,j=null;return I<=O&&o<=z?j={x:0,y:0}:(I>O||o>z)&&(j=(0,de.Z)((0,de.Z)({},te("x",c,I,O)),te("y",y,o,z))),j}var ze=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],it=function(o){var c=o.prefixCls,y=o.src,S=o.alt,O=o.onClose,z=o.afterClose,j=o.visible,ce=o.icons,tt=ce===void 0?{}:ce,L=o.rootClassName,F=o.getContainer,q=o.countRender,oe=o.scaleStep,ne=oe===void 0?.5:oe,xe=o.transitionName,Le=xe===void 0?"zoom":xe,Ze=o.maskTransitionName,_t=Ze===void 0?"fade":Ze,$t=(0,je.Z)(o,ze),Ut=(0,me.useRef)(),W=(0,me.useRef)({deltaX:0,deltaY:0,transformX:0,transformY:0}),ae=(0,me.useState)(!1),Me=(0,qe.Z)(ae,2),lt=Me[0],Et=Me[1],Tt=(0,me.useContext)(Ye),nt=Tt.previewUrls,_e=Tt.current,kt=Tt.isPreviewGroup,Zt=Tt.setCurrent,qt=nt.size,On=Array.from(nt.keys()),Wt=On.indexOf(_e),an=kt?nt.get(_e):y,Un=kt&&qt>1,Gn=kt&&qt>=1,xn=J(Ut),$n=xn.transform,or=xn.resetTransform,ir=xn.updateTransform,m=xn.dispatchZoonChange,d=$n.rotate,b=$n.scale,h=He()((0,le.Z)({},"".concat(c,"-moving"),lt)),w=function(){or()},M=function(){m(Ge+ne)},R=function(){m(Ge-ne)},f=function(){ir({rotate:d+90})},E=function(){ir({rotate:d-90})},x=function(Re){Re.preventDefault(),Re.stopPropagation(),Wt>0&&Zt(On[Wt-1])},P=function(Re){Re.preventDefault(),Re.stopPropagation(),Wt<qt-1&&Zt(On[Wt+1])},V=function(){if(j&&lt){Et(!1);var Re=W.current,$e=Re.transformX,et=Re.transformY,ht=$n.x!==$e&&$n.y!==et;if(!ht)return;var wt=Ut.current.offsetWidth*b,rt=Ut.current.offsetHeight*b,It=Ut.current.getBoundingClientRect(),un=It.left,sn=It.top,Gt=d%180!=0,Qt=ke(Gt?rt:wt,Gt?wt:rt,un,sn);Qt&&ir((0,de.Z)({},Qt))}},K=function(Re){Re.button===0&&(Re.preventDefault(),Re.stopPropagation(),W.current={deltaX:Re.pageX-$n.x,deltaY:Re.pageY-$n.y,transformX:$n.x,transformY:$n.y},Et(!0))},Z=function(Re){j&&lt&&ir({x:Re.pageX-W.current.deltaX,y:Re.pageY-W.current.deltaY})},X=function(Re){if(!(!j||Re.deltaY==0)){var $e=Math.abs(Re.deltaY/100),et=Math.min($e,Ke),ht=Ge+et*ne;Re.deltaY>0&&(ht=Ge/ht),m(ht,Re.clientX,Re.clientY)}},he=(0,me.useCallback)(function(Se){!j||!Un||(Se.keyCode===Ue.Z.LEFT?Wt>0&&Zt(On[Wt-1]):Se.keyCode===Ue.Z.RIGHT&&Wt<qt-1&&Zt(On[Wt+1]))},[Wt,qt,On,Zt,Un,j]),pe=function(Re){j&&(b!==1?ir({x:0,y:0,scale:1}):m(Ge+ne,Re.clientX,Re.clientY))};return(0,me.useEffect)(function(){var Se,Re,$e=(0,st.Z)(window,"mouseup",V,!1),et=(0,st.Z)(window,"mousemove",Z,!1),ht=(0,st.Z)(window,"keydown",he,!1);try{window.top!==window.self&&(Se=(0,st.Z)(window.top,"mouseup",V,!1),Re=(0,st.Z)(window.top,"mousemove",Z,!1))}catch(wt){(0,ut.Kp)(!1,"[rc-image] ".concat(wt))}return function(){var wt,rt;$e.remove(),et.remove(),ht.remove(),(wt=Se)===null||wt===void 0||wt.remove(),(rt=Re)===null||rt===void 0||rt.remove()}},[j,lt,he]),me.createElement(me.Fragment,null,me.createElement(dt.Z,(0,A.Z)({transitionName:Le,maskTransitionName:_t,closable:!1,keyboard:!0,prefixCls:c,onClose:O,afterClose:w,visible:j,wrapClassName:h,rootClassName:L,getContainer:F},$t),me.createElement("div",{className:"".concat(c,"-img-wrapper")},me.createElement("img",{width:o.width,height:o.height,onWheel:X,onMouseDown:K,onDoubleClick:pe,ref:Ut,className:"".concat(c,"-img"),src:an,alt:S,style:{transform:"translate3d(".concat($n.x,"px, ").concat($n.y,"px, 0) scale3d(").concat(b,", ").concat(b,", 1) rotate(").concat(d,"deg)")}}))),me.createElement(gt,{visible:j,maskTransitionName:_t,getContainer:F,prefixCls:c,rootClassName:L,icons:tt,countRender:q,showSwitch:Un,showProgress:Gn,current:Wt,count:qt,scale:b,onSwitchLeft:x,onSwitchRight:P,onZoomIn:M,onZoomOut:R,onRotateRight:f,onRotateLeft:E,onClose:O}))},Lt=it,Ft=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],Dt=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],xt=0,Cn=function(o){var c,y=o.src,S=o.alt,O=o.onPreviewClose,z=o.prefixCls,j=z===void 0?"rc-image":z,ce=o.previewPrefixCls,tt=ce===void 0?"".concat(j,"-preview"):ce,L=o.placeholder,F=o.fallback,q=o.width,oe=o.height,ne=o.style,xe=o.preview,Le=xe===void 0?!0:xe,Ze=o.className,_t=o.onClick,$t=o.onError,Ut=o.wrapperClassName,W=o.wrapperStyle,ae=o.rootClassName,Me=o.crossOrigin,lt=o.decoding,Et=o.loading,Tt=o.referrerPolicy,nt=o.sizes,_e=o.srcSet,kt=o.useMap,Zt=o.draggable,qt=(0,je.Z)(o,Ft),On=L&&L!==!0,Wt=(0,Ne.Z)(Le)==="object"?Le:{},an=Wt.src,Un=Wt.visible,Gn=Un===void 0?void 0:Un,xn=Wt.onVisibleChange,$n=xn===void 0?O:xn,or=Wt.getContainer,ir=or===void 0?void 0:or,m=Wt.mask,d=Wt.maskClassName,b=Wt.icons,h=Wt.scaleStep,w=(0,je.Z)(Wt,Dt),M=an!=null?an:y,R=Gn!==void 0,f=(0,at.Z)(!!Gn,{value:Gn,onChange:$n}),E=(0,qe.Z)(f,2),x=E[0],P=E[1],V=(0,me.useState)(On?"loading":"normal"),K=(0,qe.Z)(V,2),Z=K[0],X=K[1],he=(0,me.useState)(null),pe=(0,qe.Z)(he,2),Se=pe[0],Re=pe[1],$e=Z==="error",et=me.useContext(Ye),ht=et.isPreviewGroup,wt=et.setCurrent,rt=et.setShowPreview,It=et.setMousePosition,un=et.registerImage,sn=me.useState(function(){return xt+=1,xt}),Gt=(0,qe.Z)(sn,1),Qt=Gt[0],ln=!!Le,nn=me.useRef(!1),Ln=function(){X("normal")},Wn=function(jt){$t&&$t(jt),X("error")},bt=function(jt){if(!R){var ot=(0,Xe.os)(jt.target),Ct=ot.left,Vt=ot.top;ht?(wt(Qt),It({x:Ct,y:Vt})):Re({x:Ct,y:Vt})}ht?rt(!0):P(!0),_t&&_t(jt)},yn=function(jt){jt.stopPropagation(),P(!1),R||Re(null)},gn=function(jt){nn.current=!1,Z==="loading"&&jt!=null&&jt.complete&&(jt.naturalWidth||jt.naturalHeight)&&(nn.current=!0,Ln())};me.useEffect(function(){var nr=un(Qt,M);return nr},[]),me.useEffect(function(){un(Qt,M,ln)},[M,ln]),me.useEffect(function(){$e&&X("normal"),On&&!nn.current&&X("loading")},[y]);var zt=He()(j,Ut,ae,(0,le.Z)({},"".concat(j,"-error"),$e)),jn=$e&&F?F:M,Fn={crossOrigin:Me,decoding:lt,draggable:Zt,loading:Et,referrerPolicy:Tt,sizes:nt,srcSet:_e,useMap:kt,alt:S,className:He()("".concat(j,"-img"),(0,le.Z)({},"".concat(j,"-img-placeholder"),L===!0),Ze),style:(0,de.Z)({height:oe},ne)};return me.createElement(me.Fragment,null,me.createElement("div",(0,A.Z)({},qt,{className:zt,onClick:ln?bt:_t,style:(0,de.Z)({width:q,height:oe},W)}),me.createElement("img",(0,A.Z)({},Fn,{ref:gn},$e&&F?{src:F}:{onLoad:Ln,onError:Wn,src:y},{width:q,height:oe})),Z==="loading"&&me.createElement("div",{"aria-hidden":"true",className:"".concat(j,"-placeholder")},L),m&&ln&&me.createElement("div",{className:He()("".concat(j,"-mask"),d),style:{display:((c=Fn.style)===null||c===void 0?void 0:c.display)==="none"?"none":void 0}},m)),!ht&&ln&&me.createElement(Lt,(0,A.Z)({"aria-hidden":!x,visible:x,prefixCls:tt,onClose:yn,mousePosition:Se,src:jn,alt:S,getContainer:ir,icons:b,scaleStep:h,rootClassName:ae},w)))};Cn.PreviewGroup=Bt,Cn.displayName="Image";var zn=Cn,Rn=zn,Mn=ge(53532),rn=ge(49563),vn=ge(24827),bn=ge(53770),mn=ge(44785),qn=ge(89948),In={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},wn=In,cn=ge(25078),Pn=function(o,c){return me.createElement(cn.Z,(0,de.Z)((0,de.Z)({},o),{},{ref:c,icon:wn}))};Pn.displayName="RotateLeftOutlined";var Sn=me.forwardRef(Pn),Bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Tn=Bn,Xn=function(o,c){return me.createElement(cn.Z,(0,de.Z)((0,de.Z)({},o),{},{ref:c,icon:Tn}))};Xn.displayName="RotateRightOutlined";var tr=me.forwardRef(Xn),_n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},Jn=_n,Yn=function(o,c){return me.createElement(cn.Z,(0,de.Z)((0,de.Z)({},o),{},{ref:c,icon:Jn}))};Yn.displayName="ZoomInOutlined";var Dn=me.forwardRef(Yn),Nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Hn=Nn,ue=function(o,c){return me.createElement(cn.Z,(0,de.Z)((0,de.Z)({},o),{},{ref:c,icon:Hn}))};ue.displayName="ZoomOutOutlined";var v=me.forwardRef(ue),_=function(I,o){var c={};for(var y in I)Object.prototype.hasOwnProperty.call(I,y)&&o.indexOf(y)<0&&(c[y]=I[y]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,y=Object.getOwnPropertySymbols(I);S<y.length;S++)o.indexOf(y[S])<0&&Object.prototype.propertyIsEnumerable.call(I,y[S])&&(c[y[S]]=I[y[S]]);return c},T={rotateLeft:me.createElement(Sn,null),rotateRight:me.createElement(tr,null),zoomIn:me.createElement(Dn,null),zoomOut:me.createElement(v,null),close:me.createElement(bn.Z,null),left:me.createElement(mn.Z,null),right:me.createElement(qn.Z,null)},Y=function(o){var c=o.previewPrefixCls,y=o.preview,S=_(o,["previewPrefixCls","preview"]),O=me.useContext(Mn.E_),z=O.getPrefixCls,j=z("image-preview",c),ce=z(),tt=me.useMemo(function(){if(y===!1)return y;var L=(0,Ne.Z)(y)==="object"?y:{};return(0,A.Z)((0,A.Z)({},L),{transitionName:(0,vn.mL)(ce,"zoom",L.transitionName),maskTransitionName:(0,vn.mL)(ce,"fade",L.maskTransitionName)})},[y]);return me.createElement(Rn.PreviewGroup,(0,A.Z)({preview:tt,previewPrefixCls:j,icons:T},S))},ie=Y,Q=function(I,o){var c={};for(var y in I)Object.prototype.hasOwnProperty.call(I,y)&&o.indexOf(y)<0&&(c[y]=I[y]);if(I!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,y=Object.getOwnPropertySymbols(I);S<y.length;S++)o.indexOf(y[S])<0&&Object.prototype.propertyIsEnumerable.call(I,y[S])&&(c[y[S]]=I[y[S]]);return c},we=function(o){var c=o.prefixCls,y=o.preview,S=Q(o,["prefixCls","preview"]),O=(0,me.useContext)(Mn.E_),z=O.getPrefixCls,j=O.locale,ce=j===void 0?rn.Z:j,tt=O.getPopupContainer,L=z("image",c),F=z(),q=ce.Image||rn.Z.Image,oe=me.useMemo(function(){if(y===!1)return y;var ne=(0,Ne.Z)(y)==="object"?y:{},xe=ne.getContainer,Le=Q(ne,["getContainer"]);return(0,A.Z)((0,A.Z)({mask:me.createElement("div",{className:"".concat(L,"-mask-info")},me.createElement(Ee.Z,null),q==null?void 0:q.preview),icons:T},Le),{getContainer:xe||tt,transitionName:(0,vn.mL)(F,"zoom",ne.transitionName),maskTransitionName:(0,vn.mL)(F,"fade",ne.maskTransitionName)})},[y,q]);return me.createElement(Rn,(0,A.Z)({prefixCls:L,preview:oe},S))};we.PreviewGroup=ie;var De=we},2589:function(En,Ot,ge){"use strict";var A=ge(49132),Ne=ge.n(A),Ee=ge(34075),de=ge.n(Ee)},90993:function(En){(function(){var Ot;Ot=En.exports=Ne,Ot.format=Ne,Ot.vsprintf=A,typeof console!="undefined"&&typeof console.log=="function"&&(Ot.printf=ge);function ge(){console.log(Ne.apply(null,arguments))}function A(Ee,de){return Ne.apply(null,[Ee].concat(de))}function Ne(Ee){for(var de=1,le=[].slice.call(arguments),qe=0,je=Ee.length,me="",Fe,He=!1,Xe,at,dt=!1,st,Ue=function(){return le[de++]},ut=function(){for(var Pe="";/\d/.test(Ee[qe]);)Pe+=Ee[qe++],Fe=Ee[qe];return Pe.length>0?parseInt(Pe):null};qe<je;++qe)if(Fe=Ee[qe],He)switch(He=!1,Fe=="."?(dt=!1,Fe=Ee[++qe]):Fe=="0"&&Ee[qe+1]=="."?(dt=!0,qe+=2,Fe=Ee[qe]):dt=!0,st=ut(),Fe){case"b":me+=parseInt(Ue(),10).toString(2);break;case"c":Xe=Ue(),typeof Xe=="string"||Xe instanceof String?me+=Xe:me+=String.fromCharCode(parseInt(Xe,10));break;case"d":me+=parseInt(Ue(),10);break;case"f":at=String(parseFloat(Ue()).toFixed(st||6)),me+=dt?at:at.replace(/^0/,"");break;case"j":me+=JSON.stringify(Ue());break;case"o":me+="0"+parseInt(Ue(),10).toString(8);break;case"s":me+=Ue();break;case"x":me+="0x"+parseInt(Ue(),10).toString(16);break;case"X":me+="0x"+parseInt(Ue(),10).toString(16).toUpperCase();break;default:me+=Fe;break}else Fe==="%"?He=!0:me+=Fe;return me}})()},53291:function(En,Ot,ge){"use strict";ge.d(Ot,{$:function(){return R}});function A(f){const E=f.regex,x=f.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),P="decltype\\(auto\\)",V="[a-zA-Z_]\\w*::",K="<[^<>]+>",Z="(?!struct)("+P+"|"+E.optional(V)+"[a-zA-Z_]\\w*"+E.optional(K)+")",X={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},he="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",pe={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[f.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+he+"|.)",end:"'",illegal:"."},f.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},Se={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},Re={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},f.inherit(pe,{className:"string"}),{className:"string",begin:/<.*?>/},x,f.C_BLOCK_COMMENT_MODE]},$e={className:"title",begin:E.optional(V)+f.IDENT_RE,relevance:0},et=E.optional(V)+f.IDENT_RE+"\\s*\\(",ht=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],wt=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],rt=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],It=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],Gt={type:wt,keyword:ht,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:rt},Qt={className:"function.dispatch",relevance:0,keywords:{_hint:It},begin:E.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,f.IDENT_RE,E.lookahead(/(<[^<>]+>|)\s*\(/))},ln=[Qt,Re,X,x,f.C_BLOCK_COMMENT_MODE,Se,pe],nn={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:Gt,contains:ln.concat([{begin:/\(/,end:/\)/,keywords:Gt,contains:ln.concat(["self"]),relevance:0}]),relevance:0},Ln={className:"function",begin:"("+Z+"[\\*&\\s]+)+"+et,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:Gt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:P,keywords:Gt,relevance:0},{begin:et,returnBegin:!0,contains:[$e],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[pe,Se]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:Gt,relevance:0,contains:[x,f.C_BLOCK_COMMENT_MODE,pe,Se,X,{begin:/\(/,end:/\)/,keywords:Gt,relevance:0,contains:["self",x,f.C_BLOCK_COMMENT_MODE,pe,Se,X]}]},X,x,f.C_BLOCK_COMMENT_MODE,Re]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:Gt,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(nn,Ln,Qt,ln,[Re,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:Gt,contains:["self",X]},{begin:f.IDENT_RE+"::",keywords:Gt},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Ne(f){const E={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},x=A(f),P=x.keywords;return P.type=[...P.type,...E.type],P.literal=[...P.literal,...E.literal],P.built_in=[...P.built_in,...E.built_in],P._hints=E._hints,x.name="Arduino",x.aliases=["ino"],x.supersetOf="cpp",x}function Ee(f){const E=f.regex,x={},P={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[x]}]};Object.assign(x,{className:"variable",variants:[{begin:E.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},P]});const V={className:"subst",begin:/\$\(/,end:/\)/,contains:[f.BACKSLASH_ESCAPE]},K={begin:/<<-?\s*(?=\w+)/,starts:{contains:[f.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},Z={className:"string",begin:/"/,end:/"/,contains:[f.BACKSLASH_ESCAPE,x,V]};V.contains.push(Z);const X={className:"",begin:/\\"/},he={className:"string",begin:/'/,end:/'/},pe={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},f.NUMBER_MODE,x]},Se=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],Re=f.SHEBANG({binary:`(${Se.join("|")})`,relevance:10}),$e={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[f.inherit(f.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},et=["if","then","else","elif","fi","for","while","in","do","done","case","esac","function"],ht=["true","false"],wt={match:/(\/[a-z._-]+)+/},rt=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],It=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],un=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],sn=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:et,literal:ht,built_in:[...rt,...It,"set","shopt",...un,...sn]},contains:[Re,f.SHEBANG(),$e,pe,f.HASH_COMMENT_MODE,K,wt,Z,X,he,x]}}function de(f){const E=f.regex,x=f.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),P="decltype\\(auto\\)",V="[a-zA-Z_]\\w*::",K="<[^<>]+>",Z="("+P+"|"+E.optional(V)+"[a-zA-Z_]\\w*"+E.optional(K)+")",X={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},he="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",pe={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[f.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+he+"|.)",end:"'",illegal:"."},f.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},Se={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},Re={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},f.inherit(pe,{className:"string"}),{className:"string",begin:/<.*?>/},x,f.C_BLOCK_COMMENT_MODE]},$e={className:"title",begin:E.optional(V)+f.IDENT_RE,relevance:0},et=E.optional(V)+f.IDENT_RE+"\\s*\\(",rt={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},It=[Re,X,x,f.C_BLOCK_COMMENT_MODE,Se,pe],un={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:rt,contains:It.concat([{begin:/\(/,end:/\)/,keywords:rt,contains:It.concat(["self"]),relevance:0}]),relevance:0},sn={begin:"("+Z+"[\\*&\\s]+)+"+et,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:rt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:P,keywords:rt,relevance:0},{begin:et,returnBegin:!0,contains:[f.inherit($e,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:rt,relevance:0,contains:[x,f.C_BLOCK_COMMENT_MODE,pe,Se,X,{begin:/\(/,end:/\)/,keywords:rt,relevance:0,contains:["self",x,f.C_BLOCK_COMMENT_MODE,pe,Se,X]}]},X,x,f.C_BLOCK_COMMENT_MODE,Re]};return{name:"C",aliases:["h"],keywords:rt,disableAutodetect:!0,illegal:"</",contains:[].concat(un,sn,It,[Re,{begin:f.IDENT_RE+"::",keywords:rt},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},f.TITLE_MODE]}]),exports:{preprocessor:Re,strings:pe,keywords:rt}}}function le(f){const E=f.regex,x=f.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),P="decltype\\(auto\\)",V="[a-zA-Z_]\\w*::",K="<[^<>]+>",Z="(?!struct)("+P+"|"+E.optional(V)+"[a-zA-Z_]\\w*"+E.optional(K)+")",X={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},he="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",pe={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[f.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+he+"|.)",end:"'",illegal:"."},f.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},Se={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},Re={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},f.inherit(pe,{className:"string"}),{className:"string",begin:/<.*?>/},x,f.C_BLOCK_COMMENT_MODE]},$e={className:"title",begin:E.optional(V)+f.IDENT_RE,relevance:0},et=E.optional(V)+f.IDENT_RE+"\\s*\\(",ht=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],wt=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],rt=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],It=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],Gt={type:wt,keyword:ht,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:rt},Qt={className:"function.dispatch",relevance:0,keywords:{_hint:It},begin:E.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,f.IDENT_RE,E.lookahead(/(<[^<>]+>|)\s*\(/))},ln=[Qt,Re,X,x,f.C_BLOCK_COMMENT_MODE,Se,pe],nn={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:Gt,contains:ln.concat([{begin:/\(/,end:/\)/,keywords:Gt,contains:ln.concat(["self"]),relevance:0}]),relevance:0},Ln={className:"function",begin:"("+Z+"[\\*&\\s]+)+"+et,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:Gt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:P,keywords:Gt,relevance:0},{begin:et,returnBegin:!0,contains:[$e],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[pe,Se]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:Gt,relevance:0,contains:[x,f.C_BLOCK_COMMENT_MODE,pe,Se,X,{begin:/\(/,end:/\)/,keywords:Gt,relevance:0,contains:["self",x,f.C_BLOCK_COMMENT_MODE,pe,Se,X]}]},X,x,f.C_BLOCK_COMMENT_MODE,Re]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:Gt,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(nn,Ln,Qt,ln,[Re,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:Gt,contains:["self",X]},{begin:f.IDENT_RE+"::",keywords:Gt},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function qe(f){const E=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],x=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],P=["default","false","null","true"],V=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],K=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],Z={keyword:V.concat(K),built_in:E,literal:P},X=f.inherit(f.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),he={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},pe={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},Se=f.inherit(pe,{illegal:/\n/}),Re={className:"subst",begin:/\{/,end:/\}/,keywords:Z},$e=f.inherit(Re,{illegal:/\n/}),et={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},f.BACKSLASH_ESCAPE,$e]},ht={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},Re]},wt=f.inherit(ht,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},$e]});Re.contains=[ht,et,pe,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,he,f.C_BLOCK_COMMENT_MODE],$e.contains=[wt,et,Se,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,he,f.inherit(f.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const rt={variants:[ht,et,pe,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE]},It={begin:"<",end:">",contains:[{beginKeywords:"in out"},X]},un=f.IDENT_RE+"(<"+f.IDENT_RE+"(\\s*,\\s*"+f.IDENT_RE+")*>)?(\\[\\])?",sn={begin:"@"+f.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:Z,illegal:/::/,contains:[f.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},rt,he,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},X,It,f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[X,f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[X,It,f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+un+"\\s+)+"+f.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:Z,contains:[{beginKeywords:x.join(" "),relevance:0},{begin:f.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[f.TITLE_MODE,It],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Z,relevance:0,contains:[rt,he,f.C_BLOCK_COMMENT_MODE]},f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE]},sn]}}const je=f=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:f.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:f.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),me=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Fe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],He=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Xe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],at=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function dt(f){const E=f.regex,x=je(f),P={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},V="and or not only",K=/@-?\w[\w]*(-\w+)*/,Z="[a-zA-Z-][a-zA-Z0-9_-]*",X=[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[x.BLOCK_COMMENT,P,x.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+Z,relevance:0},x.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+He.join("|")+")"},{begin:":(:)?("+Xe.join("|")+")"}]},x.CSS_VARIABLE,{className:"attribute",begin:"\\b("+at.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[x.BLOCK_COMMENT,x.HEXCOLOR,x.IMPORTANT,x.CSS_NUMBER_MODE,...X,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...X,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},x.FUNCTION_DISPATCH]},{begin:E.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:K},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:V,attribute:Fe.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...X,x.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+me.join("|")+")\\b"}]}}function st(f){const E=f.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:E.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:E.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function Ue(f){const K={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:K,illegal:"</",contains:[f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,{className:"string",variants:[f.QUOTE_STRING_MODE,f.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:f.C_NUMBER_RE+"[i]",relevance:1},f.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[f.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:K,illegal:/["']/}]}]}}function ut(f){const E=f.regex,x=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[f.HASH_COMMENT_MODE,f.QUOTE_STRING_MODE,f.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:E.concat(x,E.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Pe(f){const E=f.regex,x={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:f.NUMBER_RE}]},P=f.COMMENT();P.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const V={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},K={className:"literal",begin:/\bon|off|true|false|yes|no\b/},Z={className:"string",contains:[f.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},X={begin:/\[/,end:/\]/,contains:[P,K,V,Z,x,"self"],relevance:0},he=/[A-Za-z0-9_-]+/,pe=/"(\\"|[^"])*"/,Se=/'[^']*'/,Re=E.either(he,pe,Se),$e=E.concat(Re,"(\\s*\\.\\s*",Re,")*",E.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[P,{className:"section",begin:/\[+/,end:/\]+/},{begin:$e,className:"attr",starts:{end:/$/,contains:[P,X,K,V,Z,x]}}]}}var Ye="[0-9](_*[0-9])*",We=`\\.(${Ye})`,Rt="[0-9a-fA-F](_*[0-9a-fA-F])*",Bt={className:"number",variants:[{begin:`(\\b(${Ye})((${We})|\\.)?|(${We}))[eE][+-]?(${Ye})[fFdD]?\\b`},{begin:`\\b(${Ye})((${We})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${We})[fFdD]?\\b`},{begin:`\\b(${Ye})[fFdD]\\b`},{begin:`\\b0[xX]((${Rt})\\.?|(${Rt})?\\.(${Rt}))[pP][+-]?(${Ye})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Rt})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function ve(f,E,x){return x===-1?"":f.replace(E,P=>ve(f,E,x-1))}function Ht(f){const E=f.regex,x="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",P=x+ve("(?:<"+x+"~~~(?:\\s*,\\s*"+x+"~~~)*>)?",/~~~/g,2),he={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},pe={className:"meta",begin:"@"+x,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},Se={className:"params",begin:/\(/,end:/\)/,keywords:he,relevance:0,contains:[f.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:he,illegal:/<\/|#/,contains:[f.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[f.BACKSLASH_ESCAPE]},f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,x],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[E.concat(/(?!else)/,x),/\s+/,x,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,x],className:{1:"keyword",3:"title.class"},contains:[Se,f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+P+"\\s+)",f.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:he,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:he,relevance:0,contains:[pe,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,Bt,f.C_BLOCK_COMMENT_MODE]},f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE]},Bt,pe]}}const St="[A-Za-z$_][0-9A-Za-z$_]*",on=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Ge=["true","false","null","undefined","NaN","Infinity"],Ke=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Be=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],gt=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ce=["arguments","this","super","console","window","document","localStorage","module","global"],U=[].concat(gt,Ke,Be);function J(f){const E=f.regex,x=(jt,{after:ot})=>{const Ct="</"+jt[0].slice(1);return jt.input.indexOf(Ct,ot)!==-1},P=St,V={begin:"<>",end:"</>"},K=/<[A-Za-z0-9\\._:-]+\s*\/>/,Z={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(jt,ot)=>{const Ct=jt[0].length+jt.index,Vt=jt.input[Ct];if(Vt==="<"||Vt===","){ot.ignoreMatch();return}Vt===">"&&(x(jt,{after:Ct})||ot.ignoreMatch());let dn;const Kn=jt.input.substring(Ct);if(dn=Kn.match(/^\s*=/)){ot.ignoreMatch();return}if((dn=Kn.match(/^\s+extends\s+/))&&dn.index===0){ot.ignoreMatch();return}}},X={$pattern:St,keyword:on,literal:Ge,built_in:U,"variable.language":Ce},he="[0-9](_?[0-9])*",pe=`\\.(${he})`,Se="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",Re={className:"number",variants:[{begin:`(\\b(${Se})((${pe})|\\.)?|(${pe}))[eE][+-]?(${he})\\b`},{begin:`\\b(${Se})\\b((${pe})\\b|\\.)?|(${pe})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},$e={className:"subst",begin:"\\$\\{",end:"\\}",keywords:X,contains:[]},et={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,$e],subLanguage:"xml"}},ht={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,$e],subLanguage:"css"}},wt={className:"string",begin:"`",end:"`",contains:[f.BACKSLASH_ESCAPE,$e]},rt=f.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:P+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),It={className:"comment",variants:[rt,f.C_BLOCK_COMMENT_MODE,f.C_LINE_COMMENT_MODE]},un=[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,et,ht,wt,{match:/\$\d+/},Re];$e.contains=un.concat({begin:/\{/,end:/\}/,keywords:X,contains:["self"].concat(un)});const sn=[].concat(It,$e.contains),Gt=sn.concat([{begin:/\(/,end:/\)/,keywords:X,contains:["self"].concat(sn)}]),Qt={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:X,contains:Gt},ln={variants:[{match:[/class/,/\s+/,P,/\s+/,/extends/,/\s+/,E.concat(P,"(",E.concat(/\./,P),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,P],scope:{1:"keyword",3:"title.class"}}]},nn={relevance:0,match:E.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ke,...Be]}},Ln={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},Wn={variants:[{match:[/function/,/\s+/,P,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[Qt],illegal:/%/},bt={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function yn(jt){return E.concat("(?!",jt.join("|"),")")}const gn={match:E.concat(/\b/,yn([...gt,"super","import"]),P,E.lookahead(/\(/)),className:"title.function",relevance:0},zt={begin:E.concat(/\./,E.lookahead(E.concat(P,/(?![0-9A-Za-z$_(])/))),end:P,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},jn={match:[/get|set/,/\s+/,P,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},Qt]},Fn="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+f.UNDERSCORE_IDENT_RE+")\\s*=>",nr={match:[/const|var|let/,/\s+/,P,/\s*/,/=\s*/,/(async\s*)?/,E.lookahead(Fn)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[Qt]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:X,exports:{PARAMS_CONTAINS:Gt,CLASS_REFERENCE:nn},illegal:/#(?![$_A-z])/,contains:[f.SHEBANG({label:"shebang",binary:"node",relevance:5}),Ln,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,et,ht,wt,It,{match:/\$\d+/},Re,nn,{className:"attr",begin:P+E.lookahead(":"),relevance:0},nr,{begin:"("+f.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[It,f.REGEXP_MODE,{className:"function",begin:Fn,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:f.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:X,contains:Gt}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:V.begin,end:V.end},{match:K},{begin:Z.begin,"on:begin":Z.isTrulyOpeningTag,end:Z.end}],subLanguage:"xml",contains:[{begin:Z.begin,end:Z.end,skip:!0,contains:["self"]}]}]},Wn,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+f.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[Qt,f.inherit(f.TITLE_MODE,{begin:P,className:"title.function"})]},{match:/\.\.\./,relevance:0},zt,{match:"\\$"+P,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[Qt]},gn,bt,ln,jn,{match:/\$[(.]/}]}}function te(f){const E={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},x={match:/[{}[\],:]/,className:"punctuation",relevance:0},P=["true","false","null"],V={scope:"literal",beginKeywords:P.join(" ")};return{name:"JSON",keywords:{literal:P},contains:[E,x,f.QUOTE_STRING_MODE,V,f.C_NUMBER_MODE,f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var ke="[0-9](_*[0-9])*",ze=`\\.(${ke})`,it="[0-9a-fA-F](_*[0-9a-fA-F])*",Lt={className:"number",variants:[{begin:`(\\b(${ke})((${ze})|\\.)?|(${ze}))[eE][+-]?(${ke})[fFdD]?\\b`},{begin:`\\b(${ke})((${ze})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ze})[fFdD]?\\b`},{begin:`\\b(${ke})[fFdD]\\b`},{begin:`\\b0[xX]((${it})\\.?|(${it})?\\.(${it}))[pP][+-]?(${ke})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${it})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Ft(f){const E={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},x={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},P={className:"symbol",begin:f.UNDERSCORE_IDENT_RE+"@"},V={className:"subst",begin:/\$\{/,end:/\}/,contains:[f.C_NUMBER_MODE]},K={className:"variable",begin:"\\$"+f.UNDERSCORE_IDENT_RE},Z={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[K,V]},{begin:"'",end:"'",illegal:/\n/,contains:[f.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[f.BACKSLASH_ESCAPE,K,V]}]};V.contains.push(Z);const X={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+f.UNDERSCORE_IDENT_RE+")?"},he={className:"meta",begin:"@"+f.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[f.inherit(Z,{className:"string"}),"self"]}]},pe=Lt,Se=f.COMMENT("/\\*","\\*/",{contains:[f.C_BLOCK_COMMENT_MODE]}),Re={variants:[{className:"type",begin:f.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},$e=Re;return $e.variants[1].contains=[Re],Re.variants[1].contains=[$e],{name:"Kotlin",aliases:["kt","kts"],keywords:E,contains:[f.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),f.C_LINE_COMMENT_MODE,Se,x,P,X,he,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:E,relevance:5,contains:[{begin:f.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[f.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:E,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[Re,f.C_LINE_COMMENT_MODE,Se],relevance:0},f.C_LINE_COMMENT_MODE,Se,X,he,Z,f.C_NUMBER_MODE]},Se]},{begin:[/class|interface|trait/,/\s+/,f.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},f.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},X,he]},Z,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},pe]}}const Dt=f=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:f.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:f.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),xt=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Cn=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],zn=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Rn=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Mn=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),rn=zn.concat(Rn);function vn(f){const E=Dt(f),x=rn,P="and or not only",V="[\\w-]+",K="("+V+"|@\\{"+V+"\\})",Z=[],X=[],he=function(sn){return{className:"string",begin:"~?"+sn+".*?"+sn}},pe=function(sn,Gt,Qt){return{className:sn,begin:Gt,relevance:Qt}},Se={$pattern:/[a-z-]+/,keyword:P,attribute:Cn.join(" ")},Re={begin:"\\(",end:"\\)",contains:X,keywords:Se,relevance:0};X.push(f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,he("'"),he('"'),E.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},E.HEXCOLOR,Re,pe("variable","@@?"+V,10),pe("variable","@\\{"+V+"\\}"),pe("built_in","~?`[^`]*?`"),{className:"attribute",begin:V+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},E.IMPORTANT,{beginKeywords:"and not"},E.FUNCTION_DISPATCH);const $e=X.concat({begin:/\{/,end:/\}/,contains:Z}),et={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(X)},ht={begin:K+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},E.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Mn.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:X}}]},wt={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:Se,returnEnd:!0,contains:X,relevance:0}},rt={className:"variable",variants:[{begin:"@"+V+"\\s*:",relevance:15},{begin:"@"+V}],starts:{end:"[;}]",returnEnd:!0,contains:$e}},It={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:K,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,et,pe("keyword","all\\b"),pe("variable","@\\{"+V+"\\}"),{begin:"\\b("+xt.join("|")+")\\b",className:"selector-tag"},E.CSS_NUMBER_MODE,pe("selector-tag",K,0),pe("selector-id","#"+K),pe("selector-class","\\."+K,0),pe("selector-tag","&",0),E.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+zn.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Rn.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:$e},{begin:"!important"},E.FUNCTION_DISPATCH]},un={begin:V+`:(:)?(${x.join("|")})`,returnBegin:!0,contains:[It]};return Z.push(f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,wt,rt,un,ht,It,et,E.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:Z}}function bn(f){const E="\\[=*\\[",x="\\]=*\\]",P={begin:E,end:x,contains:["self"]},V=[f.COMMENT("--(?!"+E+")","$"),f.COMMENT("--"+E,x,{contains:[P],relevance:10})];return{name:"Lua",keywords:{$pattern:f.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:V.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[f.inherit(f.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:V}].concat(V)},f.C_NUMBER_MODE,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,{className:"string",begin:E,end:x,contains:[P],relevance:5}])}}function mn(f){const E={className:"variable",variants:[{begin:"\\$\\("+f.UNDERSCORE_IDENT_RE+"\\)",contains:[f.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},x={className:"string",begin:/"/,end:/"/,contains:[f.BACKSLASH_ESCAPE,E]},P={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[E]},V={begin:"^"+f.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},K={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},Z={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[E]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[f.HASH_COMMENT_MODE,E,x,P,V,K,Z]}}function qn(f){const E=f.regex,x={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},P={begin:"^[-\\*]{3,}",end:"$"},V={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},K={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},Z={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},X=/[A-Za-z][A-Za-z0-9+.-]*/,he={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:E.concat(/\[.+?\]\(/,X,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},pe={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},Se={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},Re=f.inherit(pe,{contains:[]}),$e=f.inherit(Se,{contains:[]});pe.contains.push($e),Se.contains.push(Re);let et=[x,he];return[pe,Se,Re,$e].forEach(rt=>{rt.contains=rt.contains.concat(et)}),et=et.concat(pe,Se),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:et},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:et}]}]},x,K,pe,Se,{className:"quote",begin:"^>\\s+",contains:et,end:"$"},V,P,he,Z]}}function In(f){const E={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},x=/[a-zA-Z@][a-zA-Z0-9_]*/,X={"variable.language":["this","super"],$pattern:x,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},he={$pattern:x,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:X,illegal:"</",contains:[E,f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,f.C_NUMBER_MODE,f.QUOTE_STRING_MODE,f.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[f.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},f.inherit(f.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+he.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:he,contains:[f.UNDERSCORE_TITLE_MODE]},{begin:"\\."+f.UNDERSCORE_IDENT_RE,relevance:0}]}}function wn(f){const E=f.regex,x=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],P=/[dualxmsipngr]{0,12}/,V={$pattern:/[\w.]+/,keyword:x.join(" ")},K={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:V},Z={begin:/->\{/,end:/\}/},X={variants:[{begin:/\$\d/},{begin:E.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},he=[f.BACKSLASH_ESCAPE,K,X],pe=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],Se=(et,ht,wt="\\1")=>{const rt=wt==="\\1"?wt:E.concat(wt,ht);return E.concat(E.concat("(?:",et,")"),ht,/(?:\\.|[^\\\/])*?/,rt,/(?:\\.|[^\\\/])*?/,wt,P)},Re=(et,ht,wt)=>E.concat(E.concat("(?:",et,")"),ht,/(?:\\.|[^\\\/])*?/,wt,P),$e=[X,f.HASH_COMMENT_MODE,f.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),Z,{className:"string",contains:he,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[f.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[f.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+f.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[f.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:Se("s|tr|y",E.either(...pe,{capture:!0}))},{begin:Se("s|tr|y","\\(","\\)")},{begin:Se("s|tr|y","\\[","\\]")},{begin:Se("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:Re("(?:m|qr)?",/\//,/\//)},{begin:Re("m|qr",E.either(...pe,{capture:!0}),/\1/)},{begin:Re("m|qr",/\(/,/\)/)},{begin:Re("m|qr",/\[/,/\]/)},{begin:Re("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[f.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return K.contains=$e,Z.contains=$e,{name:"Perl",aliases:["pl","pm"],keywords:V,contains:$e}}function cn(f){const E=f.regex,x=/(?![A-Za-z0-9])(?![$])/,P=E.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,x),V=E.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,x),K={scope:"variable",match:"\\$+"+P},Z={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},X={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},he=f.inherit(f.APOS_STRING_MODE,{illegal:null}),pe=f.inherit(f.QUOTE_STRING_MODE,{illegal:null,contains:f.QUOTE_STRING_MODE.contains.concat(X)}),Se=f.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:f.QUOTE_STRING_MODE.contains.concat(X)}),Re=`[ 	
]`,$e={scope:"string",variants:[pe,he,Se]},et={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},ht=["false","null","true"],wt=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],rt=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],un={keyword:wt,literal:(gn=>{const zt=[];return gn.forEach(jn=>{zt.push(jn),jn.toLowerCase()===jn?zt.push(jn.toUpperCase()):zt.push(jn.toLowerCase())}),zt})(ht),built_in:rt},sn=gn=>gn.map(zt=>zt.replace(/\|\d+$/,"")),Gt={variants:[{match:[/new/,E.concat(Re,"+"),E.concat("(?!",sn(rt).join("\\b|"),"\\b)"),V],scope:{1:"keyword",4:"title.class"}}]},Qt=E.concat(P,"\\b(?!\\()"),ln={variants:[{match:[E.concat(/::/,E.lookahead(/(?!class\b)/)),Qt],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[V,E.concat(/::/,E.lookahead(/(?!class\b)/)),Qt],scope:{1:"title.class",3:"variable.constant"}},{match:[V,E.concat("::",E.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[V,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},nn={scope:"attr",match:E.concat(P,E.lookahead(":"),E.lookahead(/(?!::)/))},Ln={relevance:0,begin:/\(/,end:/\)/,keywords:un,contains:[nn,K,ln,f.C_BLOCK_COMMENT_MODE,$e,et,Gt]},Wn={relevance:0,match:[/\b/,E.concat("(?!fn\\b|function\\b|",sn(wt).join("\\b|"),"|",sn(rt).join("\\b|"),"\\b)"),P,E.concat(Re,"*"),E.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Ln]};Ln.contains.push(Wn);const bt=[nn,ln,f.C_BLOCK_COMMENT_MODE,$e,et,Gt],yn={begin:E.concat(/#\[\s*/,V),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:ht,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:ht,keyword:["new","array"]},contains:["self",...bt]},...bt,{scope:"meta",match:V}]};return{case_insensitive:!1,keywords:un,contains:[yn,f.HASH_COMMENT_MODE,f.COMMENT("//","$"),f.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:f.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},Z,{scope:"variable.language",match:/\$this\b/},K,Wn,ln,{match:[/const/,/\s/,P],scope:{1:"keyword",3:"variable.constant"}},Gt,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},f.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:un,contains:["self",K,ln,f.C_BLOCK_COMMENT_MODE,$e,et]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},f.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[f.inherit(f.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},f.UNDERSCORE_TITLE_MODE]},$e,et]}}function Pn(f){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},f.inherit(f.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),f.inherit(f.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function Sn(f){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Bn(f){const E=f.regex,x=/[\p{XID_Start}_]\p{XID_Continue}*/u,P=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],X={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:P,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},he={className:"meta",begin:/^(>>>|\.\.\.) /},pe={className:"subst",begin:/\{/,end:/\}/,keywords:X,illegal:/#/},Se={begin:/\{\{/,relevance:0},Re={className:"string",contains:[f.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[f.BACKSLASH_ESCAPE,he],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[f.BACKSLASH_ESCAPE,he],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[f.BACKSLASH_ESCAPE,he,Se,pe]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[f.BACKSLASH_ESCAPE,he,Se,pe]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[f.BACKSLASH_ESCAPE,Se,pe]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[f.BACKSLASH_ESCAPE,Se,pe]},f.APOS_STRING_MODE,f.QUOTE_STRING_MODE]},$e="[0-9](_?[0-9])*",et=`(\\b(${$e}))?\\.(${$e})|\\b(${$e})\\.`,ht=`\\b|${P.join("|")}`,wt={className:"number",relevance:0,variants:[{begin:`(\\b(${$e})|(${et}))[eE][+-]?(${$e})[jJ]?(?=${ht})`},{begin:`(${et})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${ht})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${ht})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${ht})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${ht})`},{begin:`\\b(${$e})[jJ](?=${ht})`}]},rt={className:"comment",begin:E.lookahead(/# type:/),end:/$/,keywords:X,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},It={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:X,contains:["self",he,wt,Re,f.HASH_COMMENT_MODE]}]};return pe.contains=[Re,wt,he],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:X,illegal:/(<\/|->|\?)|=>/,contains:[he,wt,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},Re,rt,f.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,x],scope:{1:"keyword",3:"title.function"},contains:[It]},{variants:[{match:[/\bclass/,/\s+/,x,/\s*/,/\(\s*/,x,/\s*\)/]},{match:[/\bclass/,/\s+/,x]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[wt,It,Re]}]}}function Tn(f){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Xn(f){const E=f.regex,x=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,P=E.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),V=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,K=E.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:x,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[f.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:E.lookahead(E.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:x},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),f.HASH_COMMENT_MODE,{scope:"string",contains:[f.BACKSLASH_ESCAPE],variants:[f.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),f.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),f.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),f.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),f.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),f.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[V,P]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,P]},{scope:{1:"punctuation",2:"number"},match:[K,P]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,P]}]},{scope:{3:"operator"},match:[x,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:V},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:K},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function tr(f){const E=f.regex,x="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",P=E.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),V=E.concat(P,/(::\w+)*/),Z={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},X={className:"doctag",begin:"@[A-Za-z]+"},he={begin:"#<",end:">"},pe=[f.COMMENT("#","$",{contains:[X]}),f.COMMENT("^=begin","^=end",{contains:[X],relevance:10}),f.COMMENT("^__END__",f.MATCH_NOTHING_RE)],Se={className:"subst",begin:/#\{/,end:/\}/,keywords:Z},Re={className:"string",contains:[f.BACKSLASH_ESCAPE,Se],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:E.concat(/<<[-~]?'?/,E.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[f.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[f.BACKSLASH_ESCAPE,Se]})]}]},$e="[1-9](_?[0-9])*|0",et="[0-9](_?[0-9])*",ht={className:"number",relevance:0,variants:[{begin:`\\b(${$e})(\\.(${et}))?([eE][+-]?(${et})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},wt={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:Z}]},ln=[Re,{variants:[{match:[/class\s+/,V,/\s+<\s+/,V]},{match:[/\b(class|module)\s+/,V]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:Z},{match:[/(include|extend)\s+/,V],scope:{2:"title.class"},keywords:Z},{relevance:0,match:[V,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:P,scope:"title.class"},{match:[/def/,/\s+/,x],scope:{1:"keyword",3:"title.function"},contains:[wt]},{begin:f.IDENT_RE+"::"},{className:"symbol",begin:f.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[Re,{begin:x}],relevance:0},ht,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:Z},{begin:"("+f.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[f.BACKSLASH_ESCAPE,Se],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(he,pe),relevance:0}].concat(he,pe);Se.contains=ln,wt.contains=ln;const nn="[>?]>",Ln="[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]",Wn="(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>",bt=[{begin:/^\s*=>/,starts:{end:"$",contains:ln}},{className:"meta.prompt",begin:"^("+nn+"|"+Ln+"|"+Wn+")(?=[ ])",starts:{end:"$",keywords:Z,contains:ln}}];return pe.unshift(he),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:Z,illegal:/\/\*/,contains:[f.SHEBANG({binary:"ruby"})].concat(bt).concat(pe).concat(ln)}}function _n(f){const E=f.regex,x={className:"title.function.invoke",relevance:0,begin:E.concat(/\b/,/(?!let\b)/,f.IDENT_RE,E.lookahead(/\s*\(/))},P="([ui](8|16|32|64|128|size)|f(32|64))?",V=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],K=["true","false","Some","None","Ok","Err"],Z=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],X=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:f.IDENT_RE+"!?",type:X,keyword:V,literal:K,built_in:Z},illegal:"</",contains:[f.C_LINE_COMMENT_MODE,f.COMMENT("/\\*","\\*/",{contains:["self"]}),f.inherit(f.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+P},{begin:"\\b0o([0-7_]+)"+P},{begin:"\\b0x([A-Fa-f0-9_]+)"+P},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+P}],relevance:0},{begin:[/fn/,/\s+/,f.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,f.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,f.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,f.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,f.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:f.IDENT_RE+"::",keywords:{keyword:"Self",built_in:Z,type:X}},{className:"punctuation",begin:"->"},x]}}const Jn=f=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:f.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:f.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Yn=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Dn=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Nn=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Hn=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],ue=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function v(f){const E=Jn(f),x=Hn,P=Nn,V="@[a-z-]+",K="and or not only",X={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[f.C_LINE_COMMENT_MODE,f.C_BLOCK_COMMENT_MODE,E.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},E.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+Yn.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+P.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+x.join("|")+")"},X,{begin:/\(/,end:/\)/,contains:[E.CSS_NUMBER_MODE]},E.CSS_VARIABLE,{className:"attribute",begin:"\\b("+ue.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[E.BLOCK_COMMENT,X,E.HEXCOLOR,E.CSS_NUMBER_MODE,f.QUOTE_STRING_MODE,f.APOS_STRING_MODE,E.IMPORTANT,E.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:V,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:K,attribute:Dn.join(" ")},contains:[{begin:V,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},X,f.QUOTE_STRING_MODE,f.APOS_STRING_MODE,E.HEXCOLOR,E.CSS_NUMBER_MODE]},E.FUNCTION_DISPATCH]}}function _(f){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function T(f){const E=f.regex,x=f.COMMENT("--","$"),P={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},V={begin:/"/,end:/"/,contains:[{begin:/""/}]},K=["true","false","unknown"],Z=["double precision","large object","with timezone","without timezone"],X=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],he=["add","asc","collation","desc","final","first","last","view"],pe=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],Se=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],Re=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],$e=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],et=Se,ht=[...pe,...he].filter(sn=>!Se.includes(sn)),wt={className:"variable",begin:/@[a-z0-9]+/},rt={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},It={begin:E.concat(/\b/,E.either(...et),/\s*\(/),relevance:0,keywords:{built_in:et}};function un(sn,{exceptions:Gt,when:Qt}={}){const ln=Qt;return Gt=Gt||[],sn.map(nn=>nn.match(/\|\d+$/)||Gt.includes(nn)?nn:ln(nn)?`${nn}|0`:nn)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:un(ht,{when:sn=>sn.length<3}),literal:K,type:X,built_in:Re},contains:[{begin:E.either(...$e),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:ht.concat($e),literal:K,type:X}},{className:"type",begin:E.either(...Z)},It,wt,P,V,f.C_NUMBER_MODE,f.C_BLOCK_COMMENT_MODE,x,rt]}}function Y(f){return f?typeof f=="string"?f:f.source:null}function ie(f){return Q("(?=",f,")")}function Q(...f){return f.map(x=>Y(x)).join("")}function we(f){const E=f[f.length-1];return typeof E=="object"&&E.constructor===Object?(f.splice(f.length-1,1),E):{}}function De(...f){const E=we(f);return"("+(E.capture?"":"?:")+f.map(P=>Y(P)).join("|")+")"}const I=f=>Q(/\b/,f,/\w$/.test(f)?/\b/:/\B/),o=["Protocol","Type"].map(I),c=["init","self"].map(I),y=["Any","Self"],S=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],O=["false","nil","true"],z=["assignment","associativity","higherThan","left","lowerThan","none","right"],j=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],ce=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],tt=De(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),L=De(tt,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),F=Q(tt,L,"*"),q=De(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),oe=De(q,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),ne=Q(q,oe,"*"),xe=Q(/[A-Z]/,oe,"*"),Le=["autoclosure",Q(/convention\(/,De("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Q(/objc\(/,ne,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],Ze=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function _t(f){const E={match:/\s+/,relevance:0},x=f.COMMENT("/\\*","\\*/",{contains:["self"]}),P=[f.C_LINE_COMMENT_MODE,x],V={match:[/\./,De(...o,...c)],className:{2:"keyword"}},K={match:Q(/\./,De(...S)),relevance:0},Z=S.filter(Qn=>typeof Qn=="string").concat(["_|0"]),X=S.filter(Qn=>typeof Qn!="string").concat(y).map(I),he={variants:[{className:"keyword",match:De(...X,...c)}]},pe={$pattern:De(/\b\w+/,/#\w+/),keyword:Z.concat(j),literal:O},Se=[V,K,he],Re={match:Q(/\./,De(...ce)),relevance:0},$e={className:"built_in",match:Q(/\b/,De(...ce),/(?=\()/)},et=[Re,$e],ht={match:/->/,relevance:0},wt={className:"operator",relevance:0,variants:[{match:F},{match:`\\.(\\.|${L})+`}]},rt=[ht,wt],It="([0-9]_*)+",un="([0-9a-fA-F]_*)+",sn={className:"number",relevance:0,variants:[{match:`\\b(${It})(\\.(${It}))?([eE][+-]?(${It}))?\\b`},{match:`\\b0x(${un})(\\.(${un}))?([pP][+-]?(${It}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},Gt=(Qn="")=>({className:"subst",variants:[{match:Q(/\\/,Qn,/[0\\tnr"']/)},{match:Q(/\\/,Qn,/u\{[0-9a-fA-F]{1,8}\}/)}]}),Qt=(Qn="")=>({className:"subst",match:Q(/\\/,Qn,/[\t ]*(?:[\r\n]|\r\n)/)}),ln=(Qn="")=>({className:"subst",label:"interpol",begin:Q(/\\/,Qn,/\(/),end:/\)/}),nn=(Qn="")=>({begin:Q(Qn,/"""/),end:Q(/"""/,Qn),contains:[Gt(Qn),Qt(Qn),ln(Qn)]}),Ln=(Qn="")=>({begin:Q(Qn,/"/),end:Q(/"/,Qn),contains:[Gt(Qn),ln(Qn)]}),Wn={className:"string",variants:[nn(),nn("#"),nn("##"),nn("###"),Ln(),Ln("#"),Ln("##"),Ln("###")]},bt={match:Q(/`/,ne,/`/)},yn={className:"variable",match:/\$\d+/},gn={className:"variable",match:`\\$${oe}+`},zt=[bt,yn,gn],jn={match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Ze,contains:[...rt,sn,Wn]}]}},Fn={className:"keyword",match:Q(/@/,De(...Le))},nr={className:"meta",match:Q(/@/,ne)},jt=[jn,Fn,nr],ot={match:ie(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Q(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,oe,"+")},{className:"type",match:xe,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Q(/\s+&\s+/,ie(xe)),relevance:0}]},Ct={begin:/</,end:/>/,keywords:pe,contains:[...P,...Se,...jt,ht,ot]};ot.contains.push(Ct);const Vt={match:Q(ne,/\s*:/),keywords:"_|0",relevance:0},dn={begin:/\(/,end:/\)/,relevance:0,keywords:pe,contains:["self",Vt,...P,...Se,...et,...rt,sn,Wn,...zt,...jt,ot]},Kn={begin:/</,end:/>/,contains:[...P,ot]},ur={begin:De(ie(Q(ne,/\s*:/)),ie(Q(ne,/\s+/,ne,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:ne}]},hr={begin:/\(/,end:/\)/,keywords:pe,contains:[ur,...P,...Se,...rt,sn,Wn,...jt,ot,dn],endsParent:!0,illegal:/["']/},br={match:[/func/,/\s+/,De(bt.match,ne,F)],className:{1:"keyword",3:"title.function"},contains:[Kn,hr,E],illegal:[/\[/,/%/]},Yr={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Kn,hr,E],illegal:/\[|%/},Dr={match:[/operator/,/\s+/,F],className:{1:"keyword",3:"title"}},_r={begin:[/precedencegroup/,/\s+/,xe],className:{1:"keyword",3:"title"},contains:[ot],keywords:[...z,...O],end:/}/};for(const Qn of Wn.variants){const Cr=Qn.contains.find(cr=>cr.label==="interpol");Cr.keywords=pe;const Tr=[...Se,...et,...rt,sn,Wn,...zt];Cr.contains=[...Tr,{begin:/\(/,end:/\)/,contains:["self",...Tr]}]}return{name:"Swift",keywords:pe,contains:[...P,br,Yr,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:pe,contains:[f.inherit(f.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...Se]},Dr,_r,{beginKeywords:"import",end:/$/,contains:[...P],relevance:0},...Se,...et,...rt,sn,Wn,...zt,...jt,ot,dn]}}const $t="[A-Za-z$_][0-9A-Za-z$_]*",Ut=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],W=["true","false","null","undefined","NaN","Infinity"],ae=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Me=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],lt=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Et=["arguments","this","super","console","window","document","localStorage","module","global"],Tt=[].concat(lt,ae,Me);function nt(f){const E=f.regex,x=(jt,{after:ot})=>{const Ct="</"+jt[0].slice(1);return jt.input.indexOf(Ct,ot)!==-1},P=$t,V={begin:"<>",end:"</>"},K=/<[A-Za-z0-9\\._:-]+\s*\/>/,Z={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(jt,ot)=>{const Ct=jt[0].length+jt.index,Vt=jt.input[Ct];if(Vt==="<"||Vt===","){ot.ignoreMatch();return}Vt===">"&&(x(jt,{after:Ct})||ot.ignoreMatch());let dn;const Kn=jt.input.substring(Ct);if(dn=Kn.match(/^\s*=/)){ot.ignoreMatch();return}if((dn=Kn.match(/^\s+extends\s+/))&&dn.index===0){ot.ignoreMatch();return}}},X={$pattern:$t,keyword:Ut,literal:W,built_in:Tt,"variable.language":Et},he="[0-9](_?[0-9])*",pe=`\\.(${he})`,Se="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",Re={className:"number",variants:[{begin:`(\\b(${Se})((${pe})|\\.)?|(${pe}))[eE][+-]?(${he})\\b`},{begin:`\\b(${Se})\\b((${pe})\\b|\\.)?|(${pe})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},$e={className:"subst",begin:"\\$\\{",end:"\\}",keywords:X,contains:[]},et={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,$e],subLanguage:"xml"}},ht={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[f.BACKSLASH_ESCAPE,$e],subLanguage:"css"}},wt={className:"string",begin:"`",end:"`",contains:[f.BACKSLASH_ESCAPE,$e]},rt=f.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:P+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),It={className:"comment",variants:[rt,f.C_BLOCK_COMMENT_MODE,f.C_LINE_COMMENT_MODE]},un=[f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,et,ht,wt,{match:/\$\d+/},Re];$e.contains=un.concat({begin:/\{/,end:/\}/,keywords:X,contains:["self"].concat(un)});const sn=[].concat(It,$e.contains),Gt=sn.concat([{begin:/\(/,end:/\)/,keywords:X,contains:["self"].concat(sn)}]),Qt={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:X,contains:Gt},ln={variants:[{match:[/class/,/\s+/,P,/\s+/,/extends/,/\s+/,E.concat(P,"(",E.concat(/\./,P),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,P],scope:{1:"keyword",3:"title.class"}}]},nn={relevance:0,match:E.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ae,...Me]}},Ln={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},Wn={variants:[{match:[/function/,/\s+/,P,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[Qt],illegal:/%/},bt={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function yn(jt){return E.concat("(?!",jt.join("|"),")")}const gn={match:E.concat(/\b/,yn([...lt,"super","import"]),P,E.lookahead(/\(/)),className:"title.function",relevance:0},zt={begin:E.concat(/\./,E.lookahead(E.concat(P,/(?![0-9A-Za-z$_(])/))),end:P,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},jn={match:[/get|set/,/\s+/,P,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},Qt]},Fn="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+f.UNDERSCORE_IDENT_RE+")\\s*=>",nr={match:[/const|var|let/,/\s+/,P,/\s*/,/=\s*/,/(async\s*)?/,E.lookahead(Fn)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[Qt]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:X,exports:{PARAMS_CONTAINS:Gt,CLASS_REFERENCE:nn},illegal:/#(?![$_A-z])/,contains:[f.SHEBANG({label:"shebang",binary:"node",relevance:5}),Ln,f.APOS_STRING_MODE,f.QUOTE_STRING_MODE,et,ht,wt,It,{match:/\$\d+/},Re,nn,{className:"attr",begin:P+E.lookahead(":"),relevance:0},nr,{begin:"("+f.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[It,f.REGEXP_MODE,{className:"function",begin:Fn,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:f.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:X,contains:Gt}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:V.begin,end:V.end},{match:K},{begin:Z.begin,"on:begin":Z.isTrulyOpeningTag,end:Z.end}],subLanguage:"xml",contains:[{begin:Z.begin,end:Z.end,skip:!0,contains:["self"]}]}]},Wn,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+f.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[Qt,f.inherit(f.TITLE_MODE,{begin:P,className:"title.function"})]},{match:/\.\.\./,relevance:0},zt,{match:"\\$"+P,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[Qt]},gn,bt,ln,jn,{match:/\$[(.]/}]}}function _e(f){const E=nt(f),x=$t,P=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],V={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[E.exports.CLASS_REFERENCE]},K={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:P},contains:[E.exports.CLASS_REFERENCE]},Z={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},X=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],he={$pattern:$t,keyword:Ut.concat(X),literal:W,built_in:Tt.concat(P),"variable.language":Et},pe={className:"meta",begin:"@"+x},Se=($e,et,ht)=>{const wt=$e.contains.findIndex(rt=>rt.label===et);if(wt===-1)throw new Error("can not find mode to replace");$e.contains.splice(wt,1,ht)};Object.assign(E.keywords,he),E.exports.PARAMS_CONTAINS.push(pe),E.contains=E.contains.concat([pe,V,K]),Se(E,"shebang",f.SHEBANG()),Se(E,"use_strict",Z);const Re=E.contains.find($e=>$e.label==="func.def");return Re.relevance=0,Object.assign(E,{name:"TypeScript",aliases:["ts","tsx"]}),E}function kt(f){const E=f.regex,x={className:"string",begin:/"(""|[^/n])"C\b/},P={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},V=/\d{1,2}\/\d{1,2}\/\d{4}/,K=/\d{4}-\d{1,2}-\d{1,2}/,Z=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,X=/\d{1,2}(:\d{1,2}){1,2}/,he={className:"literal",variants:[{begin:E.concat(/# */,E.either(K,V),/ *#/)},{begin:E.concat(/# */,X,/ *#/)},{begin:E.concat(/# */,Z,/ *#/)},{begin:E.concat(/# */,E.either(K,V),/ +/,E.either(Z,X),/ *#/)}]},pe={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},Se={className:"label",begin:/^\w+:/},Re=f.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),$e=f.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[x,P,he,pe,Se,Re,$e,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[$e]}]}}function Zt(f){f.regex;const E=f.COMMENT(/\(;/,/;\)/);E.contains.push("self");const x=f.COMMENT(/;;/,/$/),P=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],V={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},K={className:"variable",begin:/\$[\w_]+/},Z={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},X={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},he={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},pe={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:P},contains:[x,E,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},K,Z,V,f.QUOTE_STRING_MODE,he,pe,X]}}function qt(f){const E=f.regex,x=E.concat(/[\p{L}_]/u,E.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),P=/[\p{L}0-9._:-]+/u,V={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},K={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},Z=f.inherit(K,{begin:/\(/,end:/\)/}),X=f.inherit(f.APOS_STRING_MODE,{className:"string"}),he=f.inherit(f.QUOTE_STRING_MODE,{className:"string"}),pe={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:P,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[V]},{begin:/'/,end:/'/,contains:[V]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[K,he,X,Z,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[K,Z,he,X]}]}]},f.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},V,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[he]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[pe],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[pe],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:E.concat(/</,E.lookahead(E.concat(x,E.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:x,relevance:0,starts:pe}]},{className:"tag",begin:E.concat(/<\//,E.lookahead(E.concat(x,/>/))),contains:[{className:"name",begin:x,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function On(f){const E="true false yes no null",x="[\\w#;/?:@&=+$,.~*'()[\\]]+",P={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},V={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},K={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[f.BACKSLASH_ESCAPE,V]},Z=f.inherit(K,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),X="[0-9]{4}(-[0-9][0-9]){0,2}",he="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",pe="(\\.[0-9]*)?",Se="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",Re={className:"number",begin:"\\b"+X+he+pe+Se+"\\b"},$e={end:",",endsWithParent:!0,excludeEnd:!0,keywords:E,relevance:0},et={begin:/\{/,end:/\}/,contains:[$e],illegal:"\\n",relevance:0},ht={begin:"\\[",end:"\\]",contains:[$e],illegal:"\\n",relevance:0},wt=[P,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+x},{className:"type",begin:"!<"+x+">"},{className:"type",begin:"!"+x},{className:"type",begin:"!!"+x},{className:"meta",begin:"&"+f.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+f.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},f.HASH_COMMENT_MODE,{beginKeywords:E,keywords:{literal:E}},Re,{className:"number",begin:f.C_NUMBER_RE+"\\b",relevance:0},et,ht,K],rt=[...wt];return rt.pop(),rt.push(Z),$e.contains=rt,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:wt}}var Wt=ge(71070),an=Wt,Un=ge(90993);const Gn=Object.assign(xn(Error),{eval:xn(EvalError),range:xn(RangeError),reference:xn(ReferenceError),syntax:xn(SyntaxError),type:xn(TypeError),uri:xn(URIError)});function xn(f){return E.displayName=f.displayName||f.name,E;function E(x,...P){const V=x&&Un(x,...P);return new f(V)}}const $n={}.hasOwnProperty,or="hljs-";function ir(f,E,x={}){let P=x.prefix;if(typeof f!="string")throw Gn("Expected `string` for name, got `%s`",f);if(!an.getLanguage(f))throw Gn("Unknown language: `%s` is not registered",f);if(typeof E!="string")throw Gn("Expected `string` for value, got `%s`",E);P==null&&(P=or),an.configure({__emitter:M,classPrefix:P});const V=an.highlight(E,{language:f,ignoreIllegals:!0});if(an.configure({}),V.errorRaised)throw V.errorRaised;return V._emitter.root.data.language=V.language,V._emitter.root.data.relevance=V.relevance,V._emitter.root}function m(f,E={}){const x=E.subset||an.listLanguages();let P=E.prefix,V=-1,K={type:"root",data:{language:null,relevance:0},children:[]};if(P==null&&(P=or),typeof f!="string")throw Gn("Expected `string` for value, got `%s`",f);for(;++V<x.length;){const Z=x[V];if(!an.getLanguage(Z))continue;const X=ir(Z,f,E);X.data.relevance>K.data.relevance&&(K=X)}return K}function d(f,E){an.registerLanguage(f,E)}const b=function(f,E){if(typeof f=="string")an.registerAliases(E,{languageName:f});else{let x;for(x in f)$n.call(f,x)&&an.registerAliases(f[x],{languageName:x})}};function h(f){return Boolean(an.getLanguage(f))}function w(){return an.listLanguages()}class M{constructor(E){this.options=E,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(E){if(E==="")return;const x=this.stack[this.stack.length-1],P=x.children[x.children.length-1];P&&P.type==="text"?P.value+=E:x.children.push({type:"text",value:E})}addKeyword(E,x){this.openNode(x),this.addText(E),this.closeNode()}addSublanguage(E,x){const P=this.stack[this.stack.length-1],V=E.root.children;x?P.children.push({type:"element",tagName:"span",properties:{className:[x]},children:V}):P.children.push(...V)}openNode(E){const x=E.split(".").map((K,Z)=>Z?K+"_".repeat(Z):this.options.classPrefix+K),P=this.stack[this.stack.length-1],V={type:"element",tagName:"span",properties:{className:x},children:[]};P.children.push(V),this.stack.push(V)}closeNode(){this.stack.pop()}closeAllNodes(){}finalize(){}toHTML(){return""}}const R={highlight:ir,highlightAuto:m,registerLanguage:d,registered:h,listLanguages:w,registerAlias:b};R.registerLanguage("arduino",Ne),R.registerLanguage("bash",Ee),R.registerLanguage("c",de),R.registerLanguage("cpp",le),R.registerLanguage("csharp",qe),R.registerLanguage("css",dt),R.registerLanguage("diff",st),R.registerLanguage("go",Ue),R.registerLanguage("graphql",ut),R.registerLanguage("ini",Pe),R.registerLanguage("java",Ht),R.registerLanguage("javascript",J),R.registerLanguage("json",te),R.registerLanguage("kotlin",Ft),R.registerLanguage("less",vn),R.registerLanguage("lua",bn),R.registerLanguage("makefile",mn),R.registerLanguage("markdown",qn),R.registerLanguage("objectivec",In),R.registerLanguage("perl",wn),R.registerLanguage("php",cn),R.registerLanguage("php-template",Pn),R.registerLanguage("plaintext",Sn),R.registerLanguage("python",Bn),R.registerLanguage("python-repl",Tn),R.registerLanguage("r",Xn),R.registerLanguage("ruby",tr),R.registerLanguage("rust",_n),R.registerLanguage("scss",v),R.registerLanguage("shell",_),R.registerLanguage("sql",T),R.registerLanguage("swift",_t),R.registerLanguage("typescript",_e),R.registerLanguage("vbnet",kt),R.registerLanguage("wasm",Zt),R.registerLanguage("xml",qt),R.registerLanguage("yaml",On)},27781:function(En,Ot,ge){"use strict";ge.d(Ot,{$:function(){return st},h:function(){return dt}});for(var A={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ne={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ee=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),de=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),le=0;le<10;le++)A[48+le]=A[96+le]=String(le);for(var le=1;le<=24;le++)A[le+111]="F"+le;for(var le=65;le<=90;le++)A[le]=String.fromCharCode(le+32),Ne[le]=String.fromCharCode(le);for(var qe in A)Ne.hasOwnProperty(qe)||(Ne[qe]=A[qe]);function je(Ue){var ut=Ee&&Ue.metaKey&&Ue.shiftKey&&!Ue.ctrlKey&&!Ue.altKey||de&&Ue.shiftKey&&Ue.key&&Ue.key.length==1||Ue.key=="Unidentified",Pe=!ut&&Ue.key||(Ue.shiftKey?Ne:A)[Ue.keyCode]||Ue.key||"Unidentified";return Pe=="Esc"&&(Pe="Escape"),Pe=="Del"&&(Pe="Delete"),Pe=="Left"&&(Pe="ArrowLeft"),Pe=="Up"&&(Pe="ArrowUp"),Pe=="Right"&&(Pe="ArrowRight"),Pe=="Down"&&(Pe="ArrowDown"),Pe}var me=ge(66961);const Fe=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function He(Ue){let ut=Ue.split(/-(?!$)/),Pe=ut[ut.length-1];Pe=="Space"&&(Pe=" ");let Ye,We,Rt,Bt;for(let ve=0;ve<ut.length-1;ve++){let Ht=ut[ve];if(/^(cmd|meta|m)$/i.test(Ht))Bt=!0;else if(/^a(lt)?$/i.test(Ht))Ye=!0;else if(/^(c|ctrl|control)$/i.test(Ht))We=!0;else if(/^s(hift)?$/i.test(Ht))Rt=!0;else if(/^mod$/i.test(Ht))Fe?Bt=!0:We=!0;else throw new Error("Unrecognized modifier name: "+Ht)}return Ye&&(Pe="Alt-"+Pe),We&&(Pe="Ctrl-"+Pe),Bt&&(Pe="Meta-"+Pe),Rt&&(Pe="Shift-"+Pe),Pe}function Xe(Ue){let ut=Object.create(null);for(let Pe in Ue)ut[He(Pe)]=Ue[Pe];return ut}function at(Ue,ut,Pe=!0){return ut.altKey&&(Ue="Alt-"+Ue),ut.ctrlKey&&(Ue="Ctrl-"+Ue),ut.metaKey&&(Ue="Meta-"+Ue),Pe&&ut.shiftKey&&(Ue="Shift-"+Ue),Ue}function dt(Ue){return new me.Sy({props:{handleKeyDown:st(Ue)}})}function st(Ue){let ut=Xe(Ue);return function(Pe,Ye){let We=je(Ye),Rt,Bt=ut[at(We,Ye)];if(Bt&&Bt(Pe.state,Pe.dispatch,Pe))return!0;if(We.length==1&&We!=" "){if(Ye.shiftKey){let ve=ut[at(We,Ye,!1)];if(ve&&ve(Pe.state,Pe.dispatch,Pe))return!0}if((Ye.shiftKey||Ye.altKey||Ye.metaKey||We.charCodeAt(0)>127)&&(Rt=A[Ye.keyCode])&&Rt!=We){let ve=ut[at(Rt,Ye)];if(ve&&ve(Pe.state,Pe.dispatch,Pe))return!0}}return!1}}},60052:function(En,Ot,ge){"use strict";ge.d(Ot,{aw:function(){return Bn},PW:function(){return Q},HY:function(){return le},vc:function(){return Fe},ZU:function(){return cn},NB:function(){return Ce},Ts:function(){return Be},e4:function(){return He},V_:function(){return Pn},p2:function(){return Xe}});function A(I){this.content=I}A.prototype={constructor:A,find:function(I){for(var o=0;o<this.content.length;o+=2)if(this.content[o]===I)return o;return-1},get:function(I){var o=this.find(I);return o==-1?void 0:this.content[o+1]},update:function(I,o,c){var y=c&&c!=I?this.remove(c):this,S=y.find(I),O=y.content.slice();return S==-1?O.push(c||I,o):(O[S+1]=o,c&&(O[S]=c)),new A(O)},remove:function(I){var o=this.find(I);if(o==-1)return this;var c=this.content.slice();return c.splice(o,2),new A(c)},addToStart:function(I,o){return new A([I,o].concat(this.remove(I).content))},addToEnd:function(I,o){var c=this.remove(I).content.slice();return c.push(I,o),new A(c)},addBefore:function(I,o,c){var y=this.remove(o),S=y.content.slice(),O=y.find(I);return S.splice(O==-1?S.length:O,0,o,c),new A(S)},forEach:function(I){for(var o=0;o<this.content.length;o+=2)I(this.content[o],this.content[o+1])},prepend:function(I){return I=A.from(I),I.size?new A(I.content.concat(this.subtract(I).content)):this},append:function(I){return I=A.from(I),I.size?new A(this.subtract(I).content.concat(I.content)):this},subtract:function(I){var o=this;I=A.from(I);for(var c=0;c<I.content.length;c+=2)o=o.remove(I.content[c]);return o},toObject:function(){var I={};return this.forEach(function(o,c){I[o]=c}),I},get size(){return this.content.length>>1}},A.from=function(I){if(I instanceof A)return I;var o=[];if(I)for(var c in I)o.push(c,I[c]);return new A(o)};var Ne=A;function Ee(I,o,c){for(let y=0;;y++){if(y==I.childCount||y==o.childCount)return I.childCount==o.childCount?null:c;let S=I.child(y),O=o.child(y);if(S==O){c+=S.nodeSize;continue}if(!S.sameMarkup(O))return c;if(S.isText&&S.text!=O.text){for(let z=0;S.text[z]==O.text[z];z++)c++;return c}if(S.content.size||O.content.size){let z=Ee(S.content,O.content,c+1);if(z!=null)return z}c+=S.nodeSize}}function de(I,o,c,y){for(let S=I.childCount,O=o.childCount;;){if(S==0||O==0)return S==O?null:{a:c,b:y};let z=I.child(--S),j=o.child(--O),ce=z.nodeSize;if(z==j){c-=ce,y-=ce;continue}if(!z.sameMarkup(j))return{a:c,b:y};if(z.isText&&z.text!=j.text){let tt=0,L=Math.min(z.text.length,j.text.length);for(;tt<L&&z.text[z.text.length-tt-1]==j.text[j.text.length-tt-1];)tt++,c--,y--;return{a:c,b:y}}if(z.content.size||j.content.size){let tt=de(z.content,j.content,c-1,y-1);if(tt)return tt}c-=ce,y-=ce}}class le{constructor(o,c){if(this.content=o,this.size=c||0,c==null)for(let y=0;y<o.length;y++)this.size+=o[y].nodeSize}nodesBetween(o,c,y,S=0,O){for(let z=0,j=0;j<c;z++){let ce=this.content[z],tt=j+ce.nodeSize;if(tt>o&&y(ce,S+j,O||null,z)!==!1&&ce.content.size){let L=j+1;ce.nodesBetween(Math.max(0,o-L),Math.min(ce.content.size,c-L),y,S+L)}j=tt}}descendants(o){this.nodesBetween(0,this.size,o)}textBetween(o,c,y,S){let O="",z=!0;return this.nodesBetween(o,c,(j,ce)=>{j.isText?(O+=j.text.slice(Math.max(o,ce)-ce,c-ce),z=!y):j.isLeaf?(S?O+=typeof S=="function"?S(j):S:j.type.spec.leafText&&(O+=j.type.spec.leafText(j)),z=!y):!z&&j.isBlock&&(O+=y,z=!0)},0),O}append(o){if(!o.size)return this;if(!this.size)return o;let c=this.lastChild,y=o.firstChild,S=this.content.slice(),O=0;for(c.isText&&c.sameMarkup(y)&&(S[S.length-1]=c.withText(c.text+y.text),O=1);O<o.content.length;O++)S.push(o.content[O]);return new le(S,this.size+o.size)}cut(o,c=this.size){if(o==0&&c==this.size)return this;let y=[],S=0;if(c>o)for(let O=0,z=0;z<c;O++){let j=this.content[O],ce=z+j.nodeSize;ce>o&&((z<o||ce>c)&&(j.isText?j=j.cut(Math.max(0,o-z),Math.min(j.text.length,c-z)):j=j.cut(Math.max(0,o-z-1),Math.min(j.content.size,c-z-1))),y.push(j),S+=j.nodeSize),z=ce}return new le(y,S)}cutByIndex(o,c){return o==c?le.empty:o==0&&c==this.content.length?this:new le(this.content.slice(o,c))}replaceChild(o,c){let y=this.content[o];if(y==c)return this;let S=this.content.slice(),O=this.size+c.nodeSize-y.nodeSize;return S[o]=c,new le(S,O)}addToStart(o){return new le([o].concat(this.content),this.size+o.nodeSize)}addToEnd(o){return new le(this.content.concat(o),this.size+o.nodeSize)}eq(o){if(this.content.length!=o.content.length)return!1;for(let c=0;c<this.content.length;c++)if(!this.content[c].eq(o.content[c]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(o){let c=this.content[o];if(!c)throw new RangeError("Index "+o+" out of range for "+this);return c}maybeChild(o){return this.content[o]||null}forEach(o){for(let c=0,y=0;c<this.content.length;c++){let S=this.content[c];o(S,y,c),y+=S.nodeSize}}findDiffStart(o,c=0){return Ee(this,o,c)}findDiffEnd(o,c=this.size,y=o.size){return de(this,o,c,y)}findIndex(o,c=-1){if(o==0)return je(0,o);if(o==this.size)return je(this.content.length,o);if(o>this.size||o<0)throw new RangeError(`Position ${o} outside of fragment (${this})`);for(let y=0,S=0;;y++){let O=this.child(y),z=S+O.nodeSize;if(z>=o)return z==o||c>0?je(y+1,z):je(y,S);S=z}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(o=>o.toJSON()):null}static fromJSON(o,c){if(!c)return le.empty;if(!Array.isArray(c))throw new RangeError("Invalid input for Fragment.fromJSON");return new le(c.map(o.nodeFromJSON))}static fromArray(o){if(!o.length)return le.empty;let c,y=0;for(let S=0;S<o.length;S++){let O=o[S];y+=O.nodeSize,S&&O.isText&&o[S-1].sameMarkup(O)?(c||(c=o.slice(0,S)),c[c.length-1]=O.withText(c[c.length-1].text+O.text)):c&&c.push(O)}return new le(c||o,y)}static from(o){if(!o)return le.empty;if(o instanceof le)return o;if(Array.isArray(o))return this.fromArray(o);if(o.attrs)return new le([o],o.nodeSize);throw new RangeError("Can not convert "+o+" to a Fragment"+(o.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}le.empty=new le([],0);const qe={index:0,offset:0};function je(I,o){return qe.index=I,qe.offset=o,qe}function me(I,o){if(I===o)return!0;if(!(I&&typeof I=="object")||!(o&&typeof o=="object"))return!1;let c=Array.isArray(I);if(Array.isArray(o)!=c)return!1;if(c){if(I.length!=o.length)return!1;for(let y=0;y<I.length;y++)if(!me(I[y],o[y]))return!1}else{for(let y in I)if(!(y in o)||!me(I[y],o[y]))return!1;for(let y in o)if(!(y in I))return!1}return!0}class Fe{constructor(o,c){this.type=o,this.attrs=c}addToSet(o){let c,y=!1;for(let S=0;S<o.length;S++){let O=o[S];if(this.eq(O))return o;if(this.type.excludes(O.type))c||(c=o.slice(0,S));else{if(O.type.excludes(this.type))return o;!y&&O.type.rank>this.type.rank&&(c||(c=o.slice(0,S)),c.push(this),y=!0),c&&c.push(O)}}return c||(c=o.slice()),y||c.push(this),c}removeFromSet(o){for(let c=0;c<o.length;c++)if(this.eq(o[c]))return o.slice(0,c).concat(o.slice(c+1));return o}isInSet(o){for(let c=0;c<o.length;c++)if(this.eq(o[c]))return!0;return!1}eq(o){return this==o||this.type==o.type&&me(this.attrs,o.attrs)}toJSON(){let o={type:this.type.name};for(let c in this.attrs){o.attrs=this.attrs;break}return o}static fromJSON(o,c){if(!c)throw new RangeError("Invalid input for Mark.fromJSON");let y=o.marks[c.type];if(!y)throw new RangeError(`There is no mark type ${c.type} in this schema`);return y.create(c.attrs)}static sameSet(o,c){if(o==c)return!0;if(o.length!=c.length)return!1;for(let y=0;y<o.length;y++)if(!o[y].eq(c[y]))return!1;return!0}static setFrom(o){if(!o||Array.isArray(o)&&o.length==0)return Fe.none;if(o instanceof Fe)return[o];let c=o.slice();return c.sort((y,S)=>y.type.rank-S.type.rank),c}}Fe.none=[];class He extends Error{}class Xe{constructor(o,c,y){this.content=o,this.openStart=c,this.openEnd=y}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(o,c){let y=dt(this.content,o+this.openStart,c);return y&&new Xe(y,this.openStart,this.openEnd)}removeBetween(o,c){return new Xe(at(this.content,o+this.openStart,c+this.openStart),this.openStart,this.openEnd)}eq(o){return this.content.eq(o.content)&&this.openStart==o.openStart&&this.openEnd==o.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let o={content:this.content.toJSON()};return this.openStart>0&&(o.openStart=this.openStart),this.openEnd>0&&(o.openEnd=this.openEnd),o}static fromJSON(o,c){if(!c)return Xe.empty;let y=c.openStart||0,S=c.openEnd||0;if(typeof y!="number"||typeof S!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Xe(le.fromJSON(o,c.content),y,S)}static maxOpen(o,c=!0){let y=0,S=0;for(let O=o.firstChild;O&&!O.isLeaf&&(c||!O.type.spec.isolating);O=O.firstChild)y++;for(let O=o.lastChild;O&&!O.isLeaf&&(c||!O.type.spec.isolating);O=O.lastChild)S++;return new Xe(o,y,S)}}Xe.empty=new Xe(le.empty,0,0);function at(I,o,c){let{index:y,offset:S}=I.findIndex(o),O=I.maybeChild(y),{index:z,offset:j}=I.findIndex(c);if(S==o||O.isText){if(j!=c&&!I.child(z).isText)throw new RangeError("Removing non-flat range");return I.cut(0,o).append(I.cut(c))}if(y!=z)throw new RangeError("Removing non-flat range");return I.replaceChild(y,O.copy(at(O.content,o-S-1,c-S-1)))}function dt(I,o,c,y){let{index:S,offset:O}=I.findIndex(o),z=I.maybeChild(S);if(O==o||z.isText)return y&&!y.canReplace(S,S,c)?null:I.cut(0,o).append(c).append(I.cut(o));let j=dt(z.content,o-O-1,c);return j&&I.replaceChild(S,z.copy(j))}function st(I,o,c){if(c.openStart>I.depth)throw new He("Inserted content deeper than insertion position");if(I.depth-c.openStart!=o.depth-c.openEnd)throw new He("Inconsistent open depths");return Ue(I,o,c,0)}function Ue(I,o,c,y){let S=I.index(y),O=I.node(y);if(S==o.index(y)&&y<I.depth-c.openStart){let z=Ue(I,o,c,y+1);return O.copy(O.content.replaceChild(S,z))}else if(c.content.size)if(!c.openStart&&!c.openEnd&&I.depth==y&&o.depth==y){let z=I.parent,j=z.content;return Rt(z,j.cut(0,I.parentOffset).append(c.content).append(j.cut(o.parentOffset)))}else{let{start:z,end:j}=Ht(c,I);return Rt(O,Bt(I,z,j,o,y))}else return Rt(O,ve(I,o,y))}function ut(I,o){if(!o.type.compatibleContent(I.type))throw new He("Cannot join "+o.type.name+" onto "+I.type.name)}function Pe(I,o,c){let y=I.node(c);return ut(y,o.node(c)),y}function Ye(I,o){let c=o.length-1;c>=0&&I.isText&&I.sameMarkup(o[c])?o[c]=I.withText(o[c].text+I.text):o.push(I)}function We(I,o,c,y){let S=(o||I).node(c),O=0,z=o?o.index(c):S.childCount;I&&(O=I.index(c),I.depth>c?O++:I.textOffset&&(Ye(I.nodeAfter,y),O++));for(let j=O;j<z;j++)Ye(S.child(j),y);o&&o.depth==c&&o.textOffset&&Ye(o.nodeBefore,y)}function Rt(I,o){return I.type.checkContent(o),I.copy(o)}function Bt(I,o,c,y,S){let O=I.depth>S&&Pe(I,o,S+1),z=y.depth>S&&Pe(c,y,S+1),j=[];return We(null,I,S,j),O&&z&&o.index(S)==c.index(S)?(ut(O,z),Ye(Rt(O,Bt(I,o,c,y,S+1)),j)):(O&&Ye(Rt(O,ve(I,o,S+1)),j),We(o,c,S,j),z&&Ye(Rt(z,ve(c,y,S+1)),j)),We(y,null,S,j),new le(j)}function ve(I,o,c){let y=[];if(We(null,I,c,y),I.depth>c){let S=Pe(I,o,c+1);Ye(Rt(S,ve(I,o,c+1)),y)}return We(o,null,c,y),new le(y)}function Ht(I,o){let c=o.depth-I.openStart,S=o.node(c).copy(I.content);for(let O=c-1;O>=0;O--)S=o.node(O).copy(le.from(S));return{start:S.resolveNoCache(I.openStart+c),end:S.resolveNoCache(S.content.size-I.openEnd-c)}}class St{constructor(o,c,y){this.pos=o,this.path=c,this.parentOffset=y,this.depth=c.length/3-1}resolveDepth(o){return o==null?this.depth:o<0?this.depth+o:o}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(o){return this.path[this.resolveDepth(o)*3]}index(o){return this.path[this.resolveDepth(o)*3+1]}indexAfter(o){return o=this.resolveDepth(o),this.index(o)+(o==this.depth&&!this.textOffset?0:1)}start(o){return o=this.resolveDepth(o),o==0?0:this.path[o*3-1]+1}end(o){return o=this.resolveDepth(o),this.start(o)+this.node(o).content.size}before(o){if(o=this.resolveDepth(o),!o)throw new RangeError("There is no position before the top-level node");return o==this.depth+1?this.pos:this.path[o*3-1]}after(o){if(o=this.resolveDepth(o),!o)throw new RangeError("There is no position after the top-level node");return o==this.depth+1?this.pos:this.path[o*3-1]+this.path[o*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let o=this.parent,c=this.index(this.depth);if(c==o.childCount)return null;let y=this.pos-this.path[this.path.length-1],S=o.child(c);return y?o.child(c).cut(y):S}get nodeBefore(){let o=this.index(this.depth),c=this.pos-this.path[this.path.length-1];return c?this.parent.child(o).cut(0,c):o==0?null:this.parent.child(o-1)}posAtIndex(o,c){c=this.resolveDepth(c);let y=this.path[c*3],S=c==0?0:this.path[c*3-1]+1;for(let O=0;O<o;O++)S+=y.child(O).nodeSize;return S}marks(){let o=this.parent,c=this.index();if(o.content.size==0)return Fe.none;if(this.textOffset)return o.child(c).marks;let y=o.maybeChild(c-1),S=o.maybeChild(c);if(!y){let j=y;y=S,S=j}let O=y.marks;for(var z=0;z<O.length;z++)O[z].type.spec.inclusive===!1&&(!S||!O[z].isInSet(S.marks))&&(O=O[z--].removeFromSet(O));return O}marksAcross(o){let c=this.parent.maybeChild(this.index());if(!c||!c.isInline)return null;let y=c.marks,S=o.parent.maybeChild(o.index());for(var O=0;O<y.length;O++)y[O].type.spec.inclusive===!1&&(!S||!y[O].isInSet(S.marks))&&(y=y[O--].removeFromSet(y));return y}sharedDepth(o){for(let c=this.depth;c>0;c--)if(this.start(c)<=o&&this.end(c)>=o)return c;return 0}blockRange(o=this,c){if(o.pos<this.pos)return o.blockRange(this);for(let y=this.depth-(this.parent.inlineContent||this.pos==o.pos?1:0);y>=0;y--)if(o.pos<=this.end(y)&&(!c||c(this.node(y))))return new Be(this,o,y);return null}sameParent(o){return this.pos-this.parentOffset==o.pos-o.parentOffset}max(o){return o.pos>this.pos?o:this}min(o){return o.pos<this.pos?o:this}toString(){let o="";for(let c=1;c<=this.depth;c++)o+=(o?"/":"")+this.node(c).type.name+"_"+this.index(c-1);return o+":"+this.parentOffset}static resolve(o,c){if(!(c>=0&&c<=o.content.size))throw new RangeError("Position "+c+" out of range");let y=[],S=0,O=c;for(let z=o;;){let{index:j,offset:ce}=z.content.findIndex(O),tt=O-ce;if(y.push(z,j,S+ce),!tt||(z=z.child(j),z.isText))break;O=tt-1,S+=ce+1}return new St(c,y,O)}static resolveCached(o,c){for(let S=0;S<on.length;S++){let O=on[S];if(O.pos==c&&O.doc==o)return O}let y=on[Ge]=St.resolve(o,c);return Ge=(Ge+1)%Ke,y}}let on=[],Ge=0,Ke=12;class Be{constructor(o,c,y){this.$from=o,this.$to=c,this.depth=y}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const gt=Object.create(null);class Ce{constructor(o,c,y,S=Fe.none){this.type=o,this.attrs=c,this.marks=S,this.content=y||le.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(o){return this.content.child(o)}maybeChild(o){return this.content.maybeChild(o)}forEach(o){this.content.forEach(o)}nodesBetween(o,c,y,S=0){this.content.nodesBetween(o,c,y,S,this)}descendants(o){this.nodesBetween(0,this.content.size,o)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(o,c,y,S){return this.content.textBetween(o,c,y,S)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(o){return this==o||this.sameMarkup(o)&&this.content.eq(o.content)}sameMarkup(o){return this.hasMarkup(o.type,o.attrs,o.marks)}hasMarkup(o,c,y){return this.type==o&&me(this.attrs,c||o.defaultAttrs||gt)&&Fe.sameSet(this.marks,y||Fe.none)}copy(o=null){return o==this.content?this:new Ce(this.type,this.attrs,o,this.marks)}mark(o){return o==this.marks?this:new Ce(this.type,this.attrs,this.content,o)}cut(o,c=this.content.size){return o==0&&c==this.content.size?this:this.copy(this.content.cut(o,c))}slice(o,c=this.content.size,y=!1){if(o==c)return Xe.empty;let S=this.resolve(o),O=this.resolve(c),z=y?0:S.sharedDepth(c),j=S.start(z),tt=S.node(z).content.cut(S.pos-j,O.pos-j);return new Xe(tt,S.depth-z,O.depth-z)}replace(o,c,y){return st(this.resolve(o),this.resolve(c),y)}nodeAt(o){for(let c=this;;){let{index:y,offset:S}=c.content.findIndex(o);if(c=c.maybeChild(y),!c)return null;if(S==o||c.isText)return c;o-=S+1}}childAfter(o){let{index:c,offset:y}=this.content.findIndex(o);return{node:this.content.maybeChild(c),index:c,offset:y}}childBefore(o){if(o==0)return{node:null,index:0,offset:0};let{index:c,offset:y}=this.content.findIndex(o);if(y<o)return{node:this.content.child(c),index:c,offset:y};let S=this.content.child(c-1);return{node:S,index:c-1,offset:y-S.nodeSize}}resolve(o){return St.resolveCached(this,o)}resolveNoCache(o){return St.resolve(this,o)}rangeHasMark(o,c,y){let S=!1;return c>o&&this.nodesBetween(o,c,O=>(y.isInSet(O.marks)&&(S=!0),!S)),S}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let o=this.type.name;return this.content.size&&(o+="("+this.content.toStringInner()+")"),J(this.marks,o)}contentMatchAt(o){let c=this.type.contentMatch.matchFragment(this.content,0,o);if(!c)throw new Error("Called contentMatchAt on a node with invalid content");return c}canReplace(o,c,y=le.empty,S=0,O=y.childCount){let z=this.contentMatchAt(o).matchFragment(y,S,O),j=z&&z.matchFragment(this.content,c);if(!j||!j.validEnd)return!1;for(let ce=S;ce<O;ce++)if(!this.type.allowsMarks(y.child(ce).marks))return!1;return!0}canReplaceWith(o,c,y,S){if(S&&!this.type.allowsMarks(S))return!1;let O=this.contentMatchAt(o).matchType(y),z=O&&O.matchFragment(this.content,c);return z?z.validEnd:!1}canAppend(o){return o.content.size?this.canReplace(this.childCount,this.childCount,o.content):this.type.compatibleContent(o.type)}check(){this.type.checkContent(this.content);let o=Fe.none;for(let c=0;c<this.marks.length;c++)o=this.marks[c].addToSet(o);if(!Fe.sameSet(o,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(c=>c.type.name)}`);this.content.forEach(c=>c.check())}toJSON(){let o={type:this.type.name};for(let c in this.attrs){o.attrs=this.attrs;break}return this.content.size&&(o.content=this.content.toJSON()),this.marks.length&&(o.marks=this.marks.map(c=>c.toJSON())),o}static fromJSON(o,c){if(!c)throw new RangeError("Invalid input for Node.fromJSON");let y=null;if(c.marks){if(!Array.isArray(c.marks))throw new RangeError("Invalid mark data for Node.fromJSON");y=c.marks.map(o.markFromJSON)}if(c.type=="text"){if(typeof c.text!="string")throw new RangeError("Invalid text node in JSON");return o.text(c.text,y)}let S=le.fromJSON(o,c.content);return o.nodeType(c.type).create(c.attrs,S,y)}}Ce.prototype.text=void 0;class U extends Ce{constructor(o,c,y,S){super(o,c,null,S);if(!y)throw new RangeError("Empty text nodes are not allowed");this.text=y}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):J(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(o,c){return this.text.slice(o,c)}get nodeSize(){return this.text.length}mark(o){return o==this.marks?this:new U(this.type,this.attrs,this.text,o)}withText(o){return o==this.text?this:new U(this.type,this.attrs,o,this.marks)}cut(o=0,c=this.text.length){return o==0&&c==this.text.length?this:this.withText(this.text.slice(o,c))}eq(o){return this.sameMarkup(o)&&this.text==o.text}toJSON(){let o=super.toJSON();return o.text=this.text,o}}function J(I,o){for(let c=I.length-1;c>=0;c--)o=I[c].type.name+"("+o+")";return o}class te{constructor(o){this.validEnd=o,this.next=[],this.wrapCache=[]}static parse(o,c){let y=new ke(o,c);if(y.next==null)return te.empty;let S=ze(y);y.next&&y.err("Unexpected trailing text");let O=rn(zn(S));return vn(O,y),O}matchType(o){for(let c=0;c<this.next.length;c++)if(this.next[c].type==o)return this.next[c].next;return null}matchFragment(o,c=0,y=o.childCount){let S=this;for(let O=c;S&&O<y;O++)S=S.matchType(o.child(O).type);return S}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let o=0;o<this.next.length;o++){let{type:c}=this.next[o];if(!(c.isText||c.hasRequiredAttrs()))return c}return null}compatible(o){for(let c=0;c<this.next.length;c++)for(let y=0;y<o.next.length;y++)if(this.next[c].type==o.next[y].type)return!0;return!1}fillBefore(o,c=!1,y=0){let S=[this];function O(z,j){let ce=z.matchFragment(o,y);if(ce&&(!c||ce.validEnd))return le.from(j.map(tt=>tt.createAndFill()));for(let tt=0;tt<z.next.length;tt++){let{type:L,next:F}=z.next[tt];if(!(L.isText||L.hasRequiredAttrs())&&S.indexOf(F)==-1){S.push(F);let q=O(F,j.concat(L));if(q)return q}}return null}return O(this,[])}findWrapping(o){for(let y=0;y<this.wrapCache.length;y+=2)if(this.wrapCache[y]==o)return this.wrapCache[y+1];let c=this.computeWrapping(o);return this.wrapCache.push(o,c),c}computeWrapping(o){let c=Object.create(null),y=[{match:this,type:null,via:null}];for(;y.length;){let S=y.shift(),O=S.match;if(O.matchType(o)){let z=[];for(let j=S;j.type;j=j.via)z.push(j.type);return z.reverse()}for(let z=0;z<O.next.length;z++){let{type:j,next:ce}=O.next[z];!j.isLeaf&&!j.hasRequiredAttrs()&&!(j.name in c)&&(!S.type||ce.validEnd)&&(y.push({match:j.contentMatch,type:j,via:S}),c[j.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(o){if(o>=this.next.length)throw new RangeError(`There's no ${o}th edge in this content match`);return this.next[o]}toString(){let o=[];function c(y){o.push(y);for(let S=0;S<y.next.length;S++)o.indexOf(y.next[S].next)==-1&&c(y.next[S].next)}return c(this),o.map((y,S)=>{let O=S+(y.validEnd?"*":" ")+" ";for(let z=0;z<y.next.length;z++)O+=(z?", ":"")+y.next[z].type.name+"->"+o.indexOf(y.next[z].next);return O}).join(`
`)}}te.empty=new te(!0);class ke{constructor(o,c){this.string=o,this.nodeTypes=c,this.inline=null,this.pos=0,this.tokens=o.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(o){return this.next==o&&(this.pos++||!0)}err(o){throw new SyntaxError(o+" (in content expression '"+this.string+"')")}}function ze(I){let o=[];do o.push(it(I));while(I.eat("|"));return o.length==1?o[0]:{type:"choice",exprs:o}}function it(I){let o=[];do o.push(Lt(I));while(I.next&&I.next!=")"&&I.next!="|");return o.length==1?o[0]:{type:"seq",exprs:o}}function Lt(I){let o=Cn(I);for(;;)if(I.eat("+"))o={type:"plus",expr:o};else if(I.eat("*"))o={type:"star",expr:o};else if(I.eat("?"))o={type:"opt",expr:o};else if(I.eat("{"))o=Dt(I,o);else break;return o}function Ft(I){/\D/.test(I.next)&&I.err("Expected number, got '"+I.next+"'");let o=Number(I.next);return I.pos++,o}function Dt(I,o){let c=Ft(I),y=c;return I.eat(",")&&(I.next!="}"?y=Ft(I):y=-1),I.eat("}")||I.err("Unclosed braced range"),{type:"range",min:c,max:y,expr:o}}function xt(I,o){let c=I.nodeTypes,y=c[o];if(y)return[y];let S=[];for(let O in c){let z=c[O];z.groups.indexOf(o)>-1&&S.push(z)}return S.length==0&&I.err("No node type or group '"+o+"' found"),S}function Cn(I){if(I.eat("(")){let o=ze(I);return I.eat(")")||I.err("Missing closing paren"),o}else if(/\W/.test(I.next))I.err("Unexpected token '"+I.next+"'");else{let o=xt(I,I.next).map(c=>(I.inline==null?I.inline=c.isInline:I.inline!=c.isInline&&I.err("Mixing inline and block content"),{type:"name",value:c}));return I.pos++,o.length==1?o[0]:{type:"choice",exprs:o}}}function zn(I){let o=[[]];return S(O(I,0),c()),o;function c(){return o.push([])-1}function y(z,j,ce){let tt={term:ce,to:j};return o[z].push(tt),tt}function S(z,j){z.forEach(ce=>ce.to=j)}function O(z,j){if(z.type=="choice")return z.exprs.reduce((ce,tt)=>ce.concat(O(tt,j)),[]);if(z.type=="seq")for(let ce=0;;ce++){let tt=O(z.exprs[ce],j);if(ce==z.exprs.length-1)return tt;S(tt,j=c())}else if(z.type=="star"){let ce=c();return y(j,ce),S(O(z.expr,ce),ce),[y(ce)]}else if(z.type=="plus"){let ce=c();return S(O(z.expr,j),ce),S(O(z.expr,ce),ce),[y(ce)]}else{if(z.type=="opt")return[y(j)].concat(O(z.expr,j));if(z.type=="range"){let ce=j;for(let tt=0;tt<z.min;tt++){let L=c();S(O(z.expr,ce),L),ce=L}if(z.max==-1)S(O(z.expr,ce),ce);else for(let tt=z.min;tt<z.max;tt++){let L=c();y(ce,L),S(O(z.expr,ce),L),ce=L}return[y(ce)]}else{if(z.type=="name")return[y(j,void 0,z.value)];throw new Error("Unknown expr type")}}}}function Rn(I,o){return o-I}function Mn(I,o){let c=[];return y(o),c.sort(Rn);function y(S){let O=I[S];if(O.length==1&&!O[0].term)return y(O[0].to);c.push(S);for(let z=0;z<O.length;z++){let{term:j,to:ce}=O[z];!j&&c.indexOf(ce)==-1&&y(ce)}}}function rn(I){let o=Object.create(null);return c(Mn(I,0));function c(y){let S=[];y.forEach(z=>{I[z].forEach(({term:j,to:ce})=>{if(!j)return;let tt;for(let L=0;L<S.length;L++)S[L][0]==j&&(tt=S[L][1]);Mn(I,ce).forEach(L=>{tt||S.push([j,tt=[]]),tt.indexOf(L)==-1&&tt.push(L)})})});let O=o[y.join(",")]=new te(y.indexOf(I.length-1)>-1);for(let z=0;z<S.length;z++){let j=S[z][1].sort(Rn);O.next.push({type:S[z][0],next:o[j.join(",")]||c(j)})}return O}}function vn(I,o){for(let c=0,y=[I];c<y.length;c++){let S=y[c],O=!S.validEnd,z=[];for(let j=0;j<S.next.length;j++){let{type:ce,next:tt}=S.next[j];z.push(ce.name),O&&!(ce.isText||ce.hasRequiredAttrs())&&(O=!1),y.indexOf(tt)==-1&&y.push(tt)}O&&o.err("Only non-generatable nodes ("+z.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bn(I){let o=Object.create(null);for(let c in I){let y=I[c];if(!y.hasDefault)return null;o[c]=y.default}return o}function mn(I,o){let c=Object.create(null);for(let y in I){let S=o&&o[y];if(S===void 0){let O=I[y];if(O.hasDefault)S=O.default;else throw new RangeError("No value supplied for attribute "+y)}c[y]=S}return c}function qn(I){let o=Object.create(null);if(I)for(let c in I)o[c]=new wn(I[c]);return o}class In{constructor(o,c,y){this.name=o,this.schema=c,this.spec=y,this.markSet=null,this.groups=y.group?y.group.split(" "):[],this.attrs=qn(y.attrs),this.defaultAttrs=bn(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(y.inline||o=="text"),this.isText=o=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==te.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let o in this.attrs)if(this.attrs[o].isRequired)return!0;return!1}compatibleContent(o){return this==o||this.contentMatch.compatible(o.contentMatch)}computeAttrs(o){return!o&&this.defaultAttrs?this.defaultAttrs:mn(this.attrs,o)}create(o=null,c,y){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ce(this,this.computeAttrs(o),le.from(c),Fe.setFrom(y))}createChecked(o=null,c,y){return c=le.from(c),this.checkContent(c),new Ce(this,this.computeAttrs(o),c,Fe.setFrom(y))}createAndFill(o=null,c,y){if(o=this.computeAttrs(o),c=le.from(c),c.size){let z=this.contentMatch.fillBefore(c);if(!z)return null;c=z.append(c)}let S=this.contentMatch.matchFragment(c),O=S&&S.fillBefore(le.empty,!0);return O?new Ce(this,o,c.append(O),Fe.setFrom(y)):null}validContent(o){let c=this.contentMatch.matchFragment(o);if(!c||!c.validEnd)return!1;for(let y=0;y<o.childCount;y++)if(!this.allowsMarks(o.child(y).marks))return!1;return!0}checkContent(o){if(!this.validContent(o))throw new RangeError(`Invalid content for node ${this.name}: ${o.toString().slice(0,50)}`)}allowsMarkType(o){return this.markSet==null||this.markSet.indexOf(o)>-1}allowsMarks(o){if(this.markSet==null)return!0;for(let c=0;c<o.length;c++)if(!this.allowsMarkType(o[c].type))return!1;return!0}allowedMarks(o){if(this.markSet==null)return o;let c;for(let y=0;y<o.length;y++)this.allowsMarkType(o[y].type)?c&&c.push(o[y]):c||(c=o.slice(0,y));return c?c.length?c:Fe.none:o}static compile(o,c){let y=Object.create(null);o.forEach((O,z)=>y[O]=new In(O,c,z));let S=c.spec.topNode||"doc";if(!y[S])throw new RangeError("Schema is missing its top node type ('"+S+"')");if(!y.text)throw new RangeError("Every schema needs a 'text' type");for(let O in y.text.attrs)throw new RangeError("The text node type should not have attributes");return y}}class wn{constructor(o){this.hasDefault=Object.prototype.hasOwnProperty.call(o,"default"),this.default=o.default}get isRequired(){return!this.hasDefault}}class cn{constructor(o,c,y,S){this.name=o,this.rank=c,this.schema=y,this.spec=S,this.attrs=qn(S.attrs),this.excluded=null;let O=bn(this.attrs);this.instance=O?new Fe(this,O):null}create(o=null){return!o&&this.instance?this.instance:new Fe(this,mn(this.attrs,o))}static compile(o,c){let y=Object.create(null),S=0;return o.forEach((O,z)=>y[O]=new cn(O,S++,c,z)),y}removeFromSet(o){for(var c=0;c<o.length;c++)o[c].type==this&&(o=o.slice(0,c).concat(o.slice(c+1)),c--);return o}isInSet(o){for(let c=0;c<o.length;c++)if(o[c].type==this)return o[c]}excludes(o){return this.excluded.indexOf(o)>-1}}class Pn{constructor(o){this.cached=Object.create(null);let c=this.spec={};for(let S in o)c[S]=o[S];c.nodes=Ne.from(o.nodes),c.marks=Ne.from(o.marks||{}),this.nodes=In.compile(this.spec.nodes,this),this.marks=cn.compile(this.spec.marks,this);let y=Object.create(null);for(let S in this.nodes){if(S in this.marks)throw new RangeError(S+" can not be both a node and a mark");let O=this.nodes[S],z=O.spec.content||"",j=O.spec.marks;O.contentMatch=y[z]||(y[z]=te.parse(z,this.nodes)),O.inlineContent=O.contentMatch.inlineContent,O.markSet=j=="_"?null:j?Sn(this,j.split(" ")):j==""||!O.inlineContent?[]:null}for(let S in this.marks){let O=this.marks[S],z=O.spec.excludes;O.excluded=z==null?[O]:z==""?[]:Sn(this,z.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(o,c=null,y,S){if(typeof o=="string")o=this.nodeType(o);else if(o instanceof In){if(o.schema!=this)throw new RangeError("Node type from different schema used ("+o.name+")")}else throw new RangeError("Invalid node type: "+o);return o.createChecked(c,y,S)}text(o,c){let y=this.nodes.text;return new U(y,y.defaultAttrs,o,Fe.setFrom(c))}mark(o,c){return typeof o=="string"&&(o=this.marks[o]),o.create(c)}nodeFromJSON(o){return Ce.fromJSON(this,o)}markFromJSON(o){return Fe.fromJSON(this,o)}nodeType(o){let c=this.nodes[o];if(!c)throw new RangeError("Unknown node type: "+o);return c}}function Sn(I,o){let c=[];for(let y=0;y<o.length;y++){let S=o[y],O=I.marks[S],z=O;if(O)c.push(O);else for(let j in I.marks){let ce=I.marks[j];(S=="_"||ce.spec.group&&ce.spec.group.split(" ").indexOf(S)>-1)&&c.push(z=ce)}if(!z)throw new SyntaxError("Unknown mark type: '"+o[y]+"'")}return c}class Bn{constructor(o,c){this.schema=o,this.rules=c,this.tags=[],this.styles=[],c.forEach(y=>{y.tag?this.tags.push(y):y.style&&this.styles.push(y)}),this.normalizeLists=!this.tags.some(y=>{if(!/^(ul|ol)\b/.test(y.tag)||!y.node)return!1;let S=o.nodes[y.node];return S.contentMatch.matchType(S)})}parse(o,c={}){let y=new Hn(this,c,!1);return y.addAll(o,c.from,c.to),y.finish()}parseSlice(o,c={}){let y=new Hn(this,c,!0);return y.addAll(o,c.from,c.to),Xe.maxOpen(y.finish())}matchTag(o,c,y){for(let S=y?this.tags.indexOf(y)+1:0;S<this.tags.length;S++){let O=this.tags[S];if(v(o,O.tag)&&(O.namespace===void 0||o.namespaceURI==O.namespace)&&(!O.context||c.matchesContext(O.context))){if(O.getAttrs){let z=O.getAttrs(o);if(z===!1)continue;O.attrs=z||void 0}return O}}}matchStyle(o,c,y,S){for(let O=S?this.styles.indexOf(S)+1:0;O<this.styles.length;O++){let z=this.styles[O],j=z.style;if(!(j.indexOf(o)!=0||z.context&&!y.matchesContext(z.context)||j.length>o.length&&(j.charCodeAt(o.length)!=61||j.slice(o.length+1)!=c))){if(z.getAttrs){let ce=z.getAttrs(c);if(ce===!1)continue;z.attrs=ce||void 0}return z}}}static schemaRules(o){let c=[];function y(S){let O=S.priority==null?50:S.priority,z=0;for(;z<c.length;z++){let j=c[z];if((j.priority==null?50:j.priority)<O)break}c.splice(z,0,S)}for(let S in o.marks){let O=o.marks[S].spec.parseDOM;O&&O.forEach(z=>{y(z=T(z)),z.mark||z.ignore||z.clearMark||(z.mark=S)})}for(let S in o.nodes){let O=o.nodes[S].spec.parseDOM;O&&O.forEach(z=>{y(z=T(z)),z.node||z.ignore||z.mark||(z.node=S)})}return c}static fromSchema(o){return o.cached.domParser||(o.cached.domParser=new Bn(o,Bn.schemaRules(o)))}}const Tn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Xn={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tr={ol:!0,ul:!0},_n=1,Jn=2,Yn=4;function Dn(I,o,c){return o!=null?(o?_n:0)|(o==="full"?Jn:0):I&&I.whitespace=="pre"?_n|Jn:c&~Yn}class Nn{constructor(o,c,y,S,O,z,j){this.type=o,this.attrs=c,this.marks=y,this.pendingMarks=S,this.solid=O,this.options=j,this.content=[],this.activeMarks=Fe.none,this.stashMarks=[],this.match=z||(j&Yn?null:o.contentMatch)}findWrapping(o){if(!this.match){if(!this.type)return[];let c=this.type.contentMatch.fillBefore(le.from(o));if(c)this.match=this.type.contentMatch.matchFragment(c);else{let y=this.type.contentMatch,S;return(S=y.findWrapping(o.type))?(this.match=y,S):null}}return this.match.findWrapping(o.type)}finish(o){if(!(this.options&_n)){let y=this.content[this.content.length-1],S;if(y&&y.isText&&(S=/[ \t\r\n\u000c]+$/.exec(y.text))){let O=y;y.text.length==S[0].length?this.content.pop():this.content[this.content.length-1]=O.withText(O.text.slice(0,O.text.length-S[0].length))}}let c=le.from(this.content);return!o&&this.match&&(c=c.append(this.match.fillBefore(le.empty,!0))),this.type?this.type.create(this.attrs,c,this.marks):c}popFromStashMark(o){for(let c=this.stashMarks.length-1;c>=0;c--)if(o.eq(this.stashMarks[c]))return this.stashMarks.splice(c,1)[0]}applyPending(o){for(let c=0,y=this.pendingMarks;c<y.length;c++){let S=y[c];(this.type?this.type.allowsMarkType(S.type):Y(S.type,o))&&!S.isInSet(this.activeMarks)&&(this.activeMarks=S.addToSet(this.activeMarks),this.pendingMarks=S.removeFromSet(this.pendingMarks))}}inlineContext(o){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:o.parentNode&&!Tn.hasOwnProperty(o.parentNode.nodeName.toLowerCase())}}class Hn{constructor(o,c,y){this.parser=o,this.options=c,this.isOpen=y,this.open=0;let S=c.topNode,O,z=Dn(null,c.preserveWhitespace,0)|(y?Yn:0);S?O=new Nn(S.type,S.attrs,Fe.none,Fe.none,!0,c.topMatch||S.type.contentMatch,z):y?O=new Nn(null,null,Fe.none,Fe.none,!0,null,z):O=new Nn(o.schema.topNodeType,null,Fe.none,Fe.none,!0,null,z),this.nodes=[O],this.find=c.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(o){o.nodeType==3?this.addTextNode(o):o.nodeType==1&&this.addElement(o)}withStyleRules(o,c){let y=o.getAttribute("style");if(!y)return c();let S=this.readStyles(_(y));if(!S)return;let[O,z]=S,j=this.top;for(let ce=0;ce<z.length;ce++)this.removePendingMark(z[ce],j);for(let ce=0;ce<O.length;ce++)this.addPendingMark(O[ce]);c();for(let ce=0;ce<O.length;ce++)this.removePendingMark(O[ce],j);for(let ce=0;ce<z.length;ce++)this.addPendingMark(z[ce])}addTextNode(o){let c=o.nodeValue,y=this.top;if(y.options&Jn||y.inlineContext(o)||/[^ \t\r\n\u000c]/.test(c)){if(y.options&_n)y.options&Jn?c=c.replace(/\r\n?/g,`
`):c=c.replace(/\r?\n|\r/g," ");else if(c=c.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(c)&&this.open==this.nodes.length-1){let S=y.content[y.content.length-1],O=o.previousSibling;(!S||O&&O.nodeName=="BR"||S.isText&&/[ \t\r\n\u000c]$/.test(S.text))&&(c=c.slice(1))}c&&this.insertNode(this.parser.schema.text(c)),this.findInText(o)}else this.findInside(o)}addElement(o,c){let y=o.nodeName.toLowerCase(),S;tr.hasOwnProperty(y)&&this.parser.normalizeLists&&ue(o);let O=this.options.ruleFromNode&&this.options.ruleFromNode(o)||(S=this.parser.matchTag(o,this,c));if(O?O.ignore:Xn.hasOwnProperty(y))this.findInside(o),this.ignoreFallback(o);else if(!O||O.skip||O.closeParent){O&&O.closeParent?this.open=Math.max(0,this.open-1):O&&O.skip.nodeType&&(o=O.skip);let z,j=this.top,ce=this.needsBlock;if(Tn.hasOwnProperty(y))j.content.length&&j.content[0].isInline&&this.open&&(this.open--,j=this.top),z=!0,j.type||(this.needsBlock=!0);else if(!o.firstChild){this.leafFallback(o);return}O&&O.skip?this.addAll(o):this.withStyleRules(o,()=>this.addAll(o)),z&&this.sync(j),this.needsBlock=ce}else this.withStyleRules(o,()=>{this.addElementByRule(o,O,O.consuming===!1?S:void 0)})}leafFallback(o){o.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(o.ownerDocument.createTextNode(`
`))}ignoreFallback(o){o.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(o){let c=Fe.none,y=Fe.none;for(let S=0;S<o.length;S+=2)for(let O=void 0;;){let z=this.parser.matchStyle(o[S],o[S+1],this,O);if(!z)break;if(z.ignore)return null;if(z.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(j=>{z.clearMark(j)&&(y=j.addToSet(y))}):c=this.parser.schema.marks[z.mark].create(z.attrs).addToSet(c),z.consuming===!1)O=z;else break}return[c,y]}addElementByRule(o,c,y){let S,O,z;c.node?(O=this.parser.schema.nodes[c.node],O.isLeaf?this.insertNode(O.create(c.attrs))||this.leafFallback(o):S=this.enter(O,c.attrs||null,c.preserveWhitespace)):(z=this.parser.schema.marks[c.mark].create(c.attrs),this.addPendingMark(z));let j=this.top;if(O&&O.isLeaf)this.findInside(o);else if(y)this.addElement(o,y);else if(c.getContent)this.findInside(o),c.getContent(o,this.parser.schema).forEach(ce=>this.insertNode(ce));else{let ce=o;typeof c.contentElement=="string"?ce=o.querySelector(c.contentElement):typeof c.contentElement=="function"?ce=c.contentElement(o):c.contentElement&&(ce=c.contentElement),this.findAround(o,ce,!0),this.addAll(ce)}S&&this.sync(j)&&this.open--,z&&this.removePendingMark(z,j)}addAll(o,c,y){let S=c||0;for(let O=c?o.childNodes[c]:o.firstChild,z=y==null?null:o.childNodes[y];O!=z;O=O.nextSibling,++S)this.findAtPoint(o,S),this.addDOM(O);this.findAtPoint(o,S)}findPlace(o){let c,y;for(let S=this.open;S>=0;S--){let O=this.nodes[S],z=O.findWrapping(o);if(z&&(!c||c.length>z.length)&&(c=z,y=O,!z.length)||O.solid)break}if(!c)return!1;this.sync(y);for(let S=0;S<c.length;S++)this.enterInner(c[S],null,!1);return!0}insertNode(o){if(o.isInline&&this.needsBlock&&!this.top.type){let c=this.textblockFromContext();c&&this.enterInner(c)}if(this.findPlace(o)){this.closeExtra();let c=this.top;c.applyPending(o.type),c.match&&(c.match=c.match.matchType(o.type));let y=c.activeMarks;for(let S=0;S<o.marks.length;S++)(!c.type||c.type.allowsMarkType(o.marks[S].type))&&(y=o.marks[S].addToSet(y));return c.content.push(o.mark(y)),!0}return!1}enter(o,c,y){let S=this.findPlace(o.create(c));return S&&this.enterInner(o,c,!0,y),S}enterInner(o,c=null,y=!1,S){this.closeExtra();let O=this.top;O.applyPending(o),O.match=O.match&&O.match.matchType(o);let z=Dn(o,S,O.options);O.options&Yn&&O.content.length==0&&(z|=Yn),this.nodes.push(new Nn(o,c,O.activeMarks,O.pendingMarks,y,null,z)),this.open++}closeExtra(o=!1){let c=this.nodes.length-1;if(c>this.open){for(;c>this.open;c--)this.nodes[c-1].content.push(this.nodes[c].finish(o));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(o){for(let c=this.open;c>=0;c--)if(this.nodes[c]==o)return this.open=c,!0;return!1}get currentPos(){this.closeExtra();let o=0;for(let c=this.open;c>=0;c--){let y=this.nodes[c].content;for(let S=y.length-1;S>=0;S--)o+=y[S].nodeSize;c&&o++}return o}findAtPoint(o,c){if(this.find)for(let y=0;y<this.find.length;y++)this.find[y].node==o&&this.find[y].offset==c&&(this.find[y].pos=this.currentPos)}findInside(o){if(this.find)for(let c=0;c<this.find.length;c++)this.find[c].pos==null&&o.nodeType==1&&o.contains(this.find[c].node)&&(this.find[c].pos=this.currentPos)}findAround(o,c,y){if(o!=c&&this.find)for(let S=0;S<this.find.length;S++)this.find[S].pos==null&&o.nodeType==1&&o.contains(this.find[S].node)&&c.compareDocumentPosition(this.find[S].node)&(y?2:4)&&(this.find[S].pos=this.currentPos)}findInText(o){if(this.find)for(let c=0;c<this.find.length;c++)this.find[c].node==o&&(this.find[c].pos=this.currentPos-(o.nodeValue.length-this.find[c].offset))}matchesContext(o){if(o.indexOf("|")>-1)return o.split(/\s*\|\s*/).some(this.matchesContext,this);let c=o.split("/"),y=this.options.context,S=!this.isOpen&&(!y||y.parent.type==this.nodes[0].type),O=-(y?y.depth+1:0)+(S?0:1),z=(j,ce)=>{for(;j>=0;j--){let tt=c[j];if(tt==""){if(j==c.length-1||j==0)continue;for(;ce>=O;ce--)if(z(j-1,ce))return!0;return!1}else{let L=ce>0||ce==0&&S?this.nodes[ce].type:y&&ce>=O?y.node(ce-O).type:null;if(!L||L.name!=tt&&L.groups.indexOf(tt)==-1)return!1;ce--}}return!0};return z(c.length-1,this.open)}textblockFromContext(){let o=this.options.context;if(o)for(let c=o.depth;c>=0;c--){let y=o.node(c).contentMatchAt(o.indexAfter(c)).defaultType;if(y&&y.isTextblock&&y.defaultAttrs)return y}for(let c in this.parser.schema.nodes){let y=this.parser.schema.nodes[c];if(y.isTextblock&&y.defaultAttrs)return y}}addPendingMark(o){let c=ie(o,this.top.pendingMarks);c&&this.top.stashMarks.push(c),this.top.pendingMarks=o.addToSet(this.top.pendingMarks)}removePendingMark(o,c){for(let y=this.open;y>=0;y--){let S=this.nodes[y];if(S.pendingMarks.lastIndexOf(o)>-1)S.pendingMarks=o.removeFromSet(S.pendingMarks);else{S.activeMarks=o.removeFromSet(S.activeMarks);let z=S.popFromStashMark(o);z&&S.type&&S.type.allowsMarkType(z.type)&&(S.activeMarks=z.addToSet(S.activeMarks))}if(S==c)break}}}function ue(I){for(let o=I.firstChild,c=null;o;o=o.nextSibling){let y=o.nodeType==1?o.nodeName.toLowerCase():null;y&&tr.hasOwnProperty(y)&&c?(c.appendChild(o),o=c):y=="li"?c=o:y&&(c=null)}}function v(I,o){return(I.matches||I.msMatchesSelector||I.webkitMatchesSelector||I.mozMatchesSelector).call(I,o)}function _(I){let o=/\s*([\w-]+)\s*:\s*([^;]+)/g,c,y=[];for(;c=o.exec(I);)y.push(c[1],c[2].trim());return y}function T(I){let o={};for(let c in I)o[c]=I[c];return o}function Y(I,o){let c=o.schema.nodes;for(let y in c){let S=c[y];if(!S.allowsMarkType(I))continue;let O=[],z=j=>{O.push(j);for(let ce=0;ce<j.edgeCount;ce++){let{type:tt,next:L}=j.edge(ce);if(tt==o||O.indexOf(L)<0&&z(L))return!0}};if(z(S.contentMatch))return!0}}function ie(I,o){for(let c=0;c<o.length;c++)if(I.eq(o[c]))return o[c]}class Q{constructor(o,c){this.nodes=o,this.marks=c}serializeFragment(o,c={},y){y||(y=De(c).createDocumentFragment());let S=y,O=[];return o.forEach(z=>{if(O.length||z.marks.length){let j=0,ce=0;for(;j<O.length&&ce<z.marks.length;){let tt=z.marks[ce];if(!this.marks[tt.type.name]){ce++;continue}if(!tt.eq(O[j][0])||tt.type.spec.spanning===!1)break;j++,ce++}for(;j<O.length;)S=O.pop()[1];for(;ce<z.marks.length;){let tt=z.marks[ce++],L=this.serializeMark(tt,z.isInline,c);L&&(O.push([tt,S]),S.appendChild(L.dom),S=L.contentDOM||L.dom)}}S.appendChild(this.serializeNodeInner(z,c))}),y}serializeNodeInner(o,c){let{dom:y,contentDOM:S}=Q.renderSpec(De(c),this.nodes[o.type.name](o));if(S){if(o.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(o.content,c,S)}return y}serializeNode(o,c={}){let y=this.serializeNodeInner(o,c);for(let S=o.marks.length-1;S>=0;S--){let O=this.serializeMark(o.marks[S],o.isInline,c);O&&((O.contentDOM||O.dom).appendChild(y),y=O.dom)}return y}serializeMark(o,c,y={}){let S=this.marks[o.type.name];return S&&Q.renderSpec(De(y),S(o,c))}static renderSpec(o,c,y=null){if(typeof c=="string")return{dom:o.createTextNode(c)};if(c.nodeType!=null)return{dom:c};if(c.dom&&c.dom.nodeType!=null)return c;let S=c[0],O=S.indexOf(" ");O>0&&(y=S.slice(0,O),S=S.slice(O+1));let z,j=y?o.createElementNS(y,S):o.createElement(S),ce=c[1],tt=1;if(ce&&typeof ce=="object"&&ce.nodeType==null&&!Array.isArray(ce)){tt=2;for(let L in ce)if(ce[L]!=null){let F=L.indexOf(" ");F>0?j.setAttributeNS(L.slice(0,F),L.slice(F+1),ce[L]):j.setAttribute(L,ce[L])}}for(let L=tt;L<c.length;L++){let F=c[L];if(F===0){if(L<c.length-1||L>tt)throw new RangeError("Content hole must be the only child of its parent node");return{dom:j,contentDOM:j}}else{let{dom:q,contentDOM:oe}=Q.renderSpec(o,F,y);if(j.appendChild(q),oe){if(z)throw new RangeError("Multiple content holes");z=oe}}}return{dom:j,contentDOM:z}}static fromSchema(o){return o.cached.domSerializer||(o.cached.domSerializer=new Q(this.nodesFromSchema(o),this.marksFromSchema(o)))}static nodesFromSchema(o){let c=we(o.nodes);return c.text||(c.text=y=>y.text),c}static marksFromSchema(o){return we(o.marks)}}function we(I){let o={};for(let c in I){let y=I[c].spec.toDOM;y&&(o[c]=y)}return o}function De(I){return I.document||window.document}},66961:function(En,Ot,ge){"use strict";ge.d(Ot,{C1:function(){return at},yy:function(){return St},qv:function(){return He},Sy:function(){return Ge},H$:function(){return gt},Y1:function(){return de},xm:function(){return le},Bs:function(){return me}});var A=ge(60052),Ne=ge(64520);const Ee=Object.create(null);class de{constructor(U,J,te){this.$anchor=U,this.$head=J,this.ranges=te||[new le(U.min(J),U.max(J))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let U=this.ranges;for(let J=0;J<U.length;J++)if(U[J].$from.pos!=U[J].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(U,J=A.p2.empty){let te=J.content.lastChild,ke=null;for(let Lt=0;Lt<J.openEnd;Lt++)ke=te,te=te.lastChild;let ze=U.steps.length,it=this.ranges;for(let Lt=0;Lt<it.length;Lt++){let{$from:Ft,$to:Dt}=it[Lt],xt=U.mapping.slice(ze);U.replaceRange(xt.map(Ft.pos),xt.map(Dt.pos),Lt?A.p2.empty:J),Lt==0&&Ue(U,ze,(te?te.isInline:ke&&ke.isTextblock)?-1:1)}}replaceWith(U,J){let te=U.steps.length,ke=this.ranges;for(let ze=0;ze<ke.length;ze++){let{$from:it,$to:Lt}=ke[ze],Ft=U.mapping.slice(te),Dt=Ft.map(it.pos),xt=Ft.map(Lt.pos);ze?U.deleteRange(Dt,xt):(U.replaceRangeWith(Dt,xt,J),Ue(U,te,J.isInline?-1:1))}}static findFrom(U,J,te=!1){let ke=U.parent.inlineContent?new me(U):st(U.node(0),U.parent,U.pos,U.index(),J,te);if(ke)return ke;for(let ze=U.depth-1;ze>=0;ze--){let it=J<0?st(U.node(0),U.node(ze),U.before(ze+1),U.index(ze),J,te):st(U.node(0),U.node(ze),U.after(ze+1),U.index(ze)+1,J,te);if(it)return it}return null}static near(U,J=1){return this.findFrom(U,J)||this.findFrom(U,-J)||new at(U.node(0))}static atStart(U){return st(U,U,0,0,1)||new at(U)}static atEnd(U){return st(U,U,U.content.size,U.childCount,-1)||new at(U)}static fromJSON(U,J){if(!J||!J.type)throw new RangeError("Invalid input for Selection.fromJSON");let te=Ee[J.type];if(!te)throw new RangeError(`No selection type ${J.type} defined`);return te.fromJSON(U,J)}static jsonID(U,J){if(U in Ee)throw new RangeError("Duplicate use of selection JSON ID "+U);return Ee[U]=J,J.prototype.jsonID=U,J}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}de.prototype.visible=!0;class le{constructor(U,J){this.$from=U,this.$to=J}}let qe=!1;function je(Ce){!qe&&!Ce.parent.inlineContent&&(qe=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+Ce.parent.type.name+")"))}class me extends de{constructor(U,J=U){je(U),je(J),super(U,J)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(U,J){let te=U.resolve(J.map(this.head));if(!te.parent.inlineContent)return de.near(te);let ke=U.resolve(J.map(this.anchor));return new me(ke.parent.inlineContent?ke:te,te)}replace(U,J=A.p2.empty){if(super.replace(U,J),J==A.p2.empty){let te=this.$from.marksAcross(this.$to);te&&U.ensureMarks(te)}}eq(U){return U instanceof me&&U.anchor==this.anchor&&U.head==this.head}getBookmark(){return new Fe(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(U,J){if(typeof J.anchor!="number"||typeof J.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(U.resolve(J.anchor),U.resolve(J.head))}static create(U,J,te=J){let ke=U.resolve(J);return new this(ke,te==J?ke:U.resolve(te))}static between(U,J,te){let ke=U.pos-J.pos;if((!te||ke)&&(te=ke>=0?1:-1),!J.parent.inlineContent){let ze=de.findFrom(J,te,!0)||de.findFrom(J,-te,!0);if(ze)J=ze.$head;else return de.near(J,te)}return U.parent.inlineContent||(ke==0?U=J:(U=(de.findFrom(U,-te,!0)||de.findFrom(U,te,!0)).$anchor,U.pos<J.pos!=ke<0&&(U=J))),new me(U,J)}}de.jsonID("text",me);class Fe{constructor(U,J){this.anchor=U,this.head=J}map(U){return new Fe(U.map(this.anchor),U.map(this.head))}resolve(U){return me.between(U.resolve(this.anchor),U.resolve(this.head))}}class He extends de{constructor(U){let J=U.nodeAfter,te=U.node(0).resolve(U.pos+J.nodeSize);super(U,te);this.node=J}map(U,J){let{deleted:te,pos:ke}=J.mapResult(this.anchor),ze=U.resolve(ke);return te?de.near(ze):new He(ze)}content(){return new A.p2(A.HY.from(this.node),0,0)}eq(U){return U instanceof He&&U.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Xe(this.anchor)}static fromJSON(U,J){if(typeof J.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new He(U.resolve(J.anchor))}static create(U,J){return new He(U.resolve(J))}static isSelectable(U){return!U.isText&&U.type.spec.selectable!==!1}}He.prototype.visible=!1,de.jsonID("node",He);class Xe{constructor(U){this.anchor=U}map(U){let{deleted:J,pos:te}=U.mapResult(this.anchor);return J?new Fe(te,te):new Xe(te)}resolve(U){let J=U.resolve(this.anchor),te=J.nodeAfter;return te&&He.isSelectable(te)?new He(J):de.near(J)}}class at extends de{constructor(U){super(U.resolve(0),U.resolve(U.content.size))}replace(U,J=A.p2.empty){if(J==A.p2.empty){U.delete(0,U.doc.content.size);let te=de.atStart(U.doc);te.eq(U.selection)||U.setSelection(te)}else super.replace(U,J)}toJSON(){return{type:"all"}}static fromJSON(U){return new at(U)}map(U){return new at(U)}eq(U){return U instanceof at}getBookmark(){return dt}}de.jsonID("all",at);const dt={map(){return this},resolve(Ce){return new at(Ce)}};function st(Ce,U,J,te,ke,ze=!1){if(U.inlineContent)return me.create(Ce,J);for(let it=te-(ke>0?0:1);ke>0?it<U.childCount:it>=0;it+=ke){let Lt=U.child(it);if(Lt.isAtom){if(!ze&&He.isSelectable(Lt))return He.create(Ce,J-(ke<0?Lt.nodeSize:0))}else{let Ft=st(Ce,Lt,J+ke,ke<0?Lt.childCount:0,ke,ze);if(Ft)return Ft}J+=Lt.nodeSize*ke}return null}function Ue(Ce,U,J){let te=Ce.steps.length-1;if(te<U)return;let ke=Ce.steps[te];if(!(ke instanceof Ne.Pu||ke instanceof Ne.FC))return;let ze=Ce.mapping.maps[te],it;ze.forEach((Lt,Ft,Dt,xt)=>{it==null&&(it=xt)}),Ce.setSelection(de.near(Ce.doc.resolve(it),J))}const ut=1,Pe=2,Ye=4;class We extends Ne.wx{constructor(U){super(U.doc);this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=U.selection,this.storedMarks=U.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(U){if(U.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=U,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ut)&~Pe,this.storedMarks=null,this}get selectionSet(){return(this.updated&ut)>0}setStoredMarks(U){return this.storedMarks=U,this.updated|=Pe,this}ensureMarks(U){return A.vc.sameSet(this.storedMarks||this.selection.$from.marks(),U)||this.setStoredMarks(U),this}addStoredMark(U){return this.ensureMarks(U.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(U){return this.ensureMarks(U.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Pe)>0}addStep(U,J){super.addStep(U,J),this.updated=this.updated&~Pe,this.storedMarks=null}setTime(U){return this.time=U,this}replaceSelection(U){return this.selection.replace(this,U),this}replaceSelectionWith(U,J=!0){let te=this.selection;return J&&(U=U.mark(this.storedMarks||(te.empty?te.$from.marks():te.$from.marksAcross(te.$to)||A.vc.none))),te.replaceWith(this,U),this}deleteSelection(){return this.selection.replace(this),this}insertText(U,J,te){let ke=this.doc.type.schema;if(J==null)return U?this.replaceSelectionWith(ke.text(U),!0):this.deleteSelection();{if(te==null&&(te=J),te=te==null?J:te,!U)return this.deleteRange(J,te);let ze=this.storedMarks;if(!ze){let it=this.doc.resolve(J);ze=te==J?it.marks():it.marksAcross(this.doc.resolve(te))}return this.replaceRangeWith(J,te,ke.text(U,ze)),this.selection.empty||this.setSelection(de.near(this.selection.$to)),this}}setMeta(U,J){return this.meta[typeof U=="string"?U:U.key]=J,this}getMeta(U){return this.meta[typeof U=="string"?U:U.key]}get isGeneric(){for(let U in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ye,this}get scrolledIntoView(){return(this.updated&Ye)>0}}function Rt(Ce,U){return!U||!Ce?Ce:Ce.bind(U)}class Bt{constructor(U,J,te){this.name=U,this.init=Rt(J.init,te),this.apply=Rt(J.apply,te)}}const ve=[new Bt("doc",{init(Ce){return Ce.doc||Ce.schema.topNodeType.createAndFill()},apply(Ce){return Ce.doc}}),new Bt("selection",{init(Ce,U){return Ce.selection||de.atStart(U.doc)},apply(Ce){return Ce.selection}}),new Bt("storedMarks",{init(Ce){return Ce.storedMarks||null},apply(Ce,U,J,te){return te.selection.$cursor?Ce.storedMarks:null}}),new Bt("scrollToSelection",{init(){return 0},apply(Ce,U){return Ce.scrolledIntoView?U+1:U}})];class Ht{constructor(U,J){this.schema=U,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ve.slice(),J&&J.forEach(te=>{if(this.pluginsByKey[te.key])throw new RangeError("Adding different instances of a keyed plugin ("+te.key+")");this.plugins.push(te),this.pluginsByKey[te.key]=te,te.spec.state&&this.fields.push(new Bt(te.key,te.spec.state,te))})}}class St{constructor(U){this.config=U}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(U){return this.applyTransaction(U).state}filterTransaction(U,J=-1){for(let te=0;te<this.config.plugins.length;te++)if(te!=J){let ke=this.config.plugins[te];if(ke.spec.filterTransaction&&!ke.spec.filterTransaction.call(ke,U,this))return!1}return!0}applyTransaction(U){if(!this.filterTransaction(U))return{state:this,transactions:[]};let J=[U],te=this.applyInner(U),ke=null;for(;;){let ze=!1;for(let it=0;it<this.config.plugins.length;it++){let Lt=this.config.plugins[it];if(Lt.spec.appendTransaction){let Ft=ke?ke[it].n:0,Dt=ke?ke[it].state:this,xt=Ft<J.length&&Lt.spec.appendTransaction.call(Lt,Ft?J.slice(Ft):J,Dt,te);if(xt&&te.filterTransaction(xt,it)){if(xt.setMeta("appendedTransaction",U),!ke){ke=[];for(let Cn=0;Cn<this.config.plugins.length;Cn++)ke.push(Cn<it?{state:te,n:J.length}:{state:this,n:0})}J.push(xt),te=te.applyInner(xt),ze=!0}ke&&(ke[it]={state:te,n:J.length})}}if(!ze)return{state:te,transactions:J}}}applyInner(U){if(!U.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let J=new St(this.config),te=this.config.fields;for(let ke=0;ke<te.length;ke++){let ze=te[ke];J[ze.name]=ze.apply(U,this[ze.name],this,J)}return J}get tr(){return new We(this)}static create(U){let J=new Ht(U.doc?U.doc.type.schema:U.schema,U.plugins),te=new St(J);for(let ke=0;ke<J.fields.length;ke++)te[J.fields[ke].name]=J.fields[ke].init(U,te);return te}reconfigure(U){let J=new Ht(this.schema,U.plugins),te=J.fields,ke=new St(J);for(let ze=0;ze<te.length;ze++){let it=te[ze].name;ke[it]=this.hasOwnProperty(it)?this[it]:te[ze].init(U,ke)}return ke}toJSON(U){let J={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(J.storedMarks=this.storedMarks.map(te=>te.toJSON())),U&&typeof U=="object")for(let te in U){if(te=="doc"||te=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let ke=U[te],ze=ke.spec.state;ze&&ze.toJSON&&(J[te]=ze.toJSON.call(ke,this[ke.key]))}return J}static fromJSON(U,J,te){if(!J)throw new RangeError("Invalid input for EditorState.fromJSON");if(!U.schema)throw new RangeError("Required config field 'schema' missing");let ke=new Ht(U.schema,U.plugins),ze=new St(ke);return ke.fields.forEach(it=>{if(it.name=="doc")ze.doc=A.NB.fromJSON(U.schema,J.doc);else if(it.name=="selection")ze.selection=de.fromJSON(ze.doc,J.selection);else if(it.name=="storedMarks")J.storedMarks&&(ze.storedMarks=J.storedMarks.map(U.schema.markFromJSON));else{if(te)for(let Lt in te){let Ft=te[Lt],Dt=Ft.spec.state;if(Ft.key==it.name&&Dt&&Dt.fromJSON&&Object.prototype.hasOwnProperty.call(J,Lt)){ze[it.name]=Dt.fromJSON.call(Ft,U,J[Lt],ze);return}}ze[it.name]=it.init(U,ze)}}),ze}}function on(Ce,U,J){for(let te in Ce){let ke=Ce[te];ke instanceof Function?ke=ke.bind(U):te=="handleDOMEvents"&&(ke=on(ke,U,{})),J[te]=ke}return J}class Ge{constructor(U){this.spec=U,this.props={},U.props&&on(U.props,this,this.props),this.key=U.key?U.key.key:Be("plugin")}getState(U){return U[this.key]}}const Ke=Object.create(null);function Be(Ce){return Ce in Ke?Ce+"$"+ ++Ke[Ce]:(Ke[Ce]=0,Ce+"$")}class gt{constructor(U="key"){this.key=Be(U)}get(U){return U.config.pluginsByKey[this.key]}getState(U){return U[this.key]}}},64520:function(En,Ot,ge){"use strict";ge.d(Ot,{vs:function(){return dt},FC:function(){return Ht},Pu:function(){return ve},wx:function(){return Hn},Mn:function(){return Cn},Ax:function(){return Dt},nj:function(){return vn},nd:function(){return U},GJ:function(){return Rn},k9:function(){return gt},dR:function(){return bn}});var A=ge(60052);const Ne=65535,Ee=Math.pow(2,16);function de(ue,v){return ue+v*Ee}function le(ue){return ue&Ne}function qe(ue){return(ue-(ue&Ne))/Ee}const je=1,me=2,Fe=4,He=8;class Xe{constructor(v,_,T){this.pos=v,this.delInfo=_,this.recover=T}get deleted(){return(this.delInfo&He)>0}get deletedBefore(){return(this.delInfo&(je|Fe))>0}get deletedAfter(){return(this.delInfo&(me|Fe))>0}get deletedAcross(){return(this.delInfo&Fe)>0}}class at{constructor(v,_=!1){if(this.ranges=v,this.inverted=_,!v.length&&at.empty)return at.empty}recover(v){let _=0,T=le(v);if(!this.inverted)for(let Y=0;Y<T;Y++)_+=this.ranges[Y*3+2]-this.ranges[Y*3+1];return this.ranges[T*3]+_+qe(v)}mapResult(v,_=1){return this._map(v,_,!1)}map(v,_=1){return this._map(v,_,!0)}_map(v,_,T){let Y=0,ie=this.inverted?2:1,Q=this.inverted?1:2;for(let we=0;we<this.ranges.length;we+=3){let De=this.ranges[we]-(this.inverted?Y:0);if(De>v)break;let I=this.ranges[we+ie],o=this.ranges[we+Q],c=De+I;if(v<=c){let y=I?v==De?-1:v==c?1:_:_,S=De+Y+(y<0?0:o);if(T)return S;let O=v==(_<0?De:c)?null:de(we/3,v-De),z=v==De?me:v==c?je:Fe;return(_<0?v!=De:v!=c)&&(z|=He),new Xe(S,z,O)}Y+=o-I}return T?v+Y:new Xe(v+Y,0,null)}touches(v,_){let T=0,Y=le(_),ie=this.inverted?2:1,Q=this.inverted?1:2;for(let we=0;we<this.ranges.length;we+=3){let De=this.ranges[we]-(this.inverted?T:0);if(De>v)break;let I=this.ranges[we+ie],o=De+I;if(v<=o&&we==Y*3)return!0;T+=this.ranges[we+Q]-I}return!1}forEach(v){let _=this.inverted?2:1,T=this.inverted?1:2;for(let Y=0,ie=0;Y<this.ranges.length;Y+=3){let Q=this.ranges[Y],we=Q-(this.inverted?ie:0),De=Q+(this.inverted?0:ie),I=this.ranges[Y+_],o=this.ranges[Y+T];v(we,we+I,De,De+o),ie+=o-I}}invert(){return new at(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(v){return v==0?at.empty:new at(v<0?[0,-v,0]:[0,0,v])}}at.empty=new at([]);class dt{constructor(v=[],_,T=0,Y=v.length){this.maps=v,this.mirror=_,this.from=T,this.to=Y}slice(v=0,_=this.maps.length){return new dt(this.maps,this.mirror,v,_)}copy(){return new dt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(v,_){this.to=this.maps.push(v),_!=null&&this.setMirror(this.maps.length-1,_)}appendMapping(v){for(let _=0,T=this.maps.length;_<v.maps.length;_++){let Y=v.getMirror(_);this.appendMap(v.maps[_],Y!=null&&Y<_?T+Y:void 0)}}getMirror(v){if(this.mirror){for(let _=0;_<this.mirror.length;_++)if(this.mirror[_]==v)return this.mirror[_+(_%2?-1:1)]}}setMirror(v,_){this.mirror||(this.mirror=[]),this.mirror.push(v,_)}appendMappingInverted(v){for(let _=v.maps.length-1,T=this.maps.length+v.maps.length;_>=0;_--){let Y=v.getMirror(_);this.appendMap(v.maps[_].invert(),Y!=null&&Y>_?T-Y-1:void 0)}}invert(){let v=new dt;return v.appendMappingInverted(this),v}map(v,_=1){if(this.mirror)return this._map(v,_,!0);for(let T=this.from;T<this.to;T++)v=this.maps[T].map(v,_);return v}mapResult(v,_=1){return this._map(v,_,!1)}_map(v,_,T){let Y=0;for(let ie=this.from;ie<this.to;ie++){let Q=this.maps[ie],we=Q.mapResult(v,_);if(we.recover!=null){let De=this.getMirror(ie);if(De!=null&&De>ie&&De<this.to){ie=De,v=this.maps[De].recover(we.recover);continue}}Y|=we.delInfo,v=we.pos}return T?v:new Xe(v,Y,null)}}const st=Object.create(null);class Ue{getMap(){return at.empty}merge(v){return null}static fromJSON(v,_){if(!_||!_.stepType)throw new RangeError("Invalid input for Step.fromJSON");let T=st[_.stepType];if(!T)throw new RangeError(`No step type ${_.stepType} defined`);return T.fromJSON(v,_)}static jsonID(v,_){if(v in st)throw new RangeError("Duplicate use of step JSON ID "+v);return st[v]=_,_.prototype.jsonID=v,_}}class ut{constructor(v,_){this.doc=v,this.failed=_}static ok(v){return new ut(v,null)}static fail(v){return new ut(null,v)}static fromReplace(v,_,T,Y){try{return ut.ok(v.replace(_,T,Y))}catch(ie){if(ie instanceof A.e4)return ut.fail(ie.message);throw ie}}}function Pe(ue,v,_){let T=[];for(let Y=0;Y<ue.childCount;Y++){let ie=ue.child(Y);ie.content.size&&(ie=ie.copy(Pe(ie.content,v,ie))),ie.isInline&&(ie=v(ie,_,Y)),T.push(ie)}return A.HY.fromArray(T)}class Ye extends Ue{constructor(v,_,T){super();this.from=v,this.to=_,this.mark=T}apply(v){let _=v.slice(this.from,this.to),T=v.resolve(this.from),Y=T.node(T.sharedDepth(this.to)),ie=new A.p2(Pe(_.content,(Q,we)=>!Q.isAtom||!we.type.allowsMarkType(this.mark.type)?Q:Q.mark(this.mark.addToSet(Q.marks)),Y),_.openStart,_.openEnd);return ut.fromReplace(v,this.from,this.to,ie)}invert(){return new We(this.from,this.to,this.mark)}map(v){let _=v.mapResult(this.from,1),T=v.mapResult(this.to,-1);return _.deleted&&T.deleted||_.pos>=T.pos?null:new Ye(_.pos,T.pos,this.mark)}merge(v){return v instanceof Ye&&v.mark.eq(this.mark)&&this.from<=v.to&&this.to>=v.from?new Ye(Math.min(this.from,v.from),Math.max(this.to,v.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(v,_){if(typeof _.from!="number"||typeof _.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ye(_.from,_.to,v.markFromJSON(_.mark))}}Ue.jsonID("addMark",Ye);class We extends Ue{constructor(v,_,T){super();this.from=v,this.to=_,this.mark=T}apply(v){let _=v.slice(this.from,this.to),T=new A.p2(Pe(_.content,Y=>Y.mark(this.mark.removeFromSet(Y.marks)),v),_.openStart,_.openEnd);return ut.fromReplace(v,this.from,this.to,T)}invert(){return new Ye(this.from,this.to,this.mark)}map(v){let _=v.mapResult(this.from,1),T=v.mapResult(this.to,-1);return _.deleted&&T.deleted||_.pos>=T.pos?null:new We(_.pos,T.pos,this.mark)}merge(v){return v instanceof We&&v.mark.eq(this.mark)&&this.from<=v.to&&this.to>=v.from?new We(Math.min(this.from,v.from),Math.max(this.to,v.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(v,_){if(typeof _.from!="number"||typeof _.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new We(_.from,_.to,v.markFromJSON(_.mark))}}Ue.jsonID("removeMark",We);class Rt extends Ue{constructor(v,_){super();this.pos=v,this.mark=_}apply(v){let _=v.nodeAt(this.pos);if(!_)return ut.fail("No node at mark step's position");let T=_.type.create(_.attrs,null,this.mark.addToSet(_.marks));return ut.fromReplace(v,this.pos,this.pos+1,new A.p2(A.HY.from(T),0,_.isLeaf?0:1))}invert(v){let _=v.nodeAt(this.pos);if(_){let T=this.mark.addToSet(_.marks);if(T.length==_.marks.length){for(let Y=0;Y<_.marks.length;Y++)if(!_.marks[Y].isInSet(T))return new Rt(this.pos,_.marks[Y]);return new Rt(this.pos,this.mark)}}return new Bt(this.pos,this.mark)}map(v){let _=v.mapResult(this.pos,1);return _.deletedAfter?null:new Rt(_.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(v,_){if(typeof _.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Rt(_.pos,v.markFromJSON(_.mark))}}Ue.jsonID("addNodeMark",Rt);class Bt extends Ue{constructor(v,_){super();this.pos=v,this.mark=_}apply(v){let _=v.nodeAt(this.pos);if(!_)return ut.fail("No node at mark step's position");let T=_.type.create(_.attrs,null,this.mark.removeFromSet(_.marks));return ut.fromReplace(v,this.pos,this.pos+1,new A.p2(A.HY.from(T),0,_.isLeaf?0:1))}invert(v){let _=v.nodeAt(this.pos);return!_||!this.mark.isInSet(_.marks)?this:new Rt(this.pos,this.mark)}map(v){let _=v.mapResult(this.pos,1);return _.deletedAfter?null:new Bt(_.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(v,_){if(typeof _.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Bt(_.pos,v.markFromJSON(_.mark))}}Ue.jsonID("removeNodeMark",Bt);class ve extends Ue{constructor(v,_,T,Y=!1){super();this.from=v,this.to=_,this.slice=T,this.structure=Y}apply(v){return this.structure&&St(v,this.from,this.to)?ut.fail("Structure replace would overwrite content"):ut.fromReplace(v,this.from,this.to,this.slice)}getMap(){return new at([this.from,this.to-this.from,this.slice.size])}invert(v){return new ve(this.from,this.from+this.slice.size,v.slice(this.from,this.to))}map(v){let _=v.mapResult(this.from,1),T=v.mapResult(this.to,-1);return _.deletedAcross&&T.deletedAcross?null:new ve(_.pos,Math.max(_.pos,T.pos),this.slice)}merge(v){if(!(v instanceof ve)||v.structure||this.structure)return null;if(this.from+this.slice.size==v.from&&!this.slice.openEnd&&!v.slice.openStart){let _=this.slice.size+v.slice.size==0?A.p2.empty:new A.p2(this.slice.content.append(v.slice.content),this.slice.openStart,v.slice.openEnd);return new ve(this.from,this.to+(v.to-v.from),_,this.structure)}else if(v.to==this.from&&!this.slice.openStart&&!v.slice.openEnd){let _=this.slice.size+v.slice.size==0?A.p2.empty:new A.p2(v.slice.content.append(this.slice.content),v.slice.openStart,this.slice.openEnd);return new ve(v.from,this.to,_,this.structure)}else return null}toJSON(){let v={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(v.slice=this.slice.toJSON()),this.structure&&(v.structure=!0),v}static fromJSON(v,_){if(typeof _.from!="number"||typeof _.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ve(_.from,_.to,A.p2.fromJSON(v,_.slice),!!_.structure)}}Ue.jsonID("replace",ve);class Ht extends Ue{constructor(v,_,T,Y,ie,Q,we=!1){super();this.from=v,this.to=_,this.gapFrom=T,this.gapTo=Y,this.slice=ie,this.insert=Q,this.structure=we}apply(v){if(this.structure&&(St(v,this.from,this.gapFrom)||St(v,this.gapTo,this.to)))return ut.fail("Structure gap-replace would overwrite content");let _=v.slice(this.gapFrom,this.gapTo);if(_.openStart||_.openEnd)return ut.fail("Gap is not a flat range");let T=this.slice.insertAt(this.insert,_.content);return T?ut.fromReplace(v,this.from,this.to,T):ut.fail("Content does not fit in gap")}getMap(){return new at([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(v){let _=this.gapTo-this.gapFrom;return new Ht(this.from,this.from+this.slice.size+_,this.from+this.insert,this.from+this.insert+_,v.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(v){let _=v.mapResult(this.from,1),T=v.mapResult(this.to,-1),Y=v.map(this.gapFrom,-1),ie=v.map(this.gapTo,1);return _.deletedAcross&&T.deletedAcross||Y<_.pos||ie>T.pos?null:new Ht(_.pos,T.pos,Y,ie,this.slice,this.insert,this.structure)}toJSON(){let v={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(v.slice=this.slice.toJSON()),this.structure&&(v.structure=!0),v}static fromJSON(v,_){if(typeof _.from!="number"||typeof _.to!="number"||typeof _.gapFrom!="number"||typeof _.gapTo!="number"||typeof _.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ht(_.from,_.to,_.gapFrom,_.gapTo,A.p2.fromJSON(v,_.slice),_.insert,!!_.structure)}}Ue.jsonID("replaceAround",Ht);function St(ue,v,_){let T=ue.resolve(v),Y=_-v,ie=T.depth;for(;Y>0&&ie>0&&T.indexAfter(ie)==T.node(ie).childCount;)ie--,Y--;if(Y>0){let Q=T.node(ie).maybeChild(T.indexAfter(ie));for(;Y>0;){if(!Q||Q.isLeaf)return!0;Q=Q.firstChild,Y--}}return!1}function on(ue,v,_,T){let Y=[],ie=[],Q,we;ue.doc.nodesBetween(v,_,(De,I,o)=>{if(!De.isInline)return;let c=De.marks;if(!T.isInSet(c)&&o.type.allowsMarkType(T.type)){let y=Math.max(I,v),S=Math.min(I+De.nodeSize,_),O=T.addToSet(c);for(let z=0;z<c.length;z++)c[z].isInSet(O)||(Q&&Q.to==y&&Q.mark.eq(c[z])?Q.to=S:Y.push(Q=new We(y,S,c[z])));we&&we.to==y?we.to=S:ie.push(we=new Ye(y,S,T))}}),Y.forEach(De=>ue.step(De)),ie.forEach(De=>ue.step(De))}function Ge(ue,v,_,T){let Y=[],ie=0;ue.doc.nodesBetween(v,_,(Q,we)=>{if(!Q.isInline)return;ie++;let De=null;if(T instanceof A.ZU){let I=Q.marks,o;for(;o=T.isInSet(I);)(De||(De=[])).push(o),I=o.removeFromSet(I)}else T?T.isInSet(Q.marks)&&(De=[T]):De=Q.marks;if(De&&De.length){let I=Math.min(we+Q.nodeSize,_);for(let o=0;o<De.length;o++){let c=De[o],y;for(let S=0;S<Y.length;S++){let O=Y[S];O.step==ie-1&&c.eq(Y[S].style)&&(y=O)}y?(y.to=I,y.step=ie):Y.push({style:c,from:Math.max(we,v),to:I,step:ie})}}}),Y.forEach(Q=>ue.step(new We(Q.from,Q.to,Q.style)))}function Ke(ue,v,_,T=_.contentMatch){let Y=ue.doc.nodeAt(v),ie=[],Q=v+1;for(let we=0;we<Y.childCount;we++){let De=Y.child(we),I=Q+De.nodeSize,o=T.matchType(De.type);if(!o)ie.push(new ve(Q,I,A.p2.empty));else{T=o;for(let c=0;c<De.marks.length;c++)_.allowsMarkType(De.marks[c].type)||ue.step(new We(Q,I,De.marks[c]));if(De.isText&&!_.spec.code){let c,y=/\r?\n|\r/g,S;for(;c=y.exec(De.text);)S||(S=new A.p2(A.HY.from(_.schema.text(" ",_.allowedMarks(De.marks))),0,0)),ie.push(new ve(Q+c.index,Q+c.index+c[0].length,S))}}Q=I}if(!T.validEnd){let we=T.fillBefore(A.HY.empty,!0);ue.replace(Q,Q,new A.p2(we,0,0))}for(let we=ie.length-1;we>=0;we--)ue.step(ie[we])}function Be(ue,v,_){return(v==0||ue.canReplace(v,ue.childCount))&&(_==ue.childCount||ue.canReplace(0,_))}function gt(ue){let _=ue.parent.content.cutByIndex(ue.startIndex,ue.endIndex);for(let T=ue.depth;;--T){let Y=ue.$from.node(T),ie=ue.$from.index(T),Q=ue.$to.indexAfter(T);if(T<ue.depth&&Y.canReplace(ie,Q,_))return T;if(T==0||Y.type.spec.isolating||!Be(Y,ie,Q))break}return null}function Ce(ue,v,_){let{$from:T,$to:Y,depth:ie}=v,Q=T.before(ie+1),we=Y.after(ie+1),De=Q,I=we,o=A.HY.empty,c=0;for(let O=ie,z=!1;O>_;O--)z||T.index(O)>0?(z=!0,o=A.HY.from(T.node(O).copy(o)),c++):De--;let y=A.HY.empty,S=0;for(let O=ie,z=!1;O>_;O--)z||Y.after(O+1)<Y.end(O)?(z=!0,y=A.HY.from(Y.node(O).copy(y)),S++):I++;ue.step(new Ht(De,I,Q,we,new A.p2(o.append(y),c,S),o.size-c,!0))}function U(ue,v,_=null,T=ue){let Y=te(ue,v),ie=Y&&ke(T,v);return ie?Y.map(J).concat({type:v,attrs:_}).concat(ie.map(J)):null}function J(ue){return{type:ue,attrs:null}}function te(ue,v){let{parent:_,startIndex:T,endIndex:Y}=ue,ie=_.contentMatchAt(T).findWrapping(v);if(!ie)return null;let Q=ie.length?ie[0]:v;return _.canReplaceWith(T,Y,Q)?ie:null}function ke(ue,v){let{parent:_,startIndex:T,endIndex:Y}=ue,ie=_.child(T),Q=v.contentMatch.findWrapping(ie.type);if(!Q)return null;let De=(Q.length?Q[Q.length-1]:v).contentMatch;for(let I=T;De&&I<Y;I++)De=De.matchType(_.child(I).type);return!De||!De.validEnd?null:Q}function ze(ue,v,_){let T=A.HY.empty;for(let Q=_.length-1;Q>=0;Q--){if(T.size){let we=_[Q].type.contentMatch.matchFragment(T);if(!we||!we.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}T=A.HY.from(_[Q].type.create(_[Q].attrs,T))}let Y=v.start,ie=v.end;ue.step(new Ht(Y,ie,Y,ie,new A.p2(T,0,0),_.length,!0))}function it(ue,v,_,T,Y){if(!T.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let ie=ue.steps.length;ue.doc.nodesBetween(v,_,(Q,we)=>{if(Q.isTextblock&&!Q.hasMarkup(T,Y)&&Lt(ue.doc,ue.mapping.slice(ie).map(we),T)){ue.clearIncompatible(ue.mapping.slice(ie).map(we,1),T);let De=ue.mapping.slice(ie),I=De.map(we,1),o=De.map(we+Q.nodeSize,1);return ue.step(new Ht(I,o,I+1,o-1,new A.p2(A.HY.from(T.create(Y,null,Q.marks)),0,0),1,!0)),!1}})}function Lt(ue,v,_){let T=ue.resolve(v),Y=T.index();return T.parent.canReplaceWith(Y,Y+1,_)}function Ft(ue,v,_,T,Y){let ie=ue.doc.nodeAt(v);if(!ie)throw new RangeError("No node at given position");_||(_=ie.type);let Q=_.create(T,null,Y||ie.marks);if(ie.isLeaf)return ue.replaceWith(v,v+ie.nodeSize,Q);if(!_.validContent(ie.content))throw new RangeError("Invalid content for node type "+_.name);ue.step(new Ht(v,v+ie.nodeSize,v+1,v+ie.nodeSize-1,new A.p2(A.HY.from(Q),0,0),1,!0))}function Dt(ue,v,_=1,T){let Y=ue.resolve(v),ie=Y.depth-_,Q=T&&T[T.length-1]||Y.parent;if(ie<0||Y.parent.type.spec.isolating||!Y.parent.canReplace(Y.index(),Y.parent.childCount)||!Q.type.validContent(Y.parent.content.cutByIndex(Y.index(),Y.parent.childCount)))return!1;for(let I=Y.depth-1,o=_-2;I>ie;I--,o--){let c=Y.node(I),y=Y.index(I);if(c.type.spec.isolating)return!1;let S=c.content.cutByIndex(y,c.childCount),O=T&&T[o+1];O&&(S=S.replaceChild(0,O.type.create(O.attrs)));let z=T&&T[o]||c;if(!c.canReplace(y+1,c.childCount)||!z.type.validContent(S))return!1}let we=Y.indexAfter(ie),De=T&&T[0];return Y.node(ie).canReplaceWith(we,we,De?De.type:Y.node(ie+1).type)}function xt(ue,v,_=1,T){let Y=ue.doc.resolve(v),ie=A.HY.empty,Q=A.HY.empty;for(let we=Y.depth,De=Y.depth-_,I=_-1;we>De;we--,I--){ie=A.HY.from(Y.node(we).copy(ie));let o=T&&T[I];Q=A.HY.from(o?o.type.create(o.attrs,Q):Y.node(we).copy(Q))}ue.step(new ve(v,v,new A.p2(ie.append(Q),_,_),!0))}function Cn(ue,v){let _=ue.resolve(v),T=_.index();return zn(_.nodeBefore,_.nodeAfter)&&_.parent.canReplace(T,T+1)}function zn(ue,v){return!!(ue&&v&&!ue.isLeaf&&ue.canAppend(v))}function Rn(ue,v,_=-1){let T=ue.resolve(v);for(let Y=T.depth;;Y--){let ie,Q,we=T.index(Y);if(Y==T.depth?(ie=T.nodeBefore,Q=T.nodeAfter):_>0?(ie=T.node(Y+1),we++,Q=T.node(Y).maybeChild(we)):(ie=T.node(Y).maybeChild(we-1),Q=T.node(Y+1)),ie&&!ie.isTextblock&&zn(ie,Q)&&T.node(Y).canReplace(we,we+1))return v;if(Y==0)break;v=_<0?T.before(Y):T.after(Y)}}function Mn(ue,v,_){let T=new ve(v-_,v+_,A.p2.empty,!0);ue.step(T)}function rn(ue,v,_){let T=ue.resolve(v);if(T.parent.canReplaceWith(T.index(),T.index(),_))return v;if(T.parentOffset==0)for(let Y=T.depth-1;Y>=0;Y--){let ie=T.index(Y);if(T.node(Y).canReplaceWith(ie,ie,_))return T.before(Y+1);if(ie>0)return null}if(T.parentOffset==T.parent.content.size)for(let Y=T.depth-1;Y>=0;Y--){let ie=T.indexAfter(Y);if(T.node(Y).canReplaceWith(ie,ie,_))return T.after(Y+1);if(ie<T.node(Y).childCount)return null}return null}function vn(ue,v,_){let T=ue.resolve(v);if(!_.content.size)return v;let Y=_.content;for(let ie=0;ie<_.openStart;ie++)Y=Y.firstChild.content;for(let ie=1;ie<=(_.openStart==0&&_.size?2:1);ie++)for(let Q=T.depth;Q>=0;Q--){let we=Q==T.depth?0:T.pos<=(T.start(Q+1)+T.end(Q+1))/2?-1:1,De=T.index(Q)+(we>0?1:0),I=T.node(Q),o=!1;if(ie==1)o=I.canReplace(De,De,Y);else{let c=I.contentMatchAt(De).findWrapping(Y.firstChild.type);o=c&&I.canReplaceWith(De,De,c[0])}if(o)return we==0?T.pos:we<0?T.before(Q+1):T.after(Q+1)}return null}function bn(ue,v,_=v,T=A.p2.empty){if(v==_&&!T.size)return null;let Y=ue.resolve(v),ie=ue.resolve(_);return mn(Y,ie,T)?new ve(v,_,T):new qn(Y,ie,T).fit()}function mn(ue,v,_){return!_.openStart&&!_.openEnd&&ue.start()==v.start()&&ue.parent.canReplace(ue.index(),v.index(),_.content)}class qn{constructor(v,_,T){this.$from=v,this.$to=_,this.unplaced=T,this.frontier=[],this.placed=A.HY.empty;for(let Y=0;Y<=v.depth;Y++){let ie=v.node(Y);this.frontier.push({type:ie.type,match:ie.contentMatchAt(v.indexAfter(Y))})}for(let Y=v.depth;Y>0;Y--)this.placed=A.HY.from(v.node(Y).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let I=this.findFittable();I?this.placeNodes(I):this.openMore()||this.dropNode()}let v=this.mustMoveInline(),_=this.placed.size-this.depth-this.$from.depth,T=this.$from,Y=this.close(v<0?this.$to:T.doc.resolve(v));if(!Y)return null;let ie=this.placed,Q=T.depth,we=Y.depth;for(;Q&&we&&ie.childCount==1;)ie=ie.firstChild.content,Q--,we--;let De=new A.p2(ie,Q,we);return v>-1?new Ht(T.pos,v,this.$to.pos,this.$to.end(),De,_):De.size||T.pos!=this.$to.pos?new ve(T.pos,Y.pos,De):null}findFittable(){let v=this.unplaced.openStart;for(let _=this.unplaced.content,T=0,Y=this.unplaced.openEnd;T<v;T++){let ie=_.firstChild;if(_.childCount>1&&(Y=0),ie.type.spec.isolating&&Y<=T){v=T;break}_=ie.content}for(let _=1;_<=2;_++)for(let T=_==1?v:this.unplaced.openStart;T>=0;T--){let Y,ie=null;T?(ie=cn(this.unplaced.content,T-1).firstChild,Y=ie.content):Y=this.unplaced.content;let Q=Y.firstChild;for(let we=this.depth;we>=0;we--){let{type:De,match:I}=this.frontier[we],o,c=null;if(_==1&&(Q?I.matchType(Q.type)||(c=I.fillBefore(A.HY.from(Q),!1)):ie&&De.compatibleContent(ie.type)))return{sliceDepth:T,frontierDepth:we,parent:ie,inject:c};if(_==2&&Q&&(o=I.findWrapping(Q.type)))return{sliceDepth:T,frontierDepth:we,parent:ie,wrap:o};if(ie&&I.matchType(ie.type))break}}}openMore(){let{content:v,openStart:_,openEnd:T}=this.unplaced,Y=cn(v,_);return!Y.childCount||Y.firstChild.isLeaf?!1:(this.unplaced=new A.p2(v,_+1,Math.max(T,Y.size+_>=v.size-T?_+1:0)),!0)}dropNode(){let{content:v,openStart:_,openEnd:T}=this.unplaced,Y=cn(v,_);if(Y.childCount<=1&&_>0){let ie=v.size-_<=_+Y.size;this.unplaced=new A.p2(In(v,_-1,1),_-1,ie?_-1:T)}else this.unplaced=new A.p2(In(v,_,1),_,T)}placeNodes({sliceDepth:v,frontierDepth:_,parent:T,inject:Y,wrap:ie}){for(;this.depth>_;)this.closeFrontierNode();if(ie)for(let z=0;z<ie.length;z++)this.openFrontierNode(ie[z]);let Q=this.unplaced,we=T?T.content:Q.content,De=Q.openStart-v,I=0,o=[],{match:c,type:y}=this.frontier[_];if(Y){for(let z=0;z<Y.childCount;z++)o.push(Y.child(z));c=c.matchFragment(Y)}let S=we.size+v-(Q.content.size-Q.openEnd);for(;I<we.childCount;){let z=we.child(I),j=c.matchType(z.type);if(!j)break;I++,(I>1||De==0||z.content.size)&&(c=j,o.push(Pn(z.mark(y.allowedMarks(z.marks)),I==1?De:0,I==we.childCount?S:-1)))}let O=I==we.childCount;O||(S=-1),this.placed=wn(this.placed,_,A.HY.from(o)),this.frontier[_].match=c,O&&S<0&&T&&T.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let z=0,j=we;z<S;z++){let ce=j.lastChild;this.frontier.push({type:ce.type,match:ce.contentMatchAt(ce.childCount)}),j=ce.content}this.unplaced=O?v==0?A.p2.empty:new A.p2(In(Q.content,v-1,1),v-1,S<0?Q.openEnd:v-1):new A.p2(In(Q.content,v,I),Q.openStart,Q.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let v=this.frontier[this.depth],_;if(!v.type.isTextblock||!Sn(this.$to,this.$to.depth,v.type,v.match,!1)||this.$to.depth==this.depth&&(_=this.findCloseLevel(this.$to))&&_.depth==this.depth)return-1;let{depth:T}=this.$to,Y=this.$to.after(T);for(;T>1&&Y==this.$to.end(--T);)++Y;return Y}findCloseLevel(v){e:for(let _=Math.min(this.depth,v.depth);_>=0;_--){let{match:T,type:Y}=this.frontier[_],ie=_<v.depth&&v.end(_+1)==v.pos+(v.depth-(_+1)),Q=Sn(v,_,Y,T,ie);if(!!Q){for(let we=_-1;we>=0;we--){let{match:De,type:I}=this.frontier[we],o=Sn(v,we,I,De,!0);if(!o||o.childCount)continue e}return{depth:_,fit:Q,move:ie?v.doc.resolve(v.after(_+1)):v}}}}close(v){let _=this.findCloseLevel(v);if(!_)return null;for(;this.depth>_.depth;)this.closeFrontierNode();_.fit.childCount&&(this.placed=wn(this.placed,_.depth,_.fit)),v=_.move;for(let T=_.depth+1;T<=v.depth;T++){let Y=v.node(T),ie=Y.type.contentMatch.fillBefore(Y.content,!0,v.index(T));this.openFrontierNode(Y.type,Y.attrs,ie)}return v}openFrontierNode(v,_=null,T){let Y=this.frontier[this.depth];Y.match=Y.match.matchType(v),this.placed=wn(this.placed,this.depth,A.HY.from(v.create(_,T))),this.frontier.push({type:v,match:v.contentMatch})}closeFrontierNode(){let _=this.frontier.pop().match.fillBefore(A.HY.empty,!0);_.childCount&&(this.placed=wn(this.placed,this.frontier.length,_))}}function In(ue,v,_){return v==0?ue.cutByIndex(_,ue.childCount):ue.replaceChild(0,ue.firstChild.copy(In(ue.firstChild.content,v-1,_)))}function wn(ue,v,_){return v==0?ue.append(_):ue.replaceChild(ue.childCount-1,ue.lastChild.copy(wn(ue.lastChild.content,v-1,_)))}function cn(ue,v){for(let _=0;_<v;_++)ue=ue.firstChild.content;return ue}function Pn(ue,v,_){if(v<=0)return ue;let T=ue.content;return v>1&&(T=T.replaceChild(0,Pn(T.firstChild,v-1,T.childCount==1?_-1:0))),v>0&&(T=ue.type.contentMatch.fillBefore(T).append(T),_<=0&&(T=T.append(ue.type.contentMatch.matchFragment(T).fillBefore(A.HY.empty,!0)))),ue.copy(T)}function Sn(ue,v,_,T,Y){let ie=ue.node(v),Q=Y?ue.indexAfter(v):ue.index(v);if(Q==ie.childCount&&!_.compatibleContent(ie.type))return null;let we=T.fillBefore(ie.content,!0,Q);return we&&!Bn(_,ie.content,Q)?we:null}function Bn(ue,v,_){for(let T=_;T<v.childCount;T++)if(!ue.allowsMarks(v.child(T).marks))return!0;return!1}function Tn(ue){return ue.spec.defining||ue.spec.definingForContent}function Xn(ue,v,_,T){if(!T.size)return ue.deleteRange(v,_);let Y=ue.doc.resolve(v),ie=ue.doc.resolve(_);if(mn(Y,ie,T))return ue.step(new ve(v,_,T));let Q=Yn(Y,ue.doc.resolve(_));Q[Q.length-1]==0&&Q.pop();let we=-(Y.depth+1);Q.unshift(we);for(let y=Y.depth,S=Y.pos-1;y>0;y--,S--){let O=Y.node(y).type.spec;if(O.defining||O.definingAsContext||O.isolating)break;Q.indexOf(y)>-1?we=y:Y.before(y)==S&&Q.splice(1,0,-y)}let De=Q.indexOf(we),I=[],o=T.openStart;for(let y=T.content,S=0;;S++){let O=y.firstChild;if(I.push(O),S==T.openStart)break;y=O.content}for(let y=o-1;y>=0;y--){let S=I[y],O=Tn(S.type);if(O&&!S.sameMarkup(Y.node(Math.abs(we)-1)))o=y;else if(O||!S.type.isTextblock)break}for(let y=T.openStart;y>=0;y--){let S=(y+o+1)%(T.openStart+1),O=I[S];if(!!O)for(let z=0;z<Q.length;z++){let j=Q[(z+De)%Q.length],ce=!0;j<0&&(ce=!1,j=-j);let tt=Y.node(j-1),L=Y.index(j-1);if(tt.canReplaceWith(L,L,O.type,O.marks))return ue.replace(Y.before(j),ce?ie.after(j):_,new A.p2(tr(T.content,0,T.openStart,S),S,T.openEnd))}}let c=ue.steps.length;for(let y=Q.length-1;y>=0&&(ue.replace(v,_,T),!(ue.steps.length>c));y--){let S=Q[y];S<0||(v=Y.before(S),_=ie.after(S))}}function tr(ue,v,_,T,Y){if(v<_){let ie=ue.firstChild;ue=ue.replaceChild(0,ie.copy(tr(ie.content,v+1,_,T,ie)))}if(v>T){let ie=Y.contentMatchAt(0),Q=ie.fillBefore(ue).append(ue);ue=Q.append(ie.matchFragment(Q).fillBefore(A.HY.empty,!0))}return ue}function _n(ue,v,_,T){if(!T.isInline&&v==_&&ue.doc.resolve(v).parent.content.size){let Y=rn(ue.doc,v,T.type);Y!=null&&(v=_=Y)}ue.replaceRange(v,_,new A.p2(A.HY.from(T),0,0))}function Jn(ue,v,_){let T=ue.doc.resolve(v),Y=ue.doc.resolve(_),ie=Yn(T,Y);for(let Q=0;Q<ie.length;Q++){let we=ie[Q],De=Q==ie.length-1;if(De&&we==0||T.node(we).type.contentMatch.validEnd)return ue.delete(T.start(we),Y.end(we));if(we>0&&(De||T.node(we-1).canReplace(T.index(we-1),Y.indexAfter(we-1))))return ue.delete(T.before(we),Y.after(we))}for(let Q=1;Q<=T.depth&&Q<=Y.depth;Q++)if(v-T.start(Q)==T.depth-Q&&_>T.end(Q)&&Y.end(Q)-_!=Y.depth-Q)return ue.delete(T.before(Q),_);ue.delete(v,_)}function Yn(ue,v){let _=[],T=Math.min(ue.depth,v.depth);for(let Y=T;Y>=0;Y--){let ie=ue.start(Y);if(ie<ue.pos-(ue.depth-Y)||v.end(Y)>v.pos+(v.depth-Y)||ue.node(Y).type.spec.isolating||v.node(Y).type.spec.isolating)break;(ie==v.start(Y)||Y==ue.depth&&Y==v.depth&&ue.parent.inlineContent&&v.parent.inlineContent&&Y&&v.start(Y-1)==ie-1)&&_.push(Y)}return _}class Dn extends Ue{constructor(v,_,T){super();this.pos=v,this.attr=_,this.value=T}apply(v){let _=v.nodeAt(this.pos);if(!_)return ut.fail("No node at attribute step's position");let T=Object.create(null);for(let ie in _.attrs)T[ie]=_.attrs[ie];T[this.attr]=this.value;let Y=_.type.create(T,null,_.marks);return ut.fromReplace(v,this.pos,this.pos+1,new A.p2(A.HY.from(Y),0,_.isLeaf?0:1))}getMap(){return at.empty}invert(v){return new Dn(this.pos,this.attr,v.nodeAt(this.pos).attrs[this.attr])}map(v){let _=v.mapResult(this.pos,1);return _.deletedAfter?null:new Dn(_.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(v,_){if(typeof _.pos!="number"||typeof _.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Dn(_.pos,_.attr,_.value)}}Ue.jsonID("attr",Dn);let Nn=class extends Error{};Nn=function ue(v){let _=Error.call(this,v);return _.__proto__=ue.prototype,_},Nn.prototype=Object.create(Error.prototype),Nn.prototype.constructor=Nn,Nn.prototype.name="TransformError";class Hn{constructor(v){this.doc=v,this.steps=[],this.docs=[],this.mapping=new dt}get before(){return this.docs.length?this.docs[0]:this.doc}step(v){let _=this.maybeStep(v);if(_.failed)throw new Nn(_.failed);return this}maybeStep(v){let _=v.apply(this.doc);return _.failed||this.addStep(v,_.doc),_}get docChanged(){return this.steps.length>0}addStep(v,_){this.docs.push(this.doc),this.steps.push(v),this.mapping.appendMap(v.getMap()),this.doc=_}replace(v,_=v,T=A.p2.empty){let Y=bn(this.doc,v,_,T);return Y&&this.step(Y),this}replaceWith(v,_,T){return this.replace(v,_,new A.p2(A.HY.from(T),0,0))}delete(v,_){return this.replace(v,_,A.p2.empty)}insert(v,_){return this.replaceWith(v,v,_)}replaceRange(v,_,T){return Xn(this,v,_,T),this}replaceRangeWith(v,_,T){return _n(this,v,_,T),this}deleteRange(v,_){return Jn(this,v,_),this}lift(v,_){return Ce(this,v,_),this}join(v,_=1){return Mn(this,v,_),this}wrap(v,_){return ze(this,v,_),this}setBlockType(v,_=v,T,Y=null){return it(this,v,_,T,Y),this}setNodeMarkup(v,_,T=null,Y){return Ft(this,v,_,T,Y),this}setNodeAttribute(v,_,T){return this.step(new Dn(v,_,T)),this}addNodeMark(v,_){return this.step(new Rt(v,_)),this}removeNodeMark(v,_){if(!(_ instanceof A.vc)){let T=this.doc.nodeAt(v);if(!T)throw new RangeError("No node at position "+v);if(_=_.isInSet(T.marks),!_)return this}return this.step(new Bt(v,_)),this}split(v,_=1,T){return xt(this,v,_,T),this}addMark(v,_,T){return on(this,v,_,T),this}removeMark(v,_,T){return Ge(this,v,_,T),this}clearIncompatible(v,_,T){return Ke(this,v,_,T),this}}},35371:function(En,Ot,ge){"use strict";ge.d(Ot,{p:function(){return mr},EH:function(){return ar},tk:function(){return Xt}});var A=ge(66961),Ne=ge(60052),Ee=ge(64520);const de=function(i){for(var n=0;;n++)if(i=i.previousSibling,!i)return n},le=function(i){let n=i.assignedSlot||i.parentNode;return n&&n.nodeType==11?n.host:n};let qe=null;const je=function(i,n,a){let l=qe||(qe=document.createRange());return l.setEnd(i,a==null?i.nodeValue.length:a),l.setStart(i,n||0),l},me=function(i,n,a,l){return a&&(He(i,n,a,l,-1)||He(i,n,a,l,1))},Fe=/^(img|br|input|textarea|hr)$/i;function He(i,n,a,l,t){for(;;){if(i==a&&n==l)return!0;if(n==(t<0?0:Xe(i))){let e=i.parentNode;if(!e||e.nodeType!=1||dt(i)||Fe.test(i.nodeName)||i.contentEditable=="false")return!1;n=de(i)+(t<0?0:1),i=e}else if(i.nodeType==1){if(i=i.childNodes[n+(t<0?-1:0)],i.contentEditable=="false")return!1;n=t<0?Xe(i):0}else return!1}}function Xe(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function at(i,n,a){for(let l=n==0,t=n==Xe(i);l||t;){if(i==a)return!0;let e=de(i);if(i=i.parentNode,!i)return!1;l=l&&e==0,t=t&&e==Xe(i)}}function dt(i){let n;for(let a=i;a&&!(n=a.pmViewDesc);a=a.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==i||n.contentDOM==i)}const st=function(i){return i.focusNode&&me(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function Ue(i,n){let a=document.createEvent("Event");return a.initEvent("keydown",!0,!0),a.keyCode=i,a.key=a.code=n,a}function ut(i){let n=i.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function Pe(i,n,a){if(i.caretPositionFromPoint)try{let l=i.caretPositionFromPoint(n,a);if(l)return{node:l.offsetNode,offset:l.offset}}catch(l){}if(i.caretRangeFromPoint){let l=i.caretRangeFromPoint(n,a);if(l)return{node:l.startContainer,offset:l.startOffset}}}const Ye=typeof navigator!="undefined"?navigator:null,We=typeof document!="undefined"?document:null,Rt=Ye&&Ye.userAgent||"",Bt=/Edge\/(\d+)/.exec(Rt),ve=/MSIE \d/.exec(Rt),Ht=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Rt),St=!!(ve||Ht||Bt),on=ve?document.documentMode:Ht?+Ht[1]:Bt?+Bt[1]:0,Ge=!St&&/gecko\/(\d+)/i.test(Rt);Ge&&+(/Firefox\/(\d+)/.exec(Rt)||[0,0])[1];const Ke=!St&&/Chrome\/(\d+)/.exec(Rt),Be=!!Ke,gt=Ke?+Ke[1]:0,Ce=!St&&!!Ye&&/Apple Computer/.test(Ye.vendor),U=Ce&&(/Mobile\/\w+/.test(Rt)||!!Ye&&Ye.maxTouchPoints>2),J=U||(Ye?/Mac/.test(Ye.platform):!1),te=Ye?/Win/.test(Ye.platform):!1,ke=/Android \d/.test(Rt),ze=!!We&&"webkitFontSmoothing"in We.documentElement.style,it=ze?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Lt(i){return{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function Ft(i,n){return typeof i=="number"?i:i[n]}function Dt(i){let n=i.getBoundingClientRect(),a=n.width/i.offsetWidth||1,l=n.height/i.offsetHeight||1;return{left:n.left,right:n.left+i.clientWidth*a,top:n.top,bottom:n.top+i.clientHeight*l}}function xt(i,n,a){let l=i.someProp("scrollThreshold")||0,t=i.someProp("scrollMargin")||5,e=i.dom.ownerDocument;for(let r=a||i.dom;r;r=le(r)){if(r.nodeType!=1)continue;let s=r,u=s==e.body,p=u?Lt(e):Dt(s),g=0,C=0;if(n.top<p.top+Ft(l,"top")?C=-(p.top-n.top+Ft(t,"top")):n.bottom>p.bottom-Ft(l,"bottom")&&(C=n.bottom-n.top>p.bottom-p.top?n.top+Ft(t,"top")-p.top:n.bottom-p.bottom+Ft(t,"bottom")),n.left<p.left+Ft(l,"left")?g=-(p.left-n.left+Ft(t,"left")):n.right>p.right-Ft(l,"right")&&(g=n.right-p.right+Ft(t,"right")),g||C)if(u)e.defaultView.scrollBy(g,C);else{let D=s.scrollLeft,$=s.scrollTop;C&&(s.scrollTop+=C),g&&(s.scrollLeft+=g);let B=s.scrollLeft-D,G=s.scrollTop-$;n={left:n.left-B,top:n.top-G,right:n.right-B,bottom:n.bottom-G}}if(u||/^(fixed|sticky)$/.test(getComputedStyle(r).position))break}}function Cn(i){let n=i.dom.getBoundingClientRect(),a=Math.max(0,n.top),l,t;for(let e=(n.left+n.right)/2,r=a+1;r<Math.min(innerHeight,n.bottom);r+=5){let s=i.root.elementFromPoint(e,r);if(!s||s==i.dom||!i.dom.contains(s))continue;let u=s.getBoundingClientRect();if(u.top>=a-20){l=s,t=u.top;break}}return{refDOM:l,refTop:t,stack:zn(i.dom)}}function zn(i){let n=[],a=i.ownerDocument;for(let l=i;l&&(n.push({dom:l,top:l.scrollTop,left:l.scrollLeft}),i!=a);l=le(l));return n}function Rn({refDOM:i,refTop:n,stack:a}){let l=i?i.getBoundingClientRect().top:0;Mn(a,l==0?0:l-n)}function Mn(i,n){for(let a=0;a<i.length;a++){let{dom:l,top:t,left:e}=i[a];l.scrollTop!=t+n&&(l.scrollTop=t+n),l.scrollLeft!=e&&(l.scrollLeft=e)}}let rn=null;function vn(i){if(i.setActive)return i.setActive();if(rn)return i.focus(rn);let n=zn(i);i.focus(rn==null?{get preventScroll(){return rn={preventScroll:!0},!0}}:void 0),rn||(rn=!1,Mn(n,0))}function bn(i,n){let a,l=2e8,t,e=0,r=n.top,s=n.top,u,p;for(let g=i.firstChild,C=0;g;g=g.nextSibling,C++){let D;if(g.nodeType==1)D=g.getClientRects();else if(g.nodeType==3)D=je(g).getClientRects();else continue;for(let $=0;$<D.length;$++){let B=D[$];if(B.top<=r&&B.bottom>=s){r=Math.max(B.bottom,r),s=Math.min(B.top,s);let G=B.left>n.left?B.left-n.left:B.right<n.left?n.left-B.right:0;if(G<l){a=g,l=G,t=G&&a.nodeType==3?{left:B.right<n.left?B.right:B.left,top:n.top}:n,g.nodeType==1&&G&&(e=C+(n.left>=(B.left+B.right)/2?1:0));continue}}else B.top>n.top&&!u&&B.left<=n.left&&B.right>=n.left&&(u=g,p={left:Math.max(B.left,Math.min(B.right,n.left)),top:B.top});!a&&(n.left>=B.right&&n.top>=B.top||n.left>=B.left&&n.top>=B.bottom)&&(e=C+1)}}return!a&&u&&(a=u,t=p,l=0),a&&a.nodeType==3?mn(a,t):!a||l&&a.nodeType==1?{node:i,offset:e}:bn(a,t)}function mn(i,n){let a=i.nodeValue.length,l=document.createRange();for(let t=0;t<a;t++){l.setEnd(i,t+1),l.setStart(i,t);let e=Tn(l,1);if(e.top!=e.bottom&&qn(n,e))return{node:i,offset:t+(n.left>=(e.left+e.right)/2?1:0)}}return{node:i,offset:0}}function qn(i,n){return i.left>=n.left-1&&i.left<=n.right+1&&i.top>=n.top-1&&i.top<=n.bottom+1}function In(i,n){let a=i.parentNode;return a&&/^li$/i.test(a.nodeName)&&n.left<i.getBoundingClientRect().left?a:i}function wn(i,n,a){let{node:l,offset:t}=bn(n,a),e=-1;if(l.nodeType==1&&!l.firstChild){let r=l.getBoundingClientRect();e=r.left!=r.right&&a.left>(r.left+r.right)/2?1:-1}return i.docView.posFromDOM(l,t,e)}function cn(i,n,a,l){let t=-1;for(let e=n,r=!1;e!=i.dom;){let s=i.docView.nearestDesc(e,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent&&!r||!s.contentDOM)){let u=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&!r&&(r=!0,u.left>l.left||u.top>l.top?t=s.posBefore:(u.right<l.left||u.bottom<l.top)&&(t=s.posAfter)),!s.contentDOM&&t<0&&!s.node.isText)return(s.node.isBlock?l.top<(u.top+u.bottom)/2:l.left<(u.left+u.right)/2)?s.posBefore:s.posAfter}e=s.dom.parentNode}return t>-1?t:i.docView.posFromDOM(n,a,-1)}function Pn(i,n,a){let l=i.childNodes.length;if(l&&a.top<a.bottom)for(let t=Math.max(0,Math.min(l-1,Math.floor(l*(n.top-a.top)/(a.bottom-a.top))-2)),e=t;;){let r=i.childNodes[e];if(r.nodeType==1){let s=r.getClientRects();for(let u=0;u<s.length;u++){let p=s[u];if(qn(n,p))return Pn(r,n,p)}}if((e=(e+1)%l)==t)break}return i}function Sn(i,n){let a=i.dom.ownerDocument,l,t=0,e=Pe(a,n.left,n.top);e&&({node:l,offset:t}=e);let r=(i.root.elementFromPoint?i.root:a).elementFromPoint(n.left,n.top),s;if(!r||!i.dom.contains(r.nodeType!=1?r.parentNode:r)){let p=i.dom.getBoundingClientRect();if(!qn(n,p)||(r=Pn(i.dom,n,p),!r))return null}if(Ce)for(let p=r;l&&p;p=le(p))p.draggable&&(l=void 0);if(r=In(r,n),l){if(Ge&&l.nodeType==1&&(t=Math.min(t,l.childNodes.length),t<l.childNodes.length)){let p=l.childNodes[t],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=n.left&&g.bottom>n.top&&t++}l==i.dom&&t==l.childNodes.length-1&&l.lastChild.nodeType==1&&n.top>l.lastChild.getBoundingClientRect().bottom?s=i.state.doc.content.size:(t==0||l.nodeType!=1||l.childNodes[t-1].nodeName!="BR")&&(s=cn(i,l,t,n))}s==null&&(s=wn(i,r,n));let u=i.docView.nearestDesc(r,!0);return{pos:s,inside:u?u.posAtStart-u.border:-1}}function Bn(i){return i.top<i.bottom||i.left<i.right}function Tn(i,n){let a=i.getClientRects();if(a.length){let l=a[n<0?0:a.length-1];if(Bn(l))return l}return Array.prototype.find.call(a,Bn)||i.getBoundingClientRect()}const Xn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tr(i,n,a){let{node:l,offset:t,atom:e}=i.docView.domFromPos(n,a<0?-1:1),r=ze||Ge;if(l.nodeType==3)if(r&&(Xn.test(l.nodeValue)||(a<0?!t:t==l.nodeValue.length))){let u=Tn(je(l,t,t),a);if(Ge&&t&&/\s/.test(l.nodeValue[t-1])&&t<l.nodeValue.length){let p=Tn(je(l,t-1,t-1),-1);if(p.top==u.top){let g=Tn(je(l,t,t+1),-1);if(g.top!=u.top)return _n(g,g.left<p.left)}}return u}else{let u=t,p=t,g=a<0?1:-1;return a<0&&!t?(p++,g=-1):a>=0&&t==l.nodeValue.length?(u--,g=1):a<0?u--:p++,_n(Tn(je(l,u,p),g),g<0)}if(!i.state.doc.resolve(n-(e||0)).parent.inlineContent){if(e==null&&t&&(a<0||t==Xe(l))){let u=l.childNodes[t-1];if(u.nodeType==1)return Jn(u.getBoundingClientRect(),!1)}if(e==null&&t<Xe(l)){let u=l.childNodes[t];if(u.nodeType==1)return Jn(u.getBoundingClientRect(),!0)}return Jn(l.getBoundingClientRect(),a>=0)}if(e==null&&t&&(a<0||t==Xe(l))){let u=l.childNodes[t-1],p=u.nodeType==3?je(u,Xe(u)-(r?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(p)return _n(Tn(p,1),!1)}if(e==null&&t<Xe(l)){let u=l.childNodes[t];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let p=u?u.nodeType==3?je(u,0,r?0:1):u.nodeType==1?u:null:null;if(p)return _n(Tn(p,-1),!0)}return _n(Tn(l.nodeType==3?je(l):l,-a),a>=0)}function _n(i,n){if(i.width==0)return i;let a=n?i.left:i.right;return{top:i.top,bottom:i.bottom,left:a,right:a}}function Jn(i,n){if(i.height==0)return i;let a=n?i.top:i.bottom;return{top:a,bottom:a,left:i.left,right:i.right}}function Yn(i,n,a){let l=i.state,t=i.root.activeElement;l!=n&&i.updateState(n),t!=i.dom&&i.focus();try{return a()}finally{l!=n&&i.updateState(l),t!=i.dom&&t&&t.focus()}}function Dn(i,n,a){let l=n.selection,t=a=="up"?l.$from:l.$to;return Yn(i,n,()=>{let{node:e}=i.docView.domFromPos(t.pos,a=="up"?-1:1);for(;;){let s=i.docView.nearestDesc(e,!0);if(!s)break;if(s.node.isBlock){e=s.contentDOM||s.dom;break}e=s.dom.parentNode}let r=tr(i,t.pos,1);for(let s=e.firstChild;s;s=s.nextSibling){let u;if(s.nodeType==1)u=s.getClientRects();else if(s.nodeType==3)u=je(s,0,s.nodeValue.length).getClientRects();else continue;for(let p=0;p<u.length;p++){let g=u[p];if(g.bottom>g.top+1&&(a=="up"?r.top-g.top>(g.bottom-r.top)*2:g.bottom-r.bottom>(r.bottom-g.top)*2))return!1}}return!0})}const Nn=/[\u0590-\u08ac]/;function Hn(i,n,a){let{$head:l}=n.selection;if(!l.parent.isTextblock)return!1;let t=l.parentOffset,e=!t,r=t==l.parent.content.size,s=i.domSelection();return!Nn.test(l.parent.textContent)||!s.modify?a=="left"||a=="backward"?e:r:Yn(i,n,()=>{let{focusNode:u,focusOffset:p,anchorNode:g,anchorOffset:C}=i.domSelectionRange(),D=s.caretBidiLevel;s.modify("move",a,"character");let $=l.depth?i.docView.domAfterPos(l.before()):i.dom,{focusNode:B,focusOffset:G}=i.domSelectionRange(),ee=B&&!$.contains(B.nodeType==1?B:B.parentNode)||u==B&&p==G;try{s.collapse(g,C),u&&(u!=g||p!=C)&&s.extend&&s.extend(u,p)}catch(be){}return D!=null&&(s.caretBidiLevel=D),ee})}let ue=null,v=null,_=!1;function T(i,n,a){return ue==n&&v==a?_:(ue=n,v=a,_=a=="up"||a=="down"?Dn(i,n,a):Hn(i,n,a))}const Y=0,ie=1,Q=2,we=3;class De{constructor(n,a,l,t){this.parent=n,this.children=a,this.dom=l,this.contentDOM=t,this.dirty=Y,l.pmViewDesc=this}matchesWidget(n){return!1}matchesMark(n){return!1}matchesNode(n,a,l){return!1}matchesHack(n){return!1}parseRule(){return null}stopEvent(n){return!1}get size(){let n=0;for(let a=0;a<this.children.length;a++)n+=this.children[a].size;return n}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let n=0;n<this.children.length;n++)this.children[n].destroy()}posBeforeChild(n){for(let a=0,l=this.posAtStart;;a++){let t=this.children[a];if(t==n)return l;l+=t.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(n,a,l){if(this.contentDOM&&this.contentDOM.contains(n.nodeType==1?n:n.parentNode))if(l<0){let e,r;if(n==this.contentDOM)e=n.childNodes[a-1];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;e=n.previousSibling}for(;e&&!((r=e.pmViewDesc)&&r.parent==this);)e=e.previousSibling;return e?this.posBeforeChild(r)+r.size:this.posAtStart}else{let e,r;if(n==this.contentDOM)e=n.childNodes[a];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;e=n.nextSibling}for(;e&&!((r=e.pmViewDesc)&&r.parent==this);)e=e.nextSibling;return e?this.posBeforeChild(r):this.posAtEnd}let t;if(n==this.dom&&this.contentDOM)t=a>de(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))t=n.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(a==0)for(let e=n;;e=e.parentNode){if(e==this.dom){t=!1;break}if(e.previousSibling)break}if(t==null&&a==n.childNodes.length)for(let e=n;;e=e.parentNode){if(e==this.dom){t=!0;break}if(e.nextSibling)break}}return(t==null?l>0:t)?this.posAtEnd:this.posAtStart}nearestDesc(n,a=!1){for(let l=!0,t=n;t;t=t.parentNode){let e=this.getDesc(t),r;if(e&&(!a||e.node))if(l&&(r=e.nodeDOM)&&!(r.nodeType==1?r.contains(n.nodeType==1?n:n.parentNode):r==n))l=!1;else return e}}getDesc(n){let a=n.pmViewDesc;for(let l=a;l;l=l.parent)if(l==this)return a}posFromDOM(n,a,l){for(let t=n;t;t=t.parentNode){let e=this.getDesc(t);if(e)return e.localPosFromDOM(n,a,l)}return-1}descAt(n){for(let a=0,l=0;a<this.children.length;a++){let t=this.children[a],e=l+t.size;if(l==n&&e!=l){for(;!t.border&&t.children.length;)t=t.children[0];return t}if(n<e)return t.descAt(n-l-t.border);l=e}}domFromPos(n,a){if(!this.contentDOM)return{node:this.dom,offset:0,atom:n+1};let l=0,t=0;for(let e=0;l<this.children.length;l++){let r=this.children[l],s=e+r.size;if(s>n||r instanceof z){t=n-e;break}e=s}if(t)return this.children[l].domFromPos(t-this.children[l].border,a);for(let e;l&&!(e=this.children[l-1]).size&&e instanceof I&&e.side>=0;l--);if(a<=0){let e,r=!0;for(;e=l?this.children[l-1]:null,!(!e||e.dom.parentNode==this.contentDOM);l--,r=!1);return e&&a&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,a):{node:this.contentDOM,offset:e?de(e.dom)+1:0}}else{let e,r=!0;for(;e=l<this.children.length?this.children[l]:null,!(!e||e.dom.parentNode==this.contentDOM);l++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,a):{node:this.contentDOM,offset:e?de(e.dom):this.contentDOM.childNodes.length}}}parseRange(n,a,l=0){if(this.children.length==0)return{node:this.contentDOM,from:n,to:a,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let t=-1,e=-1;for(let r=l,s=0;;s++){let u=this.children[s],p=r+u.size;if(t==-1&&n<=p){let g=r+u.border;if(n>=g&&a<=p-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(n,a,g);n=r;for(let C=s;C>0;C--){let D=this.children[C-1];if(D.size&&D.dom.parentNode==this.contentDOM&&!D.emptyChildAt(1)){t=de(D.dom)+1;break}n-=D.size}t==-1&&(t=0)}if(t>-1&&(p>a||s==this.children.length-1)){a=p;for(let g=s+1;g<this.children.length;g++){let C=this.children[g];if(C.size&&C.dom.parentNode==this.contentDOM&&!C.emptyChildAt(-1)){e=de(C.dom);break}a+=C.size}e==-1&&(e=this.contentDOM.childNodes.length);break}r=p}return{node:this.contentDOM,from:n,to:a,fromOffset:t,toOffset:e}}emptyChildAt(n){if(this.border||!this.contentDOM||!this.children.length)return!1;let a=this.children[n<0?0:this.children.length-1];return a.size==0||a.emptyChildAt(n)}domAfterPos(n){let{node:a,offset:l}=this.domFromPos(n,0);if(a.nodeType!=1||l==a.childNodes.length)throw new RangeError("No node after pos "+n);return a.childNodes[l]}setSelection(n,a,l,t=!1){let e=Math.min(n,a),r=Math.max(n,a);for(let D=0,$=0;D<this.children.length;D++){let B=this.children[D],G=$+B.size;if(e>$&&r<G)return B.setSelection(n-$-B.border,a-$-B.border,l,t);$=G}let s=this.domFromPos(n,n?-1:1),u=a==n?s:this.domFromPos(a,a?-1:1),p=l.getSelection(),g=!1;if((Ge||Ce)&&n==a){let{node:D,offset:$}=s;if(D.nodeType==3){if(g=!!($&&D.nodeValue[$-1]==`
`),g&&$==D.nodeValue.length)for(let B=D,G;B;B=B.parentNode){if(G=B.nextSibling){G.nodeName=="BR"&&(s=u={node:G.parentNode,offset:de(G)+1});break}let ee=B.pmViewDesc;if(ee&&ee.node&&ee.node.isBlock)break}}else{let B=D.childNodes[$-1];g=B&&(B.nodeName=="BR"||B.contentEditable=="false")}}if(Ge&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let D=p.focusNode.childNodes[p.focusOffset];D&&D.contentEditable=="false"&&(t=!0)}if(!(t||g&&Ce)&&me(s.node,s.offset,p.anchorNode,p.anchorOffset)&&me(u.node,u.offset,p.focusNode,p.focusOffset))return;let C=!1;if((p.extend||n==a)&&!g){p.collapse(s.node,s.offset);try{n!=a&&p.extend(u.node,u.offset),C=!0}catch(D){}}if(!C){if(n>a){let $=s;s=u,u=$}let D=document.createRange();D.setEnd(u.node,u.offset),D.setStart(s.node,s.offset),p.removeAllRanges(),p.addRange(D)}}ignoreMutation(n){return!this.contentDOM&&n.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(n,a){for(let l=0,t=0;t<this.children.length;t++){let e=this.children[t],r=l+e.size;if(l==r?n<=r&&a>=l:n<r&&a>l){let s=l+e.border,u=r-e.border;if(n>=s&&a<=u){this.dirty=n==l||a==r?Q:ie,n==s&&a==u&&(e.contentLost||e.dom.parentNode!=this.contentDOM)?e.dirty=we:e.markDirty(n-s,a-s);return}else e.dirty=e.dom==e.contentDOM&&e.dom.parentNode==this.contentDOM&&!e.children.length?Q:we}l=r}this.dirty=Q}markParentsDirty(){let n=1;for(let a=this.parent;a;a=a.parent,n++){let l=n==1?Q:ie;a.dirty<l&&(a.dirty=l)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class I extends De{constructor(n,a,l,t){let e,r=a.type.toDOM;if(typeof r=="function"&&(r=r(l,()=>{if(!e)return t;if(e.parent)return e.parent.posBeforeChild(e)})),!a.type.spec.raw){if(r.nodeType!=1){let s=document.createElement("span");s.appendChild(r),r=s}r.contentEditable="false",r.classList.add("ProseMirror-widget")}super(n,[],r,null);this.widget=a,this.widget=a,e=this}matchesWidget(n){return this.dirty==Y&&n.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(n){let a=this.widget.spec.stopEvent;return a?a(n):!1}ignoreMutation(n){return n.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class o extends De{constructor(n,a,l,t){super(n,[],a,null);this.textDOM=l,this.text=t}get size(){return this.text.length}localPosFromDOM(n,a){return n!=this.textDOM?this.posAtStart+(a?this.size:0):this.posAtStart+a}domFromPos(n){return{node:this.textDOM,offset:n}}ignoreMutation(n){return n.type==="characterData"&&n.target.nodeValue==n.oldValue}}class c extends De{constructor(n,a,l,t){super(n,[],l,t);this.mark=a}static create(n,a,l,t){let e=t.nodeViews[a.type.name],r=e&&e(a,t,l);return(!r||!r.dom)&&(r=Ne.PW.renderSpec(document,a.type.spec.toDOM(a,l))),new c(n,a,r.dom,r.contentDOM||r.dom)}parseRule(){return this.dirty&we||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(n){return this.dirty!=we&&this.mark.eq(n)}markDirty(n,a){if(super.markDirty(n,a),this.dirty!=Y){let l=this.parent;for(;!l.node;)l=l.parent;l.dirty<this.dirty&&(l.dirty=this.dirty),this.dirty=Y}}slice(n,a,l){let t=c.create(this.parent,this.mark,!0,l),e=this.children,r=this.size;a<r&&(e=lt(e,a,r,l)),n>0&&(e=lt(e,0,n,l));for(let s=0;s<e.length;s++)e[s].parent=t;return t.children=e,t}}class y extends De{constructor(n,a,l,t,e,r,s,u,p){super(n,[],e,r);this.node=a,this.outerDeco=l,this.innerDeco=t,this.nodeDOM=s}static create(n,a,l,t,e,r){let s=e.nodeViews[a.type.name],u,p=s&&s(a,e,()=>{if(!u)return r;if(u.parent)return u.parent.posBeforeChild(u)},l,t),g=p&&p.dom,C=p&&p.contentDOM;if(a.isText){if(!g)g=document.createTextNode(a.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||({dom:g,contentDOM:C}=Ne.PW.renderSpec(document,a.type.spec.toDOM(a)));!C&&!a.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable="false"),a.type.spec.draggable&&(g.draggable=!0));let D=g;return g=ne(g,l,a),p?u=new j(n,a,l,t,g,C||null,D,p,e,r+1):a.isText?new O(n,a,l,t,g,D,e):new y(n,a,l,t,g,C||null,D,e,r+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let n={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(n.preserveWhitespace="full"),!this.contentDOM)n.getContent=()=>this.node.content;else if(!this.contentLost)n.contentElement=this.contentDOM;else{for(let a=this.children.length-1;a>=0;a--){let l=this.children[a];if(this.dom.contains(l.dom.parentNode)){n.contentElement=l.dom.parentNode;break}}n.contentElement||(n.getContent=()=>Ne.HY.empty)}return n}matchesNode(n,a,l){return this.dirty==Y&&n.eq(this.node)&&xe(a,this.outerDeco)&&l.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(n,a){let l=this.node.inlineContent,t=a,e=n.composing?this.localCompositionInfo(n,a):null,r=e&&e.pos>-1?e:null,s=e&&e.pos<0,u=new Ze(this,r&&r.node,n);Ut(this.node,this.innerDeco,(p,g,C)=>{p.spec.marks?u.syncToMarks(p.spec.marks,l,n):p.type.side>=0&&!C&&u.syncToMarks(g==this.node.childCount?Ne.vc.none:this.node.child(g).marks,l,n),u.placeWidget(p,n,t)},(p,g,C,D)=>{u.syncToMarks(p.marks,l,n);let $;u.findNodeMatch(p,g,C,D)||s&&n.state.selection.from>t&&n.state.selection.to<t+p.nodeSize&&($=u.findIndexWithChild(e.node))>-1&&u.updateNodeAt(p,g,C,$,n)||u.updateNextNode(p,g,C,n,D,t)||u.addNode(p,g,C,n,t),t+=p.nodeSize}),u.syncToMarks([],l,n),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Q)&&(r&&this.protectLocalComposition(n,r),ce(this.contentDOM,this.children,n),U&&W(this.dom))}localCompositionInfo(n,a){let{from:l,to:t}=n.state.selection;if(!(n.state.selection instanceof A.Bs)||l<a||t>a+this.node.content.size)return null;let e=n.domSelectionRange(),r=ae(e.focusNode,e.focusOffset);if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let s=r.nodeValue,u=Me(this.node.content,s,l-a,t-a);return u<0?null:{node:r,pos:u,text:s}}else return{node:r,pos:-1,text:""}}protectLocalComposition(n,{node:a,pos:l,text:t}){if(this.getDesc(a))return;let e=a;for(;e.parentNode!=this.contentDOM;e=e.parentNode){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling);for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling);e.pmViewDesc&&(e.pmViewDesc=void 0)}let r=new o(this,e,a,t);n.input.compositionNodes.push(r),this.children=lt(this.children,l,l+t.length,n,r)}update(n,a,l,t){return this.dirty==we||!n.sameMarkup(this.node)?!1:(this.updateInner(n,a,l,t),!0)}updateInner(n,a,l,t){this.updateOuterDeco(a),this.node=n,this.innerDeco=l,this.contentDOM&&this.updateChildren(t,this.posAtStart),this.dirty=Y}updateOuterDeco(n){if(xe(n,this.outerDeco))return;let a=this.nodeDOM.nodeType!=1,l=this.dom;this.dom=q(this.dom,this.nodeDOM,F(this.outerDeco,this.node,a),F(n,this.node,a)),this.dom!=l&&(l.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=n}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function S(i,n,a,l,t){ne(l,n,i);let e=new y(void 0,i,n,a,l,l,l,t,0);return e.contentDOM&&e.updateChildren(t,0),e}class O extends y{constructor(n,a,l,t,e,r,s){super(n,a,l,t,e,null,r,s,0)}parseRule(){let n=this.nodeDOM.parentNode;for(;n&&n!=this.dom&&!n.pmIsDeco;)n=n.parentNode;return{skip:n||!0}}update(n,a,l,t){return this.dirty==we||this.dirty!=Y&&!this.inParent()||!n.sameMarkup(this.node)?!1:(this.updateOuterDeco(a),(this.dirty!=Y||n.text!=this.node.text)&&n.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=n.text,t.trackWrites==this.nodeDOM&&(t.trackWrites=null)),this.node=n,this.dirty=Y,!0)}inParent(){let n=this.parent.contentDOM;for(let a=this.nodeDOM;a;a=a.parentNode)if(a==n)return!0;return!1}domFromPos(n){return{node:this.nodeDOM,offset:n}}localPosFromDOM(n,a,l){return n==this.nodeDOM?this.posAtStart+Math.min(a,this.node.text.length):super.localPosFromDOM(n,a,l)}ignoreMutation(n){return n.type!="characterData"&&n.type!="selection"}slice(n,a,l){let t=this.node.cut(n,a),e=document.createTextNode(t.text);return new O(this.parent,t,this.outerDeco,this.innerDeco,e,e,l)}markDirty(n,a){super.markDirty(n,a),this.dom!=this.nodeDOM&&(n==0||a==this.nodeDOM.nodeValue.length)&&(this.dirty=we)}get domAtom(){return!1}}class z extends De{parseRule(){return{ignore:!0}}matchesHack(n){return this.dirty==Y&&this.dom.nodeName==n}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class j extends y{constructor(n,a,l,t,e,r,s,u,p,g){super(n,a,l,t,e,r,s,p,g);this.spec=u}update(n,a,l,t){if(this.dirty==we)return!1;if(this.spec.update){let e=this.spec.update(n,a,l);return e&&this.updateInner(n,a,l,t),e}else return!this.contentDOM&&!n.isLeaf?!1:super.update(n,a,l,t)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(n,a,l,t){this.spec.setSelection?this.spec.setSelection(n,a,l):super.setSelection(n,a,l,t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(n){return this.spec.stopEvent?this.spec.stopEvent(n):!1}ignoreMutation(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):super.ignoreMutation(n)}}function ce(i,n,a){let l=i.firstChild,t=!1;for(let e=0;e<n.length;e++){let r=n[e],s=r.dom;if(s.parentNode==i){for(;s!=l;)l=Le(l),t=!0;l=l.nextSibling}else t=!0,i.insertBefore(s,l);if(r instanceof c){let u=l?l.previousSibling:i.lastChild;ce(r.contentDOM,r.children,a),l=u?u.nextSibling:i.firstChild}}for(;l;)l=Le(l),t=!0;t&&a.trackWrites==i&&(a.trackWrites=null)}const tt=function(i){i&&(this.nodeName=i)};tt.prototype=Object.create(null);const L=[new tt];function F(i,n,a){if(i.length==0)return L;let l=a?L[0]:new tt,t=[l];for(let e=0;e<i.length;e++){let r=i[e].type.attrs;if(!!r){r.nodeName&&t.push(l=new tt(r.nodeName));for(let s in r){let u=r[s];u!=null&&(a&&t.length==1&&t.push(l=new tt(n.isInline?"span":"div")),s=="class"?l.class=(l.class?l.class+" ":"")+u:s=="style"?l.style=(l.style?l.style+";":"")+u:s!="nodeName"&&(l[s]=u))}}}return t}function q(i,n,a,l){if(a==L&&l==L)return n;let t=n;for(let e=0;e<l.length;e++){let r=l[e],s=a[e];if(e){let u;s&&s.nodeName==r.nodeName&&t!=i&&(u=t.parentNode)&&u.nodeName.toLowerCase()==r.nodeName||(u=document.createElement(r.nodeName),u.pmIsDeco=!0,u.appendChild(t),s=L[0]),t=u}oe(t,s||L[0],r)}return t}function oe(i,n,a){for(let l in n)l!="class"&&l!="style"&&l!="nodeName"&&!(l in a)&&i.removeAttribute(l);for(let l in a)l!="class"&&l!="style"&&l!="nodeName"&&a[l]!=n[l]&&i.setAttribute(l,a[l]);if(n.class!=a.class){let l=n.class?n.class.split(" ").filter(Boolean):[],t=a.class?a.class.split(" ").filter(Boolean):[];for(let e=0;e<l.length;e++)t.indexOf(l[e])==-1&&i.classList.remove(l[e]);for(let e=0;e<t.length;e++)l.indexOf(t[e])==-1&&i.classList.add(t[e]);i.classList.length==0&&i.removeAttribute("class")}if(n.style!=a.style){if(n.style){let l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,t;for(;t=l.exec(n.style);)i.style.removeProperty(t[1])}a.style&&(i.style.cssText+=a.style)}}function ne(i,n,a){return q(i,i,L,F(n,a,i.nodeType!=1))}function xe(i,n){if(i.length!=n.length)return!1;for(let a=0;a<i.length;a++)if(!i[a].type.eq(n[a].type))return!1;return!0}function Le(i){let n=i.nextSibling;return i.parentNode.removeChild(i),n}class Ze{constructor(n,a,l){this.lock=a,this.view=l,this.index=0,this.stack=[],this.changed=!1,this.top=n,this.preMatch=_t(n.node.content,n)}destroyBetween(n,a){if(n!=a){for(let l=n;l<a;l++)this.top.children[l].destroy();this.top.children.splice(n,a-n),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(n,a,l){let t=0,e=this.stack.length>>1,r=Math.min(e,n.length);for(;t<r&&(t==e-1?this.top:this.stack[t+1<<1]).matchesMark(n[t])&&n[t].type.spec.spanning!==!1;)t++;for(;t<e;)this.destroyRest(),this.top.dirty=Y,this.index=this.stack.pop(),this.top=this.stack.pop(),e--;for(;e<n.length;){this.stack.push(this.top,this.index+1);let s=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let p=this.top.children[u];if(p.matchesMark(n[e])&&!this.isLocked(p.dom)){s=u;break}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{let u=c.create(this.top,n[e],a,l);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,e++}}findNodeMatch(n,a,l,t){let e=-1,r;if(t>=this.preMatch.index&&(r=this.preMatch.matches[t-this.preMatch.index]).parent==this.top&&r.matchesNode(n,a,l))e=this.top.children.indexOf(r,this.index);else for(let s=this.index,u=Math.min(this.top.children.length,s+5);s<u;s++){let p=this.top.children[s];if(p.matchesNode(n,a,l)&&!this.preMatch.matched.has(p)){e=s;break}}return e<0?!1:(this.destroyBetween(this.index,e),this.index++,!0)}updateNodeAt(n,a,l,t,e){let r=this.top.children[t];return r.dirty==we&&r.dom==r.contentDOM&&(r.dirty=Q),r.update(n,a,l,e)?(this.destroyBetween(this.index,t),this.index++,!0):!1}findIndexWithChild(n){for(;;){let a=n.parentNode;if(!a)return-1;if(a==this.top.contentDOM){let l=n.pmViewDesc;if(l){for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==l)return t}return-1}n=a}}updateNextNode(n,a,l,t,e,r){for(let s=this.index;s<this.top.children.length;s++){let u=this.top.children[s];if(u instanceof y){let p=this.preMatch.matched.get(u);if(p!=null&&p!=e)return!1;let g=u.dom,C,D=this.isLocked(g)&&!(n.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==n.text&&u.dirty!=we&&xe(a,u.outerDeco));if(!D&&u.update(n,a,l,t))return this.destroyBetween(this.index,s),u.dom!=g&&(this.changed=!0),this.index++,!0;if(!D&&(C=this.recreateWrapper(u,n,a,l,t,r)))return this.top.children[this.index]=C,C.dirty=Q,C.updateChildren(t,r+1),C.dirty=Y,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(n,a,l,t,e,r){if(n.dirty||a.isAtom||!n.children.length||!n.node.content.eq(a.content))return null;let s=y.create(this.top,a,l,t,e,r);if(!s.contentDOM)return null;s.children=n.children,n.children=[],n.destroy();for(let u of s.children)u.parent=s;return s}addNode(n,a,l,t,e){let r=y.create(this.top,n,a,l,t,e);r.contentDOM&&r.updateChildren(t,e+1),this.top.children.splice(this.index++,0,r),this.changed=!0}placeWidget(n,a,l){let t=this.index<this.top.children.length?this.top.children[this.index]:null;if(t&&t.matchesWidget(n)&&(n==t.widget||!t.widget.type.toDOM.parentNode))this.index++;else{let e=new I(this.top,n,a,l);this.top.children.splice(this.index++,0,e),this.changed=!0}}addTextblockHacks(){let n=this.top.children[this.index-1],a=this.top;for(;n instanceof c;)a=n,n=a.children[a.children.length-1];(!n||!(n instanceof O)||/\n$/.test(n.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(n.node.text))&&((Ce||Be)&&n&&n.dom.contentEditable=="false"&&this.addHackNode("IMG",a),this.addHackNode("BR",this.top))}addHackNode(n,a){if(a==this.top&&this.index<a.children.length&&a.children[this.index].matchesHack(n))this.index++;else{let l=document.createElement(n);n=="IMG"&&(l.className="ProseMirror-separator",l.alt=""),n=="BR"&&(l.className="ProseMirror-trailingBreak");let t=new z(this.top,[],l,null);a!=this.top?a.children.push(t):a.children.splice(this.index++,0,t),this.changed=!0}}isLocked(n){return this.lock&&(n==this.lock||n.nodeType==1&&n.contains(this.lock.parentNode))}}function _t(i,n){let a=n,l=a.children.length,t=i.childCount,e=new Map,r=[];e:for(;t>0;){let s;for(;;)if(l){let p=a.children[l-1];if(p instanceof c)a=p,l=p.children.length;else{s=p,l--;break}}else{if(a==n)break e;l=a.parent.children.indexOf(a),a=a.parent}let u=s.node;if(!!u){if(u!=i.child(t-1))break;--t,e.set(s,t),r.push(s)}}return{index:t,matched:e,matches:r.reverse()}}function $t(i,n){return i.type.side-n.type.side}function Ut(i,n,a,l){let t=n.locals(i),e=0;if(t.length==0){for(let p=0;p<i.childCount;p++){let g=i.child(p);l(g,t,n.forChild(e,g),p),e+=g.nodeSize}return}let r=0,s=[],u=null;for(let p=0;;){if(r<t.length&&t[r].to==e){let B=t[r++],G;for(;r<t.length&&t[r].to==e;)(G||(G=[B])).push(t[r++]);if(G){G.sort($t);for(let ee=0;ee<G.length;ee++)a(G[ee],p,!!u)}else a(B,p,!!u)}let g,C;if(u)C=-1,g=u,u=null;else if(p<i.childCount)C=p,g=i.child(p++);else break;for(let B=0;B<s.length;B++)s[B].to<=e&&s.splice(B--,1);for(;r<t.length&&t[r].from<=e&&t[r].to>e;)s.push(t[r++]);let D=e+g.nodeSize;if(g.isText){let B=D;r<t.length&&t[r].from<B&&(B=t[r].from);for(let G=0;G<s.length;G++)s[G].to<B&&(B=s[G].to);B<D&&(u=g.cut(B-e),g=g.cut(0,B-e),D=B,C=-1)}let $=g.isInline&&!g.isLeaf?s.filter(B=>!B.inline):s.slice();l(g,$,n.forChild(e,g),C),e=D}}function W(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let n=i.style.cssText;i.style.cssText=n+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=n}}function ae(i,n){for(;;){if(i.nodeType==3)return i;if(i.nodeType==1&&n>0){if(i.childNodes.length>n&&i.childNodes[n].nodeType==3)return i.childNodes[n];i=i.childNodes[n-1],n=Xe(i)}else if(i.nodeType==1&&n<i.childNodes.length)i=i.childNodes[n],n=0;else return null}}function Me(i,n,a,l){for(let t=0,e=0;t<i.childCount&&e<=l;){let r=i.child(t++),s=e;if(e+=r.nodeSize,!r.isText)continue;let u=r.text;for(;t<i.childCount;){let p=i.child(t++);if(e+=p.nodeSize,!p.isText)break;u+=p.text}if(e>=a){let p=s<l?u.lastIndexOf(n,l-s-1):-1;if(p>=0&&p+n.length+s>=a)return s+p;if(a==l&&u.length>=l+n.length-s&&u.slice(l-s,l-s+n.length)==n)return l}}return-1}function lt(i,n,a,l,t){let e=[];for(let r=0,s=0;r<i.length;r++){let u=i[r],p=s,g=s+=u.size;p>=a||g<=n?e.push(u):(p<n&&e.push(u.slice(0,n-p,l)),t&&(e.push(t),t=void 0),g>a&&e.push(u.slice(a-p,u.size,l)))}return e}function Et(i,n=null){let a=i.domSelectionRange(),l=i.state.doc;if(!a.focusNode)return null;let t=i.docView.nearestDesc(a.focusNode),e=t&&t.size==0,r=i.docView.posFromDOM(a.focusNode,a.focusOffset,1);if(r<0)return null;let s=l.resolve(r),u,p;if(st(a)){for(u=s;t&&!t.node;)t=t.parent;let g=t.node;if(t&&g.isAtom&&A.qv.isSelectable(g)&&t.parent&&!(g.isInline&&at(a.focusNode,a.focusOffset,t.dom))){let C=t.posBefore;p=new A.qv(r==C?s:l.resolve(C))}}else{let g=i.docView.posFromDOM(a.anchorNode,a.anchorOffset,1);if(g<0)return null;u=l.resolve(g)}if(!p){let g=n=="pointer"||i.state.selection.head<s.pos&&!e?1:-1;p=Gn(i,u,s,g)}return p}function Tt(i){return i.editable?i.hasFocus():$n(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function nt(i,n=!1){let a=i.state.selection;if(an(i,a),!!Tt(i)){if(!n&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&Be){let l=i.domSelectionRange(),t=i.domObserver.currentSelection;if(l.anchorNode&&t.anchorNode&&me(l.anchorNode,l.anchorOffset,t.anchorNode,t.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)Wt(i);else{let{anchor:l,head:t}=a,e,r;_e&&!(a instanceof A.Bs)&&(a.$from.parent.inlineContent||(e=kt(i,a.from)),!a.empty&&!a.$from.parent.inlineContent&&(r=kt(i,a.to))),i.docView.setSelection(l,t,i.root,n),_e&&(e&&qt(e),r&&qt(r)),a.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&On(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const _e=Ce||Be&&gt<63;function kt(i,n){let{node:a,offset:l}=i.docView.domFromPos(n,0),t=l<a.childNodes.length?a.childNodes[l]:null,e=l?a.childNodes[l-1]:null;if(Ce&&t&&t.contentEditable=="false")return Zt(t);if((!t||t.contentEditable=="false")&&(!e||e.contentEditable=="false")){if(t)return Zt(t);if(e)return Zt(e)}}function Zt(i){return i.contentEditable="true",Ce&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function qt(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function On(i){let n=i.dom.ownerDocument;n.removeEventListener("selectionchange",i.input.hideSelectionGuard);let a=i.domSelectionRange(),l=a.anchorNode,t=a.anchorOffset;n.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(a.anchorNode!=l||a.anchorOffset!=t)&&(n.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!Tt(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function Wt(i){let n=i.domSelection(),a=document.createRange(),l=i.cursorWrapper.dom,t=l.nodeName=="IMG";t?a.setEnd(l.parentNode,de(l)+1):a.setEnd(l,0),a.collapse(!1),n.removeAllRanges(),n.addRange(a),!t&&!i.state.selection.visible&&St&&on<=11&&(l.disabled=!0,l.disabled=!1)}function an(i,n){if(n instanceof A.qv){let a=i.docView.descAt(n.from);a!=i.lastSelectedViewDesc&&(Un(i),a&&a.selectNode(),i.lastSelectedViewDesc=a)}else Un(i)}function Un(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Gn(i,n,a,l){return i.someProp("createSelectionBetween",t=>t(i,n,a))||A.Bs.between(n,a,l)}function xn(i){return i.editable&&!i.hasFocus()?!1:$n(i)}function $n(i){let n=i.domSelectionRange();if(!n.anchorNode)return!1;try{return i.dom.contains(n.anchorNode.nodeType==3?n.anchorNode.parentNode:n.anchorNode)&&(i.editable||i.dom.contains(n.focusNode.nodeType==3?n.focusNode.parentNode:n.focusNode))}catch(a){return!1}}function or(i){let n=i.docView.domFromPos(i.state.selection.anchor,0),a=i.domSelectionRange();return me(n.node,n.offset,a.anchorNode,a.anchorOffset)}function ir(i,n){let{$anchor:a,$head:l}=i.selection,t=n>0?a.max(l):a.min(l),e=t.parent.inlineContent?t.depth?i.doc.resolve(n>0?t.after():t.before()):null:t;return e&&A.Y1.findFrom(e,n)}function m(i,n){return i.dispatch(i.state.tr.setSelection(n).scrollIntoView()),!0}function d(i,n,a){let l=i.state.selection;if(l instanceof A.Bs){if(!l.empty||a.indexOf("s")>-1)return!1;if(i.endOfTextblock(n>0?"forward":"backward")){let t=ir(i.state,n);return t&&t instanceof A.qv?m(i,t):!1}else if(!(J&&a.indexOf("m")>-1)){let t=l.$head,e=t.textOffset?null:n<0?t.nodeBefore:t.nodeAfter,r;if(!e||e.isText)return!1;let s=n<0?t.pos-e.nodeSize:t.pos;return e.isAtom||(r=i.docView.descAt(s))&&!r.contentDOM?A.qv.isSelectable(e)?m(i,new A.qv(n<0?i.state.doc.resolve(t.pos-e.nodeSize):t)):ze?m(i,new A.Bs(i.state.doc.resolve(n<0?s:s+e.nodeSize))):!1:!1}}else{if(l instanceof A.qv&&l.node.isInline)return m(i,new A.Bs(n>0?l.$to:l.$from));{let t=ir(i.state,n);return t?m(i,t):!1}}}function b(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function h(i){if(i.contentEditable=="false")return!0;let n=i.pmViewDesc;return n&&n.size==0&&(i.nextSibling||i.nodeName!="BR")}function w(i,n){return n<0?M(i):R(i)}function M(i){let n=i.domSelectionRange(),a=n.focusNode,l=n.focusOffset;if(!a)return;let t,e,r=!1;for(Ge&&a.nodeType==1&&l<b(a)&&h(a.childNodes[l])&&(r=!0);;)if(l>0){if(a.nodeType!=1)break;{let s=a.childNodes[l-1];if(h(s))t=a,e=--l;else if(s.nodeType==3)a=s,l=a.nodeValue.length;else break}}else{if(f(a))break;{let s=a.previousSibling;for(;s&&h(s);)t=a.parentNode,e=de(s),s=s.previousSibling;if(s)a=s,l=b(a);else{if(a=a.parentNode,a==i.dom)break;l=0}}}r?P(i,a,l):t&&P(i,t,e)}function R(i){let n=i.domSelectionRange(),a=n.focusNode,l=n.focusOffset;if(!a)return;let t=b(a),e,r;for(;;)if(l<t){if(a.nodeType!=1)break;let s=a.childNodes[l];if(h(s))e=a,r=++l;else break}else{if(f(a))break;{let s=a.nextSibling;for(;s&&h(s);)e=s.parentNode,r=de(s)+1,s=s.nextSibling;if(s)a=s,l=0,t=b(a);else{if(a=a.parentNode,a==i.dom)break;l=t=0}}}e&&P(i,e,r)}function f(i){let n=i.pmViewDesc;return n&&n.node&&n.node.isBlock}function E(i,n){for(;i&&n==i.childNodes.length&&!dt(i);)n=de(i)+1,i=i.parentNode;for(;i&&n<i.childNodes.length;){if(i=i.childNodes[n],i.nodeType==3)return i;n=0}}function x(i,n){for(;i&&!n&&!dt(i);)n=de(i),i=i.parentNode;for(;i&&n;){if(i=i.childNodes[n-1],i.nodeType==3)return i;n=i.childNodes.length}}function P(i,n,a){if(n.nodeType!=3){let e,r;(r=E(n,a))?(n=r,a=0):(e=x(n,a))&&(n=e,a=e.nodeValue.length)}let l=i.domSelection();if(st(l)){let e=document.createRange();e.setEnd(n,a),e.setStart(n,a),l.removeAllRanges(),l.addRange(e)}else l.extend&&l.extend(n,a);i.domObserver.setCurSelection();let{state:t}=i;setTimeout(()=>{i.state==t&&nt(i)},50)}function V(i,n){let a=i.state.doc.resolve(n);if(!(Be||te)&&a.parent.inlineContent){let t=i.coordsAtPos(n);if(n>a.start()){let e=i.coordsAtPos(n-1),r=(e.top+e.bottom)/2;if(r>t.top&&r<t.bottom&&Math.abs(e.left-t.left)>1)return e.left<t.left?"ltr":"rtl"}if(n<a.end()){let e=i.coordsAtPos(n+1),r=(e.top+e.bottom)/2;if(r>t.top&&r<t.bottom&&Math.abs(e.left-t.left)>1)return e.left>t.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function K(i,n,a){let l=i.state.selection;if(l instanceof A.Bs&&!l.empty||a.indexOf("s")>-1||J&&a.indexOf("m")>-1)return!1;let{$from:t,$to:e}=l;if(!t.parent.inlineContent||i.endOfTextblock(n<0?"up":"down")){let r=ir(i.state,n);if(r&&r instanceof A.qv)return m(i,r)}if(!t.parent.inlineContent){let r=n<0?t:e,s=l instanceof A.C1?A.Y1.near(r,n):A.Y1.findFrom(r,n);return s?m(i,s):!1}return!1}function Z(i,n){if(!(i.state.selection instanceof A.Bs))return!0;let{$head:a,$anchor:l,empty:t}=i.state.selection;if(!a.sameParent(l))return!0;if(!t)return!1;if(i.endOfTextblock(n>0?"forward":"backward"))return!0;let e=!a.textOffset&&(n<0?a.nodeBefore:a.nodeAfter);if(e&&!e.isText){let r=i.state.tr;return n<0?r.delete(a.pos-e.nodeSize,a.pos):r.delete(a.pos,a.pos+e.nodeSize),i.dispatch(r),!0}return!1}function X(i,n,a){i.domObserver.stop(),n.contentEditable=a,i.domObserver.start()}function he(i){if(!Ce||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:n,focusOffset:a}=i.domSelectionRange();if(n&&n.nodeType==1&&a==0&&n.firstChild&&n.firstChild.contentEditable=="false"){let l=n.firstChild;X(i,l,"true"),setTimeout(()=>X(i,l,"false"),20)}return!1}function pe(i){let n="";return i.ctrlKey&&(n+="c"),i.metaKey&&(n+="m"),i.altKey&&(n+="a"),i.shiftKey&&(n+="s"),n}function Se(i,n){let a=n.keyCode,l=pe(n);if(a==8||J&&a==72&&l=="c")return Z(i,-1)||w(i,-1);if(a==46&&!n.shiftKey||J&&a==68&&l=="c")return Z(i,1)||w(i,1);if(a==13||a==27)return!0;if(a==37||J&&a==66&&l=="c"){let t=a==37?V(i,i.state.selection.from)=="ltr"?-1:1:-1;return d(i,t,l)||w(i,t)}else if(a==39||J&&a==70&&l=="c"){let t=a==39?V(i,i.state.selection.from)=="ltr"?1:-1:1;return d(i,t,l)||w(i,t)}else{if(a==38||J&&a==80&&l=="c")return K(i,-1,l)||w(i,-1);if(a==40||J&&a==78&&l=="c")return he(i)||K(i,1,l)||R(i);if(l==(J?"m":"c")&&(a==66||a==73||a==89||a==90))return!0}return!1}function Re(i,n){i.someProp("transformCopied",$=>{n=$(n,i)});let a=[],{content:l,openStart:t,openEnd:e}=n;for(;t>1&&e>1&&l.childCount==1&&l.firstChild.childCount==1;){t--,e--;let $=l.firstChild;a.push($.type.name,$.attrs!=$.type.defaultAttrs?$.attrs:null),l=$.content}let r=i.someProp("clipboardSerializer")||Ne.PW.fromSchema(i.state.schema),s=ln(),u=s.createElement("div");u.appendChild(r.serializeFragment(l,{document:s}));let p=u.firstChild,g,C=0;for(;p&&p.nodeType==1&&(g=Gt[p.nodeName.toLowerCase()]);){for(let $=g.length-1;$>=0;$--){let B=s.createElement(g[$]);for(;u.firstChild;)B.appendChild(u.firstChild);u.appendChild(B),C++}p=u.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${t} ${e}${C?` -${C}`:""} ${JSON.stringify(a)}`);let D=i.someProp("clipboardTextSerializer",$=>$(n,i))||n.content.textBetween(0,n.content.size,`

`);return{dom:u,text:D}}function $e(i,n,a,l,t){let e=t.parent.type.spec.code,r,s;if(!a&&!n)return null;let u=n&&(l||e||!a);if(u){if(i.someProp("transformPastedText",D=>{n=D(n,e||l,i)}),e)return n?new Ne.p2(Ne.HY.from(i.state.schema.text(n.replace(/\r\n?/g,`
`))),0,0):Ne.p2.empty;let C=i.someProp("clipboardTextParser",D=>D(n,t,l,i));if(C)s=C;else{let D=t.marks(),{schema:$}=i.state,B=Ne.PW.fromSchema($);r=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach(G=>{let ee=r.appendChild(document.createElement("p"));G&&ee.appendChild(B.serializeNode($.text(G,D)))})}}else i.someProp("transformPastedHTML",C=>{a=C(a,i)}),r=nn(a),ze&&Ln(r);let p=r&&r.querySelector("[data-pm-slice]"),g=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(g&&g[3])for(let C=+g[3];C>0;C--){let D=r.firstChild;for(;D&&D.nodeType!=1;)D=D.nextSibling;if(!D)break;r=D}if(s||(s=(i.someProp("clipboardParser")||i.someProp("domParser")||Ne.aw.fromSchema(i.state.schema)).parseSlice(r,{preserveWhitespace:!!(u||g),context:t,ruleFromNode(D){return D.nodeName=="BR"&&!D.nextSibling&&D.parentNode&&!et.test(D.parentNode.nodeName)?{ignore:!0}:null}})),g)s=Wn(sn(s,+g[1],+g[2]),g[4]);else if(s=Ne.p2.maxOpen(ht(s.content,t),!0),s.openStart||s.openEnd){let C=0,D=0;for(let $=s.content.firstChild;C<s.openStart&&!$.type.spec.isolating;C++,$=$.firstChild);for(let $=s.content.lastChild;D<s.openEnd&&!$.type.spec.isolating;D++,$=$.lastChild);s=sn(s,C,D)}return i.someProp("transformPasted",C=>{s=C(s,i)}),s}const et=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function ht(i,n){if(i.childCount<2)return i;for(let a=n.depth;a>=0;a--){let t=n.node(a).contentMatchAt(n.index(a)),e,r=[];if(i.forEach(s=>{if(!r)return;let u=t.findWrapping(s.type),p;if(!u)return r=null;if(p=r.length&&e.length&&rt(u,e,s,r[r.length-1],0))r[r.length-1]=p;else{r.length&&(r[r.length-1]=It(r[r.length-1],e.length));let g=wt(s,u);r.push(g),t=t.matchType(g.type),e=u}}),r)return Ne.HY.from(r)}return i}function wt(i,n,a=0){for(let l=n.length-1;l>=a;l--)i=n[l].create(null,Ne.HY.from(i));return i}function rt(i,n,a,l,t){if(t<i.length&&t<n.length&&i[t]==n[t]){let e=rt(i,n,a,l.lastChild,t+1);if(e)return l.copy(l.content.replaceChild(l.childCount-1,e));if(l.contentMatchAt(l.childCount).matchType(t==i.length-1?a.type:i[t+1]))return l.copy(l.content.append(Ne.HY.from(wt(a,i,t+1))))}}function It(i,n){if(n==0)return i;let a=i.content.replaceChild(i.childCount-1,It(i.lastChild,n-1)),l=i.contentMatchAt(i.childCount).fillBefore(Ne.HY.empty,!0);return i.copy(a.append(l))}function un(i,n,a,l,t,e){let r=n<0?i.firstChild:i.lastChild,s=r.content;return i.childCount>1&&(e=0),t<l-1&&(s=un(s,n,a,l,t+1,e)),t>=a&&(s=n<0?r.contentMatchAt(0).fillBefore(s,e<=t).append(s):s.append(r.contentMatchAt(r.childCount).fillBefore(Ne.HY.empty,!0))),i.replaceChild(n<0?0:i.childCount-1,r.copy(s))}function sn(i,n,a){return n<i.openStart&&(i=new Ne.p2(un(i.content,-1,n,i.openStart,0,i.openEnd),n,i.openEnd)),a<i.openEnd&&(i=new Ne.p2(un(i.content,1,a,i.openEnd,0,0),i.openStart,a)),i}const Gt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Qt=null;function ln(){return Qt||(Qt=document.implementation.createHTMLDocument("title"))}function nn(i){let n=/^(\s*<meta [^>]*>)*/.exec(i);n&&(i=i.slice(n[0].length));let a=ln().createElement("div"),l=/<([a-z][^>\s]+)/i.exec(i),t;if((t=l&&Gt[l[1].toLowerCase()])&&(i=t.map(e=>"<"+e+">").join("")+i+t.map(e=>"</"+e+">").reverse().join("")),a.innerHTML=i,t)for(let e=0;e<t.length;e++)a=a.querySelector(t[e])||a;return a}function Ln(i){let n=i.querySelectorAll(Be?"span:not([class]):not([style])":"span.Apple-converted-space");for(let a=0;a<n.length;a++){let l=n[a];l.childNodes.length==1&&l.textContent=="\xA0"&&l.parentNode&&l.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),l)}}function Wn(i,n){if(!i.size)return i;let a=i.content.firstChild.type.schema,l;try{l=JSON.parse(n)}catch(s){return i}let{content:t,openStart:e,openEnd:r}=i;for(let s=l.length-2;s>=0;s-=2){let u=a.nodes[l[s]];if(!u||u.hasRequiredAttrs())break;t=Ne.HY.from(u.create(l[s+1],t)),e++,r++}return new Ne.p2(t,e,r)}const bt={},yn={},gn={touchstart:!0,touchmove:!0};class zt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function jn(i){for(let n in bt){let a=bt[n];i.dom.addEventListener(n,i.input.eventHandlers[n]=l=>{Ct(i,l)&&!ot(i,l)&&(i.editable||!(l.type in yn))&&a(i,l)},gn[n]?{passive:!0}:void 0)}Ce&&i.dom.addEventListener("input",()=>null),jt(i)}function Fn(i,n){i.input.lastSelectionOrigin=n,i.input.lastSelectionTime=Date.now()}function nr(i){i.domObserver.stop();for(let n in i.input.eventHandlers)i.dom.removeEventListener(n,i.input.eventHandlers[n]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function jt(i){i.someProp("handleDOMEvents",n=>{for(let a in n)i.input.eventHandlers[a]||i.dom.addEventListener(a,i.input.eventHandlers[a]=l=>ot(i,l))})}function ot(i,n){return i.someProp("handleDOMEvents",a=>{let l=a[n.type];return l?l(i,n)||n.defaultPrevented:!1})}function Ct(i,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let a=n.target;a!=i.dom;a=a.parentNode)if(!a||a.nodeType==11||a.pmViewDesc&&a.pmViewDesc.stopEvent(n))return!1;return!0}function Vt(i,n){!ot(i,n)&&bt[n.type]&&(i.editable||!(n.type in yn))&&bt[n.type](i,n)}yn.keydown=(i,n)=>{let a=n;if(i.input.shiftKey=a.keyCode==16||a.shiftKey,!Qr(i,a)&&(i.input.lastKeyCode=a.keyCode,i.input.lastKeyCodeTime=Date.now(),!(ke&&Be&&a.keyCode==13)))if(a.keyCode!=229&&i.domObserver.forceFlush(),U&&a.keyCode==13&&!a.ctrlKey&&!a.altKey&&!a.metaKey){let l=Date.now();i.input.lastIOSEnter=l,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==l&&(i.someProp("handleKeyDown",t=>t(i,Ue(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",l=>l(i,a))||Se(i,a)?a.preventDefault():Fn(i,"key")},yn.keyup=(i,n)=>{n.keyCode==16&&(i.input.shiftKey=!1)},yn.keypress=(i,n)=>{let a=n;if(Qr(i,a)||!a.charCode||a.ctrlKey&&!a.altKey||J&&a.metaKey)return;if(i.someProp("handleKeyPress",t=>t(i,a))){a.preventDefault();return}let l=i.state.selection;if(!(l instanceof A.Bs)||!l.$from.sameParent(l.$to)){let t=String.fromCharCode(a.charCode);!/[\r\n]/.test(t)&&!i.someProp("handleTextInput",e=>e(i,l.$from.pos,l.$to.pos,t))&&i.dispatch(i.state.tr.insertText(t).scrollIntoView()),a.preventDefault()}};function dn(i){return{left:i.clientX,top:i.clientY}}function Kn(i,n){let a=n.x-i.clientX,l=n.y-i.clientY;return a*a+l*l<100}function ur(i,n,a,l,t){if(l==-1)return!1;let e=i.state.doc.resolve(l);for(let r=e.depth+1;r>0;r--)if(i.someProp(n,s=>r>e.depth?s(i,a,e.nodeAfter,e.before(r),t,!0):s(i,a,e.node(r),e.before(r),t,!1)))return!0;return!1}function hr(i,n,a){i.focused||i.focus();let l=i.state.tr.setSelection(n);a=="pointer"&&l.setMeta("pointer",!0),i.dispatch(l)}function br(i,n){if(n==-1)return!1;let a=i.state.doc.resolve(n),l=a.nodeAfter;return l&&l.isAtom&&A.qv.isSelectable(l)?(hr(i,new A.qv(a),"pointer"),!0):!1}function Yr(i,n){if(n==-1)return!1;let a=i.state.selection,l,t;a instanceof A.qv&&(l=a.node);let e=i.state.doc.resolve(n);for(let r=e.depth+1;r>0;r--){let s=r>e.depth?e.nodeAfter:e.node(r);if(A.qv.isSelectable(s)){l&&a.$from.depth>0&&r>=a.$from.depth&&e.before(a.$from.depth+1)==a.$from.pos?t=e.before(a.$from.depth):t=e.before(r);break}}return t!=null?(hr(i,A.qv.create(i.state.doc,t),"pointer"),!0):!1}function Dr(i,n,a,l,t){return ur(i,"handleClickOn",n,a,l)||i.someProp("handleClick",e=>e(i,n,l))||(t?Yr(i,a):br(i,a))}function _r(i,n,a,l){return ur(i,"handleDoubleClickOn",n,a,l)||i.someProp("handleDoubleClick",t=>t(i,n,l))}function Qn(i,n,a,l){return ur(i,"handleTripleClickOn",n,a,l)||i.someProp("handleTripleClick",t=>t(i,n,l))||Cr(i,a,l)}function Cr(i,n,a){if(a.button!=0)return!1;let l=i.state.doc;if(n==-1)return l.inlineContent?(hr(i,A.Bs.create(l,0,l.content.size),"pointer"),!0):!1;let t=l.resolve(n);for(let e=t.depth+1;e>0;e--){let r=e>t.depth?t.nodeAfter:t.node(e),s=t.before(e);if(r.inlineContent)hr(i,A.Bs.create(l,s+1,s+1+r.content.size),"pointer");else if(A.qv.isSelectable(r))hr(i,A.qv.create(l,s),"pointer");else continue;return!0}}function Tr(i){return Lr(i)}const cr=J?"metaKey":"ctrlKey";bt.mousedown=(i,n)=>{let a=n;i.input.shiftKey=a.shiftKey;let l=Tr(i),t=Date.now(),e="singleClick";t-i.input.lastClick.time<500&&Kn(a,i.input.lastClick)&&!a[cr]&&(i.input.lastClick.type=="singleClick"?e="doubleClick":i.input.lastClick.type=="doubleClick"&&(e="tripleClick")),i.input.lastClick={time:t,x:a.clientX,y:a.clientY,type:e};let r=i.posAtCoords(dn(a));!r||(e=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new Gr(i,r,a,!!l)):(e=="doubleClick"?_r:Qn)(i,r.pos,r.inside,a)?a.preventDefault():Fn(i,"pointer"))};class Gr{constructor(n,a,l,t){this.view=n,this.pos=a,this.event=l,this.flushed=t,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=n.state.doc,this.selectNode=!!l[cr],this.allowDefault=l.shiftKey;let e,r;if(a.inside>-1)e=n.state.doc.nodeAt(a.inside),r=a.inside;else{let g=n.state.doc.resolve(a.pos);e=g.parent,r=g.depth?g.before():0}const s=t?null:l.target,u=s?n.docView.nearestDesc(s,!0):null;this.target=u?u.dom:null;let{selection:p}=n.state;(l.button==0&&e.type.spec.draggable&&e.type.spec.selectable!==!1||p instanceof A.qv&&p.from<=r&&p.to>r)&&(this.mightDrag={node:e,pos:r,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ge&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),n.root.addEventListener("mouseup",this.up=this.up.bind(this)),n.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fn(n,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>nt(this.view)),this.view.input.mouseDown=null}up(n){if(this.done(),!this.view.dom.contains(n.target))return;let a=this.pos;this.view.state.doc!=this.startDoc&&(a=this.view.posAtCoords(dn(n))),this.updateAllowDefault(n),this.allowDefault||!a?Fn(this.view,"pointer"):Dr(this.view,a.pos,a.inside,n,this.selectNode)?n.preventDefault():n.button==0&&(this.flushed||Ce&&this.mightDrag&&!this.mightDrag.node.isAtom||Be&&!this.view.state.selection.visible&&Math.min(Math.abs(a.pos-this.view.state.selection.from),Math.abs(a.pos-this.view.state.selection.to))<=2)?(hr(this.view,A.Y1.near(this.view.state.doc.resolve(a.pos)),"pointer"),n.preventDefault()):Fn(this.view,"pointer")}move(n){this.updateAllowDefault(n),Fn(this.view,"pointer"),n.buttons==0&&this.done()}updateAllowDefault(n){!this.allowDefault&&(Math.abs(this.event.x-n.clientX)>4||Math.abs(this.event.y-n.clientY)>4)&&(this.allowDefault=!0)}}bt.touchstart=i=>{i.input.lastTouch=Date.now(),Tr(i),Fn(i,"pointer")},bt.touchmove=i=>{i.input.lastTouch=Date.now(),Fn(i,"pointer")},bt.contextmenu=i=>Tr(i);function Qr(i,n){return i.composing?!0:Ce&&Math.abs(n.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}const Zr=ke?5e3:-1;yn.compositionstart=yn.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:n}=i,a=n.selection.$from;if(n.selection.empty&&(n.storedMarks||!a.textOffset&&a.parentOffset&&a.nodeBefore.marks.some(l=>l.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||a.marks(),Lr(i,!0),i.markCursor=null;else if(Lr(i),Ge&&n.selection.empty&&a.parentOffset&&!a.textOffset&&a.nodeBefore.marks.length){let l=i.domSelectionRange();for(let t=l.focusNode,e=l.focusOffset;t&&t.nodeType==1&&e!=0;){let r=e<0?t.lastChild:t.childNodes[e-1];if(!r)break;if(r.nodeType==3){i.domSelection().collapse(r,r.nodeValue.length);break}else t=r,e=-1}}i.input.composing=!0}zr(i,Zr)},yn.compositionend=(i,n)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=n.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,zr(i,20))};function zr(i,n){clearTimeout(i.input.composingTimeout),n>-1&&(i.input.composingTimeout=setTimeout(()=>Lr(i),n))}function Hr(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=ci());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function ci(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function Lr(i,n=!1){if(!(ke&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),Hr(i),n||i.docView&&i.docView.dirty){let a=Et(i);return a&&!a.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(a)):i.updateState(i.state),!0}return!1}}function Ur(i,n){if(!i.dom.parentNode)return;let a=i.dom.parentNode.appendChild(document.createElement("div"));a.appendChild(n),a.style.cssText="position: fixed; left: -10000px; top: 10px";let l=getSelection(),t=document.createRange();t.selectNodeContents(n),i.dom.blur(),l.removeAllRanges(),l.addRange(t),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a),i.focus()},50)}const yr=St&&on<15||U&&it<604;bt.copy=yn.cut=(i,n)=>{let a=n,l=i.state.selection,t=a.type=="cut";if(l.empty)return;let e=yr?null:a.clipboardData,r=l.content(),{dom:s,text:u}=Re(i,r);e?(a.preventDefault(),e.clearData(),e.setData("text/html",s.innerHTML),e.setData("text/plain",u)):Ur(i,s),t&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function ei(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function kr(i,n){if(!i.dom.parentNode)return;let a=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,l=i.dom.parentNode.appendChild(document.createElement(a?"textarea":"div"));a||(l.contentEditable="true"),l.style.cssText="position: fixed; left: -10000px; top: 10px",l.focus();let t=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),l.parentNode&&l.parentNode.removeChild(l),a?vr(i,l.value,null,t,n):vr(i,l.textContent,l.innerHTML,t,n)},50)}function vr(i,n,a,l,t){let e=$e(i,n,a,l,i.state.selection.$from);if(i.someProp("handlePaste",u=>u(i,t,e||Ne.p2.empty)))return!0;if(!e)return!1;let r=ei(e),s=r?i.state.tr.replaceSelectionWith(r,l):i.state.tr.replaceSelection(e);return i.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}yn.paste=(i,n)=>{let a=n;if(i.composing&&!ke)return;let l=yr?null:a.clipboardData,t=i.input.shiftKey&&i.input.lastKeyCode!=45;l&&vr(i,l.getData("text/plain"),l.getData("text/html"),t,a)?a.preventDefault():kr(i,a)};class ti{constructor(n,a){this.slice=n,this.move=a}}const Pr=J?"altKey":"ctrlKey";bt.dragstart=(i,n)=>{let a=n,l=i.input.mouseDown;if(l&&l.done(),!a.dataTransfer)return;let t=i.state.selection,e=t.empty?null:i.posAtCoords(dn(a));if(!(e&&e.pos>=t.from&&e.pos<=(t instanceof A.qv?t.to-1:t.to))){if(l&&l.mightDrag)i.dispatch(i.state.tr.setSelection(A.qv.create(i.state.doc,l.mightDrag.pos)));else if(a.target&&a.target.nodeType==1){let p=i.docView.nearestDesc(a.target,!0);p&&p.node.type.spec.draggable&&p!=i.docView&&i.dispatch(i.state.tr.setSelection(A.qv.create(i.state.doc,p.posBefore)))}}let r=i.state.selection.content(),{dom:s,text:u}=Re(i,r);a.dataTransfer.clearData(),a.dataTransfer.setData(yr?"Text":"text/html",s.innerHTML),a.dataTransfer.effectAllowed="copyMove",yr||a.dataTransfer.setData("text/plain",u),i.dragging=new ti(r,!a[Pr])},bt.dragend=i=>{let n=i.dragging;window.setTimeout(()=>{i.dragging==n&&(i.dragging=null)},50)},yn.dragover=yn.dragenter=(i,n)=>n.preventDefault(),yn.drop=(i,n)=>{let a=n,l=i.dragging;if(i.dragging=null,!a.dataTransfer)return;let t=i.posAtCoords(dn(a));if(!t)return;let e=i.state.doc.resolve(t.pos),r=l&&l.slice;r?i.someProp("transformPasted",B=>{r=B(r,i)}):r=$e(i,a.dataTransfer.getData(yr?"Text":"text/plain"),yr?null:a.dataTransfer.getData("text/html"),!1,e);let s=!!(l&&!a[Pr]);if(i.someProp("handleDrop",B=>B(i,a,r||Ne.p2.empty,s))){a.preventDefault();return}if(!r)return;a.preventDefault();let u=r?(0,Ee.nj)(i.state.doc,e.pos,r):e.pos;u==null&&(u=e.pos);let p=i.state.tr;s&&p.deleteSelection();let g=p.mapping.map(u),C=r.openStart==0&&r.openEnd==0&&r.content.childCount==1,D=p.doc;if(C?p.replaceRangeWith(g,g,r.content.firstChild):p.replaceRange(g,g,r),p.doc.eq(D))return;let $=p.doc.resolve(g);if(C&&A.qv.isSelectable(r.content.firstChild)&&$.nodeAfter&&$.nodeAfter.sameMarkup(r.content.firstChild))p.setSelection(new A.qv($));else{let B=p.mapping.map(u);p.mapping.maps[p.mapping.maps.length-1].forEach((G,ee,be,Qe)=>B=Qe),p.setSelection(Gn(i,$,p.doc.resolve(B)))}i.focus(),i.dispatch(p.setMeta("uiEvent","drop"))},bt.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&nt(i)},20))},bt.blur=(i,n)=>{let a=n;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),a.relatedTarget&&i.dom.contains(a.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)},bt.beforeinput=(i,n)=>{if(Be&&ke&&n.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:l}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=l||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",e=>e(i,Ue(8,"Backspace")))))return;let{$cursor:t}=i.state.selection;t&&t.pos>0&&i.dispatch(i.state.tr.delete(t.pos-1,t.pos).scrollIntoView())},50)}};for(let i in yn)bt[i]=yn[i];function Mr(i,n){if(i==n)return!0;for(let a in i)if(i[a]!==n[a])return!1;for(let a in n)if(!(a in i))return!1;return!0}class Br{constructor(n,a){this.toDOM=n,this.spec=a||Nr,this.side=this.spec.side||0}map(n,a,l,t){let{pos:e,deleted:r}=n.mapResult(a.from+t,this.side<0?-1:1);return r?null:new mr(e-l,e-l,this)}valid(){return!0}eq(n){return this==n||n instanceof Br&&(this.spec.key&&this.spec.key==n.spec.key||this.toDOM==n.toDOM&&Mr(this.spec,n.spec))}destroy(n){this.spec.destroy&&this.spec.destroy(n)}}class dr{constructor(n,a){this.attrs=n,this.spec=a||Nr}map(n,a,l,t){let e=n.map(a.from+t,this.spec.inclusiveStart?-1:1)-l,r=n.map(a.to+t,this.spec.inclusiveEnd?1:-1)-l;return e>=r?null:new mr(e,r,this)}valid(n,a){return a.from<a.to}eq(n){return this==n||n instanceof dr&&Mr(this.attrs,n.attrs)&&Mr(this.spec,n.spec)}static is(n){return n.type instanceof dr}destroy(){}}class ni{constructor(n,a){this.attrs=n,this.spec=a||Nr}map(n,a,l,t){let e=n.mapResult(a.from+t,1);if(e.deleted)return null;let r=n.mapResult(a.to+t,-1);return r.deleted||r.pos<=e.pos?null:new mr(e.pos-l,r.pos-l,this)}valid(n,a){let{index:l,offset:t}=n.content.findIndex(a.from),e;return t==a.from&&!(e=n.child(l)).isText&&t+e.nodeSize==a.to}eq(n){return this==n||n instanceof ni&&Mr(this.attrs,n.attrs)&&Mr(this.spec,n.spec)}destroy(){}}class mr{constructor(n,a,l){this.from=n,this.to=a,this.type=l}copy(n,a){return new mr(n,a,this.type)}eq(n,a=0){return this.type.eq(n.type)&&this.from+a==n.from&&this.to+a==n.to}map(n,a,l){return this.type.map(n,this,a,l)}static widget(n,a,l){return new mr(n,n,new Br(a,l))}static inline(n,a,l,t){return new mr(n,a,new dr(l,t))}static node(n,a,l,t){return new mr(n,a,new ni(l,t))}get spec(){return this.type.spec}get inline(){return this.type instanceof dr}}const xr=[],Nr={};class ar{constructor(n,a){this.local=n.length?n:xr,this.children=a.length?a:xr}static create(n,a){return a.length?Rr(a,n,0,Nr):fr}find(n,a,l){let t=[];return this.findInner(n==null?0:n,a==null?1e9:a,t,0,l),t}findInner(n,a,l,t,e){for(let r=0;r<this.local.length;r++){let s=this.local[r];s.from<=a&&s.to>=n&&(!e||e(s.spec))&&l.push(s.copy(s.from+t,s.to+t))}for(let r=0;r<this.children.length;r+=3)if(this.children[r]<a&&this.children[r+1]>n){let s=this.children[r]+1;this.children[r+2].findInner(n-s,a-s,l,t+s,e)}}map(n,a,l){return this==fr||n.maps.length==0?this:this.mapInner(n,a,0,0,l||Nr)}mapInner(n,a,l,t,e){let r;for(let s=0;s<this.local.length;s++){let u=this.local[s].map(n,l,t);u&&u.type.valid(a,u)?(r||(r=[])).push(u):e.onRemove&&e.onRemove(this.local[s].spec)}return this.children.length?$r(this.children,r||[],n,a,l,t,e):r?new ar(r.sort(Er),xr):fr}add(n,a){return a.length?this==fr?ar.create(n,a):this.addInner(n,a,0):this}addInner(n,a,l){let t,e=0;n.forEach((s,u)=>{let p=u+l,g;if(!!(g=qr(a,s,p))){for(t||(t=this.children.slice());e<t.length&&t[e]<u;)e+=3;t[e]==u?t[e+2]=t[e+2].addInner(s,g,p+1):t.splice(e,0,u,u+s.nodeSize,Rr(g,s,p+1,Nr)),e+=3}});let r=Ar(e?jr(a):a,-l);for(let s=0;s<r.length;s++)r[s].type.valid(n,r[s])||r.splice(s--,1);return new ar(r.length?this.local.concat(r).sort(Er):this.local,t||this.children)}remove(n){return n.length==0||this==fr?this:this.removeInner(n,0)}removeInner(n,a){let l=this.children,t=this.local;for(let e=0;e<l.length;e+=3){let r,s=l[e]+a,u=l[e+1]+a;for(let g=0,C;g<n.length;g++)(C=n[g])&&C.from>s&&C.to<u&&(n[g]=null,(r||(r=[])).push(C));if(!r)continue;l==this.children&&(l=this.children.slice());let p=l[e+2].removeInner(r,s+1);p!=fr?l[e+2]=p:(l.splice(e,3),e-=3)}if(t.length){for(let e=0,r;e<n.length;e++)if(r=n[e])for(let s=0;s<t.length;s++)t[s].eq(r,a)&&(t==this.local&&(t=this.local.slice()),t.splice(s--,1))}return l==this.children&&t==this.local?this:t.length||l.length?new ar(t,l):fr}forChild(n,a){if(this==fr)return this;if(a.isLeaf)return ar.empty;let l,t;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=n){this.children[s]==n&&(l=this.children[s+2]);break}let e=n+1,r=e+a.content.size;for(let s=0;s<this.local.length;s++){let u=this.local[s];if(u.from<r&&u.to>e&&u.type instanceof dr){let p=Math.max(e,u.from)-e,g=Math.min(r,u.to)-e;p<g&&(t||(t=[])).push(u.copy(p,g))}}if(t){let s=new ar(t.sort(Er),xr);return l?new wr([s,l]):s}return l||fr}eq(n){if(this==n)return!0;if(!(n instanceof ar)||this.local.length!=n.local.length||this.children.length!=n.children.length)return!1;for(let a=0;a<this.local.length;a++)if(!this.local[a].eq(n.local[a]))return!1;for(let a=0;a<this.children.length;a+=3)if(this.children[a]!=n.children[a]||this.children[a+1]!=n.children[a+1]||!this.children[a+2].eq(n.children[a+2]))return!1;return!0}locals(n){return ri(this.localsInner(n))}localsInner(n){if(this==fr)return xr;if(n.inlineContent||!this.local.some(dr.is))return this.local;let a=[];for(let l=0;l<this.local.length;l++)this.local[l].type instanceof dr||a.push(this.local[l]);return a}}ar.empty=new ar([],[]),ar.removeOverlap=ri;const fr=ar.empty;class wr{constructor(n){this.members=n}map(n,a){const l=this.members.map(t=>t.map(n,a,Nr));return wr.from(l)}forChild(n,a){if(a.isLeaf)return ar.empty;let l=[];for(let t=0;t<this.members.length;t++){let e=this.members[t].forChild(n,a);e!=fr&&(e instanceof wr?l=l.concat(e.members):l.push(e))}return wr.from(l)}eq(n){if(!(n instanceof wr)||n.members.length!=this.members.length)return!1;for(let a=0;a<this.members.length;a++)if(!this.members[a].eq(n.members[a]))return!1;return!0}locals(n){let a,l=!0;for(let t=0;t<this.members.length;t++){let e=this.members[t].localsInner(n);if(!!e.length)if(!a)a=e;else{l&&(a=a.slice(),l=!1);for(let r=0;r<e.length;r++)a.push(e[r])}}return a?ri(l?a:a.sort(Er)):xr}static from(n){switch(n.length){case 0:return fr;case 1:return n[0];default:return new wr(n.every(a=>a instanceof ar)?n:n.reduce((a,l)=>a.concat(l instanceof ar?l:l.members),[]))}}}function $r(i,n,a,l,t,e,r){let s=i.slice();for(let p=0,g=e;p<a.maps.length;p++){let C=0;a.maps[p].forEach((D,$,B,G)=>{let ee=G-B-($-D);for(let be=0;be<s.length;be+=3){let Qe=s[be+1];if(Qe<0||D>Qe+g-C)continue;let ct=s[be]+g-C;$>=ct?s[be+1]=D<=ct?-2:-1:B>=t&&ee&&(s[be]+=ee,s[be+1]+=ee)}C+=ee}),g=a.maps[p].map(g,-1)}let u=!1;for(let p=0;p<s.length;p+=3)if(s[p+1]<0){if(s[p+1]==-2){u=!0,s[p+1]=-1;continue}let g=a.map(i[p]+e),C=g-t;if(C<0||C>=l.content.size){u=!0;continue}let D=a.map(i[p+1]+e,-1),$=D-t,{index:B,offset:G}=l.content.findIndex(C),ee=l.maybeChild(B);if(ee&&G==C&&G+ee.nodeSize==$){let be=s[p+2].mapInner(a,ee,g+1,i[p]+e+1,r);be!=fr?(s[p]=C,s[p+1]=$,s[p+2]=be):(s[p+1]=-2,u=!0)}else u=!0}if(u){let p=Kr(s,i,n,a,t,e,r),g=Rr(p,l,0,r);n=g.local;for(let C=0;C<s.length;C+=3)s[C+1]<0&&(s.splice(C,3),C-=3);for(let C=0,D=0;C<g.children.length;C+=3){let $=g.children[C];for(;D<s.length&&s[D]<$;)D+=3;s.splice(D,0,g.children[C],g.children[C+1],g.children[C+2])}}return new ar(n.sort(Er),s)}function Ar(i,n){if(!n||!i.length)return i;let a=[];for(let l=0;l<i.length;l++){let t=i[l];a.push(new mr(t.from+n,t.to+n,t.type))}return a}function Kr(i,n,a,l,t,e,r){function s(u,p){for(let g=0;g<u.local.length;g++){let C=u.local[g].map(l,t,p);C?a.push(C):r.onRemove&&r.onRemove(u.local[g].spec)}for(let g=0;g<u.children.length;g+=3)s(u.children[g+2],u.children[g]+p+1)}for(let u=0;u<i.length;u+=3)i[u+1]==-1&&s(i[u+2],n[u]+e+1);return a}function qr(i,n,a){if(n.isLeaf)return null;let l=a+n.nodeSize,t=null;for(let e=0,r;e<i.length;e++)(r=i[e])&&r.from>a&&r.to<l&&((t||(t=[])).push(r),i[e]=null);return t}function jr(i){let n=[];for(let a=0;a<i.length;a++)i[a]!=null&&n.push(i[a]);return n}function Rr(i,n,a,l){let t=[],e=!1;n.forEach((s,u)=>{let p=qr(i,s,u+a);if(p){e=!0;let g=Rr(p,s,a+u+1,l);g!=fr&&t.push(u,u+s.nodeSize,g)}});let r=Ar(e?jr(i):i,-a).sort(Er);for(let s=0;s<r.length;s++)r[s].type.valid(n,r[s])||(l.onRemove&&l.onRemove(r[s].spec),r.splice(s--,1));return r.length||t.length?new ar(r,t):fr}function Er(i,n){return i.from-n.from||i.to-n.to}function ri(i){let n=i;for(let a=0;a<n.length-1;a++){let l=n[a];if(l.from!=l.to)for(let t=a+1;t<n.length;t++){let e=n[t];if(e.from==l.from){e.to!=l.to&&(n==i&&(n=i.slice()),n[t]=e.copy(e.from,l.to),ii(n,t+1,e.copy(l.to,e.to)));continue}else{e.from<l.to&&(n==i&&(n=i.slice()),n[a]=l.copy(l.from,e.from),ii(n,t,l.copy(e.from,l.to)));break}}}return n}function ii(i,n,a){for(;n<i.length&&Er(a,i[n])>0;)n++;i.splice(n,0,a)}function oi(i){let n=[];return i.someProp("decorations",a=>{let l=a(i.state);l&&l!=fr&&n.push(l)}),i.cursorWrapper&&n.push(ar.create(i.state.doc,[i.cursorWrapper.deco])),wr.from(n)}const si={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ui=St&&on<=11;class k{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(n){this.anchorNode=n.anchorNode,this.anchorOffset=n.anchorOffset,this.focusNode=n.focusNode,this.focusOffset=n.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(n){return n.anchorNode==this.anchorNode&&n.anchorOffset==this.anchorOffset&&n.focusNode==this.focusNode&&n.focusOffset==this.focusOffset}}class N{constructor(n,a){this.view=n,this.handleDOMChange=a,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new k,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(l=>{for(let t=0;t<l.length;t++)this.queue.push(l[t]);St&&on<=11&&l.some(t=>t.type=="childList"&&t.removedNodes.length||t.type=="characterData"&&t.oldValue.length>t.target.nodeValue.length)?this.flushSoon():this.flush()}),ui&&(this.onCharData=l=>{this.queue.push({target:l.target,type:"characterData",oldValue:l.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,si)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let n=this.observer.takeRecords();if(n.length){for(let a=0;a<n.length;a++)this.queue.push(n[a]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!xn(this.view)){if(this.suppressingSelectionUpdates)return nt(this.view);if(St&&on<=11&&!this.view.state.selection.empty){let n=this.view.domSelectionRange();if(n.focusNode&&me(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(n){if(!n.focusNode)return!0;let a=new Set,l;for(let e=n.focusNode;e;e=le(e))a.add(e);for(let e=n.anchorNode;e;e=le(e))if(a.has(e)){l=e;break}let t=l&&this.view.docView.nearestDesc(l);if(t&&t.ignoreMutation({type:"selection",target:l.nodeType==3?l.parentNode:l}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}flush(){let{view:n}=this;if(!n.docView||this.flushingSoon>-1)return;let a=this.pendingRecords();a.length&&(this.queue=[]);let l=n.domSelectionRange(),t=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(l)&&xn(n)&&!this.ignoreSelectionChange(l),e=-1,r=-1,s=!1,u=[];if(n.editable)for(let g=0;g<a.length;g++){let C=this.registerMutation(a[g],u);C&&(e=e<0?C.from:Math.min(C.from,e),r=r<0?C.to:Math.max(C.to,r),C.typeOver&&(s=!0))}if(Ge&&u.length>1){let g=u.filter(C=>C.nodeName=="BR");if(g.length==2){let C=g[0],D=g[1];C.parentNode&&C.parentNode.parentNode==D.parentNode?D.remove():C.remove()}}let p=null;e<0&&t&&n.input.lastFocus>Date.now()-200&&Math.max(n.input.lastTouch,n.input.lastClick.time)<Date.now()-300&&st(l)&&(p=Et(n))&&p.eq(A.Y1.near(n.state.doc.resolve(0),1))?(n.input.lastFocus=0,nt(n),this.currentSelection.set(l),n.scrollToSelection()):(e>-1||t)&&(e>-1&&(n.docView.markDirty(e,r),fe(n)),this.handleDOMChange(e,r,s,u),n.docView&&n.docView.dirty?n.updateState(n.state):this.currentSelection.eq(l)||nt(n),this.currentSelection.set(l))}registerMutation(n,a){if(a.indexOf(n.target)>-1)return null;let l=this.view.docView.nearestDesc(n.target);if(n.type=="attributes"&&(l==this.view.docView||n.attributeName=="contenteditable"||n.attributeName=="style"&&!n.oldValue&&!n.target.getAttribute("style"))||!l||l.ignoreMutation(n))return null;if(n.type=="childList"){for(let g=0;g<n.addedNodes.length;g++)a.push(n.addedNodes[g]);if(l.contentDOM&&l.contentDOM!=l.dom&&!l.contentDOM.contains(n.target))return{from:l.posBefore,to:l.posAfter};let t=n.previousSibling,e=n.nextSibling;if(St&&on<=11&&n.addedNodes.length)for(let g=0;g<n.addedNodes.length;g++){let{previousSibling:C,nextSibling:D}=n.addedNodes[g];(!C||Array.prototype.indexOf.call(n.addedNodes,C)<0)&&(t=C),(!D||Array.prototype.indexOf.call(n.addedNodes,D)<0)&&(e=D)}let r=t&&t.parentNode==n.target?de(t)+1:0,s=l.localPosFromDOM(n.target,r,-1),u=e&&e.parentNode==n.target?de(e):n.target.childNodes.length,p=l.localPosFromDOM(n.target,u,1);return{from:s,to:p}}else return n.type=="attributes"?{from:l.posAtStart-l.border,to:l.posAtEnd+l.border}:{from:l.posAtStart,to:l.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}}}let H=new WeakMap,se=!1;function fe(i){if(!H.has(i)&&(H.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=Ge,se)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),se=!0}}function ye(i){let n;function a(u){u.preventDefault(),u.stopImmediatePropagation(),n=u.getTargetRanges()[0]}i.dom.addEventListener("beforeinput",a,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",a,!0);let l=n.startContainer,t=n.startOffset,e=n.endContainer,r=n.endOffset,s=i.domAtPos(i.state.selection.anchor);return me(s.node,s.offset,e,r)&&([l,t,e,r]=[e,r,l,t]),{anchorNode:l,anchorOffset:t,focusNode:e,focusOffset:r}}function Oe(i,n,a){let{node:l,fromOffset:t,toOffset:e,from:r,to:s}=i.docView.parseRange(n,a),u=i.domSelectionRange(),p,g=u.anchorNode;if(g&&i.dom.contains(g.nodeType==1?g:g.parentNode)&&(p=[{node:g,offset:u.anchorOffset}],st(u)||p.push({node:u.focusNode,offset:u.focusOffset})),Be&&i.input.lastKeyCode===8)for(let ee=e;ee>t;ee--){let be=l.childNodes[ee-1],Qe=be.pmViewDesc;if(be.nodeName=="BR"&&!Qe){e=ee;break}if(!Qe||Qe.size)break}let C=i.state.doc,D=i.someProp("domParser")||Ne.aw.fromSchema(i.state.schema),$=C.resolve(r),B=null,G=D.parse(l,{topNode:$.parent,topMatch:$.parent.contentMatchAt($.index()),topOpen:!0,from:t,to:e,preserveWhitespace:$.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:Ae,context:$});if(p&&p[0].pos!=null){let ee=p[0].pos,be=p[1]&&p[1].pos;be==null&&(be=ee),B={anchor:ee+r,head:be+r}}return{doc:G,sel:B,from:r,to:s}}function Ae(i){let n=i.pmViewDesc;if(n)return n.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(Ce&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let a=document.createElement("div");return a.appendChild(document.createElement("li")),{skip:a}}else if(i.parentNode.lastChild==i||Ce&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ie=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ft(i,n,a,l,t){let e=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,n<0){let tn=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,sr=Et(i,tn);if(sr&&!i.state.selection.eq(sr)){if(Be&&ke&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",Or=>Or(i,Ue(13,"Enter"))))return;let pr=i.state.tr.setSelection(sr);tn=="pointer"?pr.setMeta("pointer",!0):tn=="key"&&pr.scrollIntoView(),e&&pr.setMeta("composition",e),i.dispatch(pr)}return}let r=i.state.doc.resolve(n),s=r.sharedDepth(a);n=r.before(s+1),a=i.state.doc.resolve(a).after(s+1);let u=i.state.selection,p=Oe(i,n,a),g=i.state.doc,C=g.slice(p.from,p.to),D,$;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(D=i.state.selection.to,$="end"):(D=i.state.selection.from,$="start"),i.input.lastKeyCode=null;let B=Kt(C.content,p.doc.content,p.from,D,$);if((U&&i.input.lastIOSEnter>Date.now()-225||ke)&&t.some(tn=>tn.nodeType==1&&!Ie.test(tn.nodeName))&&(!B||B.endA>=B.endB)&&i.someProp("handleKeyDown",tn=>tn(i,Ue(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!B)if(l&&u instanceof A.Bs&&!u.empty&&u.$head.sameParent(u.$anchor)&&!i.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))B={start:u.from,endA:u.to,endB:u.to};else{if(p.sel){let tn=Je(i,i.state.doc,p.sel);if(tn&&!tn.eq(i.state.selection)){let sr=i.state.tr.setSelection(tn);e&&sr.setMeta("composition",e),i.dispatch(sr)}}return}if(Be&&i.cursorWrapper&&p.sel&&p.sel.anchor==i.cursorWrapper.deco.from&&p.sel.head==p.sel.anchor){let tn=B.endB-B.start;p.sel={anchor:p.sel.anchor+tn,head:p.sel.anchor+tn}}i.input.domChangeCount++,i.state.selection.from<i.state.selection.to&&B.start==B.endB&&i.state.selection instanceof A.Bs&&(B.start>i.state.selection.from&&B.start<=i.state.selection.from+2&&i.state.selection.from>=p.from?B.start=i.state.selection.from:B.endA<i.state.selection.to&&B.endA>=i.state.selection.to-2&&i.state.selection.to<=p.to&&(B.endB+=i.state.selection.to-B.endA,B.endA=i.state.selection.to)),St&&on<=11&&B.endB==B.start+1&&B.endA==B.start&&B.start>p.from&&p.doc.textBetween(B.start-p.from-1,B.start-p.from+1)==" \xA0"&&(B.start--,B.endA--,B.endB--);let G=p.doc.resolveNoCache(B.start-p.from),ee=p.doc.resolveNoCache(B.endB-p.from),be=g.resolve(B.start),Qe=G.sameParent(ee)&&G.parent.inlineContent&&be.end()>=B.endA,ct;if((U&&i.input.lastIOSEnter>Date.now()-225&&(!Qe||t.some(tn=>tn.nodeName=="DIV"||tn.nodeName=="P"))||!Qe&&G.pos<p.doc.content.size&&!G.sameParent(ee)&&(ct=A.Y1.findFrom(p.doc.resolve(G.pos+1),1,!0))&&ct.head==ee.pos)&&i.someProp("handleKeyDown",tn=>tn(i,Ue(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>B.start&&Jt(g,B.start,B.endA,G,ee)&&i.someProp("handleKeyDown",tn=>tn(i,Ue(8,"Backspace")))){ke&&Be&&i.domObserver.suppressSelectionUpdates();return}Be&&ke&&B.endB==B.start&&(i.input.lastAndroidDelete=Date.now()),ke&&!Qe&&G.start()!=ee.start()&&ee.parentOffset==0&&G.depth==ee.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==B.endA&&(B.endB-=2,ee=p.doc.resolveNoCache(B.endB-p.from),setTimeout(()=>{i.someProp("handleKeyDown",function(tn){return tn(i,Ue(13,"Enter"))})},20));let yt=B.start,vt=B.endA,pn,rr,lr;if(Qe){if(G.pos==ee.pos)St&&on<=11&&G.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>nt(i),20)),pn=i.state.tr.delete(yt,vt),rr=g.resolve(B.start).marksAcross(g.resolve(B.endA));else if(B.endA==B.endB&&(lr=en(G.parent.content.cut(G.parentOffset,ee.parentOffset),be.parent.content.cut(be.parentOffset,B.endA-be.start()))))pn=i.state.tr,lr.type=="add"?pn.addMark(yt,vt,lr.mark):pn.removeMark(yt,vt,lr.mark);else if(G.parent.child(G.index()).isText&&G.index()==ee.index()-(ee.textOffset?0:1)){let tn=G.parent.textBetween(G.parentOffset,ee.parentOffset);if(i.someProp("handleTextInput",sr=>sr(i,yt,vt,tn)))return;pn=i.state.tr.insertText(tn,yt,vt)}}if(pn||(pn=i.state.tr.replace(yt,vt,p.doc.slice(B.start-p.from,B.endB-p.from))),p.sel){let tn=Je(i,pn.doc,p.sel);tn&&!(Be&&ke&&i.composing&&tn.empty&&(B.start!=B.endB||i.input.lastAndroidDelete<Date.now()-100)&&(tn.head==yt||tn.head==pn.mapping.map(vt)-1)||St&&tn.empty&&tn.head==yt)&&pn.setSelection(tn)}rr&&pn.ensureMarks(rr),e&&pn.setMeta("composition",e),i.dispatch(pn.scrollIntoView())}function Je(i,n,a){return Math.max(a.anchor,a.head)>n.content.size?null:Gn(i,n.resolve(a.anchor),n.resolve(a.head))}function en(i,n){let a=i.firstChild.marks,l=n.firstChild.marks,t=a,e=l,r,s,u;for(let g=0;g<l.length;g++)t=l[g].removeFromSet(t);for(let g=0;g<a.length;g++)e=a[g].removeFromSet(e);if(t.length==1&&e.length==0)s=t[0],r="add",u=g=>g.mark(s.addToSet(g.marks));else if(t.length==0&&e.length==1)s=e[0],r="remove",u=g=>g.mark(s.removeFromSet(g.marks));else return null;let p=[];for(let g=0;g<n.childCount;g++)p.push(u(n.child(g)));if(Ne.HY.from(p).eq(i))return{mark:s,type:r}}function Jt(i,n,a,l,t){if(!l.parent.isTextblock||a-n<=t.pos-l.pos||Pt(l,!0,!1)<t.pos)return!1;let e=i.resolve(n);if(e.parentOffset<e.parent.content.size||!e.parent.isTextblock)return!1;let r=i.resolve(Pt(e,!0,!0));return!r.parent.isTextblock||r.pos>a||Pt(r,!0,!1)<a?!1:l.parent.content.cut(l.parentOffset).eq(r.parent.content)}function Pt(i,n,a){let l=i.depth,t=n?i.end():i.pos;for(;l>0&&(n||i.indexAfter(l)==i.node(l).childCount);)l--,t++,n=!1;if(a){let e=i.node(l).maybeChild(i.indexAfter(l));for(;e&&!e.isLeaf;)e=e.firstChild,t++}return t}function Kt(i,n,a,l,t){let e=i.findDiffStart(n,a);if(e==null)return null;let{a:r,b:s}=i.findDiffEnd(n,a+i.size,a+n.size);if(t=="end"){let u=Math.max(0,e-Math.min(r,s));l-=r+u-e}return r<e&&i.size<n.size?(e-=l<=e&&l>=r?e-l:0,s=e+(s-r),r=e):s<e&&(e-=l<=e&&l>=s?e-l:0,r=e+(r-s),s=e),{start:e,endA:r,endB:s}}const At=null,Mt=null,mt=null;class Xt{constructor(n,a){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new zt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=a,this.state=a.state,this.directPlugins=a.plugins||[],this.directPlugins.forEach(Zn),this.dispatch=this.dispatch.bind(this),this.dom=n&&n.mount||document.createElement("div"),n&&(n.appendChild?n.appendChild(this.dom):typeof n=="function"?n(this.dom):n.mount&&(this.mounted=!0)),this.editable=Nt(this),re(this),this.nodeViews=kn(this),this.docView=S(this.state.doc,fn(this),oi(this),this.dom,this),this.domObserver=new N(this,(l,t,e,r)=>ft(this,l,t,e,r)),this.domObserver.start(),jn(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let n=this._props;this._props={};for(let a in n)this._props[a]=n[a];this._props.state=this.state}return this._props}update(n){n.handleDOMEvents!=this._props.handleDOMEvents&&jt(this);let a=this._props;this._props=n,n.plugins&&(n.plugins.forEach(Zn),this.directPlugins=n.plugins),this.updateStateInner(n.state,a)}setProps(n){let a={};for(let l in this._props)a[l]=this._props[l];a.state=this.state;for(let l in n)a[l]=n[l];this.update(a)}updateState(n){this.updateStateInner(n,this._props)}updateStateInner(n,a){let l=this.state,t=!1,e=!1;n.storedMarks&&this.composing&&(Hr(this),e=!0),this.state=n;let r=l.plugins!=n.plugins||this._props.plugins!=a.plugins;if(r||this._props.plugins!=a.plugins||this._props.nodeViews!=a.nodeViews){let D=kn(this);An(D,this.nodeViews)&&(this.nodeViews=D,t=!0)}(r||a.handleDOMEvents!=this._props.handleDOMEvents)&&jt(this),this.editable=Nt(this),re(this);let s=oi(this),u=fn(this),p=l.plugins!=n.plugins&&!l.doc.eq(n.doc)?"reset":n.scrollToSelection>l.scrollToSelection?"to selection":"preserve",g=t||!this.docView.matchesNode(n.doc,u,s);(g||!n.selection.eq(l.selection))&&(e=!0);let C=p=="preserve"&&e&&this.dom.style.overflowAnchor==null&&Cn(this);if(e){this.domObserver.stop();let D=g&&(St||Be)&&!this.composing&&!l.selection.empty&&!n.selection.empty&&pt(l.selection,n.selection);if(g){let $=Be?this.trackWrites=this.domSelectionRange().focusNode:null;(t||!this.docView.update(n.doc,u,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=S(n.doc,u,s,this.dom,this)),$&&!this.trackWrites&&(D=!0)}D||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&or(this))?nt(this,D):(an(this,n.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(l),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():C&&Rn(C)}scrollToSelection(){let n=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",a=>a(this)))if(this.state.selection instanceof A.qv){let a=this.docView.domAfterPos(this.state.selection.from);a.nodeType==1&&xt(this,a.getBoundingClientRect(),n)}else xt(this,this.coordsAtPos(this.state.selection.head,1),n)}destroyPluginViews(){let n;for(;n=this.pluginViews.pop();)n.destroy&&n.destroy()}updatePluginViews(n){if(!n||n.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a];l.spec.view&&this.pluginViews.push(l.spec.view(this))}for(let a=0;a<this.state.plugins.length;a++){let l=this.state.plugins[a];l.spec.view&&this.pluginViews.push(l.spec.view(this))}}else for(let a=0;a<this.pluginViews.length;a++){let l=this.pluginViews[a];l.update&&l.update(this,n)}}someProp(n,a){let l=this._props&&this._props[n],t;if(l!=null&&(t=a?a(l):l))return t;for(let r=0;r<this.directPlugins.length;r++){let s=this.directPlugins[r].props[n];if(s!=null&&(t=a?a(s):s))return t}let e=this.state.plugins;if(e)for(let r=0;r<e.length;r++){let s=e[r].props[n];if(s!=null&&(t=a?a(s):s))return t}}hasFocus(){if(St){let n=this.root.activeElement;if(n==this.dom)return!0;if(!n||!this.dom.contains(n))return!1;for(;n&&this.dom!=n&&this.dom.contains(n);){if(n.contentEditable=="false")return!1;n=n.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&vn(this.dom),nt(this),this.domObserver.start()}get root(){let n=this._root;if(n==null){for(let a=this.dom.parentNode;a;a=a.parentNode)if(a.nodeType==9||a.nodeType==11&&a.host)return a.getSelection||(Object.getPrototypeOf(a).getSelection=()=>a.ownerDocument.getSelection()),this._root=a}return n||document}posAtCoords(n){return Sn(this,n)}coordsAtPos(n,a=1){return tr(this,n,a)}domAtPos(n,a=0){return this.docView.domFromPos(n,a)}nodeDOM(n){let a=this.docView.descAt(n);return a?a.nodeDOM:null}posAtDOM(n,a,l=-1){let t=this.docView.posFromDOM(n,a,l);if(t==null)throw new RangeError("DOM position not inside the editor");return t}endOfTextblock(n,a){return T(this,a||this.state,n)}pasteHTML(n,a){return vr(this,"",n,!1,a||new ClipboardEvent("paste"))}pasteText(n,a){return vr(this,n,null,!0,a||new ClipboardEvent("paste"))}destroy(){!this.docView||(nr(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],oi(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(n){return Vt(this,n)}dispatch(n){let a=this._props.dispatchTransaction;a?a.call(this,n):this.updateState(this.state.apply(n))}domSelectionRange(){return Ce&&this.root.nodeType===11&&ut(this.dom.ownerDocument)==this.dom?ye(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function fn(i){let n=Object.create(null);return n.class="ProseMirror",n.contenteditable=String(i.editable),i.someProp("attributes",a=>{if(typeof a=="function"&&(a=a(i.state)),a)for(let l in a)l=="class"?n.class+=" "+a[l]:l=="style"?n.style=(n.style?n.style+";":"")+a[l]:!n[l]&&l!="contenteditable"&&l!="nodeName"&&(n[l]=String(a[l]))}),n.translate||(n.translate="no"),[mr.node(0,i.state.doc.content.size,n)]}function re(i){if(i.markCursor){let n=document.createElement("img");n.className="ProseMirror-separator",n.setAttribute("mark-placeholder","true"),n.setAttribute("alt",""),i.cursorWrapper={dom:n,deco:mr.widget(i.state.selection.head,n,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function Nt(i){return!i.someProp("editable",n=>n(i.state)===!1)}function pt(i,n){let a=Math.min(i.$anchor.sharedDepth(i.head),n.$anchor.sharedDepth(n.head));return i.$anchor.start(a)!=n.$anchor.start(a)}function kn(i){let n=Object.create(null);function a(l){for(let t in l)Object.prototype.hasOwnProperty.call(n,t)||(n[t]=l[t])}return i.someProp("nodeViews",a),i.someProp("markViews",a),n}function An(i,n){let a=0,l=0;for(let t in i){if(i[t]!=n[t])return!0;a++}for(let t in n)l++;return a!=l}function Zn(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},69193:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return Fe}});let A=He=>typeof He=="object"&&He!=null&&He.nodeType===1,Ne=(He,Xe)=>(!Xe||He!=="hidden")&&He!=="visible"&&He!=="clip",Ee=(He,Xe)=>{if(He.clientHeight<He.scrollHeight||He.clientWidth<He.scrollWidth){let at=getComputedStyle(He,null);return Ne(at.overflowY,Xe)||Ne(at.overflowX,Xe)||(dt=>{let st=(Ue=>{if(!Ue.ownerDocument||!Ue.ownerDocument.defaultView)return null;try{return Ue.ownerDocument.defaultView.frameElement}catch(ut){return null}})(dt);return!!st&&(st.clientHeight<dt.scrollHeight||st.clientWidth<dt.scrollWidth)})(He)}return!1},de=(He,Xe,at,dt,st,Ue,ut,Pe)=>Ue<He&&ut>Xe||Ue>He&&ut<Xe?0:Ue<=He&&Pe<=at||ut>=Xe&&Pe>=at?Ue-He-dt:ut>Xe&&Pe<at||Ue<He&&Pe>at?ut-Xe+st:0,le=He=>{let Xe=He.parentElement;return Xe==null?He.getRootNode().host||null:Xe},qe=(He,Xe)=>{var at,dt,st,Ue;if(typeof document=="undefined")return[];let{scrollMode:ut,block:Pe,inline:Ye,boundary:We,skipOverflowHiddenElements:Rt}=Xe,Bt=typeof We=="function"?We:Ft=>Ft!==We;if(!A(He))throw new TypeError("Invalid target");let ve=document.scrollingElement||document.documentElement,Ht=[],St=He;for(;A(St)&&Bt(St);){if(St=le(St),St===ve){Ht.push(St);break}St!=null&&St===document.body&&Ee(St)&&!Ee(document.documentElement)||St!=null&&Ee(St,Rt)&&Ht.push(St)}let on=(dt=(at=window.visualViewport)==null?void 0:at.width)!=null?dt:innerWidth,Ge=(Ue=(st=window.visualViewport)==null?void 0:st.height)!=null?Ue:innerHeight,{scrollX:Ke,scrollY:Be}=window,{height:gt,width:Ce,top:U,right:J,bottom:te,left:ke}=He.getBoundingClientRect(),ze=Pe==="start"||Pe==="nearest"?U:Pe==="end"?te:U+gt/2,it=Ye==="center"?ke+Ce/2:Ye==="end"?J:ke,Lt=[];for(let Ft=0;Ft<Ht.length;Ft++){let Dt=Ht[Ft],{height:xt,width:Cn,top:zn,right:Rn,bottom:Mn,left:rn}=Dt.getBoundingClientRect();if(ut==="if-needed"&&U>=0&&ke>=0&&te<=Ge&&J<=on&&U>=zn&&te<=Mn&&ke>=rn&&J<=Rn)return Lt;let vn=getComputedStyle(Dt),bn=parseInt(vn.borderLeftWidth,10),mn=parseInt(vn.borderTopWidth,10),qn=parseInt(vn.borderRightWidth,10),In=parseInt(vn.borderBottomWidth,10),wn=0,cn=0,Pn="offsetWidth"in Dt?Dt.offsetWidth-Dt.clientWidth-bn-qn:0,Sn="offsetHeight"in Dt?Dt.offsetHeight-Dt.clientHeight-mn-In:0,Bn="offsetWidth"in Dt?Dt.offsetWidth===0?0:Cn/Dt.offsetWidth:0,Tn="offsetHeight"in Dt?Dt.offsetHeight===0?0:xt/Dt.offsetHeight:0;if(ve===Dt)wn=Pe==="start"?ze:Pe==="end"?ze-Ge:Pe==="nearest"?de(Be,Be+Ge,Ge,mn,In,Be+ze,Be+ze+gt,gt):ze-Ge/2,cn=Ye==="start"?it:Ye==="center"?it-on/2:Ye==="end"?it-on:de(Ke,Ke+on,on,bn,qn,Ke+it,Ke+it+Ce,Ce),wn=Math.max(0,wn+Be),cn=Math.max(0,cn+Ke);else{wn=Pe==="start"?ze-zn-mn:Pe==="end"?ze-Mn+In+Sn:Pe==="nearest"?de(zn,Mn,xt,mn,In+Sn,ze,ze+gt,gt):ze-(zn+xt/2)+Sn/2,cn=Ye==="start"?it-rn-bn:Ye==="center"?it-(rn+Cn/2)+Pn/2:Ye==="end"?it-Rn+qn+Pn:de(rn,Rn,Cn,bn,qn+Pn,it,it+Ce,Ce);let{scrollLeft:Xn,scrollTop:tr}=Dt;wn=Math.max(0,Math.min(tr+wn/Tn,Dt.scrollHeight-xt/Tn+Sn)),cn=Math.max(0,Math.min(Xn+cn/Bn,Dt.scrollWidth-Cn/Bn+Pn)),ze+=tr-wn,it+=Xn-cn}Lt.push({el:Dt,top:wn,left:cn})}return Lt},je=He=>typeof He=="object"&&typeof He.behavior=="function",me=He=>He===!1?{block:"end",inline:"nearest"}:(Xe=>Xe===Object(Xe)&&Object.keys(Xe).length!==0)(He)?He:{block:"start",inline:"nearest"};function Fe(He,Xe){if(!He.isConnected||!He.ownerDocument.documentElement.contains(He))return;if(je(Xe))return Xe.behavior(qe(He,Xe));let at=typeof Xe=="boolean"||Xe==null?void 0:Xe.behavior;for(let{el:dt,top:st,left:Ue}of qe(He,me(Xe)))dt.scroll({top:st,left:Ue,behavior:at})}},20427:function(En,Ot,ge){"use strict";ge.d(Ot,{ZP:function(){return ui}});function A(k){if(k==null)return window;if(k.toString()!=="[object Window]"){var N=k.ownerDocument;return N&&N.defaultView||window}return k}function Ne(k){var N=A(k).Element;return k instanceof N||k instanceof Element}function Ee(k){var N=A(k).HTMLElement;return k instanceof N||k instanceof HTMLElement}function de(k){if(typeof ShadowRoot=="undefined")return!1;var N=A(k).ShadowRoot;return k instanceof N||k instanceof ShadowRoot}var le=Math.max,qe=Math.min,je=Math.round;function me(){var k=navigator.userAgentData;return k!=null&&k.brands&&Array.isArray(k.brands)?k.brands.map(function(N){return N.brand+"/"+N.version}).join(" "):navigator.userAgent}function Fe(){return!/^((?!chrome|android).)*safari/i.test(me())}function He(k,N,H){N===void 0&&(N=!1),H===void 0&&(H=!1);var se=k.getBoundingClientRect(),fe=1,ye=1;N&&Ee(k)&&(fe=k.offsetWidth>0&&je(se.width)/k.offsetWidth||1,ye=k.offsetHeight>0&&je(se.height)/k.offsetHeight||1);var Oe=Ne(k)?A(k):window,Ae=Oe.visualViewport,Ie=!Fe()&&H,ft=(se.left+(Ie&&Ae?Ae.offsetLeft:0))/fe,Je=(se.top+(Ie&&Ae?Ae.offsetTop:0))/ye,en=se.width/fe,Jt=se.height/ye;return{width:en,height:Jt,top:Je,right:ft+en,bottom:Je+Jt,left:ft,x:ft,y:Je}}function Xe(k){var N=A(k),H=N.pageXOffset,se=N.pageYOffset;return{scrollLeft:H,scrollTop:se}}function at(k){return{scrollLeft:k.scrollLeft,scrollTop:k.scrollTop}}function dt(k){return k===A(k)||!Ee(k)?Xe(k):at(k)}function st(k){return k?(k.nodeName||"").toLowerCase():null}function Ue(k){return((Ne(k)?k.ownerDocument:k.document)||window.document).documentElement}function ut(k){return He(Ue(k)).left+Xe(k).scrollLeft}function Pe(k){return A(k).getComputedStyle(k)}function Ye(k){var N=Pe(k),H=N.overflow,se=N.overflowX,fe=N.overflowY;return/auto|scroll|overlay|hidden/.test(H+fe+se)}function We(k){var N=k.getBoundingClientRect(),H=je(N.width)/k.offsetWidth||1,se=je(N.height)/k.offsetHeight||1;return H!==1||se!==1}function Rt(k,N,H){H===void 0&&(H=!1);var se=Ee(N),fe=Ee(N)&&We(N),ye=Ue(N),Oe=He(k,fe,H),Ae={scrollLeft:0,scrollTop:0},Ie={x:0,y:0};return(se||!se&&!H)&&((st(N)!=="body"||Ye(ye))&&(Ae=dt(N)),Ee(N)?(Ie=He(N,!0),Ie.x+=N.clientLeft,Ie.y+=N.clientTop):ye&&(Ie.x=ut(ye))),{x:Oe.left+Ae.scrollLeft-Ie.x,y:Oe.top+Ae.scrollTop-Ie.y,width:Oe.width,height:Oe.height}}function Bt(k){var N=He(k),H=k.offsetWidth,se=k.offsetHeight;return Math.abs(N.width-H)<=1&&(H=N.width),Math.abs(N.height-se)<=1&&(se=N.height),{x:k.offsetLeft,y:k.offsetTop,width:H,height:se}}function ve(k){return st(k)==="html"?k:k.assignedSlot||k.parentNode||(de(k)?k.host:null)||Ue(k)}function Ht(k){return["html","body","#document"].indexOf(st(k))>=0?k.ownerDocument.body:Ee(k)&&Ye(k)?k:Ht(ve(k))}function St(k,N){var H;N===void 0&&(N=[]);var se=Ht(k),fe=se===((H=k.ownerDocument)==null?void 0:H.body),ye=A(se),Oe=fe?[ye].concat(ye.visualViewport||[],Ye(se)?se:[]):se,Ae=N.concat(Oe);return fe?Ae:Ae.concat(St(ve(Oe)))}function on(k){return["table","td","th"].indexOf(st(k))>=0}function Ge(k){return!Ee(k)||Pe(k).position==="fixed"?null:k.offsetParent}function Ke(k){var N=/firefox/i.test(me()),H=/Trident/i.test(me());if(H&&Ee(k)){var se=Pe(k);if(se.position==="fixed")return null}var fe=ve(k);for(de(fe)&&(fe=fe.host);Ee(fe)&&["html","body"].indexOf(st(fe))<0;){var ye=Pe(fe);if(ye.transform!=="none"||ye.perspective!=="none"||ye.contain==="paint"||["transform","perspective"].indexOf(ye.willChange)!==-1||N&&ye.willChange==="filter"||N&&ye.filter&&ye.filter!=="none")return fe;fe=fe.parentNode}return null}function Be(k){for(var N=A(k),H=Ge(k);H&&on(H)&&Pe(H).position==="static";)H=Ge(H);return H&&(st(H)==="html"||st(H)==="body"&&Pe(H).position==="static")?N:H||Ke(k)||N}var gt="top",Ce="bottom",U="right",J="left",te="auto",ke=[gt,Ce,U,J],ze="start",it="end",Lt="clippingParents",Ft="viewport",Dt="popper",xt="reference",Cn=ke.reduce(function(k,N){return k.concat([N+"-"+ze,N+"-"+it])},[]),zn=[].concat(ke,[te]).reduce(function(k,N){return k.concat([N,N+"-"+ze,N+"-"+it])},[]),Rn="beforeRead",Mn="read",rn="afterRead",vn="beforeMain",bn="main",mn="afterMain",qn="beforeWrite",In="write",wn="afterWrite",cn=[Rn,Mn,rn,vn,bn,mn,qn,In,wn];function Pn(k){var N=new Map,H=new Set,se=[];k.forEach(function(ye){N.set(ye.name,ye)});function fe(ye){H.add(ye.name);var Oe=[].concat(ye.requires||[],ye.requiresIfExists||[]);Oe.forEach(function(Ae){if(!H.has(Ae)){var Ie=N.get(Ae);Ie&&fe(Ie)}}),se.push(ye)}return k.forEach(function(ye){H.has(ye.name)||fe(ye)}),se}function Sn(k){var N=Pn(k);return cn.reduce(function(H,se){return H.concat(N.filter(function(fe){return fe.phase===se}))},[])}function Bn(k){var N;return function(){return N||(N=new Promise(function(H){Promise.resolve().then(function(){N=void 0,H(k())})})),N}}function Tn(k){var N=k.reduce(function(H,se){var fe=H[se.name];return H[se.name]=fe?Object.assign({},fe,se,{options:Object.assign({},fe.options,se.options),data:Object.assign({},fe.data,se.data)}):se,H},{});return Object.keys(N).map(function(H){return N[H]})}var Xn="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",tr="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",_n={placement:"bottom",modifiers:[],strategy:"absolute"};function Jn(){for(var k=arguments.length,N=new Array(k),H=0;H<k;H++)N[H]=arguments[H];return!N.some(function(se){return!(se&&typeof se.getBoundingClientRect=="function")})}function Yn(k){k===void 0&&(k={});var N=k,H=N.defaultModifiers,se=H===void 0?[]:H,fe=N.defaultOptions,ye=fe===void 0?_n:fe;return function(Ae,Ie,ft){ft===void 0&&(ft=ye);var Je={placement:"bottom",orderedModifiers:[],options:Object.assign({},_n,ye),modifiersData:{},elements:{reference:Ae,popper:Ie},attributes:{},styles:{}},en=[],Jt=!1,Pt={state:Je,setOptions:function(mt){var Xt=typeof mt=="function"?mt(Je.options):mt;At(),Je.options=Object.assign({},ye,Je.options,Xt),Je.scrollParents={reference:Ne(Ae)?St(Ae):Ae.contextElement?St(Ae.contextElement):[],popper:St(Ie)};var fn=Sn(Tn([].concat(se,Je.options.modifiers)));if(Je.orderedModifiers=fn.filter(function(n){return n.enabled}),!1)var re,Nt,pt,kn,An,Zn,i;return Kt(),Pt.update()},forceUpdate:function(){if(!Jt){var mt=Je.elements,Xt=mt.reference,fn=mt.popper;if(!!Jn(Xt,fn)){Je.rects={reference:Rt(Xt,Be(fn),Je.options.strategy==="fixed"),popper:Bt(fn)},Je.reset=!1,Je.placement=Je.options.placement,Je.orderedModifiers.forEach(function(n){return Je.modifiersData[n.name]=Object.assign({},n.data)});for(var re=0,Nt=0;Nt<Je.orderedModifiers.length;Nt++){if(Je.reset===!0){Je.reset=!1,Nt=-1;continue}var pt=Je.orderedModifiers[Nt],kn=pt.fn,An=pt.options,Zn=An===void 0?{}:An,i=pt.name;typeof kn=="function"&&(Je=kn({state:Je,options:Zn,name:i,instance:Pt})||Je)}}}},update:Bn(function(){return new Promise(function(Mt){Pt.forceUpdate(),Mt(Je)})}),destroy:function(){At(),Jt=!0}};if(!Jn(Ae,Ie))return Pt;Pt.setOptions(ft).then(function(Mt){!Jt&&ft.onFirstUpdate&&ft.onFirstUpdate(Mt)});function Kt(){Je.orderedModifiers.forEach(function(Mt){var mt=Mt.name,Xt=Mt.options,fn=Xt===void 0?{}:Xt,re=Mt.effect;if(typeof re=="function"){var Nt=re({state:Je,name:mt,instance:Pt,options:fn}),pt=function(){};en.push(Nt||pt)}})}function At(){en.forEach(function(Mt){return Mt()}),en=[]}return Pt}}var Dn=null,Nn={passive:!0};function Hn(k){var N=k.state,H=k.instance,se=k.options,fe=se.scroll,ye=fe===void 0?!0:fe,Oe=se.resize,Ae=Oe===void 0?!0:Oe,Ie=A(N.elements.popper),ft=[].concat(N.scrollParents.reference,N.scrollParents.popper);return ye&&ft.forEach(function(Je){Je.addEventListener("scroll",H.update,Nn)}),Ae&&Ie.addEventListener("resize",H.update,Nn),function(){ye&&ft.forEach(function(Je){Je.removeEventListener("scroll",H.update,Nn)}),Ae&&Ie.removeEventListener("resize",H.update,Nn)}}var ue={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hn,data:{}};function v(k){return k.split("-")[0]}function _(k){return k.split("-")[1]}function T(k){return["top","bottom"].indexOf(k)>=0?"x":"y"}function Y(k){var N=k.reference,H=k.element,se=k.placement,fe=se?v(se):null,ye=se?_(se):null,Oe=N.x+N.width/2-H.width/2,Ae=N.y+N.height/2-H.height/2,Ie;switch(fe){case gt:Ie={x:Oe,y:N.y-H.height};break;case Ce:Ie={x:Oe,y:N.y+N.height};break;case U:Ie={x:N.x+N.width,y:Ae};break;case J:Ie={x:N.x-H.width,y:Ae};break;default:Ie={x:N.x,y:N.y}}var ft=fe?T(fe):null;if(ft!=null){var Je=ft==="y"?"height":"width";switch(ye){case ze:Ie[ft]=Ie[ft]-(N[Je]/2-H[Je]/2);break;case it:Ie[ft]=Ie[ft]+(N[Je]/2-H[Je]/2);break;default:}}return Ie}function ie(k){var N=k.state,H=k.name;N.modifiersData[H]=Y({reference:N.rects.reference,element:N.rects.popper,strategy:"absolute",placement:N.placement})}var Q={name:"popperOffsets",enabled:!0,phase:"read",fn:ie,data:{}},we={top:"auto",right:"auto",bottom:"auto",left:"auto"};function De(k,N){var H=k.x,se=k.y,fe=N.devicePixelRatio||1;return{x:je(H*fe)/fe||0,y:je(se*fe)/fe||0}}function I(k){var N,H=k.popper,se=k.popperRect,fe=k.placement,ye=k.variation,Oe=k.offsets,Ae=k.position,Ie=k.gpuAcceleration,ft=k.adaptive,Je=k.roundOffsets,en=k.isFixed,Jt=Oe.x,Pt=Jt===void 0?0:Jt,Kt=Oe.y,At=Kt===void 0?0:Kt,Mt=typeof Je=="function"?Je({x:Pt,y:At}):{x:Pt,y:At};Pt=Mt.x,At=Mt.y;var mt=Oe.hasOwnProperty("x"),Xt=Oe.hasOwnProperty("y"),fn=J,re=gt,Nt=window;if(ft){var pt=Be(H),kn="clientHeight",An="clientWidth";if(pt===A(H)&&(pt=Ue(H),Pe(pt).position!=="static"&&Ae==="absolute"&&(kn="scrollHeight",An="scrollWidth")),pt=pt,fe===gt||(fe===J||fe===U)&&ye===it){re=Ce;var Zn=en&&pt===Nt&&Nt.visualViewport?Nt.visualViewport.height:pt[kn];At-=Zn-se.height,At*=Ie?1:-1}if(fe===J||(fe===gt||fe===Ce)&&ye===it){fn=U;var i=en&&pt===Nt&&Nt.visualViewport?Nt.visualViewport.width:pt[An];Pt-=i-se.width,Pt*=Ie?1:-1}}var n=Object.assign({position:Ae},ft&&we),a=Je===!0?De({x:Pt,y:At},A(H)):{x:Pt,y:At};if(Pt=a.x,At=a.y,Ie){var l;return Object.assign({},n,(l={},l[re]=Xt?"0":"",l[fn]=mt?"0":"",l.transform=(Nt.devicePixelRatio||1)<=1?"translate("+Pt+"px, "+At+"px)":"translate3d("+Pt+"px, "+At+"px, 0)",l))}return Object.assign({},n,(N={},N[re]=Xt?At+"px":"",N[fn]=mt?Pt+"px":"",N.transform="",N))}function o(k){var N=k.state,H=k.options,se=H.gpuAcceleration,fe=se===void 0?!0:se,ye=H.adaptive,Oe=ye===void 0?!0:ye,Ae=H.roundOffsets,Ie=Ae===void 0?!0:Ae;if(!1)var ft;var Je={placement:v(N.placement),variation:_(N.placement),popper:N.elements.popper,popperRect:N.rects.popper,gpuAcceleration:fe,isFixed:N.options.strategy==="fixed"};N.modifiersData.popperOffsets!=null&&(N.styles.popper=Object.assign({},N.styles.popper,I(Object.assign({},Je,{offsets:N.modifiersData.popperOffsets,position:N.options.strategy,adaptive:Oe,roundOffsets:Ie})))),N.modifiersData.arrow!=null&&(N.styles.arrow=Object.assign({},N.styles.arrow,I(Object.assign({},Je,{offsets:N.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ie})))),N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-placement":N.placement})}var c={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:o,data:{}};function y(k){var N=k.state;Object.keys(N.elements).forEach(function(H){var se=N.styles[H]||{},fe=N.attributes[H]||{},ye=N.elements[H];!Ee(ye)||!st(ye)||(Object.assign(ye.style,se),Object.keys(fe).forEach(function(Oe){var Ae=fe[Oe];Ae===!1?ye.removeAttribute(Oe):ye.setAttribute(Oe,Ae===!0?"":Ae)}))})}function S(k){var N=k.state,H={popper:{position:N.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(N.elements.popper.style,H.popper),N.styles=H,N.elements.arrow&&Object.assign(N.elements.arrow.style,H.arrow),function(){Object.keys(N.elements).forEach(function(se){var fe=N.elements[se],ye=N.attributes[se]||{},Oe=Object.keys(N.styles.hasOwnProperty(se)?N.styles[se]:H[se]),Ae=Oe.reduce(function(Ie,ft){return Ie[ft]="",Ie},{});!Ee(fe)||!st(fe)||(Object.assign(fe.style,Ae),Object.keys(ye).forEach(function(Ie){fe.removeAttribute(Ie)}))})}}var O={name:"applyStyles",enabled:!0,phase:"write",fn:y,effect:S,requires:["computeStyles"]};function z(k,N,H){var se=v(k),fe=[J,gt].indexOf(se)>=0?-1:1,ye=typeof H=="function"?H(Object.assign({},N,{placement:k})):H,Oe=ye[0],Ae=ye[1];return Oe=Oe||0,Ae=(Ae||0)*fe,[J,U].indexOf(se)>=0?{x:Ae,y:Oe}:{x:Oe,y:Ae}}function j(k){var N=k.state,H=k.options,se=k.name,fe=H.offset,ye=fe===void 0?[0,0]:fe,Oe=zn.reduce(function(Je,en){return Je[en]=z(en,N.rects,ye),Je},{}),Ae=Oe[N.placement],Ie=Ae.x,ft=Ae.y;N.modifiersData.popperOffsets!=null&&(N.modifiersData.popperOffsets.x+=Ie,N.modifiersData.popperOffsets.y+=ft),N.modifiersData[se]=Oe}var ce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:j},tt={left:"right",right:"left",bottom:"top",top:"bottom"};function L(k){return k.replace(/left|right|bottom|top/g,function(N){return tt[N]})}var F={start:"end",end:"start"};function q(k){return k.replace(/start|end/g,function(N){return F[N]})}function oe(k,N){var H=A(k),se=Ue(k),fe=H.visualViewport,ye=se.clientWidth,Oe=se.clientHeight,Ae=0,Ie=0;if(fe){ye=fe.width,Oe=fe.height;var ft=Fe();(ft||!ft&&N==="fixed")&&(Ae=fe.offsetLeft,Ie=fe.offsetTop)}return{width:ye,height:Oe,x:Ae+ut(k),y:Ie}}function ne(k){var N,H=Ue(k),se=Xe(k),fe=(N=k.ownerDocument)==null?void 0:N.body,ye=le(H.scrollWidth,H.clientWidth,fe?fe.scrollWidth:0,fe?fe.clientWidth:0),Oe=le(H.scrollHeight,H.clientHeight,fe?fe.scrollHeight:0,fe?fe.clientHeight:0),Ae=-se.scrollLeft+ut(k),Ie=-se.scrollTop;return Pe(fe||H).direction==="rtl"&&(Ae+=le(H.clientWidth,fe?fe.clientWidth:0)-ye),{width:ye,height:Oe,x:Ae,y:Ie}}function xe(k,N){var H=N.getRootNode&&N.getRootNode();if(k.contains(N))return!0;if(H&&de(H)){var se=N;do{if(se&&k.isSameNode(se))return!0;se=se.parentNode||se.host}while(se)}return!1}function Le(k){return Object.assign({},k,{left:k.x,top:k.y,right:k.x+k.width,bottom:k.y+k.height})}function Ze(k,N){var H=He(k,!1,N==="fixed");return H.top=H.top+k.clientTop,H.left=H.left+k.clientLeft,H.bottom=H.top+k.clientHeight,H.right=H.left+k.clientWidth,H.width=k.clientWidth,H.height=k.clientHeight,H.x=H.left,H.y=H.top,H}function _t(k,N,H){return N===Ft?Le(oe(k,H)):Ne(N)?Ze(N,H):Le(ne(Ue(k)))}function $t(k){var N=St(ve(k)),H=["absolute","fixed"].indexOf(Pe(k).position)>=0,se=H&&Ee(k)?Be(k):k;return Ne(se)?N.filter(function(fe){return Ne(fe)&&xe(fe,se)&&st(fe)!=="body"}):[]}function Ut(k,N,H,se){var fe=N==="clippingParents"?$t(k):[].concat(N),ye=[].concat(fe,[H]),Oe=ye[0],Ae=ye.reduce(function(Ie,ft){var Je=_t(k,ft,se);return Ie.top=le(Je.top,Ie.top),Ie.right=qe(Je.right,Ie.right),Ie.bottom=qe(Je.bottom,Ie.bottom),Ie.left=le(Je.left,Ie.left),Ie},_t(k,Oe,se));return Ae.width=Ae.right-Ae.left,Ae.height=Ae.bottom-Ae.top,Ae.x=Ae.left,Ae.y=Ae.top,Ae}function W(){return{top:0,right:0,bottom:0,left:0}}function ae(k){return Object.assign({},W(),k)}function Me(k,N){return N.reduce(function(H,se){return H[se]=k,H},{})}function lt(k,N){N===void 0&&(N={});var H=N,se=H.placement,fe=se===void 0?k.placement:se,ye=H.strategy,Oe=ye===void 0?k.strategy:ye,Ae=H.boundary,Ie=Ae===void 0?Lt:Ae,ft=H.rootBoundary,Je=ft===void 0?Ft:ft,en=H.elementContext,Jt=en===void 0?Dt:en,Pt=H.altBoundary,Kt=Pt===void 0?!1:Pt,At=H.padding,Mt=At===void 0?0:At,mt=ae(typeof Mt!="number"?Mt:Me(Mt,ke)),Xt=Jt===Dt?xt:Dt,fn=k.rects.popper,re=k.elements[Kt?Xt:Jt],Nt=Ut(Ne(re)?re:re.contextElement||Ue(k.elements.popper),Ie,Je,Oe),pt=He(k.elements.reference),kn=Y({reference:pt,element:fn,strategy:"absolute",placement:fe}),An=Le(Object.assign({},fn,kn)),Zn=Jt===Dt?An:pt,i={top:Nt.top-Zn.top+mt.top,bottom:Zn.bottom-Nt.bottom+mt.bottom,left:Nt.left-Zn.left+mt.left,right:Zn.right-Nt.right+mt.right},n=k.modifiersData.offset;if(Jt===Dt&&n){var a=n[fe];Object.keys(i).forEach(function(l){var t=[U,Ce].indexOf(l)>=0?1:-1,e=[gt,Ce].indexOf(l)>=0?"y":"x";i[l]+=a[e]*t})}return i}function Et(k,N){N===void 0&&(N={});var H=N,se=H.placement,fe=H.boundary,ye=H.rootBoundary,Oe=H.padding,Ae=H.flipVariations,Ie=H.allowedAutoPlacements,ft=Ie===void 0?zn:Ie,Je=_(se),en=Je?Ae?Cn:Cn.filter(function(Kt){return _(Kt)===Je}):ke,Jt=en.filter(function(Kt){return ft.indexOf(Kt)>=0});Jt.length===0&&(Jt=en);var Pt=Jt.reduce(function(Kt,At){return Kt[At]=lt(k,{placement:At,boundary:fe,rootBoundary:ye,padding:Oe})[v(At)],Kt},{});return Object.keys(Pt).sort(function(Kt,At){return Pt[Kt]-Pt[At]})}function Tt(k){if(v(k)===te)return[];var N=L(k);return[q(k),N,q(N)]}function nt(k){var N=k.state,H=k.options,se=k.name;if(!N.modifiersData[se]._skip){for(var fe=H.mainAxis,ye=fe===void 0?!0:fe,Oe=H.altAxis,Ae=Oe===void 0?!0:Oe,Ie=H.fallbackPlacements,ft=H.padding,Je=H.boundary,en=H.rootBoundary,Jt=H.altBoundary,Pt=H.flipVariations,Kt=Pt===void 0?!0:Pt,At=H.allowedAutoPlacements,Mt=N.options.placement,mt=v(Mt),Xt=mt===Mt,fn=Ie||(Xt||!Kt?[L(Mt)]:Tt(Mt)),re=[Mt].concat(fn).reduce(function(B,G){return B.concat(v(G)===te?Et(N,{placement:G,boundary:Je,rootBoundary:en,padding:ft,flipVariations:Kt,allowedAutoPlacements:At}):G)},[]),Nt=N.rects.reference,pt=N.rects.popper,kn=new Map,An=!0,Zn=re[0],i=0;i<re.length;i++){var n=re[i],a=v(n),l=_(n)===ze,t=[gt,Ce].indexOf(a)>=0,e=t?"width":"height",r=lt(N,{placement:n,boundary:Je,rootBoundary:en,altBoundary:Jt,padding:ft}),s=t?l?U:J:l?Ce:gt;Nt[e]>pt[e]&&(s=L(s));var u=L(s),p=[];if(ye&&p.push(r[a]<=0),Ae&&p.push(r[s]<=0,r[u]<=0),p.every(function(B){return B})){Zn=n,An=!1;break}kn.set(n,p)}if(An)for(var g=Kt?3:1,C=function(G){var ee=re.find(function(be){var Qe=kn.get(be);if(Qe)return Qe.slice(0,G).every(function(ct){return ct})});if(ee)return Zn=ee,"break"},D=g;D>0;D--){var $=C(D);if($==="break")break}N.placement!==Zn&&(N.modifiersData[se]._skip=!0,N.placement=Zn,N.reset=!0)}}var _e={name:"flip",enabled:!0,phase:"main",fn:nt,requiresIfExists:["offset"],data:{_skip:!1}};function kt(k){return k==="x"?"y":"x"}function Zt(k,N,H){return le(k,qe(N,H))}function qt(k,N,H){var se=Zt(k,N,H);return se>H?H:se}function On(k){var N=k.state,H=k.options,se=k.name,fe=H.mainAxis,ye=fe===void 0?!0:fe,Oe=H.altAxis,Ae=Oe===void 0?!1:Oe,Ie=H.boundary,ft=H.rootBoundary,Je=H.altBoundary,en=H.padding,Jt=H.tether,Pt=Jt===void 0?!0:Jt,Kt=H.tetherOffset,At=Kt===void 0?0:Kt,Mt=lt(N,{boundary:Ie,rootBoundary:ft,padding:en,altBoundary:Je}),mt=v(N.placement),Xt=_(N.placement),fn=!Xt,re=T(mt),Nt=kt(re),pt=N.modifiersData.popperOffsets,kn=N.rects.reference,An=N.rects.popper,Zn=typeof At=="function"?At(Object.assign({},N.rects,{placement:N.placement})):At,i=typeof Zn=="number"?{mainAxis:Zn,altAxis:Zn}:Object.assign({mainAxis:0,altAxis:0},Zn),n=N.modifiersData.offset?N.modifiersData.offset[N.placement]:null,a={x:0,y:0};if(!!pt){if(ye){var l,t=re==="y"?gt:J,e=re==="y"?Ce:U,r=re==="y"?"height":"width",s=pt[re],u=s+Mt[t],p=s-Mt[e],g=Pt?-An[r]/2:0,C=Xt===ze?kn[r]:An[r],D=Xt===ze?-An[r]:-kn[r],$=N.elements.arrow,B=Pt&&$?Bt($):{width:0,height:0},G=N.modifiersData["arrow#persistent"]?N.modifiersData["arrow#persistent"].padding:W(),ee=G[t],be=G[e],Qe=Zt(0,kn[r],B[r]),ct=fn?kn[r]/2-g-Qe-ee-i.mainAxis:C-Qe-ee-i.mainAxis,yt=fn?-kn[r]/2+g+Qe+be+i.mainAxis:D+Qe+be+i.mainAxis,vt=N.elements.arrow&&Be(N.elements.arrow),pn=vt?re==="y"?vt.clientTop||0:vt.clientLeft||0:0,rr=(l=n==null?void 0:n[re])!=null?l:0,lr=s+ct-rr-pn,tn=s+yt-rr,sr=Zt(Pt?qe(u,lr):u,s,Pt?le(p,tn):p);pt[re]=sr,a[re]=sr-s}if(Ae){var pr,Or=re==="x"?gt:J,di=re==="x"?Ce:U,Ir=pt[Nt],Fr=Nt==="y"?"height":"width",ai=Ir+Mt[Or],Wr=Ir-Mt[di],li=[gt,J].indexOf(mt)!==-1,fi=(pr=n==null?void 0:n[Nt])!=null?pr:0,pi=li?ai:Ir-kn[Fr]-An[Fr]-fi+i.altAxis,hi=li?Ir+kn[Fr]+An[Fr]-fi-i.altAxis:Wr,mi=Pt&&li?qt(pi,Ir,hi):Zt(Pt?pi:ai,Ir,Pt?hi:Wr);pt[Nt]=mi,a[Nt]=mi-Ir}N.modifiersData[se]=a}}var Wt={name:"preventOverflow",enabled:!0,phase:"main",fn:On,requiresIfExists:["offset"]},an=function(N,H){return N=typeof N=="function"?N(Object.assign({},H.rects,{placement:H.placement})):N,ae(typeof N!="number"?N:Me(N,ke))};function Un(k){var N,H=k.state,se=k.name,fe=k.options,ye=H.elements.arrow,Oe=H.modifiersData.popperOffsets,Ae=v(H.placement),Ie=T(Ae),ft=[J,U].indexOf(Ae)>=0,Je=ft?"height":"width";if(!(!ye||!Oe)){var en=an(fe.padding,H),Jt=Bt(ye),Pt=Ie==="y"?gt:J,Kt=Ie==="y"?Ce:U,At=H.rects.reference[Je]+H.rects.reference[Ie]-Oe[Ie]-H.rects.popper[Je],Mt=Oe[Ie]-H.rects.reference[Ie],mt=Be(ye),Xt=mt?Ie==="y"?mt.clientHeight||0:mt.clientWidth||0:0,fn=At/2-Mt/2,re=en[Pt],Nt=Xt-Jt[Je]-en[Kt],pt=Xt/2-Jt[Je]/2+fn,kn=Zt(re,pt,Nt),An=Ie;H.modifiersData[se]=(N={},N[An]=kn,N.centerOffset=kn-pt,N)}}function Gn(k){var N=k.state,H=k.options,se=H.element,fe=se===void 0?"[data-popper-arrow]":se;fe!=null&&(typeof fe=="string"&&(fe=N.elements.popper.querySelector(fe),!fe)||!xe(N.elements.popper,fe)||(N.elements.arrow=fe))}var xn={name:"arrow",enabled:!0,phase:"main",fn:Un,effect:Gn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $n(k,N,H){return H===void 0&&(H={x:0,y:0}),{top:k.top-N.height-H.y,right:k.right-N.width+H.x,bottom:k.bottom-N.height+H.y,left:k.left-N.width-H.x}}function or(k){return[gt,U,Ce,J].some(function(N){return k[N]>=0})}function ir(k){var N=k.state,H=k.name,se=N.rects.reference,fe=N.rects.popper,ye=N.modifiersData.preventOverflow,Oe=lt(N,{elementContext:"reference"}),Ae=lt(N,{altBoundary:!0}),Ie=$n(Oe,se),ft=$n(Ae,fe,ye),Je=or(Ie),en=or(ft);N.modifiersData[H]={referenceClippingOffsets:Ie,popperEscapeOffsets:ft,isReferenceHidden:Je,hasPopperEscaped:en},N.attributes.popper=Object.assign({},N.attributes.popper,{"data-popper-reference-hidden":Je,"data-popper-escaped":en})}var m={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ir},d=[ue,Q,c,O,ce,_e,Wt,xn,m],b=Yn({defaultModifiers:d}),h='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',w="tippy-box",M="tippy-content",R="tippy-backdrop",f="tippy-arrow",E="tippy-svg-arrow",x={passive:!0,capture:!0},P=function(){return document.body};function V(k,N){return{}.hasOwnProperty.call(k,N)}function K(k,N,H){if(Array.isArray(k)){var se=k[N];return se==null?Array.isArray(H)?H[N]:H:se}return k}function Z(k,N){var H={}.toString.call(k);return H.indexOf("[object")===0&&H.indexOf(N+"]")>-1}function X(k,N){return typeof k=="function"?k.apply(void 0,N):k}function he(k,N){if(N===0)return k;var H;return function(se){clearTimeout(H),H=setTimeout(function(){k(se)},N)}}function pe(k,N){var H=Object.assign({},k);return N.forEach(function(se){delete H[se]}),H}function Se(k){return k.split(/\s+/).filter(Boolean)}function Re(k){return[].concat(k)}function $e(k,N){k.indexOf(N)===-1&&k.push(N)}function et(k){return k.filter(function(N,H){return k.indexOf(N)===H})}function ht(k){return k.split("-")[0]}function wt(k){return[].slice.call(k)}function rt(k){return Object.keys(k).reduce(function(N,H){return k[H]!==void 0&&(N[H]=k[H]),N},{})}function It(){return document.createElement("div")}function un(k){return["Element","Fragment"].some(function(N){return Z(k,N)})}function sn(k){return Z(k,"NodeList")}function Gt(k){return Z(k,"MouseEvent")}function Qt(k){return!!(k&&k._tippy&&k._tippy.reference===k)}function ln(k){return un(k)?[k]:sn(k)?wt(k):Array.isArray(k)?k:wt(document.querySelectorAll(k))}function nn(k,N){k.forEach(function(H){H&&(H.style.transitionDuration=N+"ms")})}function Ln(k,N){k.forEach(function(H){H&&H.setAttribute("data-state",N)})}function Wn(k){var N,H=Re(k),se=H[0];return se!=null&&(N=se.ownerDocument)!=null&&N.body?se.ownerDocument:document}function bt(k,N){var H=N.clientX,se=N.clientY;return k.every(function(fe){var ye=fe.popperRect,Oe=fe.popperState,Ae=fe.props,Ie=Ae.interactiveBorder,ft=ht(Oe.placement),Je=Oe.modifiersData.offset;if(!Je)return!0;var en=ft==="bottom"?Je.top.y:0,Jt=ft==="top"?Je.bottom.y:0,Pt=ft==="right"?Je.left.x:0,Kt=ft==="left"?Je.right.x:0,At=ye.top-se+en>Ie,Mt=se-ye.bottom-Jt>Ie,mt=ye.left-H+Pt>Ie,Xt=H-ye.right-Kt>Ie;return At||Mt||mt||Xt})}function yn(k,N,H){var se=N+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(fe){k[se](fe,H)})}function gn(k,N){for(var H=N;H;){var se;if(k.contains(H))return!0;H=H.getRootNode==null||(se=H.getRootNode())==null?void 0:se.host}return!1}var zt={isTouch:!1},jn=0;function Fn(){zt.isTouch||(zt.isTouch=!0,window.performance&&document.addEventListener("mousemove",nr))}function nr(){var k=performance.now();k-jn<20&&(zt.isTouch=!1,document.removeEventListener("mousemove",nr)),jn=k}function jt(){var k=document.activeElement;if(Qt(k)){var N=k._tippy;k.blur&&!N.state.isVisible&&k.blur()}}function ot(){document.addEventListener("touchstart",Fn,x),window.addEventListener("blur",jt)}var Ct=typeof window!="undefined"&&typeof document!="undefined",Vt=Ct?!!window.msCrypto:!1;function dn(k){var N=k==="destroy"?"n already-":" ";return[k+"() was called on a"+N+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Kn(k){var N=/[ \t]{2,}/g,H=/^[ \t]*/gm;return k.replace(N," ").replace(H,"").trim()}function ur(k){return Kn(`
  %ctippy.js

  %c`+Kn(k)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function hr(k){return[ur(k),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var br;function Yr(){br=new Set}function Dr(k,N){if(k&&!br.has(N)){var H;br.add(N),(H=console).warn.apply(H,hr(N))}}function _r(k,N){if(k&&!br.has(N)){var H;br.add(N),(H=console).error.apply(H,hr(N))}}function Qn(k){var N=!k,H=Object.prototype.toString.call(k)==="[object Object]"&&!k.addEventListener;_r(N,["tippy() was passed","`"+String(k)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),_r(H,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Cr={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Tr={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},cr=Object.assign({appendTo:P,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Cr,Tr),Gr=Object.keys(cr),Qr=function(N){var H=Object.keys(N);H.forEach(function(se){cr[se]=N[se]})};function Zr(k){var N=k.plugins||[],H=N.reduce(function(se,fe){var ye=fe.name,Oe=fe.defaultValue;if(ye){var Ae;se[ye]=k[ye]!==void 0?k[ye]:(Ae=cr[ye])!=null?Ae:Oe}return se},{});return Object.assign({},k,H)}function zr(k,N){var H=N?Object.keys(Zr(Object.assign({},cr,{plugins:N}))):Gr,se=H.reduce(function(fe,ye){var Oe=(k.getAttribute("data-tippy-"+ye)||"").trim();if(!Oe)return fe;if(ye==="content")fe[ye]=Oe;else try{fe[ye]=JSON.parse(Oe)}catch(Ae){fe[ye]=Oe}return fe},{});return se}function Hr(k,N){var H=Object.assign({},N,{content:X(N.content,[k])},N.ignoreAttributes?{}:zr(k,N.plugins));return H.aria=Object.assign({},cr.aria,H.aria),H.aria={expanded:H.aria.expanded==="auto"?N.interactive:H.aria.expanded,content:H.aria.content==="auto"?N.interactive?null:"describedby":H.aria.content},H}function ci(k,N){k===void 0&&(k={}),N===void 0&&(N=[]);var H=Object.keys(k);H.forEach(function(se){var fe=pe(cr,Object.keys(Cr)),ye=!V(fe,se);ye&&(ye=N.filter(function(Oe){return Oe.name===se}).length===0),Dr(ye,["`"+se+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Lr=function(){return"innerHTML"};function Ur(k,N){k[Lr()]=N}function yr(k){var N=It();return k===!0?N.className=f:(N.className=E,un(k)?N.appendChild(k):Ur(N,k)),N}function ei(k,N){un(N.content)?(Ur(k,""),k.appendChild(N.content)):typeof N.content!="function"&&(N.allowHTML?Ur(k,N.content):k.textContent=N.content)}function kr(k){var N=k.firstElementChild,H=wt(N.children);return{box:N,content:H.find(function(se){return se.classList.contains(M)}),arrow:H.find(function(se){return se.classList.contains(f)||se.classList.contains(E)}),backdrop:H.find(function(se){return se.classList.contains(R)})}}function vr(k){var N=It(),H=It();H.className=w,H.setAttribute("data-state","hidden"),H.setAttribute("tabindex","-1");var se=It();se.className=M,se.setAttribute("data-state","hidden"),ei(se,k.props),N.appendChild(H),H.appendChild(se),fe(k.props,k.props);function fe(ye,Oe){var Ae=kr(N),Ie=Ae.box,ft=Ae.content,Je=Ae.arrow;Oe.theme?Ie.setAttribute("data-theme",Oe.theme):Ie.removeAttribute("data-theme"),typeof Oe.animation=="string"?Ie.setAttribute("data-animation",Oe.animation):Ie.removeAttribute("data-animation"),Oe.inertia?Ie.setAttribute("data-inertia",""):Ie.removeAttribute("data-inertia"),Ie.style.maxWidth=typeof Oe.maxWidth=="number"?Oe.maxWidth+"px":Oe.maxWidth,Oe.role?Ie.setAttribute("role",Oe.role):Ie.removeAttribute("role"),(ye.content!==Oe.content||ye.allowHTML!==Oe.allowHTML)&&ei(ft,k.props),Oe.arrow?Je?ye.arrow!==Oe.arrow&&(Ie.removeChild(Je),Ie.appendChild(yr(Oe.arrow))):Ie.appendChild(yr(Oe.arrow)):Je&&Ie.removeChild(Je)}return{popper:N,onUpdate:fe}}vr.$$tippy=!0;var ti=1,Pr=[],Mr=[];function Br(k,N){var H=Hr(k,Object.assign({},cr,Zr(rt(N)))),se,fe,ye,Oe=!1,Ae=!1,Ie=!1,ft=!1,Je,en,Jt,Pt=[],Kt=he(lr,H.interactiveDebounce),At,Mt=ti++,mt=null,Xt=et(H.plugins),fn={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},re={id:Mt,reference:k,popper:It(),popperInstance:mt,props:H,state:fn,plugins:Xt,clearDelayTimeouts:pi,setProps:hi,setContent:mi,show:_i,hide:Ci,hideWithInteractivity:ki,enable:li,disable:fi,unmount:Mi,destroy:Ni};if(!H.render)return re;var Nt=H.render(re),pt=Nt.popper,kn=Nt.onUpdate;pt.setAttribute("data-tippy-root",""),pt.id="tippy-"+re.id,re.popper=pt,k._tippy=re,pt._tippy=re;var An=Xt.map(function(Ve){return Ve.fn(re)}),Zn=k.hasAttribute("aria-expanded");return vt(),g(),s(),u("onCreate",[re]),H.showOnCreate&&ai(),pt.addEventListener("mouseenter",function(){re.props.interactive&&re.state.isVisible&&re.clearDelayTimeouts()}),pt.addEventListener("mouseleave",function(){re.props.interactive&&re.props.trigger.indexOf("mouseenter")>=0&&t().addEventListener("mousemove",Kt)}),re;function i(){var Ve=re.props.touch;return Array.isArray(Ve)?Ve:[Ve,0]}function n(){return i()[0]==="hold"}function a(){var Ve;return!!((Ve=re.props.render)!=null&&Ve.$$tippy)}function l(){return At||k}function t(){var Ve=l().parentNode;return Ve?Wn(Ve):document}function e(){return kr(pt)}function r(Ve){return re.state.isMounted&&!re.state.isVisible||zt.isTouch||Je&&Je.type==="focus"?0:K(re.props.delay,Ve?0:1,cr.delay)}function s(Ve){Ve===void 0&&(Ve=!1),pt.style.pointerEvents=re.props.interactive&&!Ve?"":"none",pt.style.zIndex=""+re.props.zIndex}function u(Ve,Yt,hn){if(hn===void 0&&(hn=!0),An.forEach(function(Vn){Vn[Ve]&&Vn[Ve].apply(Vn,Yt)}),hn){var er;(er=re.props)[Ve].apply(er,Yt)}}function p(){var Ve=re.props.aria;if(!!Ve.content){var Yt="aria-"+Ve.content,hn=pt.id,er=Re(re.props.triggerTarget||k);er.forEach(function(Vn){var gr=Vn.getAttribute(Yt);if(re.state.isVisible)Vn.setAttribute(Yt,gr?gr+" "+hn:hn);else{var Sr=gr&&gr.replace(hn,"").trim();Sr?Vn.setAttribute(Yt,Sr):Vn.removeAttribute(Yt)}})}}function g(){if(!(Zn||!re.props.aria.expanded)){var Ve=Re(re.props.triggerTarget||k);Ve.forEach(function(Yt){re.props.interactive?Yt.setAttribute("aria-expanded",re.state.isVisible&&Yt===l()?"true":"false"):Yt.removeAttribute("aria-expanded")})}}function C(){t().removeEventListener("mousemove",Kt),Pr=Pr.filter(function(Ve){return Ve!==Kt})}function D(Ve){if(!(zt.isTouch&&(Ie||Ve.type==="mousedown"))){var Yt=Ve.composedPath&&Ve.composedPath()[0]||Ve.target;if(!(re.props.interactive&&gn(pt,Yt))){if(Re(re.props.triggerTarget||k).some(function(hn){return gn(hn,Yt)})){if(zt.isTouch||re.state.isVisible&&re.props.trigger.indexOf("click")>=0)return}else u("onClickOutside",[re,Ve]);re.props.hideOnClick===!0&&(re.clearDelayTimeouts(),re.hide(),Ae=!0,setTimeout(function(){Ae=!1}),re.state.isMounted||ee())}}}function $(){Ie=!0}function B(){Ie=!1}function G(){var Ve=t();Ve.addEventListener("mousedown",D,!0),Ve.addEventListener("touchend",D,x),Ve.addEventListener("touchstart",B,x),Ve.addEventListener("touchmove",$,x)}function ee(){var Ve=t();Ve.removeEventListener("mousedown",D,!0),Ve.removeEventListener("touchend",D,x),Ve.removeEventListener("touchstart",B,x),Ve.removeEventListener("touchmove",$,x)}function be(Ve,Yt){ct(Ve,function(){!re.state.isVisible&&pt.parentNode&&pt.parentNode.contains(pt)&&Yt()})}function Qe(Ve,Yt){ct(Ve,Yt)}function ct(Ve,Yt){var hn=e().box;function er(Vn){Vn.target===hn&&(yn(hn,"remove",er),Yt())}if(Ve===0)return Yt();yn(hn,"remove",en),yn(hn,"add",er),en=er}function yt(Ve,Yt,hn){hn===void 0&&(hn=!1);var er=Re(re.props.triggerTarget||k);er.forEach(function(Vn){Vn.addEventListener(Ve,Yt,hn),Pt.push({node:Vn,eventType:Ve,handler:Yt,options:hn})})}function vt(){n()&&(yt("touchstart",rr,{passive:!0}),yt("touchend",tn,{passive:!0})),Se(re.props.trigger).forEach(function(Ve){if(Ve!=="manual")switch(yt(Ve,rr),Ve){case"mouseenter":yt("mouseleave",tn);break;case"focus":yt(Vt?"focusout":"blur",sr);break;case"focusin":yt("focusout",sr);break}})}function pn(){Pt.forEach(function(Ve){var Yt=Ve.node,hn=Ve.eventType,er=Ve.handler,Vn=Ve.options;Yt.removeEventListener(hn,er,Vn)}),Pt=[]}function rr(Ve){var Yt,hn=!1;if(!(!re.state.isEnabled||pr(Ve)||Ae)){var er=((Yt=Je)==null?void 0:Yt.type)==="focus";Je=Ve,At=Ve.currentTarget,g(),!re.state.isVisible&&Gt(Ve)&&Pr.forEach(function(Vn){return Vn(Ve)}),Ve.type==="click"&&(re.props.trigger.indexOf("mouseenter")<0||Oe)&&re.props.hideOnClick!==!1&&re.state.isVisible?hn=!0:ai(Ve),Ve.type==="click"&&(Oe=!hn),hn&&!er&&Wr(Ve)}}function lr(Ve){var Yt=Ve.target,hn=l().contains(Yt)||pt.contains(Yt);if(!(Ve.type==="mousemove"&&hn)){var er=Fr().concat(pt).map(function(Vn){var gr,Sr=Vn._tippy,Jr=(gr=Sr.popperInstance)==null?void 0:gr.state;return Jr?{popperRect:Vn.getBoundingClientRect(),popperState:Jr,props:H}:null}).filter(Boolean);bt(er,Ve)&&(C(),Wr(Ve))}}function tn(Ve){var Yt=pr(Ve)||re.props.trigger.indexOf("click")>=0&&Oe;if(!Yt){if(re.props.interactive){re.hideWithInteractivity(Ve);return}Wr(Ve)}}function sr(Ve){re.props.trigger.indexOf("focusin")<0&&Ve.target!==l()||re.props.interactive&&Ve.relatedTarget&&pt.contains(Ve.relatedTarget)||Wr(Ve)}function pr(Ve){return zt.isTouch?n()!==Ve.type.indexOf("touch")>=0:!1}function Or(){di();var Ve=re.props,Yt=Ve.popperOptions,hn=Ve.placement,er=Ve.offset,Vn=Ve.getReferenceClientRect,gr=Ve.moveTransition,Sr=a()?kr(pt).arrow:null,Jr=Vn?{getBoundingClientRect:Vn,contextElement:Vn.contextElement||l()}:k,wi={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(gi){var Xr=gi.state;if(a()){var Oi=e(),vi=Oi.box;["placement","reference-hidden","escaped"].forEach(function(bi){bi==="placement"?vi.setAttribute("data-placement",Xr.placement):Xr.attributes.popper["data-popper-"+bi]?vi.setAttribute("data-"+bi,""):vi.removeAttribute("data-"+bi)}),Xr.attributes.popper={}}}},Vr=[{name:"offset",options:{offset:er}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!gr}},wi];a()&&Sr&&Vr.push({name:"arrow",options:{element:Sr,padding:3}}),Vr.push.apply(Vr,(Yt==null?void 0:Yt.modifiers)||[]),re.popperInstance=b(Jr,pt,Object.assign({},Yt,{placement:hn,onFirstUpdate:Jt,modifiers:Vr}))}function di(){re.popperInstance&&(re.popperInstance.destroy(),re.popperInstance=null)}function Ir(){var Ve=re.props.appendTo,Yt,hn=l();re.props.interactive&&Ve===P||Ve==="parent"?Yt=hn.parentNode:Yt=X(Ve,[hn]),Yt.contains(pt)||Yt.appendChild(pt),re.state.isMounted=!0,Or()}function Fr(){return wt(pt.querySelectorAll("[data-tippy-root]"))}function ai(Ve){re.clearDelayTimeouts(),Ve&&u("onTrigger",[re,Ve]),G();var Yt=r(!0),hn=i(),er=hn[0],Vn=hn[1];zt.isTouch&&er==="hold"&&Vn&&(Yt=Vn),Yt?se=setTimeout(function(){re.show()},Yt):re.show()}function Wr(Ve){if(re.clearDelayTimeouts(),u("onUntrigger",[re,Ve]),!re.state.isVisible){ee();return}if(!(re.props.trigger.indexOf("mouseenter")>=0&&re.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Ve.type)>=0&&Oe)){var Yt=r(!1);Yt?fe=setTimeout(function(){re.state.isVisible&&re.hide()},Yt):ye=requestAnimationFrame(function(){re.hide()})}}function li(){re.state.isEnabled=!0}function fi(){re.hide(),re.state.isEnabled=!1}function pi(){clearTimeout(se),clearTimeout(fe),cancelAnimationFrame(ye)}function hi(Ve){if(!re.state.isDestroyed){u("onBeforeUpdate",[re,Ve]),pn();var Yt=re.props,hn=Hr(k,Object.assign({},Yt,rt(Ve),{ignoreAttributes:!0}));re.props=hn,vt(),Yt.interactiveDebounce!==hn.interactiveDebounce&&(C(),Kt=he(lr,hn.interactiveDebounce)),Yt.triggerTarget&&!hn.triggerTarget?Re(Yt.triggerTarget).forEach(function(er){er.removeAttribute("aria-expanded")}):hn.triggerTarget&&k.removeAttribute("aria-expanded"),g(),s(),kn&&kn(Yt,hn),re.popperInstance&&(Or(),Fr().forEach(function(er){requestAnimationFrame(er._tippy.popperInstance.forceUpdate)})),u("onAfterUpdate",[re,Ve])}}function mi(Ve){re.setProps({content:Ve})}function _i(){var Ve=re.state.isVisible,Yt=re.state.isDestroyed,hn=!re.state.isEnabled,er=zt.isTouch&&!re.props.touch,Vn=K(re.props.duration,0,cr.duration);if(!(Ve||Yt||hn||er)&&!l().hasAttribute("disabled")&&(u("onShow",[re],!1),re.props.onShow(re)!==!1)){if(re.state.isVisible=!0,a()&&(pt.style.visibility="visible"),s(),G(),re.state.isMounted||(pt.style.transition="none"),a()){var gr=e(),Sr=gr.box,Jr=gr.content;nn([Sr,Jr],0)}Jt=function(){var Vr;if(!(!re.state.isVisible||ft)){if(ft=!0,pt.offsetHeight,pt.style.transition=re.props.moveTransition,a()&&re.props.animation){var Ei=e(),gi=Ei.box,Xr=Ei.content;nn([gi,Xr],Vn),Ln([gi,Xr],"visible")}p(),g(),$e(Mr,re),(Vr=re.popperInstance)==null||Vr.forceUpdate(),u("onMount",[re]),re.props.animation&&a()&&Qe(Vn,function(){re.state.isShown=!0,u("onShown",[re])})}},Ir()}}function Ci(){var Ve=!re.state.isVisible,Yt=re.state.isDestroyed,hn=!re.state.isEnabled,er=K(re.props.duration,1,cr.duration);if(!(Ve||Yt||hn)&&(u("onHide",[re],!1),re.props.onHide(re)!==!1)){if(re.state.isVisible=!1,re.state.isShown=!1,ft=!1,Oe=!1,a()&&(pt.style.visibility="hidden"),C(),ee(),s(!0),a()){var Vn=e(),gr=Vn.box,Sr=Vn.content;re.props.animation&&(nn([gr,Sr],er),Ln([gr,Sr],"hidden"))}p(),g(),re.props.animation?a()&&be(er,re.unmount):re.unmount()}}function ki(Ve){t().addEventListener("mousemove",Kt),$e(Pr,Kt),Kt(Ve)}function Mi(){re.state.isVisible&&re.hide(),!!re.state.isMounted&&(di(),Fr().forEach(function(Ve){Ve._tippy.unmount()}),pt.parentNode&&pt.parentNode.removeChild(pt),Mr=Mr.filter(function(Ve){return Ve!==re}),re.state.isMounted=!1,u("onHidden",[re]))}function Ni(){re.state.isDestroyed||(re.clearDelayTimeouts(),re.unmount(),pn(),delete k._tippy,re.state.isDestroyed=!0,u("onDestroy",[re]))}}function dr(k,N){N===void 0&&(N={});var H=cr.plugins.concat(N.plugins||[]);ot();var se=Object.assign({},N,{plugins:H}),fe=ln(k);if(!1)var ye,Oe;var Ae=fe.reduce(function(Ie,ft){var Je=ft&&Br(ft,se);return Je&&Ie.push(Je),Ie},[]);return un(k)?Ae[0]:Ae}dr.defaultProps=cr,dr.setDefaultProps=Qr,dr.currentInput=zt;var ni=function(N){var H=N===void 0?{}:N,se=H.exclude,fe=H.duration;Mr.forEach(function(ye){var Oe=!1;if(se&&(Oe=Qt(se)?ye.reference===se:ye.popper===se.popper),!Oe){var Ae=ye.props.duration;ye.setProps({duration:fe}),ye.hide(),ye.state.isDestroyed||ye.setProps({duration:Ae})}})},mr=Object.assign({},O,{effect:function(N){var H=N.state,se={popper:{position:H.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(H.elements.popper.style,se.popper),H.styles=se,H.elements.arrow&&Object.assign(H.elements.arrow.style,se.arrow)}}),xr=function(N,H){var se;H===void 0&&(H={});var fe=N,ye=[],Oe=[],Ae,Ie=H.overrides,ft=[],Je=!1;function en(){Oe=fe.map(function(re){return Re(re.props.triggerTarget||re.reference)}).reduce(function(re,Nt){return re.concat(Nt)},[])}function Jt(){ye=fe.map(function(re){return re.reference})}function Pt(re){fe.forEach(function(Nt){re?Nt.enable():Nt.disable()})}function Kt(re){return fe.map(function(Nt){var pt=Nt.setProps;return Nt.setProps=function(kn){pt(kn),Nt.reference===Ae&&re.setProps(kn)},function(){Nt.setProps=pt}})}function At(re,Nt){var pt=Oe.indexOf(Nt);if(Nt!==Ae){Ae=Nt;var kn=(Ie||[]).concat("content").reduce(function(An,Zn){return An[Zn]=fe[pt].props[Zn],An},{});re.setProps(Object.assign({},kn,{getReferenceClientRect:typeof kn.getReferenceClientRect=="function"?kn.getReferenceClientRect:function(){var An;return(An=ye[pt])==null?void 0:An.getBoundingClientRect()}}))}}Pt(!1),Jt(),en();var Mt={fn:function(){return{onDestroy:function(){Pt(!0)},onHidden:function(){Ae=null},onClickOutside:function(pt){pt.props.showOnCreate&&!Je&&(Je=!0,Ae=null)},onShow:function(pt){pt.props.showOnCreate&&!Je&&(Je=!0,At(pt,ye[0]))},onTrigger:function(pt,kn){At(pt,kn.currentTarget)}}}},mt=dr(It(),Object.assign({},pe(H,["overrides"]),{plugins:[Mt].concat(H.plugins||[]),triggerTarget:Oe,popperOptions:Object.assign({},H.popperOptions,{modifiers:[].concat(((se=H.popperOptions)==null?void 0:se.modifiers)||[],[mr])})})),Xt=mt.show;mt.show=function(re){if(Xt(),!Ae&&re==null)return At(mt,ye[0]);if(!(Ae&&re==null)){if(typeof re=="number")return ye[re]&&At(mt,ye[re]);if(fe.indexOf(re)>=0){var Nt=re.reference;return At(mt,Nt)}if(ye.indexOf(re)>=0)return At(mt,re)}},mt.showNext=function(){var re=ye[0];if(!Ae)return mt.show(0);var Nt=ye.indexOf(Ae);mt.show(ye[Nt+1]||re)},mt.showPrevious=function(){var re=ye[ye.length-1];if(!Ae)return mt.show(re);var Nt=ye.indexOf(Ae),pt=ye[Nt-1]||re;mt.show(pt)};var fn=mt.setProps;return mt.setProps=function(re){Ie=re.overrides||Ie,fn(re)},mt.setInstances=function(re){Pt(!0),ft.forEach(function(Nt){return Nt()}),fe=re,Pt(!1),Jt(),en(),ft=Kt(mt),mt.setProps({triggerTarget:Oe})},ft=Kt(mt),mt},Nr={mouseover:"mouseenter",focusin:"focus",click:"click"};function ar(k,N){var H=[],se=[],fe=!1,ye=N.target,Oe=pe(N,["target"]),Ae=Object.assign({},Oe,{trigger:"manual",touch:!1}),Ie=Object.assign({touch:cr.touch},Oe,{showOnCreate:!0}),ft=dr(k,Ae),Je=Re(ft);function en(Mt){if(!(!Mt.target||fe)){var mt=Mt.target.closest(ye);if(!!mt){var Xt=mt.getAttribute("data-tippy-trigger")||N.trigger||cr.trigger;if(!mt._tippy&&!(Mt.type==="touchstart"&&typeof Ie.touch=="boolean")&&!(Mt.type!=="touchstart"&&Xt.indexOf(Nr[Mt.type])<0)){var fn=dr(mt,Ie);fn&&(se=se.concat(fn))}}}}function Jt(Mt,mt,Xt,fn){fn===void 0&&(fn=!1),Mt.addEventListener(mt,Xt,fn),H.push({node:Mt,eventType:mt,handler:Xt,options:fn})}function Pt(Mt){var mt=Mt.reference;Jt(mt,"touchstart",en,x),Jt(mt,"mouseover",en),Jt(mt,"focusin",en),Jt(mt,"click",en)}function Kt(){H.forEach(function(Mt){var mt=Mt.node,Xt=Mt.eventType,fn=Mt.handler,re=Mt.options;mt.removeEventListener(Xt,fn,re)}),H=[]}function At(Mt){var mt=Mt.destroy,Xt=Mt.enable,fn=Mt.disable;Mt.destroy=function(re){re===void 0&&(re=!0),re&&se.forEach(function(Nt){Nt.destroy()}),se=[],Kt(),mt()},Mt.enable=function(){Xt(),se.forEach(function(re){return re.enable()}),fe=!1},Mt.disable=function(){fn(),se.forEach(function(re){return re.disable()}),fe=!0},Pt(Mt)}return Je.forEach(At),ft}var fr={name:"animateFill",defaultValue:!1,fn:function(N){var H;if(!((H=N.props.render)!=null&&H.$$tippy))return{};var se=kr(N.popper),fe=se.box,ye=se.content,Oe=N.props.animateFill?wr():null;return{onCreate:function(){Oe&&(fe.insertBefore(Oe,fe.firstElementChild),fe.setAttribute("data-animatefill",""),fe.style.overflow="hidden",N.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(Oe){var Ie=fe.style.transitionDuration,ft=Number(Ie.replace("ms",""));ye.style.transitionDelay=Math.round(ft/10)+"ms",Oe.style.transitionDuration=Ie,Ln([Oe],"visible")}},onShow:function(){Oe&&(Oe.style.transitionDuration="0ms")},onHide:function(){Oe&&Ln([Oe],"hidden")}}}};function wr(){var k=It();return k.className=R,Ln([k],"hidden"),k}var $r={clientX:0,clientY:0},Ar=[];function Kr(k){var N=k.clientX,H=k.clientY;$r={clientX:N,clientY:H}}function qr(k){k.addEventListener("mousemove",Kr)}function jr(k){k.removeEventListener("mousemove",Kr)}var Rr={name:"followCursor",defaultValue:!1,fn:function(N){var H=N.reference,se=Wn(N.props.triggerTarget||H),fe=!1,ye=!1,Oe=!0,Ae=N.props;function Ie(){return N.props.followCursor==="initial"&&N.state.isVisible}function ft(){se.addEventListener("mousemove",Jt)}function Je(){se.removeEventListener("mousemove",Jt)}function en(){fe=!0,N.setProps({getReferenceClientRect:null}),fe=!1}function Jt(At){var Mt=At.target?H.contains(At.target):!0,mt=N.props.followCursor,Xt=At.clientX,fn=At.clientY,re=H.getBoundingClientRect(),Nt=Xt-re.left,pt=fn-re.top;(Mt||!N.props.interactive)&&N.setProps({getReferenceClientRect:function(){var An=H.getBoundingClientRect(),Zn=Xt,i=fn;mt==="initial"&&(Zn=An.left+Nt,i=An.top+pt);var n=mt==="horizontal"?An.top:i,a=mt==="vertical"?An.right:Zn,l=mt==="horizontal"?An.bottom:i,t=mt==="vertical"?An.left:Zn;return{width:a-t,height:l-n,top:n,right:a,bottom:l,left:t}}})}function Pt(){N.props.followCursor&&(Ar.push({instance:N,doc:se}),qr(se))}function Kt(){Ar=Ar.filter(function(At){return At.instance!==N}),Ar.filter(function(At){return At.doc===se}).length===0&&jr(se)}return{onCreate:Pt,onDestroy:Kt,onBeforeUpdate:function(){Ae=N.props},onAfterUpdate:function(Mt,mt){var Xt=mt.followCursor;fe||Xt!==void 0&&Ae.followCursor!==Xt&&(Kt(),Xt?(Pt(),N.state.isMounted&&!ye&&!Ie()&&ft()):(Je(),en()))},onMount:function(){N.props.followCursor&&!ye&&(Oe&&(Jt($r),Oe=!1),Ie()||ft())},onTrigger:function(Mt,mt){Gt(mt)&&($r={clientX:mt.clientX,clientY:mt.clientY}),ye=mt.type==="focus"},onHidden:function(){N.props.followCursor&&(en(),Je(),Oe=!0)}}}};function Er(k,N){var H;return{popperOptions:Object.assign({},k.popperOptions,{modifiers:[].concat((((H=k.popperOptions)==null?void 0:H.modifiers)||[]).filter(function(se){var fe=se.name;return fe!==N.name}),[N])})}}var ri={name:"inlinePositioning",defaultValue:!1,fn:function(N){var H=N.reference;function se(){return!!N.props.inlinePositioning}var fe,ye=-1,Oe=!1,Ae=[],Ie={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(Pt){var Kt=Pt.state;se()&&(Ae.indexOf(Kt.placement)!==-1&&(Ae=[]),fe!==Kt.placement&&Ae.indexOf(Kt.placement)===-1&&(Ae.push(Kt.placement),N.setProps({getReferenceClientRect:function(){return ft(Kt.placement)}})),fe=Kt.placement)}};function ft(Jt){return ii(ht(Jt),H.getBoundingClientRect(),wt(H.getClientRects()),ye)}function Je(Jt){Oe=!0,N.setProps(Jt),Oe=!1}function en(){Oe||Je(Er(N.props,Ie))}return{onCreate:en,onAfterUpdate:en,onTrigger:function(Pt,Kt){if(Gt(Kt)){var At=wt(N.reference.getClientRects()),Mt=At.find(function(Xt){return Xt.left-2<=Kt.clientX&&Xt.right+2>=Kt.clientX&&Xt.top-2<=Kt.clientY&&Xt.bottom+2>=Kt.clientY}),mt=At.indexOf(Mt);ye=mt>-1?mt:ye}},onHidden:function(){ye=-1}}}};function ii(k,N,H,se){if(H.length<2||k===null)return N;if(H.length===2&&se>=0&&H[0].left>H[1].right)return H[se]||N;switch(k){case"top":case"bottom":{var fe=H[0],ye=H[H.length-1],Oe=k==="top",Ae=fe.top,Ie=ye.bottom,ft=Oe?fe.left:ye.left,Je=Oe?fe.right:ye.right,en=Je-ft,Jt=Ie-Ae;return{top:Ae,bottom:Ie,left:ft,right:Je,width:en,height:Jt}}case"left":case"right":{var Pt=Math.min.apply(Math,H.map(function(pt){return pt.left})),Kt=Math.max.apply(Math,H.map(function(pt){return pt.right})),At=H.filter(function(pt){return k==="left"?pt.left===Pt:pt.right===Kt}),Mt=At[0].top,mt=At[At.length-1].bottom,Xt=Pt,fn=Kt,re=fn-Xt,Nt=mt-Mt;return{top:Mt,bottom:mt,left:Xt,right:fn,width:re,height:Nt}}default:return N}}var oi={name:"sticky",defaultValue:!1,fn:function(N){var H=N.reference,se=N.popper;function fe(){return N.popperInstance?N.popperInstance.state.elements.reference:H}function ye(ft){return N.props.sticky===!0||N.props.sticky===ft}var Oe=null,Ae=null;function Ie(){var ft=ye("reference")?fe().getBoundingClientRect():null,Je=ye("popper")?se.getBoundingClientRect():null;(ft&&si(Oe,ft)||Je&&si(Ae,Je))&&N.popperInstance&&N.popperInstance.update(),Oe=ft,Ae=Je,N.state.isMounted&&requestAnimationFrame(Ie)}return{onMount:function(){N.props.sticky&&Ie()}}}};function si(k,N){return k&&N?k.top!==N.top||k.right!==N.right||k.bottom!==N.bottom||k.left!==N.left:!0}dr.setDefaultProps({render:vr});var ui=dr},34456:function(En,Ot,ge){"use strict";var A=ge(14102),Ne=ge(55972),Ee=A.hj.create({name:"fontSize",addOptions:function(){return{types:["textStyle"]}},addGlobalAttributes:function(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:function(qe){return qe.style.fontSize.replace(/['"]+/g,"")},renderHTML:function(qe){return qe.fontSize?{style:"font-size: "+qe.fontSize}:{}}}}}]},addCommands:function(){return{setFontSize:function(qe){return function(je){var me=je.chain;return me().setMark("textStyle",{fontSize:qe}).run()}},unsetFontSize:function(){return function(qe){var je=qe.chain;return je().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}}});Ot.Z=Ee},91959:function(En,Ot,ge){"use strict";ge.d(Ot,{Z:function(){return at}});var A,Ne=new Uint8Array(16);function Ee(){if(!A&&(A=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!A))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return A(Ne)}var de=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function le(dt){return typeof dt=="string"&&de.test(dt)}for(var qe=le,je=[],me=0;me<256;++me)je.push((me+256).toString(16).substr(1));function Fe(dt){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ue=(je[dt[st+0]]+je[dt[st+1]]+je[dt[st+2]]+je[dt[st+3]]+"-"+je[dt[st+4]]+je[dt[st+5]]+"-"+je[dt[st+6]]+je[dt[st+7]]+"-"+je[dt[st+8]]+je[dt[st+9]]+"-"+je[dt[st+10]]+je[dt[st+11]]+je[dt[st+12]]+je[dt[st+13]]+je[dt[st+14]]+je[dt[st+15]]).toLowerCase();if(!qe(Ue))throw TypeError("Stringified UUID is invalid");return Ue}var He=Fe;function Xe(dt,st,Ue){dt=dt||{};var ut=dt.random||(dt.rng||Ee)();if(ut[6]=ut[6]&15|64,ut[8]=ut[8]&63|128,st){Ue=Ue||0;for(var Pe=0;Pe<16;++Pe)st[Ue+Pe]=ut[Pe];return st}return He(ut)}var at=Xe}}]);
