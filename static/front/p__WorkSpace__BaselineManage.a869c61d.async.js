(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[4157],{59465:function(ze,te,n){"use strict";n.d(te,{Z:function(){return J}});var de=n(28991),ae=n(67294),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},ce=ve,pe=n(27029),Q=function(q,ge){return ae.createElement(pe.Z,(0,de.Z)((0,de.Z)({},q),{},{ref:ge,icon:ce}))},me=ae.forwardRef(Q),J=me},98117:function(ze,te,n){"use strict";n.r(te),n.d(te,{default:function(){return $n}});var de=n(20228),ae=n(11382),ve=n(14781),ce=n(10664),pe=n(49111),Q=n(19650),me=n(13062),J=n(71230),Ie=n(22385),q=n(89456),ge=n(57663),X=n(71577),wn=n(402),_=n(97272),W=n(39428),We=n(93224),ee=n(3182),b=n(11849),R=n(2824),L=n(20310),r=n(67294),N=n(16917),re=n(20009),ne=n(88896),ue=n(24480),P=n(12788),he,Ne=["svgRef","title"];function ie(){return ie=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(o[t]=i[t])}return o},ie.apply(this,arguments)}function Ye(o,a){if(o==null)return{};var i=De(o,a),t,s;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);for(s=0;s<d.length;s++)t=d[s],!(a.indexOf(t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,t)||(i[t]=o[t]))}return i}function De(o,a){if(o==null)return{};var i={},t=Object.keys(o),s,d;for(d=0;d<t.length;d++)s=t[d],!(a.indexOf(s)>=0)&&(i[s]=o[s]);return i}var Ge=function(a){var i=a.svgRef,t=a.title,s=Ye(a,Ne);return r.createElement("svg",ie({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},s),t?r.createElement("title",null,t):null,he||(he=r.createElement("g",{id:"\\u9996\\u9875\\u4F18\\u53163.21",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u5BFC\\u5165",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M13.75,15 L2.25,15 C1.97385763,15 1.75,14.7761424 1.75,14.5 L1.75,4.7499997 C1.75,4.47385763 1.97385763,4.2499997 2.25,4.2499997 L5.13328125,4.2499997 C5.44875,4.2499997 5.7128125,4.508125 5.706875,4.8234375 C5.70091648,5.12981803 5.45081346,5.37505794 5.144375,5.375 L2.875,5.375 L2.875,13.875 L13.125,13.875 L13.125,5.375 L10.8698437,5.375 C10.5545313,5.375 10.2903125,5.116875 10.2964062,4.8015625 C10.3023682,4.49499954 10.5527542,4.24968652 10.859375,4.2499997 L13.75,4.2499997 C14.0261424,4.2499997 14.25,4.47385763 14.25,4.7499997 L14.25,14.5 C14.25,14.7761424 14.0261424,15 13.75,15 L13.75,15 Z M10.8082813,8.1153125 C10.7046696,8.00794518 10.5626448,7.94614293 10.4134598,7.9435056 C10.2642749,7.94086827 10.1201543,7.99761196 10.0128125,8.10125 L8.5559375,9.5075 L8.5559375,1.57328125 C8.5559375,1.26262108 8.30409767,1.01078125 7.9934375,1.01078125 C7.68277733,1.01078125 7.4309375,1.26262108 7.4309375,1.57328125 L7.4309375,9.59109375 L5.98546875,8.11265625 C5.84496289,7.9689685 5.63847362,7.91115452 5.44378345,7.96099228 C5.24909327,8.01083005 5.09578026,8.16074801 5.04159595,8.35427353 C4.98741163,8.54779905 5.04058789,8.755531 5.18109375,8.89921875 L7.56484375,11.3367187 C7.75702283,11.5332119 8.07176929,11.5377481 8.26953125,11.346875 L10.7942187,8.909375 C11.0168707,8.6937642 11.0231592,8.33867177 10.8082812,8.1153125 L10.8082813,8.1153125 Z",id:"\\u5F62\\u72B6"})))))},He=r.forwardRef(function(o,a){return r.createElement(Ge,ie({svgRef:a},o))}),kn=n.p+"static/import.4f1bf697.svg",An=n(57338),xe=n(440),Tn=n(47673),se=n(4107),zn=n(34792),Ue=n(48086),In=n(9715),G=n(20526),e=n(85893),Ve=function(a,i){var t=a.title,s=a.onOk,d=(0,re.UO)(),A=d.ws_id,m=(0,N.YB)(),E=m.formatMessage({id:"pages.workspace.baseline.addScript.error.name_exists"}),T=m.formatMessage({id:"pages.workspace.baseline.addScript.error.name_null"}),F=r.useState(),C=(0,R.Z)(F,2),y=C[0],S=C[1],M=r.useState(!1),$=(0,R.Z)(M,2),v=$[0],B=$[1],H=r.useState(!1),u=(0,R.Z)(H,2),p=u[0],w=u[1],D=G.Z.useForm(),z=(0,R.Z)(D,1),f=z[0];r.useImperativeHandle(i,function(){return{show:function(Z){if(w(!0),Z){var j=Z.name,Y=Z.description;S(Z),f.setFieldsValue({name:j,description:Y})}}}});var g=function(){B(!1),S(void 0),w(!1),f.resetFields()},U=function(){f.validateFields().then(function(){var Z=(0,ee.Z)((0,W.Z)().mark(function j(Y){var O,c,l,k;return(0,W.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(O=(0,b.Z)({test_type:t,ws_id:A},Y),B(!0),y){h.next=8;break}return h.next=5,(0,ne.si)((0,b.Z)({version:""},O));case 5:h.t0=h.sent,h.next=11;break;case 8:return h.next=10,(0,ne.Pd)((0,b.Z)({baseline_id:y==null?void 0:y.id},O));case 10:h.t0=h.sent;case 11:if(c=h.t0,l=c.code,k=c.msg,B(!1),l===200){h.next=18;break}return l===201&&f.setFields([{name:"name",errors:[E]}]),h.abrupt("return");case 18:Ue.default.success(m.formatMessage({id:"operation.success"})),g(),s==null||s();case 21:case"end":return h.stop()}},j)}));return function(j){return Z.apply(this,arguments)}}()).catch(function(Z){return console.log(Z)})};return(0,e.jsx)(xe.Z,{title:m.formatMessage({id:"baseline.addScript.".concat(y?"edit":"add")},{title:m.formatMessage({id:"baseline.".concat(t)})}),open:p,destroyOnClose:!0,onClose:g,footer:(0,e.jsx)(J.Z,{justify:"end",children:(0,e.jsxs)(Q.Z,{children:[(0,e.jsx)(X.Z,{onClick:g,children:m.formatMessage({id:"operation.cancel"})}),(0,e.jsx)(X.Z,{type:"primary",onClick:U,disabled:v,children:m.formatMessage({id:y?"operation.update":"operation.ok"})})]})}),children:(0,e.jsxs)(G.Z,{form:f,layout:"vertical",children:[(0,e.jsx)(G.Z.Item,{label:m.formatMessage({id:"pages.workspace.baseline.addScript.label.name"}),name:"name",rules:[{required:!0,message:T},{validator:function(Z,j,Y){return j&&j.length>100?Promise.reject(m.formatMessage({id:"pages.workspace.baseline.addScript.label.validator"})):Promise.resolve()}}],children:(0,e.jsx)(se.Z.TextArea,{autoSize:!0,autoComplete:"off",placeholder:m.formatMessage({id:"pages.workspace.baseline.addScript.label.name.placeholder"})})}),(0,e.jsx)(G.Z.Item,{label:m.formatMessage({id:"pages.workspace.baseline.addScript.label.description"}),name:"description",children:(0,e.jsx)(se.Z.TextArea,{autoSize:{minRows:8,maxRows:22},placeholder:m.formatMessage({id:"pages.workspace.baseline.addScript.label.description.placeholder"})})})]})})},Je=r.forwardRef(Ve),Wn=n(48736),Xe=n(27049),Ke=n(99069),Qe=n(71933),Ze,be,ye,je,qe=P.ZP.div(Ze||(Ze=(0,L.Z)([`
    width: 100;
    height: 100%;

    .ant-typography {
        width: 50%;
        height: 32px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        font-weight: normal;
    }
`]))),_e=P.ZP.div(be||(be=(0,L.Z)([`
    padding: 8px 20px;
`]))),en=(0,P.ZP)(J.Z)(ye||(ye=(0,L.Z)([`
    box-shadow: 0 9px 28px 8px rgb(0 0 0 / 5%), 0 6px 16px 0 rgb(0 0 0 / 8%), 0 3px 6px -4px rgb(0 0 0 / 12%);
    border-radius: 4px;
    flex-direction: column;
    background-color: #fff;
    width: 395px;
    position: absolute;
    bottom: 0;
    right: -10px;
    transform: translateY(100%);
`]))),nn=P.ZP.span(je||(je=(0,L.Z)([`
    height: 100%;
    padding-left: 4px;
    padding-right: 4px;
    display: inline-block;
    color: #bfbfbf;
    &:hover {
        color: rgba(0, 0, 0, 0.45);
        background: rgba(0, 0, 0, 0.04);
        span {
            color: rgba(0, 0, 0, 0.45);
        }
    }
`]))),tn=function(a){var i=a.search,t=a.onSearch,s=(0,N.YB)(),d=r.useState(!1),A=(0,R.Z)(d,2),m=A[0],E=A[1],T=r.useState(i),F=(0,R.Z)(T,2),C=F[0],y=F[1],S=r.useRef(null);(0,Qe.Z)(function(){E(!1),y("")},S);var M=function(){t==null||t(C),setTimeout(function(){E(!1)},80)},$=function(){t==null||t(""),y(""),setTimeout(function(){E(!1)},80)};return(0,e.jsxs)("span",{style:{cursor:"pointer",position:"relative"},ref:S,onClick:function(){return E(!0)},children:[(0,e.jsx)(nn,{children:(0,e.jsx)(Ke.Z,{style:{color:i?"#1890ff":void 0}})}),m&&(0,e.jsxs)(en,{children:[(0,e.jsx)(_e,{children:(0,e.jsx)(se.Z.Search,{value:C,onChange:function(B){return y(B.target.value)},onPressEnter:function(){return M()},placeholder:s.formatMessage({id:"baseline.search.baseline.name"})})}),(0,e.jsx)(Xe.Z,{style:{margin:"0"}}),(0,e.jsxs)(qe,{children:[(0,e.jsx)(_.Z.Link,{onClick:function(){return M()},children:s.formatMessage({id:"baseline.search"})}),(0,e.jsx)(_.Z.Text,{onClick:$,children:s.formatMessage({id:"operation.reset"})})]})]})]})},an=tn,Nn=n(62350),rn=n(24565),Ce,sn=["svgRef","title"];function le(){return le=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var i=arguments[a];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(o[t]=i[t])}return o},le.apply(this,arguments)}function ln(o,a){if(o==null)return{};var i=on(o,a),t,s;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);for(s=0;s<d.length;s++)t=d[s],!(a.indexOf(t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,t)||(i[t]=o[t]))}return i}function on(o,a){if(o==null)return{};var i={},t=Object.keys(o),s,d;for(d=0;d<t.length;d++)s=t[d],!(a.indexOf(s)>=0)&&(i[s]=o[s]);return i}var dn=function(a){var i=a.svgRef,t=a.title,s=ln(a,sn);return r.createElement("svg",le({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:i},s),t?r.createElement("title",null,t):null,Ce||(Ce=r.createElement("g",{id:"\\u57FA\\u7EBF\\u7BA1\\u7406",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u4E91\\u4E0A-\\u6027\\u80FD-\\u673A\\u5668\\u5C55\\u5F00",transform:"translate(-241.000000, -235.000000)",fill:"#000000",fillRule:"nonzero"},r.createElement("g",{id:"Group-7",transform:"translate(221.000000, 123.000000)"},r.createElement("g",{id:"Group-8",transform:"translate(0.000000, 67.000000)"},r.createElement("g",{id:"Group-6",transform:"translate(20.000000, 41.000000)"},r.createElement("g",{id:"\\u4EA7\\u54C1",transform:"translate(0.000000, 4.000000)"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M7.86666667,9.53333333 L0.566666672,5.03333333 L7.86666667,0.566666672 L15.1666667,5.06666667 L7.86666667,9.53333333 Z M3.46666667,5.03333333 L7.9,7.76666667 L12.3333333,5.03333333 L7.86666667,2.33333333 L3.46666667,5.03333333 Z",id:"Shape"}),r.createElement("polygon",{id:"Path",points:"12.3333333 8.1 7.86666667 10.8 3.46666667 8.06666667 2.3 7 0.6 8.03333333 7.86666667 12.5666667 15.2 8.13333333 13.5 7.06666667"}),r.createElement("polygon",{id:"Path",points:"12.3 11.1333333 7.86666667 13.8333333 3.46666667 11.0666667 2.3 10 0.566666672 11.0666667 7.86666667 15.6 15.1666667 11.1333333 13.5 10.1"})))))))))},cn=r.forwardRef(function(o,a){return r.createElement(dn,le({svgRef:a},o))}),Yn=n.p+"static/baseline.04d0f744.svg",Se=n(59465),un=n(99165),fn=n(57119),vn=n(94184),pn=n.n(vn),mn=function(a,i){var t=a.onOk,s=(0,N.YB)(),d=s.formatMessage,A=r.useState(!1),m=(0,R.Z)(A,2),E=m[0],T=m[1],F=r.useState(),C=(0,R.Z)(F,2),y=C[0],S=C[1],M=r.useState(!1),$=(0,R.Z)(M,2),v=$[0],B=$[1],H=G.Z.useForm(),u=(0,R.Z)(H,1),p=u[0];r.useImperativeHandle(i,function(){return{show:function(f){var g=f.name;S(f),p.setFieldValue("baseline_name","".concat(g,"-").concat((0,ue.FE)())),T(!0)}}});var w=function(){S(void 0),T(!1),p.resetFields(),B(!1)},D=function(){p.validateFields().then(function(){var f=(0,ee.Z)((0,W.Z)().mark(function g(U){var x,Z,j,Y,O;return(0,W.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(x=U.baseline_name,!v){l.next=3;break}return l.abrupt("return");case 3:if(x){l.next=5;break}return l.abrupt("return",p.setFields([{name:"baseline_name",errors:[d({id:"baseline.modal.baseline_name.empty"})]}]));case 5:return B(!0),Z=y.id,l.next=9,(0,ne.GJ)({baseline_name:x,baseline_id:Z});case 9:if(j=l.sent,Y=j.code,O=j.msg,B(!1),Y===200){l.next=17;break}return console.log(O),p.setFields([{name:"baseline_name",errors:[O]}]),l.abrupt("return");case 17:w(),t==null||t();case 19:case"end":return l.stop()}},g)}));return function(g){return f.apply(this,arguments)}}())};return(0,e.jsx)(xe.Z,{title:d({id:"baseline.modal.copy.title"}),open:E,onClose:w,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(Q.Z,{children:[(0,e.jsx)(X.Z,{onClick:w,children:(0,e.jsx)(N._H,{id:"operation.cancel"})}),(0,e.jsx)(X.Z,{type:"primary",disabled:v,onClick:D,children:(0,e.jsx)(N._H,{id:"operation.ok"})})]})}),children:(0,e.jsx)(G.Z,{form:p,layout:"vertical",children:(0,e.jsx)(G.Z.Item,{name:"baseline_name",label:d({id:"baseline.baseline_name"}),rules:[{required:!0,message:d({id:"baseline.modal.baseline_name.empty"})},{validator:function(f,g,U){return g&&g.length>100?Promise.reject(d({id:"pages.workspace.baseline.addScript.label.validator"})):Promise.resolve()}}],children:(0,e.jsx)(se.Z.TextArea,{autoSize:{minRows:1},autoComplete:"off",placeholder:d({id:"pages.workspace.baseline.addScript.label.name.placeholder"})})})})})},gn=r.forwardRef(mn),Me,Oe,Re,hn=P.ZP.div(Me||(Me=(0,L.Z)([`
    width: 100%;
    height: calc(100% - 32px - 72px - 32px);
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    padding: 8px 0;
`]))),Le=`
    background: #fafafa;
    .ant-typography {
        color: #1890ff;
    }
    .baseline-item-icon {
        path,
        polygon {
            fill: #1890ff;
        }
    }
`,xn=P.ZP.div(Oe||(Oe=(0,L.Z)([`
    height: 24px;
    display: flex;
    padding-left: 20px;
    padding-right: 10px;
    align-items: center;
    cursor: pointer;
    gap: 8px;

    &.is-active-baseline {
        `,`;
    }

    .anticon.anticon-minus-circle,
    .anticon.anticon-copy {
        visibility: hidden;
        width: 14px;
    }
    
    &:hover {
        `,`;
        .anticon.anticon-minus-circle,
        .anticon.anticon-copy {
            visibility: visible;
        }
    }
`])),Le,Le),Zn=(0,P.ZP)(_.Z.Text)(Re||(Re=(0,L.Z)([`
    width: calc(100% - 16px - 14px);
`]))),bn=function(a){var i=a.data,t=a.refresh,s=a.current,d=a.setCurrent,A=a.test_type,m=a.page_size,E=m===void 0?20:m,T=a.page_num,F=a.total,C=F===void 0?0:F,y=(0,re.UO)(),S=y.ws_id,M=(0,N.YB)(),$=(0,N.md)(),v=r.useRef(),B=function(){var u=(0,ee.Z)((0,W.Z)().mark(function p(w){var D,z,f,g;return(0,W.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,ne.PT)({baseline_id:w.id,ws_id:S});case 2:if(D=x.sent,z=D.code,z===200){x.next=6;break}return x.abrupt("return");case 6:f=C%E==1,g=Math.floor(C/E),t==null||t(f&&g&&g+1<=T?g:void 0);case 9:case"end":return x.stop()}},p)}));return function(w){return u.apply(this,arguments)}}(),H=function(p){d==null||d({}),setTimeout(function(){d==null||d(p),N.m8.replace("/ws/".concat(S,"/baseline/").concat(A,"?baseline_id=").concat(p==null?void 0:p.id))},10)};return(0,e.jsxs)(hn,{children:[i==null?void 0:i.map(function(u){return(0,e.jsxs)(xn,{onClick:function(){return H(u)},className:pn()((s==null?void 0:s.id)===(u==null?void 0:u.id)&&"is-active-baseline"),children:[(0,e.jsx)(cn,{className:"baseline-item-icon"}),(0,e.jsx)(Zn,{ellipsis:{tooltip:!0},children:(u==null?void 0:u.name)||"-"}),(0,e.jsxs)(N.Nv,{accessible:$.WsMemberOperateSelf(u==null?void 0:u.creator),fallback:(0,e.jsx)(Se.Z,{onClick:function(){return(0,ue.WR)()}}),children:[(0,e.jsx)(q.Z,{title:M.formatMessage({id:"baseline.modal.copy.title"}),placement:"top",children:(0,e.jsx)(un.Z,{style:{cursor:"pointer"},onClick:function(){return v.current.show(u)}})}),(0,e.jsx)(rn.Z,{title:(0,e.jsxs)(_.Z.Text,{type:"danger",children:[M.formatMessage({id:"baseline.delete.prompt1"}),M.formatMessage({id:"baseline.delete.prompt2"})]}),onCancel:function(){return B(u)},cancelText:M.formatMessage({id:"operation.confirm.delete"}),cancelButtonProps:{disabled:!!(u!=null&&u.is_first)},okText:M.formatMessage({id:"operation.cancel"}),icon:(0,e.jsx)(fn.Z,{style:{color:"red"}}),children:(0,e.jsx)(q.Z,{title:M.formatMessage({id:"operation.delete"}),placement:"top",children:(0,e.jsx)(Se.Z,{style:{color:"red",cursor:"pointer"}})})})]})]},u==null?void 0:u.id)}),(0,e.jsx)(gn,{ref:v,onOk:function(){return t==null?void 0:t(T)}})]})},yn=bn,jn=n(88490),Cn=n(70454),Sn=["code","msg"],Pe,Ee,Fe,Be,$e,we,ke,oe="16px",Mn=P.ZP.div(Pe||(Pe=(0,L.Z)([`
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: `,`;
    padding: 20px;
    overflow: hidden;
    position: relative;
`])),oe),On=P.ZP.div(Ee||(Ee=(0,L.Z)([`
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    z-index: 999;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #fff;
`]))),Rn=P.ZP.div(Fe||(Fe=(0,L.Z)([`
    width: 100%;
    height: calc(100% - 22px - `,`);
    display: flex;
    gap: `,`;
`])),oe,oe),Ae="395px",Ln=P.ZP.div(Be||(Be=(0,L.Z)([`
    width: `,`;
    border: 1px solid #eee;
    height: 100%;
`])),Ae),Pn=P.ZP.div($e||($e=(0,L.Z)([`
    padding: 20px;  
    padding-right: 6px;
    .import_btn {
        transform: translateY(4px);
        transition: none;
        svg g { 
            fill: #bfbfbf;
        }
        &:hover {
            color: rgba(0, 0, 0, 0.45);
            background: rgba(0, 0, 0, 0.04);
            svg g {
                fill: rgba(0, 0, 0, 0.45);
            }
        }
    }
`]))),En=P.ZP.div(we||(we=(0,L.Z)([`
    position: relative;
    width: 100%;
    height: 32px;
    background-color: rgba(0,0,0,.02);
    padding-left: 20px;
    padding-right: 6px;
    line-height: 32px;
    font-size: 14px;
    font-weight: 700;
    color: rgba(0,0,0,.85);
    display: flex;
    justify-content: space-between;
    align-items: center;
`]))),Fn=P.ZP.div(ke||(ke=(0,L.Z)([`
    height: 100%;
    width: calc(100% - `," - ",`);
`])),Ae,oe),Bn=function(a){var i=a.route.name,t=(0,N.YB)(),s=(0,re.TH)(),d=s.pathname,A=s.query,m=(0,re.UO)(),E=m.ws_id,T=A.baseline_id,F=A.baseline_name,C=r.useRef(null),y=r.useRef(null),S={test_type:i,page_size:20,page_num:1,ws_id:E,name:F},M=r.useState(),$=(0,R.Z)(M,2),v=$[0],B=$[1],H=r.useState(!0),u=(0,R.Z)(H,2),p=u[0],w=u[1],D=r.useState(S),z=(0,R.Z)(D,2),f=z[0],g=z[1],U=r.useState({}),x=(0,R.Z)(U,2),Z=x[0],j=x[1];r.useEffect(function(){g(function(c){return(0,b.Z)((0,b.Z)({},c),{},{test_type:i,name:F})})},[i,F]);var Y=function(){var c=(0,ee.Z)((0,W.Z)().mark(function l(){var k,I,h,K,Te,fe=arguments;return(0,W.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return k=fe.length>0&&fe[0]!==void 0?fe[0]:S,w(!0),V.next=4,(0,ne.bU)(k);case 4:if(I=V.sent,h=I.code,K=I.msg,Te=(0,We.Z)(I,Sn),w(!1),h===200){V.next=11;break}return V.abrupt("return",(0,ue.EV)(h,K));case 11:B(Te);case 12:case"end":return V.stop()}},l)}));return function(){return c.apply(this,arguments)}}(),O=function(){var c=(0,ee.Z)((0,W.Z)().mark(function l(){var k,I=arguments;return(0,W.Z)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:k=I.length>0&&I[0]!==void 0?I[0]:S,g(k),Y(k);case 3:case"end":return K.stop()}},l)}));return function(){return c.apply(this,arguments)}}();return r.useMemo(function(){if(!!v){var c=v.data;if(c&&(c==null?void 0:c.length)>0){var l=c==null?void 0:c.findIndex(function(k){var I=k.id;return I===((Z==null?void 0:Z.id)||+T)});if(~l){j(c==null?void 0:c[l]);return}j(c==null?void 0:c[0])}else j({})}},[v]),r.useEffect(function(){O()},[d]),(0,e.jsxs)(Mn,{children:[(0,e.jsx)(_.Z.Text,{children:t.formatMessage({id:"Workspace.baseline.".concat(i)})}),(0,e.jsxs)(Rn,{children:[(0,e.jsxs)(Ln,{children:[(0,e.jsx)(Pn,{children:(0,e.jsxs)(J.Z,{justify:"space-between",children:[(0,e.jsx)(X.Z,{type:"primary",onClick:function(){var l;return(l=C.current)===null||l===void 0?void 0:l.show()},children:t.formatMessage({id:"baseline.create.btn"})}),(0,e.jsx)(q.Z,{title:"\u5BFC\u5165\u57FA\u7EBF",children:(0,e.jsx)(X.Z,{icon:(0,e.jsx)(He,{}),size:"small",className:"import_btn",type:"link",onClick:function(){var l;return(l=y.current)===null||l===void 0?void 0:l.show()}})})]})}),(0,e.jsxs)(En,{children:[(0,e.jsxs)(Q.Z,{children:[t.formatMessage({id:"baseline.all.baseline"}),(0,e.jsxs)("span",{children:["(",(v==null?void 0:v.total)||0,")"]})]}),(0,e.jsx)(an,{search:f==null?void 0:f.name,onSearch:function(l){O((0,b.Z)((0,b.Z)({},f),{},{name:l,page_num:1}))}})]}),(0,e.jsx)(yn,(0,b.Z)((0,b.Z)({test_type:i,current:Z,setCurrent:j},v),{},{refresh:function(l){O(l?(0,b.Z)((0,b.Z)({},f),{},{page_num:l}):f)}})),(0,e.jsxs)(J.Z,{justify:"space-between",style:{padding:"0 20px 8px"},children:[t.formatMessage({id:"pagination.total.strip"},{data:(v==null?void 0:v.total)||0}),(0,e.jsx)(ce.Z,{total:(v==null?void 0:v.total)||0,current:f==null?void 0:f.page_num,pageSize:f==null?void 0:f.page_size,size:"small",onChange:function(l,k){O((0,b.Z)((0,b.Z)({},f),{},{page_num:l,page_size:k}))}})]})]}),(0,e.jsx)(Fn,{children:(0,e.jsx)(jn.ZP,(0,b.Z)((0,b.Z)({test_type:i,current:Z,refresh:function(){return O(f)}},v),{},{editRef:C}))})]}),(0,e.jsx)(Je,{ref:C,title:i,onOk:O}),p&&(0,e.jsx)(On,{children:(0,e.jsx)(ae.Z,{spinning:p})}),(0,e.jsx)(Cn.ZP,(0,b.Z)((0,b.Z)({ref:y},a),{},{onOk:function(){return O(f)}}))]})},$n=r.memo(Bn)}}]);
