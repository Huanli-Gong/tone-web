(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[1995],{76613:function(vt,Be,t){"use strict";t.d(Be,{Z:function(){return le}});var r=t(45972),_=t(22374),We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},Ze=We,st=t(25078),U=function(ne,n){return _.createElement(st.Z,(0,r.Z)((0,r.Z)({},ne),{},{ref:n,icon:Ze}))};U.displayName="MinusCircleOutlined";var le=_.forwardRef(U)},28645:function(vt,Be,t){"use strict";t.d(Be,{Z:function(){return le}});var r=t(45972),_=t(22374),We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},Ze=We,st=t(25078),U=function(ne,n){return _.createElement(st.Z,(0,r.Z)((0,r.Z)({},ne),{},{ref:n,icon:Ze}))};U.displayName="PlusCircleOutlined";var le=_.forwardRef(U)},92199:function(vt){vt.exports={result_tabs:"result_tabs___3M8jQ",result_tab_item:"result_tab_item___1ayzC",result_tab_nums:"result_tab_nums___2N6S9",result_tab_nums_active:"result_tab_nums_active___17csa",result_table_row:"result_table_row___1aOzW",offline_flag:"offline_flag___37ZAh",filter_form:"filter_form___1cc4s",column_circle_text:"column_circle_text___23RwV",result_state:"result_state___VKg3t",result_state_active:"result_state_active___237xX",run_modal:"run_modal___C45x-",search_input_style:"search_input_style___3jIGo",select_program:"select_program___3Cksf",data_list:"data_list___sS_6A",button:"button___2dU9J",delete_icon:"delete_icon___16xQa",data_title:"data_title___XQu0t",data_clear:"data_clear___3xOit",data_share:"data_share___1rAqo",share_icon:"share_icon___3IZS7",copy_link_target:"copy_link_target___jeDRx",data_refresh_filter:"data_refresh_filter___3MJwE",share_refresh:"share_refresh___2JNMv",add_time_icon:"add_time_icon___1s-sZ",stateColorFn:"stateColorFn___3cn_m",group_box:"group_box___2ivnF",current_group:"current_group___2Kz0N",disabled_group:"disabled_group___KGRZA",create_job_type:"create_job_type___1H2Y3",create_job_type_icon:"create_job_type_icon___2KWKa",create_job_type_text:"create_job_type_text___1zJc6",bottom_box:"bottom_box___1UdQe",more_job_del_bottom:"more_job_del_bottom___11fry",text_num:"text_num___2mneP",select_baseline:"select_baseline___2F6Mv",sel_server:"sel_server___1M0Vn",select_text:"select_text___1W5-E",result_container:"result_container___1PNgv"}},45227:function(vt,Be,t){"use strict";var r=t(67448),_=t(47548),We=t(20693),Ze=t(3278),st=t(57359),U=t(34423),le=t(46721),i=t(94867),ne=t(20418),n=t(35832),Y=t(32326),N=t(65790),ee=t(17187),K=t(39190),Ue=t(88018),ht=t(58414),Ot=t(41428),xt=t(69230),bt=t(33821),ae=t(22374),It=t(992),lt=t(97939),zt=t(97207),re=t.n(zt),De=t(22812),Et=t(24812),Zt=t(39935),F=t(52454),Xe,St=bt.Z.Option,Ce=(0,lt.ZP)(ht.Z)(Xe||(Xe=(0,Ot.Z)([`
    .ant-drawer-title{
        font-weight: 600;
    }
    .server_provider {
        margin-bottom: 5px;  
    }
    .script_right_name{
        font-size: 14px;
        color: rgba(0,0,0,0.85);
    }
`])));Be.Z=(0,ae.forwardRef)(function(L,ve){var ie=(0,De.YB)(),e=ie.formatMessage,Te=(0,Et.UO)(),Pe=Te.ws_id,Je=L.onOk,it=L.allGroup,ot=ee.Z.useForm(),qe=(0,K.Z)(ot,1),oe=qe[0],ze=(0,ae.useState)(!1),ut=(0,K.Z)(ze,2),Re=ut[0],dt=ut[1],Se=(0,ae.useState)(!1),et=(0,K.Z)(Se,2),Oe=et[0],te=et[1],he=(0,ae.useState)({}),$e=(0,K.Z)(he,2),wt=$e[0],Dt=$e[1],Tt=(0,ae.useState)(!0),Fe=(0,K.Z)(Tt,2),ce=Fe[0],P=Fe[1],Ve=(0,ae.useState)([]),Ae=(0,K.Z)(Ve,2),je=Ae[0],mt=Ae[1],tt=(0,ae.useState)([]),Qe=(0,K.Z)(tt,2),Ne=Qe[0],pt=Qe[1],yt=(0,ae.useState)([]),gt=(0,K.Z)(yt,2),ct=gt[0],Ht=gt[1];(0,ae.useImperativeHandle)(ve,function(){return{show:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};te(!0),Dt(V),oe.setFieldsValue(V),$t()}}});var Bt=function(){var Ke=(0,Y.Z)((0,n.Z)().mark(function V(){var C,A,W,ye;return(0,n.Z)().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,(0,It.MD)({page_size:9999,page_num:1,ws_id:Pe});case 2:C=ke.sent,A=C.data,W=C.code,ye=C.msg,W===200&&Ht(A),P(!1),W!==200&&(0,Zt.EV)(W,ye);case 9:case"end":return ke.stop()}},V)}));return function(){return Ke.apply(this,arguments)}}();(0,ae.useEffect)(function(){Bt()},[]),(0,ae.useEffect)(function(){var Ke=re().find(ct,"is_default"),V=null;Ke&&(V=Ke.id);var C=null;Ne.length===1&&(C=Ne[0]);var A=null;je.length===1&&(A=je[0].id);var W=oe.getFieldsValue();W.template=V,W.productVersion=C,W.project=A,oe.setFieldsValue(W)},[ct,Ne,je]);var $t=function(){var V=[],C=[];try{it.forEach(function(A,W){A&&re().isArray(A.members)&&A.members.length&&(V.push(A.members[0].product_version),A.members.forEach(function(ye){return C.push({id:ye.project_id,name:ye.project_name})}))}),V=re().uniq(V),C=re().uniqWith(C,re().isEqual),C=C.filter(function(A){return A.id!==void 0}),pt(V),mt(C)}catch(A){console.log(A)}},Pt=function(){oe.resetFields(),dt(!1),te(!1)},Nt=function(){dt(!0),oe.validateFields().then(function(){var V=(0,Y.Z)((0,n.Z)().mark(function C(A){var W,ye;return(0,n.Z)().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:W=A.template,ye=re().find(ct,{id:W}),Je((0,ne.Z)((0,ne.Z)({},A),{},{is_default:re().get(ye,"is_default")}),wt),Pt();case 4:case"end":return ke.stop()}},C)}));return function(C){return V.apply(this,arguments)}}()).catch(function(V){console.log(V),dt(!1)})},Ct=function(V){var C="",A=ct;if(V==="template"){var W=re().find(A,"is_default");W&&(C=W.id)}return V==="productVersion"&&(A=Ne.filter(function(ye){return ye}),A.length===1&&(C=A[0])),V==="project"&&(A=je,A.length===1&&(C=A[0].id)),C},Mt=function(V){var C="",A=ct;return V==="template"&&(C=e({id:"report.please.select.template"})),V==="productVersion"&&(A=Ne.filter(function(W){return W}),C=e({id:"report.select.productVersion"})),V==="project"&&(A=je,C=e({id:"report.select.project"})),(0,F.jsx)(bt.Z,{showSearch:!0,allowClear:!0,placeholder:C,optionFilterProp:"children",style:{width:"100%"},onChange:function(ye){var Ge=oe.getFieldsValue();Ge[V]=ye,oe.setFieldsValue(Ge)},showArrow:!0,filterOption:function(ye,Ge){return Ge.children.toLowerCase().indexOf(ye.toLowerCase())>=0},children:A.map(function(W){return V==="productVersion"?(0,F.jsx)(St,{value:W,children:W},W):(0,F.jsx)(St,{value:W.id,children:W.name},W.id)})})};return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(_.Z,{spinning:ce,children:(0,F.jsx)(Ce,{title:(0,F.jsx)(De._H,{id:"report.generate.report"}),width:"375",onClose:Pt,visible:Oe,footer:(0,F.jsx)("div",{style:{textAlign:"right"},children:(0,F.jsxs)(U.Z,{children:[(0,F.jsx)(i.Z,{onClick:Pt,children:(0,F.jsx)(De._H,{id:"operation.cancel"})}),(0,F.jsx)(i.Z,{type:"primary",disabled:Re,onClick:Nt,children:(0,F.jsx)(De._H,{id:"operation.ok"})})]})}),children:(0,F.jsxs)(ee.Z,{form:oe,layout:"vertical",initialValues:{template:Ct("template"),productVersion:Ct("productVersion"),project:Ct("project")},children:[(0,F.jsx)(ee.Z.Item,{label:(0,F.jsx)(De._H,{id:"report.columns.name"}),name:"name",rules:[{required:!0,message:e({id:"report.please.enter.name"})}],children:(0,F.jsx)(Ze.Z,{autoComplete:"auto",placeholder:e({id:"report.please.enter.name"})})}),(0,F.jsx)(ee.Z.Item,{label:(0,F.jsx)(De._H,{id:"report.select.template"}),name:"template",rules:[{required:!0}],children:Mt("template")}),(0,F.jsx)(ee.Z.Item,{label:(0,F.jsx)(De._H,{id:"report.columns.product_version"}),name:"productVersion",children:Mt("productVersion")}),(0,F.jsx)(ee.Z.Item,{label:(0,F.jsx)(De._H,{id:"report.columns.project"}),name:"project",children:Mt("project")}),(0,F.jsx)(ee.Z.Item,{label:(0,F.jsx)(De._H,{id:"report.description.input"}),name:"description",children:(0,F.jsx)(Ze.Z.TextArea,{placeholder:e({id:"report.description.placeholder"})})})]})})})})})},55686:function(vt,Be,t){"use strict";t.r(Be),t.d(Be,{default:function(){return Yn}});var r=t(20418),_=t(39190),We=t(54905),Ze=t(90087),st=t(57359),U=t(34423),le=t(41428),i=t(22374),ne=t(97939),n=t(22812),Y=t(24812),N=t(22977),ee=t(20693),K=t(3278),Ue=t(88966),ht=t(11048),Ot=t(13059),xt=t(53676),bt=t(14320),ae=t(53479),It=t(38519),lt=t(16416),zt=t(31650),re=t(25100),De=t(45972),Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},Zt=Et,F=t(25078),Xe=function(a,c){return i.createElement(F.Z,(0,De.Z)((0,De.Z)({},a),{},{ref:c,icon:Zt}))};Xe.displayName="SettingOutlined";var St=i.forwardRef(Xe),Ce=t(99193),L=t(66304),ve=i.createContext(null),ie=function(){return i.useContext(ve)},e=t(52454),Te,Pe=`
    color: #1890FF;
`,Je=ne.ZP.span(Te||(Te=(0,le.Z)([`
    cursor: pointer;
    `,`
`])),function(I){var a=I.active;return a?Pe:""}),it=function(){var a=ie(),c=a.initialColumns,o=a.setInitialColumns,v=a.DEFAULT_COLUMNS_SET_DATA,l=(0,n.YB)(),Z=i.useState(!0),g=(0,_.Z)(Z,2),T=g[0],z=g[1],E=i.useState(!1),x=(0,_.Z)(E,2),H=x[0],b=x[1],B=Object.entries(c),X=B.map(function(w){var u=(0,_.Z)(w,1),j=u[0];return j}),k=B.map(function(w){var u=(0,_.Z)(w,2),j=u[0],D=u[1].disabled;if(!D)return j}).filter(Boolean),xe=i.useState(k),M=(0,_.Z)(xe,2),J=M[0],G=M[1];i.useEffect(function(){G(k),z(!!k.length&&k.length<B.length),b(k.length===B.length)},[c]);var Me=function(u){o(function(j){return Object.fromEntries(Object.entries(j).map(function(D){var R=(0,_.Z)(D,2),$=R[0],de=R[1];return[$,(0,r.Z)((0,r.Z)({},de),{},{disabled:!u.includes($)})]}))},[])},q=function(u){var j=u.target.checked?X:[];G(j),z(!1),b(u.target.checked),Me(j)},ue=function(u){G(u),z(!!u.length&&u.length<B.length),b(u.length===B.length),Me(u)},He=i.useMemo(function(){return c?Object.entries(c).sort(function(w,u){return u[1].order-w[1].order}):[]},[c]);return(0,e.jsx)(xt.Z,{placement:"bottom",content:(0,e.jsxs)(U.Z,{direction:"vertical",size:4,children:[(0,e.jsxs)(ae.Z,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[(0,e.jsx)(lt.Z,{indeterminate:T,checked:H,onChange:q,children:(0,e.jsx)(re.Z.Text,{strong:!0,children:l.formatMessage({defaultMessage:"\u5217\u5C55\u793A",id:"ws.result.list.columns.state.title"})})}),(0,e.jsx)(re.Z.Link,{strong:!0,onClick:function(){return o(v)},children:l.formatMessage({defaultMessage:"\u91CD\u7F6E",id:"ws.result.list.columns.state.reset"})})]}),(0,e.jsx)(lt.Z,{checked:!0,disabled:!0,children:l.formatMessage({id:"ws.result.list.id"})},"id"),(0,e.jsx)(lt.Z.Group,{value:J,onChange:ue,children:(0,e.jsx)(U.Z,{direction:"vertical",size:4,children:He.map(function(w){var u=(0,_.Z)(w,1),j=u[0];return(0,e.jsx)(lt.Z,{value:j,disabled:["id"].includes(j),children:l.formatMessage({id:"ws.result.list.".concat(j)})},j)})})})]}),children:(0,e.jsx)(re.Z.Text,{style:{cursor:"pointer"},children:(0,e.jsx)(St,{})})})},ot=function(a){var c=(0,n.YB)(),o=c.formatMessage,v=a.pageQuery,l=a.setPageQuery,Z=a.stateCount,g=a.selectionType,T=a.onSelectionChange,z=a.onFilterChange,E=a.filter,x=(0,n.md)(),H=v.state,b=i.useState(""),B=(0,_.Z)(b,2),X=B[0],k=B[1];i.useEffect(function(){z&&z(E)},[E]);var xe=[{name:o({id:"all"}),key:"all_job",val:void 0},{name:"Pending",key:"pending_job",val:"pending"},{name:"Running",key:"running_job",val:"running"},{name:"Complete",key:"success_job",val:"success"},{name:"Fail",key:"fail_job",val:"fail"}];return(0,e.jsxs)(ae.Z,{justify:"space-between",style:{height:48,padding:"0 20px"},children:[(0,e.jsx)(U.Z,{size:"large",children:xe.map(function(M){return(0,e.jsx)(Je,{active:H===M.val,onClick:function(){return l(function(G){return(0,r.Z)((0,r.Z)({},G),{},{state:M.val})})},children:"".concat(M.name,"(").concat(Z?Z[M.key]:0,")")},M.key)})}),(0,e.jsxs)(U.Z,{size:16,children:[(0,e.jsxs)(U.Z,{children:[(0,e.jsxs)(re.Z.Text,{children:[(0,e.jsx)(n._H,{id:"ws.result.list.selection.function"}),"\uFF1A"]}),(0,e.jsxs)(ht.ZP.Group,{onChange:function(J){var G=J.target;return T(G.value)},value:g,children:[(0,e.jsx)(ht.ZP,{value:1,children:(0,e.jsx)(n._H,{id:"ws.result.list.report.and.analysis"})}),x.WsMemberOperateSelf()&&(0,e.jsx)(ht.ZP,{value:2,children:(0,e.jsx)(n._H,{id:"ws.result.list.batch.delete"})})]})]}),(0,e.jsx)(it,{}),(0,e.jsx)(K.Z.Search,{style:{width:160},allowClear:!0,value:X,onChange:function(J){var G=J.target;return k(G.value)},onPressEnter:function(){return l(function(J){return(0,r.Z)((0,r.Z)({},J),{},{search:X.replaceAll(" ",""),page_num:1})})},onSearch:function(J){return l(function(G){return(0,r.Z)((0,r.Z)({},G),{},{search:J.replaceAll(" ",""),page_num:1})})}}),(0,e.jsx)("div",{onClick:function(){return z(!E)},style:{cursor:"pointer"},children:E?(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(n._H,{id:"ws.result.list.collapse.filter"}),(0,e.jsx)(Ce.Z,{})]}):(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(n._H,{id:"ws.result.list.expand.filter"}),(0,e.jsx)(L.Z,{})]})})]})]})},qe=ot,oe=t(26388),ze=t(2605),ut=t(20632),Re=t(71853),dt=t(70772),Se=t(6701),et=t(81138),Oe=t(96146),te=t(35832),he=t(32326),$e=t(39935),wt=t(43163),Dt=t(72053),Tt=t(78358),Fe=t(80873),ce=t(97207),P=t.n(ce),Ve=t(76742),Ae=t(46721),je=t(94867),mt=t(51937),tt=t(34516),Qe=t(89948),Ne,pt,yt,gt,ct,Ht=ne.ZP.div(Ne||(Ne=(0,le.Z)([`
    border-top: 1px solid rgba(0,0,0, 0.06);
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: 0 -1px 2px 0 rgba(0,0,0,0.03);
    background-color: #fff;
    z-index: 99;
`]))),Bt=ne.ZP.div(pt||(pt=(0,le.Z)([`
    border-top: 2px solid #1890ff;
    padding-left: 20px;
    font-weight: 700;
    color: #000;
    opacity: .85;
    height: 38px;
    line-height: 38px;
    border-bottom: 1px solid rgba(0,0,0,.06);
`]))),$t=ne.ZP.div(yt||(yt=(0,le.Z)([`
    height: 68px;
    line-height: 22px;
    background: #fff;
    width: 100%;
    display: flex;
`]))),Pt=ne.ZP.div.attrs(function(I){return{style:{width:"calc(100% - ".concat((I==null?void 0:I.width)||0,"px)")}}})(gt||(gt=(0,le.Z)([`
    padding: 8px 20px;
    height: 100%;
    overflow-x: scroll;
    overflow-y: hidden;

    &>.ant-row {
        margin-bottom: 8px;
    }
`]))),Nt=ne.ZP.div(ct||(ct=(0,le.Z)([`
    height: 100%;
    width: 212px;
    background: #fff;
    box-shadow: -3px 0 2px 0 rgba(0,0,0,.05);
    padding: 0 10px;
    display: flex;
    align-items: center;
`]))),Ct=function(a,c){return(0,e.jsx)(ae.Z,{wrap:!1,children:a.map(function(o){return(0,e.jsx)(tt.Z,{closable:!0,style:{fontSize:14,backgroundColor:"rgba(0,0,0,.04)"},onClose:function(){return c(function(l){return l.filter(function(Z){return Z!==o})})},children:o},o)})})},Mt=function(a){var c=a.selectedRowKeys,o=a.setSelectedRowKeys,v=a.onOk,l=i.useRef(null),Z=i.useMemo(function(){return c!=null&&c.length?"\uFF08".concat(c.length,"\uFF09"):""},[c]),g=i.useState(!1),T=(0,_.Z)(g,2),z=T[0],E=T[1],x=function(){if(!!l.current){var b=l.current,B=b.offsetWidth,X=b.scrollWidth;E(B<X)}};return i.useEffect(function(){return x(),window.addEventListener("resize",x),function(){window.removeEventListener("resize",x)}},[c]),(0,e.jsxs)(Ht,{children:[(0,e.jsxs)(Bt,{children:["\u5220\u9664\u680F",Z]}),(0,e.jsxs)($t,{children:[(0,e.jsxs)(Pt,{width:212,ref:l,children:[Ct(c.filter(function(H,b){return b%2==0}),o),Ct(c.filter(function(H,b){return b%2==1}),o)]}),(0,e.jsx)(Nt,{children:(0,e.jsxs)(U.Z,{size:18,style:{width:"100%",justifyContent:"end"},children:[z&&(0,e.jsx)(Qe.Z,{style:{cursor:"pointer"},onClick:function(){var b;return(b=l.current)===null||b===void 0?void 0:b.scrollTo({left:l==null?void 0:l.current.scrollWidth})}}),(0,e.jsxs)(U.Z,{align:"center",children:[(0,e.jsx)(je.Z,{onClick:function(){return o([])},children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(Re.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),okText:(0,e.jsx)(n._H,{id:"operation.delete"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),onConfirm:v,placement:"topLeft",children:(0,e.jsx)(je.Z,{children:(0,e.jsx)(n._H,{id:"ws.result.list.batch.delete"})})})]})]})})]})]})},Ke=Mt,V=t(41170),C=t.n(V),A=t(28972),W=t(53770),ye=t(45227),Ge=t(28739),ke=t(74066),un=function(I){var a=(0,n.YB)(),c=a.formatMessage,o=I.selectedChange,v=I.allSelectRowData,l=(0,Y.UO)(),Z=l.ws_id,g=(0,n.md)(),T=(0,i.useRef)(null),z=(0,i.useState)(!1),E=(0,_.Z)(z,2),x=E[0],H=E[1],b=(0,i.useState)([]),B=(0,_.Z)(b,2),X=B[0],k=B[1],xe=(0,i.useState)([]),M=(0,_.Z)(xe,2),J=M[0],G=M[1],Me=(0,i.useState)({}),q=(0,_.Z)(Me,2),ue=q[0],He=q[1],w=(0,i.useRef)(null),u=function(){var S=document.querySelector("#job_group li"),f=document.getElementById("job_group");if(S&&f){var y=S.clientWidth+1,m=f.clientWidth;y>m&&H(!0)}};(0,i.useEffect)(function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}},[]),(0,i.useEffect)(function(){u()},[v]);var j=function(){o()},D=function(S){var f;S!=="test_report/report"&&n.m8.push({pathname:"/ws/".concat(Z,"/").concat(S),state:(f={},(0,oe.Z)(f,"".concat(Z,"-compareData"),JSON.stringify([])),(0,oe.Z)(f,"".concat(Z,"-noGroupJobData"),JSON.stringify(v)),(0,oe.Z)(f,"".concat(Z,"-originType"),"test_result"),f)})},R=function(S){o(S,!1)},$=function(){if(T.current){var S=T.current.getScrollLeft();return S}},de=function(){var S=document.getElementById("job_group"),f=S.clientWidth;if(T.current){var y=$();T.current.scrollLeft(y+f-325)}},Q={width:"100%"};(0,i.useEffect)(function(){var O=[],S=[];v.forEach(function(f,y){y%2==0&&O.push(f),y%2==1&&S.push(f)}),k(O),G(S)},[v]);var me=function(){var O=(0,he.Z)((0,te.Z)().mark(function S(f){var y,m,s,d;return(0,te.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,N.J1)(f);case 2:y=p.sent,m=y.data,s=y.code,d=y.msg,s===200?He(m):(0,$e.EV)(s,d);case 7:case"end":return p.stop()}},S)}));return function(f){return O.apply(this,arguments)}}(),pe=function(){var S,f={func_data:{base_job:[],compare_job:[]},perf_data:{base_job:[],compare_job:[]},group_num:1};P().isArray(v)&&v.forEach(function(y){y.test_type==="\u529F\u80FD\u6D4B\u8BD5"&&f.func_data.base_job.push(y.id),y.test_type==="\u6027\u80FD\u6D4B\u8BD5"&&f.perf_data.base_job.push(y.id),y.test_type==="functional"&&f.func_data.base_job.push({is_job:0,obj_id:y.id,baseline_type:"func"}),y.test_type==="performance"&&f.perf_data.base_job.push({is_job:0,obj_id:y.id,baseline_type:"perf"})}),me(f),(S=w.current)===null||S===void 0||S.show(v)},ge=function(){var O=(0,he.Z)((0,te.Z)().mark(function S(f){var y;return(0,te.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,N.k3)(f);case 2:return y=s.sent,s.abrupt("return",y);case 4:case"end":return s.stop()}},S)}));return function(f){return O.apply(this,arguments)}}(),se=function(){var O=(0,he.Z)((0,te.Z)().mark(function S(f){var y;return(0,te.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,N.gQ)(f);case 2:return y=s.sent,s.abrupt("return",y);case 4:case"end":return s.stop()}},S)}));return function(f){return O.apply(this,arguments)}}(),Le=function(){var S=v.length?v[0].product_version:"Group1",f={id:+new Date,members:v,name:"Group1",product_version:S,type:"job"};return f},rt=function(){var S=[],f=Le(),y=[],m=P().get(f,"members");m=P().isArray(m)?m:[],m=m.filter(function(p){return p});var s=f.type==="baseline";m.forEach(function(p){s||y.push({is_baseline:0,obj_id:p.id}),s&&y.push({is_baseline:1,obj_id:p.id,baseline_type:p.test_type==="functional"?"func":"perf"})});var d={tag:f.product_version,base_objs:y},h={base_group:d,compare_groups:S};return h},be=function(S){var f=ue.func_suite_dic||{},y=ue.perf_suite_dic||{},m=0,s=Object.keys(f)||[],d=Object.keys(y)||[],h=[],p=[];p.push({members:v});var _e={func_suite_dic:(0,Ge.wb)(f,p,m,s,h),perf_suite_dic:(0,Ge.wb)(y,p,m,d,h)},fe=(0,Ge.LN)(_e),at=rt();Promise.all([se(at),ge(fe)]).then(function(Ie){if(P().get(Ie[0],"code")===200&&P().get(Ie[1],"code")===200){n.m8.push({pathname:"/ws/".concat(Z,"/test_create_report"),state:{environmentResult:Ie[0].data,baselineGroupIndex:0,allGroupData:[Le()],testDataParam:P().cloneDeep(_e),domainGroupResult:Ie[1].data,compareResult:Ie[0].data,compareGroupData:at,saveReportData:S}});return}if(Ie[0].code===1358){Oe.default.error(Oe.default.error(c({id:"ws.result.list.please.add.comparison.group"})));return}Ie[1].code!==200&&Oe.default.error(Ie[1].msg)}).catch(function(Ie){Oe.default.error(Oe.default.error(c({id:"request.failed"}))),console.log(Ie)})},Ee=function(){var S=!1;if(P().isArray(v)){var f=P().reduce(v,function(y,m){var s=P().get(m,"product_version"),d=P().get(m,"product_id");return y.push({product_version:s,product_id:d}),y},[]);S=P().uniqWith(f,P().isEqual).length>1}return S};return(0,e.jsxs)("div",{className:C().job_compare,style:{display:v.length?"block":"none"},children:[(0,e.jsxs)("div",{className:C().title,children:[(0,e.jsx)(n._H,{id:"ws.result.list.compare.bar"}),(0,e.jsxs)("span",{children:["\uFF08",v.length,"\uFF09"]}),"  ",(0,e.jsx)(xt.Z,{content:(0,e.jsxs)("div",{children:[(0,e.jsx)(n._H,{id:"ws.result.list.combining.rule"}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"ws.result.list.top.ranked"})})]}),placement:"right",children:(0,e.jsx)(ke.Z,{className:C().question_icon})})]}),(0,e.jsxs)("div",{className:C().job_group,id:"job_group",children:[(0,e.jsx)(A.$B,{style:Q,ref:T,children:(0,e.jsx)("ul",{id:"box",children:(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:C().job_item,children:X.map(function(O){return(0,e.jsx)(Re.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),okText:(0,e.jsx)(n._H,{id:"operation.delete"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),onConfirm:P().partial(R,O),placement:"topLeft",children:(0,e.jsxs)("span",{className:C().job_item_span,children:[(0,e.jsx)("span",{children:O.id}),(0,e.jsx)(W.Z,{className:C().delete})]})},O.id)})}),(0,e.jsx)("div",{className:C().job_item,children:J.map(function(O){return(0,e.jsx)(Re.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),okText:(0,e.jsx)(n._H,{id:"operation.delete"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),onConfirm:P().partial(R,O),placement:"topLeft",children:(0,e.jsxs)("span",{className:C().job_item_span,children:[O.id,(0,e.jsx)(W.Z,{className:C().delete})]})},O.id)})})]})})}),(0,e.jsx)("div",{className:C().operate,children:(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(Qe.Z,{onClick:de,style:{opacity:x?1:0,marginLeft:16,marginRight:8}}),(0,e.jsx)(je.Z,{onClick:j,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(n.Nv,{accessible:g.IsWsSetting(),children:(0,e.jsx)(je.Z,{type:"primary",onClick:P().partial(pe),disabled:Ee(),children:(0,e.jsx)(n._H,{id:"ws.result.list.create.report"})})}),(0,e.jsx)(je.Z,{type:"primary",onClick:P().partial(D,"test_analysis/compare"),children:(0,e.jsx)(n._H,{id:"ws.result.list.compare.analysis"})})]})}),(0,e.jsx)(ye.Z,{ref:w,onOk:be,allGroup:[Le()]})]})]})},dn=t(24637),cn=t(20038),fn=t(92199),vn=t.n(fn),hn=t(79390),Rt=t(6130),Ut,Vt,mn=ne.ZP.div(Ut||(Ut=(0,le.Z)([`
    background: #1890FF;
    color: #fff;
    padding: 0px 4px;
    height: 20px;
    margin-right: 6px;
    font-size: 12px;
    display: inline-block;
    line-height: 20px;
    text-align: center;
    border-radius: 2px;
`]))),pn=ne.ZP.div(Vt||(Vt=(0,le.Z)([`
    border-top: 1px solid rgba(0,0,0, 0.06);
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: 0 -1px 2px 0 rgba(0,0,0,0.03);
    background-color: #fff;
    z-index: 99;
`]))),gn={page_num:1,page_size:20},_n=function(a){var c=ie(),o=c.initialColumns,v=(0,n.YB)(),l=v.formatMessage,Z=(0,n.Kd)()==="en-US",g=a.pageQuery,T=a.setPageQuery,z=a.radioValue,E=z===void 0?1:z,x=a.setRadioValue,H=a.countRefresh,b=a.dataSource,B=a.setDataSource,X=a.listRefresh,k=a.loading,xe=(0,Y.UO)(),M=xe.ws_id,J=(0,n.md)(),G=i.useState([]),Me=(0,_.Z)(G,2),q=Me[0],ue=Me[1],He=i.useState([]),w=(0,_.Z)(He,2),u=w[0],j=w[1],D=i.useRef(null),R=i.useState({}),$=(0,_.Z)(R,2),de=$[0],Q=$[1];i.useEffect(function(){Q({})},[g]),i.useEffect(function(){return function(){j([]),ue([]),x(1)}},[g.tab]),i.useEffect(function(){return function(){T(function(m){return(0,r.Z)((0,r.Z)((0,r.Z)({},m),gn),{},{ws_id:M})}),Q({})}},[T,M]);var me=function(){var m=(0,he.Z)((0,te.Z)().mark(function s(d){var h,p,_e,fe,at;return(0,te.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(h=d.collection,p=d.id,h){we.next=7;break}return we.next=4,(0,N.dN)({job_id:p});case 4:we.t0=we.sent,we.next=10;break;case 7:return we.next=9,(0,N.pi)({job_id:p});case 9:we.t0=we.sent;case 10:if(_e=we.t0,fe=_e.msg,at=_e.code,at===200){we.next=15;break}return we.abrupt("return",(0,$e.EV)(at,fe));case 15:B(function(Ye){return(0,r.Z)((0,r.Z)({},Ye),{},{data:Ye.data.map(function(ft){return p!==ft.id?ft:(0,r.Z)((0,r.Z)({},ft),{},{collection:!h})})})}),H();case 17:case"end":return we.stop()}},s)}));return function(d){return m.apply(this,arguments)}}(),pe=function(){var m=(0,he.Z)((0,te.Z)().mark(function s(d){var h,p,_e,fe,at,Ie;return(0,te.Z)().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return h=d.id,Ye.next=3,(0,N.yi)({job_id:h});case 3:if(p=Ye.sent,_e=p.code,fe=p.msg,_e===200){Ye.next=8;break}return Ye.abrupt("return",(0,$e.EV)(_e,fe));case 8:at=q.filter(function(ft){return Number(ft)!==Number(h)}),Ie=u.filter(function(ft){return ft&&Number(ft.id)!==Number(h)}),ue(at),j(Ie),Oe.default.success(l({id:"operation.success"})),X(),H();case 15:case"end":return Ye.stop()}},s)}));return function(d){return m.apply(this,arguments)}}(),ge=[J.IsWsSetting()&&{title:"",key:"collection",width:30,align:"center",fixed:"left",className:"collection_star result_job_hover_span",render:function(s){return(0,e.jsx)("div",{onClick:function(){return me(s)},children:s.collection?(0,e.jsx)(wt.Z,{className:"is_collection_star",style:{color:"#F7B500"}}):(0,e.jsx)(Dt.Z,{className:"no_collection_star"})})}},{title:"Job ID",key:"id",fixed:"left",width:80,ellipsis:{showTitle:!1},className:"result_job_hover_span",render:function(s,d){return(0,e.jsx)("span",{onClick:function(){return(0,$e.N1)("/ws/".concat(M,"/test_result/").concat(d.id))},children:d.id})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.name"}),dataIndex:"name",width:200,ellipsis:{showTitle:!1},className:"result_job_hover_span",render:function(s,d){return(0,e.jsxs)(Rt.K,{ellipsis:{tooltip:(0,e.jsx)("span",{children:s||"-"})},children:[d.created_from==="offline"&&(0,e.jsx)(mn,{children:(0,e.jsx)(n._H,{id:"ws.result.list.offline"})}),(0,e.jsx)(re.Z.Link,{className:"result_job_hover_span",target:"_blank",href:"/ws/".concat(M,"/test_result/").concat(d.id),children:s})]})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.state"}),dataIndex:"state",width:120,render:function(s,d){return(0,e.jsx)(Tt.JQ,(0,r.Z)({},d))}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.test_type"}),width:Z?140:80,dataIndex:"test_type",ellipsis:{showTitle:!1},render:function(s){var d=(0,$e.SE)(s);return(0,e.jsx)(n._H,{id:"".concat(d,".test"),defaultMessage:s})}},{title:(0,e.jsx)(Fe.f,{placement:"bottomLeft",title:(0,e.jsx)(n._H,{id:"ws.result.list.test_type.Tootip"}),desc:(0,e.jsxs)("ul",{style:{paddingInlineStart:"inherit",paddingTop:4,marginBottom:4,paddingLeft:0},children:[(0,e.jsx)("li",{children:(0,e.jsx)(n._H,{id:"ws.result.list.test_type.desc1"})}),(0,e.jsx)("li",{children:(0,e.jsx)(n._H,{id:"ws.result.list.test_type.desc2"})})]})}),dataIndex:"test_result",width:140,render:function(s){var d=JSON.parse(s);return P().isNull(d)?(0,e.jsxs)(ae.Z,{children:[(0,e.jsx)(Se.Z,{span:8,style:{color:"#1890FF"},children:"-"}),(0,e.jsx)(Se.Z,{span:8,style:{color:"#52C41A"},children:"-"}),(0,e.jsx)(Se.Z,{span:8,style:{color:"#FF4D4F"},children:"-"})]}):(0,e.jsxs)(ae.Z,{children:[(0,e.jsx)(Se.Z,{span:8,style:{color:"#1890FF"},children:d.total}),(0,e.jsx)(Se.Z,{span:8,style:{color:"#52C41A"},children:d.pass}),(0,e.jsx)(Se.Z,{span:8,style:{color:"#FF4D4F"},children:d.fail})]})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.project_id"}),width:120,dataIndex:"project_name",ellipsis:{showTitle:!1},render:function(s){return(0,e.jsx)(Rt.K,{ellipsis:{tooltip:!0},children:s||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.product_version"}),width:120,dataIndex:"product_version",ellipsis:{showTitle:!1},render:function(s){return(0,e.jsx)(Rt.K,{ellipsis:{tooltip:!0},children:s||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.creators"}),width:80,ellipsis:{showTitle:!1},dataIndex:"creator_name",render:function(s){return(0,e.jsx)(Rt.K,{ellipsis:{tooltip:!0},children:s||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.start_time"}),width:180,dataIndex:"start_time",ellipsis:{showTitle:!1},sorter:!0,sortOrder:de==null?void 0:de.start_time,render:function(s){return(0,e.jsx)(Rt.K,{ellipsis:{tooltip:!0},children:s||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.completion_time"}),width:180,ellipsis:{showTitle:!1},dataIndex:"end_time",render:function(s){return(0,e.jsx)(Rt.K,{ellipsis:{tooltip:!0},children:s||"-"})}},{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:170,ellipsis:{showTitle:!1},key:"operation",fixed:"right",render:function(s){var d={color:"#ccc",cursor:"no-drop"},h={color:"#1890FF",cursor:"pointer"};return(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(n.Nv,{accessible:J.IsWsSetting(),children:(0,e.jsx)("span",{onClick:s.created_from==="offline"?void 0:function(){var p;return(p=D.current)===null||p===void 0?void 0:p.show(s)},children:(0,e.jsx)(re.Z.Text,{style:s.created_from==="offline"?d:h,children:(0,e.jsx)(n._H,{id:"operation.rerun"})})})}),(0,e.jsx)(n.Nv,{accessible:J.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:J.WsMemberOperateSelf(s.creator),fallback:(0,e.jsx)("span",{onClick:function(){return(0,$e.WR)()},children:(0,e.jsx)(re.Z.Text,{style:h,children:(0,e.jsx)(n._H,{id:"operation.delete"})})}),children:(0,e.jsx)(Re.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),onConfirm:function(){return pe(s)},okText:(0,e.jsx)(n._H,{id:"operation.ok"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:(0,e.jsx)(re.Z.Text,{style:h,children:(0,e.jsx)(n._H,{id:"operation.delete"})})})})}),(0,e.jsx)(cn.Z,{dreType:"left",ws_id:M,jobInfo:s,origin:"jobList"})]})}}],se=i.useCallback(function(){ue([]),j([]),x(1)},[]),Le=function(s,d){if(!s){se();return}var h=P().cloneDeep(q),p=P().cloneDeep(u);d?(h=[].concat((0,ze.Z)(h),[s.id]),p=[].concat((0,ze.Z)(p),[s])):(h=h.filter(function(_e){return Number(_e)!==Number(s.id)}),p=p.filter(function(_e){return _e&&Number(_e.id)!==Number(s.id)})),ue(h),j(p)},rt=function(s){var d=P().isArray(s)?s:[],h=[];d.forEach(function(p){return h.push(p.id)}),ue([].concat((0,ze.Z)(q),h)),j([].concat((0,ze.Z)(u),(0,ze.Z)(d)))},be=function(s){var d=P().isArray(s)?s:[],h=[];d.forEach(function(p){return h.push(p.id)}),ue(P().difference(q,h)),j(P().differenceBy(u,d,"id"))},Ee={selectedRowKeys:q,onSelect:Le,preserveSelectedRowKeys:!1,hideSelectAll:E===1,onSelectAll:function(s,d,h){s?rt(h):be(h)}},O=function(){var m=(0,he.Z)((0,te.Z)().mark(function s(){var d,h,p;return(0,te.Z)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(q.length){fe.next=2;break}return fe.abrupt("return");case 2:return fe.next=4,(0,N.yi)({job_id_li:q});case 4:if(d=fe.sent,h=d.code,p=d.msg,h===200){fe.next=10;break}return(0,$e.EV)(h,p),fe.abrupt("return");case 10:se(),Oe.default.success(l({id:"operation.success"})),H(),X();case 14:case"end":return fe.stop()}},s)}));return function(){return m.apply(this,arguments)}}(),S={padding:"0 16px"};q.length&&(S={padding:"0 16px 106px"});var f=function(s){switch(s.order){case"descend":B(function(d){return(0,r.Z)((0,r.Z)({},d),{},{data:d==null?void 0:d.data.sort(function(h,p){return h.start_time<p.start_time?1:-1})})});break;case"ascend":B(function(d){return(0,r.Z)((0,r.Z)({},d),{},{data:d==null?void 0:d.data.sort(function(h,p){return h.start_time>p.start_time?1:-1})})});break;default:break}},y=ge.filter(function(m){var s=m.dataIndex,d=m.key;if(d)return m;if(o[s]){var h;if(!((h=o[s])!==null&&h!==void 0&&h.disabled))return m}});return(0,e.jsxs)(ae.Z,{style:S,children:[(0,e.jsx)(hn.sL,{rowKey:"id",columns:y,refreshDeps:[J,M,Z,de,o,b],name:"test-job-list",loading:k,dataSource:b==null?void 0:b.data,pagination:!1,rowClassName:vn().result_table_row,rowSelection:Ee,onChange:function(s,d,h){var p=h.field,_e=h.order;Q(function(fe){return(0,r.Z)((0,r.Z)({},fe),{},(0,oe.Z)({},p,_e))}),f(h)}}),!k&&(0,e.jsx)(Ve.Z,{total:b==null?void 0:b.total,largePage:!0,currentPage:g==null?void 0:g.page_num,pageSize:g==null?void 0:g.page_size,onPageChange:function(s,d){return T(function(h){return(0,r.Z)((0,r.Z)({},h),{},{page_num:s,page_size:d})})}}),E===2&&!!q.length&&(0,e.jsx)(Ke,{selectedRowKeys:q,setSelectedRowKeys:ue,onOk:O}),E===1&&!!q.length&&(0,e.jsx)(pn,{children:(0,e.jsx)(un,{radioType:E,selectedChange:Le,allSelectedRowKeys:q,allSelectRowData:u})}),(0,e.jsx)(dn.Z,{ref:D})]})},jn=_n,Xn=t(8281),kt=t(58591),_t=t(488),qn=t(40118),xn=t(29966),er=t(69230),nt=t(33821),bn=t(28645),Zn=t(76613),Sn=t(99648),yn=["render"],Cn=function(a,c){var o=a.onChange,v=a.columns,l=v===void 0?[]:v,Z=a.defaultValue,g=Z===void 0?[]:Z,T=a.title,z=i.useState(g),E=(0,_.Z)(z,2),x=E[0],H=E[1];i.useEffect(function(){H(g)},[g]),i.useImperativeHandle(c,function(){return{reset:function(u){H(u)}}});var b=i.useRef(null),B=i.useMemo(function(){return x.map(function(w){return w.name})},[x]),X=i.useMemo(function(){return l.map(function(w){var u=w.label,j=w.name;return{label:u,value:j,disabled:B.includes(j)}})},[l,B]),k=function(u){H(u),o==null||o(u.reduce(function(j,D){var R=Object.values(D),$=(0,_.Z)(R,2),de=$[0],Q=$[1];return j[de]=Q,j},{}))},xe=function(u,j){var D=Object.prototype.toString.call(u)==="[object Object]"&&u.target?u.target.value:u;k(x.map(function(R,$){return j===$?(0,r.Z)((0,r.Z)({},R),{},{value:D}):R}))},M=function(u,j){k(x.map(function(D,R){return j===R?{name:u,value:void 0}:D}))},J=function(u){k(x.filter(function(j,D){return u!==D}))},G=function(){var u=X.filter(function(R){var $=R.disabled;return!$}),j=u[0],D=j.value;H(function(R){return R.concat({name:D,value:void 0})})},Me=function(u,j){var D=l.findIndex(function(me){return me.name===u.name}),R=l[D],$=R.render,de=(0,_t.Z)(R,yn),Q=(0,r.Z)((0,r.Z)({},de),{},{value:u.value,allowClear:!0,style:{width:"100%"},onChange:function(pe){return xe(pe,j)}});return $?i.cloneElement($,Q):(0,e.jsx)(K.Z,(0,r.Z)((0,r.Z)({},Q),{},{autoComplete:"off",spellCheck:!1}))},q=(0,Sn.Z)(b),ue=q!=null&&q.width?q.width:0,He=ue-120-70-80;return(0,e.jsxs)("div",{ref:b,style:{whiteSpace:"nowrap"},children:[(0,e.jsx)(re.Z.Text,{style:{marginRight:8,width:70},children:T}),(0,e.jsx)(U.Z,{direction:"vertical",children:x.map(function(w,u){var j=w.name;return(0,e.jsxs)(U.Z,{align:"start",children:[(0,e.jsx)(nt.Z,{style:{width:120},value:j,options:X,onChange:function(R){return M(R,u)},dropdownMatchSelectWidth:!1}),(0,e.jsx)("div",{style:{width:He},children:Me(w,u)}),(0,e.jsxs)(U.Z,{align:"center",style:{paddingTop:5},children:[u===x.length-1&&x.length!==l.length&&(0,e.jsx)("span",{onClick:G,children:(0,e.jsx)(re.Z.Link,{children:(0,e.jsx)(bn.Z,{})})}),x.length>1&&(0,e.jsx)(Zn.Z,{style:{color:"#E02020",cursor:"pointer"},onClick:function(){return J(u)}})]})]},j)})})]})},Jt=i.forwardRef(Cn),tr=t(64510),Qt=t(87445),nr=t(67448),Rn=t(47548),On=["api","dataSet","searchKey"],En=["placeholder","value"],wn=["placeholder","value"],Dn=["onChange","value"],Gt,Tn=(0,ne.ZP)(nt.Z)(Gt||(Gt=(0,le.Z)([`
    /* .ant-select-selector { padding-left: 4px!important; }; */
`]))),Pn=function(a){var c,o,v=a.label,l=a.value;return(0,e.jsx)(tt.Z,{color:(c=v.props)===null||c===void 0?void 0:c.color,closable:!1,style:{marginRight:3},children:((o=v.props)===null||o===void 0?void 0:o.children)||l})},Mn=function(a){var c,o,v=a.label,l=a.closable,Z=a.onClose,g=a.value;return(0,e.jsx)(tt.Z,{color:(c=v.props)===null||c===void 0?void 0:c.color,closable:l,onClose:Z,style:{marginRight:3},children:((o=v.props)===null||o===void 0?void 0:o.children)||g})},Lt=function(a){var c=(0,Y.UO)(),o=c.ws_id,v=a.api,l=a.dataSet,Z=a.searchKey,g=(0,_t.Z)(a,On);if(!v)return(0,e.jsx)(nt.Z,(0,r.Z)({},g));var T=(0,n.QT)(function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ws_id:o,page_num:1,page_size:500};return v(M)},{debounceInterval:300}),z=T.data,E=T.loading,x=T.run,H=g.placeholder,b=g.value,B=(0,_t.Z)(g,En);if(!z)return(0,e.jsx)(nt.Z,(0,r.Z)({loading:E,placeholder:H},B));var X=function(J){var G;!Z||x((G={},(0,oe.Z)(G,Z,J),(0,oe.Z)(G,"ws_id",o),G))},k=(0,r.Z)((0,r.Z)({},g),{},{notFoundContent:E?(0,e.jsx)(Rn.Z,{size:"small"}):(0,e.jsx)(Qt.Z,{image:Qt.Z.PRESENTED_IMAGE_SIMPLE}),options:l?z.map(l):z});Z&&(k=(0,r.Z)((0,r.Z)({},k),{},{onSearch:X,filterOption:!1}));var xe=function(J){J||x({ws_id:o})};return(0,e.jsx)(nt.Z,(0,r.Z)((0,r.Z)({},k),{},{onDropdownVisibleChange:xe}))},Ln=[{value:"success",label:"Complete",bgColor:"#81BF84"},{value:"pass",label:"Pass",bgColor:"#81BF84"},{value:"running",label:"Running",bgColor:"#649FF6"},{value:"fail",label:"Fail",bgColor:"#C84C5A"},{value:"pending",label:"Pending",bgColor:"#D9D9D9",color:"#1d1d1d"},{value:"stop",label:"Stop",bgColor:"#D9D9D9",color:"#1d1d1d"},{value:"skip",label:"Skip",bgColor:"#D9D9D9",color:"#1d1d1d"}],In=function(a){return(0,e.jsx)(nt.Z,(0,r.Z)((0,r.Z)({},a),{},{tagRender:Pn,options:Ln.map(function(c){return{value:c.value,label:(0,e.jsx)(tt.Z,{color:c.bgColor,style:{color:c.color?c.color:""},children:c.label}),name:c.label}})}))},zn=function(a){var c=(0,Y.UO)(),o=c.ws_id,v=(0,n.QT)(function(){return(0,N.nL)({ws_id:o})},{debounceInterval:300}),l=v.data,Z=v.loading,g=a.placeholder,T=a.value,z=(0,_t.Z)(a,wn);return l?(0,e.jsx)(Tn,(0,r.Z)((0,r.Z)({},a),{},{tagRender:Mn,labelInValue:!0,filterOption:function(x,H){var b;return((b=H==null?void 0:H.name)!==null&&b!==void 0?b:"").toLowerCase().includes(x.toLowerCase())},mode:"multiple",options:l.map(function(E){return{value:E.id,label:(0,e.jsx)(tt.Z,{color:E.tag_color,style:{color:E.color?E.color:""},children:E.name}),name:E.name}})})):(0,e.jsx)(nt.Z,(0,r.Z)({loading:Z,placeholder:g},z))},Fn=function(a){var c=a.onChange,o=a.value,v=(0,_t.Z)(a,Dn),l=(0,Y.UO)(),Z=l.ws_id,g=(0,n.QT)(function(){return(0,n.WY)("/api/server/server_snapshot/",{params:{ws_id:Z}})}),T=g.data,z=g.loading;if(!T)return(0,e.jsx)(nt.Z,(0,r.Z)({mode:"multiple",loading:z},v));var E=T.map(function(x){return{label:x,value:x}}).filter(Boolean);return(0,e.jsx)(nt.Z,(0,r.Z)((0,r.Z)({},a),{},{mode:"multiple",onSelect:c,options:E,filterOption:function(H,b){var B;return((B=b.value)===null||B===void 0?void 0:B.indexOf(H.trim()))>=0}}))},Yt=[{name:"job_id",label:(0,e.jsx)(n._H,{id:"ws.result.list.job_id"}),placeholder:"\u8BF7\u8F93\u5165JobID"},{name:"name",label:(0,e.jsx)(n._H,{id:"ws.result.list.name"}),placeholder:"\u8BF7\u8F93\u5165Job\u540D\u79F0"},{label:(0,e.jsx)(n._H,{id:"ws.result.list.fail_case"}),name:"fail_case",placeholder:"\u8BF7\u8F93\u5165\u591A\u4E2A\u5931\u8D25case,\u591A\u4E2A\u4EE5\u82F1\u6587\u9017\u53F7\u5206\u9694"},{label:(0,e.jsx)(n._H,{id:"ws.result.list.creators"}),name:"creators",placeholder:"\u8BF7\u9009\u62E9\u521B\u5EFA\u4EBA",searchKey:"keyword",render:(0,e.jsx)(Lt,{api:N.iD,mode:"multiple",labelInValue:!0}),dataSet:function(a){return{value:a.id,label:a.last_name}}},{label:(0,e.jsx)(n._H,{id:"ws.result.list.tags"}),name:"tags",placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E",render:(0,e.jsx)(zn,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.state"}),name:"state",placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",render:(0,e.jsx)(In,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.server"}),name:"server",placeholder:"\u8BF7\u9009\u62E9\u6D4B\u8BD5\u673A",render:(0,e.jsx)(Fn,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.test_suite"}),name:"test_suite",placeholder:"\u8BF7\u9009\u62E9TestSuite",render:(0,e.jsx)(Lt,{api:N.U8,searchKey:"name",mode:"multiple",labelInValue:!0}),dataSet:function(a){return(0,r.Z)((0,r.Z)({},a),{},{value:a.id,label:a.name})}},{label:(0,e.jsx)(n._H,{id:"ws.result.list.job_type_id"}),name:"job_type_id",placeholder:"\u8BF7\u9009\u62E9Job\u7C7B\u578B",render:(0,e.jsx)(Lt,{api:N.Zj,labelInValue:!0}),dataSet:function(a){return{label:a.name,value:a.id}}},{label:(0,e.jsx)(n._H,{id:"ws.result.list.test_type"}),name:"test_type",placeholder:"\u8BF7\u9009\u62E9\u6D4B\u8BD5\u7C7B\u578B",render:(0,e.jsx)(Lt,{options:[{value:"functional",label:(0,e.jsx)(n._H,{id:"functional.test"})},{value:"performance",label:(0,e.jsx)(n._H,{id:"performance.test"})},{value:"business",label:(0,e.jsx)(n._H,{id:"business.test"})}]})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.project_id"}),name:"project_id",placeholder:"\u8BF7\u9009\u62E9\u6240\u5C5E\u9879\u76EE",render:(0,e.jsx)(Lt,{api:N.LZ}),dataSet:function(a){return{value:a.id,label:"".concat(a.name,"(").concat(a.product_name,")")}}}],An=t(25399),jt=t.n(An),Hn=t(52493),Bn=t(20905),Kt=function(a){var c=Object.entries(a).reduce(function(o,v){var l=(0,_.Z)(v,2),Z=l[0],g=l[1];if(["creation_time","completion_time"].includes(Z))return g&&(o[Z]=JSON.stringify(g)),o;var T=Object.prototype.toString.call(g);return["[object Undefined]","[object Null]"].includes(T)?o:T==="[object Array]"?(o[Z]=JSON.stringify(g.map(function(z){return z.value?z.value:z})),o):T==="[object Object]"?(o[Z]=g.value,o):(o[Z]=g,o)},{});return c},$n=t(526),Nn=["ws_id","page_size","page_num","tab","search"],Kn=["completion_time","creation_time"],Xt=function(a){return(0,e.jsx)(xn.Z.RangePicker,(0,r.Z)((0,r.Z)({},a),{},{size:"middle",showTime:{format:"HH:mm:ss"},disabledDate:function(o){return jt()().isBefore(o,"days")},format:"YYYY-MM-DD HH:mm:ss"}))},qt="YYYY-MM-DD HH:mm:ss",Wn=["",jt()(jt()().hours(23).minutes(59).seconds(59),"YYYY-MM-DD HH:mm:ss")],en=[{name:"creation_time",value:Wn}],tn=[{name:"job_id",value:""}],nn=function(a){if(!!a)try{var c=JSON.parse(a);if(!c)return;var o=c.start_time,v=c.end_time;return[jt()(o),jt()(v)]}catch(l){console.log(l);return}},Un=function(a){var c=(0,n.YB)(),o=c.formatMessage,v=a.onChange,l=a.pageQuery,Z=i.useState(void 0),g=(0,_.Z)(Z,2),T=g[0],z=g[1],E=i.useState({}),x=(0,_.Z)(E,2),H=x[0],b=x[1],B=i.useState({}),X=(0,_.Z)(B,2),k=X[0],xe=X[1],M=function(R){var $=Object.entries(R).reduce(function(Q,me){var pe=(0,_.Z)(me,2),ge=pe[0],se=pe[1];return["creators","tags","test_suite","server"].includes(ge)&&se&&se.length===0?(Q[ge]=void 0,Q):["job_id","name","fail_case"].includes(ge)&&se&&se.length>0?(Q[ge]=se.trim(),Q):(Q[ge]=se,Q)},{}),de=Kt($);b(de)},J=function(R){var $=Object.entries(R).reduce(function(Q,me){var pe=(0,_.Z)(me,2),ge=pe[0],se=pe[1];if(!se)return Q;var Le=(0,_.Z)(se,2),rt=Le[0],be=Le[1];return Q[ge]={start_time:jt()(rt).format(qt),end_time:jt()(be).format(qt)},Q},{}),de=Kt($);xe(de)},G=i.useRef(null),Me=i.useRef(null),q=function(){var R,$;(R=G.current)===null||R===void 0||R.reset(en),($=Me.current)===null||$===void 0||$.reset(tn),b({}),xe({});var de=l.search,Q=l.tab,me=l.ws_id,pe=l.page_num,ge=l.page_size,se={search:de,tab:Q,ws_id:me,page_num:pe,page_size:ge};z(se),v==null||v(se)},ue=(0,$n.oM)(o({id:"ws.result.details.copied"})),He=function(){var R=Kt(l),$=location.origin+location.pathname+"?"+(0,Bn.stringify)(R);ue($)};(0,i.useEffect)(function(){var D=l.search,R=l.page_size;z((0,r.Z)((0,r.Z)((0,r.Z)({},H),k),{},{search:D,page_num:1,page_size:R}))},[H,l,k]);var w=i.useMemo(function(){var D=l.ws_id,R=l.page_size,$=l.page_num,de=l.tab,Q=l.search,me=(0,_t.Z)(l,Nn),pe=me.completion_time,ge=me.creation_time,se=(0,_t.Z)(me,Kn),Le=function(O){var S=Object.keys(O).filter(function(f){return!!O[f]}).map(function(f){return O[f]?["project_id","job_type_id"].includes(f)?{name:f,value:+O[f]}:["creators","test_suite","tags"].includes(f)?{name:f,value:JSON.parse(O[f]).map(function(y){return+y})}:{name:f,value:O[f]}:{name:f,value:void 0}});return S},rt=Le({completion_time:nn(pe),creation_time:nn(ge)}),be=Le(se);return b(se),xe({completion_time:pe,creation_time:ge}),{r:rt,l:be}},[l]),u=w.r,j=w.l;return(0,e.jsxs)("div",{style:{padding:"0 16px"},children:[(0,e.jsx)(kt.Z,{style:{margin:"0 0 16px"}}),(0,e.jsxs)(ae.Z,{gutter:12,children:[(0,e.jsx)(Se.Z,{span:12,children:(0,e.jsx)(Jt,{ref:Me,title:o({id:"ws.result.list.select.condition"}),columns:Yt.map(function(D){return(0,r.Z)((0,r.Z)({},D),{},{placeholder:o({id:"ws.result.list.please.placeholder.".concat(D.name)})})}),defaultValue:j.length?j:tn,onChange:M})}),(0,e.jsx)(Se.Z,{span:12,children:(0,e.jsx)(Jt,{ref:G,title:o({id:"ws.result.list.select.time"}),columns:[{label:(0,e.jsx)(n._H,{id:"ws.result.list.start_time"}),name:"creation_time",render:(0,e.jsx)(Xt,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.completion_time"}),name:"completion_time",render:(0,e.jsx)(Xt,{})}],defaultValue:u.length?u:en,onChange:J})})]}),(0,e.jsx)(kt.Z,{style:{margin:"16px 0 0"},dashed:!0}),(0,e.jsx)(ae.Z,{style:{marginTop:12,marginBottom:12},children:(0,e.jsx)(Se.Z,{span:12,children:(0,e.jsxs)(U.Z,{style:{paddingLeft:65},children:[(0,e.jsx)(je.Z,{type:"primary",onClick:function(){return v&&v(T)},children:(0,e.jsx)(n._H,{id:"operation.filter"})}),(0,e.jsx)(je.Z,{onClick:q,children:(0,e.jsx)(n._H,{id:"operation.reset"})}),(0,e.jsx)(re.Z.Link,{onClick:He,children:(0,e.jsxs)(U.Z,{size:4,children:[(0,e.jsx)(Hn.r,{}),(0,e.jsx)(re.Z.Text,{children:(0,e.jsx)(n._H,{id:"operation.share"})})]})})]})})})]})},Vn=Un,rn=t(33074),an,sn,ln,kn=`
    color: #1890FF;
    background-color: #E6F7FF;
`,on=ne.ZP.span(an||(an=(0,le.Z)([`
    height: 20px;
    display: inline-block;
    border-radius: 12px;
    font-size: 12px;
    text-align: center;
    line-height: 20px;
    padding: 0 7px;
    margin-top: 2px;
    font-weight: 500;

    `,`
`])),function(I){var a=I.currentActive;return a?kn:"background-color: rgba(0,0,0,.04);"}),Jn=(0,ne.ZP)(U.Z)(sn||(sn=(0,le.Z)([`
    font-size: 16px;
    font-weight: 500;
    background-color: #fafbfc;
    &:hover{
        color: #1890FF;
        `,` {
            background: #E6F7FF;
        }
    }
`])),on),Qn=(0,ne.ZP)(Ze.Z)(ln||(ln=(0,le.Z)([`
    width: 100%;
    overflow: hidden;

    .ant-tabs-nav, 
    div > .ant-tabs-nav {
        margin: 0!important;
    }

    .ant-tabs-nav-wrap {
        background-color: #fafbfc;
        height: 64px;
        border-bottom: 1px solid #f0f0f0;
    }
`]))),Ft={page_num:1,page_size:20},At={name:{order:1,disabled:!1},state:{order:2,disabled:!1},test_type:{order:3,disabled:!1},test_result:{order:4,disabled:!1},project_name:{order:5,disabled:!1},product_version:{order:6,disabled:!0},creator_name:{order:7,disabled:!1},start_time:{order:8,disabled:!1},end_time:{order:9,disabled:!1}},Wt="test-job-list-columns-state",Gn=function(){var a,c=(0,n.YB)(),o=c.formatMessage,v=(0,Y.UO)(),l=v.ws_id,Z=(0,Y.TH)(),g=Z.query,T=(0,n.md)(),z=i.useState((a=g.tab)!==null&&a!==void 0?a:"all"),E=(0,_.Z)(z,2),x=E[0],H=E[1],b=i.useState((0,r.Z)((0,r.Z)({},Ft),{},{tab:x,ws_id:l},g)),B=(0,_.Z)(b,2),X=B[0],k=B[1],xe=i.useState(1),M=(0,_.Z)(xe,2),J=M[0],G=M[1],Me=i.useState({}),q=(0,_.Z)(Me,2),ue=q[0],He=q[1],w=i.useState(JSON.stringify(g)!=="{}"),u=(0,_.Z)(w,2),j=u[0],D=u[1],R=(0,rn.ZP)(function(){return(0,N.ZD)({query_count:1,tab:x,ws_id:l})},{debounceInterval:300,ready:!!l,refreshDeps:[x,l]}),$=R.data,de=R.refresh,Q=(0,rn.ZP)(function(){return(0,N.ZD)(X)},{debounceInterval:300,ready:!!l,refreshDeps:[X]}),me=Q.data,pe=Q.loading,ge=Q.refresh,se=Q.mutate;i.useEffect(function(){var be=localStorage.getItem(Wt);if(!be)localStorage.setItem(Wt,JSON.stringify(At)),He(At);else{var Ee=JSON.parse(be);He(Ee.product_version?Ee:(0,r.Z)((0,r.Z)({},Ee),{},{product_version:At.product_version}))}},[]),i.useEffect(function(){JSON.stringify(ue)!=="{}"&&localStorage.setItem(Wt,JSON.stringify(ue))},[ue]),i.useEffect(function(){l!==X.ws_id&&k((0,r.Z)((0,r.Z)({},Ft),{},{tab:"all",ws_id:l}))},[X.ws_id,l]);var Le=[{tab:o({id:"ws.result.list.all.job"}),key:"all"},T.IsWsSetting()&&{tab:o({id:"ws.result.list.my.job"}),key:"my"},T.IsWsSetting()&&{tab:o({id:"ws.result.list.collection"}),key:"collection"}].filter(Boolean),rt=function(Ee){H(Ee),k((0,r.Z)((0,r.Z)({tab:Ee},Ft),{},{ws_id:l})),D(!1)};return(0,e.jsx)(ve.Provider,{value:{initialColumns:ue,setInitialColumns:He,DEFAULT_COLUMNS_SET_DATA:At},children:(0,e.jsxs)(i.Fragment,{children:[(0,e.jsx)(Qn,{onTabClick:rt,activeKey:x,children:Le.map(function(be){return(0,e.jsxs)(Ze.Z.TabPane,{tab:(0,e.jsxs)(Jn,{size:4,children:[(0,e.jsx)("span",{children:be.tab}),(0,e.jsx)(on,{currentActive:x===be.key,children:$?$["".concat(be.key==="all"?"ws":be.key,"_job")]:0})]}),children:[(0,e.jsx)(qe,{stateCount:$,pageQuery:X,setPageQuery:k,selectionType:J,onSelectionChange:G,filter:j,onFilterChange:D}),j&&(0,e.jsx)(Vn,{columns:Yt.map(function(Ee){return(0,r.Z)((0,r.Z)({},Ee),{},{placeholder:o({id:"ws.result.list.please.placeholder.".concat(Ee.name)})})}),pageQuery:X,onChange:function(O){return k((0,r.Z)((0,r.Z)({tab:x,ws_id:l},O),Ft))}})]},be.key)})}),(0,e.jsx)(jn,{pageQuery:X,setPageQuery:k,radioValue:J,setRadioValue:G,loading:pe,dataSource:me,countRefresh:de,listRefresh:ge,setDataSource:se})]})})},Yn=Gn},79390:function(vt,Be,t){"use strict";t.d(Be,{sL:function(){return St},ny:function(){return F},Fu:function(){return Xe}});var r=t(20418),_=t(39190),We=t(488),Ze=t(26388),st=t(11407),U=t(41604),le=t(2605),i=t(74127),ne=t(41428),n=t(22374),Y=t(48434),N=t(97939),ee=t(99648),K=t(52454),Ue=["width","onResizeStart","onResize","onResizeStop","resize"],ht=["columns","name","onColumnsChange"],Ot,xt,bt,ae=N.ZP.div(Ot||(Ot=(0,ne.Z)([`
    position: relative;
    width: 100%;
`]))),It=N.ZP.div.attrs(function(Ce){return{style:{left:Ce.left,height:Ce==null?void 0:Ce.height}}})(xt||(xt=(0,ne.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),lt=(0,N.ZP)(Y.Resizable)(bt||(bt=(0,ne.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(Ce){var L=Ce.resize;return L?"col-resize":"default"}),zt=function(L){var ve=L.width,ie=L.onResizeStart,e=L.onResize,Te=L.onResizeStop,Pe=L.resize,Je=(0,We.Z)(L,Ue);return(0,K.jsx)(lt,(0,r.Z)((0,r.Z)({width:ve||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:ie,onResize:e,onResizeStop:Te,resize:Pe?1:0},Je),{},{children:(0,K.jsx)("th",(0,r.Z)({},Je))}))},re=function(L){var ve=L.columns,ie=ve===void 0?[]:ve,e=L.name,Te=L.onColumnsChange,Pe=(0,We.Z)(L,ht),Je=n.useState(0),it=(0,_.Z)(Je,2),ot=it[0],qe=it[1],oe=n.useState(0),ze=(0,_.Z)(oe,2),ut=ze[0],Re=ze[1],dt=n.useState(!1),Se=(0,_.Z)(dt,2),et=Se[0],Oe=Se[1],te=n.useRef(null),he=(0,ee.Z)(te),$e=function(ce){return function(P,Ve){var Ae;if((0,i.Z)(Ve),!!ie[ce].ellipsis){var je=P.clientX,mt=je-((Ae=te.current)===null||Ae===void 0?void 0:Ae.getBoundingClientRect().x);Re(mt),qe(mt),Oe(!0)}}},wt=function(){return function(ce){var P,Ve=ce.clientX,Ae=Ve-((P=te.current)===null||P===void 0?void 0:P.getBoundingClientRect().x);qe(Ae)}},Dt=function(ce){return function(P,Ve){var Ae,je=Ve.size,mt=P.clientX,tt=mt-((Ae=te.current)===null||Ae===void 0?void 0:Ae.getBoundingClientRect().x),Qe=(0,le.Z)(ie);if(Qe[ce].ellipsis){var Ne=je.width+=tt-ut,pt=Qe[ce],yt=pt.dataIndex,gt=pt.key;Ne>20&&(Qe[ce]=(0,r.Z)((0,r.Z)({},Qe[ce]),{},{width:Ne}),e&&Xe(e,yt||gt,Ne),Te==null||Te())}qe(0),Re(0),Oe(!1)}},Tt=n.useMemo(function(){return ie.reduce(function(Fe,ce){return ce.width?Fe+=ce==null?void 0:ce.width:Fe},0)},[ie]);return(0,K.jsxs)(ae,{ref:te,className:"resize-table-wrapper",children:[(0,K.jsx)(U.Z,(0,r.Z)((0,r.Z)({},Pe),{},{components:{header:{cell:zt}},scroll:(L==null?void 0:L.scroll)||{x:Tt||(he==null?void 0:he.width)},columns:ie.filter(Boolean).map(function(Fe,ce){return(0,r.Z)((0,r.Z)({},Fe),{},{onHeaderCell:function(Ve){return{resize:!!Fe.ellipsis,width:Ve.width,onResizeStart:$e(ce),onResize:wt(),onResizeStop:Dt(ce)}}})})})),et&&(0,K.jsx)(It,{height:he==null?void 0:he.height,left:ot||ut})]})},De=re,Et=["name","columns","refreshDeps","onColumnsChange"],Zt="umi_locale",F=function(L,ve){var ie=localStorage.getItem(L),e=localStorage.getItem(Zt)||"zh-CN";if(!!ie)return JSON.parse(ie)["".concat(e,"-").concat(ve)]},Xe=function(L,ve,ie){var e=localStorage.getItem(L),Te=localStorage.getItem(Zt)||"zh-CN",Pe=(0,Ze.Z)({},"".concat(Te,"-").concat(ve),ie);e?localStorage.setItem(L,JSON.stringify(Object.assign(JSON.parse(e),Pe))):localStorage.setItem(L,JSON.stringify(Pe))},St=function(L){var ve=L.name,ie=L.columns,e=L.refreshDeps,Te=e===void 0?[]:e,Pe=L.onColumnsChange,Je=(0,We.Z)(L,Et),it=n.useState([]),ot=(0,_.Z)(it,2),qe=ot[0],oe=ot[1],ze=function(){return(ie==null?void 0:ie.filter(Boolean).map(function(Re){var dt=Re.dataIndex,Se=Re.key,et=Re.width,Oe=dt||Se,te=F(ve,Oe);!te&&et&&Xe(ve,Oe,et);var he=te||et;return he&&(Re.width=he),Re}))||[]};return n.useEffect(function(){oe(ze())},Te),(0,K.jsx)(De,(0,r.Z)({name:ve,columns:qe,setColumns:oe,size:"small",onColumnsChange:function(){Pe==null||Pe(),oe(ze())}},Je))}},52493:function(vt,Be,t){"use strict";t.d(Be,{r:function(){return i}});var r=t(22374),_,We=["svgRef","title"];function Ze(){return Ze=Object.assign?Object.assign.bind():function(n){for(var Y=1;Y<arguments.length;Y++){var N=arguments[Y];for(var ee in N)Object.prototype.hasOwnProperty.call(N,ee)&&(n[ee]=N[ee])}return n},Ze.apply(this,arguments)}function st(n,Y){if(n==null)return{};var N=U(n,Y),ee,K;if(Object.getOwnPropertySymbols){var Ue=Object.getOwnPropertySymbols(n);for(K=0;K<Ue.length;K++)ee=Ue[K],!(Y.indexOf(ee)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,ee)||(N[ee]=n[ee]))}return N}function U(n,Y){if(n==null)return{};var N={},ee=Object.keys(n),K,Ue;for(Ue=0;Ue<ee.length;Ue++)K=ee[Ue],!(Y.indexOf(K)>=0)&&(N[K]=n[K]);return N}var le=function(Y){var N=Y.svgRef,ee=Y.title,K=st(Y,We);return r.createElement("svg",Ze({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:N},K),ee?r.createElement("title",null,ee):null,_||(_=r.createElement("g",{id:"\\u5206\\u6790",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"0.\\u6027\\u80FD-\\u5185\\u7F51-\\u9009\\u62E9\\u6807\\u7B7E",transform:"translate(-1194.000000, -133.000000)",fill:"#000000"},r.createElement("g",{id:"Group-21",transform:"translate(20.000000, 110.000000)"},r.createElement("g",{id:"\\u94FE\\u63A5",transform:"translate(1172.000000, 21.000000)"},r.createElement("rect",{id:"Rectangle",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M11.91,7.92 C11.7153722,8.09503346 11.4186893,8.09033311 11.2297039,7.90922206 C11.0407184,7.72811102 11.0234032,7.43189657 11.19,7.23 L12.06,6.32 C12.709515,5.51696592 12.6264975,4.34816777 11.87,3.645 C11.115,2.86 10,2.79 9.37,3.45 L6.94,6 C6.29048502,6.80303408 6.37350246,7.97183223 7.13,8.675 C7.3238618,8.87001873 7.3238618,9.18498127 7.13,9.38 C7.0361167,9.47465633 6.90831877,9.52789916 6.775,9.52789916 C6.64168123,9.52789916 6.5138833,9.47465633 6.42,9.38 C5.29380253,8.29148422 5.21051969,6.51405308 6.23,5.325 L8.66,2.79 C9.705,1.7 11.48,1.79 12.61,2.99 C13.7040886,4.07696429 13.7802373,5.82185565 12.785,7 L11.91,7.92 Z M3.59,8.08 C3.78462784,7.90496654 4.0813107,7.90966689 4.27029614,8.09077794 C4.45928159,8.27188898 4.47659677,8.56810343 4.31,8.77 L3.44,9.68 C2.79048502,10.4830341 2.87350246,11.6518322 3.63,12.355 C4.385,13.14 5.5,13.21 6.13,12.55 L8.56,10 C9.20951498,9.19696592 9.12649754,8.02816777 8.37,7.325 C8.1761382,7.12998127 8.1761382,6.81501873 8.37,6.62 C8.4638833,6.52534367 8.59168123,6.47210084 8.725,6.47210084 C8.85831877,6.47210084 8.9861167,6.52534367 9.08,6.62 C10.2061975,7.70851578 10.2894803,9.48594692 9.27,10.675 L6.84,13.21 C5.795,14.3 4.02,14.21 2.89,13.01 C1.79591137,11.9230357 1.71976275,10.1781444 2.715,9 L3.59,8.08 Z",id:"Shape",fillOpacity:.65})))))))},i=r.forwardRef(function(n,Y){return r.createElement(le,Ze({svgRef:Y},n))}),ne=t.p+"static/icon_link.2c6ce887.svg"}}]);
