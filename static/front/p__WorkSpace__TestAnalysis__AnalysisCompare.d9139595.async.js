(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2554],{51672:function(pt){pt.exports={ellipsis:"ellipsis___2ZImK"}},19137:function(pt){pt.exports={filter:"filter___1IKYx",confirm:"confirm___3RbBO",domain:"domain___1-UgM"}},69183:function(pt){pt.exports={cover:"cover___3PIkw"}},44180:function(pt){pt.exports={compare_job:"compare_job___3bD8C",title:"title___fU75R",content:"content___fD2Mn",nogroup_content:"nogroup_content___1lRs0",group_box:"group_box___ohHG2",group_content:"group_content___B4Aqq",compare_title:"compare_title___1mL_U",title_text:"title_text___1xccI",create_group:"create_group___2li-H",popover:"popover___2MjY4",nogroup_info:"nogroup_info___3kXOZ",first_part:"first_part___1QwZk",group_type:"group_type___SKwoZ",cancle_group:"cancle_group___38Xwx",rightExpandButtom:"rightExpandButtom___2Akb0",group_info:"group_info___2-DfG",line:"line___2BHWZ",workspace_name:"workspace_name___18spx",workspace_name_en:"workspace_name_en___3kpLu",baseGroupColorFn:"baseGroupColorFn___1RhBy",baselineColorFn:"baselineColorFn___2mVC-",current:"current___1RrBA",icon:"icon___2u2fe",base_workspace_name:"base_workspace_name___3dTrN",opreate_button:"opreate_button___2hxuY",baseTag:"baseTag___2OLNv",blink:"blink___zmN1S",second_part:"second_part___L6lxW",create_job_type:"create_job_type___1Uj1t",footer_part:"footer_part___g710Y",bottom:"bottom___29-Uz",popover_group:"popover_group___10k1j",popover_mark:"popover_mark___7LgCY",popover_create:"popover_create___3wNKi",master_prover:"master_prover___QOpDL",addJobBtn:"addJobBtn___29Lxo",eidt_marked:"eidt_marked___3dU2f",list_container:"list_container___1USu2",select_product:"select_product___bYxsb",job_text:"job_text___RZHzC",job_test:"job_test___2jx_p",footer:"footer___2OO2k",text_cancle:"text_cancle___34wHS",text_num:"text_num___3midy",footer_line:"footer_line___3luii",baseline_group_modal:"baseline_group_modal___32ciF",bottom_button:"bottom_button___gSnZ5",job_Modal:"job_Modal___qvF1C",suit_detail:"suit_detail___R4Sh8",tab_title:"tab_title___2qXLL",Panel:"Panel___Dv6t6",conf_item_box:"conf_item_box___3BROC",ellipsis:"ellipsis___1yBlF",add_baseline_drawer:"add_baseline_drawer___1cq-K",pers_select:"pers_select___3n1ZU",steps:"steps___3aKRN",steps_en:"steps_en___S_YTZ",popover_job:"popover_job___fyg3-",scroll:"scroll___39SXB",ConfColum:"ConfColum___fIZho",groupOptionIconStyle:"groupOptionIconStyle___2l2p0"}},89901:function(pt,vt,a){"use strict";var De=a(79625),nt=a(96584),Mt=a(39190),We=a(22374),rn=a(51672),je=a.n(rn),Ft=a(52454),dt=function(N){var mt=N.title,Ye=N.width,Ae=Ye===void 0?"100%":Ye,T=N.children,de=N.refData,G=N.customStyle,Lt=G||{width:Ae},Xe=(0,We.useRef)(null),It=(0,We.useState)(!1),X=(0,Mt.Z)(It,2),fe=X[0],Ge=X[1],At=function(){var i=Xe.current.clientWidth,ee=Xe.current.scrollWidth;Ge(i<ee)};(0,We.useEffect)(function(){At()},[de]);var he=function(){return T?We.cloneElement(T):mt||"-"};return fe?(0,Ft.jsx)(nt.Z,{placement:"topLeft",title:mt,children:(0,Ft.jsx)("div",{ref:Xe,className:je().ellipsis,style:Lt,children:he()})}):(0,Ft.jsx)("div",{ref:Xe,className:je().ellipsis,style:Lt,children:he()})};vt.Z=dt},15122:function(pt,vt,a){"use strict";var De=a(46721),nt=a(94867),Mt=a(8281),We=a(58591),rn=a(57359),je=a(34423),Ft=a(88966),dt=a(11048),Pt=a(39190),N=a(22374),mt=a(19137),Ye=a.n(mt),Ae=a(39935),T=a(22812),de=a(52454),G=function(Xe){var It=Xe.list,X=Xe.confirm,fe=Xe.onConfirm,Ge=Xe.roleType,At=(0,T.YB)(),he=At.formatMessage,Ce=(0,N.useState)(),i=(0,Pt.Z)(Ce,2),ee=i[0],h=i[1],Tt=function(Qe){h(Qe.target.value)};return(0,de.jsxs)("div",{className:Ye().filter,children:[(0,de.jsx)(dt.ZP.Group,{onChange:Tt,value:ee,children:(0,de.jsx)(je.Z,{direction:"vertical",children:It.map(function(Ie){return(0,de.jsx)(dt.ZP,{className:Ye().domain,value:Ie.id,children:Ge==="role"?(0,Ae.u)(Ie.name,he):Ie.name},Ie.id)})})}),(0,de.jsx)(We.Z,{style:{margin:"10px 0"}}),(0,de.jsxs)("div",{className:Ye().confirm,children:[(0,de.jsx)(nt.Z,{size:"small",type:"link",style:{border:"none"},onClick:function(){X==null||X(),fe(ee)},children:(0,de.jsx)(T._H,{id:"operation.ok"})}),(0,de.jsx)(nt.Z,{size:"small",type:"text",onClick:function(){X==null||X(),h(void 0),fe(void 0)},children:(0,de.jsx)(T._H,{id:"operation.reset"})})]})]})};vt.Z=G},22911:function(pt,vt,a){"use strict";a.d(vt,{Z:function(){return Ge}});var De=a(57359),nt=a(34423),Mt=a(46721),We=a(94867),rn=a(8281),je=a(58591),Ft=a(69230),dt=a(33821),Pt=a(67448),N=a(47548),mt=a(35832),Ye=a(32326),Ae=a(39190),T=a(22374),de=a(24812),G=a(22812);function Lt(At){return(0,G.WY)("/api/auth/user/",{params:At})}var Xe=a(69183),It=a.n(Xe),X=a(52454),fe=function(he){var Ce=he.confirm,i=he.onConfirm,ee=he.page_size,h=he.mode,Tt=h===void 0?"multiple":h,Ie=(0,de.UO)(),Qe=Ie.ws_id,H=(0,T.useState)([]),r=(0,Ae.Z)(H,2),Ee=r[0],se=r[1],m=(0,T.useState)(),Ke=(0,Ae.Z)(m,2),Zt=Ke[0],y=Ke[1],Jt=(0,T.useState)(),St=(0,Ae.Z)(Jt,2),Je=St[0],Ht=St[1],Bt=(0,T.useState)(!0),ht=(0,Ae.Z)(Bt,2),Nt=ht[0],Vt=ht[1],gt=(0,T.useState)(!1),e=(0,Ae.Z)(gt,2),it=e[0],ft=e[1],_t=function(){var Te=(0,Ye.Z)((0,mt.Z)().mark(function Xt(Ve){var Re,ot,xt;return(0,mt.Z)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(Re=Ve&&Ve.replace(/\s*/g,""),!(Zt&&Zt==Re)){qe.next=3;break}return qe.abrupt("return");case 3:return y(Re),Vt(!0),qe.next=7,Lt({ws_id:Qe,keyword:Re,page_size:ee||10,page_num:1});case 7:ot=qe.sent,xt=ot.data,se(Array.isArray(xt)?xt:[]),Vt(!1);case 11:case"end":return qe.stop()}},Xt)}));return function(Ve){return Te.apply(this,arguments)}}();(0,T.useEffect)(function(){_t()},[]);var pn=function(){_t()};return(0,X.jsxs)("div",{style:{padding:8},children:[(0,X.jsx)("div",{className:It().cover,onClick:function(){it||Ce==null||Ce()}}),(0,X.jsx)(dt.Z,{mode:Tt,allowClear:!0,notFoundContent:Nt?(0,X.jsx)(N.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:_t,style:{width:"100%"},onChange:function(Xt){return Ht(Xt)},onDeselect:pn,onClear:pn,showArrow:!1,autoFocus:!0,value:Je,onFocus:function(){ft(!0)},onBlur:function(){setTimeout(function(){ft(!1)},200)},options:Ee==null?void 0:Ee.map(function(Te){return{label:Te.last_name,value:Te.id}})}),(0,X.jsx)(je.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,X.jsxs)(nt.Z,{children:[(0,X.jsx)(We.Z,{onClick:function(){Ce==null||Ce(),i(Je)},type:"link",size:"small",style:{width:75},children:(0,X.jsx)(G._H,{id:"operation.search"})}),(0,X.jsx)(We.Z,{type:"text",onClick:function(){Ce==null||Ce(),Ht(void 0),i(void 0),_t()},size:"small",style:{width:75,border:"none"},children:(0,X.jsx)(G._H,{id:"operation.reset"})})]})]})},Ge=fe},21395:function(pt,vt,a){"use strict";a.r(vt),a.d(vt,{default:function(){return Ma}});var De=a(16832),nt=a(69827),Mt=a(67448),We=a(47548),rn=a(46721),je=a(94867),Ft=a(53374),dt=a(61674),Pt=a(57359),N=a(34423),mt=a(20632),Ye=a(71853),Ae=a(8281),T=a(58591),de=a(79625),G=a(96584),Lt=a(13059),Xe=a(53676),It=a(52730),X=a(25205),fe=a(35832),Ge=a(32326),At=a(81138),he=a(96146),Ce=a(64974),i=a(20418),ee=a(2605),h=a(39190),Tt=a(69230),Ie=a(33821),Qe=a(31650),H=a(25100),r=a(22374),Ee=a(526),se=a(15401),m=a(22812),Ke=a(24812),Zt=a(44180),y=a.n(Zt),Jt=a(93980),St=a(39881),Je=a(72882),Ht=a(88018),Bt=a(58414),ht=a(20693),Nt=a(3278),Vt=a(65790),gt=a(17187),e=a(52454),it=(0,r.forwardRef)(function(g,d){var v=(0,m.YB)(),c=v.formatMessage,_=gt.Z.useForm(),x=(0,h.Z)(_,1),L=x[0],R=(0,r.useState)(!1),Q=(0,h.Z)(R,2),Ze=Q[0],xe=Q[1],$=(0,r.useState)(!1),ye=(0,h.Z)($,2),Oe=ye[0],b=ye[1],B=(0,r.useState)({}),Ne=(0,h.Z)(B,2),He=Ne[0],Y=Ne[1];(0,r.useImperativeHandle)(d,function(){return{show:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};b(!0),Y(K),L.setFieldsValue(K)}}});var E=function(){L.resetFields(),xe(!1),b(!1)},Se=function(){xe(!0),L.validateFields().then(function(){var K=(0,Ge.Z)((0,fe.Z)().mark(function F(le){return(0,fe.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:g.onOk((0,i.Z)((0,i.Z)((0,i.Z)({},He),le),{},{by_edit:1})),L.resetFields(),xe(!1),b(!1);case 4:case"end":return k.stop()}},F)}));return function(F){return K.apply(this,arguments)}}()).catch(function(K){return console.log(K)})};return(0,e.jsx)(Bt.Z,{maskClosable:!1,keyboard:!1,title:c({id:"analysis.edit.mark.name"}),width:375,onClose:E,open:Oe,className:y().add_baseline_drawer,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(je.Z,{onClick:E,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(je.Z,{type:"primary",disabled:Ze,onClick:Se,children:(0,e.jsx)(m._H,{id:"operation.update"})})]})}),children:(0,e.jsx)(gt.Z,{form:L,layout:"vertical",children:(0,e.jsx)(gt.Z.Item,{label:(0,e.jsx)(m._H,{id:"analysis.comparison.group"}),name:"name",rules:[{required:!0,message:c({id:"analysis.comparison.group.cannot.empty"})}],children:(0,e.jsx)(Nt.Z,{allowClear:!0,style:{width:"98%"},autoComplete:"off",placeholder:c({id:"analysis.comparison.group.name.placeholder"})})})})})}),ft=a(67515),_t=a(12238),pn=a(54905),Te=a(90087),Xt=a(11407),Ve=a(68077),Re=a(64510),ot=a(87445),xt=a(79716),st=a(71924),qe=a(90772),Qt=a(39870),Tn=a(2488),qt=a(48766),Gt=a(81343),Zn=a(97207),f=a.n(Zn),Ut=a(28972),an,ar=["svgRef","title"];function Sn(){return Sn=Object.assign?Object.assign.bind():function(g){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(g[c]=v[c])}return g},Sn.apply(this,arguments)}function ir(g,d){if(g==null)return{};var v=Hn(g,d),c,_;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(_=0;_<x.length;_++)c=x[_],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,c)||(v[c]=g[c]))}return v}function Hn(g,d){if(g==null)return{};var v={},c=Object.keys(g),_,x;for(x=0;x<c.length;x++)_=c[x],!(d.indexOf(_)>=0)&&(v[_]=g[_]);return v}var or=function(d){var v=d.svgRef,c=d.title,_=ir(d,ar);return r.createElement("svg",Sn({width:"10px",height:"14px",viewBox:"0 0 10 14",ref:v},_),c?r.createElement("title",null,c):null,an||(an=r.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"3\\u4E2Agroup\\u76EE\\u5F55\\u6536\\u8D77",transform:"translate(-263.000000, -767.000000)",fillRule:"nonzero"},r.createElement("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(119.000000, 686.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4-8",transform:"translate(21.000000, 64.000000)"},r.createElement("g",{id:"basegroup",transform:"translate(120.000000, 16.000000)"},r.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:16,height:16,rx:2}),r.createElement("path",{d:"M4,1 C3.72417824,1.00077249 3.50077249,1.22417824 3.5,1.5 L3.5,14.5 C3.5,14.7761424 3.72385763,15 4,15 C4.27614237,15 4.5,14.7761424 4.5,14.5 L4.5,1.5 C4.49922751,1.22417824 4.27582176,1.00077249 4,1 L4,1 Z M4.5,2 L12.5,6.5 L4.5,11",id:"\\u5F62\\u72B6",fill:"#1890FF"}))))))))},Cn=r.forwardRef(function(g,d){return r.createElement(or,Sn({svgRef:d},g))}),Jn=a.p+"static/BaseIcon.af28ec3e.svg",Kt=a(51937),me=a(34516),be=a(88966),ue=a(11048),ge=a(41428),_e=a(31784),on=a(44851),Ct=a.n(on),vn=a(12590),Gr=a(97939),$t=a(6130),Zr,Kr=Gr.ZP.span(Zr||(Zr=(0,ge.Z)([`
    color: #1890FF;
    cursor: pointer;
`]))),kr={container:210,button_width:105},zr=function(g){var d=(0,m.YB)(),v=d.formatMessage,c=g.itemSuitData,_=g.handleChangeDefaultJob,x=g.currentTab,L=g.setCurrentJobIndex,R=g.currentJobIndex,Q=Number(x.replace("group","")),Ze=f().get(c,"conf_list")||{},xe=(0,r.useState)({}),$=(0,h.Z)(xe,2),ye=$[0],Oe=$[1],b={job_id:"",job_name:""},B=(0,r.useState)(!0),Ne=(0,h.Z)(B,2),He=Ne[0],Y=Ne[1],E=(0,r.useState)([]),Se=(0,h.Z)(E,2),Be=Se[0],K=Se[1],F=(0,r.useState)(b),le=(0,h.Z)(F,2),te=le[0],k=le[1],V=(0,r.useState)([]),Ue=(0,h.Z)(V,2),et=Ue[0],we=Ue[1],Me=(0,r.useState)(0),wt=(0,h.Z)(Me,2),ke=wt[0],lt=wt[1],ut=(0,r.useState)(!1),zt=(0,h.Z)(ut,2),Fe=zt[0],yt=zt[1],Dt=(0,r.useRef)(null),ne=function(){yt(!1)};(0,r.useEffect)(function(){return window.addEventListener("click",ne,!1),function(){window.removeEventListener("click",ne,!1)}},[]),(0,r.useEffect)(function(){Oe(Ze)},[Q]);var D=[{title:"JobID",dataIndex:"job_id",width:100,ellipsis:!0,filterDropdown:function(z){var W=z.confirm;return(0,e.jsx)(vn.Z,{confirm:W,autoFocus:He,onConfirm:function(ae){var ie=null;ae===void 0?(ie=f().cloneDeep(Dt.current),te.job_name&&(ie=ie.filter(function($e){var rt=f().get($e,"job_name");return rt.includes(te.job_name.trim())}))):(ie=f().cloneDeep(Be),ie=ie.filter(function($e){return String(f().get($e,"job_id"))===(ae==null?void 0:ae.trim())})),K(ie),k((0,i.Z)((0,i.Z)({},te),{},{job_id:ae}))},placeholder:v({id:"analysis.JobID.placeholder"})})},onFilterDropdownVisibleChange:function(z){z&&Y(!He)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:te.job_id?"#1890ff":void 0}})},render:function(z){return z}},{title:(0,e.jsx)(m._H,{id:"analysis.job.name"}),dataIndex:"job_name",width:265,ellipsis:{shwoTitle:!1},filterDropdown:function(z){var W=z.confirm;return(0,e.jsx)(vn.Z,{confirm:W,autoFocus:He,styleObj:kr,onConfirm:function(ae){var ie=null;ae===void 0?(ie=f().cloneDeep(Dt.current),te.job_id&&(ie=ie.filter(function($e){return String(f().get($e,"job_id"))===te.job_id.trim()}))):(ie=f().cloneDeep(Be),ie=ie.filter(function($e){var rt=f().get($e,"job_name");return rt.includes(ae==null?void 0:ae.trim())})),K(ie),k((0,i.Z)((0,i.Z)({},te),{},{job_name:ae}))},placeholder:v({id:"analysis.job.name.placeholder"})})},onFilterDropdownVisibleChange:function(z){z&&Y(!He)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:te.job_name?"#1890ff":void 0}})},render:function(z,W){return(0,e.jsx)($t.K,{ellipsis:{tooltip:W.job_name},children:(0,e.jsx)(Ct(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[te.job_name||""],autoEscape:!0,textToHighlight:W&&W.job_name})})}},{title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:140,dataIndex:"create_user",ellipsis:!0}],C=function(z){z.stopPropagation();var W=Be.map(function(ae){return String(ae.job_id)===String(z.target.value)?(0,i.Z)((0,i.Z)({},ae),{},{isSelect:!0}):(0,i.Z)((0,i.Z)({},ae),{},{isSelect:!1})});ye[ke].job_list=W,Oe(ye);var pe=x.slice(x.length-1);we([z.target.value]),_(ye,ke,pe)},I={selectedRowKeys:et,preserveSelectedRowKeys:!1,renderCell:function(z,W){return(0,e.jsx)(ue.ZP.Group,{onChange:C,value:et[0],children:(0,e.jsx)(ue.ZP,{value:W.job_id})})},hideSelectAll:!0},A=function(z){return(0,e.jsx)(Ut.$B,{style:{height:230},children:(0,e.jsx)(Ve.Z,{rowSelection:I,size:"small",rowKey:"id",columns:D,dataSource:z,pagination:!1,onRow:function(pe){return{onClick:function(ie){ie.stopPropagation(),we([pe.job_id]);var $e=Be.map(function(at){return(0,i.Z)((0,i.Z)({},at),{},{isSelect:String(at.job_id)===String(pe.job_id)})});ye[ke].job_list=$e,Oe(ye);var rt=x.slice(x.length-1);we([pe.job_id]),_(ye,ke,rt)}}}})})},re=function(z,W,pe,ae,ie){z.stopPropagation(),L(ie),f().isArray(W)||(W=[]);var $e=[ae];we($e),K(W),Dt.current=W,lt(pe),ie===R&&yt(!Fe),ie!==R&&yt(!0)};return(0,e.jsx)(e.Fragment,{children:Object.values(ye).map(function(Z,z){if(isNaN(Q))return"";var W=Z.job_list,pe=W[0]&&W[0].job_id||"";return W.forEach(function(ae){ae&&ae.isSelect&&(pe=ae.job_id)}),!pe||W.length===1?"":(0,e.jsx)("div",{className:y().conf_item_box,children:(0,e.jsxs)(N.Z,{children:[(0,e.jsx)("span",{children:Z.conf_name}),(0,e.jsx)(me.Z,{color:"#f2f4f6",style:{color:"#515B6A"},children:pe}),(0,e.jsx)(Xe.Z,{placement:"right",title:(0,e.jsx)(m._H,{id:"analysis.select.job"}),content:A(Be),trigger:"click",overlayClassName:y().popover_job,open:R===Z.conf_id&&Fe,children:(0,e.jsx)(Kr,{onClick:function(ie){return re(ie,W,z,pe,Z.conf_id)},children:(0,e.jsx)(m._H,{id:"analysis.select.job"})})})]})},z)})})},mn=a(28739),Bn=a(39935),Wr=Qt.Z.Panel,Sr=st.Z.Step,Jr=function(d,v){var c=(0,m.Kd)()==="en-US",_=(0,Ee.CR)(),x=_.height,L=x>=728?x-128:600,R=d.onOk,Q=d.baselineGroupIndex,Ze=d.allGroupData[Q===-1?0:Q],xe=f().cloneDeep(d.allGroupData);xe.splice(Q===-1?0:Q,1);var $=xe.filter(function(ce){return f().get(ce,"members")&&f().get(ce,"members").length}),ye=(0,r.useState)({}),Oe=(0,h.Z)(ye,2),b=Oe[0],B=Oe[1],Ne=(0,r.useState)([]),He=(0,h.Z)(Ne,2),Y=He[0],E=He[1],Se=(0,r.useState)([]),Be=(0,h.Z)(Se,2),K=Be[0],F=Be[1],le=(0,r.useState)([]),te=(0,h.Z)(le,2),k=te[0],V=te[1],Ue=(0,r.useState)([]),et=(0,h.Z)(Ue,2),we=et[0],Me=et[1],wt=(0,r.useState)([]),ke=(0,h.Z)(wt,2),lt=ke[0],ut=ke[1],zt=(0,r.useState)(!0),Fe=(0,h.Z)(zt,2),yt=Fe[0],Dt=Fe[1],ne=(0,r.useState)(!1),D=(0,h.Z)(ne,2),C=D[0],I=D[1],A=(0,r.useState)("functional"),re=(0,h.Z)(A,2),Z=re[0],z=re[1],W=(0,r.useState)([]),pe=(0,h.Z)(W,2),ae=pe[0],ie=pe[1],$e=(0,r.useState)([]),rt=(0,h.Z)($e,2),at=rt[0],Et=rt[1],hn=(0,r.useState)(0),tt=(0,h.Z)(hn,2),ct=tt[0],Nn=tt[1],ln=(0,r.useState)([]),On=(0,h.Z)(ln,2),Gn=On[0],Rn=On[1],Pn=(0,r.useState)([]),gn=(0,h.Z)(Pn,2),jt=gn[0],_n=gn[1],In=(0,r.useState)(),wn=(0,h.Z)(In,2),Kn=wn[0],Mn=wn[1],un=(0,r.useRef)(null),cn=(0,r.useRef)(null),xn=r.useState(!1),yn=(0,h.Z)(xn,2),kn=yn[0],dn=yn[1],O=r.useState(!1),S=(0,h.Z)(O,2),P=S[0],J=S[1],U=function(p){z(p)},Pe=function(){var p=document.querySelector("#list_container table .ant-empty-normal");if(p){var t=L-330>430?430:L-330,n=(t-70-55)/2;p.style.margin="".concat(n,"px 0")}};(0,r.useEffect)(function(){Pe()},[b,Z,x]);var en=function(){var ce=(0,Ge.Z)((0,fe.Z)().mark(function p(t){var n,s,o,u,l,j,w,M,ve;return(0,fe.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!P){q.next=2;break}return q.abrupt("return");case 2:return J(!0),q.next=5,(0,se.J1)(t);case 5:n=q.sent,s=n.data,o=n.code,u=n.msg,J(!1),o===200?(l=s.func_suite_dic||{},j=s.perf_suite_dic||{},w=Object.keys(l).map(function(bt){return String(bt)}),M=Object.keys(j).map(function(bt){return String(bt)}),un.current=(0,ee.Z)(w),cn.current=(0,ee.Z)(M),ve=!un.current.length&&cn.current.length,ve&&z("performance"),ie((0,ee.Z)(w)),Et((0,ee.Z)(M)),F(Object.values(l)),V(Object.values(j)),B(s),Me(l),ut(j),Dt(!1)):((0,Bn.EV)(o,u),Dt(!1));case 11:case"end":return q.stop()}},p)}));return function(t){return ce.apply(this,arguments)}}();r.useImperativeHandle(v,function(){return{show:function(){dn(!0);var p=f().get(Ze,"members"),t={func_data:{base_job:[],compare_job:[]},perf_data:{base_job:[],compare_job:[]}};if(f().isArray(p)){var n=Ze.type==="baseline",s=n?1:0;p.forEach(function(l){["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(l.test_type)&&(t.func_data.is_baseline=s,t.func_data.base_job.push(l.id)),["\u6027\u80FD","\u6027\u80FD\u6D4B\u8BD5","performance"].includes(l.test_type)&&(t.perf_data.is_baseline=s,t.perf_data.base_job.push(l.id))})}var o=[],u=[];$.forEach(function(l){var j=f().get(l,"members");f().isArray(j)&&j.forEach(function(w){["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(w.test_type)&&o.push(w.id),["\u6027\u80FD","\u6027\u80FD\u6D4B\u8BD5","performance"].includes(w.test_type)&&u.push(w.id)})}),t.func_data.compare_job=o,t.perf_data.compare_job=u,en(t)},hide:function(){dn(!1)}}}),(0,r.useEffect)(function(){var ce=JSON.stringify(b.func_suite_dic)!=="{}"?"functional":"performance";ct===0&&z(ce),ct===1&&z("group0")},[ct]),(0,r.useEffect)(function(){var ce=f().cloneDeep(b).func_suite_dic||{},p=f().cloneDeep(b).perf_suite_dic||{};Z==="functional"?F(Object.values(ce)):V(Object.values(p))},[b,Z]);var tn=function(){var ce=(0,Ge.Z)((0,fe.Z)().mark(function p(t,n){var s,o,u,l,j;return(0,fe.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(s=n.test_job_id,o=n.suite_id,u=n.is_baseline,!t){M.next=6;break}return M.next=4,(0,se.OF)({test_job_id:s,suite_id:o,is_baseline:u});case 4:l=M.sent,l.code===200&&(j=l.data.conf_dic,Z==="functional"?(we[o].conf_dic=j,Me((0,i.Z)({},we))):(lt[o].conf_dic=j,ut((0,i.Z)({},lt))),ie([].concat((0,ee.Z)(ae),(0,ee.Z)(Object.keys(j).map(function(ve){return Number(ve)})))),Et([].concat((0,ee.Z)(at),(0,ee.Z)(Object.keys(j).map(function(ve){return Number(ve)})))));case 6:case"end":return M.stop()}},p)}));return function(t,n){return ce.apply(this,arguments)}}();(0,r.useEffect)(function(){var ce=Z==="functional"?we:lt;if(ce){var p=Object.keys(ce).map(function(s){return String(s)}),t=[],n=[];t=Object.values(ce).map(function(s){return s.conf_dic&&JSON.stringify(s.conf_dic)!=="{}"&&(n=(0,ee.Z)(Object.keys(s.conf_dic).map(function(o){return+o})),s.conf_list=Object.values(s.conf_dic).map(function(o){return{key:o.conf_id,suite_id:s.suite_id,conf_id:o.conf_id,conf_list:n,conf_name:o.conf_name,title:"Test conf",level:2}})),s}),F(t),V(t),un.current=[].concat((0,ee.Z)(p),(0,ee.Z)(n)),cn.current=[].concat((0,ee.Z)(p),(0,ee.Z)(n))}},[Z,we,lt]);var fn=function(){var ce=(0,Ge.Z)((0,fe.Z)().mark(function p(t){var n,s,o,u,l,j,w,M,ve,oe,q,bt,ze;return(0,fe.Z)().wrap(function(Ot){for(;;)switch(Ot.prev=Ot.next){case 0:if(I(!0),n=Z==="functional"?f().cloneDeep(K):f().cloneDeep(k),t!==1){Ot.next=17;break}return s=f().cloneDeep(d.allGroupData),o=s.map(function(Le){return{group_name:Le.name,is_baseline:Le.type==="baseline"?1:0,test_job_id:[].concat(Le.members.map(function(Rt){return Rt.id}))}}),u=Z==="functional"?ae:at,l=n.filter(function(Le){return u.includes(String(Le.suite_id))}),j=[],l.forEach(function(Le){var Rt=Le.conf_dic?Object.keys(Le.conf_dic).filter(function(Ln){return u.includes(+Ln)}):[];Rt=Le.conf_dic&&Object.keys(Le.conf_dic).length===Rt.length?[]:Rt;var Fn=Rt.length?0:1;Le.test_job_id.length>1&&j.push({suite_id:Le.suite_id,is_all:Fn,conf_list:Rt,test_job_id:Le.test_job_id})}),w={group_jobs:o,base_index:Q===-1?0:Q,suite_list:j},Ot.next=12,(0,se.a4)(w);case 12:M=Ot.sent,ve=M.data,oe=M.code,q=M.msg,oe===200?(JSON.stringify(ve)==="{}"?_n([]):(bt=ve.duplicate_data,ze=[],bt=bt.map(function(Le,Rt){var Fn=Le.suite_list.map(function(Ln){var jr=Ln.conf_list.map(function(Wt){var An,br=Wt.job_list.map(function(Fa,La){return(0,i.Z)((0,i.Z)({},Fa),{},{isSelect:La===0})});return ze.push({conf_id:Wt.conf_id,job_id:((An=Wt.job_list[0])===null||An===void 0?void 0:An.job_id)||"",key:Rt}),(0,i.Z)((0,i.Z)({},Wt),{},{job_list:br})});return(0,i.Z)((0,i.Z)({},Ln),{},{conf_list:jr})});return(0,i.Z)((0,i.Z)({},Le),{},{suite_list:Fn})}),_n(bt),E(ze)),I(!1)):((0,Bn.EV)(oe,q),I(!1));case 17:I(!1),Nn(t);case 19:case"end":return Ot.stop()}},p)}));return function(t){return ce.apply(this,arguments)}}(),qn=function(p){var t=b.func_suite_dic||{},n=b.perf_suite_dic||{},s=d.allGroupData||[],o=Q===-1?0:Q,u={func_suite_dic:(0,mn.wb)(t,s,o,ae,Y),perf_suite_dic:(0,mn.wb)(n,s,o,at,Y)};p(u)},pr=function(p,t){var n=Z==="functional"?f().cloneDeep(ae):f().cloneDeep(at);if(t)if(p.level)n=[].concat((0,ee.Z)(n),[p.conf_id,p.suite_id+""]);else{var s=[];p.conf_list&&(s=p.conf_list.map(function(l){return l.conf_id})),n=[].concat((0,ee.Z)(n),[p.suite_id+""],(0,ee.Z)(s))}else if(p.level){n=n.filter(function(l){return l!==p.conf_id});var u=p.conf_list.splice(0);u=u.filter(function(l){return l!==p.conf_id}),u.length===0&&(n=n.filter(function(l){return l!==String(p.suite_id)}))}else{if(p.conf_list){var o=p.conf_list.map(function(l){return l.conf_id});n=n.filter(function(l){return!o.includes(l)})}n=n.filter(function(l){return String(p.suite_id)!==l})}n=Array.from(new Set(n)),Z==="functional"?ie(n):Et(n)},er={selectedRowKeys:Z==="functional"?ae:at,preserveSelectedRowKeys:!1,onSelect:pr,checkStrictly:!1,onSelectAll:function(p){p||(Z==="functional"?ie([]):Et([])),p&&(Z==="functional"?ie(un.current):Et(cn.current))}},tr=(0,i.Z)((0,i.Z)({},er),{},{hideSelectAll:!0}),vr=[{dataIndex:"suite_name",title:"Test Suite",key:"Test Suite"}],nr=[{dataIndex:"conf_name",title:"Test Conf",key:"Test Conf"}],mr=f().cloneDeep(b).func_suite_dic||{},hr=f().cloneDeep(b).perf_suite_dic||{},zn=[];Z==="functional"&&JSON.stringify(mr)!=="{}"&&(zn=K),Z==="performance"&&JSON.stringify(hr)!=="{}"&&(zn=k);var rr=L-330>430?430:L-330+14,gr={height:ct===1?rr-44:rr},jn=function(p){Rn(p)},Yt=function(p,t,n){var s=Y.slice(0),o=p[t].job_list;s=s.map(function(u){if(u.conf_id===p[t].conf_id&&u.key==n){var l=o.filter(function(j){return j.isSelect})[0].job_id||"";return(0,i.Z)((0,i.Z)({},u),{},{job_id:l})}return(0,i.Z)({},u)}),E(s)},bn=function(){var p=Number(Z.replace("group","")),t=isNaN(p),n=t?0:p;return f().isUndefined(jt)||!jt.length?(0,e.jsx)(ot.Z,{description:(0,e.jsx)(m._H,{id:"analysis.no.duplicate.data"}),image:ot.Z.PRESENTED_IMAGE_SIMPLE,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:"0"}}):(0,e.jsx)(Qt.Z,{onChange:jn,activeKey:Gn,expandIcon:function(o){var u=o.isActive;return(0,e.jsx)(Tn.Z,{rotate:u?90:0})},children:jt[n].suite_list.map(function(s,o){return(0,e.jsx)(Wr,{header:f().get(s,"suite_name"),className:y().Panel,children:(0,e.jsx)(zr,{setCurrentJobIndex:Mn,currentJobIndex:Kn,currentTab:Z,itemSuitData:s,handleChangeDefaultJob:Yt})},o)})})},_r=function(){return(0,e.jsx)(Ve.Z,{rowSelection:er,dataSource:zn,columns:vr,rowKey:function(t){return t.suite_id+""},loading:yt,pagination:!1,size:"small",expandable:{onExpand:function(t,n){tn(t,n)},indentSize:20,expandedRowRender:function(t){return(0,e.jsx)(Ve.Z,{className:y().ConfColum,columns:nr,dataSource:t.conf_list,pagination:!1,rowKey:function(s){return+s.conf_id},rowSelection:tr})},expandIcon:function(t){var n=t.expanded,s=t.onExpand,o=t.record;if(!o.level)return n?(0,e.jsx)(qt.Z,{onClick:function(l){return s(o,l)}}):(0,e.jsx)(Gt.Z,{onClick:function(l){return s(o,l)}})}}})},xr=function(){return(0,e.jsxs)(Te.Z,{defaultActiveKey:Z,onTabClick:U,className:y().tab_title,activeKey:Z,children:[(0,e.jsx)(Te.Z.TabPane,{tab:(0,e.jsx)(m._H,{id:"functional.test"})},"functional"),(0,e.jsx)(Te.Z.TabPane,{tab:(0,e.jsx)(m._H,{id:"performance.test"})},"performance")]})},yr=function(){var p=/^group[0-9]+$/.test(Z)?Z.replace("group",""):0;return!!jt.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Te.Z,{defaultActiveKey:Z,onTabClick:U,className:y().tab_title,activeKey:Z,children:jt.map(function(t,n){return(0,e.jsx)(Te.Z.TabPane,{tab:(0,e.jsxs)(e.Fragment,{children:[Q===n&&(0,e.jsx)("span",{style:{marginRight:5},children:(0,e.jsx)(Cn,{})}),t.group_name]})},"group".concat(n))})}),(0,e.jsx)(H.Z.Text,{style:{display:"inline-block",height:"44px",lineHeight:"44px"},children:jt[p].desc})]})},Wn=function(){dn(!1)};return(0,e.jsx)(_t.Z,{title:(0,e.jsx)(m._H,{id:"analysis.select.benchmark.group"}),centered:!0,open:kn,width:1e3,className:y().baseline_del_modal,onCancel:Wn,maskClosable:!1,destroyOnClose:!0,wrapClassName:"".concat(y().job_Modal," ").concat(y().baseline_group_modal),children:(0,e.jsxs)("div",{className:y().compare_suite,id:"list_container",children:[(0,e.jsx)("div",{className:y().server_provider,children:(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(H.Z.Text,{className:y().script_right_name,strong:!0,children:(0,e.jsx)(m._H,{id:"analysis.comparison.group"})}),(0,e.jsx)(H.Z.Text,{className:y().script_right_name,children:Ze&&(Ze==null?void 0:Ze.name)})]})}),(0,e.jsx)("div",{className:y().line,children:(0,e.jsx)(T.Z,{style:{borderTop:"10px solid #F5F5F5",width:"calc(100% + 48px)",transform:"translateX(-24px)"}})}),(0,e.jsxs)(st.Z,{size:"small",current:ct,onChange:fn,className:c?y().steps_en:y().steps,children:[(0,e.jsx)(Sr,{title:(0,e.jsx)(m._H,{id:"analysis.select.comparison.data"})}),(0,e.jsx)(Sr,{title:(0,e.jsx)(m._H,{id:"analysis.select.duplicate.data"}),disabled:C})]}),(0,e.jsx)(We.Z,{spinning:yt,children:(0,e.jsxs)("div",{className:y().suit_detail,children:[ct===1&&yr(),ct===0&&xr(),(0,e.jsxs)(Ut.$B,{style:gr,children:[ct===1&&bn(),ct===0&&_r()]})]})}),(0,e.jsxs)("div",{className:y().bottom_button,children:[(0,e.jsx)(T.Z,{style:{margin:"38px 0 12px 0",width:"calc(100% + 48px)",transform:"translateX(-24px)"}}),ct===0&&(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(je.Z,{onClick:Wn,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(je.Z,{type:"primary",disabled:yt,onClick:f().partial(fn,1),loading:C,children:(0,e.jsx)(m._H,{id:"operation.next"})})]}),ct===1&&(0,e.jsxs)("div",{children:[(0,e.jsx)(je.Z,{onClick:f().partial(fn,0),style:{float:"left"},children:(0,e.jsx)(m._H,{id:"operation.previous"})}),(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(je.Z,{onClick:Wn,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(je.Z,{type:"primary",disabled:yt,onClick:f().partial(qn,R),children:(0,e.jsx)(m._H,{id:"analysis.start.analysis"})})]})]})]})]})})},Vr=r.forwardRef(Jr),kt=a(79394),Cr,Dr,Ur=["svgRef","title"];function Vn(){return Vn=Object.assign?Object.assign.bind():function(g){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(g[c]=v[c])}return g},Vn.apply(this,arguments)}function $r(g,d){if(g==null)return{};var v=Yr(g,d),c,_;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(_=0;_<x.length;_++)c=x[_],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,c)||(v[c]=g[c]))}return v}function Yr(g,d){if(g==null)return{};var v={},c=Object.keys(g),_,x;for(x=0;x<c.length;x++)_=c[x],!(d.indexOf(_)>=0)&&(v[_]=g[_]);return v}var Xr=function(d){var v=d.svgRef,c=d.title,_=$r(d,Ur);return r.createElement("svg",Vn({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:v},_),c?r.createElement("title",null,c):null,Cr||(Cr=r.createElement("defs",null,r.createElement("filter",{id:"filter-1"},r.createElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0 0 0 0 0.290196 0 0 0 0 0.490196 0 0 0 0 1.000000 0 0 0 1.000000 0"})))),Dr||(Dr=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"12.\\u6309\\u4EA7\\u54C1\\u7248\\u672C",transform:"translate(-286.000000, -196.000000)"},r.createElement("g",{id:"Group-5",transform:"translate(276.000000, 116.000000)"},r.createElement("g",{id:"Group-Copy-10",transform:"translate(10.000000, 40.000000)"},r.createElement("g",{id:"icon_shell-copy-2",transform:"translate(0.000000, 40.000000)"},r.createElement("g",{id:"\\u4EA7\\u54C1",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:12,height:12}),r.createElement("path",{d:"M5.6385988,6.98886227 L1.11803398,4.20221272 C0.88296566,4.05730759 0.809873952,3.74927825 0.954779081,3.51420993 C0.996010182,3.44732392 1.05242429,3.39109655 1.11944664,3.35008744 L5.63806597,0.585270142 C5.79874681,0.486954016 6.00104723,0.48728939 6.1614012,0.58613773 L10.681966,3.37278728 C10.9170343,3.51769241 10.9901261,3.82572175 10.8452209,4.06079007 C10.8039898,4.12767608 10.7475757,4.18390345 10.6805534,4.22491256 L6.16193404,6.98972986 C6.0012532,7.08804598 5.79895278,7.08771061 5.6385988,6.98886227 Z M2.6,3.775 L5.925,5.825 L9.25,3.775 L5.9,1.75 L2.6,3.775 Z",id:"Shape",fill:"#4A7DFF"}),r.createElement("path",{d:"M9.25,6.075 L5.9,8.1 L2.6,6.05 L1.725,5.25 L1.1438087,5.60327314 C0.907838984,5.74670571 0.832822806,6.05427204 0.976255379,6.29024176 C1.01685522,6.35703504 1.07254928,6.41337937 1.1388668,6.45475176 L5.63946343,9.26246343 C5.79928682,9.36216976 6.00158409,9.36358781 6.16278953,9.26613179 L10.7053118,6.5199706 C10.9416267,6.37710749 11.0173844,6.06972296 10.8745212,5.83340804 C10.8340978,5.76654222 10.7785662,5.71008074 10.7123808,5.66855264 L10.125,5.3 L10.125,5.3 L9.25,6.075 Z",id:"Path",fill:"#4A7DFF"}),r.createElement("path",{d:"M9.225,8.35 L5.9,10.375 L2.6,8.3 L1.725,7.5 L1.11383099,7.87610401 C0.878652039,8.02082952 0.805325037,8.32880293 0.950050545,8.56398188 C0.990712199,8.63005707 1.04619241,8.68576332 1.11210172,8.72669331 L5.63816552,11.5373996 C5.79869719,11.6370905 6.00171691,11.6377623 6.16290479,11.5391359 L10.6825555,8.77368749 C10.918103,8.62956255 10.9922156,8.32177725 10.8480907,8.08622977 C10.8073088,8.01957882 10.7514736,7.9634136 10.6850641,7.92223971 L10.125,7.575 L10.125,7.575 L9.225,8.35 Z",id:"Path",fill:"#4A7DFF"})))))))))},Er=r.forwardRef(function(g,d){return r.createElement(Xr,Vn({svgRef:d},g))}),Aa=a.p+"static/icon_product.675a2149.svg",Or,Rr,Qr=["svgRef","title"];function Un(){return Un=Object.assign?Object.assign.bind():function(g){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(g[c]=v[c])}return g},Un.apply(this,arguments)}function qr(g,d){if(g==null)return{};var v=ea(g,d),c,_;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(_=0;_<x.length;_++)c=x[_],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,c)||(v[c]=g[c]))}return v}function ea(g,d){if(g==null)return{};var v={},c=Object.keys(g),_,x;for(x=0;x<c.length;x++)_=c[x],!(d.indexOf(_)>=0)&&(v[_]=g[_]);return v}var ta=function(d){var v=d.svgRef,c=d.title,_=qr(d,Qr);return r.createElement("svg",Un({width:"10px",height:"10px",viewBox:"0 0 10 10",ref:v},_),c?r.createElement("title",null,c):null,Or||(Or=r.createElement("defs",null,r.createElement("filter",{id:"filter-1"},r.createElement("feColorMatrix",{in:"SourceGraphic",type:"matrix",values:"0 0 0 0 1.000000 0 0 0 0 0.509804 0 0 0 0 0.180392 0 0 0 1.000000 0"})))),Rr||(Rr=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"12.\\u6309\\u4EA7\\u54C1\\u7248\\u672C",transform:"translate(-359.000000, -197.000000)"},r.createElement("g",{id:"Group-5",transform:"translate(276.000000, 116.000000)"},r.createElement("g",{id:"Group-Copy-10",transform:"translate(10.000000, 40.000000)"},r.createElement("g",{id:"icon_shell-copy",transform:"translate(72.000000, 40.000000)"},r.createElement("g",{id:"\\u7F51\\u76D8",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:12,height:12}),r.createElement("path",{d:"M10.4309411,8.7539 L9.33670178,2.23111667 C9.27738214,1.82681667 8.95124464,1.51693334 8.55039108,1.5 L3.45054108,1.5 C3.04311428,1.51725 2.71101428,1.83658333 2.65984286,2.25065 L1.56905892,8.75423334 C1.52793214,8.88476667 1.5,9.02181667 1.5,9.16666667 C1.5,9.903 2.07567858,10.5 2.78571428,10.5 L9.21428571,10.5 C9.92432142,10.5 10.5,9.903 10.5,9.16666667 C10.5,9.02148333 10.4720679,8.88476667 10.4309411,8.7539 Z M3.32655,2.16666667 L8.67343392,2.16666667 L9.63739821,7.91308333 C9.50432678,7.86491667 9.36338036,7.83333334 9.21428572,7.83333334 L2.78571428,7.83333334 C2.63661964,7.83333334 2.49567321,7.86491667 2.36258571,7.91308333 L3.32655,2.16666667 Z M9.21428572,9.83333333 L2.78571428,9.83333333 C2.43132321,9.83333333 2.14285714,9.53418333 2.14285714,9.16666667 C2.14285714,8.79915001 2.43132322,8.5 2.78571428,8.5 L9.21428571,8.5 C9.56867678,8.5 9.85714285,8.79915001 9.85714285,9.16666667 C9.85714285,9.53418333 9.56867678,9.83333333 9.21428572,9.83333333 Z M5.03571428,6.16666667 L6.96428571,6.16666667 C7.31930357,6.16666667 7.60714285,5.86816667 7.60714285,5.5 C7.60714285,5.13183333 7.31930357,4.83333333 6.96428571,4.83333333 C6.96428571,4.28125 6.53268749,3.83333333 5.99999999,3.83333333 C5.46731249,3.83333333 5.03571427,4.28125 5.03571427,4.83333333 C4.68069642,4.83333333 4.39285713,5.13183333 4.39285713,5.5 C4.39285713,5.86816667 4.68069642,6.16666667 5.03571428,6.16666667 Z M8.89285714,8.83333334 C8.7151875,8.83333334 8.57142857,8.98241667 8.57142857,9.16666668 C8.57142857,9.35091669 8.71518749,9.50000002 8.89285714,9.50000002 C9.07052679,9.50000002 9.21428572,9.35091669 9.21428572,9.16666668 C9.21428572,8.98241667 9.07052678,8.83333334 8.89285714,8.83333334 Z",id:"Shape",stroke:"#FF822E",strokeWidth:.2,fill:"#FF822E"})))))))))},Pr=r.forwardRef(function(g,d){return r.createElement(ta,Un({svgRef:d},g))}),Ta=a.p+"static/icon_jiqi.288f024e.svg",Ir,wr,na=["svgRef","title"];function $n(){return $n=Object.assign?Object.assign.bind():function(g){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(g[c]=v[c])}return g},$n.apply(this,arguments)}function ra(g,d){if(g==null)return{};var v=aa(g,d),c,_;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(_=0;_<x.length;_++)c=x[_],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,c)||(v[c]=g[c]))}return v}function aa(g,d){if(g==null)return{};var v={},c=Object.keys(g),_,x;for(x=0;x<c.length;x++)_=c[x],!(d.indexOf(_)>=0)&&(v[_]=g[_]);return v}var ia=function(d){var v=d.svgRef,c=d.title,_=ra(d,na);return r.createElement("svg",$n({width:"25px",height:"46px",viewBox:"0 0 25 46",ref:v},_),c?r.createElement("title",null,c):null,Ir||(Ir=r.createElement("defs",null,r.createElement("path",{d:"M0,0 L12.7371541,2.3882164 C14.6290458,2.74294608 16,4.39484487 16,6.31970515 L16,31.6802949 C16,33.6051551 14.6290458,35.2570539 12.7371541,35.6117836 L0,38 L0,38 L0,0 Z",id:"path-1"}),r.createElement("filter",{x:"0.0%",y:"-13.2%",width:"156.2%",height:"121.1%",filterUnits:"objectBoundingBox",id:"filter-2"},r.createElement("feGaussianBlur",{stdDeviation:0,in:"SourceGraphic"})),r.createElement("filter",{x:"-28.1%",y:"-25.0%",width:"212.5%",height:"144.7%",filterUnits:"objectBoundingBox",id:"filter-3"},r.createElement("feOffset",{dx:5,dy:-1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.05 0",type:"matrix",in:"shadowBlurOuter1"})))),wr||(wr=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"14.\\u6536\\u8D77\\u5206\\u7EC4\\u533A",transform:"translate(0.000000, -262.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 267.000000)"},r.createElement("g",{id:"Rectangle",filter:"url(#filter-2)"},r.createElement("use",{fill:"black",fillOpacity:1,filter:"url(#filter-3)",xlinkHref:"#path-1"}),r.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})),r.createElement("g",{id:"\\u8FD4\\u56DE",transform:"translate(0.000000, 11.000000)",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,transform:"translate(8.000000, 8.000000) scale(-1, -1) translate(-8.000000, -8.000000) ",x:0,y:0,width:16,height:16}),r.createElement("polygon",{id:"Path",points:"10.803 15.875 2.928 8 10.803 0.125 11.51 0.832 4.342 8 11.51 15.168"})))))))},oa=r.forwardRef(function(g,d){return r.createElement(ia,$n({svgRef:d},g))}),Ha=a.p+"static/compare_collapse.7ca034f8.svg",Mr,Fr,sa=["svgRef","title"];function Yn(){return Yn=Object.assign?Object.assign.bind():function(g){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&(g[c]=v[c])}return g},Yn.apply(this,arguments)}function la(g,d){if(g==null)return{};var v=ua(g,d),c,_;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(g);for(_=0;_<x.length;_++)c=x[_],!(d.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,c)||(v[c]=g[c]))}return v}function ua(g,d){if(g==null)return{};var v={},c=Object.keys(g),_,x;for(x=0;x<c.length;x++)_=c[x],!(d.indexOf(_)>=0)&&(v[_]=g[_]);return v}var ca=function(d){var v=d.svgRef,c=d.title,_=la(d,sa);return r.createElement("svg",Yn({width:"25px",height:"46px",viewBox:"0 0 25 46",ref:v},_),c?r.createElement("title",null,c):null,Mr||(Mr=r.createElement("defs",null,r.createElement("path",{d:"M0,0 L12.7371541,2.3882164 C14.6290458,2.74294608 16,4.39484487 16,6.31970515 L16,31.6802949 C16,33.6051551 14.6290458,35.2570539 12.7371541,35.6117836 L0,38 L0,38 L0,0 Z",id:"path-1"}),r.createElement("filter",{x:"0.0%",y:"-13.2%",width:"156.2%",height:"121.1%",filterUnits:"objectBoundingBox",id:"filter-2"},r.createElement("feGaussianBlur",{stdDeviation:0,in:"SourceGraphic"})),r.createElement("filter",{x:"-28.1%",y:"-25.0%",width:"212.5%",height:"144.7%",filterUnits:"objectBoundingBox",id:"filter-3"},r.createElement("feOffset",{dx:5,dy:-1,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.05 0",type:"matrix",in:"shadowBlurOuter1"})))),Fr||(Fr=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"14.\\u6536\\u8D77\\u5206\\u7EC4\\u533A",transform:"translate(0.000000, -262.000000)"},r.createElement("g",{id:"Group-3",transform:"translate(0.000000, 267.000000)"},r.createElement("g",{id:"Rectangle",filter:"url(#filter-2)"},r.createElement("use",{fill:"black",fillOpacity:1,filter:"url(#filter-3)",xlinkHref:"#path-1"}),r.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})),r.createElement("g",{id:"\\u8FD4\\u56DE",transform:"translate(8.000000, 19.000000) scale(-1, 1) translate(-8.000000, -19.000000) translate(0.000000, 11.000000)",fill:"#000000",fillRule:"nonzero"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("polygon",{id:"Path",points:"10.803 15.875 2.928 8 10.803 0.125 11.51 0.832 4.342 8 11.51 15.168"})))))))},da=r.forwardRef(function(g,d){return r.createElement(ca,Yn({svgRef:d},g))}),Ba=a.p+"static/compare_expand.f7f83064.svg",fa=a(45227),sr=a(89901),pa=function(d){return d.map(function(v,c){if(v.product_version=v.product_version||v.name,f().isArray(v.members)&&v.members[0]){var _=v.members[0].product_version||v.members[0].version;_&&(v.product_version=_)}return v.id=+new Date+c,v})},va=function(d){var v=d.filter(function(c){return c&&f().isArray(c.members)}).map(function(c,_){var x=c.members.filter(function(L){return L}).map(function(L,R){return L.job_id?(0,i.Z)((0,i.Z)({},L),{},{id:"".concat(_,"-").concat(L.id,"-").concat(R)}):(0,i.Z)((0,i.Z)({},L),{},{id:"".concat(_,"-").concat(L.id,"-").concat(R),job_id:L.id})});return(0,i.Z)((0,i.Z)({},c),{},{id:"group-".concat(_),members:x})});return v},ma=function(d){var v=d.filter(function(c){return c}).map(function(c,_){return c.job_id?(0,i.Z)((0,i.Z)({},c),{},{id:"".concat(c.id,"-").concat(_)}):(0,i.Z)((0,i.Z)({},c),{},{id:"".concat(c.id,"-").concat(_),job_id:c.id})});return v},Lr=function(d){var v=(0,m.YB)(),c=v.formatMessage,_=(0,m.Kd)()==="en-US",x=d.text,L=d.flag,R=d.isBaseGroup,Q=x;x!=null&&x.match(/^对比组[0-9]+$/)&&(Q=c({id:"analysis.comparison.group"})+x.slice(3));var Ze=_?y().workspace_name_en:y().workspace_name,xe=(0,e.jsxs)("span",{className:R?"".concat(Ze," ").concat(y().base_workspace_name):"".concat(Ze),children:[L?(0,e.jsx)(me.Z,{color:"#0089FF",className:y().baselineColorFn,children:(0,e.jsx)(m._H,{id:"analysis.base"})}):"",Q]});return(0,e.jsxs)(e.Fragment,{children:[R&&(0,e.jsx)("span",{title:c({id:"analysis.benchmark.group"}),style:{paddingRight:4,transform:"translateY(-12px)",width:16,display:"inline-block"},children:(0,e.jsx)(Cn,{title:c({id:"analysis.benchmark.group"})})}),(0,e.jsx)(G.Z,{title:Q,overlayStyle:{wordBreak:"break-all"},children:xe})]})},ha=function(d){return(0,i.Z)({display:"flex",alignItems:"flex-start",overflowY:"hidden",userSelect:"none",outline:"none"},d)},lr=function(d){return(0,i.Z)({userSelect:"none",outline:"none",marginRight:16},d)},Dn=function(d){return(0,i.Z)({userSelect:"none",outline:"none"},d)},Na=a(14320),En=a(53479),Ga=a(70772),sn=a(6701),Ka=a(40118),Ar=a(29966),ur=a(15122),Tr=a(22911),cr=a(76742),dr=a(79390),ga=Ar.Z.RangePicker,Hr=Ie.Z.Option,Br={all_job:0,data:[],fail_job:0,my_job:0,pending_job:0,running_job:0,stop_job:0,success_job:0,total:0},_a={container:210,button_width:105},xa=function(d,v){var c=d.onOk,_=d.noGroupData,x=d.groupData,L=(0,Ke.UO)(),R=L.ws_id,Q={page_num:1,page_size:10,ws_id:R,state:"success,fail,skip,stop,running"},Ze=(0,Ee.CR)(),xe=Ze.height,$=xe>=728?xe-128:600,ye=(0,r.useState)(!1),Oe=(0,h.Z)(ye,2),b=Oe[0],B=Oe[1],Ne=(0,r.useState)([]),He=(0,h.Z)(Ne,2),Y=He[0],E=He[1],Se=(0,r.useState)([]),Be=(0,h.Z)(Se,2),K=Be[0],F=Be[1],le=(0,r.useState)([]),te=(0,h.Z)(le,2),k=te[0],V=te[1],Ue=(0,r.useState)([]),et=(0,h.Z)(Ue,2),we=et[0],Me=et[1],wt=(0,r.useState)(!1),ke=(0,h.Z)(wt,2),lt=ke[0],ut=ke[1],zt=(0,m.YB)(),Fe=zt.formatMessage,yt=(0,r.useState)(Q),Dt=(0,h.Z)(yt,2),ne=Dt[0],D=Dt[1],C=(0,r.useState)(!0),I=(0,h.Z)(C,2),A=I[0],re=I[1],Z=[{id:1,name:Fe({id:"header.test_type.functional"})},{id:0,name:Fe({id:"header.test_type.performance"})}],z=(0,r.useState)(),W=(0,h.Z)(z,2),pe=W[0],ae=W[1],ie=(0,r.useState)(),$e=(0,h.Z)(ie,2),rt=$e[0],at=$e[1],Et=(0,r.useState)(Br),hn=(0,h.Z)(Et,2),tt=hn[0],ct=hn[1];r.useImperativeHandle(v,function(){return{show:function(){B(!0)}}});var Nn=function(S,P,J){var U=P[0],Pe=P[1];!U&&!Pe&&D((0,i.Z)((0,i.Z)({},ne),{},{creation_time:null})),U&&Pe&&D((0,i.Z)((0,i.Z)({},ne),{},{creation_time:JSON.stringify({start_time:U,end_time:Pe})})),J==null||J()},ln=function(){var O=(0,Ge.Z)((0,fe.Z)().mark(function S(P){var J,U;return(0,fe.Z)().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:return ut(!0),en.next=3,(0,se.VX)({ws_id:R,product_id:P});case 3:J=en.sent,J.code===200?(U=J.data.filter(function(tn){return tn==null?void 0:tn.trim()}),U=U.map(function(tn,fn){return{label:fn,value:tn}}),V(U),!!U.length&&pe?at(U[0].value):at(void 0)):(0,Bn.EV)(J.code,J.msg),ut(!1);case 6:case"end":return en.stop()}},S)}));return function(P){return O.apply(this,arguments)}}(),On=function(){var O=(0,Ge.Z)((0,fe.Z)().mark(function S(){var P,J;return(0,fe.Z)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return ut(!0),Pe.next=3,(0,se.lI)({ws_id:R});case 3:P=Pe.sent,P.code===200?(J=f().isArray(P.data)?P.data:[],F(J),J.length&&ae(void 0)):(0,Bn.EV)(P.code,P.msg),ut(!1);case 6:case"end":return Pe.stop()}},S)}));return function(){return O.apply(this,arguments)}}(),Gn=function(){var O=(0,Ge.Z)((0,fe.Z)().mark(function S(){var P;return(0,fe.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return ut(!0),U.next=3,(0,se._V)(ne);case 3:P=U.sent,P.code===200?(ct(P),ut(!1)):(ct(Br),(0,Bn.EV)(P.code,P.msg));case 5:case"end":return U.stop()}},S)}));return function(){return O.apply(this,arguments)}}();(0,r.useEffect)(function(){_.length&&(E(_.map(function(O){return O.id})),Me(_))},[_]);var Rn=[{title:"Job ID",dataIndex:"id",width:100,ellipsis:{shwoTitle:!1},filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(vn.Z,{confirm:P,autoFocus:A,onConfirm:function(U){D((0,i.Z)((0,i.Z)({},ne),{},{job_id:U,page_num:1}))},placeholder:Fe({id:"analysis.JobID.placeholder"})})},onFilterDropdownVisibleChange:function(S){S&&re(!A)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:ne.job_id?"#1890ff":void 0}})},render:function(S,P){return S}},{title:(0,e.jsx)(m._H,{id:"analysis.job.name"}),dataIndex:"name",width:300,ellipsis:{shwoTitle:!1},filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(vn.Z,{confirm:P,autoFocus:A,styleObj:_a,onConfirm:function(U){D((0,i.Z)((0,i.Z)({},ne),{},{name:U,page_num:1}))},placeholder:Fe({id:"analysis.job.name.placeholder"})})},onFilterDropdownVisibleChange:function(S){S&&re(!A)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:ne.name?"#1890ff":void 0}})},render:function(S,P){return(0,e.jsx)($t.K,{ellipsis:{tooltip:P.name},children:(0,e.jsx)(Ct(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[ne.name||""],autoEscape:!0,textToHighlight:P&&P.name})})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_type"}),width:100,dataIndex:"test_type",ellipsis:{shwoTitle:!1},render:function(S,P){var J=["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(P.test_type)?"functional":"performance";return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:Fe({id:"header.test_type.".concat(J)})})},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:ne.test_type?"#1890ff":void 0}})},filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(ur.Z,{list:Z,confirm:P,onConfirm:function(U){var Pe=void 0;U===1&&(Pe="functional"),U===0&&(Pe="performance"),D((0,i.Z)((0,i.Z)({},ne),{},{test_type:Pe}))}})}},{title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:80,ellipsis:{shwoTitle:!1},dataIndex:"creator_name",filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(Tr.Z,{autoFocus:A,mode:"",confirm:P,onConfirm:function(U){return D((0,i.Z)((0,i.Z)({},ne),{},{creators:U?JSON.stringify([U]):null}))},page_size:9999})},onFilterDropdownVisibleChange:function(S){S&&re(!A)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:ne.creators&&ne.creators!=="[]"?"#1890ff":void 0}})},render:function(S){return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:S||"-"})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_time"}),width:180,ellipsis:{shwoTitle:!1},dataIndex:"start_time",filterDropdown:function(S){var P=S.confirm;return(0,e.jsx)(ga,{size:"middle",showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",onChange:f().partial(Nn,f(),f(),P)})},onFilterDropdownVisibleChange:function(S){S&&re(!A)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:ne.creation_time?"#1890ff":void 0}})},render:function(S){return S||"-"}}];(0,r.useEffect)(function(){On(),ln(void 0)},[]),(0,r.useEffect)(function(){pe&&ln(pe)},[pe]),(0,r.useEffect)(function(){Gn()},[ne]),(0,r.useEffect)(function(){pe&&!rt&&D((0,i.Z)((0,i.Z)({},ne),{},{product_id:pe,product_version:void 0})),pe&&rt&&D((0,i.Z)((0,i.Z)({},ne),{},{product_version:rt,product_id:pe}))},[pe,rt]);var Pn=function(S){at(S)},gn=function(S){ae(S)},jt=function(){at(void 0),D((0,i.Z)((0,i.Z)({},ne),{},{product_version:void 0}))},_n=function(){ae(void 0),at(void 0),D(Q)},In=function(S,P){if(P){var J=we.concat(S);Me(J),E(J.map(function(Pe){return Pe.id}))}else{var U=we.filter(function(Pe){return Pe.id!==S.id});Me(U),E(U.map(function(Pe){return Pe.id}))}},wn=function(S){var P=f().isArray(S)?S:[],J=[];P.forEach(function(U){return J.push(U.id)}),E([].concat((0,ee.Z)(Y),J)),Me([].concat((0,ee.Z)(we),(0,ee.Z)(P)))},Kn=function(S){var P=f().isArray(S)?S:[],J=[];P.forEach(function(U){return J.push(U.id)}),E(f().difference(Y,J)),Me(f().differenceBy(we,P,"id"))},Mn=x.filter(function(O){return O.type==="job"}).reduce(function(O,S){var P=S.members;return O.concat(P.map(function(J){return J.id}))},[]),un={selectedRowKeys:Y,preserveSelectedRowKeys:!1,getCheckboxProps:function(S){return{disabled:Mn.includes(S.id),name:S.name}},onSelect:In,onSelectAll:function(S,P,J){if(S){wn(J);return}else Kn(J)}},cn=function(){E([]),Me([])},xn=function(){B(!1)},yn=function(){c(we),xn()},kn=f().isArray(tt.data)?tt.data:[],dn={height:$-339>430?430:$-339};return(0,e.jsx)(_t.Z,{title:Fe({id:"analysis.select.job"}),open:b,centered:!0,width:1e3,maskClosable:!1,destroyOnClose:!0,footer:null,onOk:yn,onCancel:xn,children:(0,e.jsxs)("div",{className:y().list_container,id:"list_container",children:[(0,e.jsxs)("div",{className:y().select_product,children:[(0,e.jsxs)(En.Z,{children:[(0,e.jsxs)(sn.Z,{span:12,children:[(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.product.label"})}),(0,e.jsx)(Ie.Z,{showSearch:!0,allowClear:!0,style:{width:"calc(100% - 75px)"},placeholder:Fe({id:"analysis.product.placeholder"}),value:pe,optionFilterProp:"children",onSelect:gn,onClear:_n,filterOption:function(S,P){return P.children.toLowerCase().indexOf(S.toLowerCase())>=0},children:K.map(function(O){return(0,e.jsx)(Hr,{value:O.id,children:O.name},O.id)})})]}),(0,e.jsxs)(sn.Z,{span:12,children:[(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.version.label"})}),(0,e.jsx)(Ie.Z,{showSearch:!0,allowClear:!0,style:{width:"calc(100% - ".concat((0,m.Kd)()==="en-US"?120:75,"px)")},placeholder:Fe({id:"analysis.version.placeholder"}),value:rt,optionFilterProp:"children",onSelect:Pn,onClear:jt,filterOption:function(S,P){return P.children.toLowerCase().indexOf(S.toLowerCase())>=0},children:k.map(function(O){return(0,e.jsx)(Hr,{value:O.value,children:O.value},O.label)})})]})]}),(0,e.jsx)("div",{className:y().job_text,children:(0,e.jsx)(m._H,{id:"analysis.job.table"})}),(0,e.jsx)(T.Z,{className:y().line})]}),(0,e.jsx)(Ut.$B,{style:dn,className:y().scroll,children:(0,e.jsx)(dr.sL,{rowSelection:un,rowKey:"id",columns:Rn,name:"ws-compare-all-job-list",refreshDeps:[R,ne,A],loading:lt,dataSource:kn,pagination:!1,size:"small"})}),(0,e.jsx)(cr.Z,{total:tt.total,currentPage:ne&&ne.page_num,pageSize:ne&&ne.page_size,onPageChange:function(S,P){D((0,i.Z)((0,i.Z)({},ne),{},{page_num:S,page_size:P}))}}),(0,e.jsx)(T.Z,{className:y().footer_line}),(0,e.jsxs)("div",{className:y().footer,children:[(0,e.jsxs)("span",{children:[(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.selected"})}),(0,e.jsx)("span",{className:y().text_num,children:"".concat(we.length)}),(0,e.jsx)("span",{children:(0,e.jsx)(m._H,{id:"analysis.item"})}),(0,e.jsx)("span",{className:y().text_cancle,onClick:cn,children:(0,e.jsx)(m._H,{id:"analysis.all.cancel"})})]}),(0,e.jsx)("span",{children:(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(je.Z,{onClick:xn,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(je.Z,{type:"primary",onClick:yn,children:(0,e.jsx)(m._H,{id:"operation.ok"})})]})})]})]})})},ya=r.forwardRef(xa),Xn=a(91959),ja=function(d,v){var c=d.onOk,_=r.useState(!1),x=(0,h.Z)(_,2),L=x[0],R=x[1],Q=r.useState(),Ze=(0,h.Z)(Q,2),xe=Ze[0],$=Ze[1],ye=function(){R(!1)};r.useImperativeHandle(v,function(){return{show:function(B){$(B),R(!0)}}});var Oe=function(){c==null||c(xe),R(!1)};return(0,e.jsx)(_t.Z,{title:(0,e.jsx)(m._H,{id:"delete.prompt"}),open:L,width:480,className:y().baseline_del_modal,destroyOnClose:!0,onCancel:ye,footer:(0,e.jsx)(En.Z,{justify:"end",children:(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(je.Z,{onClick:ye,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(je.Z,{onClick:Oe,type:"primary",danger:!0,children:(0,e.jsx)(m._H,{id:"operation.delete"})})]})}),children:(0,e.jsxs)("span",{children:[(0,e.jsx)(m._H,{id:"analysis.are.you.sure.delete.group"}),"\u3010",xe==null?void 0:xe.name,"\u3011"]})})},ba=r.forwardRef(ja),fr=a(33074),Za={page_size:10,page_num:1},Nr=function(d,v){return d.filter(function(c){return c.type===v}).reduce(function(c,_){var x;return!_||!_.members?c:c.concat((x=_.members)===null||x===void 0?void 0:x.map(function(L){return L.id}))},[])},Sa=function(d){var v,c=d.selectedRowDatas,_=d.setSelectedRowDatas,x=d.product_id,L=d.product_version,R=d.members,Q=d.noGroupData,Ze=d.allGroupData,xe=d.activeKey,$=Nr(Q,xe).concat(Nr(Ze,xe)).filter(function(D){return!R.map(function(C){return C.id}).includes(D)}),ye=(0,Ke.UO)(),Oe=ye.ws_id,b=(0,m.YB)(),B=b.formatMessage,Ne=[{id:1,name:B({id:"header.test_type.functional"})},{id:0,name:B({id:"header.test_type.performance"})}],He=r.useState((0,i.Z)((0,i.Z)({},Za),{},{ws_id:Oe,state:"success,fail,skip,stop,running",filter_id:$.toString()})),Y=(0,h.Z)(He,2),E=Y[0],Se=Y[1],Be=r.useState(!0),K=(0,h.Z)(Be,2),F=K[0],le=K[1],te=r.useState([]),k=(0,h.Z)(te,2),V=k[0],Ue=k[1],et=function(){var D=(0,Ge.Z)((0,fe.Z)().mark(function C(I){var A,re,Z;return(0,fe.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,se.VX)({ws_id:Oe,product_id:I});case 2:if(A=W.sent,re=A.data,Z=A.code,Z!==200){W.next=7;break}return W.abrupt("return",re||[]);case 7:return W.abrupt("return",[]);case 8:case"end":return W.stop()}},C)}));return function(I){return D.apply(this,arguments)}}(),we=(0,fr.ZP)(function(){return(0,se.lI)({ws_id:Oe})},{initialData:[]}),Me=we.data.data,wt=(0,fr.ZP)(function(){return(0,se._V)(E)},{debounceInterval:200,refreshDeps:[E],ready:!!E.product_id&&!!E.product_version}),ke=wt.data,lt=wt.loading;r.useEffect(function(){if(Me&&Me.length>0){var D={product_id:x!=null?x:Me[0].id,product_version:L};D.product_id&&et(D.product_id).then(function(C){Ue(C);var I=C.length>0?C[0]:void 0;Se(function(A){return L?(0,i.Z)((0,i.Z)({},A),D):(0,i.Z)((0,i.Z)((0,i.Z)({},A),D),{},{product_version:I})})})}},[Me,x,L]);var ut=r.useMemo(function(){return L&&x},[L,x]),zt=function(C,I,A){var re=I[0],Z=I[1];!re&&!Z&&Se(function(z){return(0,i.Z)((0,i.Z)({},z),{},{creation_time:null,page_num:1})}),re&&Z&&Se(function(z){return(0,i.Z)((0,i.Z)({},z),{},{creation_time:JSON.stringify({start_time:re,end_time:Z}),page_num:1})}),A==null||A()},Fe=[{title:"Job ID",dataIndex:"id",width:100,ellipsis:{shwoTitle:!1},filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(vn.Z,{confirm:I,autoFocus:F,onConfirm:function(re){return Se(function(Z){return(0,i.Z)((0,i.Z)({},Z),{},{job_id:re,page_num:1})})},placeholder:B({id:"analysis.JobID.placeholder"})})},onFilterDropdownVisibleChange:function(C){C&&le(!F)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:E!=null&&E.job_id?"#1890ff":void 0}})},render:function(C){return C}},{title:(0,e.jsx)(m._H,{id:"analysis.job.name"}),dataIndex:"name",width:300,ellipsis:{shwoTitle:!1},filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(vn.Z,{confirm:I,autoFocus:F,styleObj:{container:230,button_width:115},onConfirm:function(re){return Se(function(Z){return(0,i.Z)((0,i.Z)({},Z),{},{name:re,page_num:1})})},placeholder:B({id:"analysis.job.name.placeholder"})})},onFilterDropdownVisibleChange:function(C){C&&le(!F)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:E!=null&&E.name?"#1890ff":void 0}})},render:function(C,I){return(0,e.jsx)($t.K,{ellipsis:{tooltip:I.name},children:(0,e.jsx)(Ct(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[(E==null?void 0:E.name)||""],autoEscape:!0,textToHighlight:I&&I.name})})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_type"}),width:100,dataIndex:"test_type",ellipsis:{shwoTitle:!1},render:function(C,I){return["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(I.test_type)?(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:B({id:"header.test_type.functional"})}):(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:B({id:"header.test_type.performance"})})},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:E!=null&&E.test_type?"#1890ff":void 0}})},filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(ur.Z,{list:Ne,confirm:I,onConfirm:function(re){var Z=void 0;re===1&&(Z="functional"),re===0&&(Z="performance"),Se(function(z){return(0,i.Z)((0,i.Z)({},z),{},{test_type:Z,page_num:1})})}})}},{title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:80,ellipsis:{shwoTitle:!1},dataIndex:"creator_name",filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(Tr.Z,{autoFocus:F,mode:"",confirm:I,onConfirm:function(re){return Se(function(Z){return(0,i.Z)((0,i.Z)({},Z),{},{creators:re?JSON.stringify([re]):null,page_num:1})})},page_size:9999})},onFilterDropdownVisibleChange:function(C){C&&le(!F)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:E!=null&&E.creators&&(E==null?void 0:E.creators)!=="[]"?"#1890ff":void 0}})},render:function(C){return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:C||"-"})}},{title:(0,e.jsx)(m._H,{id:"analysis.test_time"}),width:180,ellipsis:{shwoTitle:!1},dataIndex:"start_time",filterDropdown:function(C){var I=C.confirm;return(0,e.jsx)(Ar.Z.RangePicker,{size:"middle",showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD HH:mm:ss",onChange:f().partial(zt,f(),f(),I)})},onFilterDropdownVisibleChange:function(C){C&&le(!F)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:E!=null&&E.creation_time?"#1890ff":void 0}})},render:function(C){return C||"-"}}],yt=function(C,I){_(function(A){return I?A.concat(C):A.filter(function(re){return re.id!==C.id})})},Dt={selectedRowKeys:c.map(function(D){return D.id}),getCheckboxProps:function(C){var I=!R&&x===(C==null?void 0:C.product_id)&&!["success","fail"].includes(C==null?void 0:C.state);return{disabled:I,name:C.name}},preserveSelectedRowKeys:!1,onSelect:yt,onSelectAll:function(C,I,A){var re=A.map(function(Z){return Z.id});_(function(Z){return C?Z.concat(A):Z.filter(function(z){return!re.includes(z.id)})})}},ne={showSearch:!0,allClear:!0,optionFilterProp:"children",disabled:ut,style:{width:"100%"},filterOption:function(C,I){var A;return((A=I.label)===null||A===void 0?void 0:A.toLowerCase().indexOf(C.toLowerCase()))>=0}};return(0,e.jsxs)(N.Z,{direction:"vertical",style:{width:"100%",padding:"0 16px"},size:0,children:[(0,e.jsxs)(En.Z,{gutter:20,children:[(0,e.jsx)(sn.Z,{span:12,children:(0,e.jsxs)(En.Z,{align:"middle",children:[(0,e.jsx)(sn.Z,{span:4,children:(0,e.jsx)(m._H,{id:"analysis.product.label"})}),(0,e.jsx)(sn.Z,{span:20,children:(0,e.jsx)(Ie.Z,(0,i.Z)((0,i.Z)({},ne),{},{placeholder:B({id:"analysis.product.placeholder"}),value:E.product_id,onSelect:function(C){et(C).then(function(I){var A=I&&I.length>0?I[0]:void 0;Se(function(re){return(0,i.Z)((0,i.Z)({},re),{},{page_num:1,product_id:C,product_version:A})}),Ue(I),_([])})},options:Me==null?void 0:Me.map(function(D){return{value:D.id,label:D.name}})}))})]})}),(0,e.jsx)(sn.Z,{span:12,children:(0,e.jsxs)(En.Z,{align:"middle",children:[(0,e.jsx)(sn.Z,{span:4,children:(0,e.jsx)(m._H,{id:"analysis.version.label"})}),(0,e.jsx)(sn.Z,{span:20,children:(0,e.jsx)(Ie.Z,(0,i.Z)((0,i.Z)({},ne),{},{placeholder:B({id:"analysis.version.placeholder"}),value:E.product_version,onSelect:function(C){Se((0,i.Z)((0,i.Z)({},E),{},{product_version:C})),_([])},options:V==null?void 0:V.map(function(D){return{value:D,label:D}})}))})]})})]}),(0,e.jsxs)(N.Z,{direction:"vertical",size:0,style:{width:"100%"},children:[(0,e.jsx)(dr.sL,{rowSelection:Dt,rowKey:"id",name:"ws-analysis-compare-job-add",refreshDeps:[Oe,E,c,ut,d],columns:Fe,loading:lt,dataSource:(v=ke==null?void 0:ke.data)!==null&&v!==void 0?v:[],pagination:!1,size:"small"}),(0,e.jsx)(cr.Z,{total:ke==null?void 0:ke.total,currentPage:E==null?void 0:E.page_num,pageSize:E==null?void 0:E.page_size,onPageChange:function(C,I){return Se(function(A){return(0,i.Z)((0,i.Z)({},A),{},{page_num:C,page_size:I})})}})]})]})},Ca=Sa,Da=a(93299),Ea={page_num:1,page_size:10},Oa=function(d){var v=d.selectedRowDatas,c=d.setSelectedRowDatas,_=(0,Ke.UO)(),x=_.ws_id,L=(0,m.YB)(),R=L.formatMessage,Q=[{id:1,name:R({id:"header.test_type.functional"})},{id:0,name:R({id:"header.test_type.performance"})}],Ze=r.useState(Ea),xe=(0,h.Z)(Ze,2),$=xe[0],ye=xe[1],Oe=r.useState(!0),b=(0,h.Z)(Oe,2),B=b[0],Ne=b[1],He=(0,fr.ZP)(function(){return(0,se.xP)((0,i.Z)((0,i.Z)({},$),{},{ws_id:x}))},{debounceInterval:200,refreshDeps:[$]}),Y=He.data,E=He.loading,Se={selectedRowKeys:v.map(function(K){return K.id}),preserveSelectedRowKeys:!1,getCheckboxProps:function(F){return{name:F.name}},onSelect:function(F,le){c(function(te){return le?te.concat(F):te.filter(function(k){return k.id!==F.id})})},onSelectAll:function(F,le,te){var k=te.map(function(V){return V.id});c(function(V){return F?V.concat(te):V.filter(function(Ue){return!k.includes(Ue.id)})})}},Be=[{title:(0,e.jsx)(m._H,{id:"analysis.baseline_name"}),dataIndex:"name",width:150,ellipsis:{shwoTitle:!1},filterDropdown:function(F){var le=F.confirm;return(0,e.jsx)(vn.Z,{confirm:le,autoFocus:B,onConfirm:function(k){return ye(function(V){return(0,i.Z)((0,i.Z)({},V),{},{name:k,page_num:1})})},placeholder:R({id:"analysis.baseline.placeholder"})})},onFilterDropdownVisibleChange:function(F){F&&Ne(!B)},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:$!=null&&$.name?"#1890ff":void 0}})},render:function(F){return F}},{title:(0,e.jsx)(m._H,{id:"analysis.test_type"}),width:100,dataIndex:"test_type",ellipsis:{shwoTitle:!1},render:function(F,le){var te=["\u529F\u80FD","\u529F\u80FD\u6D4B\u8BD5","functional"].includes(le.test_type)?"functional":"performance";return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:R({id:"header.test_type.".concat(te)})})},filterIcon:function(){return(0,e.jsx)(_e.Z,{style:{color:$!=null&&$.test_type?"#1890ff":void 0}})},filterDropdown:function(F){var le=F.confirm;return(0,e.jsx)(ur.Z,{list:Q,confirm:le,onConfirm:function(k){var V=void 0;k===1&&(V="functional"),k===0&&(V="performance"),ye(function(Ue){return(0,i.Z)((0,i.Z)({},Ue),{},{test_type:V,page_num:1})})}})}},(0,i.Z)((0,i.Z)({title:(0,e.jsx)(m._H,{id:"analysis.creator_name"}),width:80,ellipsis:{shwoTitle:!1},dataIndex:"creator_name"},(0,Da.ln)($,ye,"creator")),{},{render:function(F){return(0,e.jsx)($t.K,{ellipsis:{tooltip:!0},children:F||"-"})}}),{title:(0,e.jsx)(m._H,{id:"analysis.gmt_created"}),width:180,ellipsis:{shwoTitle:!1},dataIndex:"gmt_created",render:function(F){return F||"-"}}];return(0,e.jsxs)(N.Z,{direction:"vertical",style:{width:"100%",display:"flex",padding:"0 16px"},size:0,children:[(0,e.jsx)(dr.sL,{rowSelection:Se,rowKey:"id",name:"ws-analysis-compare-baseline-add",columns:Be,refreshDeps:[$,x],loading:E,dataSource:Y==null?void 0:Y.data,pagination:!1,size:"small"}),(0,e.jsx)(cr.Z,{total:Y==null?void 0:Y.total,currentPage:$==null?void 0:$.page_num,pageSize:$==null?void 0:$.page_size,onPageChange:function(F,le){return ye(function(te){return(0,i.Z)((0,i.Z)({},te),{},{page_num:F,page_size:le})})}})]})},Ra=Oa,Pa=function(d,v){var c=d.onOk,_=(0,m.YB)(),x=r.useState(),L=(0,h.Z)(x,2),R=L[0],Q=L[1],Ze=r.useState(!1),xe=(0,h.Z)(Ze,2),$=xe[0],ye=xe[1],Oe=r.useState([]),b=(0,h.Z)(Oe,2),B=b[0],Ne=b[1],He=r.useState("job"),Y=(0,h.Z)(He,2),E=Y[0],Se=Y[1],Be=function(V){Se(V),Ne(V===(R==null?void 0:R.type)?R==null?void 0:R.members:[])};r.useImperativeHandle(v,function(){return{show:function(V){Q(V),Se((V==null?void 0:V.type)||"job"),ye(!0),Ne(V.members||[])}}});var K=function(){ye(!1),Ne([]),Se("job")},F=function(){var V={};if(E==="job"&&B.length>0){var Ue=B[0],et=Ue.product_id,we=Ue.product_version;V.product_id=et,V.product_version=we}var Me=(0,i.Z)((0,i.Z)((0,i.Z)({},R),{},{members:B},V),{},{type:E});c==null||c(Me),K()},le=(0,i.Z)((0,i.Z)((0,i.Z)({},d),R),{},{activeKey:E,selectedRowDatas:B,setSelectedRowDatas:Ne}),te=function(V){return R!=null&&R.type?(R==null?void 0:R.type)!==V:!1};return(0,e.jsx)(_t.Z,{title:R==null?void 0:R.name,centered:!0,open:$,width:1e3,className:y().baseline_del_modal,onOk:F,onCancel:K,maskClosable:!1,destroyOnClose:!0,bodyStyle:{padding:0,minHeight:480},footer:(0,e.jsxs)(En.Z,{justify:"space-between",align:"middle",children:[(0,e.jsxs)(N.Z,{children:[(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(m._H,{id:"analysis.selected"}),B.length,(0,e.jsx)(m._H,{id:"analysis.item"})]}),(0,e.jsx)(H.Z.Link,{onClick:function(){return Ne([])},children:(0,e.jsx)(m._H,{id:"analysis.all.cancel"})})]}),(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(je.Z,{onClick:K,children:(0,e.jsx)(m._H,{id:"operation.cancel"})}),(0,e.jsx)(je.Z,{type:"primary",onClick:F,children:(0,e.jsx)(m._H,{id:"operation.ok"})})]})]}),children:(0,e.jsx)(Te.Z,{activeKey:E,onTabClick:Be,items:["job","baseline"].map(function(k){return{key:k,disabled:te(k),label:_.formatMessage({id:"analysis.".concat(k,".data")}),children:k==="job"?(0,e.jsx)(Ca,(0,i.Z)({},le)):(0,e.jsx)(Ra,(0,i.Z)({},le))}})})})},Ia=r.forwardRef(Pa),wa=H.Z.Text,Qn=Ie.Z.Option,Ma=function(g){var d=(0,m.YB)(),v=d.formatMessage,c=(0,m.Kd)()==="en-US",_=(0,Ke.UO)(),x=_.ws_id,L=g.location.state,R=f().get(L,"".concat(x,"-compareData"));R=R&&f().isArray(JSON.parse(R))?JSON.parse(R):[],R=pa(R);var Q=f().get(L,"".concat(x,"-noGroupJobData"));Q=Q&&f().isArray(JSON.parse(Q))?JSON.parse(Q):[];var Ze=f().get(L,"".concat(x,"-originType"))||"",xe=(0,Ee.CR)(),$=xe.height,ye=(0,r.useState)(R),Oe=(0,h.Z)(ye,2),b=Oe[0],B=Oe[1],Ne=(0,r.useState)(Q),He=(0,h.Z)(Ne,2),Y=He[0],E=He[1],Se=(0,r.useRef)(null),Be=(0,r.useState)(!1),K=(0,h.Z)(Be,2),F=K[0],le=K[1],te=(0,r.useRef)([]),k=(0,r.useRef)([]),V=(0,r.useState)(!1),Ue=(0,h.Z)(V,2),et=Ue[0],we=Ue[1],Me=(0,r.useState)(null),wt=(0,h.Z)(Me,2),ke=wt[0],lt=wt[1],ut=(0,r.useState)(!0),zt=(0,h.Z)(ut,2),Fe=zt[0],yt=zt[1],Dt=(0,r.useState)(!1),ne=(0,h.Z)(Dt,2),D=ne[0],C=ne[1],I=(0,r.useState)(null),A=(0,h.Z)(I,2),re=A[0],Z=A[1],z=(0,r.useState)(!0),W=(0,h.Z)(z,2),pe=W[0],ae=W[1],ie=(0,r.useRef)(null),$e=(0,r.useRef)(null);document.title="\u914D\u7F6E\u9875-T-One";var rt=(0,r.useRef)(null),at=(0,r.useRef)(null),Et=(0,r.useRef)(null),hn=(0,r.useRef)(null),tt=r.useMemo(function(){return b.findIndex(function(p){var t=p.is_base_group;return t})},[b]);(0,r.useEffect)(function(){Ze!=="test_result"&&_n()},[]);var ct=function(){yt(!Fe),Fe||(ie.current.style.left="0"),Fe&&(ie.current.style.left="-260px")};(0,r.useEffect)(function(){C(!!b.filter(function(p){return p.type==="job"}).reduce(function(p,t){var n=t.members;return p.concat(n)},[]).length)},[b]);var Nn=function(t){var n,s=(n=t.trim().match(/\(\d+\)$/))===null||n===void 0?void 0:n[0].replace(/[\(\)]/g,"");return s?+s:0},ln=function(t,n){var s=n.trim(),o=t.filter(function(l){return l.name.trim().replace(/\(\d+\)$/,"")===s}).map(function(l){return Nn(l.name)}).sort(function(l,j){return j-l}),u=o.at(0);return Object.prototype.toString.call(u)==="[object Number]"?"".concat(s,"(").concat(u+1,")"):s},On=function p(t,n){var s=t.filter(function(u){return u.product_version===t[0].product_version&&u.product_id===t[0].product_id});n.push(s);var o=f().xorWith(t,s,f().isEqual);o.length&&p(o,n),o.length||(n=n.map(function(u){var l,j;return{members:u,product_version:(l=u[0])===null||l===void 0?void 0:l.product_version,product_id:(j=u[0])===null||j===void 0?void 0:j.product_id}}),k.current=n)},Gn=function p(t,n){var s=t.filter(function(u){return u.product_version===t[0].product_version&&u.server===t[0].server&&u.product_id===t[0].product_id});n.push(s);var o=f().xorWith(t,s,f().isEqual);o.length&&p(o,n),o.length||(n=n.map(function(u){return{members:u,product_version:u[0].product_version,server:u[0].server}}),k.current=n)},Rn=function(t){var n=f().cloneDeep(b),s=f().cloneDeep(Y),o=[];if(s.length&&t==="version"&&(On(s,[]),k.current.forEach(function(l){var j=f().find(n,function(oe){return oe.product_version===l.product_version&&oe.product_id===l.product_id});if(j){j.members=[].concat((0,ee.Z)(j.members),(0,ee.Z)(l.members));var w=f().findIndex(n,function(oe){return oe.id===j.id});w!==-1&&(n[w]=j)}if(!j){var M=jt(n,l.product_version),ve={product_version:l.product_version,members:l.members,product_id:l.product_id,name:M,type:"job",id:(0,Xn.Z)()};n.push(ve)}})),s.length&&t==="sn"){var u=[];s.forEach(function(l){l.server&&l.server.split(",").length===1&&u.push(l),(!l.server||l.server.split(",").length!==1)&&o.push(l)}),u.length&&Gn(u,[]),u.length||(k.current=[]),n=n.map(function(l){var j=!1,w=[];return l.members.forEach(function(M){f().get(M,"server")&&w.push(f().get(M,"server"))}),w=f().uniq(w),w.length===1&&w[0].split(",").length===1&&(j=!0),(0,i.Z)((0,i.Z)({},l),{},{isSnSame:j})}),k.current.forEach(function(l){var j=f().find(n,function(oe){return oe.product_version===l.product_version&&oe.isSnSame&&oe.members[0].server===l.server});if(j){j.members=[].concat((0,ee.Z)(j.members),(0,ee.Z)(l.members));var w=f().findIndex(n,function(oe){return oe.id===j.id});w!==-1&&(n[w]=j)}if(!j){var M=jt(n,l.product_version),ve={product_version:l.product_version,members:l.members,product_id:l.product_id,name:M,type:"job",id:(0,Xn.Z)()};n.push(ve)}})}Z(t),B(n),E(o)},Pn=function(){var t;(t=hn.current)===null||t===void 0||t.show()},gn=function(){var t=b.filter(function(o){return o.type!=="baseline"}),n=t.reduce(function(o,u){return o.concat(u.members)},[]).concat(Y),s=Object.entries(n.reduce(function(o,u){var l=u.id;return o[l]=u,o},{})).map(function(o){var u=(0,h.Z)(o,2),l=u[1];return l});Z(null),B(b.filter(function(o){return o.type==="baseline"})),E(s)},jt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v({id:"analysis.comparison.group"});return ln(t,n||v({id:"analysis.comparison.group"}))},_n=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=f().cloneDeep(b),s=jt(),o={product_version:void 0,product_id:void 0,members:[],name:s,type:t,id:(0,Xn.Z)()};n.push(o),B(n)},In=function(t,n){B(function(s){return s.map(function(o,u){return(0,i.Z)((0,i.Z)({},o),{},{is_base_group:n===u})})})},wn=function(t){lt("ongroup".concat(t))},Kn=function(t,n){lt("".concat(t).concat(n))},Mn=function(t){t||lt(null)},un=function(t,n){t.stopPropagation();var s=f().cloneDeep(Y);s=s.filter(function(o,u){return u!==n}),E(s),lt(null)},cn=function(t,n,s){t.stopPropagation();var o=f().cloneDeep(b);if(o[n].members=o[n].members.filter(function(l,j){return j!==s}),!o[n].members.length){var u=jt();o[n].product_version=u,o[n].name=u}B(o),lt(null)};r.useEffect(function(){window.sessionStorage.setItem("".concat(x,"-compareData"),JSON.stringify(b)),window.sessionStorage.setItem("".concat(x,"-noGroupJobData"),JSON.stringify(Y))},[b,Y,x]);var xn=function(t){B(function(n){var s=n.filter(function(o){return o.id!==t.id});return s})},yn=function(t){B(function(n){return n.map(function(s){return s.id===t.id?t:s})})},kn=function(){E([]),B([])},dn=r.useMemo(function(){var p=[],t=(0,Ce.Z)(b),n;try{for(t.s();!(n=t.n()).done;){var s=n.value;p.push(s.members)}}catch(o){t.e(o)}finally{t.f()}return!(p.length>0)},[b]),O=function(){if(!dn){for(var t=0,n=b.length;t<n;t++){var s=b[t];if(s.members&&s.members.length===0){he.default.warning(v({id:"analysis.comparison.group.compare_data.empty"}));return}}var o=0,u=!1;if(b.forEach(function(j){j.members.length>0&&(o++,u=j.type==="baseline")}),o>1&&tt===-1){we(!0);var l=v({id:"analysis.please.set.the.benchmark.group"});return he.default.warning(l)}if(o===1&&u)return he.default.warning(v({id:"analysis.please.add.comparison.group"}));b.length===1&&tt===-1&&B(function(j){return j.map(function(w){return(0,i.Z)((0,i.Z)({},w),{},{is_base_group:!0})})}),Et==null||Et.current.show()}};(0,r.useEffect)(function(){var p;et?p=setTimeout(function(){we(!1)},3e3):clearTimeout(p)},[et]);var S=function(){var p=(0,Ge.Z)((0,fe.Z)().mark(function t(n){var s;return(0,fe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,se.k3)(n);case 2:return s=u.sent,u.abrupt("return",s);case 4:case"end":return u.stop()}},t)}));return function(n){return p.apply(this,arguments)}}(),P=function(){var p=(0,Ge.Z)((0,fe.Z)().mark(function t(n){var s;return(0,fe.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,se.gQ)(n);case 2:return s=u.sent,u.abrupt("return",s);case 4:case"end":return u.stop()}},t)}));return function(n){return p.apply(this,arguments)}}(),J=function(){return b.filter(function(t){return f().get(t,"members")&&f().get(t,"members").length})},U=function(t){var n=(0,mn.LN)(t),s=fn(t);le(!0),Promise.all([S(n)]).then(function(o){if(le(!1),o[0].code===200){m.m8.push({pathname:"/ws/".concat(x,"/test_analysis/result"),state:{wsId:x,baselineGroupIndex:tt,allGroupData:J(),compareGroupData:s,domainGroupResult:o[0].data,testDataParam:t,envDataParam:s}});return}}).catch(function(o){le(!1),he.default.error(v({id:"request.failed"})),console.log(o)})},Pe=function(t,n){le(!0);var s=n.func_suite_dic||{},o=n.perf_suite_dic||{},u=0,l=Object.keys(s)||[],j=Object.keys(o)||[],w=[],M={func_suite_dic:(0,mn.wb)(s,b,u,l,w),perf_suite_dic:(0,mn.wb)(o,b,u,j,w)},ve=fn(n),oe=(0,mn.LN)(n);Promise.all([P(ve),S(oe)]).then(function(q){if(le(!1),q[0].code===200&&q[1].code===200){m.m8.push({pathname:"/ws/".concat(x,"/test_create_report"),state:{environmentResult:q[0].data,baselineGroupIndex:tt,allGroupData:J(),testDataParam:f().cloneDeep(M),domainGroupResult:q[1].data,compareGroupData:ve,saveReportData:t}});return}if(q[1].code===1358){var bt=v({id:"analysis.please.add.comparison.group"});he.default.error(bt);return}if(q[0].code!==200){he.default.error(q[0].msg);return}q[1].code!==200&&he.default.error(q[1].msg)}).catch(function(q){le(!1),he.default.error(v({id:"request.failed"})),console.log(q)})},en=function(t){var n;Et.current.hide(),(n=$e.current)===null||n===void 0||n.show(t)},tn=function p(t,n){var s=t.filter(function(u){return u.product_version===t[0].product_version});n.push(s);var o=f().xorWith(t,s,f().isEqual);o.length&&p(o,n),o.length||(n=n.map(function(u){return u.length<2?u:u.map(function(l,j){return(0,i.Z)((0,i.Z)({},l),{},{product_version:"".concat(l.product_version,"(").concat(++j,")")})})}),te.current=n)},fn=function(t){var n=(0,mn.Jn)(t),s=n.baseArr,o=n.compareArr,u=f().cloneDeep(b).filter(function(ze){return f().get(ze,"members")&&f().get(ze,"members").length}),l=[];u.length&&(tn(u,[]),l=te.current.flat());var j=b.filter(function(ze,nn){return nn!==tt}).filter(function(ze){return f().get(ze,"members")&&f().get(ze,"members").length}),w=b.filter(function(ze,nn){return f().get(ze,"members")&&f().get(ze,"members").length}),M={},ve=[];if(w.length===1){var oe;M={tag:((oe=l[0])===null||oe===void 0?void 0:oe.name)||"",base_objs:s}}else{var q;M={tag:l.length?(q=l[tt])===null||q===void 0?void 0:q.name:"",base_objs:s},ve=f().reduce(j,function(ze,nn){var Ot,Le,Rt,Fn=f().findIndex(l,function(Wt){return String(Wt.id)===String(nn.id)}),Ln=(Ot=l[Fn])===null||Ot===void 0||(Le=Ot.members)===null||Le===void 0?void 0:Le.map(function(Wt){return Wt.id}),jr={tag:(Rt=l[Fn])===null||Rt===void 0?void 0:Rt.name,base_objs:o.reduce(function(Wt,An){var br=An.obj_id;return Ln.includes(br)?Wt.concat(An):Wt},[])};return ze.push(jr),ze},[])}var bt={base_group:M,compare_groups:ve};return bt},qn=function(t){var n=t.group,s=r.useState(!1),o=(0,h.Z)(s,2),u=o[0],l=o[1],j=function(M){var ve=M.key;if(ve==="editMark"){var oe;(oe=Se.current)===null||oe===void 0||oe.show(n)}if(ve==="deleteMark"){var q;(q=rt.current)===null||q===void 0||q.show(n)}l(!1)};return(0,e.jsx)(Xe.Z,{trigger:["click"],onOpenChange:l,open:u,overlayClassName:y().groupOptionIconStyle,content:(0,e.jsx)(X.Z,{onClick:j,items:["editMark","deleteMark"].map(function(w){return{key:w,title:v({id:"analysis.".concat(w)}),label:v({id:"analysis.".concat(w)})}})}),children:(0,e.jsx)("span",{className:y().opreate_button,children:(0,e.jsx)(Jt.Z,{})})})},pr=function(t){B(function(n){return n.map(function(s){return t.id===s.id?(t==null?void 0:t.by_edit)===1?t:(0,i.Z)((0,i.Z)({},t),{},{name:jt(n,t==null?void 0:t.product_version)}):s})})},er=function(t){t.stopPropagation()},tr=function(t){if(!t.length)return"";if(t.length===1)return(0,e.jsx)(sr.Z,{title:t[0],refData:b,customStyle:{display:"inline-block",maxWidth:"50%"},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Pr,{style:{marginRight:2}}),t[0]]})});var n=t.map(function(s){return(0,e.jsxs)("span",{children:[s,(0,e.jsx)("br",{})]},(0,Xn.Z)())});if(t.length>1)return(0,e.jsx)(G.Z,{placement:"right",title:n,children:(0,e.jsxs)("span",{onMouseOver:er,style:{color:"#1890FF",boxSizing:"border-box",display:"inline-block",maxWidth:"50%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[(0,e.jsx)(Pr,{style:{marginRight:2}}),t[0]]})})},vr=function(t,n,s){var o=Array.from(t),u=o.splice(n,1),l=(0,h.Z)(u,1),j=l[0];return o.splice(s,0,j),o},nr=function(t,n,s){var o=Array.from(t),u=o.splice(n,1),l=(0,h.Z)(u,1),j=l[0];return o.splice(s,0,j),o},mr=function(t,n,s,o,u){var l=t[u],j=f().cloneDeep(l.members),w=t[o].members.splice(n,1),M=(0,h.Z)(w,1),ve=M[0];l.members.splice(s,0,ve);var oe=f().get(l.members[0],"product_version");if((!j||!j.length)&&oe&&(l.product_version=oe,(l==null?void 0:l.by_edit)!==1&&l.name.replace(/\(\d+\)$/,"")!==l.product_version)){var q=ln(t,oe);l.name=q}return l.type=t[o].type,t},hr=function(t,n,s,o,u){var l=n[u],j=f().cloneDeep(l.members),w=t.splice(s,1),M=(0,h.Z)(w,1),ve=M[0];l.members.splice(o,0,ve);var oe=f().get(l.members[0],"product_version");if((!j||!j.length)&&oe&&(l.product_version=oe,(l==null?void 0:l.by_edit)!==1&&l.name.replace(/\(\d+\)$/,"")!==l.product_version)){var q=ln(n,oe);l.name=q}return l.type="job",l.product_id=f().get(n[u].members[0],"product_id"),{groupArr:n,noGoupArr:t}},zn=function(t,n,s,o,u){var l=t[u].members.splice(s,1),j=(0,h.Z)(l,1),w=j[0];return n.splice(o,0,w),{groupArr:t,noGoupArr:n}},rr=function(t){if(!!t.destination){var n=f().cloneDeep(b),s=f().cloneDeep(Y),o=t.source.droppableId.replace("Group",""),u=t.destination.droppableId.replace(new RegExp("Group","g"),"");if(o=Number(o),u=Number(u),t.source.droppableId===t.destination.droppableId&&t.source.droppableId!=="noGroup"){var l=nr(n[o].members,t.source.index,t.destination.index);n[o].members=l}if(t.source.droppableId===t.destination.droppableId&&t.source.droppableId==="noGroup"){var j=nr(s,t.source.index,t.destination.index);s=j}if(t.source.droppableId!==t.destination.droppableId&&t.source.droppableId!=="noGroup"&&t.destination.droppableId!=="noGroup"){var w=f().cloneDeep(n),M=w[o].members[0],ve=w[u].members[0];if(ve&&M&&(f().get(M,"product_version")!==f().get(ve,"product_version")||f().get(M,"product_id")!==f().get(ve,"product_id")))return;var oe=mr(n,t.source.index,t.destination.index,o,u);n=oe}if(t.source.droppableId!==t.destination.droppableId&&t.source.droppableId==="noGroup"){var q=f().cloneDeep(n),bt=f().cloneDeep(s),ze=bt[t.source.index],nn=q[u].members[0];if(nn&&ze&&(f().get(ze,"product_version")!==f().get(nn,"product_version")||f().get(ze,"product_id")!==f().get(nn,"product_id")))return;var Ot=hr(s,n,t.source.index,t.destination.index,u);s=Ot.noGoupArr,n=Ot.groupArr}if(t.source.droppableId!==t.destination.droppableId&&t.destination.droppableId==="noGroup"){var Le=zn(n,s,t.source.index,t.destination.index,o);s=Le.noGoupArr,n=Le.groupArr}B(n),E(s)}},gr=function(t){if(!!t.destination)if(t.type==="DEFAULT"){var n=f().cloneDeep(b),s=vr(n,t.source.index,t.destination.index);B(s)}else rr(t)},jn=va(f().cloneDeep(b)),Yt=ma(Y),bn={height:$-329+8-22-5},_r=function(t,n){return f().get(t,"members").length?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:y().first_part,children:[(0,e.jsx)(Lr,{text:t.name,flag:t.type==="baseline",isBaseGroup:n===tt}),(0,e.jsx)(qn,{group:b[n]}),n!==tt&&(0,e.jsx)("span",{className:et?y().baseTag:y().baseGroupColorFn,onClick:f().partial(In,b[n],n),children:(0,e.jsx)(m._H,{id:"analysis.set.benchmark.group"})})]}),(0,e.jsx)(T.Z,{className:y().line}),(0,e.jsx)("ul",{children:(0,e.jsx)(kt.bK,{droppableId:"Group".concat(n),index:n,type:"1",children:function(o){return(0,e.jsx)(Ut.$B,{autoHeightMax:pe?bn.height+64-20:bn.height+64+32,autoHeight:!0,children:(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({className:y().second_part,ref:o.innerRef},o.droppableProps),o.dragHandleProps),{},{style:Dn(o.droppableProps.style),children:[t&&t.members.map(function(u,l){if(!u)return"";var j=f().get(u,"server")&&u.server.split(",");return j=f().isArray(j)?j:[],(0,e.jsx)(kt._l,{draggableId:u.id,index:l,children:function(M){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:M.innerRef},M.draggableProps),M.dragHandleProps),{},{style:Dn(M.draggableProps.style),children:(0,e.jsxs)("li",{style:{background:"#fff"},children:[(0,e.jsx)(H.Z.Text,{ellipsis:{tooltip:!0},children:u.name}),(0,e.jsxs)("div",{children:[u.name&&(0,e.jsx)(sr.Z,{title:u.name,refData:b,customStyle:{display:"inline-block",maxWidth:"50%",paddingRight:8},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Er,{style:{marginRight:2,transform:"translateY(2px)"}}),u.name]})}),tr(j)]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:"#".concat(u.job_id)}),(0,e.jsx)("span",{children:u.creator_name}),(0,e.jsx)(Ye.Z,{title:(0,e.jsx)(m._H,{id:"analysis.delete.job.prompt"}),onConfirm:f().partial(cn,f(),n,l),okText:(0,e.jsx)(m._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(m._H,{id:"operation.cancel"}),arrowPointAtCenter:!0,trigger:"click",onOpenChange:f().partial(Mn,f(),n,l),children:(0,e.jsx)("span",{style:{opacity:ke==="".concat(n).concat(l)?1:0},className:y().compare_job_delete,onClick:f().partial(Kn,n,l),children:(0,e.jsx)(m._H,{id:"operation.delete"})})})]})]},u.job_id)}))}},u.id)}),o.placeholder]}))})}},"Group".concat(n))})]}):(0,e.jsx)(kt.bK,{droppableId:"Group".concat(n),index:n,type:"1",children:function(o){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({className:y().second_part,ref:o.innerRef},o.droppableProps),o.dragHandleProps),{},{style:Dn(o.droppableProps.style),children:[(0,e.jsxs)("div",{className:y().first_part,children:[(0,e.jsx)(Lr,{text:t.name,flag:t.type==="baseline",isBaseGroup:n===tt}),(0,e.jsx)(qn,{group:b[n]}),n!==tt&&(0,e.jsx)("span",{className:et?y().baseTag:y().baseGroupColorFn,onClick:f().partial(In,b[n],n),children:(0,e.jsx)(m._H,{id:"analysis.set.benchmark.group"})})]}),(0,e.jsx)(T.Z,{className:y().line}),o.placeholder]}))}},"Group".concat(n))},xr=function(){return Yt.length?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:y().group_type,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(m._H,{id:"analysis.auto.group"}),(0,e.jsx)("span",{className:y().cancle_group,onClick:gn,style:{display:D?"inline-block":"none"},children:(0,e.jsx)(m._H,{id:"analysis.revoke"})})]}),(0,e.jsx)("div",{className:y().button,children:(0,e.jsxs)(Ie.Z,{onChange:Rn,value:re,disabled:D,placeholder:v({id:"analysis.select.group.placeholder"}),children:[(0,e.jsx)(Qn,{value:"version",children:(0,e.jsx)(m._H,{id:"analysis.product.version"})}),(0,e.jsx)(Qn,{value:"sn",children:(0,e.jsx)(m._H,{id:"analysis.by.machine"})})]})})]}),(0,e.jsx)(T.Z,{className:y().line}),(0,e.jsx)("ul",{children:(0,e.jsx)(Ut.$B,{autoHeightMax:bn.height-94+68+80+5,autoHeight:!0,children:(0,e.jsx)(kt.bK,{droppableId:"noGroup",index:Yt.length,type:"1",children:function(n){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({className:y().second_part,ref:n.innerRef},n.droppableProps),n.dragHandleProps),{},{style:(0,i.Z)((0,i.Z)({},Dn(n.droppableProps.style)),{},{height:bn.height-94+68+80}),children:[Yt.map(function(s,o){if(!s)return"";var u=f().get(s,"server")&&s.server.split(",");return u=f().isArray(u)?u:[],(0,e.jsx)(kt._l,{draggableId:s.id,index:o,children:function(j){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:j.innerRef},j.draggableProps),j.dragHandleProps),{},{style:Dn(j.draggableProps.style),children:(0,e.jsxs)("li",{style:{background:"#fff"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(H.Z.Text,{ellipsis:{tooltip:!0},children:s.name})}),(0,e.jsxs)("div",{children:[s.name&&(0,e.jsx)(sr.Z,{title:s.name,refData:b,customStyle:{display:"inline-block",maxWidth:"50%",paddingRight:8},children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Er,{style:{marginRight:2,transform:"translateY(2px)"}}),s.name]})}),tr(u)]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("span",{children:"#".concat(s.job_id)}),(0,e.jsx)("span",{children:s.creator_name}),(0,e.jsx)(Ye.Z,{title:(0,e.jsx)(m._H,{id:"analysis.delete.job.prompt"}),onConfirm:f().partial(un,f(),o),okText:(0,e.jsx)(m._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(m._H,{id:"operation.cancel"}),arrowPointAtCenter:!0,trigger:"click",onVisibleChange:f().partial(Mn),children:(0,e.jsx)("span",{style:{opacity:ke==="ongroup".concat(o)?1:0},className:y().compare_job_delete,onClick:f().partial(wn,o),children:(0,e.jsx)(m._H,{id:"operation.delete"})})})]})]},s.job_id)}))}},s.id)}),n.placeholder]}))}},"noGroup".concat(Yt.length))})}),(0,e.jsx)("div",{className:y().addJobBtn,onClick:Pn,children:(0,e.jsxs)(N.Z,{children:[v({id:"analysis.table.add.job"}),(0,e.jsx)(St.Z,{})]})})]}):(0,e.jsx)(kt.bK,{droppableId:"noGroup",index:Yt.length,type:"1",children:function(n,s){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:n.innerRef},n.droppableProps),n.dragHandleProps),{},{style:Dn(n.droppableProps.style),children:[(0,e.jsxs)("div",{className:y().group_type,children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(m._H,{id:"analysis.auto.group"}),(0,e.jsx)("span",{className:y().cancle_group,onClick:gn,style:{display:D?"inline-block":"none"},children:(0,e.jsx)(m._H,{id:"analysis.revoke"})})]}),(0,e.jsx)("div",{className:y().button,children:(0,e.jsxs)(Ie.Z,{onChange:Rn,value:re,disabled:D,placeholder:(0,e.jsx)(m._H,{id:"analysis.select.group.placeholder"}),children:[(0,e.jsx)(Qn,{value:"version",children:(0,e.jsx)(m._H,{id:"analysis.product.version"})}),(0,e.jsx)(Qn,{value:"sn",children:(0,e.jsx)(m._H,{id:"analysis.by.machine"})})]})})]}),(0,e.jsx)(T.Z,{className:y().line}),(0,e.jsx)("div",{className:y().addJobBtn,onClick:Pn,children:(0,e.jsxs)(N.Z,{children:[v({id:"analysis.table.add.job"}),(0,e.jsx)(St.Z,{})]})}),n.placeholder]}))}},"noGroup".concat(Yt.length))},yr=function(){ae(!1)},Wn=function(){return Ze==="test_result"?Fe?innerWidth-276-20:innerWidth-16-20:jn.length>4?"100%":innerWidth-40},ce=function(t){E(t)};return(0,e.jsx)(nt.Z,{style:{paddingRight:20,paddingBottom:20,height:$-50,minHeight:0,overflow:"auto",background:"#f5f5f5"},className:y().compare_job,children:(0,e.jsxs)(We.Z,{spinning:F,children:[(0,e.jsx)("div",{className:y().content,style:{height:$-50-56},children:(0,e.jsx)(kt.Z5,{onDragEnd:gr,children:(0,e.jsx)(kt.bK,{droppableId:"droppable1",direction:"horizontal",children:function(t,n){return(0,e.jsxs)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:t.innerRef},t.droppableProps),t.dragHandleProps),{},{style:(0,i.Z)((0,i.Z)({},ha(t.droppableProps.style)),{},{width:"100%"}),children:[(0,e.jsx)("div",{style:{width:Fe?"276px":"16px",height:$-50-56-5},className:y().nogroup_content,children:(0,e.jsx)(kt._l,{isDragDisabled:!0,draggableId:"waitGroup-".concat(Yt.length),index:Yt.length,children:function(o,u){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{className:y().expand_box,style:(0,i.Z)((0,i.Z)({},lr(o.draggableProps.style)),{},{transform:"translate(0, 0)"}),children:(0,e.jsxs)("div",{className:"".concat(y().group_info," ").concat(y().nogroup_info),ref:ie,style:{height:$-50-56-5,left:0},children:[(0,e.jsx)("div",{className:y().rightExpandButtom,onClick:ct,children:Fe?(0,e.jsx)(oa,{}):(0,e.jsx)(da,{})}),(0,e.jsxs)("div",{className:y().first_part,children:[(0,e.jsx)(m._H,{id:"analysis.area.to.grouped"}),"(",Y.length,")"]}),(0,e.jsx)(T.Z,{className:y().line}),xr()]})}))}},"waitGroup-".concat(Y.length))}),(0,e.jsxs)("div",{style:{marginLeft:Ze==="test_result"?0:20},className:y().group_content,children:[(0,e.jsxs)("div",{className:y().compare_title,children:[(0,e.jsx)("span",{className:y().title_text,children:(0,e.jsx)(m._H,{id:"analysis.title"})}),(0,e.jsx)(wa,{children:(0,e.jsx)(m._H,{id:"analysis.subTitle"})})]}),pe&&(0,e.jsx)(dt.Z,{onClose:yr,message:(0,e.jsx)(m._H,{id:"analysis.isAlertClose"}),type:"info",showIcon:!0,closable:!0,style:{width:Wn(),transition:"width ease 0.3s"}}),(0,e.jsxs)("div",{className:y().group_box,style:{marginTop:20},children:[jn.map(function(s,o){return(0,e.jsx)(kt._l,{draggableId:s.id,index:o,children:function(l,j){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:l.innerRef},l.draggableProps),l.dragHandleProps),{},{style:(0,i.Z)({height:50},lr(l.draggableProps.style)),children:(0,e.jsxs)("div",{className:y().group_info,style:{left:"".concat(o*312,"px")},children:[_r(s,o),(0,e.jsx)("div",{style:{cursor:"pointer"},onClick:function(){var M;return(M=at.current)===null||M===void 0?void 0:M.show(b[o])},className:y().create_job_type,children:s.type==="baseline"?(0,e.jsx)(m._H,{id:"analysis.add.baseline"}):(0,e.jsx)(m._H,{id:"analysis.add.job"})})]})}))}},s.id)}),(0,e.jsx)(kt._l,{isDragDisabled:!0,draggableId:"create-".concat(jn.length),index:jn.length,children:function(o){return(0,e.jsx)("div",(0,i.Z)((0,i.Z)((0,i.Z)({ref:o.innerRef},o.draggableProps),o.dragHandleProps),{},{style:(0,i.Z)({},lr(o.draggableProps.style)),children:(0,e.jsx)("div",{className:y().create_group,style:{left:b.length?"".concat(b.length*312,"px"):0,height:bn.height+82,width:c?220:110},children:(0,e.jsxs)("div",{onClick:f().partial(_n,""),className:y().popover,children:[(0,e.jsx)(Je.Z,{style:{fontSize:14,marginRight:8}}),(0,e.jsx)(m._H,{id:"analysis.create.comparison.group"})]})})}))}},"create-".concat(jn.length))]})]}),t.placeholder]}))}})})}),(0,e.jsx)("div",{className:y().footer_part,children:(0,e.jsx)("div",{className:y().bottom,children:(0,e.jsxs)(N.Z,{children:[(0,e.jsx)(je.Z,{onClick:kn,children:(0,e.jsx)(m._H,{id:"operation.clear"})}),(0,e.jsx)(je.Z,{type:"primary",onClick:O,disabled:dn,children:(0,e.jsx)(m._H,{id:"operation.ok"})})]})})}),(0,e.jsx)(it,{ref:Se,onOk:yn}),(0,e.jsx)(ba,{ref:rt,onOk:xn}),(0,e.jsx)(Ia,{ref:at,allGroupData:b,noGroupData:Y,onOk:pr}),(0,e.jsx)(Vr,{ref:Et,baselineGroupIndex:tt,onOk:U,creatReportOk:en,allGroupData:b}),(0,e.jsx)(ya,{ref:hn,onOk:ce,groupData:b,noGroupData:Y}),(0,e.jsx)(fa.Z,{ref:$e,onOk:Pe,allGroup:b})]})})}},15401:function(pt,vt,a){"use strict";a.d(vt,{_V:function(){return nt},xP:function(){return Mt},VX:function(){return We},J1:function(){return rn},OF:function(){return je},on:function(){return Ft},gQ:function(){return dt},k3:function(){return Ye},lI:function(){return Ae},a4:function(){return T}});var De=a(22812),nt=function(G){return(0,De.WY)("/api/job/test/",{params:G})},Mt=function(G){return(0,De.WY)("/api/baseline/list/",{params:G})},We=function(G){return(0,De.WY)("/api/get/product/version/",{params:G})},rn=function(G){return(0,De.WY)("/api/job/result/compare/suite/",{method:"post",data:G})},je=function(G){return(0,De.WY)("/api/job/result/compare/conf/",{method:"post",data:G})},Ft=function(G){return(0,De.WY)("/api/job/result/compare/list/",{method:"post",data:G})},dt=function(G){return(0,De.WY)("/api/job/result/compare/info/",{method:"post",data:G})},Pt=function(G){return request("/api/plan/view/",{params:G})},N=function(G){return request("/api/plan/result/",{params:G})},mt=function(G){return request("/api/plan/constraint/",{params:G})},Ye=function(G){return(0,De.WY)("/api/report/domain/group/",{method:"post",data:G})},Ae=function(G){return(0,De.WY)("/api/sys/product/",{params:G})},T=function(G){return(0,De.WY)("/api/job/result/compare/duplicate/",{method:"post",data:G})}},45227:function(pt,vt,a){"use strict";var De=a(67448),nt=a(47548),Mt=a(20693),We=a(3278),rn=a(57359),je=a(34423),Ft=a(46721),dt=a(94867),Pt=a(20418),N=a(35832),mt=a(32326),Ye=a(65790),Ae=a(17187),T=a(39190),de=a(88018),G=a(58414),Lt=a(41428),Xe=a(69230),It=a(33821),X=a(22374),fe=a(992),Ge=a(97939),At=a(97207),he=a.n(At),Ce=a(22812),i=a(24812),ee=a(39935),h=a(52454),Tt,Ie=It.Z.Option,Qe=(0,Ge.ZP)(G.Z)(Tt||(Tt=(0,Lt.Z)([`
    .ant-drawer-title{
        font-weight: 600;
    }
    .server_provider {
        margin-bottom: 5px;  
    }
    .script_right_name{
        font-size: 14px;
        color: rgba(0,0,0,0.85);
    }
`])));vt.Z=(0,X.forwardRef)(function(H,r){var Ee=(0,Ce.YB)(),se=Ee.formatMessage,m=(0,i.UO)(),Ke=m.ws_id,Zt=H.onOk,y=H.allGroup,Jt=Ae.Z.useForm(),St=(0,T.Z)(Jt,1),Je=St[0],Ht=(0,X.useState)(!1),Bt=(0,T.Z)(Ht,2),ht=Bt[0],Nt=Bt[1],Vt=(0,X.useState)(!1),gt=(0,T.Z)(Vt,2),e=gt[0],it=gt[1],ft=(0,X.useState)({}),_t=(0,T.Z)(ft,2),pn=_t[0],Te=_t[1],Xt=(0,X.useState)(!0),Ve=(0,T.Z)(Xt,2),Re=Ve[0],ot=Ve[1],xt=(0,X.useState)([]),st=(0,T.Z)(xt,2),qe=st[0],Qt=st[1],Tn=(0,X.useState)([]),qt=(0,T.Z)(Tn,2),Gt=qt[0],Zn=qt[1],f=(0,X.useState)([]),Ut=(0,T.Z)(f,2),an=Ut[0],ar=Ut[1];(0,X.useImperativeHandle)(r,function(){return{show:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};it(!0),Te(me),Je.setFieldsValue(me),ir()}}});var Sn=function(){var Kt=(0,mt.Z)((0,N.Z)().mark(function me(){var be,ue,ge,_e;return(0,N.Z)().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return Ct.next=2,(0,fe.MD)({page_size:9999,page_num:1,ws_id:Ke});case 2:be=Ct.sent,ue=be.data,ge=be.code,_e=be.msg,ge===200&&ar(ue),ot(!1),ge!==200&&(0,ee.EV)(ge,_e);case 9:case"end":return Ct.stop()}},me)}));return function(){return Kt.apply(this,arguments)}}();(0,X.useEffect)(function(){Sn()},[]),(0,X.useEffect)(function(){var Kt=he().find(an,"is_default"),me=null;Kt&&(me=Kt.id);var be=null;Gt.length===1&&(be=Gt[0]);var ue=null;qe.length===1&&(ue=qe[0].id);var ge=Je.getFieldsValue();ge.template=me,ge.productVersion=be,ge.project=ue,Je.setFieldsValue(ge)},[an,Gt,qe]);var ir=function(){var me=[],be=[];try{y.forEach(function(ue,ge){ue&&he().isArray(ue.members)&&ue.members.length&&(me.push(ue.members[0].product_version),ue.members.forEach(function(_e){return be.push({id:_e.project_id,name:_e.project_name})}))}),me=he().uniq(me),be=he().uniqWith(be,he().isEqual),be=be.filter(function(ue){return ue.id!==void 0}),Zn(me),Qt(be)}catch(ue){console.log(ue)}},Hn=function(){Je.resetFields(),Nt(!1),it(!1)},or=function(){Nt(!0),Je.validateFields().then(function(){var me=(0,mt.Z)((0,N.Z)().mark(function be(ue){var ge,_e;return(0,N.Z)().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:ge=ue.template,_e=he().find(an,{id:ge}),Zt((0,Pt.Z)((0,Pt.Z)({},ue),{},{is_default:he().get(_e,"is_default")}),pn),Hn();case 4:case"end":return Ct.stop()}},be)}));return function(be){return me.apply(this,arguments)}}()).catch(function(me){console.log(me),Nt(!1)})},Cn=function(me){var be="",ue=an;if(me==="template"){var ge=he().find(ue,"is_default");ge&&(be=ge.id)}return me==="productVersion"&&(ue=Gt.filter(function(_e){return _e}),ue.length===1&&(be=ue[0])),me==="project"&&(ue=qe,ue.length===1&&(be=ue[0].id)),be},Jn=function(me){var be="",ue=an;return me==="template"&&(be=se({id:"report.please.select.template"})),me==="productVersion"&&(ue=Gt.filter(function(ge){return ge}),be=se({id:"report.select.productVersion"})),me==="project"&&(ue=qe,be=se({id:"report.select.project"})),(0,h.jsx)(It.Z,{showSearch:!0,allowClear:!0,placeholder:be,optionFilterProp:"children",style:{width:"100%"},onChange:function(_e){var on=Je.getFieldsValue();on[me]=_e,Je.setFieldsValue(on)},showArrow:!0,filterOption:function(_e,on){return on.children.toLowerCase().indexOf(_e.toLowerCase())>=0},children:ue.map(function(ge){return me==="productVersion"?(0,h.jsx)(Ie,{value:ge,children:ge},ge):(0,h.jsx)(Ie,{value:ge.id,children:ge.name},ge.id)})})};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(nt.Z,{spinning:Re,children:(0,h.jsx)(Qe,{title:(0,h.jsx)(Ce._H,{id:"report.generate.report"}),width:"375",onClose:Hn,visible:e,footer:(0,h.jsx)("div",{style:{textAlign:"right"},children:(0,h.jsxs)(je.Z,{children:[(0,h.jsx)(dt.Z,{onClick:Hn,children:(0,h.jsx)(Ce._H,{id:"operation.cancel"})}),(0,h.jsx)(dt.Z,{type:"primary",disabled:ht,onClick:or,children:(0,h.jsx)(Ce._H,{id:"operation.ok"})})]})}),children:(0,h.jsxs)(Ae.Z,{form:Je,layout:"vertical",initialValues:{template:Cn("template"),productVersion:Cn("productVersion"),project:Cn("project")},children:[(0,h.jsx)(Ae.Z.Item,{label:(0,h.jsx)(Ce._H,{id:"report.columns.name"}),name:"name",rules:[{required:!0,message:se({id:"report.please.enter.name"})}],children:(0,h.jsx)(We.Z,{autoComplete:"auto",placeholder:se({id:"report.please.enter.name"})})}),(0,h.jsx)(Ae.Z.Item,{label:(0,h.jsx)(Ce._H,{id:"report.select.template"}),name:"template",rules:[{required:!0}],children:Jn("template")}),(0,h.jsx)(Ae.Z.Item,{label:(0,h.jsx)(Ce._H,{id:"report.columns.product_version"}),name:"productVersion",children:Jn("productVersion")}),(0,h.jsx)(Ae.Z.Item,{label:(0,h.jsx)(Ce._H,{id:"report.columns.project"}),name:"project",children:Jn("project")}),(0,h.jsx)(Ae.Z.Item,{label:(0,h.jsx)(Ce._H,{id:"report.description.input"}),name:"description",children:(0,h.jsx)(We.Z.TextArea,{placeholder:se({id:"report.description.placeholder"})})})]})})})})})},79390:function(pt,vt,a){"use strict";a.d(vt,{sL:function(){return Ie},ny:function(){return h},Fu:function(){return Tt}});var De=a(20418),nt=a(39190),Mt=a(488),We=a(26388),rn=a(11407),je=a(68077),Ft=a(2605),dt=a(74127),Pt=a(41428),N=a(22374),mt=a(48434),Ye=a(97939),Ae=a(99648),T=a(52454),de=["width","onResizeStart","onResize","onResizeStop","resize"],G=["columns","name","onColumnsChange"],Lt,Xe,It,X=Ye.ZP.div(Lt||(Lt=(0,Pt.Z)([`
    position: relative;
    width: 100%;
`]))),fe=Ye.ZP.div.attrs(function(Qe){return{style:{left:Qe.left,height:Qe==null?void 0:Qe.height}}})(Xe||(Xe=(0,Pt.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),Ge=(0,Ye.ZP)(mt.Resizable)(It||(It=(0,Pt.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(Qe){var H=Qe.resize;return H?"col-resize":"default"}),At=function(H){var r=H.width,Ee=H.onResizeStart,se=H.onResize,m=H.onResizeStop,Ke=H.resize,Zt=(0,Mt.Z)(H,de);return(0,T.jsx)(Ge,(0,De.Z)((0,De.Z)({width:r||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:Ee,onResize:se,onResizeStop:m,resize:Ke?1:0},Zt),{},{children:(0,T.jsx)("th",(0,De.Z)({},Zt))}))},he=function(H){var r=H.columns,Ee=r===void 0?[]:r,se=H.name,m=H.onColumnsChange,Ke=(0,Mt.Z)(H,G),Zt=N.useState(0),y=(0,nt.Z)(Zt,2),Jt=y[0],St=y[1],Je=N.useState(0),Ht=(0,nt.Z)(Je,2),Bt=Ht[0],ht=Ht[1],Nt=N.useState(!1),Vt=(0,nt.Z)(Nt,2),gt=Vt[0],e=Vt[1],it=N.useRef(null),ft=(0,Ae.Z)(it),_t=function(Re){return function(ot,xt){var st;if((0,dt.Z)(xt),!!Ee[Re].ellipsis){var qe=ot.clientX,Qt=qe-((st=it.current)===null||st===void 0?void 0:st.getBoundingClientRect().x);ht(Qt),St(Qt),e(!0)}}},pn=function(){return function(Re){var ot,xt=Re.clientX,st=xt-((ot=it.current)===null||ot===void 0?void 0:ot.getBoundingClientRect().x);St(st)}},Te=function(Re){return function(ot,xt){var st,qe=xt.size,Qt=ot.clientX,Tn=Qt-((st=it.current)===null||st===void 0?void 0:st.getBoundingClientRect().x),qt=(0,Ft.Z)(Ee);if(qt[Re].ellipsis){var Gt=qe.width+=Tn-Bt,Zn=qt[Re],f=Zn.dataIndex,Ut=Zn.key;Gt>20&&(qt[Re]=(0,De.Z)((0,De.Z)({},qt[Re]),{},{width:Gt}),se&&Tt(se,f||Ut,Gt),m==null||m())}St(0),ht(0),e(!1)}},Xt=N.useMemo(function(){return Ee.reduce(function(Ve,Re){return Re.width?Ve+=Re==null?void 0:Re.width:Ve},0)},[Ee]);return(0,T.jsxs)(X,{ref:it,className:"resize-table-wrapper",children:[(0,T.jsx)(je.Z,(0,De.Z)((0,De.Z)({},Ke),{},{components:{header:{cell:At}},scroll:(H==null?void 0:H.scroll)||{x:Xt||(ft==null?void 0:ft.width)},columns:Ee.filter(Boolean).map(function(Ve,Re){return(0,De.Z)((0,De.Z)({},Ve),{},{onHeaderCell:function(xt){return{resize:!!Ve.ellipsis,width:xt.width,onResizeStart:_t(Re),onResize:pn(),onResizeStop:Te(Re)}}})})})),gt&&(0,T.jsx)(fe,{height:ft==null?void 0:ft.height,left:Jt||Bt})]})},Ce=he,i=["name","columns","refreshDeps","onColumnsChange"],ee="umi_locale",h=function(H,r){var Ee=localStorage.getItem(H),se=localStorage.getItem(ee)||"zh-CN";if(!!Ee)return JSON.parse(Ee)["".concat(se,"-").concat(r)]},Tt=function(H,r,Ee){var se=localStorage.getItem(H),m=localStorage.getItem(ee)||"zh-CN",Ke=(0,We.Z)({},"".concat(m,"-").concat(r),Ee);se?localStorage.setItem(H,JSON.stringify(Object.assign(JSON.parse(se),Ke))):localStorage.setItem(H,JSON.stringify(Ke))},Ie=function(H){var r=H.name,Ee=H.columns,se=H.refreshDeps,m=se===void 0?[]:se,Ke=H.onColumnsChange,Zt=(0,Mt.Z)(H,i),y=N.useState([]),Jt=(0,nt.Z)(y,2),St=Jt[0],Je=Jt[1],Ht=function(){return(Ee==null?void 0:Ee.filter(Boolean).map(function(ht){var Nt=ht.dataIndex,Vt=ht.key,gt=ht.width,e=Nt||Vt,it=h(r,e);!it&&gt&&Tt(r,e,gt);var ft=it||gt;return ft&&(ht.width=ft),ht}))||[]};return N.useEffect(function(){Je(Ht())},m),(0,T.jsx)(Ce,(0,De.Z)({name:r,columns:St,setColumns:Je,size:"small",onColumnsChange:function(){Ke==null||Ke(),Je(Ht())}},Zt))}}}]);
