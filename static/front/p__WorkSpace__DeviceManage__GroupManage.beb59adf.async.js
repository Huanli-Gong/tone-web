(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[7224,2485],{62460:function($e){$e.exports={row_class:"row_class___6tLb-",table:"table___3FWk8",dorp_button:"dorp_button___Z-5ot",add_server_form:"add_server_form___1rEVL"}},56724:function($e){$e.exports={table:"table___NcH1_",pro_table_card:"pro_table_card___1Cnyd"}},37362:function($e){$e.exports={form_wrapper_body:"form_wrapper_body___yzUOT",form_styles:"form_styles___3dqrf",btn_style:"btn_style___1RvGA",select_ips:"select_ips___23miq"}},81654:function($e){$e.exports={ip_td:"ip_td___1G32k",dorp_button:"dorp_button___190mR",pro_table_card:"pro_table_card___3PTns"}},58136:function(){},38583:function($e,qe,s){"use strict";s.r(qe),s.d(qe,{default:function(){return qn}});var i=s(11849),cr=s(57663),re=s(71577),vr=s(18106),Je=s(73272),o=s(2824),fr=s(20310),n=s(67294),Re=s(20009),r=s(16917),pr=s(20228),Ae=s(11382),hr=s(71194),er=s(50146),mr=s(63185),We=s(9676),ze=s(59250),Hr=s(30887),Ir=s(402),ie=s(97272),Or=s(71153),rr=s(60331),xr=s(49111),me=s(19650),Ge=s(22385),Ue=s(89456),Dr=s(13062),A=s(71230),ir=s(34792),ce=s(48086),u=s(39428),nr=s(93224),te=s(3182),Le=s(99069),Tr=s(1870),Er=s(57119),et=s(57338),Xe=s(440),rt=s(24793),Ke=s(97183),nt=s(89032),g=s(15746),sn=s(16045),ve=s.n(sn),Rr=s(94955),le=s(1693),tr=s(71459),e=s(85893),an=(0,n.forwardRef)(function(b,D){var O=(0,Re.UO)(),S=O.ws_id,f=(0,n.useState)(),C=(0,o.Z)(f,2),a=C[0],T=C[1],K=(0,n.useState)(!1),Y=(0,o.Z)(K,2),w=Y[0],j=Y[1],_=(0,n.useState)(!0),y=(0,o.Z)(_,2),se=y[0],N=y[1],W=(0,n.useState)(!1),fe=(0,o.Z)(W,2),m=fe[0],Q=fe[1],xe=(0,n.useRef)(null),ge=function(){var G=(0,te.Z)((0,u.Z)().mark(function F(P){var je,L,ne,J,ae,ye;return(0,u.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return N(!0),X.next=3,(0,le.jc)(P);case 3:return je=X.sent,L=je.data,ne=L===void 0?{}:L,T(ne),X.next=9,(0,le.vq)({ip:ne.ip,channel_type:ne.channel_type});case 9:J=X.sent,ae=J.code,ye=J.data,j(ae===200?ye:ne.channel_state),N(!1);case 14:case"end":return X.stop()}},F)}));return function(P){return G.apply(this,arguments)}}();(0,n.useImperativeHandle)(D,function(){return{show:function(F){Q(!0),ge(F)}}});var pe=function(){Q(!1),T(null)},de=function(){var F;(F=xe.current)===null||F===void 0||F.show((0,i.Z)((0,i.Z)({},a),{},{detailData:[a==null?void 0:a.ip]}))},U=function(){};return(0,e.jsxs)(Xe.Z,{maskClosable:!1,keyboard:!1,forceRender:!0,title:(0,e.jsx)(r._H,{id:"device.details"}),width:"510",open:m,onClose:pe,children:[(0,e.jsxs)(Ae.Z,{spinning:se,children:[(0,e.jsxs)(Ke.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(ie.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.hardware"})}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(g.Z,{span:6,children:"SN:"}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.sn})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.host.name"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.hostname})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.ip.address"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.ip})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.test.server.type"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.device_type})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(g.Z,{span:6,children:"IDC:"}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.idc})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.manufacturer"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.manufacturer})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.model"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.device_mode})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.model.type"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.sm_name})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.security.domain"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.security_domain})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(g.Z,{span:6,children:"CPU:"}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.cpu})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.CPU.device"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.cpu_device})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.memory"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.memory})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.memory.device"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.memory_device})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.storage"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.storage})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.network"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.network})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.network.device"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.net_device})]})]}),(0,e.jsxs)(Ke.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(ie.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.software"})}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.operating.system"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.platform})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.kernel_version"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.kernel})]})]}),(0,e.jsxs)(Ke.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(ie.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.application.group"})}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.application.group"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.app_group})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.application.state"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.app_state})]})]}),(0,e.jsxs)(Ke.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(ie.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.usage.state"})}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.server.state"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:(0,tr.Ul)(a==null?void 0:a.state,a,S)})]})]}),(0,e.jsxs)(Ke.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(ie.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.channel_type"})}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(g.Z,{span:6,children:"Channel:"}),(0,e.jsxs)(g.Z,{span:18,children:[(0,e.jsx)("span",{children:a==null?void 0:a.channel_type}),!1]})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.state"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:w==null?void 0:w.toString()})]})]}),(0,e.jsxs)(Ke.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(ie.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.scheduling.label"})}),(0,e.jsx)(A.Z,{style:{marginTop:10},children:(a==null?void 0:a.tag_list)&&(a==null?void 0:a.tag_list.map(function(G){return(0,e.jsx)(rr.Z,{color:G.tag_color,children:G.name},G.id)}))})]}),(0,e.jsxs)(Ke.Z.Content,{children:[(0,e.jsx)(ie.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.others.info"})}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.machine.name"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.name})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(g.Z,{span:6,children:"Owner:"}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.owner_name})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.creation_time"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.gmt_created})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.modify_time"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.gmt_modified})]}),(0,e.jsxs)(A.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(g.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.description"}),":"]}),(0,e.jsx)(g.Z,{span:18,children:a==null?void 0:a.description})]})]})]}),(0,e.jsx)(Rr.Z,{ref:xe,callback:U})]})}),Fr=an,tt=s(54029),Ye=s(79166),st=s(47673),Me=s(4107),at=s(43358),Fe=s(34041),it=s(9715),V=s(20526),ln=s(96486),Pr=s.n(ln),gr=s(21318),dn=(0,n.forwardRef)(function(b,D){var O=(0,r.YB)(),S=O.formatMessage,f=b.handleOk,C=(0,n.useState)(!1),a=(0,o.Z)(C,2),T=a[0],K=a[1],Y=(0,n.useState)(null),w=(0,o.Z)(Y,2),j=w[0],_=w[1],y=V.Z.useForm(),se=(0,o.Z)(y,1),N=se[0];(0,n.useImperativeHandle)(D,function(){return{show:function(Q){K(!0),_(Q)}}});var W=function(){_(null),K(!1),N.resetFields()},fe=function(){N.validateFields().then(function(){var Q=(0,te.Z)((0,u.Z)().mark(function xe(ge){return(0,u.Z)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,le.iu)((0,i.Z)((0,i.Z)({},ge),{},{server_id:j}));case 2:f(),W();case 4:case"end":return de.stop()}},xe)}));return function(xe){return Q.apply(this,arguments)}}()).catch(function(Q){console.log(Q)})};return(0,e.jsx)(Xe.Z,{maskClosable:!1,keyboard:!1,title:(0,e.jsx)(r._H,{id:"device.deploy"}),forceRender:!0,open:T,width:"376",onClose:W,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{onClick:W,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(re.Z,{type:"primary",onClick:fe,children:(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(V.Z,{layout:"vertical",form:N,children:[(0,e.jsx)(V.Z.Item,{name:"deploy_user",label:(0,e.jsx)(r._H,{id:"device.deploy_user"}),rules:[{required:!0,message:S({id:"device.deploy_user.message"})}],children:(0,e.jsx)(Me.Z,{autoComplete:"off",placeholder:S({id:"device.deploy_user.placeholder"})})}),(0,e.jsx)(V.Z.Item,{name:"deploy_pass",label:(0,e.jsx)(r._H,{id:"device.deploy_pass"}),rules:[{required:!0,message:S({id:"device.deploy_pass.message"})}],children:(0,e.jsx)(Me.Z.Password,{autoComplete:"off",placeholder:S({id:"device.deploy_pass.placeholder"}),visibilityToggle:!1})})]})})}),on=dn,un=s(37362),Zr=s.n(un),lr=s(27047),Mr=s(52653),Lr=s(5149),cn=function(D,O){var S,f=(0,r.YB)(),C=f.formatMessage,a=(0,Re.UO)(),T=a.ws_id,K=D.onFinish,Y=(0,r.tT)("disclaimer"),w=Y.openModal,j=Y.handleDisclaimerOpen,_=(0,n.useState)(!1),y=(0,o.Z)(_,2),se=y[0],N=y[1],W=(0,n.useState)(null),fe=(0,o.Z)(W,2),m=fe[0],Q=fe[1],xe=(0,n.useRef)(null),ge=(0,n.useRef)(null),pe=V.Z.useForm(),de=(0,o.Z)(pe,1),U=de[0],G=(0,n.useState)({success:[],errors:[]}),F=(0,o.Z)(G,2),P=F[0],je=F[1],L=(0,n.useState)(!1),ne=(0,o.Z)(L,2),J=ne[0],ae=ne[1],ye=(0,n.useState)(!1),He=(0,o.Z)(ye,2),X=He[0],Pe=He[1],Te=(0,n.useState)(""),H=(0,o.Z)(Te,2),p=H[0],k=H[1],B=(0,n.useState)([]),ke=(0,o.Z)(B,2),z=ke[0],t=ke[1],l=(0,n.useState)(!1),Z=(0,o.Z)(l,2),I=Z[0],E=Z[1],he=C({id:"device.machine.IP.placeholder1"}),Ie=(0,n.useState)({list:[],isQuery:""}),be=(0,o.Z)(Ie,2),Ee=be[0],q=be[1],ee=function(){U.resetFields(),N(!1),Q(null),t([]),k(""),je({success:[],errors:[]})};(0,n.useImperativeHandle)(O,function(){return{show:function(d){if(ee(),N(!0),d&&Q(Pr()),d){Q(d),E(Pr().get(d,"opreateType")==="moreEdit"),d.ip&&U.setFieldsValue({ips:[d.ip]});var R=[];d.tag_list&&(R=d.tag_list.map(function(M){return M.id})),q((0,i.Z)((0,i.Z)({},Ee),{},{isQuery:"edit",list:R}))}else q((0,i.Z)((0,i.Z)({},Ee),{},{isQuery:"add",list:[]}))}}});var oe=(0,n.useMemo)(function(){return m&&m.state==="Occupied"},[m]),Oe=function(){ae(!0),U.validateFields().then(function(){var d=(0,te.Z)((0,u.Z)().mark(function R(M){var $;return(0,u.Z)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(M.owner="",m){Ce.next=7;break}return Ce.next=4,(0,le.xG)((0,i.Z)((0,i.Z)({},M),{},{ws_id:T}));case 4:$=Ce.sent,Ce.next=13;break;case 7:return M.owner===m.owner_name&&(M.owner=m.owner),oe&&(delete M.channel_type,delete M.ip),M.ws_id=T,Ce.next=12,(0,le.rQ)(m.id,M);case 12:$=Ce.sent;case 13:$.code===200?(ce.default.success(C({id:"operation.success"})),K(),ee()):ce.default.error($.msg||C({id:"operation.failed"})),ae(!1);case 15:case"end":return Ce.stop()}},R)}));return function(R){return d.apply(this,arguments)}}()).catch(function(d){ae(!1)})},ue=function(){ae(!0),U.validateFields().then(function(){var d=(0,te.Z)((0,u.Z)().mark(function R(M){var $,Se,Ce;return(0,u.Z)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return M.ws_id=T,M.server_ids=m.selectRowKeys,M.description=M.description||"",De.next=5,(0,le.X4)(M);case 5:$=De.sent,Se=$.code,Ce=$.msg,Se===200?(ce.default.success(C({id:"operation.success"})),K(),ee()):ce.default.error(Ce||C({id:"operation.failed"})),ae(!1);case 10:case"end":return De.stop()}},R)}));return function(R){return d.apply(this,arguments)}}()).catch(function(d){ae(!1),console.log(d)})},Ve=(0,n.useCallback)(function(h){h&&Oe(),ae(!1)},[]),Ze=function(d){var R;(R=ge.current)===null||R===void 0||R.show((0,i.Z)((0,i.Z)({},d),{},{detailData:d.errors||[]}))},Sr=function(d){var R=d.success_servers,M=R===void 0?[]:R,$=M==null?void 0:M.map(function(Se){return Se.ip});$!=null&&$.length&&(je({success:$,errors:[]}),U.setFieldsValue({ips:$}))},nn=function(){var h=(0,te.Z)((0,u.Z)().mark(function d(R){var M,$,Se,Ce,wr,De,Be,kr,br,or,ur,tn,Qe;return(0,u.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(!X){we.next=2;break}return we.abrupt("return");case 2:if(Pe(!0),M=U.getFieldValue("ips")||[],$=U.getFieldValue("ip"),Se=R,!(Se&&M&&M.length>0)){we.next=19;break}return we.next=9,(0,le.bD)({ips:M,channel_type:Se,ws_id:T});case 9:if(we.t0=we.sent,we.t0){we.next=12;break}we.t0={};case 12:Ce=we.t0,wr=Ce.code,De=Ce.data,Be=Ce.msg,wr===200&&(je(De),U.setFields([{name:"ips",value:De==null?void 0:De.success,errors:[(De==null||(kr=De.errors)===null||kr===void 0?void 0:kr.length)>0&&(0,e.jsxs)(me.Z,{children:[(Be==null?void 0:Be.filter(Boolean).length)>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{children:Be==null?void 0:Be[0]}),(0,e.jsx)(Ue.Z,{title:Be==null?void 0:Be[1],children:(0,e.jsx)("span",{style:{color:"#1890ff"},children:(0,e.jsx)(r._H,{id:"device.detail.info"})})})]}),!1]})].filter(Boolean)}]),t(De==null?void 0:De.success),k("")),we.next=30;break;case 19:if(!(Se&&($==null?void 0:$.length)>0)){we.next=30;break}return we.next=22,(0,le.bD)({ws_id:T,ips:$,channel_type:Se,server_id:m==null?void 0:m.id});case 22:if(we.t1=we.sent,we.t1){we.next=25;break}we.t1={};case 25:or=we.t1,ur=or.data,tn=or.code,Qe=or.msg,tn===200&&ur!==null&&ur!==void 0&&(br=ur.errors)!==null&&br!==void 0&&br.length&&U.setFields([{name:"ips",errors:[(0,e.jsxs)(me.Z,{children:[(0,e.jsx)("span",{children:Qe==null?void 0:Qe[0]}),(0,e.jsx)(Ue.Z,{title:Qe==null?void 0:Qe[1],children:(0,e.jsx)("span",{style:{color:"#1890ff"},children:(0,e.jsx)(r._H,{id:"device.detail.info"})})})]})]}]);case 30:Pe(!1);case 31:case"end":return we.stop()}},d)}));return function(R){return h.apply(this,arguments)}}(),Cr=(0,n.useCallback)(function(){},[]);(0,n.useEffect)(function(){if(!m||I)U.resetFields();else if("id"in m){var h=m.tag_list,d=m.name;U.setFieldsValue((0,i.Z)((0,i.Z)({},m),{},{tags:h.map(function(R){var M=R.id;return M}),name:d||"SN"}))}},[D.visible,m]);var _r=function(d){k(d)},x=function(){if(p.length>0){if(p.indexOf("\uFF0C")>1){ce.default.error("\u673A\u5668ip\u53C2\u6570\u683C\u5F0F\u4E0D\u6B63\u786E");return}var d=p.trim().split(/,|\s/)||[],R=Array.from(new Set(d.concat(z)));t(R),U.setFieldsValue({ips:R});var M=U.getFieldValue("channel_type")}},v=function(){U.setFields([{name:"ips",errors:[]}])},c=function(d){t(d),k(d.toString())};return(0,e.jsxs)(Xe.Z,{keyboard:!1,maskClosable:!1,forceRender:!0,title:m?(0,e.jsx)(r._H,{id:"device.device.edit"}):(0,e.jsx)(r._H,{id:"device.add.btn"}),width:"376",open:se,destroyOnClose:!0,onClose:J?function(){}:ee,className:Zr().form_wrapper_body,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{onClick:ee,disabled:J,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(re.Z,{onClick:I?ue:m?Oe:j,type:"primary",loading:J,children:m?(0,e.jsx)(r._H,{id:"operation.update"}):(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:[(0,e.jsx)(Ae.Z,{spinning:X,children:(0,e.jsxs)(V.Z,{layout:"vertical",form:U,className:Zr().form_styles,initialValues:{channel_type:"toneagent"},children:[!I&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.channel_type"}),name:"channel_type",rules:[{required:!0,message:C({id:"device.channel_type.message"})}],children:(0,e.jsx)(lr.k,{onChange:nn,disabled:!0,placeholder:C({id:"device.channel_type.message"})})}),!m&&(0,e.jsx)(V.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.machine.IP"}),name:"ips",rules:[{required:!0,message:C({id:"device.please.enter.correct.server.IP"})}],children:(0,e.jsx)(Fe.Z,{mode:"multiple",placeholder:he,onBlur:x,onFocus:v,onSearch:_r,onChange:c,notFoundContent:null,className:Zr().select_ips,options:P==null||(S=P.success)===null||S===void 0?void 0:S.map(function(h){return{label:h,value:h}})})}),m&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(V.Z.Item,{name:"ip",label:(0,e.jsx)(r._H,{id:"device.machine"}),children:(0,e.jsx)(Me.Z,{disabled:!0})}),(0,e.jsx)(V.Z.Item,{name:"name",label:(0,e.jsx)(r._H,{id:"device.machine.name"}),rules:[{required:!0,message:C({id:"device.machine.message"})}],initialValue:"SN",children:(0,e.jsx)(Me.Z,{autoComplete:"off"})}),(0,e.jsx)(V.Z.Item,{name:"sn",label:"SN",style:{display:"none"},children:(0,e.jsx)(Me.Z,{autoComplete:"off",type:"hidden"})})]}),(0,e.jsx)(V.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.usage.state"}),name:"state",rules:[{required:!0,message:C({id:"device.usage.state.message"})}],initialValue:"Available",children:(0,e.jsx)(Fe.Z,{placeholder:C({id:"device.usage.state.message"}),disabled:oe,options:["Available","Reserved","Unusable"].map(function(h){return{label:(0,e.jsx)(Ye.Z,{status:["Unusable"].includes(h)?"default":"success",text:h}),value:h}})})}),(0,e.jsx)(gr.Z,{}),(0,e.jsx)(Mr.Z,(0,i.Z)({},Ee))]}),(0,e.jsx)(V.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.description"}),name:"description",children:(0,e.jsx)(Me.Z.TextArea,{placeholder:C({id:"device.description.placeholder"})})})]})}),(0,e.jsx)(on,{ref:xe,handleOk:Cr}),(0,e.jsx)(Rr.Z,{ref:ge,callback:Sr}),w&&(0,e.jsx)(Lr.Z,{onOk:Ve})]})},vn=(0,n.forwardRef)(cn),sr=s(39067),Nr=s(62865),fn=s(76865),$r=s(86213),jr=s(13958),pn=s(14552),Ar=s(36761),Vr,Br,hn=["svgRef","title"];function dr(){return dr=Object.assign?Object.assign.bind():function(b){for(var D=1;D<arguments.length;D++){var O=arguments[D];for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(b[S]=O[S])}return b},dr.apply(this,arguments)}function mn(b,D){if(b==null)return{};var O=xn(b,D),S,f;if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(b);for(f=0;f<C.length;f++)S=C[f],!(D.indexOf(S)>=0)&&(!Object.prototype.propertyIsEnumerable.call(b,S)||(O[S]=b[S]))}return O}function xn(b,D){if(b==null)return{};var O={},S=Object.keys(b),f,C;for(C=0;C<S.length;C++)f=S[C],!(D.indexOf(f)>=0)&&(O[f]=b[f]);return O}var gn=function(D){var O=D.svgRef,S=D.title,f=mn(D,hn);return n.createElement("svg",dr({width:"21px",height:"54px",viewBox:"0 0 21 54",ref:O},f),S?n.createElement("title",null,S):null,Vr||(Vr=n.createElement("desc",null,"Created with Sketch.")),Br||(Br=n.createElement("g",{id:"\\u673A\\u5668\\u7BA1\\u7406",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},n.createElement("g",{id:"7-\\u4E91\\u4E0A-\\u96C6\\u7FA4",transform:"translate(-262.000000, -266.000000)",fill:"#D9D9D9"},n.createElement("g",{id:"\\u8868\\u683C",transform:"translate(238.000000, 112.000000)"},n.createElement("g",{transform:"translate(24.000000, 154.000000)",id:"\\u7F16\\u7EC4-3"},n.createElement("g",null,n.createElement("g",{id:"\\u7F16\\u7EC4-4"},n.createElement("g",null,n.createElement("path",{d:"M1,54 L0,54 L0,0 L1,0 L1,27 L21,27 L21,28 L1,28 L1,54 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408"}))))))))))},Zn=n.forwardRef(function(b,D){return n.createElement(gn,dr({svgRef:D},b))}),lt=s.p+"static/tree.ed04c05b.svg",jn=s(81654),Ur=s.n(jn),_e=s(24480),ar=s(13090),dt=s(66456),zr=s(79764),ot=s(17462),yn=s(76772),Sn=function(D,O){var S=(0,r.YB)(),f=S.formatMessage,C=D.onOk,a=(0,Re.UO)(),T=a.ws_id,K=(0,n.useState)(!1),Y=(0,o.Z)(K,2),w=Y[0],j=Y[1],_=(0,n.useState)(null),y=(0,o.Z)(_,2),se=y[0],N=y[1],W=(0,n.useState)([]),fe=(0,o.Z)(W,2),m=fe[0],Q=fe[1],xe=(0,n.useState)([]),ge=(0,o.Z)(xe,2),pe=ge[0],de=ge[1],U=(0,n.useState)(!0),G=(0,o.Z)(U,2),F=G[0],P=G[1],je=(0,n.useState)("toneagent"),L=(0,o.Z)(je,2),ne=L[0],J=L[1],ae=(0,n.useState)({type:void 0,message:null}),ye=(0,o.Z)(ae,2),He=ye[0],X=ye[1],Pe=function(){var t=(0,te.Z)((0,u.Z)().mark(function l(Z){var I,E,he,Ie;return(0,u.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return P(!0),Ee.next=3,(0,r.WY)("/api/server/sync_vm/?server_id=".concat(Z));case 3:if(I=Ee.sent,E=I.code,he=I.msg,Ie=I.data,P(!1),E===200){Ee.next=11;break}return(0,_e.EV)(E,he),Ee.abrupt("return");case 11:de(Ie),j(!0),N(Z);case 14:case"end":return Ee.stop()}},l)}));return function(Z){return t.apply(this,arguments)}}();(0,n.useImperativeHandle)(O,function(){return{show:function(l){Pe(l)}}});var Te=(0,n.useCallback)(function(){j(!1),P(!0),N(null),Q([]),de([]),X({type:void 0,message:null})},[]),H=[{dataIndex:"ip",title:"IP"},{dataIndex:"sn",title:"SN"},{dataIndex:"hostname",title:(0,e.jsx)(r._H,{id:"device.machine.name"})},{dataIndex:"idc",title:"IDC"},{dataIndex:"app_group",title:(0,e.jsx)(r._H,{id:"device.app_group"})}],p=(0,n.useCallback)(function(t){Q(t)},[]),k=function(){var t=(0,te.Z)((0,u.Z)().mark(function l(){var Z,I,E,he,Ie,be;return(0,u.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,le.bD)({ips:m,ws_id:T,channel_type:ne});case 2:if(Z=q.sent,I=Z.code,E=Z.msg,he=Z.data,I===200){q.next=9;break}return(0,_e.EV)(I,E),q.abrupt("return",!1);case 9:if(Ie=he.success,be=he.errors,JSON.stringify(be)==="[]"){q.next=13;break}return X({type:"error",message:JSON.stringify(E)!=="[]"?E.reduce(function(ee,oe){return ee+=oe},""):""}),q.abrupt("return",!1);case 13:if(JSON.stringify(Ie)==="[]"){q.next=15;break}return q.abrupt("return",!0);case 15:return q.abrupt("return",!1);case 16:case"end":return q.stop()}},l)}));return function(){return t.apply(this,arguments)}}(),B=function(){var t=(0,te.Z)((0,u.Z)().mark(function l(){var Z,I,E,he;return(0,u.Z)().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(JSON.stringify(m)==="[]"){be.next=20;break}return X({type:void 0,message:null}),P(!0),be.next=5,k();case 5:if(Z=be.sent,!Z){be.next=19;break}return be.next=9,(0,r.WY)("/api/server/sync_vm/",{method:"post",data:{server_id:se,ips:m,ws_id:T}});case 9:if(I=be.sent,E=I.code,he=I.msg,E===200){be.next=16;break}return P(!1),(0,_e.EV)(E,he),be.abrupt("return");case 16:Te(),C(),ce.default.success(f({id:"operation.success"}));case 19:P(!1);case 20:case"end":return be.stop()}},l)}));return function(){return t.apply(this,arguments)}}(),ke=(0,n.useCallback)(function(t){J(t)},[]),z=(0,n.useMemo)(function(){return m.length!==0&&pe.length!==0&&!F},[m,pe,F]);return(0,e.jsx)(er.Z,{open:w,title:(0,e.jsx)(r._H,{id:"device.select.virtual.machine"}),width:800,onCancel:Te,footer:!1,children:(0,e.jsxs)(Ae.Z,{spinning:F,children:[He.message&&(0,e.jsx)(yn.Z,{style:{marginBottom:16},showIcon:!0,closable:!0,type:He.type,message:He.message}),(0,e.jsxs)(me.Z,{style:{marginBottom:16},children:[(0,e.jsxs)(ie.Z.Text,{children:[(0,e.jsx)(r._H,{id:"device.channel_type"}),"\uFF1A"]}),(0,e.jsx)(lr.k,{value:ne,onChange:ke,placeholder:f({id:"device.channel_type.message"})})]}),(0,e.jsx)(zr.Z,{dataSource:pe,columns:H,rowKey:"ip",pagination:!1,size:"small",rowSelection:{selectedRowKeys:m,onChange:p},scroll:{y:200}}),(0,e.jsx)(A.Z,{justify:"end",style:{marginTop:16},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{type:"default",onClick:Te,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(re.Z,{type:"primary",onClick:B,disabled:!z,children:(0,e.jsx)(r._H,{id:"operation.ok"})})]})})]})})},Cn=(0,n.forwardRef)(Sn),_n=s(27687),Kr=s(77764),Wr=s(85450),yr=s(10753),Gr=s(47883),Yr=s(87735),wn=["code","msg"],kn=function(D,O){var S=(0,r.YB)(),f=S.formatMessage,C=(0,r.Kd)()==="en-US",a=(0,Re.UO)(),T=a.ws_id,K=(0,Re.TH)(),Y=K.query,w=(0,r.md)(),j=(0,n.useState)([]),_=(0,o.Z)(j,2),y=_[0],se=_[1],N=(0,n.useState)(!0),W=(0,o.Z)(N,2),fe=W[0],m=W[1],Q=(0,n.useState)([]),xe=(0,o.Z)(Q,2),ge=xe[0],pe=xe[1],de=(0,n.useState)(!1),U=(0,o.Z)(de,2),G=U[0],F=U[1],P=(0,n.useState)([]),je=(0,o.Z)(P,2),L=je[0],ne=je[1],J=(0,n.useState)(!1),ae=(0,o.Z)(J,2),ye=ae[0],He=ae[1],X=(0,n.useState)({}),Pe=(0,o.Z)(X,2),Te=Pe[0],H=Pe[1],p=(0,n.useRef)(null),k=(0,n.useRef)(null),B=n.useRef(null);(0,n.useImperativeHandle)(O,function(){return{open:k.current.show}});var ke=(0,n.useState)((0,i.Z)({ws_id:T,page_size:10,page_num:1},Y)),z=(0,o.Z)(ke,2),t=z[0],l=z[1],Z=(0,n.useRef)(),I=(0,n.useRef)(),E=[{id:"phy_server",name:f({id:"device.standalone.phy_server"})},{id:"vm",name:f({id:"device.standalone.vm"})}],he=[{value:"toneagent",label:"ToneAgent"}].map(function(x){return{id:x.value,name:x.label}}),Ie=function(){var x=(0,te.Z)((0,u.Z)().mark(function v(){var c,h,d,R,M;return(0,u.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return r.m8.replace("/ws/".concat(T,"/device/group?").concat((0,Yr.stringify)(t))),m(!0),Se.next=4,(0,le.Zu)(t);case 4:if(Se.t0=Se.sent,Se.t0){Se.next=7;break}Se.t0={};case 7:h=Se.t0,d=h.code,R=h.msg,M=(0,nr.Z)(h,wn),m(!1),se(M),pe(M==null||(c=M.data)===null||c===void 0?void 0:c.map(function(Ce){return Ce.id})),ne([]);case 15:case"end":return Se.stop()}},v)}));return function(){return x.apply(this,arguments)}}(),be=function(v){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;l((0,i.Z)((0,i.Z)({},t),{},{page_size:c,page_num:v}))},Ee=(0,n.useCallback)(function(){var x=(0,te.Z)((0,u.Z)().mark(function v(c){var h;return(0,u.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return F(!0),R.next=3,(0,le.EK)(c);case 3:h=R.sent,h.code===200?(ce.default.success(f({id:"operation.success"})),He(!1)):(0,_e.EV)(h.code,h.msg),F(!1);case 6:case"end":return R.stop()}},v)}));return function(v){return x.apply(this,arguments)}}(),[]),q=function(){var x=(0,te.Z)((0,u.Z)().mark(function v(c){var h,d,R,M,$;return(0,u.Z)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return H(c),Ce.next=3,(0,le.Z9)({server_id:c.id,run_mode:"standalone",server_provider:"aligroup"});case 3:h=Ce.sent,d=h.data,R=h.code,M=h.msg,R===200?d.length>0?He(!0):($=B.current)===null||$===void 0||$.show(c,"(".concat(c.ip,")")):(0,_e.EV)(R,M);case 8:case"end":return Ce.stop()}},v)}));return function(c){return x.apply(this,arguments)}}(),ee=function(v,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,d=Math.ceil(Number(v-1)/h);return c>d&&d>0?d:c},oe=function(){var x=(0,te.Z)((0,u.Z)().mark(function v(c){var h,d,R;return(0,u.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return h={ws_id:T},$.next=3,(0,le.Ld)(c,h);case 3:d=$.sent,R=ee(y==null?void 0:y.total,t==null?void 0:t.page_num,t==null?void 0:t.page_size),d.code===200?(ce.default.success(f({id:"operation.success"})),ne(L.filter(function(Se){return Se!==c})),He(!1),l((0,i.Z)((0,i.Z)({},t),{},{page_num:R}))):(0,_e.EV)(d.code,d.msg);case 6:case"end":return $.stop()}},v)}));return function(c){return x.apply(this,arguments)}}();(0,n.useEffect)(function(){Ie()},[t]);var Oe=function(){var x=(0,te.Z)((0,u.Z)().mark(function v(){var c;return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,_e.MR)({name:Te.name,id:Te.id});case 2:c=d.sent,c&&window.open("/ws/".concat(T,"/refenerce/4/?pk=").concat(c));case 4:case"end":return d.stop()}},v)}));return function(){return x.apply(this,arguments)}}(),ue=(0,n.useCallback)(function(x){k.current.show(x)},[]),Ve=function(){var x=(0,te.Z)((0,u.Z)().mark(function v(){var c;return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return F(!0),d.next=3,(0,le.lr)({pks:L});case 3:c=d.sent,F(!1),c.code===200?(Ie(),ce.default.success(f({id:"synchronization.success"}))):ce.default.warning(c.msg);case 6:case"end":return d.stop()}},v)}));return function(){return x.apply(this,arguments)}}(),Ze=function(){var x=(0,te.Z)((0,u.Z)().mark(function v(c){var h,d,R;return(0,u.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,le.vu)({server_id:c.id,server_provider:"aligroup"});case 2:h=$.sent,d=h.code,R=h.msg,d===200?(ce.default.success(f({id:"device.synchronization.state.success"})),Ie()):(0,_e.EV)(d,R);case 6:case"end":return $.stop()}},v)}));return function(c){return x.apply(this,arguments)}}(),Sr=(0,n.useCallback)(function(x){ne(x)},[]),nn=function(v,c){switch(v.key){case"data":return Ee(c.id);case"vm":return Z.current.show(c.id);default:return!1}},Cr=(0,n.useCallback)(function(x){I.current.show(x)},[]),_r=[{title:"IP",width:176,fixed:"left",dataIndex:"ip",className:Ur().ip_td,ellipsis:{showTitle:!1},render:function(v,c){return c.sub_server_list?(0,e.jsx)(ar.Z,{exists:!0,val:v,provider:"aligroup"}):(0,e.jsxs)(A.Z,{justify:"start",align:"middle",children:[(0,e.jsx)(Zn,{style:{marginRight:8,height:40}}),(0,e.jsx)(ar.Z,{exists:!0,val:v,provider:"aligroup"})]})},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.ip?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(sr.Z,{value:t==null?void 0:t.ip,confirm:c,onConfirm:function(d){return l((0,i.Z)((0,i.Z)({},t),{},{ip:d,page_num:1}))}})}},{title:"SN",dataIndex:"sn",width:130,ellipsis:{shwoTitle:!1},render:function(v){return(0,e.jsx)(ar.Z,{exists:!0,val:v,provider:"aligroup"})},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.sn?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(sr.Z,{value:t.sn,confirm:c,onConfirm:function(d){return l((0,i.Z)((0,i.Z)({},t),{},{sn:d,page_num:1}))}})}},{title:"TSN",dataIndex:"tsn",width:130,ellipsis:{shwoTitle:!1},render:function(v){return(0,e.jsx)(yr.K,{ellipsis:{tooltip:!0},children:v})}},!1,!1,!1,!1,!1,{title:(0,e.jsx)(r._H,{id:"device.channel_type"}),dataIndex:"channel_type",width:100,ellipsis:{showTitle:!1},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.channel_type?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(fn.Z,{value:t==null?void 0:t.channel_type,list:he,confirm:c,onConfirm:function(d){return l((0,i.Z)((0,i.Z)({},t),{},{channel_type:d,page_num:1}))}})}},!1,{title:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(r._H,{id:"device.usage.state"}),(0,e.jsx)(Ue.Z,{title:f({id:"device.usage.state.Tooltip"}),children:(0,e.jsx)(Tr.Z,{})})]}),dataIndex:"state",width:120+30,ellipsis:{showTitle:!1},render:function(v,c){return(0,tr.Ul)(v,c,T)},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.state?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(Ar.Z,{value:t==null?void 0:t.state,confirm:c,onConfirm:function(d){return l((0,i.Z)((0,i.Z)({},t),{},{state:d,page_num:1}))},dataArr:["Available","Occupied","Broken","Reserved","Unusable"]})}},{title:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(r._H,{id:"device.real_state"}),(0,e.jsx)(Ue.Z,{title:f({id:"device.real_state.Tooltip"}),children:(0,e.jsx)(Tr.Z,{})})]}),width:120+30,dataIndex:"real_state",ellipsis:{showTitle:!1},render:function(v,c){return(0,tr.Ul)(v,c,T)},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.real_state?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(Ar.Z,{value:t==null?void 0:t.real_state,confirm:c,onConfirm:function(d){return l((0,i.Z)((0,i.Z)({},t),{},{real_state:d,page_num:1}))},dataArr:["Online","Offline"]})}},{title:"Owner",width:100,dataIndex:"owner_name",ellipsis:{showTitle:!1},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.owner?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(_n.Z,{value:t==null?void 0:t.owner,confirm:c,onConfirm:function(d){return l((0,i.Z)((0,i.Z)({},t),{},{page_num:1,owner:d}))}})}},{title:(0,e.jsx)(r._H,{id:"device.description"}),dataIndex:"description",filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.description?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(sr.Z,{value:t==null?void 0:t.description,confirm:c,onConfirm:function(d){return l((0,i.Z)((0,i.Z)({},t),{},{description:d,page_num:1}))}})},width:160,ellipsis:{showTitle:!1},render:function(v){return(0,e.jsx)(pn.Z,{title:v})}},{title:(0,e.jsx)(r._H,{id:"device.tag"}),dataIndex:"tag_list",width:240,ellipsis:{showTitle:!1},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:t!=null&&t.tags&&(t==null?void 0:t.tags.length)>0?"#1890ff":void 0}})},filterDropdown:function(v){var c=v.confirm;return(0,e.jsx)(Nr.Z,{value:t==null?void 0:t.tags,ws_id:T,run_mode:"standalone",confirm:c,onConfirm:function(d){l((0,i.Z)((0,i.Z)({},t),{},{page_num:1,tags:d}))}})},render:function(v){return(0,e.jsx)(Kr.Z,{list:v.map(function(c){return(0,e.jsx)(rr.Z,{color:c.tag_color,children:c.name},c.name)})})}},{title:(0,e.jsx)(r._H,{id:"Table.columns.operation"}),fixed:"right",width:C?320:260,key:"operation",ellipsis:{showTitle:!1},render:function(v,c){return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ie.Z.Link,{onClick:function(){return p.current.show(v.id)},children:(0,e.jsx)(r._H,{id:"operation.detail"})}),(0,e.jsx)(r.Nv,{accessible:w.WsMemberOperateSelf(c.owner),fallback:(0,e.jsxs)(me.Z,{onClick:function(){return(0,_e.WR)()},children:[(0,e.jsx)(ie.Z.Link,{children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(ie.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(ie.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.delete"})}),(0,e.jsx)(ie.Z.Link,{onClick:c.sub_server_list&&c.device_type==="\u7269\u7406\u673A"?function(){return!1}:function(){return(0,_e.WR)()},children:(0,e.jsx)(r._H,{id:"device.synchronization"})})]}),children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ie.Z.Link,{onClick:function(){return Ze(v)},children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(ie.Z.Link,{onClick:function(){return ue(v)},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(ie.Z.Link,{onClick:function(){return q((0,i.Z)({},c))},children:(0,e.jsx)(r._H,{id:"operation.delete"})}),!1]})}),(0,e.jsx)(ie.Z.Link,{onClick:function(){return Cr(v.id)},children:(0,e.jsx)(r._H,{id:"operation.log"})})]})}}];return(0,e.jsxs)(Ae.Z,{spinning:G,tip:f({id:"device.Synchronizing"}),children:[(0,e.jsx)(Wr.sL,{loading:fe,rowKey:"id",columns:_r,name:"ws-server-group-standalone-list",refreshDeps:[t,T,w,C],pagination:!1,size:"small",className:Ur().pro_table_card,dataSource:(y==null?void 0:y.data)||[],rowSelection:{selectedRowKeys:L,onChange:Sr},expandable:{childrenColumnName:"sub_server_list",defaultExpandAllRows:!0,expandedRowKeys:ge,expandIcon:function(){return!1}},scroll:{x:"100%",y:innerHeight-50-66-30-20}}),(0,e.jsx)($r.Z,{pageSize:t==null?void 0:t.page_size,currentPage:t==null?void 0:t.page_num,total:(y==null?void 0:y.total)||0,onPageChange:be}),(0,e.jsx)(jr.Z,{ref:I,operation_object:"machine_test_server"}),Array.isArray(L)&&!!L.length?(0,e.jsxs)(A.Z,{justify:"space-between",style:{paddingRight:20,height:64,position:"absolute",left:0,bottom:-24,width:"100%",background:"#fff",paddingLeft:24,boxShadow:"0 -9px 28px 8px rgba(0,0,0,0.05), 0 -6px 16px 0 rgba(0,0,0,0.08), 0 -3px 6px -4px rgba(0,0,0,0.12)"},children:[(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(We.Z,{indeterminate:!0}),(0,e.jsx)(ie.Z.Text,{children:f({id:"device.selected.item"},{data:L.length})}),(0,e.jsx)(re.Z,{type:"link",onClick:function(){return ne([])},children:(0,e.jsx)(r._H,{id:"operation.cancel"})})]}),(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{onClick:function(){return ue({selectRowKeys:L,opreateType:"moreEdit"})},children:(0,e.jsx)(r._H,{id:"batch.edit"})}),!1]})]}):null,(0,e.jsx)(vn,{onFinish:Ie,run_environment:"aligroup",run_mode:"standalone",ref:k}),(0,e.jsx)(Fr,{ref:p}),(0,e.jsxs)(er.Z,{title:(0,e.jsx)(r._H,{id:"delete.tips"}),centered:!0,open:ye,onCancel:function(){return He(!1)},footer:[(0,e.jsx)(re.Z,{onClick:function(){return oe(Te.id)},children:(0,e.jsx)(r._H,{id:"operation.confirm.delete"})},"submit"),(0,e.jsx)(re.Z,{type:"primary",onClick:function(){return He(!1)},children:(0,e.jsx)(r._H,{id:"operation.cancel"})},"back")],width:600,maskClosable:!1,children:[(0,e.jsxs)("div",{style:{color:"red",marginBottom:5},children:[(0,e.jsx)(Er.Z,{style:{marginRight:4}}),(0,e.jsx)(r._H,{id:"device.delete.tips"})]}),(0,e.jsx)("div",{style:{color:"#1890FF",cursor:"pointer"},onClick:Oe,children:(0,e.jsx)(r._H,{id:"view.quote.details"})})]}),(0,e.jsx)(Gr.Z,{ref:B,onOk:function(v){return oe(v.id)}}),(0,e.jsx)(Cn,{ref:Z,onOk:Ie})]})},bn=(0,n.forwardRef)(kn),Hn=s(56724),Qr=s.n(Hn),In=s(68002),ut=s(48736),On=s(27049),Dn=s(90105),Tn=(0,n.memo)(function(b){var D=(0,n.useState)([]),O=(0,o.Z)(D,2),S=O[0],f=O[1],C=(0,n.useState)([]),a=(0,o.Z)(C,2),T=a[0],K=a[1],Y=function(){var j=(0,te.Z)((0,u.Z)().mark(function _(){var y,se,N,W=arguments;return(0,u.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return y=W.length>0&&W[0]!==void 0?W[0]:"",m.next=3,(0,Dn.tR)({keyword:y,scope:"aligroup"});case 3:se=m.sent,N=se.data,f(N);case 6:case"end":return m.stop()}},_)}));return function(){return j.apply(this,arguments)}}();(0,n.useEffect)(function(){Y()},[]);var w=function(){var _;(_=b.confirm)===null||_===void 0||_.call(b),b.onOk(T)};return(0,e.jsxs)(A.Z,{style:{padding:8,width:170},children:[(0,e.jsx)("div",{style:{width:"100%"},children:(0,e.jsx)(Fe.Z,{style:{width:"100%"},onSearch:Y,size:"small",mode:"multiple",value:T,onChange:function(_){return K(_)},children:S.map(function(j){return(0,e.jsx)(Fe.Z.Option,{value:j.id,children:j.last_name},j.id)})})}),(0,e.jsx)(On.Z,{style:{margin:"5px 0"}}),(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{size:"small",type:"link",style:{width:75},onClick:w,children:(0,e.jsx)(r._H,{id:"operation.search"})}),(0,e.jsx)(re.Z,{size:"small",type:"link",style:{width:75},onClick:function(){return K([])},children:(0,e.jsx)(r._H,{id:"operation.reset"})})]})]})}),ct=null,En=function(D,O){var S=(0,r.YB)(),f=S.formatMessage,C=(0,Re.UO)(),a=C.ws_id,T=D.onFinish,K=(0,n.useState)({list:[],isQuery:""}),Y=(0,o.Z)(K,2),w=Y[0],j=Y[1],_=(0,n.useState)(!1),y=(0,o.Z)(_,2),se=y[0],N=y[1],W=(0,n.useState)(!1),fe=(0,o.Z)(W,2),m=fe[0],Q=fe[1],xe=(0,n.useState)(null),ge=(0,o.Z)(xe,2),pe=ge[0],de=ge[1],U=V.Z.useForm(),G=(0,o.Z)(U,1),F=G[0],P=function(){F.resetFields(),Q(!1),de(null)};(0,n.useImperativeHandle)(O,function(){return{show:function(ne){if(Q(!0),ne){de(ne);var J=ne,ae=J.tag_list.map(function(ye){return ye.id});J.tags=ae,j((0,i.Z)((0,i.Z)({},w),{},{isQuery:"edit",list:ae})),F.setFieldsValue(J)}else j((0,i.Z)((0,i.Z)({},w),{},{isQuery:"add",list:[]}))}}});var je=function(){N(!0),F.validateFields().then(function(){var ne=(0,te.Z)((0,u.Z)().mark(function J(ae){var ye;return(0,u.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(pe){X.next=6;break}return X.next=3,(0,le.iv)((0,i.Z)((0,i.Z)({},ae),{},{cluster_type:"aligroup",ws_id:a}));case 3:ye=X.sent,X.next=9;break;case 6:return X.next=8,(0,le.Oq)(pe.id,(0,i.Z)((0,i.Z)({},ae),{},{ws_id:a}));case 8:ye=X.sent;case 9:ye.code===200?(ce.default.success(f({id:"operation.success"})),T(),P()):(0,_e.EV)(ye.code,ye.msg),N(!1);case 11:case"end":return X.stop()}},J)}));return function(J){return ne.apply(this,arguments)}}()).catch(function(ne){console.log(ne),N(!1)})};return(0,e.jsx)(Xe.Z,{maskClosable:!1,keyboard:!1,title:pe?(0,e.jsx)(r._H,{id:"device.cluster.edit"}):(0,e.jsx)(r._H,{id:"device.cluster.btn"}),forceRender:!0,open:m,onClose:P,width:"376",destroyOnClose:!0,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{onClick:P,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(re.Z,{type:"primary",disabled:se,onClick:je,children:pe?(0,e.jsx)(r._H,{id:"operation.update"}):(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(V.Z,{layout:"vertical",form:F,name:"createGroup",children:[(0,e.jsx)(V.Z.Item,{name:"name",label:(0,e.jsx)(r._H,{id:"device.cluster.name.s"}),rules:[{message:f({id:"device.cluster.name.s.message"}),required:!0}],children:(0,e.jsx)(Me.Z,{autoComplete:"off",placeholder:f({id:"please.enter"})})}),m&&(0,e.jsx)(gr.Z,{}),(0,e.jsx)(Mr.Z,(0,i.Z)({},w)),(0,e.jsx)(V.Z.Item,{name:"description",label:(0,e.jsx)(r._H,{id:"device.description"}),children:(0,e.jsx)(Me.Z.TextArea,{placeholder:f({id:"device.description.placeholder"})})})]})})},Rn=(0,n.forwardRef)(En),vt=s(88983),Ne=s(47933),ft=s(65011),Fn=s(49288),Pn=s(62460),Jr=s.n(Pn),Mn=function(D,O){var S=(0,r.YB)(),f=S.formatMessage,C=(0,r.tT)("disclaimer"),a=C.openModal,T=C.handleDisclaimerOpen,K=D.onFinish,Y=(0,Re.UO)(),w=Y.ws_id,j=V.Z.useForm(),_=(0,o.Z)(j,1),y=_[0],se=(0,n.useState)([]),N=(0,o.Z)(se,2),W=N[0],fe=N[1],m=(0,n.useState)({success:[],errors:[]}),Q=(0,o.Z)(m,2),xe=Q[0],ge=Q[1],pe=(0,n.useState)(""),de=(0,o.Z)(pe,2),U=de[0],G=de[1],F=(0,n.useState)(!0),P=(0,o.Z)(F,2),je=P[0],L=P[1],ne=(0,n.useState)(!1),J=(0,o.Z)(ne,2),ae=J[0],ye=J[1],He=(0,n.useState)(!1),X=(0,o.Z)(He,2),Pe=X[0],Te=X[1],H={ws_id:w,page_num:1,page_size:500},p=(0,n.useState)(null),k=(0,o.Z)(p,2),B=k[0],ke=k[1],z=function(){var q=(0,te.Z)((0,u.Z)().mark(function ee(oe){return(0,u.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,le.Zu)(oe);case 2:return ue.abrupt("return",ue.sent);case 3:case"end":return ue.stop()}},ee)}));return function(oe){return q.apply(this,arguments)}}();(0,n.useImperativeHandle)(O,function(){return{show:function(ee){Te(!0),L(!0),z(H).then(function(oe){if(oe.code===200){var Oe=[];!!oe.data.length&&oe.data.map(function(ue){Oe.push({value:ue.ip}),ue.sub_server_list.length&&ue.sub_server_list.map(function(Ve){return Oe.push({value:Ve.ip})})}),fe(Oe)}else(0,_e.EV)(oe.code,oe.msg);L(!1)}),ee&&ke(ee)}}});var t=function(ee){var oe=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,Oe=oe.test(ee);Oe&&z((0,i.Z)((0,i.Z)({},H),{},{ip:ee})).then(function(ue){if(ue.code===200&&!!ue.data.length){var Ve=ue.data[0];Ve.in_pool?(ge({success:[],errors:[]}),y.setFieldsValue({channel_type:Ve.channel_type}),y.setFieldsValue({state:Ve.state}),ye(!0)):ye(!1)}else ye(!1)})},l=function(ee){t(ee)},Z=function(ee){t(ee)},I=function(){y.resetFields(),ye(!1),Te(!1),ke(null)},E=function(){y.validateFields().then(function(){var ee=(0,te.Z)((0,u.Z)().mark(function oe(Oe){var ue;return(0,u.Z)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,(0,le.O3)((0,i.Z)((0,i.Z)({},Oe),{},{ws_id:w,cluster_id:B.id,cluster_type:"aligroup"}));case 2:ue=Ze.sent,ue.code===200?(K(B.id),ce.default.success(f({id:"operation.success"})),I()):(0,_e.EV)(ue.code,ue.msg);case 4:case"end":return Ze.stop()}},oe)}));return function(oe){return ee.apply(this,arguments)}}()).catch(function(ee){console.log(ee)})},he=(0,n.useCallback)(function(q){q&&E()},[B]),Ie=function(ee){var oe=ee.data;return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)("span",{children:oe.msg[0]}),(0,e.jsx)(Ue.Z,{title:oe.msg[1],children:(0,e.jsx)("span",{style:{color:"#1890ff"},children:(0,e.jsx)(r._H,{id:"device.detail.info"})})})]})},be=function(){var q=(0,te.Z)((0,u.Z)().mark(function ee(){var oe,Oe,ue;return(0,u.Z)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(!je){Ze.next=2;break}return Ze.abrupt("return");case 2:if(L(!0),oe=y.getFieldValue("ip"),Oe=y.getFieldValue("channel_type"),!(Oe&&oe&&oe.length>0)){Ze.next=19;break}return Ze.prev=6,Ze.next=9,(0,le.bD)({ips:[oe],channel_type:Oe,ws_id:w});case 9:if(Ze.t0=Ze.sent,Ze.t0){Ze.next=12;break}Ze.t0={};case 12:ue=Ze.t0,ue.code===200&&(ge((0,i.Z)({},ue.data)),G((0,e.jsx)(Ie,{data:ue}))),Ze.next=19;break;case 16:Ze.prev=16,Ze.t1=Ze.catch(6),L(!1);case 19:L(!1);case 20:case"end":return Ze.stop()}},ee,null,[[6,16]])}));return function(){return q.apply(this,arguments)}}(),Ee=function(){y.getFieldValue("channel_type")};return(0,e.jsxs)(Xe.Z,{maskClosable:!1,keyboard:!1,title:(0,e.jsx)(r._H,{id:"device.add.btn"}),forceRender:!0,open:Pe,width:"376",onClose:I,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{onClick:I,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(re.Z,{type:"primary",onClick:T,children:(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:[(0,e.jsx)(Ae.Z,{spinning:je,children:(0,e.jsxs)(V.Z,{layout:"vertical",form:y,className:Jr().add_server_form,children:[ae&&(0,e.jsx)(A.Z,{style:{marginBottom:10},children:(0,e.jsxs)(g.Z,{children:[(0,e.jsx)("span",{style:{color:"red",marginRight:10},children:"*"}),(0,e.jsx)(r._H,{id:"device.poolFlag"})]})}),(0,e.jsx)(V.Z.Item,{name:"ip",label:(0,e.jsx)(r._H,{id:"device.machine"}),validateStatus:xe.errors.length>0?"error":"",help:xe.errors.length>0?U:void 0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6216\u9009\u62E9IP".concat("")}],children:(0,e.jsx)(Fn.Z,{options:W,style:{width:"100%"},onSelect:l,onSearch:Z,onBlur:function(){return Ee()},placeholder:f({id:"device.machine.select.message"})})}),(0,e.jsx)(V.Z.Item,{name:"channel_type",initialValue:"toneagent",label:(0,e.jsx)(r._H,{id:"device.channel_type"}),rules:[{required:!0,message:f({id:"device.channel_type.message"})}],children:(0,e.jsx)(lr.k,{disabled:"opensource"})}),(0,e.jsx)(V.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.usage.state"}),name:"state",rules:[{required:!0,message:f({id:"device.usage.state.message"})}],initialValue:"Available",children:(0,e.jsxs)(Fe.Z,{placeholder:(0,e.jsx)(r._H,{id:"device.usage.state.message"}),disabled:ae,children:[(0,e.jsx)(Fe.Z.Option,{value:"Available",children:(0,e.jsx)(Ye.Z,{status:"success",text:"Available"})}),(0,e.jsx)(Fe.Z.Option,{value:"Reserved",children:(0,e.jsx)(Ye.Z,{status:"success",text:"Reserved"})}),(0,e.jsx)(Fe.Z.Option,{value:"Unusable",children:(0,e.jsx)(Ye.Z,{status:"default",text:"Unusable"})})]})}),(0,e.jsx)(V.Z.Item,{name:"private_ip",label:(0,e.jsx)(r._H,{id:"device.private_ip"}),children:(0,e.jsx)(Me.Z,{autoComplete:"off",placeholder:f({id:"device.private_ip.placeholder"})})}),(0,e.jsx)(V.Z.Item,{name:"role",label:(0,e.jsx)(r._H,{id:"device.role"}),rules:[{required:!0,message:f({id:"placeholder.enter.device.role"})}],children:(0,e.jsxs)(Fe.Z,{getPopupContainer:function(ee){return ee.parentNode},placeholder:(0,e.jsx)(r._H,{id:"device.role.placeholder"}),children:[(0,e.jsx)(Fe.Z.Option,{value:"local",children:"local"}),(0,e.jsx)(Fe.Z.Option,{value:"remote",children:"remote"})]})}),(0,e.jsx)(gr.Z,{}),(0,e.jsx)(V.Z.Item,{name:"baseline_server",label:(0,e.jsx)(r._H,{id:"device.baseline_server"}),initialValue:!1,children:(0,e.jsxs)(Ne.ZP.Group,{children:[(0,e.jsx)(Ne.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Ne.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(V.Z.Item,{name:"kernel_install",label:(0,e.jsx)(r._H,{id:"device.kernel_install"}),initialValue:!1,children:(0,e.jsxs)(Ne.ZP.Group,{children:[(0,e.jsx)(Ne.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Ne.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(V.Z.Item,{name:"var_name",label:(0,e.jsx)(r._H,{id:"device.var_name"}),rules:[{required:!0,message:f({id:"placeholder.enter.device.var_name"})}],children:(0,e.jsx)(Me.Z,{autoComplete:"off",placeholder:f({id:"please.enter"})})})]})}),a&&(0,e.jsx)(Lr.Z,{onOk:he})]})},Ln=(0,n.forwardRef)(Mn),pt=s(62350),Nn=s(24565),Xr=s(38819),qr=s(15873),$n=function(D,O){var S=(0,r.YB)(),f=S.formatMessage,C=D.handleOk,a=(0,Re.UO)(),T=a.ws_id,K=V.Z.useForm(),Y=(0,o.Z)(K,1),w=Y[0],j=(0,n.useState)(!1),_=(0,o.Z)(j,2),y=_[0],se=_[1],N=(0,n.useState)(null),W=(0,o.Z)(N,2),fe=W[0],m=W[1],Q=(0,n.useState)(!1),xe=(0,o.Z)(Q,2),ge=xe[0],pe=xe[1];(0,n.useImperativeHandle)(O,function(){return{show:function(F){if(pe(!0),F){m(F);var P=F.test_server,je=P.ip,L=P.private_ip;w.setFieldsValue((0,i.Z)((0,i.Z)({},F),{},{ip:je,private_ip:L}))}}}});var de=function(){pe(!1),m(null),w.resetFields()},U=function(){se(!0),w.validateFields().then(function(){var F=(0,te.Z)((0,u.Z)().mark(function P(je){var L;return(0,u.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,le.AW)(fe.id,(0,i.Z)((0,i.Z)({},je),{},{ws_id:T}));case 2:L=J.sent,L.code===200?(C(),de()):(0,_e.EV)(L.code,L.msg),se(!1);case 5:case"end":return J.stop()}},P)}));return function(P){return F.apply(this,arguments)}}()).catch(function(){se(!1)})};return(0,e.jsx)(Xe.Z,{maskClosable:!1,keyboard:!1,title:(0,e.jsx)(r._H,{id:"device.device.edit"}),forceRender:!0,open:ge,width:"376",destroyOnClose:!0,onClose:de,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{onClick:de,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(re.Z,{type:"primary",disabled:y,onClick:U,children:(0,e.jsx)(r._H,{id:"operation.update"})})]})}),children:(0,e.jsxs)(V.Z,{layout:"vertical",form:w,children:[(0,e.jsx)(V.Z.Item,{name:"ip",label:(0,e.jsx)(r._H,{id:"device.machine"}),children:(0,e.jsx)(Me.Z,{disabled:!0})}),(0,e.jsx)(V.Z.Item,{name:"private_ip",label:(0,e.jsx)(r._H,{id:"device.private_ip.ip"}),children:(0,e.jsx)(Me.Z,{autoComplete:"off",placeholder:f({id:"device.private_ip.ip.placeholder"})})}),(0,e.jsx)(V.Z.Item,{name:"channel_type",initialValue:"toneagent",label:(0,e.jsx)(r._H,{id:"device.channel_type"}),rules:[{required:!0,message:f({id:"device.channel_type.message"})}],children:(0,e.jsx)(lr.k,{disabled:"opensource"})}),(0,e.jsx)(V.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.usage.state"}),name:"state",hasFeedback:!0,rules:[{required:!0,message:f({id:"device.usage.state.message"})}],initialValue:"Available",children:(0,e.jsxs)(Fe.Z,{placeholder:f({id:"device.usage.state.message"}),children:[(0,e.jsx)(Fe.Z.Option,{value:"Available",children:(0,e.jsx)(Ye.Z,{status:"success",text:"Available"})}),(0,e.jsx)(Fe.Z.Option,{value:"Reserved",children:(0,e.jsx)(Ye.Z,{status:"success",text:"Reserved"})}),(0,e.jsx)(Fe.Z.Option,{value:"Unusable",children:(0,e.jsx)(Ye.Z,{status:"default",text:"Unusable"})})]})}),(0,e.jsx)(V.Z.Item,{name:"baseline_server",label:(0,e.jsx)(r._H,{id:"device.baseline_server"}),children:(0,e.jsxs)(Ne.ZP.Group,{children:[(0,e.jsx)(Ne.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Ne.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(V.Z.Item,{name:"kernel_install",label:(0,e.jsx)(r._H,{id:"device.kernel_install"}),children:(0,e.jsxs)(Ne.ZP.Group,{children:[(0,e.jsx)(Ne.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Ne.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(V.Z.Item,{name:"var_name",label:(0,e.jsx)(r._H,{id:"device.var_name"}),rules:[{required:!0,message:f({id:"placeholder.enter.device.var_name"})}],children:(0,e.jsx)(Me.Z,{autoComplete:"off",placeholder:f({id:"please.enter"})})})]})})},An=(0,n.forwardRef)($n),Vn=s(20080),en=s.n(Vn),Bn=["test_server"],Un=function(b){var D=(0,r.YB)(),O=D.formatMessage,S=(0,r.Kd)()==="en-US",f=(0,Re.UO)(),C=f.ws_id,a=(0,r.md)(),T=(0,n.useState)(!0),K=(0,o.Z)(T,2),Y=K[0],w=K[1],j=(0,n.useState)([]),_=(0,o.Z)(j,2),y=_[0],se=_[1],N=(0,n.useState)(),W=(0,o.Z)(N,2),fe=W[0],m=W[1],Q=(0,n.useState)({first:46.6,next:49}),xe=(0,o.Z)(Q,2),ge=xe[0],pe=xe[1],de="url(".concat(en(),") no-repeat center center / 100% 100%"),U="url(".concat(en(),") no-repeat center center / 98% 100%"),G=(0,n.useRef)(),F=(0,n.useRef)(),P=(0,n.useRef)(),je=(0,n.useCallback)(function(H){P.current.show(H)},[]),L=function(){var H=(0,te.Z)((0,u.Z)().mark(function p(){var k,B;return(0,u.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return w(!0),z.next=3,(0,le.Y_)(b.id);case 3:k=z.sent,B=k.data,se(B),w(!1);case 7:case"end":return z.stop()}},p)}));return function(){return H.apply(this,arguments)}}(),ne=function(){var H=(0,te.Z)((0,u.Z)().mark(function p(k){var B,ke,z;return(0,u.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,le.vu)({server_id:k.server_id,server_provider:"aligroup"});case 2:B=l.sent,ke=B.code,z=B.msg,ke===200?(ce.default.success(O({id:"device.synchronization.state.success"})),m(new Date().getTime())):(0,_e.EV)(ke,z);case 6:case"end":return l.stop()}},p)}));return function(k){return H.apply(this,arguments)}}(),J=(0,n.useCallback)(function(H){G.current.show(H)},[]),ae=function(p){p.code===200?(m(new Date().getTime()),ce.default.success(O({id:"operation.success"}))):(0,_e.EV)(p.code,p.msg)},ye=(0,n.useCallback)(function(){var H=(0,te.Z)((0,u.Z)().mark(function p(k){var B;return(0,u.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return b.onSyncServer(!0),z.next=3,(0,le.EK)(k);case 3:B=z.sent,ae(B),b.onSyncServer(!1);case 6:case"end":return z.stop()}},p)}));return function(p){return H.apply(this,arguments)}}(),[]),He=function(){var H=(0,te.Z)((0,u.Z)().mark(function p(k){var B;return(0,u.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,le.Du)(k,{ws_id:C});case 2:B=z.sent,ae(B);case 4:case"end":return z.stop()}},p)}));return function(k){return H.apply(this,arguments)}}(),X=(0,n.useCallback)((0,te.Z)((0,u.Z)().mark(function H(){return(0,u.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:L();case 1:case"end":return k.stop()}},H)})),[]);(0,n.useEffect)(function(){b.size==="middle"?pe({first:46.6,next:49}):b.size==="small"?pe({first:39,next:41}):b.size==="large"&&pe({first:54.6,next:57})},[b.size]);var Pe=function(){var H=(0,te.Z)((0,u.Z)().mark(function p(k,B){var ke,z,t,l,Z;return(0,u.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return ke=k.test_server,z=(0,nr.Z)(k,Bn),t=(0,i.Z)((0,i.Z)({},z),ke),l=B==="role"?(0,i.Z)((0,i.Z)({},t),{},{role:"local"}):(0,i.Z)((0,i.Z)({},t),{},{baseline_server:1}),E.next=5,(0,le.AW)(k.id,l);case 5:Z=E.sent,Z.code===200?(ce.default.success(O({id:"operation.success"})),L()):(0,_e.EV)(Z.code,Z.msg);case 7:case"end":return E.stop()}},p)}));return function(k,B){return H.apply(this,arguments)}}(),Te=[{title:"IP",width:170,fixed:"left",key:"ip",render:function(p){return(0,e.jsx)(ar.Z,{exists:!0,provider:"aligroup",val:p.test_server.ip})}},{title:"SN",width:150,ellipsis:{showTitle:!1},key:"sn",render:function(p){return(0,e.jsx)(ar.Z,{exists:!0,provider:"aligroup",val:p.test_server.sn})}},{title:"TSN",width:150,ellipsis:{showTitle:!1},key:"tsn",render:function(p){return(0,e.jsx)(yr.K,{ellipsis:{tooltip:!0},children:p.test_server.tsn})}},!1,{title:(0,e.jsx)(r._H,{id:"device.private_ip.s"}),width:160,key:"private_ip",render:function(p){return p.test_server.private_ip||"-"}},!1,{title:(0,e.jsx)(r._H,{id:"device.channel_type"}),width:100,key:"channel_type",render:function(p,k){return k.test_server.channel_type||"-"}},{title:(0,e.jsx)(r._H,{id:"device.local.server"}),dataIndex:"role",width:120,align:"center",render:function(p,k){return k.role==="local"?(0,e.jsx)(Xr.Z,{style:{width:17.5,height:17.5,color:"#1890ff"}}):(0,e.jsx)(qr.Z,{onClick:function(){return Pe(k,"role")},style:{cursor:"pointer",width:17.5,height:17.5,color:"rgba(0,0,0,.1)"}})}},{title:(0,e.jsx)(r._H,{id:"device.baseline_server"}),dataIndex:"baseline_server",width:S?150:120,align:"center",render:function(p,k){return p?(0,e.jsx)(Xr.Z,{style:{width:17.5,height:17.5,color:"#1890ff"}}):(0,e.jsx)(qr.Z,{onClick:function(){return Pe(k,"baseline_server")},style:{cursor:"pointer",width:17.5,height:17.5,color:"rgba(0,0,0,.1)"}})}},{title:(0,e.jsx)(r._H,{id:"device.kernel_install"}),dataIndex:"kernel_install",width:130,render:function(p){return p?(0,e.jsx)(r._H,{id:"operation.yes"}):(0,e.jsx)(r._H,{id:"operation.no"})}},{title:(0,e.jsx)(r._H,{id:"device.var_name"}),dataIndex:"var_name",width:S?160:120,render:function(p){return p||"-"}},{title:(0,e.jsx)(r._H,{id:"device.usage.state"}),width:120,key:"state",render:function(p){return(0,tr.Ul)(p.test_server.state,p.test_server,C)}},{title:(0,e.jsx)(r._H,{id:"device.real_state"}),width:160,key:"real_state",render:function(p){return(0,tr.Ul)(p.test_server.real_state,p.test_server,C)}},{title:(0,e.jsx)(r._H,{id:"Table.columns.operation"}),fixed:"right",width:S?260:230,align:"center",key:"operation",render:function(p,k){return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ie.Z.Link,{onClick:function(){return F.current.show(p.test_server.id)},children:(0,e.jsx)(r._H,{id:"operation.detail"})}),(0,e.jsx)(r.Nv,{accessible:a.WsMemberOperateSelf(k.test_server.owner),fallback:(0,e.jsxs)(me.Z,{onClick:function(){return(0,_e.WR)()},children:[(0,e.jsx)(ie.Z.Link,{children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(ie.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(ie.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.delete"})}),!1]}),children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ie.Z.Link,{onClick:function(){return ne(p)},children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(ie.Z.Link,{onClick:function(){return je(p)},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(Nn.Z,{title:O({id:"delete.prompt"},{data:k.test_server.ip}),okText:(0,e.jsx)(r._H,{id:"operation.ok"}),cancelText:(0,e.jsx)(r._H,{id:"operation.cancel"}),onConfirm:function(){return He(p.id)},children:(0,e.jsx)(ie.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.delete"})})}),!1]})}),(0,e.jsx)(ie.Z.Link,{onClick:function(){return J(p.id)},children:(0,e.jsx)(r._H,{id:"operation.log"})})]})}}];return(0,n.useEffect)(function(){L()},[fe]),(0,n.useEffect)(function(){b.refreshChild===b.id&&(L(),setTimeout(function(){return b.resetRefresh(null)},300))},[b.refreshChild]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,e.jsxs)("div",{style:{width:47,background:"#fff"},children:[(0,e.jsx)("div",{style:{height:ge.first,background:U}}),y.length>0&&y.map(function(H,p){return(0,e.jsx)("div",{style:{height:ge.next,background:de}},p)})]}),(0,e.jsx)("div",{style:{width:"calc(100% - 47px)"},children:(0,e.jsx)(Wr.sL,{rowKey:"id",columns:Te,name:"ws-server-group-cluster-child",refreshDeps:[a,C,S],loading:Y,dataSource:y,size:"small",pagination:!1,rowClassName:function(){return Jr().row_class}})})]}),(0,e.jsx)(jr.Z,{ref:G,operation_object:"machine_cluster_aligroup_server"}),(0,e.jsx)(Fr,{ref:F}),(0,e.jsx)(An,{handleOk:X,ref:P})]})},zn=function(){var D=(0,Re.TH)(),O=D.query,S=(0,Re.UO)(),f=S.ws_id,C={ws_id:f,page_num:1,page_size:10,cluster_type:"aligroup"},a=(0,n.useState)(!0),T=(0,o.Z)(a,2),K=T[0],Y=T[1],w=(0,n.useState)((0,i.Z)((0,i.Z)({},C),O)),j=(0,o.Z)(w,2),_=j[0],y=j[1],se=(0,n.useState)(),N=(0,o.Z)(se,2),W=N[0],fe=N[1],m=(0,n.useState)(),Q=(0,o.Z)(m,2),xe=Q[0],ge=Q[1],pe=function(){var de=(0,te.Z)((0,u.Z)().mark(function U(){var G;return(0,u.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return Y(!0),P.next=3,(0,le.wV)(_);case 3:G=P.sent,Y(!1),ge(G),r.m8.replace("/ws/".concat(f,"/device/group?").concat((0,Yr.stringify)(_)));case 7:case"end":return P.stop()}},U)}));return function(){return de.apply(this,arguments)}}();return(0,n.useEffect)(function(){pe()},[W,_]),{loading:K,params:_,dataSource:xe,refresh:W,setRefresh:fe,setParams:y}},Kn=s(44586),Wn=function(D,O){var S=(0,r.YB)(),f=S.formatMessage,C=(0,Re.UO)(),a=C.ws_id,T=(0,r.md)(),K=zn(),Y=K.loading,w=K.dataSource,j=K.params,_=K.setParams,y=K.setRefresh,se=(0,n.useState)(!1),N=(0,o.Z)(se,2),W=N[0],fe=N[1],m=(0,n.useState)(null),Q=(0,o.Z)(m,2),xe=Q[0],ge=Q[1],pe=(0,n.useState)(!1),de=(0,o.Z)(pe,2),U=de[0],G=de[1],F=(0,n.useState)({}),P=(0,o.Z)(F,2),je=P[0],L=P[1],ne=(0,n.useRef)(),J=(0,n.useRef)(null),ae=(0,n.useRef)(null),ye=(0,n.useRef)(null);(0,n.useImperativeHandle)(O,function(){return{open:J.current.show}});var He=function(){var t=(0,te.Z)((0,u.Z)().mark(function l(Z){var I;return(0,u.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return L(Z),he.next=3,(0,le.Z9)({server_id:Z.id,run_mode:"cluster",server_provider:"aligroup"});case 3:I=he.sent,I.data.length>0?G(!0):ye.current.show(Z,"(".concat(Z.name,")"));case 5:case"end":return he.stop()}},l)}));return function(Z){return t.apply(this,arguments)}}(),X=function(l){l.code===200?(y(new Date().getTime()),ce.default.success(f({id:"operation.success"})),G(!1)):(0,_e.EV)(l.code,l.msg)},Pe=function(l){ae.current.show(l)},Te=(0,n.useCallback)(function(t){J.current.show(t)},[]),H=function(){var t=(0,te.Z)((0,u.Z)().mark(function l(Z){var I;return(0,u.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,(0,le.Rq)(Z);case 2:I=he.sent,X(I);case 4:case"end":return he.stop()}},l)}));return function(Z){return t.apply(this,arguments)}}(),p=function(){var t=(0,te.Z)((0,u.Z)().mark(function l(){var Z;return(0,u.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,_e.MR)({name:je.name,id:je.id});case 2:Z=E.sent,Z&&window.open("/ws/".concat(a,"/refenerce/5/?pk=").concat(Z));case 4:case"end":return E.stop()}},l)}));return function(){return t.apply(this,arguments)}}(),k=function(l){ge(l)},B=(0,n.useCallback)(function(t){ne.current.show(t)},[]),ke=(0,n.useCallback)(function(t){fe(t)},[]),z=[{title:(0,e.jsx)(r._H,{id:"device.cluster.name"}),dataIndex:"name",render:function(l){return(0,e.jsx)(ie.Z.Text,{ellipsis:{tooltip:!0},children:l})},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:j!=null&&j.name?"#1890ff":void 0}})},filterDropdown:function(l){var Z=l.confirm;return(0,e.jsx)(sr.Z,{confirm:Z,onConfirm:function(E){return _((0,i.Z)((0,i.Z)({},j),{},{page_num:1,name:E}))}})}},{title:"Owner",width:150,dataIndex:"owner_name",filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:j!=null&&j.owner?"#1890ff":void 0}})},filterDropdown:function(l){var Z=l.confirm;return(0,e.jsx)(Tn,{confirm:Z,onOk:function(E){return _((0,i.Z)((0,i.Z)({},j),{},{page_num:1,owner:E}))}})}},{title:(0,e.jsx)(r._H,{id:"device.tag"}),dataIndex:"tag_list",width:240,render:function(l){return(0,e.jsx)(Kr.Z,{list:l.map(function(Z){return(0,e.jsx)(rr.Z,{color:Z.tag_color,children:Z.name},(0,Kn.Z)())})})},filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:j!=null&&j.tags?"#1890ff":void 0}})},filterDropdown:function(l){var Z=l.confirm;return(0,e.jsx)(Nr.Z,{ws_id:a,confirm:Z,onConfirm:function(E){_((0,i.Z)((0,i.Z)({},j),{},{page_num:1,tags:E}))}})}},{title:(0,e.jsx)(r._H,{id:"device.description"}),width:300,dataIndex:"description",filterIcon:function(){return(0,e.jsx)(Le.Z,{style:{color:j!=null&&j.description?"#1890ff":void 0}})},filterDropdown:function(l){var Z=l.confirm;return(0,e.jsx)(sr.Z,{confirm:Z,onConfirm:function(E){return _((0,i.Z)((0,i.Z)({},j),{},{page_num:1,description:E}))}})},render:function(l){return(0,e.jsx)(yr.K,{ellipsis:{tooltip:!0},children:l})}},{title:(0,e.jsx)(r._H,{id:"Table.columns.operation"}),width:190,render:function(l,Z){return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{type:"link",style:{padding:0},onClick:function(){return Pe(l)},children:(0,e.jsx)(r._H,{id:"operation.add"})}),(0,e.jsx)(r.Nv,{accessible:T.WsMemberOperateSelf(Z.owner),fallback:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{type:"link",style:{padding:0},onClick:function(){return(0,_e.WR)()},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(re.Z,{type:"link",style:{padding:0},onClick:function(){return(0,_e.WR)()},children:(0,e.jsx)(r._H,{id:"operation.delete"})})]}),children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(re.Z,{type:"link",style:{padding:0},onClick:function(){return Te(l)},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(re.Z,{type:"link",style:{padding:0},onClick:function(){return He((0,i.Z)({},Z))},children:(0,e.jsx)(r._H,{id:"operation.delete"})})]})}),(0,e.jsx)(re.Z,{type:"link",style:{padding:0},onClick:function(){return B(l.id)},children:(0,e.jsx)(r._H,{id:"operation.log"})})]})}}];return(0,e.jsxs)(Ke.Z.Content,{className:Qr().table,children:[(0,e.jsxs)(Ae.Z,{spinning:W,tip:f({id:"device.Synchronizing"}),children:[(0,e.jsx)(zr.Z,{style:{width:"100%"},loading:Y,rowKey:"id",columns:z,dataSource:(w==null?void 0:w.data)||[],pagination:!1,scroll:{y:innerHeight-50-66-30-20},size:"small",className:Qr().pro_table_card,expandable:{expandedRowRender:function(l){return(0,e.jsx)(Un,(0,i.Z)((0,i.Z)({refreshChild:xe},l),{},{resetRefresh:ge,size:"small",onSyncServer:ke}),l.id)},expandIcon:function(l){var Z=l.expanded,I=l.onExpand,E=l.record;return(0,e.jsx)(In.Z,{rotate:Z?90:0,style:{cursor:"pointer"},onClick:function(Ie){return I(E,Ie)}})}}}),(0,e.jsx)($r.Z,{pageSize:w==null?void 0:w.page_size,currentPage:w==null?void 0:w.page_num,total:w==null?void 0:w.total,onPageChange:function(l){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;_((0,i.Z)((0,i.Z)({},j),{},{page_num:l,page_size:Z}))}})]}),(0,e.jsx)(jr.Z,{ref:ne,operation_object:"machine_cluster_aligroup"}),(0,e.jsx)(Rn,{run_environment:"aligroup",run_mode:"cluster",ref:J,onFinish:function(){y(new Date().getTime())}}),(0,e.jsx)(Ln,{onFinish:k,run_environment:"aligroup",run_mode:"cluster",ref:ae}),(0,e.jsxs)(er.Z,{title:(0,e.jsx)(r._H,{id:"delete.tips"}),centered:!0,open:U,onCancel:function(){return G(!1)},footer:[(0,e.jsx)(re.Z,{onClick:function(){return H(je.id)},children:(0,e.jsx)(r._H,{id:"operation.confirm.delete"})},"submit"),(0,e.jsx)(re.Z,{type:"primary",onClick:function(){return G(!1)},children:(0,e.jsx)(r._H,{id:"operation.cancel"})},"back")],width:600,maskClosable:!1,children:[(0,e.jsxs)("div",{style:{color:"red",marginBottom:5},children:[(0,e.jsx)(Er.Z,{style:{marginRight:4}}),(0,e.jsx)(r._H,{id:"device.cluster.delete.tips"})]}),(0,e.jsx)("div",{style:{color:"#1890FF",cursor:"pointer"},onClick:p,children:(0,e.jsx)(r._H,{id:"view.quote.details"})})]}),(0,e.jsx)(Gr.Z,{ref:ye,onOk:function(l){var Z=l.id;return H(Z)}})]})},Gn=(0,n.forwardRef)(Wn),Yn=s(87415),Qn=s(12788),rn,Jn=(0,Qn.ZP)(Yn.mQ)(rn||(rn=(0,fr.Z)([`
    margin-bottom: 20px !important;
    .ant-card-body {
        padding: 0;
    }
`]))),Xn=function(D){var O=(0,Re.TH)(),S=O.query.t,f=(0,n.useState)(S!=null?S:"standalone"),C=(0,o.Z)(f,2),a=C[0],T=C[1],K=(0,n.useState)(new Date().getTime()),Y=(0,o.Z)(K,2),w=Y[0],j=Y[1],_=function(m){T(m),j(new Date().getTime())},y=(0,n.useRef)(null),se=(0,n.useRef)(),N=(0,n.useCallback)(function(){y.current.open()},[]),W=(0,n.useCallback)(function(){se.current.open()},[]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Jn,{title:(0,e.jsxs)(Je.Z,{defaultActiveKey:"standalone",activeKey:a,onTabClick:_,children:[(0,e.jsx)(Je.Z.TabPane,{tab:(0,e.jsx)(r._H,{id:"standalone"})},"standalone"),(0,e.jsx)(Je.Z.TabPane,{tab:(0,e.jsx)(r._H,{id:"cluster"})},"cluster")]}),extra:a==="standalone"?(0,e.jsx)(re.Z,{type:"primary",onClick:N,children:(0,e.jsx)(r._H,{id:"device.add.btn"})},"1"):(0,e.jsx)(re.Z,{type:"primary",onClick:W,children:(0,e.jsx)(r._H,{id:"device.cluster.btn"})},"2")}),(0,e.jsx)("div",{style:{paddingLeft:20,paddingRight:20},children:a==="standalone"?(0,e.jsx)(bn,(0,i.Z)((0,i.Z)({ref:y},D),{},{onTabClick:_})):(0,e.jsx)(Gn,(0,i.Z)((0,i.Z)({ref:se},D),{},{onTabClick:_}))},w)]})},qn=Xn},49288:function($e,qe,s){"use strict";var i=s(22122),cr=s(90484),re=s(28481),vr=s(94184),Je=s.n(vr),o=s(37419),fr=s(10366),n=s(67294),Re=s(53124),r=s(34041),pr=s(96159),Ae=r.Z.Option;function hr(We){return We&&We.type&&(We.type.isSelectOption||We.type.isSelectOptGroup)}var er=function(ze,Hr){var Ir=ze.prefixCls,ie=ze.className,Or=ze.popupClassName,rr=ze.dropdownClassName,xr=ze.children,me=ze.dataSource,Ge=(0,o.Z)(xr),Ue;if(Ge.length===1&&(0,pr.l$)(Ge[0])&&!hr(Ge[0])){var Dr=(0,re.Z)(Ge,1);Ue=Dr[0]}var A=Ue?function(){return Ue}:void 0,ir;return Ge.length&&hr(Ge[0])?ir=xr:ir=me?me.map(function(ce){if((0,pr.l$)(ce))return ce;switch((0,cr.Z)(ce)){case"string":return n.createElement(Ae,{key:ce,value:ce},ce);case"object":{var u=ce.value;return n.createElement(Ae,{key:u,value:u},ce.text)}default:return}}):[],n.createElement(Re.C,null,function(ce){var u=ce.getPrefixCls,nr=u("select",Ir);return n.createElement(r.Z,(0,i.Z)({ref:Hr},(0,fr.Z)(ze,["dataSource"]),{prefixCls:nr,popupClassName:Or||rr,className:Je()("".concat(nr,"-auto-complete"),ie),mode:r.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:A}),ir)})},mr=n.forwardRef(er);mr.Option=Ae,qe.Z=mr},65011:function($e,qe,s){"use strict";var i=s(38663),cr=s.n(i),re=s(58136),vr=s.n(re),Je=s(43358)}}]);
