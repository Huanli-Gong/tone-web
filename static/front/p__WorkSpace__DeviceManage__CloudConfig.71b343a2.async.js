(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[5954,2485],{32261:function(q){q.exports={filter:"filter___1IKYx",confirm:"confirm___3RbBO",domain:"domain___1-UgM"}},16895:function(q){q.exports={filter:"filter___2F2JK",confirm:"confirm___115UC",domain:"domain___s41Q7"}},12288:function(q){q.exports={filter_search_wrapper:"filter_search_wrapper___3FpmS"}},73189:function(q){q.exports={filter_wrapper_container:"filter_wrapper_container___2RlDa",filter_icon_wrapper:"filter_icon_wrapper___2Hhe_",filter_icon_contaner:"filter_icon_contaner___Rcjd_",filter_icon_contaner_active:"filter_icon_contaner_active___Zj1xL"}},24745:function(q){q.exports={warp:"warp___eqi_A",batch:"batch___3_93O",pagination:"pagination___1XZoL",hidden:"hidden___2hrl5",ellipsis:"ellipsis___7A1O2",des:"des___2XHNE",table_style:"table_style___344hu",domain_name:"domain_name___bYWL-",fail_detail_operation:"fail_detail_operation___1gK4H",config_cloud:"config_cloud___3enwV"}},60751:function(q,De,r){"use strict";var ln=r(57663),Ie=r(71577),Oe=r(48736),Ze=r(27049),Ke=r(49111),Fe=r(19650),Ve=r(88983),U=r(47933),Ae=r(2824),ee=r(67294),Le=r(32261),je=r.n(Le),dn=r(24480),pe=r(16917),c=r(85893),l=function(Pe){var k=Pe.list,_=Pe.confirm,ze=Pe.onConfirm,We=Pe.roleType,v=(0,pe.YB)(),z=v.formatMessage,$e=(0,ee.useState)(),o=(0,Ae.Z)($e,2),Be=o[0],Ee=o[1],He=function(Ye){Ee(Ye.target.value)};return(0,c.jsxs)("div",{className:je().filter,children:[(0,c.jsx)(U.ZP.Group,{onChange:He,value:Be,children:(0,c.jsx)(Fe.Z,{direction:"vertical",children:k.map(function(re){return(0,c.jsx)(U.ZP,{className:je().domain,value:re.id,children:We==="role"?(0,dn.u)(re.name,z):re.name},re.id)})})}),(0,c.jsx)(Ze.Z,{style:{margin:"10px 0"}}),(0,c.jsxs)("div",{className:je().confirm,children:[(0,c.jsx)(Ie.Z,{size:"small",type:"link",style:{border:"none"},onClick:function(){_==null||_(),ze(Be)},children:(0,c.jsx)(pe._H,{id:"operation.ok"})}),(0,c.jsx)(Ie.Z,{size:"small",type:"text",onClick:function(){_==null||_(),Ee(void 0),ze(void 0)},children:(0,c.jsx)(pe._H,{id:"operation.reset"})})]})]})};De.Z=l},87415:function(q,De,r){"use strict";r.d(De,{mQ:function(){return Ae},gM:function(){return ee},nU:function(){return je}});var ln=r(58024),Ie=r(91894),Oe=r(20310),Ze=r(12788),Ke,Fe,Ve,U,Ae=(0,Ze.ZP)(Ie.Z)(Ke||(Ke=(0,Oe.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .common_pagination { padding-bottom:0 ;}
`]))),ee=(0,Ze.ZP)(Ae)(Fe||(Fe=(0,Oe.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`]))),Le=(0,Ze.ZP)(Ie.Z)(Ve||(Ve=(0,Oe.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        padding: 0 32px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .ant-card-body{
        padding: 24px 24px 24px 0px;
    }
    .common_pagination { padding-bottom:0 ;}
`]))),je=(0,Ze.ZP)(Le)(U||(U=(0,Oe.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`])))},91265:function(q,De,r){"use strict";r.r(De),r.d(De,{default:function(){return Vn}});var ln=r(13062),Ie=r(71230),Oe=r(14781),Ze=r(10664),Ke=r(66456),Fe=r(79764),Ve=r(57663),U=r(71577),Ae=r(49111),ee=r(19650),Le=r(62350),je=r(24565),dn=r(34792),pe=r(48086),c=r(39428),l=r(11849),$=r(3182),Pe=r(9715),k=r(20526),_=r(2824),ze=r(18106),We=r(73272),v=r(67294),z=r(99069),$e=r(1870),o=r(16917);function Be(f){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_server/region/",{params:d}));case 1:case"end":return n.stop()}},f)})),Ee.apply(this,arguments)}function He(f){return re.apply(this,arguments)}function re(){return re=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=2;break}return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{params:d}));case 2:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/"));case 3:case"end":return n.stop()}},f)})),re.apply(this,arguments)}function Ye(f){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{method:"post",data:d}));case 1:case"end":return n.stop()}},f)})),Ge.apply(this,arguments)}function vn(f){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{method:"put",data:d}));case 1:case"end":return n.stop()}},f)})),Qe.apply(this,arguments)}function hn(f){return Je.apply(this,arguments)}function Je(){return Je=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{method:"delete",data:d}));case 1:case"end":return n.stop()}},f)})),Je.apply(this,arguments)}function gn(f){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=2;break}return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{params:d}));case 2:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/"));case 3:case"end":return n.stop()}},f)})),Xe.apply(this,arguments)}function _n(f){return qe.apply(this,arguments)}function qe(){return qe=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{method:"post",data:d}));case 1:case"end":return n.stop()}},f)})),qe.apply(this,arguments)}function xn(f){return en.apply(this,arguments)}function en(){return en=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{method:"put",data:d}));case 1:case"end":return n.stop()}},f)})),en.apply(this,arguments)}function Zn(f){return nn.apply(this,arguments)}function nn(){return nn=(0,$.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{method:"delete",data:d}));case 1:case"end":return n.stop()}},f)})),nn.apply(this,arguments)}function Ln(f){return an.apply(this,arguments)}function an(){return an=_asyncToGenerator(_regeneratorRuntime().mark(function f(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=2;break}return n.abrupt("return",request("/api/case/test_domain/",{params:d}));case 2:return n.abrupt("return",request("/api/case/test_domain/"));case 3:case"end":return n.stop()}},f)})),an.apply(this,arguments)}function Wn(f){return tn.apply(this,arguments)}function tn(){return tn=_asyncToGenerator(_regeneratorRuntime().mark(function f(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/auth/user/",{params:d}));case 1:case"end":return n.stop()}},f)})),tn.apply(this,arguments)}var jn=r(24745),Ue=r.n(jn),ve=r(39067),yn=r(37763),he=r.n(yn),Cn=r(96486),ke=r.n(Cn),$n=r(57338),un=r(440),Bn=r(47673),de=r(4107),Un=r(88983),rn=r(47933),Nn=r(43358),Se=r(34041),cn=r(20009),wn=r(73189),ue=r.n(wn),e=r(85893),bn=(0,v.forwardRef)(function(f,d){var x=(0,o.YB)(),n=x.formatMessage,b=(0,cn.UO)(),j=b.ws_id,P=k.Z.useForm(),W=(0,_.Z)(P,1),O=W[0],y=(0,v.useState)(!1),E=(0,_.Z)(y,2),M=E[0],H=E[1],F=(0,v.useState)(!1),p=(0,_.Z)(F,2),K=p[0],Y=p[1],B=(0,v.useState)("new"),ie=(0,_.Z)(B,2),J=ie[0],ce=ie[1],V=(0,v.useState)({}),T=(0,_.Z)(V,2),G=T[0],se=T[1],ne=(0,v.useRef)(null),_e=(0,v.useRef)(null);(0,v.useImperativeHandle)(d,function(){return{show:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"new",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y(!0),ce(s),se(u),O.setFieldsValue(u)}}});var I=function(){O.resetFields(),H(!1),Y(!1)},C=function(s,u){if(s===200)f.onOk(),pe.default.success(n({id:"operation.success"})),Y(!1),O.resetFields();else if(s===201){var ae=n({id:"device.ak.name.cannot.repeated"});O.setFields([{name:"name",errors:[ae]}]),O.scrollToField("name")}else pe.default.error(u);H(!1)},oe=function(s){var u;((u=s.target.value)===null||u===void 0?void 0:u.indexOf("*"))!==-1&&O.setFieldsValue({access_id:""}),ne.current.focus({cursor:"end"})},me=function(s){var u;((u=s.target.value)===null||u===void 0?void 0:u.indexOf("*"))!==-1&&O.setFieldsValue({access_key:""}),_e.current.focus({cursor:"end"})},X=function(){M||(H(!0),O.validateFields().then(function(){var s=(0,$.Z)((0,c.Z)().mark(function u(ae){var fe,S,N,ye,Ce,we,Te,te;return(0,c.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(S=ke().cloneDeep(ae),S.enable=S.enable?"True":"False",S.name=(fe=S.name)===null||fe===void 0?void 0:fe.trim(),J!=="new"){h.next=12;break}return h.next=6,Ye((0,l.Z)((0,l.Z)({},S),{},{ws_id:j}));case 6:N=h.sent,ye=N.code,Ce=N.msg,C(ye,Ce),h.next=18;break;case 12:return h.next=14,vn((0,l.Z)((0,l.Z)({id:G.id},S),{},{ws_id:j}));case 14:we=h.sent,Te=we.code,te=we.msg,C(Te,te);case 18:H(!1);case 19:case"end":return h.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()).catch(function(s){console.log(s),H(!1)}))},le=[{id:"aliyun_ecs",name:n({id:"device.aliyun_ecs"})},{id:"aliyun_eci",name:n({id:"device.aliyun_eci"})}];return(0,e.jsx)(un.Z,{maskClosable:!1,keyboard:!1,title:J==="new"?(0,e.jsx)(o._H,{id:"device.new.ak"}):(0,e.jsx)(o._H,{id:"device.edit.ak"}),width:"375",onClose:I,open:K,className:ue().add_baseline_drawer,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(U.Z,{onClick:I,children:(0,e.jsx)(o._H,{id:"operation.cancel"})}),(0,e.jsx)(U.Z,{type:"primary",disabled:M,onClick:X,children:G&&G.name?(0,e.jsx)(o._H,{id:"operation.update"}):(0,e.jsx)(o._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(k.Z,{form:O,layout:"vertical",initialValues:{enable:G.enable||!0,vm_quota:"*"},children:[(0,e.jsx)(k.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.cloud.service.provider"}),name:"provider",rules:[{required:!0,message:n({id:"device.cloud.service.provider.cannot.empty"})}],children:(0,e.jsx)(Se.Z,{placeholder:n({id:"device.cloud.service.provider.select"}),filterOption:function(s,u){return u.children.toLowerCase().indexOf(s.toLowerCase())>=0},optionFilterProp:"children",children:le.map(function(L){return(0,e.jsx)(Se.Z.Option,{value:L.id,children:L.name},L.id)})})}),(0,e.jsx)(k.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.enable"}),name:"enable",children:(0,e.jsxs)(rn.ZP.Group,{children:[(0,e.jsx)(rn.ZP,{value:!0,children:(0,e.jsx)(o._H,{id:"operation.yes"})}),(0,e.jsx)(rn.ZP,{value:!1,children:(0,e.jsx)(o._H,{id:"operation.no"})})]})}),(0,e.jsx)(k.Z.Item,{label:"AK Name",name:"name",rules:[{required:!0,message:n({id:"device.ak.name.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.ak.name.enter"})})}),(0,e.jsx)(k.Z.Item,{label:"Access ID",name:"access_id",rules:[{required:!0,message:n({id:"device.access_id.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.access_id.enter"}),onChange:oe,ref:ne})}),(0,e.jsx)(k.Z.Item,{label:"Access Key",name:"access_key",rules:[{required:!0,message:n({id:"device.access_key.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.access_key.enter"}),onChange:me,ref:_e})}),(0,e.jsx)(k.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.vm_quota"}),name:"vm_quota",rules:[{required:!0,message:n({id:"device.vm_quota.cannot.empty"})}],children:(0,e.jsx)(de.Z,{placeholder:n({id:"device.vm_quota.placeholder"})})}),(0,e.jsx)(k.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.resource_group_id"}),name:"resource_group_id",children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"please.enter"})})}),(0,e.jsx)(k.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.description.option"}),name:"description",children:(0,e.jsx)(de.Z.TextArea,{placeholder:n({id:"device.description.option.placeholder"})})})]})})}),In=(0,v.forwardRef)(function(f,d){var x=(0,o.YB)(),n=x.formatMessage,b=(0,cn.UO)(),j=b.ws_id,P={page_num:1,page_size:1e3,ws_id:j},W=k.Z.useForm(),O=(0,_.Z)(W,1),y=O[0],E=(0,v.useState)(!1),M=(0,_.Z)(E,2),H=M[0],F=M[1],p=(0,v.useState)(!1),K=(0,_.Z)(p,2),Y=K[0],B=K[1],ie=(0,v.useState)("new"),J=(0,_.Z)(ie,2),ce=J[0],V=J[1],T=(0,v.useState)({}),G=(0,_.Z)(T,2),se=G[0],ne=G[1],_e=(0,v.useState)([]),I=(0,_.Z)(_e,2),C=I[0],oe=I[1],me=(0,v.useState)([]),X=(0,_.Z)(me,2),le=X[0],L=X[1],s=(0,v.useState)(),u=(0,_.Z)(s,2),ae=u[0],fe=u[1],S=function(){var D=(0,$.Z)((0,c.Z)().mark(function h(Z){var A,Q;return(0,c.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,He(Z);case 2:A=R.sent,Q=A.data,oe(Q||[]);case 5:case"end":return R.stop()}},h)}));return function(Z){return D.apply(this,arguments)}}(),N=function(){var D=(0,$.Z)((0,c.Z)().mark(function h(Z){var A,Q;return(0,c.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Be(Z);case 2:A=R.sent,Q=A.data,L(Q||[]);case 5:case"end":return R.stop()}},h)}));return function(Z){return D.apply(this,arguments)}}();(0,v.useImperativeHandle)(d,function(){return{show:function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"new",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A="";Z&&Z.provider&&(A=Z.provider,S((0,l.Z)((0,l.Z)({},P),{},{provider:A})));var Q=Z.ak_id;Q&&N({ak_id:Q}),B(!0),V(h),ne(Z),fe(A),y.setFieldsValue(Z)}}});var ye=function(){y.resetFields(),F(!1),B(!1),ne({})},Ce=function(h,Z){F(!1),h===200?(f.onOk(),pe.default.success(n({id:"operation.success"})),B(!1),y.resetFields()):h===201?(y.setFields([{name:"image_name",errors:[n({id:"device.image.name.cannot.repeated"})]}]),y.scrollToField("image_name")):pe.default.error(Z)},we=function(){H||(F(!0),y.validateFields().then(function(){var h=(0,$.Z)((0,c.Z)().mark(function Z(A){var Q,be,R,i,a,t,g,m;return(0,c.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(Q=A.ak_name,be=C.filter(function(Me){return Me.name===A.ak_name}),be.length&&(Q=be[0].id),A.ak_id=Q,ce!=="new"){w.next=13;break}return w.next=7,_n((0,l.Z)((0,l.Z)({},A),{},{ws_id:j}));case 7:R=w.sent,i=R.code,a=R.msg,Ce(i,a),w.next=19;break;case 13:return w.next=15,xn((0,l.Z)((0,l.Z)({id:se.id},A),{},{ws_id:j}));case 15:t=w.sent,g=t.code,m=t.msg,Ce(g,m);case 19:case"end":return w.stop()}},Z)}));return function(Z){return h.apply(this,arguments)}}()).catch(function(h){console.log(h),F(!1)}))},Te=[{id:"aliyun_ecs",name:n({id:"device.aliyun_ecs"})},{id:"aliyun_eci",name:n({id:"device.aliyun_eci"})}],te=function(h){if(h!==ae){var Z=ke().cloneDeep(y.getFieldsValue());Z.ak_name=void 0,y.setFieldsValue(Z),fe(h)}S((0,l.Z)((0,l.Z)({},P),{},{provider:h}))};return(0,e.jsx)(un.Z,{maskClosable:!1,keyboard:!1,title:ce==="new"?(0,e.jsx)(o._H,{id:"device.new.image"}):(0,e.jsx)(o._H,{id:"device.edit.image"}),width:375,onClose:ye,destroyOnClose:!0,open:Y,className:ue().add_baseline_drawer,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(U.Z,{onClick:ye,children:(0,e.jsx)(o._H,{id:"operation.cancel"})}),(0,e.jsx)(U.Z,{type:"primary",disabled:H,onClick:we,children:se&&se.name?(0,e.jsx)(o._H,{id:"operation.update"}):(0,e.jsx)(o._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(k.Z,{form:y,layout:"vertical",children:[(0,e.jsx)(k.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.cloud.service.provider"}),name:"provider",rules:[{required:!0,message:n({id:"device.cloud.service.provider.cannot.empty"})}],children:(0,e.jsx)(Se.Z,{onSelect:te,placeholder:n({id:"device.cloud.service.provider.select"}),filterOption:function(h,Z){return Z.label.toLowerCase().indexOf(h.toLowerCase())>=0},options:Te.map(function(D){return{value:D.id,label:D.name}})})}),(0,e.jsx)(k.Z.Item,{label:"Ak Name",name:"ak_name",rules:[{required:!0,message:n({id:"device.ak.name.cannot.empty"})}],children:(0,e.jsx)(Se.Z,{onChange:function(h){y.setFieldsValue({region:void 0});var Z=C.filter(function(A){return A.name===h});Z.length&&Z[0].id&&N({ak_id:Z[0].id})},placeholder:n({id:"device.ak.name.select"}),disabled:!ae,showSearch:!0,filterOption:function(h,Z){return Z.label.toLowerCase().indexOf(h.toLowerCase())>=0},options:C.map(function(D){return{value:D.name,label:D.name}})})}),(0,e.jsx)(k.Z.Item,{label:"Region",name:"region",rules:[{required:!0,message:"region\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(Se.Z,{placeholder:n({id:"device.region.placeholder"}),disabled:!le.length,filterOption:function(h,Z){return Z.label.toLowerCase().indexOf(h.toLowerCase())>=0},showSearch:!0,options:le.map(function(D){return{value:D.id,label:D.name}})})}),(0,e.jsx)(k.Z.Item,{label:"Image Group",name:"platform",rules:[{required:!0,message:n({id:"device.image.group.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.group.enter"})})}),(0,e.jsx)(k.Z.Item,{label:"Image Name",name:"image_name",rules:[{required:!0,message:n({id:"device.image.name.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.name.enter"})})}),(0,e.jsx)(k.Z.Item,{label:"Image ID",name:"image_id",rules:[{required:!0,message:n({id:"device.image.id.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.id.enter"})})}),(0,e.jsx)(k.Z.Item,{label:"Image Version",name:"image_version",rules:[{required:!0,message:n({id:"device.image.version.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.version.enter"})})})]})})}),zn=r(59250),mn=r(13013),Yn=r(48736),fn=r(27049),Gn=r(20228),kn=r(11382),Sn=r(90105),Dn=r(12288),On=r.n(Dn),Fn=function(d){var x=d.confirm,n=d.onConfirm,b=d.name,j=d.ws_id,P=(0,o.YB)(),W=P.formatMessage,O=(0,v.useState)([]),y=(0,_.Z)(O,2),E=y[0],M=y[1],H=(0,v.useState)(),F=(0,_.Z)(H,2),p=F[0],K=F[1],Y=(0,v.useState)(),B=(0,_.Z)(Y,2),ie=B[0],J=B[1],ce=(0,v.useState)(!0),V=(0,_.Z)(ce,2),T=V[0],G=V[1],se=Se.Z.Option,ne=function(){var C=(0,$.Z)((0,c.Z)().mark(function oe(me){var X,le,L,s,u,ae;return(0,c.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(X=me&&me.replace(/\s*/g,""),!(p&&p==X)){S.next=3;break}return S.abrupt("return");case 3:if(K(X),G(!0),le=[],!(b==="creator"||b==="creator_name"||b==="update_user")){S.next=12;break}return S.next=9,(0,Sn.tR)({keyword:X,page_size:50,page_num:1});case 9:L=S.sent,s=L.data,ke().isArray(s)&&(le=s.map(function(N){return{id:N.id,name:N.last_name}}));case 12:if(b!=="ak_name"){S.next=18;break}return S.next=15,He({page_num:1,page_size:1e3,name:X,ws_id:j});case 15:u=S.sent,ae=u.data,ke().isArray(ae)&&(le=ae.map(function(N){return{id:N.id,name:N.name}}));case 18:M(le||[]),G(!1);case 20:case"end":return S.stop()}},oe)}));return function(me){return C.apply(this,arguments)}}();(0,v.useEffect)(function(){ne()},[]);var _e=function(){if(b==="ak_name"||b==="creator"||b==="creator_name"||b==="update_user")return"multiple"},I=function(){return b==="creator"||b==="creator_name"?W({id:"device.please.select.creator"}):b==="update_user"?W({id:"device.please.select.update_user"}):b==="ak_name"?W({id:"device.please.select.ak_name"}):""};return(0,e.jsxs)("div",{className:On().filter_search_wrapper,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Se.Z,{allowClear:!0,onDropdownVisibleChange:function(){return ne()},notFoundContent:T?(0,e.jsx)(kn.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:ne,style:{width:"100%"},onChange:function(oe){return J(oe)},showArrow:!1,autoFocus:!0,mode:_e(),value:ie,placeholder:I(),children:E.map(function(C){return(0,e.jsx)(se,{value:C.id,children:C.name},C.id)})})}),(0,e.jsx)(fn.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(U.Z,{onClick:function(){x==null||x(),n(ie)},type:"link",size:"small",style:{width:75},children:(0,e.jsx)(o._H,{id:"operation.search"})}),(0,e.jsx)(U.Z,{type:"text",onClick:function(){x==null||x(),J(void 0),n(void 0),ne()},size:"small",style:{width:75},children:(0,e.jsx)(o._H,{id:"operation.reset"})})]})]})},En=Fn,Qn=r(63185),sn=r(9676),Tn=r(16895),Ne=r.n(Tn),An=function(d){var x=d.list,n=d.confirm,b=d.onConfirm,j=d.configType,P=(0,v.useState)([]),W=(0,_.Z)(P,2),O=W[0],y=W[1],E=(0,v.useState)(!1),M=(0,_.Z)(E,2),H=M[0],F=M[1],p=(0,v.useState)(!1),K=(0,_.Z)(p,2),Y=K[0],B=K[1],ie=function(T){B(!!T.length&&T.length<x.length),y(T),F(T.length===x.length)},J=x.map(function(V){return V.id}),ce=function(T){y(T.target.checked?J:[]),F(T.target.checked),B(!1)};return(0,v.useEffect)(function(){y([]),F(!1),B(!1)},[j]),(0,e.jsxs)("div",{className:Ne().filter,children:[(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxHeight:280,overflow:"auto"},children:[(0,e.jsx)(sn.Z,{indeterminate:Y,className:Ne().domain,onChange:ce,checked:H,children:(0,e.jsx)(o._H,{id:"operation.select.all"})}),(0,e.jsx)(sn.Z.Group,{onChange:ie,value:O,children:(0,e.jsx)(ee.Z,{direction:"vertical",size:0,children:x.map(function(V){return(0,e.jsx)(sn.Z,{className:Ne().domain,value:V.id,children:V.name},V.id)})})})]}),(0,e.jsx)(fn.Z,{style:{margin:"10px 0"}}),(0,e.jsxs)("div",{className:Ne().confirm,children:[(0,e.jsx)(U.Z,{size:"small",type:"link",onClick:function(){n==null||n();var T=void 0;O.length&&(T=O),b(T)},children:(0,e.jsx)(o._H,{id:"operation.ok"})}),(0,e.jsx)(U.Z,{size:"small",type:"text",onClick:function(){n==null||n(),y([]),b(void 0),F(!1),B(!1)},children:(0,e.jsx)(o._H,{id:"operation.reset"})})]})]})},Pn=An,Re=function(d){var x=d.title,n=d.confirm,b=d.setParams,j=d.params,P=d.name,W=d.ws_id,O=(0,v.useState)(!1),y=(0,_.Z)(O,2),E=y[0],M=y[1],H=function(p){M(p)};return(0,e.jsx)("div",{className:ue().filter_wrapper_container,children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)("span",{children:x}),(0,e.jsx)(mn.Z,{open:E,onVisibleChange:H,trigger:["click"],overlay:(0,e.jsx)(En,{confirm:n,name:P,ws_id:W,onConfirm:function(p){var K={};K[P]=p,M(!1),b((0,l.Z)((0,l.Z)({},j),K))}}),children:(0,e.jsx)("div",{className:ue().filter_icon_wrapper,children:(0,e.jsx)(z.Z,{className:j[P]?ue().filter_icon_contaner_active:ue().filter_icon_contaner})})})]})})},pn=function(d){var x=d.title,n=d.confirm,b=d.setParams,j=d.params,P=d.name,W=d.list,O=d.configType,y=(0,v.useState)(!1),E=(0,_.Z)(y,2),M=E[0],H=E[1],F=function(K){H(K)};return(0,e.jsx)("div",{className:ue().filter_wrapper_container,children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)("span",{children:x}),(0,e.jsx)(mn.Z,{open:M,onVisibleChange:F,trigger:["click"],overlay:(0,e.jsx)(Pn,{confirm:n,onConfirm:function(K){var Y={};Y[P]=K,H(!1),b((0,l.Z)((0,l.Z)({},j),Y))},list:W,configType:O}),children:(0,e.jsx)("div",{className:ue().filter_icon_wrapper,children:(0,e.jsx)(z.Z,{className:j[P]?ue().filter_icon_contaner_active:ue().filter_icon_contaner})})})]})})},Hn=r(60751),Rn=r(87415),Mn=r(24480),ge=r(10753),Kn=function(d){var x=(0,o.YB)(),n=x.formatMessage,b=(0,o.Kd)()==="en-US",j=d.match.params.ws_id,P=d.location.query.test_type||"ak",W=We.Z.TabPane,O=(0,v.useState)([]),y=(0,_.Z)(O,2),E=y[0],M=y[1],H=(0,v.useState)(P),F=(0,_.Z)(H,2),p=F[0],K=F[1],Y=(0,v.useState)(!0),B=(0,_.Z)(Y,2),ie=B[0],J=B[1],ce=k.Z.useForm(),V=(0,_.Z)(ce,1),T=V[0],G=(0,v.useRef)(null),se=(0,v.useRef)(null),ne=(0,v.useState)(!0),_e=(0,_.Z)(ne,2),I=_e[0],C=_e[1],oe={name:"",access_id:"",access_key:"",provider:"",enable:"",gmt_created:"",gmt_modified:"",creator:"",update_user:"",page_num:1,page_size:10,ws_id:j,key:P},me={image_name:"",image_id:"",image_version:"",platform:"",region:"",ak_name:"",provider:"",gmt_created:"",gmt_modified:"",creator:"",update_user:"",page_num:1,page_size:10,ws_id:j,key:P},X=p==="ak"?oe:me,le=(0,v.useState)(X),L=(0,_.Z)(le,2),s=L[0],u=L[1],ae=function(){var i=(0,$.Z)((0,c.Z)().mark(function a(){var t,g,m=arguments;return(0,c.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(t=m.length>0&&m[0]!==void 0?m[0]:X,J(!0),M({data:[]}),p!=="ak"){w.next=9;break}return w.next=6,He((0,l.Z)({},t));case 6:w.t0=w.sent,w.next=12;break;case 9:return w.next=11,gn((0,l.Z)({},t));case 11:w.t0=w.sent;case 12:g=w.t0,M(g),J(!1);case 15:case"end":return w.stop()}},a)}));return function(){return i.apply(this,arguments)}}();(0,v.useEffect)(function(){ae(s)},[s]);var fe=function(a,t){u((0,l.Z)((0,l.Z)({},s),{},{page_num:a,page_size:t}))},S=function(a){if(K(a),o.m8.push("".concat(location.pathname,"?test_type=").concat(a)),a==="ak"){u((0,l.Z)((0,l.Z)({},oe),{},{key:a}));return}u((0,l.Z)((0,l.Z)({},me),{},{key:a}))},N=function(){u((0,l.Z)((0,l.Z)({},s),{},{page_num:1}))},ye=(0,c.Z)().mark(function i(){var a,t=arguments;return(0,c.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a=t.length>0&&t[0]!==void 0?t[0]:{},p!=="ak"){m.next=6;break}return m.next=4,hn({id_list:[a.id],ws_id:j});case 4:m.next=8;break;case 6:return m.next=8,Zn({id_list:[a.id],ws_id:j});case 8:case"end":return m.stop()}},i)}),Ce=function(a,t){if(a===200){pe.default.success(n({id:"operation.success"}));var g=Math.ceil((E.total-1)/s.page_size)||1,m=s.page_num;s.page_num>g&&(m=g),u((0,l.Z)((0,l.Z)({},s),{},{page_num:m}))}else(0,Mn.EV)(a,t)},we=[{id:"aliyun_ecs",name:n({id:"device.aliyun_ecs"})},{id:"aliyun_eci",name:n({id:"device.aliyun_eci"})}],Te=[{id:1,name:n({id:"operation.yes"})},{id:0,name:n({id:"operation.no"})}],te={container:180,button_width:90},D=[{title:"AK Name",dataIndex:"name",fixed:"left",width:150,ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:te,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{name:m}))},currentBaseline:{server_provider:j,test_type:p,id:"name"},placeholder:n({id:"device.ak.name.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.name?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.name},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.name||""],autoEscape:!0,textToHighlight:t&&t.name})})}},{title:"Access ID",dataIndex:"access_id",width:120,ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:te,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{access_id:m}))},currentBaseline:{server_provider:j,test_type:p,id:"access_id"},placeholder:n({id:"device.access_id.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.access_id?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.access_id},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.access_id||""],autoEscape:!0,textToHighlight:t.access_id})})}},{title:"Access Key",width:120,dataIndex:"access_key",ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:te,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{access_key:m}))},currentBaseline:{server_provider:j,test_type:p,id:"access_key"},placeholder:n({id:"device.access_key.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.access_key?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.access_key},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.access_key||""],autoEscape:!0,textToHighlight:t.access_key})})}},{title:(0,e.jsx)(o._H,{id:"device.vm_quota"}),dataIndex:"vm_quota",width:120},{title:(0,e.jsx)(o._H,{id:"device.resource_group_id"}),width:b?160:120,dataIndex:"resource_group_id",ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:te,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{resource_group_id:m}))},currentBaseline:{server_provider:j,test_type:p,id:"resource_group_id"},placeholder:n({id:"device.resource_group_id.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.resource_group_id?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.resource_group_id},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.resource_group_id||""],autoEscape:!0,textToHighlight:t.resource_group_id||"-"})})}},{title:function(){return(0,e.jsx)(pn,{title:n({id:"device.cloud.service.provider"}),params:s,setParams:u,name:"provider",configType:p,list:we})},width:b?180:100,dataIndex:"provider",ellipsis:!0},{title:(0,e.jsx)(o._H,{id:"device.enable"}),width:100,dataIndex:"enable",ellipsis:!0,render:function(a,t){return["\u662F",!0].includes(t.enable)?(0,e.jsx)(o._H,{id:"operation.yes"}):(0,e.jsx)(o._H,{id:"operation.no"})},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.enable?"#1890ff":void 0}})},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(Hn.Z,{list:Te,confirm:t,onConfirm:function(m){var xe=void 0;m===1&&(xe="True"),m===0&&(xe="False"),u((0,l.Z)((0,l.Z)({},s),{},{enable:xe}))}})}},{title:(0,e.jsx)(o._H,{id:"device.gmt_created"}),width:170,dataIndex:"gmt_created",ellipsis:!0,sorter:!0},{title:(0,e.jsx)(o._H,{id:"device.gmt_modified"}),width:170,dataIndex:"gmt_modified",ellipsis:!0,sorter:!0},{title:function(){return(0,e.jsx)(Re,{title:n({id:"device.creator"}),params:s,setParams:u,name:"creator"})},width:120,dataIndex:"creator",ellipsis:!0},{title:function(){return(0,e.jsx)(Re,{title:n({id:"device.update_user"}),params:s,setParams:u,name:"update_user"})},width:120,dataIndex:"update_user",ellipsis:!0,render:function(a){return a||"-"}},{title:(0,e.jsx)(o._H,{id:"device.description"}),dataIndex:"description",ellipsis:!0,width:100,render:function(a){return a||"-"}},{title:(0,e.jsx)(o._H,{id:"Table.columns.operation"}),key:"ak_conf",fixed:"right",width:90,render:function(a,t){return(0,e.jsxs)(ee.Z,{size:"small",children:[(0,e.jsx)("span",{className:Ue().fail_detail_operation,onClick:function(){return p==="ak"?A(t):be(t)},children:(0,e.jsx)(o._H,{id:"operation.edit"})}),(0,e.jsx)(k.Z,{form:T,layout:"vertical",children:(0,e.jsx)(je.Z,{title:(0,e.jsx)(o._H,{id:"delete.prompt"}),onConfirm:function(){var m=ye(t),xe=m.next();xe.value.then(function(w){var Me=w.code,on=w.msg;Ce(Me,on)})},okText:(0,e.jsx)(o._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(o._H,{id:"operation.cancel"}),icon:(0,e.jsx)($e.Z,{style:{color:"red"}}),children:(0,e.jsx)("span",{className:Ue().fail_detail_operation,children:(0,e.jsx)(o._H,{id:"operation.delete"})})})})]})}}].filter(Boolean),h=[{title:"Image Name",width:150,fixed:"left",dataIndex:"image_name",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:{container:200,button_width:100},onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{image_name:m}))},currentBaseline:{server_provider:j,test_type:p,id:"image_name"},placeholder:n({id:"device.search.image.name"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.image_name?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.image_name},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.image_name||""],autoEscape:!0,textToHighlight:t&&t.image_name})})}},{title:"Image ID",width:120,dataIndex:"image_id",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:te,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{image_id:m}))},currentBaseline:{server_provider:j,test_type:p,id:"image_id"},placeholder:n({id:"device.search.image.id"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.image_id?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.image_id},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.image_id||""],autoEscape:!0,textToHighlight:t&&t.image_id})})}},{title:"Image Version",width:120,dataIndex:"image_version",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:{container:200,button_width:100},onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{image_version:m}))},currentBaseline:{server_provider:j,test_type:p,id:"image_version"},placeholder:n({id:"device.search.image.version"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.image_version?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.image_version},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.image_version||""],autoEscape:!0,textToHighlight:t&&t.image_version})})}},{title:"Image Group",width:100,dataIndex:"platform",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:te,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{platform:m}))},currentBaseline:{server_provider:j,test_type:p,id:"platform"},placeholder:n({id:"device.search.image.group"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.platform?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.platform},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.platform||""],autoEscape:!0,textToHighlight:t&&t.platform})})}},{title:"Region",width:100,dataIndex:"region",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:I,styleObj:te,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{region:m}))},currentBaseline:{server_provider:j,test_type:p,id:"region"},placeholder:n({id:"device.search.region"})})},onFilterDropdownVisibleChange:function(a){a&&C(!I)},filterIcon:function(){return(0,e.jsx)(z.Z,{style:{color:s.region?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.region},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.region||""],autoEscape:!0,textToHighlight:t&&t.region})})}},{title:function(){return(0,e.jsx)(Re,{title:"Ak Name",params:s,setParams:u,name:"ak_name",ws_id:j})},width:150,dataIndex:"ak_name",ellipsis:!0},{title:function(){return(0,e.jsx)(pn,{title:n({id:"device.cloud.service.provider"}),params:s,setParams:u,name:"provider",configType:p,list:we})},width:b?180:100,dataIndex:"provider",ellipsis:!0},{title:(0,e.jsx)(o._H,{id:"device.gmt_created"}),width:180,dataIndex:"gmt_created",ellipsis:!0,sorter:!0},{title:(0,e.jsx)(o._H,{id:"device.gmt_modified"}),width:180,dataIndex:"gmt_modified",ellipsis:!0,sorter:!0},{title:function(){return(0,e.jsx)(Re,{title:n({id:"device.creator"}),params:s,setParams:u,name:"creator"})},width:120,dataIndex:"creator",ellipsis:!0},{title:function(){return(0,e.jsx)(Re,{title:n({id:"device.update_user"}),params:s,setParams:u,name:"update_user"})},width:120,dataIndex:"update_user",ellipsis:!0,render:function(a){return a||"-"}},{title:(0,e.jsx)(o._H,{id:"Table.columns.operation"}),key:"image_conf",fixed:"right",width:100,render:function(a,t){return(0,e.jsxs)(ee.Z,{size:"small",children:[(0,e.jsx)("span",{className:Ue().fail_detail_operation,onClick:function(){return p==="ak"?A(t):be(t)},children:(0,e.jsx)(o._H,{id:"operation.edit"})}),(0,e.jsx)(k.Z,{form:T,layout:"vertical",children:(0,e.jsx)(je.Z,{title:(0,e.jsx)(o._H,{id:"delete.prompt"}),onConfirm:function(){var m=ye(t),xe=m.next();xe.value.then(function(w){var Me=w.code,on=w.msg;Ce(Me,on)})},okText:(0,e.jsx)(o._H,{id:"operation.ok"}),cancelText:(0,e.jsx)(o._H,{id:"operation.cancel"}),icon:(0,e.jsx)($e.Z,{style:{color:"red"}}),children:(0,e.jsx)("span",{className:Ue().fail_detail_operation,children:(0,e.jsx)(o._H,{id:"operation.delete"})})})})]})}}],Z=function(){var a;(a=G.current)===null||a===void 0||a.show("new")},A=function(a){var t,g=ke().cloneDeep(a);g.enable=g.enable==="\u662F"||g.enable===!0,(t=G.current)===null||t===void 0||t.show("edit",g)},Q=function(){var a;(a=se.current)===null||a===void 0||a.show("new")},be=function(a){var t;(t=se.current)===null||t===void 0||t.show("edit",a)},R=ke().isArray(E.data)?ke().cloneDeep(E.data):[];return p==="ak"&&(R=R.map(function(i){return i.enable?(i.enable="\u662F",i):(i.enable="\u5426",i)})),(0,e.jsxs)(Rn.mQ,{title:(0,e.jsxs)(We.Z,{activeKey:p,onChange:S,children:[(0,e.jsx)(W,{tab:(0,e.jsx)(o._H,{id:"device.ak.config"})},"ak"),(0,e.jsx)(W,{tab:(0,e.jsx)(o._H,{id:"device.image.config"})},"image")]}),extra:(0,e.jsx)(U.Z,{type:"primary",onClick:p==="ak"?Z:Q,children:p==="ak"?(0,e.jsx)(o._H,{id:"device.new.ak"}):(0,e.jsx)(o._H,{id:"device.new.image"})},"3"),children:[(0,e.jsx)(Fe.Z,{loading:ie,size:"small",scroll:{x:1920},onChange:function(a,t,g){switch(g.order){case void 0:g.field==="gmt_created"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_created:void 0})),g.field==="gmt_modified"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_modified:void 0}));break;case"descend":g.field==="gmt_created"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_created:"-gmt_created"})),g.field==="gmt_modified"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_modified:"-gmt_modified"}));break;case"ascend":g.field==="gmt_created"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_created:"+gmt_created"})),g.field==="gmt_modified"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_modified:"+gmt_modified"}));break;default:break}},columns:p==="ak"?D:h,dataSource:R,rowKey:function(a){return a.id+""},pagination:!1}),(0,e.jsx)(Ie.Z,{justify:"space-between",style:{padding:"16px 20px 0px"},children:E.total>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:n({id:"pagination.total.strip"},{data:E.total||0})}),(0,e.jsx)(Ze.Z,{size:"small",showQuickJumper:!0,showSizeChanger:!0,current:s.page_num,defaultCurrent:1,onChange:function(a,t){return fe(a,t)},onShowSizeChange:function(a,t){return fe(a,t)},total:E.total})]})}),p==="ak"&&(0,e.jsx)(bn,{ref:G,onOk:N}),p==="image"&&(0,e.jsx)(In,{ref:se,onOk:N})]})},Vn=Kn}}]);
