(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[4118],{92211:function(R){R.exports={job_test_form:"job_test_form___g0BtB",pers_select:"pers_select___zFAY6",job_test_popover:"job_test_popover___1Q0Fz",join_persbaseline:"join_persbaseline___30WIT",question_icon:"question_icon___2miSJ",previewDrawerPopover:"previewDrawerPopover___1yEcF",create_doc:"create_doc___3Qfpa",monitorDes:"monitorDes___2D0Sp"}},75044:function(R,P,e){"use strict";e.d(P,{MM:function(){return D},xA:function(){return v},Xc:function(){return j},uI:function(){return x},Dn:function(){return M}});var i=e(39428),o=e(3182),u=e(16917),D=function(){var c=(0,o.Z)((0,i.Z)().mark(function a(s){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.WY)("/api/job/items/",{data:s}));case 1:case"end":return t.stop()}},a)}));return function(s){return c.apply(this,arguments)}}(),v=function(){var c=(0,o.Z)((0,i.Z)().mark(function a(s){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.WY)("/api/job/type/",{method:"post",data:s}));case 1:case"end":return t.stop()}},a)}));return function(s){return c.apply(this,arguments)}}(),j=function(){var c=(0,o.Z)((0,i.Z)().mark(function a(s){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.WY)("/api/job/type/",{params:s}));case 1:case"end":return t.stop()}},a)}));return function(s){return c.apply(this,arguments)}}(),x=function(){var c=(0,o.Z)((0,i.Z)().mark(function a(s){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.WY)("/api/job/type/",{method:"put",data:s}));case 1:case"end":return t.stop()}},a)}));return function(s){return c.apply(this,arguments)}}(),M=function(){var c=(0,o.Z)((0,i.Z)().mark(function a(s){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,u.WY)("/api/job/relation/",{params:s}));case 1:case"end":return t.stop()}},a)}));return function(s){return c.apply(this,arguments)}}()},22928:function(R,P,e){"use strict";e.d(P,{oG:function(){return v},_U:function(){return x},tk:function(){return c},D8:function(){return s}});var i=e(11849),o=e(39428),u=e(3182),D=e(16917);function v(r){return j.apply(this,arguments)}function j(){return j=(0,u.Z)((0,o.Z)().mark(function r(t){return(0,o.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,D.WY)("/api/job/tag/",{params:t}));case 1:case"end":return l.stop()}},r)})),j.apply(this,arguments)}function x(r){return M.apply(this,arguments)}function M(){return M=(0,u.Z)((0,o.Z)().mark(function r(t){return(0,o.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,D.WY)("/api/job/tag/",{method:"POST",data:(0,i.Z)({},t)}));case 1:case"end":return l.stop()}},r)})),M.apply(this,arguments)}function c(r,t){return a.apply(this,arguments)}function a(){return a=(0,u.Z)((0,o.Z)().mark(function r(t,f){return(0,o.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,D.WY)("/api/job/tag/",{method:"PUT",data:(0,i.Z)((0,i.Z)({},f),{tag_id:t})}));case 1:case"end":return _.stop()}},r)})),a.apply(this,arguments)}var s=function(){var r=(0,u.Z)((0,o.Z)().mark(function t(f){return(0,o.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,D.WY)("/api/job/tag/",{method:"DELETE",data:f}));case 1:case"end":return _.stop()}},t)}));return function(f){return r.apply(this,arguments)}}()},37579:function(R,P,e){"use strict";var i=e(57663),o=e(71577),u=e(13062),D=e(71230),v=e(88983),j=e(47933),x=e(89032),M=e(15746),c=e(9715),a=e(20526),s=e(47673),r=e(4107),t=e(67294),f=e(20009),l=e(16917),_=e(96719),V=e(53909),m=e(85893),S=function(g){var Y=g.form,w=g.label,O=g.listName,$=g.textName,C=g.disabled,n=g.radioName,J=g.buttonShow,G=g.buttonText,h=g.placeholder,W=C?{backgroundColor:"#f5f5f5"}:{},y=(0,f.TH)(),T=y.pathname;return(0,m.jsx)(a.Z.Item,{label:w,children:(0,m.jsx)(a.Z.List,{name:O,children:function(L,F){var U=F.add,H=F.remove;return(0,m.jsxs)(m.Fragment,{children:[L.map(function(Z,I){return(0,m.jsxs)(D.Z,{style:!C&&J?{marginBottom:8}:{marginBottom:I!==L.length-1?8:0},children:[(0,m.jsxs)(M.Z,{span:24,style:{position:"relative"},children:[(0,m.jsx)(a.Z.Item,{noStyle:!0,name:[Z.name,$],children:(0,m.jsx)(r.Z.TextArea,{style:W,readOnly:C,placeholder:h,autoSize:{minRows:3,maxRows:10}})}),!!~T.indexOf("/test_result/")&&(0,m.jsx)(V.db,{style:{right:-20},onCopy:function(){var d;return Y==null||(d=Y.getFieldValue(O))===null||d===void 0?void 0:d[I][$]}}),!C&&I>0&&(0,m.jsx)(_.C,{remove:H,field:Z,position:{right:-20,top:0}})]}),J&&(0,m.jsx)(a.Z.Item,{label:(0,m.jsx)(l._H,{id:"job.form.execution.time"}),style:{marginBottom:L.length-1===I?0:8},name:[Z.name,n],children:(0,m.jsxs)(j.ZP.Group,{disabled:C,children:[(0,m.jsx)(j.ZP,{value:"before",children:(0,m.jsx)(l._H,{id:"job.form.restart.before"})}),(0,m.jsx)(j.ZP,{value:"after",children:(0,m.jsx)(l._H,{id:"job.form.restart.after"})})]})})]},I)}),!C&&J&&(0,m.jsx)(o.Z,{type:"link",onClick:function(){return U({pos:"before"})},style:{padding:0,fontSize:12},size:"small",children:G})]})}})})};P.Z=S},45537:function(R,P,e){"use strict";e.d(P,{Z:function(){return G}});var i=e(9715),o=e(20526),u=e(57663),D=e(71577),v=e(11849),j=e(2824),x=e(67294),M=e(13062),c=e(71230),a=e(20136),s=e(55241),r=e(98858),t=e(4914),f=e(47673),l=e(4107),_=e(89032),V=e(15746),m=e(43358),S=e(34041),E=e(16917),g=e(96719),Y=e(1870),w=e(96486),O=e.n(w),$=e(92211),C=e.n($),n=e(85893),J=function(h){var W=h.field,y=h.index,T=h.disabled,N=h.remove,L=h.setFormsValueFn,F=h.typeDisabled,U=h.form,H=(0,E.YB)(),Z=H.formatMessage,I=function(K){L(y,K)},B=U.getFieldsValue(),d=O().isArray(O().get(B,"monitor_info"))?O().get(B,"monitor_info"):[],b=d[y]&&d[y].monitor_type||"case_machine",p={color:"rgba(0, 0, 0, 0.45)",cursor:"pointer",transform:"translateY(0)",position:"initial"};return(0,n.jsxs)(c.Z,{gutter:10,style:{position:"relative"},children:[(0,n.jsx)(V.Z,{span:6,children:(0,n.jsx)(o.Z.Item,{name:[W.name,"monitor_type"],children:(0,n.jsxs)(S.Z,{onChange:I,defaultValue:"case_machine",disabled:T,children:[(0,n.jsx)(S.Z.Option,{value:"case_machine",disabled:F,children:(0,n.jsx)(E._H,{id:"job.form.case.machine"})}),(0,n.jsx)(S.Z.Option,{value:"custom_machine",children:(0,n.jsx)(E._H,{id:"job.form.custom.machine"})})]})})}),(0,n.jsxs)(V.Z,{span:18,style:{position:"relative"},children:[b==="custom_machine"&&(0,n.jsx)(o.Z.Item,{name:[W.name,"server"],rules:[{required:!0,pattern:/^[A-Za-z0-9\._-]+$/,message:Z({id:"job.form.custom.machine.message"})}],children:(0,n.jsx)(l.Z,{placeholder:"".concat(Z({id:"job.form.input.machine.ip"})).concat("").concat(Z({id:"job.form.address"})),allowClear:!0,disabled:T})}),y===0&&(0,n.jsx)(s.Z,{overlayStyle:{zIndex:1e4},content:(0,n.jsxs)(t.Z,{title:(0,n.jsx)(E._H,{id:"job.form.monitor.instructions"}),bordered:!0,column:1,size:"small",className:C().monitorDes,children:[(0,n.jsx)(t.Z.Item,{label:(0,n.jsx)(E._H,{id:"job.form.case.machine"}),labelStyle:{paddingTop:"5px",paddingBottom:"5px"},children:(0,n.jsx)(E._H,{id:"job.form.only.monitor.all.use.cases.machine"})}),(0,n.jsxs)(t.Z.Item,{label:(0,n.jsx)(E._H,{id:"job.form.custom.machine"}),labelStyle:{paddingTop:"5px",paddingBottom:"5px"},children:[(0,n.jsx)(E._H,{id:"job.form.users.can.enter.IP"}),"".concat(""),(0,n.jsx)(E._H,{id:"job.form.add.machine.monitoring"})]})]}),children:(0,n.jsx)(Y.Z,{style:b==="custom_machine"?(0,v.Z)((0,v.Z)({},p),{},{position:"absolute",right:-20,transform:"translateY(-11px)"}):p})}),!T&&y>0&&(0,n.jsx)(g.C,{position:b==="custom_machine"?{right:-20,top:0}:{},remove:N,field:W,deleteCallback:L})]})]},y)},G=function(h){var W=h.disabled,y=h.template,T=h.formComponent,N=(0,E.YB)(),L=N.formatMessage,F=(0,x.useState)(!0),U=(0,j.Z)(F,2),H=U[0],Z=U[1];(0,x.useEffect)(function(){if(y&&JSON.stringify(y)!=="{}"){var B=y.monitor_info,d=Array.isArray(B)?B:[],b=d.some(function(p){return p&&p.monitor_type==="case_machine"});Z(b)}},[y]);var I=function(d,b){var p=O().cloneDeep(T.getFieldsValue()),A=O().isArray(O().get(p,"monitor_info"))?O().get(p,"monitor_info"):[];b&&(A[d]=(0,v.Z)((0,v.Z)({},p.monitor_info[d]),{},{monitor_type:b}),b==="case_machine"&&(A[d]=(0,v.Z)((0,v.Z)({},p.monitor_info[d]),{},{server:""})),p.monitor_info=A,T.setFieldsValue(p));var K=A.some(function(z){return z&&z.monitor_type==="case_machine"});Z(K)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Z.Item,{label:L({id:"job.form.monitor.config"}),className:"monitor",children:(0,n.jsx)(o.Z.List,{name:"monitor_info",children:function(d,b){var p=b.add,A=b.remove;return(0,n.jsxs)(n.Fragment,{children:[d.map(function(K,z){return(0,n.jsx)(J,{setFormsValueFn:I,field:K,index:z,disabled:W,typeDisabled:H,form:T,remove:A})}),!W&&(0,n.jsx)(D.Z,{type:"link",onClick:function(){return p({monitor_type:"custom_machine",server:""})},style:{padding:0},children:(0,n.jsx)(E._H,{id:"job.form.add.group.monitor.btn"})})]})}})})})}},77045:function(R,P,e){"use strict";e.d(P,{fp:function(){return v},yM:function(){return x},oO:function(){return M},Y_:function(){return c},CR:function(){return a},aN:function(){return s}});var i=e(39428),o=e(3182),u=e(16917),D=null,v=function(){var r=(0,o.Z)((0,i.Z)().mark(function t(f){return(0,i.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,u.WY)("/api/server/specify_test_server/",{params:f}));case 1:case"end":return _.stop()}},t)}));return function(f){return r.apply(this,arguments)}}();function j(){return request("/api/case/test_domain/")}function x(r){return(0,u.WY)("/api/server/server_tag/",{params:r})}function M(r){return(0,u.WY)("/api/server/test_server/channel/check/",{params:r})}function c(r){return(0,u.WY)("/api/server/test_cluster/",{params:r})}function a(r){return(0,u.WY)("/api/server/cloud_server/",{params:r})}function s(r){return(0,u.WY)("/api/server/test_cluster/",{params:r})}}}]);
