(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"75JX":function(ne,V,t){"use strict";t.r(V);var re=t("B9cy"),E=t("Ol7k"),K=t("Znn+"),M=t("ZTPi"),W=t("DYRE"),L=t("zeV3"),le=t("+BJd"),$=t("mr32"),se=t("Telt"),z=t("Tckk"),c=t("9og8"),u=t("tJVT"),y=t("WmNS"),r=t.n(y),o=t("q1tI"),e=t.n(o),Ze=t("T2oS"),me=t("W9HT"),Fe=t("FB4D"),n=t.n(Fe),fe=t("IHSb"),ve=t("pstV"),ce=t("hZgC"),_e=t("LvDl"),J=t.n(_e),Ke=t("R9oj"),Ee=t("ECub"),Y=null,he=function(i){var l=i.layoutHeight;return Object(o.useEffect)(function(){if(Y=document.querySelector("#content .ant-empty-normal"),!!Y){var v=(l-270-40-70)/2;Y.style.transform="translateY(".concat(v,"px)")}},[]),Object(o.useEffect)(function(){if(!!Y){var v=(l-270-40-70)/2;Y.style.transform="translateY(".concat(v,"px)")}},[l]),e.a.createElement(Ee.a,{image:Ee.a.PRESENTED_IMAGE_SIMPLE})},Qe=t("5Dmo"),ge=t("3S7+"),ke=function(l){var v=l.text,s=l.ellipsis,f=l.children,_=l.placement,k=Object(o.useRef)(null),C=Object(o.useState)(!1),P=Object(u.a)(C,2),D=P[0],B=P[1];Object(o.useEffect)(function(){var b=!1;if(s&&s.current){var w=s.current.clientWidth,O=s.current.scrollWidth;b=w<O,B(b)}},[]);var R=function(){return f?e.a.cloneElement(f):v||"-"};return s?e.a.createElement(e.a.Fragment,null,D?e.a.createElement(ge.a,{placement:_||"top",title:v,overlayStyle:{wordBreak:"break-all"}},R()):R()):(s=k,e.a.createElement(e.a.Fragment,null,D?e.a.createElement(ge.a,{title:v,overlayStyle:{wordBreak:"break-all"}},e.a.createElement("span",{className:n.a.workspace_name,ref:s},v)):e.a.createElement("span",{className:n.a.workspace_name,ref:s},v)))},de=ke,ye=t("eRi9"),T=t("9kvl"),X=t("c+yx"),Se=function(i){var l=i.workspaceList,v=i.loading,s=i.userId,f=Object(ce.e)(),_=f.height,k=J.a.isArray(l.workspace_list)?l.workspace_list:[],C=Object(o.useRef)(null),P=Object(o.useRef)(null),D=function(m){return m?m.slice(0,1):""},B=function(m){var h=m.logo;return e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:n.a.first_colum},h?e.a.createElement(z.a,{size:"small",className:n.a.avatar,src:h,alt:"avatar",shape:"square"}):e.a.createElement(z.a,{size:"small",shape:"square",className:n.a.avatar,style:{backgroundColor:m.theme_color,fontSize:14,fontWeight:"bold"}},D(m.show_name))),e.a.createElement(de,{text:m.show_name||m.name,ellipsis:C,children:e.a.createElement("span",{ref:C,className:n.a.name},m.show_name||m.name)}))},R=function(){var O=Object(c.a)(r.a.mark(function m(h,S){var g,a,d,p;return r.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Object(ye.j)({ws_id:h});case 2:g=F.sent,a=g.code,d=g.msg,p=g.first_entry,a===200?p&&S===s?T.e.push("/ws/".concat(h,"/workspace/initSuccess")):T.e.push(Object(X.o)(h)):Object(X.r)(a,d);case 7:case"end":return F.stop()}},m)}));return function(h,S){return O.apply(this,arguments)}}(),b=function(m){var h={ws_member:"workspace\u6210\u5458",ws_test_admin:"\u6D4B\u8BD5\u7BA1\u7406\u5458",ws_admin:"\u7BA1\u7406\u5458",ws_tester:"\u6D4B\u8BD5\u4EBA\u5458",ws_owner:"\u6240\u6709\u8005"};return h[m]},w=function(m){return e.a.createElement("div",{className:n.a.ws_info,key:m.id,onClick:J.a.partial(R,m.id,m.creator)},e.a.createElement("div",{className:n.a.ws_info_colum},B(m)),e.a.createElement("div",{className:n.a.ws_info_colum},e.a.createElement(de,{text:m.description,ellipsis:P,children:e.a.createElement("span",{className:n.a.ws_description,ref:P},e.a.createElement("span",{className:"".concat(n.a.text_label),style:{fontWeight:600,color:"rgba(0,0,0,0.85)"}}," \u7B80\u4ECB\uFF1A "),m.description)})),e.a.createElement("div",{className:n.a.ws_info_colum},e.a.createElement(L.b,null,e.a.createElement("span",{className:n.a.is_public},m.is_public?e.a.createElement(fe.a,null):e.a.createElement(ve.a,null)),e.a.createElement("span",{className:n.a.second_part},m.is_public?"\u516C\u5F00":"\u79C1\u5BC6")),e.a.createElement(L.b,null,e.a.createElement("span",{style:{fontWeight:600,color:"rgba(0,0,0,0.85)"}},"\u89D2\u8272\uFF1A"),e.a.createElement("span",{className:n.a.second_part},b(m.ws_role))),e.a.createElement(L.b,null,e.a.createElement("span",{style:{fontWeight:600,color:"rgba(0,0,0,0.85)"}},"\u4EBA\u6570\uFF1A"),e.a.createElement("span",{className:n.a.second_part},"".concat(m.member_count,"\u4EBA")))))};return e.a.createElement(me.a,{spinning:v},e.a.createElement("div",{className:n.a.ws_content,id:"content",style:{minHeight:_-270-40}},k.length?k.map(function(O){return w(O)}):e.a.createElement(he,{layoutHeight:_})))},Ge=t("+L6B"),q=t("2/Rp"),Ye=t("Q9mQ"),Ne=t("diRs"),Xe=t("miYZ"),oe=t("tsqr"),qe=t("14J3"),be=t("BMrR"),ea=t("/zsF"),Pe=t("PArb"),aa=t("5NDa"),ie=t("5rEg"),ta=t("jCWc"),pe=t("kPKH"),na=t("tU7J"),Ce=t("wFql"),Le=function(){var i=Object(c.a)(r.a.mark(function l(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(T.g)("/api/auth/personal_workspace/"));case 1:case"end":return s.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),Te=function(){var i=Object(c.a)(r.a.mark(function l(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(T.g)("/api/auth/personal_approve/"));case 1:case"end":return s.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),Re=function(){var i=Object(c.a)(r.a.mark(function l(v){return r.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(T.g)("/api/auth/re_apply/",{data:v,method:"post"}));case 1:case"end":return f.stop()}},l)}));return function(v){return i.apply(this,arguments)}}(),De=function(){var i=Object(c.a)(r.a.mark(function l(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(T.g)("/api/auth/personal_token/"));case 1:case"end":return s.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),Be=function(){var i=Object(c.a)(r.a.mark(function l(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(T.g)("/api/auth/personal_token/",{method:"put"}));case 1:case"end":return s.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),ra=function(){var i=Object(c.a)(r.a.mark(function l(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(T.g)("/api/auth/logout/"));case 1:case"end":return s.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),Ae=function(){var i=Object(c.a)(r.a.mark(function l(v){return r.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(T.g)("/api/auth/change_password/",{data:v,method:"post"}));case 1:case"end":return f.stop()}},l)}));return function(v){return i.apply(this,arguments)}}(),Me=function(l){var v=Object(o.useState)(""),s=Object(u.a)(v,2),f=s[0],_=s[1];return e.a.createElement(be.a,null,e.a.createElement(pe.a,{span:24,style:{marginBottom:8}},e.a.createElement(L.b,null,e.a.createElement(Ce.a.Text,null,l.resonText),e.a.createElement(Ce.a.Text,{disabled:!0},"(\u9009\u586B)"))),e.a.createElement(pe.a,{span:24},e.a.createElement(ie.a.TextArea,{value:f,rows:3,maxLength:200,placeholder:l.action==="join"?"\u8BF7\u8F93\u5165\u7533\u8BF7\u7406\u7531":"\u8BF7\u8F93\u5165\u6CE8\u9500\u7406\u7531",onChange:function(C){return _(C.target.value)}})),e.a.createElement(Pe.a,{style:{marginTop:20,marginBottom:10}}),e.a.createElement(pe.a,{span:24},e.a.createElement(be.a,{justify:"end"},e.a.createElement(L.b,null,e.a.createElement(q.a,{onClick:function(){l.handleCancel()}},"\u53D6\u6D88"),e.a.createElement(q.a,{type:"primary",onClick:function(){return l.handleSubmit(f,_)}},"\u63D0\u4EA4\u7533\u8BF7")))))},we=function(l){return l==="delete"?{title:"\u6CE8\u9500",resonText:"\u6CE8\u9500\u7406\u7531"}:{title:"\u7533\u8BF7\u52A0\u5165",resonText:"\u7533\u8BF7\u7406\u7531"}},We=function(i){var l=i.wsInfo.is_disabled,v=Object(o.useState)(!1),s=Object(u.a)(v,2),f=s[0],_=s[1],k=Object(o.useState)(l),C=Object(u.a)(k,2),P=C[0],D=C[1],B=function(){var b=Object(c.a)(r.a.mark(function w(O,m){return r.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return D(!0),S.next=3,Re({id:i.wsInfo.id,reason:O});case 3:oe.default.success("\u64CD\u4F5C\u6210\u529F\uFF01"),i.handleTabClick("approve"),_(!1),D(!1),m("");case 8:case"end":return S.stop()}},w)}));return function(O,m){return b.apply(this,arguments)}}(),R=function(w){if(w.stopPropagation(),i.wsInfo.action==="create")window.sessionStorage.setItem("create_ws_info",JSON.stringify(i.wsInfo)),T.e.push("/workspace/create");else{if(l)return;_(!0)}};return l?e.a.createElement(q.a,{disabled:P},"\u518D\u6B21\u7533\u8BF7"):e.a.createElement(Ne.a,{title:we(i.wsInfo.action).title,trigger:"click",visible:f,placement:"topLeft",onVisibleChange:function(w){return _(w)},content:e.a.createElement(Me,{handleCancel:function(){return _(!1)},handleSubmit:B,action:i.wsInfo.action,resonText:we(i.wsInfo.action).resonText})},e.a.createElement(q.a,{disabled:P,onClick:R},"\u518D\u6B21\u7533\u8BF7"))},Ie=function(i){var l=i.approveData,v=i.loading,s=i.handleTabClick,f=i.userId,_=Object(ce.e)(),k=_.height,C=J.a.isArray(l)?l:[];C=C.filter(function(g){return J.a.get(g,"ws_info")});var P=function(a){switch(a){case"waiting":return e.a.createElement($.a,{className:n.a.stateColorFn,color:"#FF9D4E"},"\u5BA1\u6838\u4E2D");case"passed":return e.a.createElement($.a,{color:"#52C41A",className:n.a.stateColorFn},"\u901A\u8FC7");case"refused":return e.a.createElement($.a,{color:"#F5222D",className:n.a.stateColorFn},"\u62D2\u7EDD");default:return e.a.createElement(e.a.Fragment,null)}},D=function(a){var d="";return a.action==="create"&&(d="\u521B\u5EFA"),a.action==="delete"&&(d="\u6CE8\u9500"),a.action==="join"&&(d="\u52A0\u5165"),e.a.createElement(L.b,null,e.a.createElement("span",{className:n.a.action}," ","".concat(d,"Workspace")," "),e.a.createElement("span",{className:n.a.show_name}," ",a.ws_info.show_name),e.a.createElement("span",{className:n.a.approv},"\u7533\u8BF7"),e.a.createElement("span",{className:n.a.status}," ",P(a.status)),e.a.createElement("span",{className:n.a.create_time}," ",a.gmt_created))},B=function(a){return a?a.slice(0,1):""},R=function(a){if(a.id==="logo"){var d=a.value;return d?e.a.createElement(z.a,{size:"small",src:d,alt:"avatar",className:n.a.avatar,shape:"square"}):e.a.createElement(z.a,{size:"small",shape:"square",className:n.a.avatar,style:{backgroundColor:a.theme_color,fontSize:14,fontWeight:"bold"}},B(a.show_name))}if(a.id==="is_public"){var p=a.value?"\u516C\u5F00":"\u4E0D\u516C\u5F00";return e.a.createElement(e.a.Fragment,null,e.a.createElement("span",{className:n.a.is_public},a.value?e.a.createElement(fe.a,null):e.a.createElement(ve.a,null)," "),p)}return e.a.createElement(de,{text:a.value})},b=function(a){var d={value:a.ws_info.logo,id:"logo",theme_color:a.ws_info.theme_color,show_name:a.ws_info.show_name};return e.a.createElement("div",{className:n.a.second_row},R(d),e.a.createElement("span",{className:n.a.text_label}," ",d.show_name," "))},w=function(a,d){return e.a.createElement("div",{className:n.a.description_box},e.a.createElement("span",{className:"".concat(n.a.text_label,"  ").concat(n.a.description_label)}," ",a,": "),e.a.createElement("div",{className:"".concat(n.a.description_value),style:{marginLeft:a==="\u7B80\u4ECB"?"44px":"72px"}},d||"-"," "))},O=function(a,d){var p=J.a.isArray(d)?d:[];return p=p.map(function(j){return e.a.createElement("li",null,e.a.createElement(L.b,null,e.a.createElement(z.a,{size:"small",className:n.a.avatar,src:j.avatar,alt:"avatar"}),e.a.createElement("span",null,j.user_name||"")))}),p.length&&p.unshift(e.a.createElement("li",null," ",a,": ")),e.a.createElement("ul",{className:"".concat(n.a.approve_users)},p)},m=function(a){return e.a.createElement(e.a.Fragment,null,e.a.createElement(L.b,null,e.a.createElement("span",{className:n.a.is_public},a.ws_info.is_public?e.a.createElement(fe.a,null):e.a.createElement(ve.a,null)),e.a.createElement("span",{className:n.a.second_part},a.ws_info.is_public?"\u516C\u5F00":"\u79C1\u5BC6")),e.a.createElement(L.b,null,e.a.createElement("span",{className:n.a.text_label},"workspace\u663E\u793A\u540D\uFF1A"),e.a.createElement("span",{className:n.a.second_part},a.ws_info.show_name||"-")))},h=function(){var g=Object(c.a)(r.a.mark(function a(d,p){var j,F,x,U;return r.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Object(ye.j)({ws_id:d});case 2:j=A.sent,F=j.code,x=j.msg,U=j.first_entry,F===200?U&&p===f?T.e.push("/ws/".concat(d,"/workspace/initSuccess")):T.e.push(Object(X.o)(d)):Object(X.r)(F,x);case 7:case"end":return A.stop()}},a)}));return function(d,p){return g.apply(this,arguments)}}(),S=function(a){var d=a.action!=="join",p=!1,j=!1;return(a.action==="create"||a.action==="delete")&&a.status==="refused"&&(p=!0,j=!0),a.action==="join"&&(a.status==="refused"||a.status==="passed")&&(p=!0),e.a.createElement("div",{className:n.a.approve_info,key:a.id},e.a.createElement("div",null,D(a)),e.a.createElement("div",{style:{display:d?"block":"none"}},b(a)),e.a.createElement("div",{style:{display:d?"block":"none"}},w("\u7B80\u4ECB",a.ws_info.description)),e.a.createElement("div",{style:{display:d?"block":"none"}},m(a)),e.a.createElement("div",null,w("\u7533\u8BF7\u7406\u7531",a.reason)),e.a.createElement("div",{className:"".concat(n.a.approve_info_colum," ").concat(n.a.approve_refuse_reason),style:{display:j?"block":"none"}},w("\u62D2\u7EDD\u7406\u7531",a.refuse_reason)),e.a.createElement("div",{style:{display:p?"block":"none"}},w("\u5BA1\u6279\u65F6\u95F4",a.gmt_modified)),e.a.createElement("div",null,O("\u5BA1\u6279\u4EBA\u5458",a.approve_users)),a.status==="refused"&&e.a.createElement(We,{handleTabClick:s,wsInfo:a}),a.status==="passed"&&a.action!=="delete"&&e.a.createElement(q.a,{onClick:J.a.partial(h,a.ws_info.id,a.ws_info.creator)},"\u8FDB\u5165Workspace"))};return e.a.createElement(me.a,{spinning:v},e.a.createElement("div",{className:n.a.approve_content,id:"content",style:{minHeight:k-270-40}},C.length?C.map(function(g){return S(g)}):e.a.createElement(he,{layoutHeight:k})))},la=t("2qtc"),xe=t("kLXV"),ee=t("k1fw"),sa=t("y8nQ"),ae=t("Vl3Y"),$e=function(l,v){var s=Object(o.useState)({}),f=Object(u.a)(s,2),_=f[0],k=f[1],C=Object(o.useState)(!1),P=Object(u.a)(C,2),D=P[0],B=P[1],R=Object(T.k)("@@initialState"),b=R.initialState,w=R.setInitialState,O=ae.a.useForm(),m=Object(u.a)(O,1),h=m[0];Object(o.useImperativeHandle)(v,function(){return{show:function(){B(!0)}}});var S=function(){h.validateFields().then(function(){var d=Object(c.a)(r.a.mark(function p(j){var F,x,U,I;return r.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Ae(Object(ee.a)(Object(ee.a)({},j),{},{id:_}));case 2:if(F=N.sent,x=F.data,U=F.code,I=F.msg,U===200){N.next=9;break}return h.setFields([{name:"old_password",errors:[I!=null?I:x]}]),N.abrupt("return");case 9:w(Object(ee.a)(Object(ee.a)(Object(ee.a)({},b),x),{},{authList:x.user_info})),g(),oe.default.success("\u4FEE\u6539\u6210\u529F");case 12:case"end":return N.stop()}},p)}));return function(p){return d.apply(this,arguments)}}())},g=function(){k({}),B(!1),h.resetFields()};return e.a.createElement(xe.a,{title:"\u4FEE\u6539\u767B\u5F55\u5BC6\u7801",visible:D,onCancel:g,okText:"\u786E\u5B9A",onOk:S,width:"40%"},e.a.createElement(ae.a,{form:h,layout:"vertical"},e.a.createElement(ae.a.Item,{label:"",name:"old_password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{pattern:/^.{6,18}$/,message:"\u5BC6\u7801\u957F\u5EA66-18\u4F4D"}]},e.a.createElement(ie.a.Password,{placeholder:"\u65E7\u5BC6\u7801"})),e.a.createElement(ae.a.Item,{label:"",name:"new_password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"},{pattern:/^.{6,18}$/,message:"\u5BC6\u7801\u957F\u5EA66-18\u4F4D"}],hasFeedback:!0},e.a.createElement(ie.a.Password,{placeholder:"\u65B0\u5BC6\u7801"})),e.a.createElement(ae.a.Item,{label:"",name:"new_password_repeat",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u786E\u8BA4\u5BC6\u7801!"},function(a){var d=a.getFieldValue;return{validator:function(j,F){return F?/^.{6,18}$/.test(F)?!F||d("new_password")===F?Promise.resolve():Promise.reject(new Error("\u786E\u8BA4\u5BC6\u7801\u4E0D\u4E00\u81F4!")):Promise.reject(new Error("\u5BC6\u7801\u957F\u5EA66-18\u4F4D")):Promise.resolve()}}}]},e.a.createElement(ie.a.Password,{placeholder:"\u786E\u8BA4\u5BC6\u7801"}))))},ze=Object(o.forwardRef)($e),Q=!0,Oe=function(){for(var l="",v=0;v<32;v++)l+="*";return l},He=function(i){var l=i.tokenData,v=i.loading,s=Oe(),f=Object(o.useState)(s),_=Object(u.a)(f,2),k=_[0],C=_[1],P=Object(ce.e)(),D=P.height,B=J.a.isString(l)?l:"",R=function(){k===s&&C(B)},b=function(){var m=Object(c.a)(r.a.mark(function h(){var S,g,a;return r.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(Q){p.next=2;break}return p.abrupt("return");case 2:return Q=!1,p.next=5,Be();case 5:S=p.sent,g=S.data,a=S.code,a===200&&(oe.default.success({content:"\u91CD\u7F6E\u6210\u529F",onClose:function(){Q=!0},onClick:function(){Q=!0}}),C(g)),a!==200&&oe.default.error({content:"\u91CD\u7F6E\u5931\u8D25",onClose:function(){Q=!0},onClick:function(){Q=!0}});case 10:case"end":return p.stop()}},h)}));return function(){return m.apply(this,arguments)}}(),w=function(){var h;return(h=O.current)===null||h===void 0?void 0:h.show()},O=Object(o.useRef)(null);return e.a.createElement(E.a.Content,{style:{height:D-270-40},className:n.a.token_content},e.a.createElement(me.a,{spinning:v},e.a.createElement(L.b,{direction:"vertical",style:{width:"100%"}},e.a.createElement("div",null,e.a.createElement("div",{className:n.a.first_row},e.a.createElement("span",{className:n.a.token_label}," \u767B\u5F55\u5BC6\u7801 "),e.a.createElement("span",{className:n.a.operate}," \u64CD\u4F5C ")),e.a.createElement("div",{className:n.a.second_row},e.a.createElement("span",null,Oe()," "),e.a.createElement(L.b,{align:"start"},e.a.createElement("span",{className:n.a.reset,onClick:w},"\u4FEE\u6539")))),e.a.createElement("div",null,e.a.createElement("div",{className:n.a.first_row},e.a.createElement("span",{className:n.a.token_label}," Token "),e.a.createElement("span",{className:n.a.operate}," \u64CD\u4F5C ")),e.a.createElement("div",{className:n.a.second_row},e.a.createElement("span",null,k," "),e.a.createElement("div",null,e.a.createElement("span",{className:n.a.show,onClick:R},"\u67E5\u770B"),e.a.createElement("span",{className:n.a.reset,onClick:b},"\u91CD\u7F6E")))))),e.a.createElement(ze,{ref:O}))},Ve=t("Ty5D"),Je=t("k82f"),Ue=t("skNQ"),je=new Map([["workspace",Le],["approve",Te],["tokenConfig",De]]),ca=V.default=function(i){var l,v=Object(T.k)("@@initialState"),s=v.initialState,f=s.authList,_=Object(T.i)(),k=Object(Ve.g)(),C=k.query,P=Object(ce.e)(),D=P.height,B=Object(o.useState)((l=C.person)!==null&&l!==void 0?l:"workspace"),R=Object(u.a)(B,2),b=R[0],w=R[1],O=Object(o.useState)([]),m=Object(u.a)(O,2),h=m[0],S=m[1],g=Object(o.useState)(!0),a=Object(u.a)(g,2),d=a[0],p=a[1],j=function(){var I=Object(c.a)(r.a.mark(function A(N){var Z,G,ue,H;return r.a.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return w(N),T.e.replace("/personCenter?person=".concat(N)),p(!0),S([]),te.next=6,je.get(N)();case 6:Z=te.sent,G=Z.data,ue=Z.code,H=Z.msg,ue!==200&&Object(X.r)(ue,H),G&&S(G),p(!1);case 13:case"end":return te.stop()}},A)}));return function(N){return I.apply(this,arguments)}}(),F=function(){var I=Object(c.a)(r.a.mark(function A(){var N,Z,G;return r.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return p(!0),H.next=3,je.get(b)();case 3:N=H.sent,Z=N.data,G=N.code,G===200&&S(Z),p(!1);case 8:case"end":return H.stop()}},A)}));return function(){return I.apply(this,arguments)}}();Object(o.useEffect)(function(){F()},[]);var x=function(A){var N={user:"\u666E\u901A\u7528\u6237",sys_test_admin:"\u6D4B\u8BD5\u7BA1\u7406\u5458",sys_admin:"\u7CFB\u7EDF\u7BA1\u7406\u5458",super_admin:"\u8D85\u7EA7\u7BA1\u7406\u5458"};return N[A]},U={height:D-50};return e.a.createElement(Je.Scrollbars,{style:U},e.a.createElement(E.a.Content,{className:n.a.content},e.a.createElement("div",{className:n.a.current_user},e.a.createElement(L.b,null,e.a.createElement("div",{className:n.a.avatar},f.avatar?e.a.createElement(z.a,{size:"small",src:f.avatar||"",alt:"avatar",className:n.a.avatar}):e.a.createElement(Ue.a,{shape:"circle",size:56,fontSize:28,theme_color:f.avatar_color,show_name:f.last_name})),e.a.createElement("div",null,e.a.createElement("div",{className:n.a.name},f.first_name||f.last_name," ",e.a.createElement($.a,{className:n.a.role,style:{opacity:f.sys_role_title==="user"?0:1}},x(f.sys_role_title))),e.a.createElement("div",{className:n.a.email},f.email||""," ")))),e.a.createElement(M.a,{defaultActiveKey:b,onTabClick:j,className:n.a.tab_title,activeKey:b},e.a.createElement(M.a.TabPane,{tab:"Workspace",key:"workspace",className:n.a.tab_item},b==="workspace"&&e.a.createElement(Se,{loading:d,workspaceList:h,userId:Number(f.id)})),e.a.createElement(M.a.TabPane,{tab:"\u6211\u7684\u7533\u8BF7",key:"approve"},b==="approve"&&e.a.createElement(Ie,{loading:d,approveData:h,handleTabClick:j,userId:Number(f.id)})),e.a.createElement(M.a.TabPane,{tab:"\u5B89\u5168\u914D\u7F6E",key:"tokenConfig"},b==="tokenConfig"&&e.a.createElement(He,{loading:d,tokenData:h})))))}},FB4D:function(ne,V,t){ne.exports={content:"content___2L3FO",ws_content:"ws_content___2_seg",current_user:"current_user___1vUTA",avatar:"avatar___7G5L-",name:"name___2lluo",email:"email___1y1Lq",role:"role___1PKWs",tab_title:"tab_title___2Sm5V",ws_info:"ws_info___1UhEH",text_label:"text_label___3cSVe",ws_info_colum:"ws_info_colum___2pmwO",first_colum:"first_colum___3FpZD",ws_description:"ws_description___1sRW-",second_part:"second_part___2aHWf",approve_content:"approve_content___3IQK6",approve_info:"approve_info___rhoiG",approve_refuse_reason:"approve_refuse_reason___2atrf",second_row:"second_row___2maP-",workspace_name:"workspace_name___2QyMn",action:"action___2xTb4",approv:"approv___3IE13",show_name:"show_name___1pP6B",create_time:"create_time___3Jj_0",description_box:"description_box___3PpJz",description_value:"description_value___VEwtO",description_label:"description_label___3Z_Q2",approve_users:"approve_users___2Tvvn",token_content:"token_content___38iLa",token_label:"token_label___3rILb",operate:"operate___3lk1P",show:"show___AQt1O",reset:"reset___KLvzf",first_row:"first_row___3sSBf"}},IHSb:function(ne,V,t){"use strict";t.d(V,"a",function(){return se});var re=t("q1tI"),E=t.n(re),K,M;function W(){return W=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var y=arguments[u];for(var r in y)Object.prototype.hasOwnProperty.call(y,r)&&(c[r]=y[r])}return c},W.apply(this,arguments)}function L(c,u){if(c==null)return{};var y=le(c,u),r,o;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);for(o=0;o<e.length;o++)r=e[o],!(u.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,r)||(y[r]=c[r]))}return y}function le(c,u){if(c==null)return{};var y={},r=Object.keys(c),o,e;for(e=0;e<r.length;e++)o=r[e],!(u.indexOf(o)>=0)&&(y[o]=c[o]);return y}var $=function(u){var y=u.svgRef,r=u.title,o=L(u,["svgRef","title"]);return E.a.createElement("svg",W({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:y},o),r?E.a.createElement("title",null,r):null,K||(K=E.a.createElement("desc",null,"Created with Sketch.")),M||(M=E.a.createElement("g",{id:"\\u9996\\u9875/\\u52A0\\u5165",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},E.a.createElement("g",{id:"4-\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458-\\u9996\\u9875",transform:"translate(-746.000000, -187.000000)",fillRule:"nonzero"},E.a.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(20.000000, 99.000000)"},E.a.createElement("g",{id:"\\u9009\\u9879\\u5907\\u4EFD",transform:"translate(532.000000, 56.000000)"},E.a.createElement("g",{id:"\\u9009\\u62E9\\u9879"},E.a.createElement("g",{id:"\\u516C\\u5F00",transform:"translate(192.000000, 30.000000)"},E.a.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),E.a.createElement("path",{d:"M8.14814814,3.18518519 C8.77777777,3.18518519 9.37185184,3.43259259 9.82074073,3.88296297 C10.2711111,4.33185186 10.5185185,4.92592592 10.5185185,5.55555556 L10.5185185,8.07407408 C10.5185185,8.43407408 10.437037,8.89481481 10.2903704,9.37185186 C10.1333333,9.88148148 9.90962963,10.3851852 9.64444444,10.8251852 C9.37777777,11.2681482 9.08148147,11.6251852 8.78814814,11.8607407 C8.62518517,11.9911111 8.38074073,12.1481481 8.14814814,12.1481481 L7.85185186,12.1481481 C7.61925927,12.1481481 7.37481483,11.9925926 7.21185186,11.8607407 C6.91851853,11.6251852 6.62222223,11.2681481 6.35555556,10.8251852 C6.09037038,10.3837037 5.86666667,9.88148148 5.70814814,9.37037038 C5.56148147,8.89481481 5.48,8.43407408 5.48,8.07259259 L5.48,5.55555556 C5.48,4.92592594 5.72740741,4.33185186 6.17777778,3.88296297 C6.62814816,3.43259259 7.22222222,3.18518519 7.85185186,3.18518519 L8.14814814,3.18518519 M8.14814814,2 L7.85185186,2 C5.8962963,2 4.2962963,3.6 4.2962963,5.55555556 L4.2962963,8.07407408 C4.2962963,10.0296296 5.8962963,13.3333333 7.85185186,13.3333333 L8.14814814,13.3333333 C10.1037037,13.3333333 11.7037037,10.0296296 11.7037037,8.07407408 L11.7037037,5.55555556 C11.7037037,3.6 10.1037037,2 8.14814814,2 Z M12.0785185,6 L3.92148148,6 C3.23111111,6 2.66666667,6.53333333 2.66666667,7.18518519 L2.66666667,12.8148148 C2.66666667,13.4666667 3.23111111,14 3.92148148,14 L12.0785185,14 C12.7688889,14 13.3333333,13.4666667 13.3333333,12.8148148 L13.3333333,7.18518519 C13.3333333,6.53333333 12.7688889,6 12.0785185,6 Z M8.62814814,11.2 C8.62814814,11.5274074 8.34666666,11.7925926 8,11.7925926 C7.65333334,11.7925926 7.37185186,11.5274074 7.37185186,11.2 L7.37185186,9.12592592 C7.37185186,8.79851852 7.65333334,8.53333333 8,8.53333333 C8.34666666,8.53333333 8.62814814,8.79851852 8.62814814,9.12592592 L8.62814814,11.2 Z",id:"\\u5F62\\u72B6",fill:"#1890FF"}),E.a.createElement("polygon",{id:"\\u77E9\\u5F62",fill:"#FFFFFF",points:"10 5 12 4.51932905 12 6 10 6"})))))))))},se=E.a.forwardRef(function(c,u){return E.a.createElement($,W({svgRef:u},c))}),z=t.p+"static/public.026e2f76.svg"},pstV:function(ne,V,t){"use strict";t.d(V,"a",function(){return se});var re=t("q1tI"),E=t.n(re),K,M;function W(){return W=Object.assign||function(c){for(var u=1;u<arguments.length;u++){var y=arguments[u];for(var r in y)Object.prototype.hasOwnProperty.call(y,r)&&(c[r]=y[r])}return c},W.apply(this,arguments)}function L(c,u){if(c==null)return{};var y=le(c,u),r,o;if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(c);for(o=0;o<e.length;o++)r=e[o],!(u.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,r)||(y[r]=c[r]))}return y}function le(c,u){if(c==null)return{};var y={},r=Object.keys(c),o,e;for(e=0;e<r.length;e++)o=r[e],!(u.indexOf(o)>=0)&&(y[o]=c[o]);return y}var $=function(u){var y=u.svgRef,r=u.title,o=L(u,["svgRef","title"]);return E.a.createElement("svg",W({width:"12px",height:"13px",viewBox:"0 0 12 13",ref:y},o),r?E.a.createElement("title",null,r):null,K||(K=E.a.createElement("desc",null,"Created with Sketch.")),M||(M=E.a.createElement("g",{id:"\\u9996\\u9875/\\u52A0\\u5165",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},E.a.createElement("g",{id:"4-\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458-\\u9996\\u9875",transform:"translate(-863.000000, -925.000000)",fillRule:"nonzero"},E.a.createElement("g",{id:"\\u6700\\u5E38\\u4F7F\\u7528",transform:"translate(20.000000, 669.000000)"},E.a.createElement("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(20.000000, 64.000000)"},E.a.createElement("g",{id:"\\u6743\\u9650",transform:"translate(820.000000, 19.500000)"},E.a.createElement("g",{id:"\\u79C1\\u5BC6",transform:"translate(1.000000, 171.000000)"},E.a.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),E.a.createElement("path",{d:"M8.14814814,3.18518519 C8.77777777,3.18518519 9.37185184,3.43259259 9.82074073,3.88296297 C10.2711111,4.33185186 10.5185185,4.92592592 10.5185185,5.55555556 L10.5185185,8.07407408 C10.5185185,8.43407408 10.437037,8.89481481 10.2903704,9.37185186 C10.1333333,9.88148148 9.90962963,10.3851852 9.64444444,10.8251852 C9.37777777,11.2681482 9.08148147,11.6251852 8.78814814,11.8607407 C8.62518517,11.9911111 8.38074073,12.1481481 8.14814814,12.1481481 L7.85185186,12.1481481 C7.61925927,12.1481481 7.37481483,11.9925926 7.21185186,11.8607407 C6.91851853,11.6251852 6.62222223,11.2681481 6.35555556,10.8251852 C6.09037038,10.3837037 5.86666667,9.88148148 5.70814814,9.37037038 C5.56148147,8.89481481 5.48,8.43407408 5.48,8.07259259 L5.48,5.55555556 C5.48,4.92592594 5.72740741,4.33185186 6.17777778,3.88296297 C6.62814816,3.43259259 7.22222222,3.18518519 7.85185186,3.18518519 L8.14814814,3.18518519 M8.14814814,2 L7.85185186,2 C5.8962963,2 4.2962963,3.6 4.2962963,5.55555556 L4.2962963,8.07407408 C4.2962963,10.0296296 5.8962963,13.3333333 7.85185186,13.3333333 L8.14814814,13.3333333 C10.1037037,13.3333333 11.7037037,10.0296296 11.7037037,8.07407408 L11.7037037,5.55555556 C11.7037037,3.6 10.1037037,2 8.14814814,2 Z M12.0785185,6 L3.92148148,6 C3.23111111,6 2.66666667,6.53333333 2.66666667,7.18518519 L2.66666667,12.8148148 C2.66666667,13.4666667 3.23111111,14 3.92148148,14 L12.0785185,14 C12.7688889,14 13.3333333,13.4666667 13.3333333,12.8148148 L13.3333333,7.18518519 C13.3333333,6.53333333 12.7688889,6 12.0785185,6 Z M8.62814814,11.2 C8.62814814,11.5274074 8.34666666,11.7925926 8,11.7925926 C7.65333334,11.7925926 7.37185186,11.5274074 7.37185186,11.2 L7.37185186,9.12592592 C7.37185186,8.79851852 7.65333334,8.53333333 8,8.53333333 C8.34666666,8.53333333 8.62814814,8.79851852 8.62814814,9.12592592 L8.62814814,11.2 Z",id:"\\u5F62\\u72B6",fill:"#CCCCCC"})))))))))},se=E.a.forwardRef(function(c,u){return E.a.createElement($,W({svgRef:u},c))}),z=t.p+"static/no_public.39b7b7ef.svg"}}]);
