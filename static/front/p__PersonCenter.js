(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"75JX":function(e,a,t){"use strict";t.r(a);t("B9cy");var n=t("Ol7k"),r=(t("Znn+"),t("ZTPi")),c=(t("DYRE"),t("zeV3")),s=(t("+BJd"),t("mr32")),l=(t("Telt"),t("Tckk")),o=t("9og8"),i=t("tJVT"),u=t("WmNS"),m=t.n(u),p=t("q1tI"),f=t.n(p),_=(t("T2oS"),t("W9HT")),d=t("FB4D"),E=t.n(d),v=t("IHSb"),b=t("pstV"),w=t("hZgC"),h=t("LvDl"),g=t.n(h),k=(t("R9oj"),t("ECub")),y=null,C=function(e){var a=e.layoutHeight;return Object(p["useEffect"])((function(){if(y=document.querySelector("#content .ant-empty-normal"),y){var e=(a-270-40-70)/2;y.style.transform="translateY(".concat(e,"px)")}}),[]),Object(p["useEffect"])((function(){if(y){var e=(a-270-40-70)/2;y.style.transform="translateY(".concat(e,"px)")}}),[a]),f.a.createElement(k["a"],{image:k["a"].PRESENTED_IMAGE_SIMPLE})},O=(t("5Dmo"),t("3S7+")),j=function(e){var a=e.text,t=e.ellipsis,n=e.children,r=e.placement,c=Object(p["useRef"])(null),s=Object(p["useState"])(!1),l=Object(i["a"])(s,2),o=l[0],u=l[1];Object(p["useEffect"])((function(){var e=!1;if(t&&t.current){var a=t.current.clientWidth,n=t.current.scrollWidth;e=a<n,u(e)}}),[]);var m=function(){return n?f.a.cloneElement(n):a||"-"};return t?f.a.createElement(f.a.Fragment,null,o?f.a.createElement(O["a"],{placement:r||"top",title:a,overlayStyle:{wordBreak:"break-all"}},m()):m()):(t=c,f.a.createElement(f.a.Fragment,null,o?f.a.createElement(O["a"],{title:a,overlayStyle:{wordBreak:"break-all"}},f.a.createElement("span",{className:E.a.workspace_name,ref:t},a)):f.a.createElement("span",{className:E.a.workspace_name,ref:t},a)))},N=j,x=t("eRi9"),L=t("9kvl"),S=t("c+yx"),F=function(e){var a=e.workspaceList,t=e.loading,n=e.userId,r=Object(w["d"])(),s=g.a.isArray(a.workspace_list)?a.workspace_list:[],i=Object(p["useRef"])(null),u=Object(p["useRef"])(null),d=function(e){return e?e.slice(0,1):""},h=function(e){var a=e.logo;return f.a.createElement(f.a.Fragment,null,f.a.createElement("span",{className:E.a.first_colum},a?f.a.createElement(l["a"],{size:"small",className:E.a.avatar,src:a,alt:"avatar",shape:"square"}):f.a.createElement(l["a"],{size:"small",shape:"square",className:E.a.avatar,style:{backgroundColor:e.theme_color,fontSize:14,fontWeight:"bold"}},d(e.show_name))),f.a.createElement(N,{text:e.show_name||e.name,ellipsis:i,children:f.a.createElement("span",{ref:i,className:E.a.name},e.show_name||e.name)}))},k=function(){var e=Object(o["a"])(m.a.mark((function e(a,t){var r,c,s,l;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(x["i"])({ws_id:a});case 2:r=e.sent,c=r.code,s=r.msg,l=r.first_entry,200===c?l&&t===n?L["f"].push("/ws/".concat(a,"/workspace/initSuccess")):L["f"].push("/ws/".concat(a,"/dashboard")):Object(S["m"])(c,s);case 7:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),y=function(e){var a={ws_member:"workspace\u6210\u5458",ws_tester_admin:"\u6d4b\u8bd5\u7ba1\u7406\u5458",ws_admin:"\u7ba1\u7406\u5458",ws_tester:"\u6d4b\u8bd5\u4eba\u5458",ws_owner:"\u6240\u6709\u8005"};return a[e]},O=function(e){return f.a.createElement("div",{className:E.a.ws_info,key:e.id,onClick:g.a.partial(k,e.id,e.creator)},f.a.createElement("div",{className:E.a.ws_info_colum},h(e)),f.a.createElement("div",{className:E.a.ws_info_colum},f.a.createElement(N,{text:e.description,ellipsis:u,children:f.a.createElement("span",{className:E.a.ws_description,ref:u},f.a.createElement("span",{className:"".concat(E.a.text_label),style:{fontWeight:600,color:"rgba(0,0,0,0.85)"}}," \u7b80\u4ecb\uff1a "),e.description)})),f.a.createElement("div",{className:E.a.ws_info_colum},f.a.createElement(c["b"],null,f.a.createElement("span",{className:E.a.is_public},e.is_public?f.a.createElement(v["a"],null):f.a.createElement(b["a"],null)),f.a.createElement("span",{className:E.a.second_part},e.is_public?"\u516c\u5f00":"\u79c1\u5bc6")),f.a.createElement(c["b"],null,f.a.createElement("span",{style:{fontWeight:600,color:"rgba(0,0,0,0.85)"}},"\u89d2\u8272\uff1a"),f.a.createElement("span",{className:E.a.second_part},y(e.ws_role))),f.a.createElement(c["b"],null,f.a.createElement("span",{style:{fontWeight:600,color:"rgba(0,0,0,0.85)"}},"\u4eba\u6570\uff1a"),f.a.createElement("span",{className:E.a.second_part},"".concat(e.member_count,"\u4eba")))))};return f.a.createElement(_["a"],{spinning:t},f.a.createElement("div",{className:E.a.ws_content,id:"content",style:{minHeight:r-270-40}},s.length?s.map((function(e){return O(e)})):f.a.createElement(C,{layoutHeight:r})))},I=(t("+L6B"),t("2/Rp")),T=(t("Q9mQ"),t("diRs")),P=(t("miYZ"),t("tsqr")),R=(t("14J3"),t("BMrR")),W=(t("/zsF"),t("PArb")),B=(t("5NDa"),t("5rEg")),q=(t("jCWc"),t("kPKH")),z=(t("tU7J"),t("wFql")),A=function(){var e=Object(o["a"])(m.a.mark((function e(){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["h"])("/api/auth/personal_workspace/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(o["a"])(m.a.mark((function e(){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["h"])("/api/auth/personal_approve/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(o["a"])(m.a.mark((function e(a){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["h"])("/api/auth/re_apply/",{data:a,method:"post"}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),M=function(){var e=Object(o["a"])(m.a.mark((function e(){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["h"])("/api/auth/personal_token/"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(o["a"])(m.a.mark((function e(){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["h"])("/api/auth/personal_token/",{method:"put"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(o["a"])(m.a.mark((function e(a){return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(L["h"])("/api/auth/change_password/",{data:a,method:"post"}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V=function(e){var a=Object(p["useState"])(""),t=Object(i["a"])(a,2),n=t[0],r=t[1];return f.a.createElement(R["a"],null,f.a.createElement(q["a"],{span:24,style:{marginBottom:8}},f.a.createElement(c["b"],null,f.a.createElement(z["a"].Text,null,e.resonText),f.a.createElement(z["a"].Text,{disabled:!0},"(\u9009\u586b)"))),f.a.createElement(q["a"],{span:24},f.a.createElement(B["a"].TextArea,{value:n,rows:3,maxLength:200,placeholder:"join"===e.action?"\u8bf7\u8f93\u5165\u7533\u8bf7\u7406\u7531":"\u8bf7\u8f93\u5165\u6ce8\u9500\u7406\u7531",onChange:function(e){return r(e.target.value)}})),f.a.createElement(W["a"],{style:{marginTop:20,marginBottom:10}}),f.a.createElement(q["a"],{span:24},f.a.createElement(R["a"],{justify:"end"},f.a.createElement(c["b"],null,f.a.createElement(I["a"],{onClick:function(){e.handleCancel()}},"\u53d6\u6d88"),f.a.createElement(I["a"],{type:"primary",onClick:function(){return e.handleSubmit(n,r)}},"\u63d0\u4ea4\u7533\u8bf7")))))},Q=function(e){return"delete"===e?{title:"\u6ce8\u9500",resonText:"\u6ce8\u9500\u7406\u7531"}:{title:"\u7533\u8bf7\u52a0\u5165",resonText:"\u7533\u8bf7\u7406\u7531"}},K=function(e){var a=e.wsInfo.is_disabled,t=Object(p["useState"])(!1),n=Object(i["a"])(t,2),r=n[0],c=n[1],s=Object(p["useState"])(a),l=Object(i["a"])(s,2),u=l[0],_=l[1],d=function(){var a=Object(o["a"])(m.a.mark((function a(t,n){return m.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return _(!0),a.next=3,H({id:e.wsInfo.id,reason:t});case 3:P["default"].success("\u64cd\u4f5c\u6210\u529f\uff01"),e.handleTabClick("approve"),c(!1),_(!1),n("");case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),E=function(t){if(t.stopPropagation(),"create"===e.wsInfo.action)window.sessionStorage.setItem("create_ws_info",JSON.stringify(e.wsInfo)),L["f"].push("/workspace/create");else{if(a)return;c(!0)}};return a?f.a.createElement(I["a"],{disabled:u},"\u518d\u6b21\u7533\u8bf7"):f.a.createElement(T["a"],{title:Q(e.wsInfo.action).title,trigger:"click",visible:r,placement:"topLeft",onVisibleChange:function(e){return c(e)},content:f.a.createElement(V,{handleCancel:function(){return c(!1)},handleSubmit:d,action:e.wsInfo.action,resonText:Q(e.wsInfo.action).resonText})},f.a.createElement(I["a"],{disabled:u,onClick:E},"\u518d\u6b21\u7533\u8bf7"))},Y=function(e){var a=e.approveData,t=e.loading,n=e.handleTabClick,r=e.userId,i=Object(w["d"])(),u=g.a.isArray(a)?a:[];u=u.filter((function(e){return g.a.get(e,"ws_info")}));var p=function(e){switch(e){case"waiting":return f.a.createElement(s["a"],{className:E.a.stateColorFn,color:"#FF9D4E"},"\u5ba1\u6838\u4e2d");case"passed":return f.a.createElement(s["a"],{color:"#52C41A",className:E.a.stateColorFn},"\u901a\u8fc7");case"refused":return f.a.createElement(s["a"],{color:"#F5222D",className:E.a.stateColorFn},"\u62d2\u7edd");default:return f.a.createElement(f.a.Fragment,null)}},d=function(e){var a="";return"create"===e.action&&(a="\u521b\u5efa"),"delete"===e.action&&(a="\u6ce8\u9500"),"join"===e.action&&(a="\u52a0\u5165"),f.a.createElement(c["b"],null,f.a.createElement("span",{className:E.a.action}," ","".concat(a,"Workspace")," "),f.a.createElement("span",{className:E.a.show_name}," ",e.ws_info.show_name),f.a.createElement("span",{className:E.a.approv},"\u7533\u8bf7"),f.a.createElement("span",{className:E.a.status}," ",p(e.status)),f.a.createElement("span",{className:E.a.create_time}," ",e.gmt_created))},h=function(e){return e?e.slice(0,1):""},k=function(e){if("logo"===e.id){var a=e.value;return a?f.a.createElement(l["a"],{size:"small",src:a,alt:"avatar",className:E.a.avatar,shape:"square"}):f.a.createElement(l["a"],{size:"small",shape:"square",className:E.a.avatar,style:{backgroundColor:e.theme_color,fontSize:14,fontWeight:"bold"}},h(e.show_name))}if("is_public"===e.id){var t=e.value?"\u516c\u5f00":"\u4e0d\u516c\u5f00";return f.a.createElement(f.a.Fragment,null,f.a.createElement("span",{className:E.a.is_public},e.value?f.a.createElement(v["a"],null):f.a.createElement(b["a"],null)," "),t)}return f.a.createElement(N,{text:e.value})},y=function(e){var a={value:e.ws_info.logo,id:"logo",theme_color:e.ws_info.theme_color,show_name:e.ws_info.show_name};return f.a.createElement("div",{className:E.a.second_row},k(a),f.a.createElement("span",{className:E.a.text_label}," ",a.show_name," "))},O=function(e,a){return f.a.createElement("div",{className:E.a.description_box},f.a.createElement("span",{className:"".concat(E.a.text_label,"  ").concat(E.a.description_label)}," ",e,": "),f.a.createElement("div",{className:"".concat(E.a.description_value),style:{marginLeft:"\u7b80\u4ecb"===e?"44px":"72px"}},a||"-"," "))},j=function(e,a){var t=g.a.isArray(a)?a:[];return t=t.map((function(e){return f.a.createElement("li",null,f.a.createElement(c["b"],null,f.a.createElement(l["a"],{size:"small",className:E.a.avatar,src:e.avatar,alt:"avatar"}),f.a.createElement("span",null,e.user_name||"")))})),t.length&&t.unshift(f.a.createElement("li",null," ",e,": ")),f.a.createElement("ul",{className:"".concat(E.a.approve_users)},t)},F=function(e){return f.a.createElement(f.a.Fragment,null,f.a.createElement(c["b"],null,f.a.createElement("span",{className:E.a.is_public},e.ws_info.is_public?f.a.createElement(v["a"],null):f.a.createElement(b["a"],null)),f.a.createElement("span",{className:E.a.second_part},e.ws_info.is_public?"\u516c\u5f00":"\u79c1\u5bc6")),f.a.createElement(c["b"],null,f.a.createElement("span",{className:E.a.text_label},"workspace\u663e\u793a\u540d\uff1a"),f.a.createElement("span",{className:E.a.second_part},e.ws_info.show_name||"-")))},T=function(){var e=Object(o["a"])(m.a.mark((function e(a,t){var n,c,s,l;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(x["i"])({ws_id:a});case 2:n=e.sent,c=n.code,s=n.msg,l=n.first_entry,200===c?l&&t===r?L["f"].push("/ws/".concat(a,"/workspace/initSuccess")):L["f"].push("/ws/".concat(a,"/dashboard")):Object(S["m"])(c,s);case 7:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),P=function(e){var a="join"!==e.action,t=!1,r=!1;return"create"!==e.action&&"delete"!==e.action||"refused"!==e.status||(t=!0,r=!0),"join"!==e.action||"refused"!==e.status&&"passed"!==e.status||(t=!0),f.a.createElement("div",{className:E.a.approve_info,key:e.id},f.a.createElement("div",null,d(e)),f.a.createElement("div",{style:{display:a?"block":"none"}},y(e)),f.a.createElement("div",{style:{display:a?"block":"none"}},O("\u7b80\u4ecb",e.ws_info.description)),f.a.createElement("div",{style:{display:a?"block":"none"}},F(e)),f.a.createElement("div",null,O("\u7533\u8bf7\u7406\u7531",e.reason)),f.a.createElement("div",{className:"".concat(E.a.approve_info_colum," ").concat(E.a.approve_refuse_reason),style:{display:r?"block":"none"}},O("\u62d2\u7edd\u7406\u7531",e.refuse_reason)),f.a.createElement("div",{style:{display:t?"block":"none"}},O("\u5ba1\u6279\u65f6\u95f4",e.gmt_modified)),f.a.createElement("div",null,j("\u5ba1\u6279\u4eba\u5458",e.approve_users)),"refused"===e.status&&f.a.createElement(K,{handleTabClick:n,wsInfo:e}),"passed"===e.status&&"delete"!==e.action&&f.a.createElement(I["a"],{onClick:g.a.partial(T,e.ws_info.id,e.ws_info.creator)},"\u8fdb\u5165Workspace"))};return f.a.createElement(_["a"],{spinning:t},f.a.createElement("div",{className:E.a.approve_content,id:"content",style:{minHeight:i-270-40}},u.length?u.map((function(e){return P(e)})):f.a.createElement(C,{layoutHeight:i})))},G=(t("2qtc"),t("kLXV")),U=t("k1fw"),$=(t("y8nQ"),t("Vl3Y")),X=function(e,a){var t=Object(p["useState"])({}),n=Object(i["a"])(t,2),r=n[0],c=n[1],s=Object(p["useState"])(!1),l=Object(i["a"])(s,2),u=l[0],_=l[1],d=Object(L["m"])("@@initialState"),E=d.initialState,v=d.setInitialState,b=$["a"].useForm(),w=Object(i["a"])(b,1),h=w[0];Object(p["useImperativeHandle"])(a,(function(){return{show:function(){_(!0)}}}));var g=function(){h.validateFields().then(function(){var e=Object(o["a"])(m.a.mark((function e(a){var t,n,c,s;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,J(Object(U["a"])(Object(U["a"])({},a),{},{id:r}));case 2:if(t=e.sent,n=t.data,c=t.code,s=t.msg,200===c){e.next=9;break}return h.setFields([{name:"old_password",errors:[null!==s&&void 0!==s?s:n]}]),e.abrupt("return");case 9:v(Object(U["a"])(Object(U["a"])(Object(U["a"])({},E),n),{},{authList:n.user_info})),k(),P["default"].success("\u4fee\u6539\u6210\u529f");case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())},k=function(){c({}),_(!1),h.resetFields()};return f.a.createElement(G["a"],{title:"\u4fee\u6539\u767b\u5f55\u5bc6\u7801",visible:u,onCancel:k,okText:"\u786e\u5b9a",onOk:g,width:"40%"},f.a.createElement($["a"],{form:h,layout:"vertical"},f.a.createElement($["a"].Item,{label:"",name:"old_password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{pattern:/^.{6,18}$/,message:"\u5bc6\u7801\u957f\u5ea66-18\u4f4d"}]},f.a.createElement(B["a"].Password,{placeholder:"\u65e7\u5bc6\u7801"})),f.a.createElement($["a"].Item,{label:"",name:"new_password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{pattern:/^.{6,18}$/,message:"\u5bc6\u7801\u957f\u5ea66-18\u4f4d"}],hasFeedback:!0},f.a.createElement(B["a"].Password,{placeholder:"\u65b0\u5bc6\u7801"})),f.a.createElement($["a"].Item,{label:"",name:"new_password_repeat",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u786e\u8ba4\u5bc6\u7801!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t?/^.{6,18}$/.test(t)?t&&a("new_password")!==t?Promise.reject(new Error("\u786e\u8ba4\u5bc6\u7801\u4e0d\u4e00\u81f4!")):Promise.resolve():Promise.reject(new Error("\u5bc6\u7801\u957f\u5ea66-18\u4f4d")):Promise.resolve()}}}]},f.a.createElement(B["a"].Password,{placeholder:"\u786e\u8ba4\u5bc6\u7801"}))))},ee=Object(p["forwardRef"])(X),ae=!0,te=function(){for(var e="",a=0;a<32;a++)e+="*";return e},ne=function(e){var a=e.tokenData,t=e.loading,r=te(),s=Object(p["useState"])(r),l=Object(i["a"])(s,2),u=l[0],d=l[1],v=Object(w["d"])(),b=g.a.isString(a)?a:"",h=function(){u===r&&d(b)},k=function(){var e=Object(o["a"])(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ae){e.next=2;break}return e.abrupt("return");case 2:return ae=!1,e.next=5,Z();case 5:a=e.sent,t=a.data,n=a.code,200===n&&(P["default"].success({content:"\u91cd\u7f6e\u6210\u529f",onClose:function(){ae=!0},onClick:function(){ae=!0}}),d(t)),200!==n&&P["default"].error({content:"\u91cd\u7f6e\u5931\u8d25",onClose:function(){ae=!0},onClick:function(){ae=!0}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e;return null===(e=C.current)||void 0===e?void 0:e.show()},C=Object(p["useRef"])(null);return f.a.createElement(n["a"].Content,{style:{height:v-270-40},className:E.a.token_content},f.a.createElement(_["a"],{spinning:t},f.a.createElement(c["b"],{direction:"vertical",style:{width:"100%"}},f.a.createElement("div",null,f.a.createElement("div",{className:E.a.first_row},f.a.createElement("span",{className:E.a.token_label}," \u767b\u5f55\u5bc6\u7801 "),f.a.createElement("span",{className:E.a.operate}," \u64cd\u4f5c ")),f.a.createElement("div",{className:E.a.second_row},f.a.createElement("span",null,te()," "),f.a.createElement(c["b"],{align:"start"},f.a.createElement("span",{className:E.a.reset,onClick:y},"\u4fee\u6539")))),f.a.createElement("div",null,f.a.createElement("div",{className:E.a.first_row},f.a.createElement("span",{className:E.a.token_label}," Token "),f.a.createElement("span",{className:E.a.operate}," \u64cd\u4f5c ")),f.a.createElement("div",{className:E.a.second_row},f.a.createElement("span",null,u," "),f.a.createElement("div",null,f.a.createElement("span",{className:E.a.show,onClick:h},"\u67e5\u770b"),f.a.createElement("span",{className:E.a.reset,onClick:k},"\u91cd\u7f6e")))))),f.a.createElement(ee,{ref:C}))},re=t("WHYC"),ce=t("k82f"),se=t("skNQ"),le=new Map([["workspace",A],["approve",D],["tokenConfig",M]]);a["default"]=function(e){var a,t=Object(L["m"])("@@initialState"),u=t.initialState,_=u.authList,d=Object(L["k"])(),v=Object(re["g"])(),b=v.query,h=Object(w["d"])(),g=Object(p["useState"])(null!==(a=b.person)&&void 0!==a?a:"workspace"),k=Object(i["a"])(g,2),y=k[0],C=k[1],O=Object(p["useState"])([]),j=Object(i["a"])(O,2),N=j[0],x=j[1],I=Object(p["useState"])(!0),T=Object(i["a"])(I,2),P=T[0],R=T[1],W=function(){var e=Object(o["a"])(m.a.mark((function e(a){var t,n,r,c;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C(a),L["f"].replace("/personCenter?person=".concat(a)),R(!0),x([]),e.next=6,le.get(a)();case 6:t=e.sent,n=t.data,r=t.code,c=t.msg,200!==r&&Object(S["m"])(r,c),n&&x(n),R(!1);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),B=function(){var e=Object(o["a"])(m.a.mark((function e(){var a,t,n;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return R(!0),e.next=3,le.get(y)();case 3:a=e.sent,t=a.data,n=a.code,200===n&&x(t),R(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(p["useEffect"])((function(){B()}),[]);var q=function(e){var a={user:"\u666e\u901a\u7528\u6237",sys_test_admin:"\u6d4b\u8bd5\u7ba1\u7406\u5458",sys_admin:"\u7cfb\u7edf\u7ba1\u7406\u5458",super_admin:"\u8d85\u7ea7\u7ba1\u7406\u5458"};return a[e]},z={height:h-50};return f.a.createElement(ce["Scrollbars"],{style:z},f.a.createElement(n["a"].Content,{className:E.a.content},f.a.createElement("div",{className:E.a.current_user},f.a.createElement(c["b"],null,f.a.createElement("div",{className:E.a.avatar},_.avatar?f.a.createElement(l["a"],{size:"small",src:_.avatar||"",alt:"avatar",className:E.a.avatar}):f.a.createElement(se["a"],{shape:"circle",size:56,fontSize:28,theme_color:_.avatar_color,show_name:_.last_name})),f.a.createElement("div",null,f.a.createElement("div",{className:E.a.name},_.first_name||_.last_name," ",f.a.createElement(s["a"],{className:E.a.role,style:{opacity:"user"===_.sys_role_title?0:1}},q(_.sys_role_title))),f.a.createElement("div",{className:E.a.email},_.email||""," ")))),f.a.createElement(r["a"],{defaultActiveKey:y,onTabClick:W,className:E.a.tab_title,activeKey:y},f.a.createElement(r["a"].TabPane,{tab:"Workspace",key:"workspace",className:E.a.tab_item},"workspace"===y&&f.a.createElement(F,{loading:P,workspaceList:N,userId:Number(_.id)})),d.canWsAdmin()&&f.a.createElement(r["a"].TabPane,{tab:"\u6211\u7684\u7533\u8bf7",key:"approve"},"approve"===y&&f.a.createElement(Y,{loading:P,approveData:N,handleTabClick:W,userId:Number(_.id)})),f.a.createElement(r["a"].TabPane,{tab:"\u5b89\u5168\u914d\u7f6e",key:"tokenConfig"},"tokenConfig"===y&&f.a.createElement(ne,{loading:P,tokenData:N})))))}},FB4D:function(e,a,t){e.exports={content:"content___2L3FO",ws_content:"ws_content___2_seg",current_user:"current_user___1vUTA",avatar:"avatar___7G5L-",name:"name___2lluo",email:"email___1y1Lq",role:"role___1PKWs",tab_title:"tab_title___2Sm5V",ws_info:"ws_info___1UhEH",text_label:"text_label___3cSVe",ws_info_colum:"ws_info_colum___2pmwO",first_colum:"first_colum___3FpZD",ws_description:"ws_description___1sRW-",second_part:"second_part___2aHWf",approve_content:"approve_content___3IQK6",approve_info:"approve_info___rhoiG",approve_refuse_reason:"approve_refuse_reason___2atrf",second_row:"second_row___2maP-",workspace_name:"workspace_name___2QyMn",action:"action___2xTb4",approv:"approv___3IE13",show_name:"show_name___1pP6B",create_time:"create_time___3Jj_0",description_box:"description_box___3PpJz",description_value:"description_value___VEwtO",description_label:"description_label___3Z_Q2",approve_users:"approve_users___2Tvvn",token_content:"token_content___38iLa",token_label:"token_label___3rILb",operate:"operate___3lk1P",show:"show___AQt1O",reset:"reset___KLvzf",first_row:"first_row___3sSBf"}},IHSb:function(e,a,t){"use strict";t.d(a,"a",(function(){return p}));var n,r,c,s=t("q1tI"),l=t.n(s);function o(){return o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},o.apply(this,arguments)}function i(e,a){if(null==e)return{};var t,n,r=u(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function u(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}var m=function(e){var a=e.svgRef,t=e.title,s=i(e,["svgRef","title"]);return l.a.createElement("svg",o({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:a},s),void 0===t?n||(n=l.a.createElement("title",null,"\u516c\u5f00")):t?l.a.createElement("title",null,t):null,r||(r=l.a.createElement("desc",null,"Created with Sketch.")),c||(c=l.a.createElement("g",{id:"\\u9996\\u9875/\\u52A0\\u5165",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.a.createElement("g",{id:"4-\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458-\\u9996\\u9875",transform:"translate(-746.000000, -187.000000)",fillRule:"nonzero"},l.a.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(20.000000, 99.000000)"},l.a.createElement("g",{id:"\\u9009\\u9879\\u5907\\u4EFD",transform:"translate(532.000000, 56.000000)"},l.a.createElement("g",{id:"\\u9009\\u62E9\\u9879"},l.a.createElement("g",{id:"\\u516C\\u5F00",transform:"translate(192.000000, 30.000000)"},l.a.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),l.a.createElement("path",{d:"M8.14814814,3.18518519 C8.77777777,3.18518519 9.37185184,3.43259259 9.82074073,3.88296297 C10.2711111,4.33185186 10.5185185,4.92592592 10.5185185,5.55555556 L10.5185185,8.07407408 C10.5185185,8.43407408 10.437037,8.89481481 10.2903704,9.37185186 C10.1333333,9.88148148 9.90962963,10.3851852 9.64444444,10.8251852 C9.37777777,11.2681482 9.08148147,11.6251852 8.78814814,11.8607407 C8.62518517,11.9911111 8.38074073,12.1481481 8.14814814,12.1481481 L7.85185186,12.1481481 C7.61925927,12.1481481 7.37481483,11.9925926 7.21185186,11.8607407 C6.91851853,11.6251852 6.62222223,11.2681481 6.35555556,10.8251852 C6.09037038,10.3837037 5.86666667,9.88148148 5.70814814,9.37037038 C5.56148147,8.89481481 5.48,8.43407408 5.48,8.07259259 L5.48,5.55555556 C5.48,4.92592594 5.72740741,4.33185186 6.17777778,3.88296297 C6.62814816,3.43259259 7.22222222,3.18518519 7.85185186,3.18518519 L8.14814814,3.18518519 M8.14814814,2 L7.85185186,2 C5.8962963,2 4.2962963,3.6 4.2962963,5.55555556 L4.2962963,8.07407408 C4.2962963,10.0296296 5.8962963,13.3333333 7.85185186,13.3333333 L8.14814814,13.3333333 C10.1037037,13.3333333 11.7037037,10.0296296 11.7037037,8.07407408 L11.7037037,5.55555556 C11.7037037,3.6 10.1037037,2 8.14814814,2 Z M12.0785185,6 L3.92148148,6 C3.23111111,6 2.66666667,6.53333333 2.66666667,7.18518519 L2.66666667,12.8148148 C2.66666667,13.4666667 3.23111111,14 3.92148148,14 L12.0785185,14 C12.7688889,14 13.3333333,13.4666667 13.3333333,12.8148148 L13.3333333,7.18518519 C13.3333333,6.53333333 12.7688889,6 12.0785185,6 Z M8.62814814,11.2 C8.62814814,11.5274074 8.34666666,11.7925926 8,11.7925926 C7.65333334,11.7925926 7.37185186,11.5274074 7.37185186,11.2 L7.37185186,9.12592592 C7.37185186,8.79851852 7.65333334,8.53333333 8,8.53333333 C8.34666666,8.53333333 8.62814814,8.79851852 8.62814814,9.12592592 L8.62814814,11.2 Z",id:"\\u5F62\\u72B6",fill:"#1890FF"}),l.a.createElement("polygon",{id:"\\u77E9\\u5F62",fill:"#FFFFFF",points:"10 5 12 4.51932905 12 6 10 6"})))))))))},p=l.a.forwardRef((function(e,a){return l.a.createElement(m,o({svgRef:a},e))}));t.p},hkKa:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t("J4zp"),r=t.n(n),c=t("q1tI");function s(){var e=c["useReducer"]((function(e){return e+1}),0),a=r()(e,2),t=a[1];return t}},pstV:function(e,a,t){"use strict";t.d(a,"a",(function(){return m}));var n,r,c=t("q1tI"),s=t.n(c);function l(){return l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l.apply(this,arguments)}function o(e,a){if(null==e)return{};var t,n,r=i(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function i(e,a){if(null==e)return{};var t,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}var u=function(e){var a=e.svgRef,t=e.title,c=o(e,["svgRef","title"]);return s.a.createElement("svg",l({width:"12px",height:"13px",viewBox:"0 0 12 13",ref:a},c),t?s.a.createElement("title",null,t):null,n||(n=s.a.createElement("desc",null,"Created with Sketch.")),r||(r=s.a.createElement("g",{id:"\\u9996\\u9875/\\u52A0\\u5165",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},s.a.createElement("g",{id:"4-\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458-\\u9996\\u9875",transform:"translate(-863.000000, -925.000000)",fillRule:"nonzero"},s.a.createElement("g",{id:"\\u6700\\u5E38\\u4F7F\\u7528",transform:"translate(20.000000, 669.000000)"},s.a.createElement("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(20.000000, 64.000000)"},s.a.createElement("g",{id:"\\u6743\\u9650",transform:"translate(820.000000, 19.500000)"},s.a.createElement("g",{id:"\\u79C1\\u5BC6",transform:"translate(1.000000, 171.000000)"},s.a.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),s.a.createElement("path",{d:"M8.14814814,3.18518519 C8.77777777,3.18518519 9.37185184,3.43259259 9.82074073,3.88296297 C10.2711111,4.33185186 10.5185185,4.92592592 10.5185185,5.55555556 L10.5185185,8.07407408 C10.5185185,8.43407408 10.437037,8.89481481 10.2903704,9.37185186 C10.1333333,9.88148148 9.90962963,10.3851852 9.64444444,10.8251852 C9.37777777,11.2681482 9.08148147,11.6251852 8.78814814,11.8607407 C8.62518517,11.9911111 8.38074073,12.1481481 8.14814814,12.1481481 L7.85185186,12.1481481 C7.61925927,12.1481481 7.37481483,11.9925926 7.21185186,11.8607407 C6.91851853,11.6251852 6.62222223,11.2681481 6.35555556,10.8251852 C6.09037038,10.3837037 5.86666667,9.88148148 5.70814814,9.37037038 C5.56148147,8.89481481 5.48,8.43407408 5.48,8.07259259 L5.48,5.55555556 C5.48,4.92592594 5.72740741,4.33185186 6.17777778,3.88296297 C6.62814816,3.43259259 7.22222222,3.18518519 7.85185186,3.18518519 L8.14814814,3.18518519 M8.14814814,2 L7.85185186,2 C5.8962963,2 4.2962963,3.6 4.2962963,5.55555556 L4.2962963,8.07407408 C4.2962963,10.0296296 5.8962963,13.3333333 7.85185186,13.3333333 L8.14814814,13.3333333 C10.1037037,13.3333333 11.7037037,10.0296296 11.7037037,8.07407408 L11.7037037,5.55555556 C11.7037037,3.6 10.1037037,2 8.14814814,2 Z M12.0785185,6 L3.92148148,6 C3.23111111,6 2.66666667,6.53333333 2.66666667,7.18518519 L2.66666667,12.8148148 C2.66666667,13.4666667 3.23111111,14 3.92148148,14 L12.0785185,14 C12.7688889,14 13.3333333,13.4666667 13.3333333,12.8148148 L13.3333333,7.18518519 C13.3333333,6.53333333 12.7688889,6 12.0785185,6 Z M8.62814814,11.2 C8.62814814,11.5274074 8.34666666,11.7925926 8,11.7925926 C7.65333334,11.7925926 7.37185186,11.5274074 7.37185186,11.2 L7.37185186,9.12592592 C7.37185186,8.79851852 7.65333334,8.53333333 8,8.53333333 C8.34666666,8.53333333 8.62814814,8.79851852 8.62814814,9.12592592 L8.62814814,11.2 Z",id:"\\u5F62\\u72B6",fill:"#CCCCCC"})))))))))},m=s.a.forwardRef((function(e,a){return s.a.createElement(u,l({svgRef:a},e))}));t.p}}]);