(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[5634],{4328:function(Tt,fe,ve){(function(I){I(ve(4631))})(function(I){var P=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),K=I.Pos,Q={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function B(z){return z&&z.bracketRegex||/[(){}[\]]/}function X(z,U,C){var c=z.getLineHandle(U.line),S=U.ch-1,T=C&&C.afterCursor;T==null&&(T=/(^| )cm-fat-cursor($| )/.test(z.getWrapperElement().className));var b=B(C),k=!T&&S>=0&&b.test(c.text.charAt(S))&&Q[c.text.charAt(S)]||b.test(c.text.charAt(S+1))&&Q[c.text.charAt(++S)];if(!k)return null;var f=k.charAt(1)==">"?1:-1;if(C&&C.strict&&f>0!=(S==U.ch))return null;var v=z.getTokenTypeAt(K(U.line,S+1)),p=ee(z,K(U.line,S+(f>0?1:0)),f,v,C);return p==null?null:{from:K(U.line,S),to:p&&p.pos,match:p&&p.ch==k.charAt(0),forward:f>0}}function ee(z,U,C,c,S){for(var T=S&&S.maxScanLineLength||1e4,b=S&&S.maxScanLines||1e3,k=[],f=B(S),v=C>0?Math.min(U.line+b,z.lastLine()+1):Math.max(z.firstLine()-1,U.line-b),p=U.line;p!=v;p+=C){var y=z.getLine(p);if(!!y){var x=C>0?0:y.length-1,M=C>0?y.length:-1;if(!(y.length>T))for(p==U.line&&(x=U.ch-(C<0?1:0));x!=M;x+=C){var W=y.charAt(x);if(f.test(W)&&(c===void 0||(z.getTokenTypeAt(K(p,x+1))||"")==(c||""))){var N=Q[W];if(N&&N.charAt(1)==">"==C>0)k.push(W);else if(k.length)k.pop();else return{pos:K(p,x),ch:W}}}}}return p-C==(C>0?z.lastLine():z.firstLine())?!1:null}function xe(z,U,C){for(var c=z.state.matchBrackets.maxHighlightLineLength||1e3,S=C&&C.highlightNonMatching,T=[],b=z.listSelections(),k=0;k<b.length;k++){var f=b[k].empty()&&X(z,b[k].head,C);if(f&&(f.match||S!==!1)&&z.getLine(f.from.line).length<=c){var v=f.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";T.push(z.markText(f.from,K(f.from.line,f.from.ch+1),{className:v})),f.to&&z.getLine(f.to.line).length<=c&&T.push(z.markText(f.to,K(f.to.line,f.to.ch+1),{className:v}))}}if(T.length){P&&z.state.focused&&z.focus();var p=function(){z.operation(function(){for(var y=0;y<T.length;y++)T[y].clear()})};if(U)setTimeout(p,800);else return p}}function ce(z){z.operation(function(){z.state.matchBrackets.currentlyHighlighted&&(z.state.matchBrackets.currentlyHighlighted(),z.state.matchBrackets.currentlyHighlighted=null),z.state.matchBrackets.currentlyHighlighted=xe(z,!1,z.state.matchBrackets)})}function He(z){z.state.matchBrackets&&z.state.matchBrackets.currentlyHighlighted&&(z.state.matchBrackets.currentlyHighlighted(),z.state.matchBrackets.currentlyHighlighted=null)}I.defineOption("matchBrackets",!1,function(z,U,C){C&&C!=I.Init&&(z.off("cursorActivity",ce),z.off("focus",ce),z.off("blur",He),He(z)),U&&(z.state.matchBrackets=typeof U=="object"?U:{},z.on("cursorActivity",ce),z.on("focus",ce),z.on("blur",He))}),I.defineExtension("matchBrackets",function(){xe(this,!0)}),I.defineExtension("findMatchingBracket",function(z,U,C){return(C||typeof U=="boolean")&&(C?(C.strict=U,U=C):U=U?{strict:!0}:null),X(this,z,U)}),I.defineExtension("scanForBracket",function(z,U,C,c){return ee(this,z,U,C,c)})})},32095:function(Tt,fe,ve){(function(I){I(ve(4631))})(function(I){"use strict";var P=I.Pos;function K(b){var k=b.flags;return k!=null?k:(b.ignoreCase?"i":"")+(b.global?"g":"")+(b.multiline?"m":"")}function Q(b,k){for(var f=K(b),v=f,p=0;p<k.length;p++)v.indexOf(k.charAt(p))==-1&&(v+=k.charAt(p));return f==v?b:new RegExp(b.source,v)}function B(b){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(b.source)}function X(b,k,f){k=Q(k,"g");for(var v=f.line,p=f.ch,y=b.lastLine();v<=y;v++,p=0){k.lastIndex=p;var x=b.getLine(v),M=k.exec(x);if(M)return{from:P(v,M.index),to:P(v,M.index+M[0].length),match:M}}}function ee(b,k,f){if(!B(k))return X(b,k,f);k=Q(k,"gm");for(var v,p=1,y=f.line,x=b.lastLine();y<=x;){for(var M=0;M<p&&!(y>x);M++){var W=b.getLine(y++);v=v==null?W:v+`
`+W}p=p*2,k.lastIndex=f.ch;var N=k.exec(v);if(N){var R=v.slice(0,N.index).split(`
`),O=N[0].split(`
`),te=f.line+R.length-1,J=R[R.length-1].length;return{from:P(te,J),to:P(te+O.length-1,O.length==1?J+O[0].length:O[O.length-1].length),match:N}}}}function xe(b,k,f){for(var v,p=0;p<=b.length;){k.lastIndex=p;var y=k.exec(b);if(!y)break;var x=y.index+y[0].length;if(x>b.length-f)break;(!v||x>v.index+v[0].length)&&(v=y),p=y.index+1}return v}function ce(b,k,f){k=Q(k,"g");for(var v=f.line,p=f.ch,y=b.firstLine();v>=y;v--,p=-1){var x=b.getLine(v),M=xe(x,k,p<0?0:x.length-p);if(M)return{from:P(v,M.index),to:P(v,M.index+M[0].length),match:M}}}function He(b,k,f){if(!B(k))return ce(b,k,f);k=Q(k,"gm");for(var v,p=1,y=b.getLine(f.line).length-f.ch,x=f.line,M=b.firstLine();x>=M;){for(var W=0;W<p&&x>=M;W++){var N=b.getLine(x--);v=v==null?N:N+`
`+v}p*=2;var R=xe(v,k,y);if(R){var O=v.slice(0,R.index).split(`
`),te=R[0].split(`
`),J=x+O.length,ae=O[O.length-1].length;return{from:P(J,ae),to:P(J+te.length-1,te.length==1?ae+te[0].length:te[te.length-1].length),match:R}}}}var z,U;String.prototype.normalize?(z=function(b){return b.normalize("NFD").toLowerCase()},U=function(b){return b.normalize("NFD")}):(z=function(b){return b.toLowerCase()},U=function(b){return b});function C(b,k,f,v){if(b.length==k.length)return f;for(var p=0,y=f+Math.max(0,b.length-k.length);;){if(p==y)return p;var x=p+y>>1,M=v(b.slice(0,x)).length;if(M==f)return x;M>f?y=x:p=x+1}}function c(b,k,f,v){if(!k.length)return null;var p=v?z:U,y=p(k).split(/\r|\n\r?/);e:for(var x=f.line,M=f.ch,W=b.lastLine()+1-y.length;x<=W;x++,M=0){var N=b.getLine(x).slice(M),R=p(N);if(y.length==1){var O=R.indexOf(y[0]);if(O==-1)continue e;var f=C(N,R,O,p)+M;return{from:P(x,C(N,R,O,p)+M),to:P(x,C(N,R,O+y[0].length,p)+M)}}else{var te=R.length-y[0].length;if(R.slice(te)!=y[0])continue e;for(var J=1;J<y.length-1;J++)if(p(b.getLine(x+J))!=y[J])continue e;var ae=b.getLine(x+y.length-1),se=p(ae),Ce=y[y.length-1];if(se.slice(0,Ce.length)!=Ce)continue e;return{from:P(x,C(N,R,te,p)+M),to:P(x+y.length-1,C(ae,se,Ce.length,p))}}}}function S(b,k,f,v){if(!k.length)return null;var p=v?z:U,y=p(k).split(/\r|\n\r?/);e:for(var x=f.line,M=f.ch,W=b.firstLine()-1+y.length;x>=W;x--,M=-1){var N=b.getLine(x);M>-1&&(N=N.slice(0,M));var R=p(N);if(y.length==1){var O=R.lastIndexOf(y[0]);if(O==-1)continue e;return{from:P(x,C(N,R,O,p)),to:P(x,C(N,R,O+y[0].length,p))}}else{var te=y[y.length-1];if(R.slice(0,te.length)!=te)continue e;for(var J=1,f=x-y.length+1;J<y.length-1;J++)if(p(b.getLine(f+J))!=y[J])continue e;var ae=b.getLine(x+1-y.length),se=p(ae);if(se.slice(se.length-y[0].length)!=y[0])continue e;return{from:P(x+1-y.length,C(ae,se,ae.length-y[0].length,p)),to:P(x,C(N,R,te.length,p))}}}}function T(b,k,f,v){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=b,f=f?b.clipPos(f):P(0,0),this.pos={from:f,to:f};var p;typeof v=="object"?p=v.caseFold:(p=v,v=null),typeof k=="string"?(p==null&&(p=!1),this.matches=function(y,x){return(y?S:c)(b,k,x,p)}):(k=Q(k,"gm"),!v||v.multiline!==!1?this.matches=function(y,x){return(y?He:ee)(b,k,x)}:this.matches=function(y,x){return(y?ce:X)(b,k,x)})}T.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(b){var k=this.doc.clipPos(b?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(k=P(k.line,k.ch),b?(k.ch--,k.ch<0&&(k.line--,k.ch=(this.doc.getLine(k.line)||"").length)):(k.ch++,k.ch>(this.doc.getLine(k.line)||"").length&&(k.ch=0,k.line++)),I.cmpPos(k,this.doc.clipPos(k))!=0))return this.atOccurrence=!1;var f=this.matches(b,k);if(this.afterEmptyMatch=f&&I.cmpPos(f.from,f.to)==0,f)return this.pos=f,this.atOccurrence=!0,this.pos.match||!0;var v=P(b?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:v,to:v},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(b,k){if(!!this.atOccurrence){var f=I.splitLines(b);this.doc.replaceRange(f,this.pos.from,this.pos.to,k),this.pos.to=P(this.pos.from.line+f.length-1,f[f.length-1].length+(f.length==1?this.pos.from.ch:0))}}},I.defineExtension("getSearchCursor",function(b,k,f){return new T(this.doc,b,k,f)}),I.defineDocExtension("getSearchCursor",function(b,k,f){return new T(this,b,k,f)}),I.defineExtension("selectMatches",function(b,k){for(var f=[],v=this.getSearchCursor(b,this.getCursor("from"),k);v.findNext()&&!(I.cmpPos(v.to(),this.getCursor("to"))>0);)f.push({anchor:v.from(),head:v.to()});f.length&&this.setSelections(f,0)})})},23412:function(Tt,fe,ve){(function(I){I(ve(4631),ve(32095),ve(4328))})(function(I){"use strict";var P=I.commands,K=I.Pos;function Q(f,v,p){if(p<0&&v.ch==0)return f.clipPos(K(v.line-1));var y=f.getLine(v.line);if(p>0&&v.ch>=y.length)return f.clipPos(K(v.line+1,0));for(var x="start",M,W=v.ch,N=W,R=p<0?0:y.length,O=0;N!=R;N+=p,O++){var te=y.charAt(p<0?N-1:N),J=te!="_"&&I.isWordChar(te)?"w":"o";if(J=="w"&&te.toUpperCase()==te&&(J="W"),x=="start")J!="o"?(x="in",M=J):W=N+p;else if(x=="in"&&M!=J){if(M=="w"&&J=="W"&&p<0&&N--,M=="W"&&J=="w"&&p>0)if(N==W+1){M="w";continue}else N--;break}}return K(v.line,N)}function B(f,v){f.extendSelectionsBy(function(p){return f.display.shift||f.doc.extend||p.empty()?Q(f.doc,p.head,v):v<0?p.from():p.to()})}P.goSubwordLeft=function(f){B(f,-1)},P.goSubwordRight=function(f){B(f,1)},P.scrollLineUp=function(f){var v=f.getScrollInfo();if(!f.somethingSelected()){var p=f.lineAtHeight(v.top+v.clientHeight,"local");f.getCursor().line>=p&&f.execCommand("goLineUp")}f.scrollTo(null,v.top-f.defaultTextHeight())},P.scrollLineDown=function(f){var v=f.getScrollInfo();if(!f.somethingSelected()){var p=f.lineAtHeight(v.top,"local")+1;f.getCursor().line<=p&&f.execCommand("goLineDown")}f.scrollTo(null,v.top+f.defaultTextHeight())},P.splitSelectionByLine=function(f){for(var v=f.listSelections(),p=[],y=0;y<v.length;y++)for(var x=v[y].from(),M=v[y].to(),W=x.line;W<=M.line;++W)M.line>x.line&&W==M.line&&M.ch==0||p.push({anchor:W==x.line?x:K(W,0),head:W==M.line?M:K(W)});f.setSelections(p,0)},P.singleSelectionTop=function(f){var v=f.listSelections()[0];f.setSelection(v.anchor,v.head,{scroll:!1})},P.selectLine=function(f){for(var v=f.listSelections(),p=[],y=0;y<v.length;y++){var x=v[y];p.push({anchor:K(x.from().line,0),head:K(x.to().line+1,0)})}f.setSelections(p)};function X(f,v){if(f.isReadOnly())return I.Pass;f.operation(function(){for(var p=f.listSelections().length,y=[],x=-1,M=0;M<p;M++){var W=f.listSelections()[M].head;if(!(W.line<=x)){var N=K(W.line+(v?0:1),0);f.replaceRange(`
`,N,null,"+insertLine"),f.indentLine(N.line,null,!0),y.push({head:N,anchor:N}),x=W.line+1}}f.setSelections(y)}),f.execCommand("indentAuto")}P.insertLineAfter=function(f){return X(f,!1)},P.insertLineBefore=function(f){return X(f,!0)};function ee(f,v){for(var p=v.ch,y=p,x=f.getLine(v.line);p&&I.isWordChar(x.charAt(p-1));)--p;for(;y<x.length&&I.isWordChar(x.charAt(y));)++y;return{from:K(v.line,p),to:K(v.line,y),word:x.slice(p,y)}}P.selectNextOccurrence=function(f){var v=f.getCursor("from"),p=f.getCursor("to"),y=f.state.sublimeFindFullWord==f.doc.sel;if(I.cmpPos(v,p)==0){var x=ee(f,v);if(!x.word)return;f.setSelection(x.from,x.to),y=!0}else{var M=f.getRange(v,p),W=y?new RegExp("\\b"+M+"\\b"):M,N=f.getSearchCursor(W,p),R=N.findNext();if(R||(N=f.getSearchCursor(W,K(f.firstLine(),0)),R=N.findNext()),!R||ce(f.listSelections(),N.from(),N.to()))return;f.addSelection(N.from(),N.to())}y&&(f.state.sublimeFindFullWord=f.doc.sel)},P.skipAndSelectNextOccurrence=function(f){var v=f.getCursor("anchor"),p=f.getCursor("head");P.selectNextOccurrence(f),I.cmpPos(v,p)!=0&&f.doc.setSelections(f.doc.listSelections().filter(function(y){return y.anchor!=v||y.head!=p}))};function xe(f,v){for(var p=f.listSelections(),y=[],x=0;x<p.length;x++){var M=p[x],W=f.findPosV(M.anchor,v,"line",M.anchor.goalColumn),N=f.findPosV(M.head,v,"line",M.head.goalColumn);W.goalColumn=M.anchor.goalColumn!=null?M.anchor.goalColumn:f.cursorCoords(M.anchor,"div").left,N.goalColumn=M.head.goalColumn!=null?M.head.goalColumn:f.cursorCoords(M.head,"div").left;var R={anchor:W,head:N};y.push(M),y.push(R)}f.setSelections(y)}P.addCursorToPrevLine=function(f){xe(f,-1)},P.addCursorToNextLine=function(f){xe(f,1)};function ce(f,v,p){for(var y=0;y<f.length;y++)if(I.cmpPos(f[y].from(),v)==0&&I.cmpPos(f[y].to(),p)==0)return!0;return!1}var He="(){}[]";function z(f){for(var v=f.listSelections(),p=[],y=0;y<v.length;y++){var x=v[y],M=x.head,W=f.scanForBracket(M,-1);if(!W)return!1;for(;;){var N=f.scanForBracket(M,1);if(!N)return!1;if(N.ch==He.charAt(He.indexOf(W.ch)+1)){var R=K(W.pos.line,W.pos.ch+1);if(I.cmpPos(R,x.from())==0&&I.cmpPos(N.pos,x.to())==0){if(W=f.scanForBracket(W.pos,-1),!W)return!1}else{p.push({anchor:R,head:N.pos});break}}M=K(N.pos.line,N.pos.ch+1)}}return f.setSelections(p),!0}P.selectScope=function(f){z(f)||f.execCommand("selectAll")},P.selectBetweenBrackets=function(f){if(!z(f))return I.Pass};function U(f){return f?/\bpunctuation\b/.test(f)?f:void 0:null}P.goToBracket=function(f){f.extendSelectionsBy(function(v){var p=f.scanForBracket(v.head,1,U(f.getTokenTypeAt(v.head)));if(p&&I.cmpPos(p.pos,v.head)!=0)return p.pos;var y=f.scanForBracket(v.head,-1,U(f.getTokenTypeAt(K(v.head.line,v.head.ch+1))));return y&&K(y.pos.line,y.pos.ch+1)||v.head})},P.swapLineUp=function(f){if(f.isReadOnly())return I.Pass;for(var v=f.listSelections(),p=[],y=f.firstLine()-1,x=[],M=0;M<v.length;M++){var W=v[M],N=W.from().line-1,R=W.to().line;x.push({anchor:K(W.anchor.line-1,W.anchor.ch),head:K(W.head.line-1,W.head.ch)}),W.to().ch==0&&!W.empty()&&--R,N>y?p.push(N,R):p.length&&(p[p.length-1]=R),y=R}f.operation(function(){for(var O=0;O<p.length;O+=2){var te=p[O],J=p[O+1],ae=f.getLine(te);f.replaceRange("",K(te,0),K(te+1,0),"+swapLine"),J>f.lastLine()?f.replaceRange(`
`+ae,K(f.lastLine()),null,"+swapLine"):f.replaceRange(ae+`
`,K(J,0),null,"+swapLine")}f.setSelections(x),f.scrollIntoView()})},P.swapLineDown=function(f){if(f.isReadOnly())return I.Pass;for(var v=f.listSelections(),p=[],y=f.lastLine()+1,x=v.length-1;x>=0;x--){var M=v[x],W=M.to().line+1,N=M.from().line;M.to().ch==0&&!M.empty()&&W--,W<y?p.push(W,N):p.length&&(p[p.length-1]=N),y=N}f.operation(function(){for(var R=p.length-2;R>=0;R-=2){var O=p[R],te=p[R+1],J=f.getLine(O);O==f.lastLine()?f.replaceRange("",K(O-1),K(O),"+swapLine"):f.replaceRange("",K(O,0),K(O+1,0),"+swapLine"),f.replaceRange(J+`
`,K(te,0),null,"+swapLine")}f.scrollIntoView()})},P.toggleCommentIndented=function(f){f.toggleComment({indent:!0})},P.joinLines=function(f){for(var v=f.listSelections(),p=[],y=0;y<v.length;y++){for(var x=v[y],M=x.from(),W=M.line,N=x.to().line;y<v.length-1&&v[y+1].from().line==N;)N=v[++y].to().line;p.push({start:W,end:N,anchor:!x.empty()&&M})}f.operation(function(){for(var R=0,O=[],te=0;te<p.length;te++){for(var J=p[te],ae=J.anchor&&K(J.anchor.line-R,J.anchor.ch),se,Ce=J.start;Ce<=J.end;Ce++){var Xe=Ce-R;Ce==J.end&&(se=K(Xe,f.getLine(Xe).length+1)),Xe<f.lastLine()&&(f.replaceRange(" ",K(Xe),K(Xe+1,/^\s*/.exec(f.getLine(Xe+1))[0].length)),++R)}O.push({anchor:ae||se,head:se})}f.setSelections(O,0)})},P.duplicateLine=function(f){f.operation(function(){for(var v=f.listSelections().length,p=0;p<v;p++){var y=f.listSelections()[p];y.empty()?f.replaceRange(f.getLine(y.head.line)+`
`,K(y.head.line,0)):f.replaceRange(f.getRange(y.from(),y.to()),y.from())}f.scrollIntoView()})};function C(f,v,p){if(f.isReadOnly())return I.Pass;for(var y=f.listSelections(),x=[],M,W=0;W<y.length;W++){var N=y[W];if(!N.empty()){for(var R=N.from().line,O=N.to().line;W<y.length-1&&y[W+1].from().line==O;)O=y[++W].to().line;y[W].to().ch||O--,x.push(R,O)}}x.length?M=!0:x.push(f.firstLine(),f.lastLine()),f.operation(function(){for(var te=[],J=0;J<x.length;J+=2){var ae=x[J],se=x[J+1],Ce=K(ae,0),Xe=K(se),at=f.getRange(Ce,Xe,!1);v?at.sort(function(Ye,_e){return Ye<_e?-p:Ye==_e?0:p}):at.sort(function(Ye,_e){var tt=Ye.toUpperCase(),Mt=_e.toUpperCase();return tt!=Mt&&(Ye=tt,_e=Mt),Ye<_e?-p:Ye==_e?0:p}),f.replaceRange(at,Ce,Xe),M&&te.push({anchor:Ce,head:K(se+1,0)})}M&&f.setSelections(te,0)})}P.sortLines=function(f){C(f,!0,1)},P.reverseSortLines=function(f){C(f,!0,-1)},P.sortLinesInsensitive=function(f){C(f,!1,1)},P.reverseSortLinesInsensitive=function(f){C(f,!1,-1)},P.nextBookmark=function(f){var v=f.state.sublimeBookmarks;if(v)for(;v.length;){var p=v.shift(),y=p.find();if(y)return v.push(p),f.setSelection(y.from,y.to)}},P.prevBookmark=function(f){var v=f.state.sublimeBookmarks;if(v)for(;v.length;){v.unshift(v.pop());var p=v[v.length-1].find();if(!p)v.pop();else return f.setSelection(p.from,p.to)}},P.toggleBookmark=function(f){for(var v=f.listSelections(),p=f.state.sublimeBookmarks||(f.state.sublimeBookmarks=[]),y=0;y<v.length;y++){for(var x=v[y].from(),M=v[y].to(),W=v[y].empty()?f.findMarksAt(x):f.findMarks(x,M),N=0;N<W.length;N++)if(W[N].sublimeBookmark){W[N].clear();for(var R=0;R<p.length;R++)p[R]==W[N]&&p.splice(R--,1);break}N==W.length&&p.push(f.markText(x,M,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},P.clearBookmarks=function(f){var v=f.state.sublimeBookmarks;if(v)for(var p=0;p<v.length;p++)v[p].clear();v.length=0},P.selectBookmarks=function(f){var v=f.state.sublimeBookmarks,p=[];if(v)for(var y=0;y<v.length;y++){var x=v[y].find();x?p.push({anchor:x.from,head:x.to}):v.splice(y--,0)}p.length&&f.setSelections(p,0)};function c(f,v){f.operation(function(){for(var p=f.listSelections(),y=[],x=[],M=0;M<p.length;M++){var W=p[M];W.empty()?(y.push(M),x.push("")):x.push(v(f.getRange(W.from(),W.to())))}f.replaceSelections(x,"around","case");for(var M=y.length-1,N;M>=0;M--){var W=p[y[M]];if(!(N&&I.cmpPos(W.head,N)>0)){var R=ee(f,W.head);N=R.from,f.replaceRange(v(R.word),R.from,R.to)}}})}P.smartBackspace=function(f){if(f.somethingSelected())return I.Pass;f.operation(function(){for(var v=f.listSelections(),p=f.getOption("indentUnit"),y=v.length-1;y>=0;y--){var x=v[y].head,M=f.getRange({line:x.line,ch:0},x),W=I.countColumn(M,null,f.getOption("tabSize")),N=f.findPosH(x,-1,"char",!1);if(M&&!/\S/.test(M)&&W%p==0){var R=new K(x.line,I.findColumn(M,W-p,p));R.ch!=x.ch&&(N=R)}f.replaceRange("",N,x,"+delete")}})},P.delLineRight=function(f){f.operation(function(){for(var v=f.listSelections(),p=v.length-1;p>=0;p--)f.replaceRange("",v[p].anchor,K(v[p].to().line),"+delete");f.scrollIntoView()})},P.upcaseAtCursor=function(f){c(f,function(v){return v.toUpperCase()})},P.downcaseAtCursor=function(f){c(f,function(v){return v.toLowerCase()})},P.setSublimeMark=function(f){f.state.sublimeMark&&f.state.sublimeMark.clear(),f.state.sublimeMark=f.setBookmark(f.getCursor())},P.selectToSublimeMark=function(f){var v=f.state.sublimeMark&&f.state.sublimeMark.find();v&&f.setSelection(f.getCursor(),v)},P.deleteToSublimeMark=function(f){var v=f.state.sublimeMark&&f.state.sublimeMark.find();if(v){var p=f.getCursor(),y=v;if(I.cmpPos(p,y)>0){var x=y;y=p,p=x}f.state.sublimeKilled=f.getRange(p,y),f.replaceRange("",p,y)}},P.swapWithSublimeMark=function(f){var v=f.state.sublimeMark&&f.state.sublimeMark.find();v&&(f.state.sublimeMark.clear(),f.state.sublimeMark=f.setBookmark(f.getCursor()),f.setCursor(v))},P.sublimeYank=function(f){f.state.sublimeKilled!=null&&f.replaceSelection(f.state.sublimeKilled,null,"paste")},P.showInCenter=function(f){var v=f.cursorCoords(null,"local");f.scrollTo(null,(v.top+v.bottom)/2-f.getScrollInfo().clientHeight/2)};function S(f){var v=f.getCursor("from"),p=f.getCursor("to");if(I.cmpPos(v,p)==0){var y=ee(f,v);if(!y.word)return;v=y.from,p=y.to}return{from:v,to:p,query:f.getRange(v,p),word:y}}function T(f,v){var p=S(f);if(!!p){var y=p.query,x=f.getSearchCursor(y,v?p.to:p.from);(v?x.findNext():x.findPrevious())?f.setSelection(x.from(),x.to()):(x=f.getSearchCursor(y,v?K(f.firstLine(),0):f.clipPos(K(f.lastLine()))),(v?x.findNext():x.findPrevious())?f.setSelection(x.from(),x.to()):p.word&&f.setSelection(p.from,p.to))}}P.findUnder=function(f){T(f,!0)},P.findUnderPrevious=function(f){T(f,!1)},P.findAllUnder=function(f){var v=S(f);if(!!v){for(var p=f.getSearchCursor(v.query),y=[],x=-1;p.findNext();)y.push({anchor:p.from(),head:p.to()}),p.from().line<=v.from.line&&p.from().ch<=v.from.ch&&x++;f.setSelections(y,x)}};var b=I.keyMap;b.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},I.normalizeKeyMap(b.macSublime),b.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},I.normalizeKeyMap(b.pcSublime);var k=b.default==b.macDefault;b.sublime=k?b.macSublime:b.pcSublime})},4631:function(Tt){(function(fe,ve){Tt.exports=ve()})(this,function(){"use strict";var fe=navigator.userAgent,ve=navigator.platform,I=/gecko\/\d/i.test(fe),P=/MSIE \d/.test(fe),K=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fe),Q=/Edge\/(\d+)/.exec(fe),B=P||K||Q,X=B&&(P?document.documentMode||6:+(Q||K)[1]),ee=!Q&&/WebKit\//.test(fe),xe=ee&&/Qt\/\d+\.\d+/.test(fe),ce=!Q&&/Chrome\/(\d+)/.exec(fe),He=ce&&+ce[1],z=/Opera\//.test(fe),U=/Apple Computer/.test(navigator.vendor),C=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(fe),c=/PhantomJS/.test(fe),S=U&&(/Mobile\/\w+/.test(fe)||navigator.maxTouchPoints>2),T=/Android/.test(fe),b=S||T||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(fe),k=S||/Mac/.test(ve),f=/\bCrOS\b/.test(fe),v=/win/i.test(ve),p=z&&fe.match(/Version\/(\d*\.\d*)/);p&&(p=Number(p[1])),p&&p>=15&&(z=!1,ee=!0);var y=k&&(xe||z&&(p==null||p<12.11)),x=I||B&&X>=9;function M(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var W=function(e,t){var n=e.className,r=M(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function N(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function R(e,t){return N(e).appendChild(t)}function O(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function te(e,t,n,r){var i=O(e,t,n,r);return i.setAttribute("role","presentation"),i}var J;document.createRange?J=function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:J=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};function ae(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function se(e){var t=e.ownerDocument||e,n;try{n=e.activeElement}catch(r){n=t.body||null}for(;n&&n.shadowRoot&&n.shadowRoot.activeElement;)n=n.shadowRoot.activeElement;return n}function Ce(e,t){var n=e.className;M(t).test(n)||(e.className+=(n?" ":"")+t)}function Xe(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!M(n[r]).test(t)&&(t+=" "+n[r]);return t}var at=function(e){e.select()};S?at=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:B&&(at=function(e){try{e.select()}catch(t){}});function Ye(e){return e.display.wrapper.ownerDocument}function _e(e){return tt(e.display.wrapper)}function tt(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function Mt(e){return Ye(e).defaultView}function Mn(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Dt(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function Je(e,t,n,r,i){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=r||0,l=i||0;;){var s=e.indexOf("	",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=n-l%n,o=s+1}}var gt=function(){this.id=null,this.f=null,this.time=0,this.handler=Mn(this.onTimeout,this)};gt.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},gt.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};function Oe(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}var zi=50,Kr={toString:function(){return"CodeMirror.Pass"}},rt={scroll:!1},Dn={origin:"*mouse"},fr={origin:"+move"};function An(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);o==-1&&(o=e.length);var l=o-r;if(o==e.length||i+l>=t)return r+Math.min(l,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}var Gr=[""];function On(e){for(;Gr.length<=e;)Gr.push(ne(Gr)+" ");return Gr[e]}function ne(e){return e[e.length-1]}function Xr(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Ql(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function Ui(){}function _i(e,t){var n;return Object.create?n=Object.create(e):(Ui.prototype=e,n=new Ui),t&&Dt(t,n),n}var jl=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Nn(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||jl.test(e))}function Yr(e,t){return t?t.source.indexOf("\\w")>-1&&Nn(e)?!0:t.test(e):Nn(e)}function Ki(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var Vl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Wn(e){return e.charCodeAt(0)>=768&&Vl.test(e)}function Gi(e,t,n){for(;(n<0?t>0:t<e.length)&&Wn(e.charAt(t));)t+=n;return t}function hr(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}function $l(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<n&&l.to>t||t==n&&l.to==t)&&(r(Math.max(l.from,t),Math.min(l.to,n),l.level==1?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}var cr=null;function dr(e,t,n){var r;cr=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&n=="before"?r=i:cr=i),o.from==t&&(o.from!=o.to&&n!="before"?r=i:cr=i)}return r!=null?r:cr}var es=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(u){return u<=247?e.charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?t.charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":u==8204?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,l=/[Lb1n]/,s=/[1n]/;function a(u,h,d){this.level=u,this.from=h,this.to=d}return function(u,h){var d=h=="ltr"?"L":"R";if(u.length==0||h=="ltr"&&!r.test(u))return!1;for(var m=u.length,g=[],w=0;w<m;++w)g.push(n(u.charCodeAt(w)));for(var L=0,A=d;L<m;++L){var H=g[L];H=="m"?g[L]=A:A=H}for(var E=0,F=d;E<m;++E){var _=g[E];_=="1"&&F=="r"?g[E]="n":o.test(_)&&(F=_,_=="r"&&(g[E]="R"))}for(var Z=1,Y=g[0];Z<m-1;++Z){var $=g[Z];$=="+"&&Y=="1"&&g[Z+1]=="1"?g[Z]="1":$==","&&Y==g[Z+1]&&(Y=="1"||Y=="n")&&(g[Z]=Y),Y=$}for(var le=0;le<m;++le){var Me=g[le];if(Me==",")g[le]="N";else if(Me=="%"){var he=void 0;for(he=le+1;he<m&&g[he]=="%";++he);for(var Ge=le&&g[le-1]=="!"||he<m&&g[he]=="1"?"1":"N",Ie=le;Ie<he;++Ie)g[Ie]=Ge;le=he-1}}for(var me=0,ze=d;me<m;++me){var Ae=g[me];ze=="L"&&Ae=="1"?g[me]="L":o.test(Ae)&&(ze=Ae)}for(var Se=0;Se<m;++Se)if(i.test(g[Se])){var be=void 0;for(be=Se+1;be<m&&i.test(g[be]);++be);for(var de=(Se?g[Se-1]:d)=="L",Ue=(be<m?g[be]:d)=="L",ar=de==Ue?de?"L":"R":d,Lt=Se;Lt<be;++Lt)g[Lt]=ar;Se=be-1}for(var We=[],st,De=0;De<m;)if(l.test(g[De])){var Ri=De;for(++De;De<m&&l.test(g[De]);++De);We.push(new a(0,Ri,De))}else{var vt=De,zt=We.length,Ut=h=="rtl"?1:0;for(++De;De<m&&g[De]!="L";++De);for(var Pe=vt;Pe<De;)if(s.test(g[Pe])){vt<Pe&&(We.splice(zt,0,new a(1,vt,Pe)),zt+=Ut);var ur=Pe;for(++Pe;Pe<De&&s.test(g[Pe]);++Pe);We.splice(zt,0,new a(2,ur,Pe)),zt+=Ut,vt=Pe}else++Pe;vt<De&&We.splice(zt,0,new a(1,vt,De))}return h=="ltr"&&(We[0].level==1&&(st=u.match(/^\s+/))&&(We[0].from=st[0].length,We.unshift(new a(0,0,st[0].length))),ne(We).level==1&&(st=u.match(/\s+$/))&&(ne(We).to-=st[0].length,We.push(new a(0,m-st[0].length,m)))),h=="rtl"?We.reverse():We}}();function ut(e,t){var n=e.order;return n==null&&(n=e.order=es(e.text,t)),n}var Xi=[],q=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||Xi).concat(n)}};function Hn(e,t){return e._handlers&&e._handlers[t]||Xi}function Ze(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=Oe(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function ge(e,t){var n=Hn(e,t);if(!!n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function we(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ge(e,n||t.type,e,t),Fn(t)||t.codemirrorIgnore}function Yi(e){var t=e._handlers&&e._handlers.cursorActivity;if(!!t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)Oe(n,t[r])==-1&&n.push(t[r])}function Qe(e,t){return Hn(e,t).length>0}function _t(e){e.prototype.on=function(t,n){q(this,t,n)},e.prototype.off=function(t,n){Ze(this,t,n)}}function Be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Zi(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Fn(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function pr(e){Be(e),Zi(e)}function Pn(e){return e.target||e.srcElement}function qi(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),k&&e.ctrlKey&&t==1&&(t=3),t}var ts=function(){if(B&&X<9)return!1;var e=O("div");return"draggable"in e||"dragDrop"in e}(),Bn;function rs(e){if(Bn==null){var t=O("span","\u200B");R(e,O("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Bn=t.offsetWidth<=1&&t.offsetHeight>2&&!(B&&X<8))}var n=Bn?O("span","\u200B"):O("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var En;function ns(e){if(En!=null)return En;var t=R(e,document.createTextNode("A\u062EA")),n=J(t,0,1).getBoundingClientRect(),r=J(t,1,2).getBoundingClientRect();return N(e),!n||n.left==n.right?!1:En=r.right-n.right<3}var Rn=`

b`.split(/\n/).length!=3?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf(`
`,t);i==-1&&(i=e.length);var o=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),l=o.indexOf("\r");l!=-1?(n.push(o.slice(0,l)),t+=l+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},is=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},os=function(){var e=O("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),In=null;function ls(e){if(In!=null)return In;var t=R(e,O("span","x")),n=t.getBoundingClientRect(),r=J(t,0,1).getBoundingClientRect();return In=Math.abs(n.left-r.left)>1}var zn={},Kt={};function ss(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),zn[e]=t}function as(e,t){Kt[e]=t}function Zr(e){if(typeof e=="string"&&Kt.hasOwnProperty(e))e=Kt[e];else if(e&&typeof e.name=="string"&&Kt.hasOwnProperty(e.name)){var t=Kt[e.name];typeof t=="string"&&(t={name:t}),e=_i(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Zr("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Zr("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Un(e,t){t=Zr(t);var n=zn[t.name];if(!n)return Un(e,"text/plain");var r=n(e,t);if(Gt.hasOwnProperty(t.name)){var i=Gt[t.name];for(var o in i)!i.hasOwnProperty(o)||(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)r[l]=t.modeProps[l];return r}var Gt={};function us(e,t){var n=Gt.hasOwnProperty(e)?Gt[e]:Gt[e]={};Dt(t,n)}function At(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function _n(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),!(!n||n.mode==e));)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ji(e,t,n){return e.startState?e.startState(t,n):!0}var ye=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};ye.prototype.eol=function(){return this.pos>=this.string.length},ye.prototype.sol=function(){return this.pos==this.lineStart},ye.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ye.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ye.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e.test?e.test(t):e(t)),n)return++this.pos,t},ye.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},ye.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},ye.prototype.skipToEnd=function(){this.pos=this.string.length},ye.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},ye.prototype.backUp=function(e){this.pos-=e},ye.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},ye.prototype.indentation=function(){return Je(this.string,null,this.tabSize)-(this.lineStart?Je(this.string,this.lineStart,this.tabSize):0)},ye.prototype.match=function(e,t,n){if(typeof e=="string"){var r=function(l){return n?l.toLowerCase():l},i=this.string.substr(this.pos,e.length);if(r(i)==r(e))return t!==!1&&(this.pos+=e.length),!0}else{var o=this.string.slice(this.pos).match(e);return o&&o.index>0?null:(o&&t!==!1&&(this.pos+=o[0].length),o)}},ye.prototype.current=function(){return this.string.slice(this.start,this.pos)},ye.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},ye.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},ye.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function G(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ot(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(o){var l=o.text;i==n.line&&(l=l.slice(0,n.ch)),i==t.line&&(l=l.slice(t.ch)),r.push(l),++i}),r}function Kn(e,t,n){var r=[];return e.iter(t,n,function(i){r.push(i.text)}),r}function nt(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function ie(e){if(e.parent==null)return null;for(var t=e.parent,n=Oe(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Nt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l],a=s.height;if(t<a)break;t-=a}return n+l}function vr(e,t){return t>=e.first&&t<e.first+e.size}function Gn(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function D(e,t,n){if(n===void 0&&(n=null),!(this instanceof D))return new D(e,t,n);this.line=e,this.ch=t,this.sticky=n}function j(e,t){return e.line-t.line||e.ch-t.ch}function Xn(e,t){return e.sticky==t.sticky&&j(e,t)==0}function Yn(e){return D(e.line,e.ch)}function qr(e,t){return j(e,t)<0?t:e}function Jr(e,t){return j(e,t)<0?e:t}function Qi(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function V(e,t){if(t.line<e.first)return D(e.first,0);var n=e.first+e.size-1;return t.line>n?D(n,G(e,n).text.length):fs(t,G(e,t.line).text.length)}function fs(e,t){var n=e.ch;return n==null||n>t?D(e.line,t):n<0?D(e.line,0):e}function ji(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=V(e,t[r]);return n}var Qr=function(e,t){this.state=e,this.lookAhead=t},it=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};it.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},it.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},it.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},it.fromSaved=function(e,t,n){return t instanceof Qr?new it(e,At(e.mode,t.state),n,t.lookAhead):new it(e,At(e.mode,t),n)},it.prototype.save=function(e){var t=e!==!1?At(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Qr(t,this.maxLookAhead):t};function Vi(e,t,n,r){var i=[e.state.modeGen],o={};io(e,t.text,e.doc.mode,n,function(u,h){return i.push(u,h)},o,r);for(var l=n.state,s=function(u){n.baseTokens=i;var h=e.state.overlays[u],d=1,m=0;n.state=!0,io(e,t.text,h.mode,n,function(g,w){for(var L=d;m<g;){var A=i[d];A>g&&i.splice(d,1,g,i[d+1],A),d+=2,m=Math.min(g,A)}if(!!w)if(h.opaque)i.splice(L,d-L,g,"overlay "+w),d=L+2;else for(;L<d;L+=2){var H=i[L+1];i[L+1]=(H?H+" ":"")+"overlay "+w}},o),n.state=l,n.baseTokens=null,n.baseTokenPos=1},a=0;a<e.state.overlays.length;++a)s(a);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function $i(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=gr(e,ie(t)),i=t.text.length>e.options.maxHighlightLength&&At(e.doc.mode,r.state),o=Vi(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function gr(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new it(r,!0,t);var o=hs(e,t,n),l=o>r.first&&G(r,o-1).stateAfter,s=l?it.fromSaved(r,l,o):new it(r,Ji(r.mode),o);return r.iter(o,t,function(a){Zn(e,a.text,s);var u=s.line;a.stateAfter=u==t-1||u%5==0||u>=i.viewFrom&&u<i.viewTo?s.save():null,s.nextLine()}),n&&(r.modeFrontier=s.line),s}function Zn(e,t,n,r){var i=e.doc.mode,o=new ye(t,e.options.tabSize,n);for(o.start=o.pos=r||0,t==""&&eo(i,n.state);!o.eol();)qn(i,o,n.state),o.start=o.pos}function eo(e,t){if(e.blankLine)return e.blankLine(t);if(!!e.innerMode){var n=_n(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function qn(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=_n(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}var to=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function ro(e,t,n,r){var i=e.doc,o=i.mode,l;t=V(i,t);var s=G(i,t.line),a=gr(e,t.line,n),u=new ye(s.text,e.options.tabSize,a),h;for(r&&(h=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,l=qn(o,u,a.state),r&&h.push(new to(u,l,At(i.mode,a.state)));return r?h:new to(u,l,a.state)}function no(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function io(e,t,n,r,i,o,l){var s=n.flattenSpans;s==null&&(s=e.options.flattenSpans);var a=0,u=null,h=new ye(t,e.options.tabSize,r),d,m=e.options.addModeClass&&[null];for(t==""&&no(eo(n,r.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,l&&Zn(e,t,r,h.pos),h.pos=t.length,d=null):d=no(qn(n,h,r.state,m),o),m){var g=m[0].name;g&&(d="m-"+(d?g+" "+d:g))}if(!s||u!=d){for(;a<h.start;)a=Math.min(h.start,a+5e3),i(a,u);u=d}h.start=h.pos}for(;a<h.pos;){var w=Math.min(h.pos,a+5e3);i(w,u),a=w}}function hs(e,t,n){for(var r,i,o=e.doc,l=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=G(o,s-1),u=a.stateAfter;if(u&&(!n||s+(u instanceof Qr?u.lookAhead:0)<=o.modeFrontier))return s;var h=Je(a.text,null,e.options.tabSize);(i==null||r>h)&&(i=s-1,r=h)}return i}function cs(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=G(e,r).stateAfter;if(i&&(!(i instanceof Qr)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var oo=!1,ft=!1;function ds(){oo=!0}function ps(){ft=!0}function jr(e,t,n){this.marker=e,this.from=t,this.to=n}function yr(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function vs(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function gs(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&e.markedSpans&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function ys(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=o.from==null||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&l.type=="bookmark"&&(!n||!o.marker.insertLeft)){var a=o.to==null||(l.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new jr(l,o.from,a?null:o.to))}}return r}function ms(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=o.to==null||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&l.type=="bookmark"&&(!n||o.marker.insertLeft)){var a=o.from==null||(l.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new jr(l,a?null:o.from-t,o.to==null?null:o.to-t))}}return r}function Jn(e,t){if(t.full)return null;var n=vr(e,t.from.line)&&G(e,t.from.line).markedSpans,r=vr(e,t.to.line)&&G(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,l=j(t.from,t.to)==0,s=ys(n,i,l),a=ms(r,o,l),u=t.text.length==1,h=ne(t.text).length+(u?i:0);if(s)for(var d=0;d<s.length;++d){var m=s[d];if(m.to==null){var g=yr(a,m.marker);g?u&&(m.to=g.to==null?null:g.to+h):m.to=i}}if(a)for(var w=0;w<a.length;++w){var L=a[w];if(L.to!=null&&(L.to+=h),L.from==null){var A=yr(s,L.marker);A||(L.from=h,u&&(s||(s=[])).push(L))}else L.from+=h,u&&(s||(s=[])).push(L)}s&&(s=lo(s)),a&&a!=s&&(a=lo(a));var H=[s];if(!u){var E=t.text.length-2,F;if(E>0&&s)for(var _=0;_<s.length;++_)s[_].to==null&&(F||(F=[])).push(new jr(s[_].marker,null,null));for(var Z=0;Z<E;++Z)H.push(F);H.push(a)}return H}function lo(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function bs(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(g){if(g.markedSpans)for(var w=0;w<g.markedSpans.length;++w){var L=g.markedSpans[w].marker;L.readOnly&&(!r||Oe(r,L)==-1)&&(r||(r=[])).push(L)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var l=r[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(j(u.to,s.from)<0||j(u.from,s.to)>0)){var h=[a,1],d=j(u.from,s.from),m=j(u.to,s.to);(d<0||!l.inclusiveLeft&&!d)&&h.push({from:u.from,to:s.from}),(m>0||!l.inclusiveRight&&!m)&&h.push({from:s.to,to:u.to}),i.splice.apply(i,h),a+=h.length-3}}return i}function so(e){var t=e.markedSpans;if(!!t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ao(e,t){if(!!t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vr(e){return e.inclusiveLeft?-1:0}function $r(e){return e.inclusiveRight?1:0}function Qn(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),i=t.find(),o=j(r.from,i.from)||Vr(e)-Vr(t);if(o)return-o;var l=j(r.to,i.to)||$r(e)-$r(t);return l||t.id-e.id}function uo(e,t){var n=ft&&e.markedSpans,r;if(n)for(var i=void 0,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&(t?i.from:i.to)==null&&(!r||Qn(r,i.marker)<0)&&(r=i.marker);return r}function fo(e){return uo(e,!0)}function en(e){return uo(e,!1)}function Cs(e,t){var n=ft&&e.markedSpans,r;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(o.from==null||o.from<t)&&(o.to==null||o.to>t)&&(!r||Qn(r,o.marker)<0)&&(r=o.marker)}return r}function ho(e,t,n,r,i){var o=G(e,t),l=ft&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(!!a.marker.collapsed){var u=a.marker.find(0),h=j(u.from,n)||Vr(a.marker)-Vr(i),d=j(u.to,r)||$r(a.marker)-$r(i);if(!(h>=0&&d<=0||h<=0&&d>=0)&&(h<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?j(u.to,n)>=0:j(u.to,n)>0)||h>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?j(u.from,r)<=0:j(u.from,r)<0)))return!0}}}function je(e){for(var t;t=fo(e);)e=t.find(-1,!0).line;return e}function Ss(e){for(var t;t=en(e);)e=t.find(1,!0).line;return e}function xs(e){for(var t,n;t=en(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function jn(e,t){var n=G(e,t),r=je(n);return n==r?t:ie(r)}function co(e,t){if(t>e.lastLine())return t;var n=G(e,t),r;if(!yt(e,n))return t;for(;r=en(n);)n=r.find(1,!0).line;return ie(n)+1}function yt(e,t){var n=ft&&t.markedSpans;if(n){for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],!!r.marker.collapsed){if(r.from==null)return!0;if(!r.marker.widgetNode&&r.from==0&&r.marker.inclusiveLeft&&Vn(e,t,r))return!0}}}function Vn(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return Vn(e,r.line,yr(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(i.to==null||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vn(e,t,i))return!0}function ht(e){e=je(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==n)break;t+=s.height}return t}function tn(e){if(e.height==0)return 0;for(var t=e.text.length,n,r=e;n=fo(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=en(r);){var o=n.find(0,!0);t-=r.text.length-o.from.ch,r=o.to.line,t+=r.text.length-o.to.ch}return t}function $n(e){var t=e.display,n=e.doc;t.maxLine=G(n,n.first),t.maxLineLength=tn(t.maxLine),t.maxLineChanged=!0,n.iter(function(r){var i=tn(r);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=r)})}var Xt=function(e,t,n){this.text=e,ao(this,t),this.height=n?n(this):1};Xt.prototype.lineNo=function(){return ie(this)},_t(Xt);function ws(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),so(e),ao(e,n);var i=r?r(e):1;i!=e.height&&nt(e,i)}function ks(e){e.parent=null,so(e)}var Ls={},Ts={};function po(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Ts:Ls;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function vo(e,t){var n=te("span",null,null,ee?"padding-right: .1px":null),r={pre:te("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,l=void 0;r.pos=0,r.addToken=Ds,ns(e.display.measure)&&(l=ut(o,e.doc.direction))&&(r.addToken=Os(r.addToken,l)),r.map=[];var s=t!=e.display.externalMeasured&&ie(o);Ns(o,r,$i(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=Xe(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=Xe(o.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(rs(e.display.measure))),i==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(ee){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ge(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Xe(r.pre.className,r.textClass||"")),r}function Ms(e){var t=O("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Ds(e,t,n,r,i,o,l){if(!!t){var s=e.splitSpaces?As(t,e.trailingSpace):t,a=e.cm.state.specialChars,u=!1,h;if(!a.test(t))e.col+=t.length,h=document.createTextNode(s),e.map.push(e.pos,e.pos+t.length,h),B&&X<9&&(u=!0),e.pos+=t.length;else{h=document.createDocumentFragment();for(var d=0;;){a.lastIndex=d;var m=a.exec(t),g=m?m.index-d:t.length-d;if(g){var w=document.createTextNode(s.slice(d,d+g));B&&X<9?h.appendChild(O("span",[w])):h.appendChild(w),e.map.push(e.pos,e.pos+g,w),e.col+=g,e.pos+=g}if(!m)break;d+=g+1;var L=void 0;if(m[0]=="	"){var A=e.cm.options.tabSize,H=A-e.col%A;L=h.appendChild(O("span",On(H),"cm-tab")),L.setAttribute("role","presentation"),L.setAttribute("cm-text","	"),e.col+=H}else m[0]=="\r"||m[0]==`
`?(L=h.appendChild(O("span",m[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),L.setAttribute("cm-text",m[0]),e.col+=1):(L=e.cm.options.specialCharPlaceholder(m[0]),L.setAttribute("cm-text",m[0]),B&&X<9?h.appendChild(O("span",[L])):h.appendChild(L),e.col+=1);e.map.push(e.pos,e.pos+1,L),e.pos++}}if(e.trailingSpace=s.charCodeAt(t.length-1)==32,n||r||i||u||o||l){var E=n||"";r&&(E+=r),i&&(E+=i);var F=O("span",[h],E,o);if(l)for(var _ in l)l.hasOwnProperty(_)&&_!="style"&&_!="class"&&F.setAttribute(_,l[_]);return e.content.appendChild(F)}e.content.appendChild(h)}}function As(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);o==" "&&n&&(i==e.length-1||e.charCodeAt(i+1)==32)&&(o="\xA0"),r+=o,n=o==" "}return r}function Os(e,t){return function(n,r,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,h=u+r.length;;){for(var d=void 0,m=0;m<t.length&&(d=t[m],!(d.to>u&&d.from<=u));m++);if(d.to>=h)return e(n,r,i,o,l,s,a);e(n,r.slice(0,d.to-u),i,o,null,s,a),o=null,r=r.slice(d.to-u),u=d.to}}}function go(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Ns(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(!r){for(var l=1;l<n.length;l+=2)t.addToken(t,i.slice(o,o=n[l]),po(n[l+1],t.cm.options));return}for(var s=i.length,a=0,u=1,h="",d,m,g=0,w,L,A,H,E;;){if(g==a){w=L=A=m="",E=null,H=null,g=Infinity;for(var F=[],_=void 0,Z=0;Z<r.length;++Z){var Y=r[Z],$=Y.marker;if($.type=="bookmark"&&Y.from==a&&$.widgetNode)F.push($);else if(Y.from<=a&&(Y.to==null||Y.to>a||$.collapsed&&Y.to==a&&Y.from==a)){if(Y.to!=null&&Y.to!=a&&g>Y.to&&(g=Y.to,L=""),$.className&&(w+=" "+$.className),$.css&&(m=(m?m+";":"")+$.css),$.startStyle&&Y.from==a&&(A+=" "+$.startStyle),$.endStyle&&Y.to==g&&(_||(_=[])).push($.endStyle,Y.to),$.title&&((E||(E={})).title=$.title),$.attributes)for(var le in $.attributes)(E||(E={}))[le]=$.attributes[le];$.collapsed&&(!H||Qn(H.marker,$)<0)&&(H=Y)}else Y.from>a&&g>Y.from&&(g=Y.from)}if(_)for(var Me=0;Me<_.length;Me+=2)_[Me+1]==g&&(L+=" "+_[Me]);if(!H||H.from==a)for(var he=0;he<F.length;++he)go(t,0,F[he]);if(H&&(H.from||0)==a){if(go(t,(H.to==null?s+1:H.to)-a,H.marker,H.from==null),H.to==null)return;H.to==a&&(H=!1)}}if(a>=s)break;for(var Ge=Math.min(s,g);;){if(h){var Ie=a+h.length;if(!H){var me=Ie>Ge?h.slice(0,Ge-a):h;t.addToken(t,me,d?d+w:w,A,a+me.length==g?L:"",m,E)}if(Ie>=Ge){h=h.slice(Ge-a),a=Ge;break}a=Ie,A=""}h=i.slice(o,o=n[u++]),d=po(n[u++],t.cm.options)}}}function yo(e,t,n){this.line=t,this.rest=xs(t),this.size=this.rest?ie(ne(this.rest))-n+1:1,this.node=this.text=null,this.hidden=yt(e,t)}function rn(e,t,n){for(var r=[],i,o=t;o<n;o=i){var l=new yo(e.doc,G(e.doc,o),o);i=o+l.size,r.push(l)}return r}var Yt=null;function Ws(e){Yt?Yt.ops.push(e):e.ownsGroup=Yt={ops:[e],delayedCallbacks:[]}}function Hs(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Fs(e,t){var n=e.ownsGroup;if(!!n)try{Hs(n)}finally{Yt=null,t(n)}}var mr=null;function ke(e,t){var n=Hn(e,t);if(!!n.length){var r=Array.prototype.slice.call(arguments,2),i;Yt?i=Yt.delayedCallbacks:mr?i=mr:(i=mr=[],setTimeout(Ps,0));for(var o=function(s){i.push(function(){return n[s].apply(null,r)})},l=0;l<n.length;++l)o(l)}}function Ps(){var e=mr;mr=null;for(var t=0;t<e.length;++t)e[t]()}function mo(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];o=="text"?Es(e,t):o=="gutter"?Co(e,t,n,r):o=="class"?ei(e,t):o=="widget"&&Rs(e,t,r)}t.changes=null}function br(e){return e.node==e.text&&(e.node=O("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),B&&X<8&&(e.node.style.zIndex=2)),e.node}function Bs(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=br(t);t.background=r.insertBefore(O("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function bo(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):vo(e,t)}function Es(e,t){var n=t.text.className,r=bo(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,ei(e,t)):n&&(t.text.className=n)}function ei(e,t){Bs(e,t),t.line.wrapClass?br(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Co(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=br(t);t.gutterBackground=O("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var l=br(t),s=t.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),l.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!o||!o["CodeMirror-linenumbers"])&&(t.lineNumber=s.appendChild(O("div",Gn(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.display.gutterSpecs.length;++a){var u=e.display.gutterSpecs[a].className,h=o.hasOwnProperty(u)&&o[u];h&&s.appendChild(O("div",[h],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function Rs(e,t,n){t.alignable&&(t.alignable=null);for(var r=M("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);So(e,t,n)}function Is(e,t,n,r){var i=bo(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),ei(e,t),Co(e,t,n,r),So(e,t,r),t.node}function So(e,t,n){if(xo(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)xo(e,t.rest[r],t,n,!1)}function xo(e,t,n,r,i){if(!!t.widgets)for(var o=br(n),l=0,s=t.widgets;l<s.length;++l){var a=s[l],u=O("div",[a.node],"CodeMirror-linewidget"+(a.className?" "+a.className:""));a.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),zs(a,u,n,r),e.display.input.setUneditable(u),i&&a.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),ke(a,"redraw")}}function zs(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Cr(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!ae(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),R(t.display.measure,O("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function ct(e,t){for(var n=Pn(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function nn(e){return e.lineSpace.offsetTop}function ti(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function wo(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=R(e.measure,O("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function ot(e){return zi-e.display.nativeBarWidth}function Wt(e){return e.display.scroller.clientWidth-ot(e)-e.display.barWidth}function ri(e){return e.display.scroller.clientHeight-ot(e)-e.display.barHeight}function Us(e,t,n){var r=e.options.lineWrapping,i=r&&Wt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function ko(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(ie(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function _s(e,t){t=je(t);var n=ie(t),r=e.display.externalMeasured=new yo(e.doc,t,n);r.lineN=n;var i=r.built=vo(e,r);return r.text=i.pre,R(e.display.lineMeasure,i.pre),r}function Lo(e,t,n,r){return lt(e,Zt(e,t),n,r)}function ni(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Pt(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function Zt(e,t){var n=ie(t),r=ni(e,n);r&&!r.text?r=null:r&&r.changes&&(mo(e,r,n,ai(e)),e.curOp.forceUpdate=!0),r||(r=_s(e,t));var i=ko(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function lt(e,t,n,r,i){t.before&&(n=-1);var o=n+(r||""),l;return t.cache.hasOwnProperty(o)?l=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Us(e,t.view,t.rect),t.hasHeights=!0),l=Gs(e,t,n,r),l.bogus||(t.cache[o]=l)),{left:l.left,right:l.right,top:i?l.rtop:l.top,bottom:i?l.rbottom:l.bottom}}var To={left:0,right:0,top:0,bottom:0};function Mo(e,t,n){for(var r,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?(i=t-s,o=i+1):(u==e.length-3||t==a&&e[u+3]>t)&&(o=a-s,i=o-1,t>=a&&(l="right")),i!=null){if(r=e[u+2],s==a&&n==(r.insertLeft?"left":"right")&&(l=n),n=="left"&&i==0)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[(u-=3)+2],l="left";if(n=="right"&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],l="right";break}return{node:r,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function Ks(e,t){var n=To;if(t=="left")for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Gs(e,t,n,r){var i=Mo(t.map,n,r),o=i.node,l=i.start,s=i.end,a=i.collapse,u;if(o.nodeType==3){for(var h=0;h<4;h++){for(;l&&Wn(t.line.text.charAt(i.coverStart+l));)--l;for(;i.coverStart+s<i.coverEnd&&Wn(t.line.text.charAt(i.coverStart+s));)++s;if(B&&X<9&&l==0&&s==i.coverEnd-i.coverStart?u=o.parentNode.getBoundingClientRect():u=Ks(J(o,l,s).getClientRects(),r),u.left||u.right||l==0)break;s=l,l=l-1,a="right"}B&&X<11&&(u=Xs(e.display.measure,u))}else{l>0&&(a=r="right");var d;e.options.lineWrapping&&(d=o.getClientRects()).length>1?u=d[r=="right"?d.length-1:0]:u=o.getBoundingClientRect()}if(B&&X<9&&!l&&(!u||!u.left&&!u.right)){var m=o.parentNode.getClientRects()[0];m?u={left:m.left,right:m.left+Jt(e.display),top:m.top,bottom:m.bottom}:u=To}for(var g=u.top-t.rect.top,w=u.bottom-t.rect.top,L=(g+w)/2,A=t.view.measure.heights,H=0;H<A.length-1&&!(L<A[H]);H++);var E=H?A[H-1]:0,F=A[H],_={left:(a=="right"?u.right:u.left)-t.rect.left,right:(a=="left"?u.left:u.right)-t.rect.left,top:E,bottom:F};return!u.left&&!u.right&&(_.bogus=!0),e.options.singleCursorHeightPerLine||(_.rtop=g,_.rbottom=w),_}function Xs(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ls(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Do(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Ao(e){e.display.externalMeasure=null,N(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Do(e.display.view[t])}function Sr(e){Ao(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Oo(e){return ce&&T?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function No(e){return ce&&T?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function ii(e){var t=je(e),n=t.widgets,r=0;if(n)for(var i=0;i<n.length;++i)n[i].above&&(r+=Cr(n[i]));return r}function on(e,t,n,r,i){if(!i){var o=ii(t);n.top+=o,n.bottom+=o}if(r=="line")return n;r||(r="local");var l=ht(t);if(r=="local"?l+=nn(e.display):l-=e.display.viewOffset,r=="page"||r=="window"){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+(r=="window"?0:No(Ye(e)));var a=s.left+(r=="window"?0:Oo(Ye(e)));n.left+=a,n.right+=a}return n.top+=l,n.bottom+=l,n}function Wo(e,t,n){if(n=="div")return t;var r=t.left,i=t.top;if(n=="page")r-=Oo(Ye(e)),i-=No(Ye(e));else if(n=="local"||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:r-l.left,top:i-l.top}}function ln(e,t,n,r,i){return r||(r=G(e.doc,t.line)),on(e,r,Lo(e,r,t.ch,i),n)}function Ve(e,t,n,r,i,o){r=r||G(e.doc,t.line),i||(i=Zt(e,r));function l(w,L){var A=lt(e,i,w,L?"right":"left",o);return L?A.left=A.right:A.right=A.left,on(e,r,A,n)}var s=ut(r,e.doc.direction),a=t.ch,u=t.sticky;if(a>=r.text.length?(a=r.text.length,u="before"):a<=0&&(a=0,u="after"),!s)return l(u=="before"?a-1:a,u=="before");function h(w,L,A){var H=s[L],E=H.level==1;return l(A?w-1:w,E!=A)}var d=dr(s,a,u),m=cr,g=h(a,d,u=="before");return m!=null&&(g.other=h(a,m,u!="before")),g}function Ho(e,t){var n=0;t=V(e.doc,t),e.options.lineWrapping||(n=Jt(e.display)*t.ch);var r=G(e.doc,t.line),i=ht(r)+nn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function oi(e,t,n,r,i){var o=D(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function li(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return oi(r.first,0,null,-1,-1);var i=Nt(r,n),o=r.first+r.size-1;if(i>o)return oi(r.first+r.size-1,G(r,o).text.length,null,1,1);t<0&&(t=0);for(var l=G(r,i);;){var s=Ys(e,l,i,t,n),a=Cs(l,s.ch+(s.xRel>0||s.outside>0?1:0));if(!a)return s;var u=a.find(1);if(u.line==i)return u;l=G(r,i=u.line)}}function Fo(e,t,n,r){r-=ii(t);var i=t.text.length,o=hr(function(l){return lt(e,n,l-1).bottom<=r},i,0);return i=hr(function(l){return lt(e,n,l).top>r},o,i),{begin:o,end:i}}function Po(e,t,n,r){n||(n=Zt(e,t));var i=on(e,t,lt(e,n,r),"line").top;return Fo(e,t,n,i)}function si(e,t,n,r){return e.bottom<=n?!1:e.top>n?!0:(r?e.left:e.right)>t}function Ys(e,t,n,r,i){i-=ht(t);var o=Zt(e,t),l=ii(t),s=0,a=t.text.length,u=!0,h=ut(t,e.doc.direction);if(h){var d=(e.options.lineWrapping?qs:Zs)(e,t,n,o,h,r,i);u=d.level!=1,s=u?d.from:d.to-1,a=u?d.to:d.from-1}var m=null,g=null,w=hr(function(Z){var Y=lt(e,o,Z);return Y.top+=l,Y.bottom+=l,si(Y,r,i,!1)?(Y.top<=i&&Y.left<=r&&(m=Z,g=Y),!0):!1},s,a),L,A,H=!1;if(g){var E=r-g.left<g.right-r,F=E==u;w=m+(F?0:1),A=F?"after":"before",L=E?g.left:g.right}else{!u&&(w==a||w==s)&&w++,A=w==0?"after":w==t.text.length?"before":lt(e,o,w-(u?1:0)).bottom+l<=i==u?"after":"before";var _=Ve(e,D(n,w,A),"line",t,o);L=_.left,H=i<_.top?-1:i>=_.bottom?1:0}return w=Gi(t.text,w,1),oi(n,w,A,H,r-L)}function Zs(e,t,n,r,i,o,l){var s=hr(function(d){var m=i[d],g=m.level!=1;return si(Ve(e,D(n,g?m.to:m.from,g?"before":"after"),"line",t,r),o,l,!0)},0,i.length-1),a=i[s];if(s>0){var u=a.level!=1,h=Ve(e,D(n,u?a.from:a.to,u?"after":"before"),"line",t,r);si(h,o,l,!0)&&h.top>l&&(a=i[s-1])}return a}function qs(e,t,n,r,i,o,l){var s=Fo(e,t,r,l),a=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var h=null,d=null,m=0;m<i.length;m++){var g=i[m];if(!(g.from>=u||g.to<=a)){var w=g.level!=1,L=lt(e,r,w?Math.min(u,g.to)-1:Math.max(a,g.from)).right,A=L<o?o-L+1e9:L-o;(!h||d>A)&&(h=g,d=A)}}return h||(h=i[i.length-1]),h.from<a&&(h={from:a,to:h.to,level:h.level}),h.to>u&&(h={from:h.from,to:u,level:h.level}),h}var Ht;function qt(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Ht==null){Ht=O("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ht.appendChild(document.createTextNode("x")),Ht.appendChild(O("br"));Ht.appendChild(document.createTextNode("x"))}R(e.measure,Ht);var n=Ht.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),N(e.measure),n||1}function Jt(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=O("span","xxxxxxxxxx"),n=O("pre",[t],"CodeMirror-line-like");R(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function ai(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l){var s=e.display.gutterSpecs[l].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:ui(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function ui(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Bo(e){var t=qt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Jt(e.display)-3);return function(i){if(yt(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function fi(e){var t=e.doc,n=Bo(e);t.iter(function(r){var i=n(r);i!=r.height&&nt(r,i)})}function Ft(e,t,n,r){var i=e.display;if(!n&&Pn(t).getAttribute("cm-not-content")=="true")return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(d){return null}var a=li(e,o,l),u;if(r&&a.xRel>0&&(u=G(e.doc,a.line).text).length==a.ch){var h=Je(u,u.length,e.options.tabSize)-u.length;a=D(a.line,Math.max(0,Math.round((o-wo(e.display).left)/Jt(e.display))-h))}return a}function Pt(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function Ee(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ft&&jn(e.doc,t)<i.viewTo&&bt(e);else if(n<=i.viewFrom)ft&&co(e.doc,n+r)>i.viewFrom?bt(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)bt(e);else if(t<=i.viewFrom){var o=sn(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):bt(e)}else if(n>=i.viewTo){var l=sn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):bt(e)}else{var s=sn(e,t,t,-1),a=sn(e,n,n+r,1);s&&a?(i.view=i.view.slice(0,s.index).concat(rn(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=r):bt(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function mt(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Pt(e,t)];if(o.node!=null){var l=o.changes||(o.changes=[]);Oe(l,n)==-1&&l.push(n)}}}function bt(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function sn(e,t,n,r){var i=Pt(e,t),o,l=e.display.view;if(!ft||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var s=e.display.viewFrom,a=0;a<i;a++)s+=l[a].size;if(s!=t){if(r>0){if(i==l.length-1)return null;o=s+l[i].size-t,i++}else o=s-t;t+=o,n+=o}for(;jn(e.doc,n)!=n;){if(i==(r<0?0:l.length-1))return null;n+=r*l[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function Js(e,t,n){var r=e.display,i=r.view;i.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=rn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=rn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Pt(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(rn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Pt(e,n)))),r.viewTo=n}function Eo(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];!i.hidden&&(!i.node||i.changes)&&++n}return n}function xr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ro(e,t){t===void 0&&(t=!0);var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),l=e.options.$customCursor;l&&(t=!0);for(var s=0;s<n.sel.ranges.length;s++)if(!(!t&&s==n.sel.primIndex)){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var u=a.empty();if(l){var h=l(e,a);h&&hi(e,h,i)}else(u||e.options.showCursorWhenSelecting)&&hi(e,a.head,i);u||Qs(e,a,o)}}return r}function hi(e,t,n){var r=Ve(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(O("div","\xA0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=ln(e,t,"div",null,null),l=o.right-o.left;i.style.width=(l>0?l:e.defaultCharWidth())+"px"}if(r.other){var s=n.appendChild(O("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function an(e,t){return e.top-t.top||e.left-t.left}function Qs(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),l=wo(e.display),s=l.left,a=Math.max(r.sizerWidth,Wt(e)-r.sizer.offsetLeft)-l.right,u=i.direction=="ltr";function h(F,_,Z,Y){_<0&&(_=0),_=Math.round(_),Y=Math.round(Y),o.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+F+`px;
                             top: `+_+"px; width: "+(Z==null?a-F:Z)+`px;
                             height: `+(Y-_)+"px"))}function d(F,_,Z){var Y=G(i,F),$=Y.text.length,le,Me;function he(me,ze){return ln(e,D(F,me),"div",Y,ze)}function Ge(me,ze,Ae){var Se=Po(e,Y,null,me),be=ze=="ltr"==(Ae=="after")?"left":"right",de=Ae=="after"?Se.begin:Se.end-(/\s/.test(Y.text.charAt(Se.end-1))?2:1);return he(de,be)[be]}var Ie=ut(Y,i.direction);return $l(Ie,_||0,Z==null?$:Z,function(me,ze,Ae,Se){var be=Ae=="ltr",de=he(me,be?"left":"right"),Ue=he(ze-1,be?"right":"left"),ar=_==null&&me==0,Lt=Z==null&&ze==$,We=Se==0,st=!Ie||Se==Ie.length-1;if(Ue.top-de.top<=3){var De=(u?ar:Lt)&&We,Ri=(u?Lt:ar)&&st,vt=De?s:(be?de:Ue).left,zt=Ri?a:(be?Ue:de).right;h(vt,de.top,zt-vt,de.bottom)}else{var Ut,Pe,ur,Ii;be?(Ut=u&&ar&&We?s:de.left,Pe=u?a:Ge(me,Ae,"before"),ur=u?s:Ge(ze,Ae,"after"),Ii=u&&Lt&&st?a:Ue.right):(Ut=u?Ge(me,Ae,"before"):s,Pe=!u&&ar&&We?a:de.right,ur=!u&&Lt&&st?s:Ue.left,Ii=u?Ge(ze,Ae,"after"):a),h(Ut,de.top,Pe-Ut,de.bottom),de.bottom<Ue.top&&h(s,de.bottom,null,Ue.top),h(ur,Ue.top,Ii-ur,Ue.bottom)}(!le||an(de,le)<0)&&(le=de),an(Ue,le)<0&&(le=Ue),(!Me||an(de,Me)<0)&&(Me=de),an(Ue,Me)<0&&(Me=Ue)}),{start:le,end:Me}}var m=t.from(),g=t.to();if(m.line==g.line)d(m.line,m.ch,g.ch);else{var w=G(i,m.line),L=G(i,g.line),A=je(w)==je(L),H=d(m.line,m.ch,A?w.text.length+1:null).end,E=d(g.line,A?0:null,g.ch).start;A&&(H.top<E.top-2?(h(H.right,H.top,null,H.bottom),h(s,E.top,E.left,E.bottom)):h(H.right,H.top,E.left-H.right,H.bottom)),H.bottom<E.top&&h(s,H.bottom,null,E.top)}n.appendChild(o)}function ci(e){if(!!e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Qt(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Io(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||pi(e))}function di(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Qt(e))},100)}function pi(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(ge(e,"focus",e,t),e.state.focused=!0,Ce(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),ee&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),ci(e))}function Qt(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ge(e,"blur",e,t),e.state.focused=!1,W(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function un(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var s=t.view[l],a=e.options.lineWrapping,u=void 0,h=0;if(!s.hidden){if(i+=s.line.height,B&&X<8){var d=s.node.offsetTop+s.node.offsetHeight;u=d-n,n=d}else{var m=s.node.getBoundingClientRect();u=m.bottom-m.top,!a&&s.text.firstChild&&(h=s.text.firstChild.getBoundingClientRect().right-m.left-1)}var g=s.line.height-u;if((g>.005||g<-.005)&&(i<r&&(o-=g),nt(s.line,u),zo(s.line),s.rest))for(var w=0;w<s.rest.length;w++)zo(s.rest[w]);if(h>e.display.sizerWidth){var L=Math.ceil(h/Jt(e.display));L>e.display.maxLineLength&&(e.display.maxLineLength=L,e.display.maxLine=s.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function zo(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function fn(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-nn(e));var i=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,o=Nt(t,r),l=Nt(t,i);if(n&&n.ensure){var s=n.ensure.from.line,a=n.ensure.to.line;s<o?(o=s,l=Nt(t,ht(G(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=Nt(t,ht(G(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function js(e,t){if(!we(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null,o=n.wrapper.ownerDocument;if(t.top+r.top<0?i=!0:t.bottom+r.top>(o.defaultView.innerHeight||o.documentElement.clientHeight)&&(i=!1),i!=null&&!c){var l=O("div","\u200B",null,`position: absolute;
                         top: `+(t.top-n.viewOffset-nn(e.display))+`px;
                         height: `+(t.bottom-t.top+ot(e)+n.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(i),e.display.lineSpace.removeChild(l)}}}function Vs(e,t,n,r){r==null&&(r=0);var i;!e.options.lineWrapping&&t==n&&(n=t.sticky=="before"?D(t.line,t.ch+1,"before"):t,t=t.ch?D(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var l=!1,s=Ve(e,t),a=!n||n==t?s:Ve(e,n);i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-r,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+r};var u=vi(e,i),h=e.doc.scrollTop,d=e.doc.scrollLeft;if(u.scrollTop!=null&&(kr(e,u.scrollTop),Math.abs(e.doc.scrollTop-h)>1&&(l=!0)),u.scrollLeft!=null&&(Bt(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(l=!0)),!l)break}return i}function $s(e,t){var n=vi(e,t);n.scrollTop!=null&&kr(e,n.scrollTop),n.scrollLeft!=null&&Bt(e,n.scrollLeft)}function vi(e,t){var n=e.display,r=qt(e.display);t.top<0&&(t.top=0);var i=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop,o=ri(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+ti(n),a=t.top<r,u=t.bottom>s-r;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var h=Math.min(t.top,(u?s:t.bottom)-o);h!=i&&(l.scrollTop=h)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,m=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft-d,g=Wt(e)-n.gutters.offsetWidth,w=t.right-t.left>g;return w&&(t.right=t.left+g),t.left<10?l.scrollLeft=0:t.left<m?l.scrollLeft=Math.max(0,t.left+d-(w?0:10)):t.right>g+m-3&&(l.scrollLeft=t.right+(w?0:10)-g),l}function gi(e,t){t!=null&&(hn(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function jt(e){hn(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function wr(e,t,n){(t!=null||n!=null)&&hn(e),t!=null&&(e.curOp.scrollLeft=t),n!=null&&(e.curOp.scrollTop=n)}function ea(e,t){hn(e),e.curOp.scrollToPos=t}function hn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Ho(e,t.from),r=Ho(e,t.to);Uo(e,n,r,t.margin)}}function Uo(e,t,n,r){var i=vi(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});wr(e,i.scrollLeft,i.scrollTop)}function kr(e,t){Math.abs(e.doc.scrollTop-t)<2||(I||mi(e,{top:t}),_o(e,t,!0),I&&mi(e),Mr(e,100))}function _o(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Bt(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r)&&(e.doc.scrollLeft=t,Zo(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Lr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+ti(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+ot(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Et=function(e,t,n){this.cm=n;var r=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),q(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),q(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,B&&X<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Et.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Et.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Et.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Et.prototype.zeroWidthHack=function(){var e=k&&!C?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new gt,this.disableVert=new gt},Et.prototype.enableZeroWidthBar=function(e,t,n){e.style.visibility="";function r(){var i=e.getBoundingClientRect(),o=n=="vert"?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.visibility="hidden":t.set(1e3,r)}t.set(1e3,r)},Et.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Tr=function(){};Tr.prototype.update=function(){return{bottom:0,right:0}},Tr.prototype.setScrollLeft=function(){},Tr.prototype.setScrollTop=function(){},Tr.prototype.clear=function(){};function Vt(e,t){t||(t=Lr(e));var n=e.display.barWidth,r=e.display.barHeight;Ko(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&un(e),Ko(e,Lr(e)),n=e.display.barWidth,r=e.display.barHeight}function Ko(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}var Go={native:Et,null:Tr};function Xo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&W(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Go[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),q(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?Bt(e,t):kr(e,t)},e),e.display.scrollbars.addClass&&Ce(e.display.wrapper,e.display.scrollbars.addClass)}var ta=0;function Rt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ta,markArrays:null},Ws(e.curOp)}function It(e){var t=e.curOp;t&&Fs(t,function(n){for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;ra(n)})}function ra(e){for(var t=e.ops,n=0;n<t.length;n++)na(t[n]);for(var r=0;r<t.length;r++)ia(t[r]);for(var i=0;i<t.length;i++)oa(t[i]);for(var o=0;o<t.length;o++)la(t[o]);for(var l=0;l<t.length;l++)sa(t[l])}function na(e){var t=e.cm,n=t.display;ua(t),e.updateMaxLine&&$n(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new cn(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function ia(e){e.updatedDisplay=e.mustUpdate&&yi(e.cm,e.update)}function oa(e){var t=e.cm,n=t.display;e.updatedDisplay&&un(t),e.barMeasure=Lr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Lo(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+ot(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Wt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function la(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Bt(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==se(_e(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Vt(t,e.barMeasure),e.updatedDisplay&&Ci(t,e.barMeasure),e.selectionChanged&&ci(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Io(e.cm)}function sa(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Yo(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&_o(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Bt(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=Vs(t,V(r,e.scrollToPos.from),V(r,e.scrollToPos.to),e.scrollToPos.margin);js(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||ge(o[s],"hide");if(l)for(var a=0;a<l.length;++a)l[a].lines.length&&ge(l[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ge(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Ke(e,t){if(e.curOp)return t();Rt(e);try{return t()}finally{It(e)}}function Le(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Rt(e);try{return t.apply(e,arguments)}finally{It(e)}}}function Fe(e){return function(){if(this.curOp)return e.apply(this,arguments);Rt(this);try{return e.apply(this,arguments)}finally{It(this)}}}function Te(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Rt(t);try{return e.apply(this,arguments)}finally{It(t)}}}function Mr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,Mn(aa,e))}function aa(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=gr(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(r.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?At(t.mode,r.state):null,a=Vi(e,o,r,!0);s&&(r.state=s),o.styles=a.styles;var u=o.styleClasses,h=a.classes;h?o.styleClasses=h:u&&(o.styleClasses=null);for(var d=!l||l.length!=o.styles.length||u!=h&&(!u||!h||u.bgClass!=h.bgClass||u.textClass!=h.textClass),m=0;!d&&m<l.length;++m)d=l[m]!=o.styles[m];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Zn(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Mr(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Ke(e,function(){for(var o=0;o<i.length;o++)mt(e,i[o],"text")})}}var cn=function(e,t,n){var r=e.display;this.viewport=t,this.visible=fn(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Wt(e),this.force=n,this.dims=ai(e),this.events=[]};cn.prototype.signal=function(e,t){Qe(e,t)&&this.events.push(arguments)},cn.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ge.apply(null,this.events[e])};function ua(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=ot(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=ot(e)+"px",t.scrollbarsClipped=!0)}function fa(e){if(e.hasFocus())return null;var t=se(_e(e));if(!t||!ae(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=Mt(e).getSelection();r.anchorNode&&r.extend&&ae(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function ha(e){if(!(!e||!e.activeElt||e.activeElt==se(tt(e.activeElt)))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&ae(document.body,e.anchorNode)&&ae(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,n=t.defaultView.getSelection(),r=t.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(e.focusNode,e.focusOffset)}}function yi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return bt(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&Eo(e)==0)return!1;qo(e)&&(bt(e),t.dims=ai(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),l=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>l&&n.viewTo-l<20&&(l=Math.min(i,n.viewTo)),ft&&(o=jn(e.doc,o),l=co(e.doc,l));var s=o!=n.viewFrom||l!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Js(e,o,l),n.viewOffset=ht(G(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var a=Eo(e);if(!s&&a==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var u=fa(e);return a>4&&(n.lineDiv.style.display="none"),ca(e,n.updateLineNumbers,t.dims),a>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,ha(u),N(n.cursorDiv),N(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Mr(e,400)),n.updateLineNumbers=null,!0}function Yo(e,t){for(var n=t.viewport,r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==Wt(e)){if(n&&n.top!=null&&(n={top:Math.min(e.doc.height+ti(e.display)-ri(e),n.top)}),t.visible=fn(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else r&&(t.visible=fn(e.display,e.doc,n));if(!yi(e,t))break;un(e);var i=Lr(e);xr(e),Vt(e,i),Ci(e,i),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function mi(e,t){var n=new cn(e,t);if(yi(e,n)){un(e),Yo(e,n);var r=Lr(e);xr(e),Vt(e,r),Ci(e,r),n.finish()}}function ca(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,l=o.firstChild;function s(w){var L=w.nextSibling;return ee&&k&&e.display.currentWheelTarget==w?w.style.display="none":w.parentNode.removeChild(w),L}for(var a=r.view,u=r.viewFrom,h=0;h<a.length;h++){var d=a[h];if(!d.hidden)if(!d.node||d.node.parentNode!=o){var m=Is(e,d,u,n);o.insertBefore(m,l)}else{for(;l!=d.node;)l=s(l);var g=i&&t!=null&&t<=u&&d.lineNumber;d.changes&&(Oe(d.changes,"gutter")>-1&&(g=!1),mo(e,d,u,n)),g&&(N(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(Gn(e.options,u)))),l=d.node.nextSibling}u+=d.size}for(;l;)l=s(l)}function bi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",ke(e,"gutterChanged",e)}function Ci(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+ot(e)+"px"}function Zo(e){var t=e.display,n=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var r=ui(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",l=0;l<n.length;l++)if(!n[l].hidden){e.options.fixedGutter&&(n[l].gutter&&(n[l].gutter.style.left=o),n[l].gutterBackground&&(n[l].gutterBackground.style.left=o));var s=n[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function qo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Gn(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(O("div",[O("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-l)+1,r.lineNumWidth=r.lineNumInnerWidth+l,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",bi(e.display),!0}return!1}function Si(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],l=null;if(typeof o!="string"&&(l=o.style,o=o.className),o=="CodeMirror-linenumbers")if(t)r=!0;else continue;n.push({className:o,style:l})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Jo(e){var t=e.gutters,n=e.gutterSpecs;N(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,l=i.style,s=t.appendChild(O("div",null,"CodeMirror-gutter "+o));l&&(s.style.cssText=l),o=="CodeMirror-linenumbers"&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",bi(e)}function Dr(e){Jo(e.display),Ee(e),Zo(e)}function da(e,t,n,r){var i=this;this.input=n,i.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=te("div",null,"CodeMirror-code"),i.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=O("div",null,"CodeMirror-cursors"),i.measure=O("div",null,"CodeMirror-measure"),i.lineMeasure=O("div",null,"CodeMirror-measure"),i.lineSpace=te("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var o=te("div",[i.lineSpace],"CodeMirror-lines");i.mover=O("div",[o],null,"position: relative"),i.sizer=O("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=O("div",null,null,"position: absolute; height: "+zi+"px; width: 1px;"),i.gutters=O("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=O("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=O("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),ce&&He>=105&&(i.wrapper.style.clipPath="inset(0px)"),i.wrapper.setAttribute("translate","no"),B&&X<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!ee&&!(I&&b)&&(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=Si(r.gutters,r.lineNumbers),Jo(i),n.init(i)}var dn=0,dt=null;B?dt=-.53:I?dt=15:ce?dt=-.7:U&&(dt=-1/3);function Qo(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}}function pa(e){var t=Qo(e);return t.x*=dt,t.y*=dt,t}function jo(e,t){ce&&He==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var n=Qo(t),r=n.x,i=n.y,o=dt;t.deltaMode===0&&(r=t.deltaX,i=t.deltaY,o=1);var l=e.display,s=l.scroller,a=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(!!(r&&a||i&&u)){if(i&&k&&ee){e:for(var h=t.target,d=l.view;h!=s;h=h.parentNode)for(var m=0;m<d.length;m++)if(d[m].node==h){e.display.currentWheelTarget=h;break e}}if(r&&!I&&!z&&o!=null){i&&u&&kr(e,Math.max(0,s.scrollTop+i*o)),Bt(e,Math.max(0,s.scrollLeft+r*o)),(!i||i&&u)&&Be(t),l.wheelStartX=null;return}if(i&&o!=null){var g=i*o,w=e.doc.scrollTop,L=w+l.wrapper.clientHeight;g<0?w=Math.max(0,w+g-50):L=Math.min(e.doc.height,L+g+50),mi(e,{top:w,bottom:L})}dn<20&&t.deltaMode!==0&&(l.wheelStartX==null?(l.wheelStartX=s.scrollLeft,l.wheelStartY=s.scrollTop,l.wheelDX=r,l.wheelDY=i,setTimeout(function(){if(l.wheelStartX!=null){var A=s.scrollLeft-l.wheelStartX,H=s.scrollTop-l.wheelStartY,E=H&&l.wheelDY&&H/l.wheelDY||A&&l.wheelDX&&A/l.wheelDX;l.wheelStartX=l.wheelStartY=null,!!E&&(dt=(dt*dn+E)/(dn+1),++dn)}},200)):(l.wheelDX+=r,l.wheelDY+=i))}}var qe=function(e,t){this.ranges=e,this.primIndex=t};qe.prototype.primary=function(){return this.ranges[this.primIndex]},qe.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!Xn(n.anchor,r.anchor)||!Xn(n.head,r.head))return!1}return!0},qe.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new re(Yn(this.ranges[t].anchor),Yn(this.ranges[t].head));return new qe(e,this.primIndex)},qe.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},qe.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(j(t,r.from())>=0&&j(e,r.to())<=0)return n}return-1};var re=function(e,t){this.anchor=e,this.head=t};re.prototype.from=function(){return Jr(this.anchor,this.head)},re.prototype.to=function(){return qr(this.anchor,this.head)},re.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function $e(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(m,g){return j(m.from(),g.from())}),n=Oe(t,i);for(var o=1;o<t.length;o++){var l=t[o],s=t[o-1],a=j(s.to(),l.from());if(r&&!l.empty()?a>0:a>=0){var u=Jr(s.from(),l.from()),h=qr(s.to(),l.to()),d=s.empty()?l.from()==l.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new re(d?h:u,d?u:h))}}return new qe(t,n)}function Ct(e,t){return new qe([new re(e,t||e)],0)}function St(e){return e.text?D(e.from.line+e.text.length-1,ne(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function Vo(e,t){if(j(e,t.from)<0)return e;if(j(e,t.to)<=0)return St(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=St(t).ch-t.to.ch),D(n,r)}function xi(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new re(Vo(i.anchor,t),Vo(i.head,t)))}return $e(e.cm,n,e.sel.primIndex)}function $o(e,t,n){return e.line==t.line?D(n.line,e.ch-t.ch+n.ch):D(n.line+(e.line-t.line),e.ch)}function va(e,t,n){for(var r=[],i=D(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=$o(s.from,i,o),u=$o(St(s),i,o);if(i=s.to,o=u,n=="around"){var h=e.sel.ranges[l],d=j(h.head,h.anchor)<0;r[l]=new re(d?u:a,d?a:u)}else r[l]=new re(a,a)}return new qe(r,e.sel.primIndex)}function wi(e){e.doc.mode=Un(e.options,e.doc.modeOption),Ar(e)}function Ar(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Mr(e,100),e.state.modeGen++,e.curOp&&Ee(e)}function el(e,t){return t.from.ch==0&&t.to.ch==0&&ne(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function ki(e,t,n,r){function i(E){return n?n[E]:null}function o(E,F,_){ws(E,F,_,r),ke(E,"change",E,t)}function l(E,F){for(var _=[],Z=E;Z<F;++Z)_.push(new Xt(u[Z],i(Z),r));return _}var s=t.from,a=t.to,u=t.text,h=G(e,s.line),d=G(e,a.line),m=ne(u),g=i(u.length-1),w=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(el(e,t)){var L=l(0,u.length-1);o(d,d.text,g),w&&e.remove(s.line,w),L.length&&e.insert(s.line,L)}else if(h==d)if(u.length==1)o(h,h.text.slice(0,s.ch)+m+h.text.slice(a.ch),g);else{var A=l(1,u.length-1);A.push(new Xt(m+h.text.slice(a.ch),g,r)),o(h,h.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,A)}else if(u.length==1)o(h,h.text.slice(0,s.ch)+u[0]+d.text.slice(a.ch),i(0)),e.remove(s.line+1,w);else{o(h,h.text.slice(0,s.ch)+u[0],i(0)),o(d,m+d.text.slice(a.ch),g);var H=l(1,u.length-1);w>1&&e.remove(s.line+1,w-1),e.insert(s.line+1,H)}ke(e,"change",e,t)}function xt(e,t,n){function r(i,o,l){if(i.linked)for(var s=0;s<i.linked.length;++s){var a=i.linked[s];if(a.doc!=o){var u=l&&a.sharedHist;n&&!u||(t(a.doc,u),r(a.doc,i,u))}}}r(e,null,!0)}function tl(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,fi(e),wi(e),rl(e),e.options.direction=t.direction,e.options.lineWrapping||$n(e),e.options.mode=t.modeOption,Ee(e)}function rl(e){(e.doc.direction=="rtl"?Ce:W)(e.display.lineDiv,"CodeMirror-rtl")}function ga(e){Ke(e,function(){rl(e),Ee(e)})}function pn(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:Infinity,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Li(e,t){var n={from:Yn(t.from),to:St(t),text:Ot(e,t.from,t.to)};return ol(e,n,t.from.line,t.to.line+1),xt(e,function(r){return ol(r,n,t.from.line,t.to.line+1)},!0),n}function nl(e){for(;e.length;){var t=ne(e);if(t.ranges)e.pop();else break}}function ya(e,t){if(t)return nl(e.done),ne(e.done);if(e.done.length&&!ne(e.done).ranges)return ne(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),ne(e.done)}function il(e,t,n,r){var i=e.history;i.undone.length=0;var o=+new Date,l,s;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastModTime>o-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(l=ya(i,i.lastOp==r)))s=ne(l.changes),j(t.from,t.to)==0&&j(t.from,s.to)==0?s.to=St(t):l.changes.push(Li(e,t));else{var a=ne(i.done);for((!a||!a.ranges)&&vn(e.sel,i.done),l={changes:[Li(e,t)],generation:i.generation},i.done.push(l);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||ge(e,"historyAdded")}function ma(e,t,n,r){var i=t.charAt(0);return i=="*"||i=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ba(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||ma(e,o,ne(i.done),t))?i.done[i.done.length-1]=t:vn(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&nl(i.undone)}function vn(e,t){var n=ne(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ol(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(l){l.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=l.markedSpans),++o})}function Ca(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Sa(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Ca(n[i]));return r}function ll(e,t){var n=Sa(e,t),r=Jn(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],l=r[i];if(o&&l){e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}}else l&&(n[i]=l)}return n}function $t(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges){r.push(n?qe.prototype.deepCopy.call(o):o);continue}var l=o.changes,s=[];r.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],h=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(h=d.match(/^spans_(\d+)$/))&&Oe(t,Number(h[1]))>-1&&(ne(s)[d]=u[d],delete u[d])}}return r}function Ti(e,t,n,r){if(r){var i=e.anchor;if(n){var o=j(t,i)<0;o!=j(n,i)<0?(i=t,t=n):o!=j(t,n)<0&&(t=n)}return new re(i,t)}else return new re(n||t,t)}function gn(e,t,n,r,i){i==null&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ne(e,new qe([Ti(e.sel.primary(),t,n,i)],0),r)}function sl(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Ti(e.sel.ranges[o],t[o],null,i);var l=$e(e.cm,r,e.sel.primIndex);Ne(e,l,n)}function Mi(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Ne(e,$e(e.cm,i,e.sel.primIndex),r)}function al(e,t,n,r){Ne(e,Ct(t,n),r)}function xa(e,t,n){var r={ranges:t.ranges,update:function(i){this.ranges=[];for(var o=0;o<i.length;o++)this.ranges[o]=new re(V(e,i[o].anchor),V(e,i[o].head))},origin:n&&n.origin};return ge(e,"beforeSelectionChange",e,r),e.cm&&ge(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?$e(e.cm,r.ranges,r.ranges.length-1):t}function ul(e,t,n){var r=e.history.done,i=ne(r);i&&i.ranges?(r[r.length-1]=t,yn(e,t,n)):Ne(e,t,n)}function Ne(e,t,n){yn(e,t,n),ba(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function yn(e,t,n){(Qe(e,"beforeSelectionChange")||e.cm&&Qe(e.cm,"beforeSelectionChange"))&&(t=xa(e,t,n));var r=n&&n.bias||(j(t.primary().head,e.sel.primary().head)<0?-1:1);fl(e,cl(e,t,r,!0)),!(n&&n.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&jt(e.cm)}function fl(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Yi(e.cm)),ke(e,"cursorActivity",e))}function hl(e){fl(e,cl(e,e.sel,null,!1))}function cl(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=mn(e,l.anchor,s&&s.anchor,n,r),u=l.head==l.anchor?a:mn(e,l.head,s&&s.head,n,r);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new re(a,u))}return i?$e(e.cm,i,t.primIndex):t}function er(e,t,n,r,i){var o=G(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker,u="selectLeft"in a?!a.selectLeft:a.inclusiveLeft,h="selectRight"in a?!a.selectRight:a.inclusiveRight;if((s.from==null||(u?s.from<=t.ch:s.from<t.ch))&&(s.to==null||(h?s.to>=t.ch:s.to>t.ch))){if(i&&(ge(a,"beforeCursorEnter"),a.explicitlyCleared))if(o.markedSpans){--l;continue}else break;if(!a.atomic)continue;if(n){var d=a.find(r<0?1:-1),m=void 0;if((r<0?h:u)&&(d=dl(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(m=j(d,n))&&(r<0?m<0:m>0))return er(e,d,t,r,i)}var g=a.find(r<0?-1:1);return(r<0?u:h)&&(g=dl(e,g,r,g.line==t.line?o:null)),g?er(e,g,t,r,i):null}}return t}function mn(e,t,n,r,i){var o=r||1,l=er(e,t,n,o,i)||!i&&er(e,t,n,o,!0)||er(e,t,n,-o,i)||!i&&er(e,t,n,-o,!0);return l||(e.cantEdit=!0,D(e.first,0))}function dl(e,t,n,r){return n<0&&t.ch==0?t.line>e.first?V(e,D(t.line-1)):null:n>0&&t.ch==(r||G(e,t.line)).text.length?t.line<e.first+e.size-1?D(t.line+1,0):null:new D(t.line,t.ch+n)}function pl(e){e.setSelection(D(e.firstLine(),0),D(e.lastLine()),rt)}function vl(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(i,o,l,s){i&&(r.from=V(e,i)),o&&(r.to=V(e,o)),l&&(r.text=l),s!==void 0&&(r.origin=s)}),ge(e,"beforeChange",e,r),e.cm&&ge(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function tr(e,t,n){if(e.cm){if(!e.cm.curOp)return Le(e.cm,tr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!((Qe(e,"beforeChange")||e.cm&&Qe(e.cm,"beforeChange"))&&(t=vl(e,t,!0),!t))){var r=oo&&!n&&bs(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)gl(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else gl(e,t)}}function gl(e,t){if(!(t.text.length==1&&t.text[0]==""&&j(t.from,t.to)==0)){var n=xi(e,t);il(e,t,n,e.cm?e.cm.curOp.id:NaN),Or(e,t,n,Jn(e,t));var r=[];xt(e,function(i,o){!o&&Oe(r,i.history)==-1&&(Cl(i.history,t),r.push(i.history)),Or(i,t,null,Jn(i,t))})}}function bn(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!(r&&!n)){for(var i=e.history,o,l=e.sel,s=t=="undo"?i.done:i.undone,a=t=="undo"?i.undone:i.done,u=0;u<s.length&&(o=s[u],!(n?o.ranges&&!o.equals(e.sel):!o.ranges));u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;)if(o=s.pop(),o.ranges){if(vn(o,a),n&&!o.equals(e.sel)){Ne(e,o,{clearRedo:!1});return}l=o}else if(r){s.push(o);return}else break;var h=[];vn(l,a),a.push({changes:h,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var d=Qe(e,"beforeChange")||e.cm&&Qe(e.cm,"beforeChange"),m=function(L){var A=o.changes[L];if(A.origin=t,d&&!vl(e,A,!1))return s.length=0,{};h.push(Li(e,A));var H=L?xi(e,A):ne(s);Or(e,A,H,ll(e,A)),!L&&e.cm&&e.cm.scrollIntoView({from:A.from,to:St(A)});var E=[];xt(e,function(F,_){!_&&Oe(E,F.history)==-1&&(Cl(F.history,A),E.push(F.history)),Or(F,A,null,ll(F,A))})},g=o.changes.length-1;g>=0;--g){var w=m(g);if(w)return w.v}}}}function yl(e,t){if(t!=0&&(e.first+=t,e.sel=new qe(Xr(e.sel.ranges,function(i){return new re(D(i.anchor.line+t,i.anchor.ch),D(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){Ee(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)mt(e.cm,r,"gutter")}}function Or(e,t,n,r){if(e.cm&&!e.cm.curOp)return Le(e.cm,Or)(e,t,n,r);if(t.to.line<e.first){yl(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);yl(e,i),t={from:D(e.first,0),to:D(t.to.line+i,t.to.ch),text:[ne(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:D(o,G(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ot(e,t.from,t.to),n||(n=xi(e,t)),e.cm?wa(e.cm,t,r):ki(e,t,r),yn(e,n,rt),e.cantEdit&&mn(e,D(e.firstLine(),0))&&(e.cantEdit=!1)}}function wa(e,t,n){var r=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=ie(je(G(r,o.line))),r.iter(a,l.line+1,function(g){if(g==i.maxLine)return s=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Yi(e),ki(r,t,n,Bo(e)),e.options.lineWrapping||(r.iter(a,o.line+t.text.length,function(g){var w=tn(g);w>i.maxLineLength&&(i.maxLine=g,i.maxLineLength=w,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),cs(r,o.line),Mr(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?Ee(e):o.line==l.line&&t.text.length==1&&!el(e.doc,t)?mt(e,o.line,"text"):Ee(e,o.line,l.line+1,u);var h=Qe(e,"changes"),d=Qe(e,"change");if(d||h){var m={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};d&&ke(e,"change",e,m),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(m)}e.display.selForContextMenu=null}function rr(e,t,n,r,i){var o;r||(r=n),j(r,n)<0&&(o=[r,n],n=o[0],r=o[1]),typeof t=="string"&&(t=e.splitLines(t)),tr(e,{from:n,to:r,text:t,origin:i})}function ml(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function bl(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)ml(o.ranges[s].anchor,t,n,r),ml(o.ranges[s].head,t,n,r);continue}for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(n<u.from.line)u.from=D(u.from.line+r,u.from.ch),u.to=D(u.to.line+r,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}function Cl(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;bl(e.done,n,r,i),bl(e.undone,n,r,i)}function Nr(e,t,n,r){var i=t,o=t;return typeof t=="number"?o=G(e,Qi(e,t)):i=ie(t),i==null?null:(r(o,i)&&e.cm&&mt(e.cm,i,n),o)}function Wr(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}Wr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,ks(i),ke(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}};function Hr(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}Hr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),l=r.height;if(r.removeInner(e,o),this.height-=l-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),(t-=o)==0)break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Wr))){var s=[];this.collapse(s),this.children=[new Wr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var l=i.lines.length%25+25,s=l;s<i.lines.length;){var a=new Wr(i.lines.slice(s,s+=25));i.height-=a.height,this.children.splice(++r,0,a),a.parent=this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Hr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Oe(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Hr(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,n))return!0;if((t-=l)==0)break;e=0}else e-=o}}};var Fr=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Fr.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=ie(n);if(!(r==null||!t)){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=Cr(this);nt(n,Math.max(0,n.height-o)),e&&(Ke(e,function(){Sl(e,n,-o),mt(e,r,"widget")}),ke(e,"lineWidgetCleared",e,this,r))}},Fr.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Cr(this)-t;!i||(yt(this.doc,r)||nt(r,r.height+i),n&&Ke(n,function(){n.curOp.forceUpdate=!0,Sl(n,r,i),ke(n,"lineWidgetChanged",n,e,ie(r))}))},_t(Fr);function Sl(e,t,n){ht(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&gi(e,n)}function ka(e,t,n,r){var i=new Fr(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Nr(e,t,"widget",function(l){var s=l.widgets||(l.widgets=[]);if(i.insertAt==null?s.push(i):s.splice(Math.min(s.length,Math.max(0,i.insertAt)),0,i),i.line=l,o&&!yt(e,l)){var a=ht(l)<e.scrollTop;nt(l,l.height+Cr(i)),a&&gi(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&ke(o,"lineWidgetAdded",o,i,typeof t=="number"?t:ie(t)),i}var xl=0,wt=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++xl};wt.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Rt(e),Qe(this,"clear")){var n=this.find();n&&ke(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],s=yr(l.markedSpans,this);e&&!this.collapsed?mt(e,ie(l),"text"):e&&(s.to!=null&&(i=ie(l)),s.from!=null&&(r=ie(l))),l.markedSpans=vs(l.markedSpans,s),s.from==null&&this.collapsed&&!yt(this.doc,l)&&e&&nt(l,qt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var u=je(this.lines[a]),h=tn(u);h>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&Ee(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&hl(e.doc)),e&&ke(e,"markerCleared",e,this,r,i),t&&It(e),this.parent&&this.parent.clear()}},wt.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],l=yr(o.markedSpans,this);if(l.from!=null&&(n=D(t?o:ie(o),l.from),e==-1))return n;if(l.to!=null&&(r=D(t?o:ie(o),l.to),e==1))return r}return n&&{from:n,to:r}},wt.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;!t||!r||Ke(r,function(){var i=t.line,o=ie(t.line),l=ni(r,o);if(l&&(Do(l),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!yt(n.doc,i)&&n.height!=null){var s=n.height;n.height=null;var a=Cr(n)-s;a&&nt(i,i.height+a)}ke(r,"markerChanged",r,e)})},wt.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Oe(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wt.prototype.detachLine=function(e){if(this.lines.splice(Oe(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},_t(wt);function nr(e,t,n,r,i){if(r&&r.shared)return La(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Le(e.cm,nr)(e,t,n,r,i);var o=new wt(e,i),l=j(t,n);if(r&&Dt(r,o,!1),l>0||l==0&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=te("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ho(e,t.line,t,n,o)||t.line!=n.line&&ho(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");ps()}o.addToHistory&&il(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s=t.line,a=e.cm,u;if(e.iter(s,n.line+1,function(d){a&&o.collapsed&&!a.options.lineWrapping&&je(d)==a.display.maxLine&&(u=!0),o.collapsed&&s!=t.line&&nt(d,0),gs(d,new jr(o,s==t.line?t.ch:null,s==n.line?n.ch:null),e.cm&&e.cm.curOp),++s}),o.collapsed&&e.iter(t.line,n.line+1,function(d){yt(e,d)&&nt(d,0)}),o.clearOnEnter&&q(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(ds(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++xl,o.atomic=!0),a){if(u&&(a.curOp.updateMaxLine=!0),o.collapsed)Ee(a,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var h=t.line;h<=n.line;h++)mt(a,h,"text");o.atomic&&hl(a.doc),ke(a,"markerAdded",a,o)}return o}var Pr=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Pr.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ke(this,"clear")}},Pr.prototype.find=function(e,t){return this.primary.find(e,t)},_t(Pr);function La(e,t,n,r,i){r=Dt(r),r.shared=!1;var o=[nr(e,t,n,r,i)],l=o[0],s=r.widgetNode;return xt(e,function(a){s&&(r.widgetNode=s.cloneNode(!0)),o.push(nr(a,V(a,t),V(a,n),r,i));for(var u=0;u<a.linked.length;++u)if(a.linked[u].isParent)return;l=ne(o)}),new Pr(o,l)}function wl(e){return e.findMarks(D(e.first,0),e.clipPos(D(e.lastLine())),function(t){return t.parent})}function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(j(o,l)){var s=nr(e,o,l,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Ma(e){for(var t=function(r){var i=e[r],o=[i.primary.doc];xt(i.primary.doc,function(a){return o.push(a)});for(var l=0;l<i.markers.length;l++){var s=i.markers[l];Oe(o,s.doc)==-1&&(s.parent=null,i.markers.splice(l--,1))}},n=0;n<e.length;n++)t(n)}var Da=0,Re=function(e,t,n,r,i){if(!(this instanceof Re))return new Re(e,t,n,r,i);n==null&&(n=0),Hr.call(this,[new Wr([new Xt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=D(n,0);this.sel=Ct(o),this.history=new pn(null),this.id=++Da,this.modeOption=t,this.lineSep=r,this.direction=i=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),ki(this,{from:o,to:o,text:e}),Ne(this,Ct(o),rt)};Re.prototype=_i(Hr.prototype,{constructor:Re,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Kn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Te(function(e){var t=D(this.first,0),n=this.first+this.size-1;tr(this,{from:t,to:D(n,G(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&wr(this.cm,0,0),Ne(this,Ct(t),rt)}),replaceRange:function(e,t,n,r){t=V(this,t),n=n?V(this,n):t,rr(this,e,t,n,r)},getRange:function(e,t,n){var r=Ot(this,V(this,e),V(this,t));return n===!1?r:n===""?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(vr(this,e))return G(this,e)},getLineNumber:function(e){return ie(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=G(this,e)),je(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return V(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Te(function(e,t,n){al(this,V(this,typeof e=="number"?D(e,t||0):e),null,n)}),setSelection:Te(function(e,t,n){al(this,V(this,e),V(this,t||e),n)}),extendSelection:Te(function(e,t,n){gn(this,V(this,e),t&&V(this,t),n)}),extendSelections:Te(function(e,t){sl(this,ji(this,e),t)}),extendSelectionsBy:Te(function(e,t){var n=Xr(this.sel.ranges,e);sl(this,ji(this,n),t)}),setSelections:Te(function(e,t,n){if(!!e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new re(V(this,e[i].anchor),V(this,e[i].head||e[i].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Ne(this,$e(this.cm,r,t),n)}}),addSelection:Te(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new re(V(this,e),V(this,t||e))),Ne(this,$e(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var i=Ot(this,t[r].from(),t[r].to());n=n?n.concat(i):i}return e===!1?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ot(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Te(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];r[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&t!="end"&&va(this,r,t),a=r.length-1;a>=0;a--)tr(this,r[a]);s?ul(this,s):this.cm&&jt(this.cm)}),undo:Te(function(){bn(this,"undo")}),redo:Te(function(){bn(this,"redo")}),undoSelection:Te(function(){bn(this,"undo",!0)}),redoSelection:Te(function(){bn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new pn(this.history),xt(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:$t(this.history.done),undone:$t(this.history.undone)}},setHistory:function(e){var t=this.history=new pn(this.history);t.done=$t(e.done.slice(0),null,!0),t.undone=$t(e.undone.slice(0),null,!0)},setGutterMarker:Te(function(e,t,n){return Nr(this,e,"gutter",function(r){var i=r.gutterMarkers||(r.gutterMarkers={});return i[t]=n,!n&&Ki(i)&&(r.gutterMarkers=null),!0})}),clearGutter:Te(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Nr(t,n,"gutter",function(){return n.gutterMarkers[e]=null,Ki(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!vr(this,e)||(t=e,e=G(this,e),!e))return null}else if(t=ie(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Te(function(e,t,n){return Nr(this,e,t=="gutter"?"gutter":"class",function(r){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!r[i])r[i]=n;else{if(M(n).test(r[i]))return!1;r[i]+=" "+n}return!0})}),removeLineClass:Te(function(e,t,n){return Nr(this,e,t=="gutter"?"gutter":"class",function(r){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",o=r[i];if(o)if(n==null)r[i]=null;else{var l=o.match(M(n));if(!l)return!1;var s=l.index+l[0].length;r[i]=o.slice(0,l.index)+(!l.index||s==o.length?"":" ")+o.slice(s)||null}else return!1;return!0})}),addLineWidget:Te(function(e,t,n){return ka(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return nr(this,V(this,e),V(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=V(this,e),nr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=V(this,e);var t=[],n=G(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=V(this,e),t=V(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];!(a.to!=null&&i==e.line&&e.ch>=a.to||a.from==null&&i!=e.line||a.from!=null&&i==t.line&&a.from>=t.ch)&&(!n||n(a.marker))&&r.push(a.marker.parent||a.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n}),V(this,D(n,t))},indexFromPos:function(e){e=V(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+n}),t},copy:function(e){var t=new Re(Kn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new Re(Kn(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ta(r,wl(this)),r},unlinkDoc:function(e){if(e instanceof ue&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ma(wl(this));break}}if(e.history==this.history){var r=[e.id];xt(e,function(i){return r.push(i.id)},!0),e.history=new pn(null),e.history.done=$t(this.history.done,r),e.history.undone=$t(this.history.undone,r)}},iterLinkedDocs:function(e){xt(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Rn(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Te(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&ga(this.cm))})}),Re.prototype.eachLine=Re.prototype.iter;var kl=0;function Aa(e){var t=this;if(Ll(t),!(we(t,e)||ct(t.display,e))){Be(e),B&&(kl=+new Date);var n=Ft(t,e,!0),r=e.dataTransfer.files;if(!(!n||t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),l=0,s=function(){++l==i&&Le(t,function(){n=V(t.doc,n);var g={from:n,to:n,text:t.doc.splitLines(o.filter(function(w){return w!=null}).join(t.doc.lineSeparator())),origin:"paste"};tr(t.doc,g),ul(t.doc,Ct(V(t.doc,n),V(t.doc,St(g))))})()},a=function(g,w){if(t.options.allowDropFileTypes&&Oe(t.options.allowDropFileTypes,g.type)==-1){s();return}var L=new FileReader;L.onerror=function(){return s()},L.onload=function(){var A=L.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(A)){s();return}o[w]=A,s()},L.readAsText(g)},u=0;u<r.length;u++)a(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var h=e.dataTransfer.getData("Text");if(h){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),yn(t.doc,Ct(n,n)),d)for(var m=0;m<d.length;++m)rr(t.doc,"",d[m].anchor,d[m].head,"drag");t.replaceSelection(h,"around","paste"),t.display.input.focus()}}catch(g){}}}}function Oa(e,t){if(B&&(!e.state.draggingText||+new Date-kl<100)){pr(t);return}if(!(we(e,t)||ct(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!U)){var n=O("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",z&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),z&&n.parentNode.removeChild(n)}}function Na(e,t){var n=Ft(e,t);if(!!n){var r=document.createDocumentFragment();hi(e,n,r),e.display.dragCursor||(e.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),R(e.display.dragCursor,r)}}function Ll(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Tl(e){if(!!document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var o=0;o<n.length;o++)e(n[o])})}}var Ml=!1;function Wa(){Ml||(Ha(),Ml=!0)}function Ha(){var e;q(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Tl(Fa)},100))}),q(window,"blur",function(){return Tl(Qt)})}function Fa(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var kt={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Br=0;Br<10;Br++)kt[Br+48]=kt[Br+96]=String(Br);for(var Cn=65;Cn<=90;Cn++)kt[Cn]=String.fromCharCode(Cn);for(var Er=1;Er<=12;Er++)kt[Er+111]=kt[Er+63235]="F"+Er;var pt={};pt.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pt.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},pt.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},pt.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},pt.default=k?pt.macDefault:pt.pcDefault;function Pa(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else if(/^s(hift)?$/i.test(s))i=!0;else throw new Error("Unrecognized modifier name: "+s)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Ba(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}for(var i=Xr(n.split(" "),Pa),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=r):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(!a)t[s]=l;else if(a!=l)throw new Error("Inconsistent bindings for "+s)}delete e[n]}for(var u in t)e[u]=t[u];return e}function ir(e,t,n,r){t=Sn(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&n(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return ir(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var l=ir(e,t.fallthrough[o],n,r);if(l)return l}}}function Dl(e){var t=typeof e=="string"?e:kt[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Al(e,t,n){var r=e;return t.altKey&&r!="Alt"&&(e="Alt-"+e),(y?t.metaKey:t.ctrlKey)&&r!="Ctrl"&&(e="Ctrl-"+e),(y?t.ctrlKey:t.metaKey)&&r!="Mod"&&(e="Cmd-"+e),!n&&t.shiftKey&&r!="Shift"&&(e="Shift-"+e),e}function Ol(e,t){if(z&&e.keyCode==34&&e.char)return!1;var n=kt[e.keyCode];return n==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(n=e.code),Al(n,e,t))}function Sn(e){return typeof e=="string"?pt[e]:e}function or(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&j(o.from,ne(r).to)<=0;){var l=r.pop();if(j(l.from,o.from)<0){o.from=l.from;break}}r.push(o)}Ke(e,function(){for(var s=r.length-1;s>=0;s--)rr(e.doc,"",r[s].from,r[s].to,"+delete");jt(e)})}function Di(e,t,n){var r=Gi(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ai(e,t,n){var r=Di(e,t.ch,n);return r==null?null:new D(t.line,r,n<0?"after":"before")}function Oi(e,t,n,r,i){if(e){t.doc.direction=="rtl"&&(i=-i);var o=ut(n,t.doc.direction);if(o){var l=i<0?ne(o):o[0],s=i<0==(l.level==1),a=s?"after":"before",u;if(l.level>0||t.doc.direction=="rtl"){var h=Zt(t,n);u=i<0?n.text.length-1:0;var d=lt(t,h,u).top;u=hr(function(m){return lt(t,h,m).top==d},i<0==(l.level==1)?l.from:l.to-1,u),a=="before"&&(u=Di(n,u,1))}else u=i<0?l.to:l.from;return new D(r,u,a)}}return new D(r,i<0?n.text.length:0,i<0?"before":"after")}function Ea(e,t,n,r){var i=ut(t,e.doc.direction);if(!i)return Ai(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=dr(i,n.ch,n.sticky),l=i[o];if(e.doc.direction=="ltr"&&l.level%2==0&&(r>0?l.to>n.ch:l.from<n.ch))return Ai(t,n,r);var s=function(H,E){return Di(t,H instanceof D?H.ch:H,E)},a,u=function(H){return e.options.lineWrapping?(a=a||Zt(e,t),Po(e,t,a,H)):{begin:0,end:t.text.length}},h=u(n.sticky=="before"?s(n,-1):n.ch);if(e.doc.direction=="rtl"||l.level==1){var d=l.level==1==r<0,m=s(n,d?1:-1);if(m!=null&&(d?m<=l.to&&m<=h.end:m>=l.from&&m>=h.begin)){var g=d?"before":"after";return new D(n.line,m,g)}}var w=function(H,E,F){for(var _=function(le,Me){return Me?new D(n.line,s(le,1),"before"):new D(n.line,le,"after")};H>=0&&H<i.length;H+=E){var Z=i[H],Y=E>0==(Z.level!=1),$=Y?F.begin:s(F.end,-1);if(Z.from<=$&&$<Z.to||($=Y?Z.from:s(Z.to,-1),F.begin<=$&&$<F.end))return _($,Y)}},L=w(o+r,r,h);if(L)return L;var A=r>0?h.end:s(h.begin,-1);return A!=null&&!(r>0&&A==t.text.length)&&(L=w(r>0?0:i.length-1,r,u(A)),L)?L:null}var Rr={selectAll:pl,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),rt)},killLine:function(e){return or(e,function(t){if(t.empty()){var n=G(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:D(t.head.line+1,0)}:{from:t.head,to:D(t.head.line,n)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return or(e,function(t){return{from:D(t.from().line,0),to:V(e.doc,D(t.to().line+1,0))}})},delLineLeft:function(e){return or(e,function(t){return{from:D(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return or(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return or(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(D(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(D(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Nl(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Wl(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return Ra(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},fr)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},fr)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Wl(e,t.head):r},fr)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),l=Je(e.getLine(o.line),o.ch,r);t.push(On(r-l%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ke(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(!!t[r].empty()){var i=t[r].head,o=G(e.doc,i.line).text;if(o){if(i.ch==o.length&&(i=new D(i.line,i.ch-1)),i.ch>0)i=new D(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),D(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=G(e.doc,i.line-1).text;l&&(i=new D(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),D(i.line-1,l.length-1),i,"+transpose"))}}n.push(new re(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return Ke(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);jt(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Nl(e,t){var n=G(e.doc,t),r=je(n);return r!=n&&(t=ie(r)),Oi(!0,e,r,t,1)}function Ra(e,t){var n=G(e.doc,t),r=Ss(n);return r!=n&&(t=ie(r)),Oi(!0,e,n,t,-1)}function Wl(e,t){var n=Nl(e,t.line),r=G(e.doc,n.line),i=ut(r,e.doc.direction);if(!i||i[0].level==0){var o=Math.max(n.ch,r.text.search(/\S/)),l=t.line==n.line&&t.ch<=o&&t.ch;return D(n.line,l?0:o,n.sticky)}return n}function xn(e,t,n){if(typeof t=="string"&&(t=Rr[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Kr}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Ia(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=ir(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&ir(t,e.options.extraKeys,n,e)||ir(t,e.options.keyMap,n,e)}var za=new gt;function Ir(e,t,n,r){var i=e.state.keySeq;if(i){if(Dl(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:za.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Hl(e,i+" "+t,n,r))return!0}return Hl(e,t,n,r)}function Hl(e,t,n,r){var i=Ia(e,t,r);return i=="multi"&&(e.state.keySeq=t),i=="handled"&&ke(e,"keyHandled",e,t,n),(i=="handled"||i=="multi")&&(Be(n),ci(e)),!!i}function Fl(e,t){var n=Ol(t,!0);return n?t.shiftKey&&!e.state.keySeq?Ir(e,"Shift-"+n,t,function(r){return xn(e,r,!0)})||Ir(e,n,t,function(r){if(typeof r=="string"?/^go[A-Z]/.test(r):r.motion)return xn(e,r)}):Ir(e,n,t,function(r){return xn(e,r)}):!1}function Ua(e,t,n){return Ir(e,"'"+n+"'",t,function(r){return xn(e,r,!0)})}var Ni=null;function Pl(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=se(_e(t)),!we(t,e))){B&&X<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=Fl(t,e);z&&(Ni=r?n:null,!r&&n==88&&!os&&(k?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),I&&!k&&!r&&n==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&_a(t)}}function _a(e){var t=e.display.lineDiv;Ce(t,"CodeMirror-crosshair");function n(r){(r.keyCode==18||!r.altKey)&&(W(t,"CodeMirror-crosshair"),Ze(document,"keyup",n),Ze(document,"mouseover",n))}q(document,"keyup",n),q(document,"mouseover",n)}function Bl(e){e.keyCode==16&&(this.doc.sel.shift=!1),we(this,e)}function El(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(ct(t.display,e)||we(t,e)||e.ctrlKey&&!e.altKey||k&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(z&&n==Ni){Ni=null,Be(e);return}if(!(z&&(!e.which||e.which<10)&&Fl(t,e))){var i=String.fromCharCode(r==null?n:r);i!="\b"&&(Ua(t,e,i)||t.display.input.onKeyPress(e))}}}var Ka=400,Wi=function(e,t,n){this.time=e,this.pos=t,this.button=n};Wi.prototype.compare=function(e,t,n){return this.time+Ka>e&&j(t,this.pos)==0&&n==this.button};var zr,Ur;function Ga(e,t){var n=+new Date;return Ur&&Ur.compare(n,e,t)?(zr=Ur=null,"triple"):zr&&zr.compare(n,e,t)?(Ur=new Wi(n,e,t),zr=null,"double"):(zr=new Wi(n,e,t),Ur=null,"single")}function Rl(e){var t=this,n=t.display;if(!(we(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,ct(n,e)){ee||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!Hi(t,e)){var r=Ft(t,e),i=qi(e),o=r?Ga(r,i):"single";Mt(t).focus(),i==1&&t.state.selectingText&&t.state.selectingText(e),!(r&&Xa(t,i,r,o,e))&&(i==1?r?Za(t,r,o,e):Pn(e)==n.scroller&&Be(e):i==2?(r&&gn(t.doc,r),setTimeout(function(){return n.input.focus()},20)):i==3&&(x?t.display.input.onContextMenu(e):di(t)))}}}function Xa(e,t,n,r,i){var o="Click";return r=="double"?o="Double"+o:r=="triple"&&(o="Triple"+o),o=(t==1?"Left":t==2?"Middle":"Right")+o,Ir(e,Al(o,i),i,function(l){if(typeof l=="string"&&(l=Rr[l]),!l)return!1;var s=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),s=l(e,n)!=Kr}finally{e.state.suppressEdits=!1}return s})}function Ya(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(i.unit==null){var o=f?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(i.extend==null||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),i.addNew==null&&(i.addNew=k?n.metaKey:n.ctrlKey),i.moveOnDrag==null&&(i.moveOnDrag=!(k?n.altKey:n.ctrlKey)),i}function Za(e,t,n,r){B?setTimeout(Mn(Io,e),0):e.curOp.focus=se(_e(e));var i=Ya(e,n,r),o=e.doc.sel,l;e.options.dragDrop&&ts&&!e.isReadOnly()&&n=="single"&&(l=o.contains(t))>-1&&(j((l=o.ranges[l]).from(),t)<0||t.xRel>0)&&(j(l.to(),t)>0||t.xRel<0)?qa(e,r,t,i):Ja(e,r,t,i)}function qa(e,t,n,r){var i=e.display,o=!1,l=Le(e,function(u){ee&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:di(e)),Ze(i.wrapper.ownerDocument,"mouseup",l),Ze(i.wrapper.ownerDocument,"mousemove",s),Ze(i.scroller,"dragstart",a),Ze(i.scroller,"drop",l),o||(Be(u),r.addNew||gn(e.doc,n,null,null,r.extend),ee&&!U||B&&X==9?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),s=function(u){o=o||Math.abs(t.clientX-u.clientX)+Math.abs(t.clientY-u.clientY)>=10},a=function(){return o=!0};ee&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!r.moveOnDrag,q(i.wrapper.ownerDocument,"mouseup",l),q(i.wrapper.ownerDocument,"mousemove",s),q(i.scroller,"dragstart",a),q(i.scroller,"drop",l),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Il(e,t,n){if(n=="char")return new re(t,t);if(n=="word")return e.findWordAt(t);if(n=="line")return new re(D(t.line,0),V(e.doc,D(t.line+1,0)));var r=n(e,t);return new re(r.from,r.to)}function Ja(e,t,n,r){B&&di(e);var i=e.display,o=e.doc;Be(t);var l,s,a=o.sel,u=a.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),s>-1?l=u[s]:l=new re(n,n)):(l=o.sel.primary(),s=o.sel.primIndex),r.unit=="rectangle")r.addNew||(l=new re(n,n)),n=Ft(e,t,!0,!0),s=-1;else{var h=Il(e,n,r.unit);r.extend?l=Ti(l,h.anchor,h.head,r.extend):l=h}r.addNew?s==-1?(s=u.length,Ne(o,$e(e,u.concat([l]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&r.unit=="char"&&!r.extend?(Ne(o,$e(e,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),a=o.sel):Mi(o,s,l,Dn):(s=0,Ne(o,new qe([l],0),Dn),a=o.sel);var d=n;function m(F){if(j(d,F)!=0)if(d=F,r.unit=="rectangle"){for(var _=[],Z=e.options.tabSize,Y=Je(G(o,n.line).text,n.ch,Z),$=Je(G(o,F.line).text,F.ch,Z),le=Math.min(Y,$),Me=Math.max(Y,$),he=Math.min(n.line,F.line),Ge=Math.min(e.lastLine(),Math.max(n.line,F.line));he<=Ge;he++){var Ie=G(o,he).text,me=An(Ie,le,Z);le==Me?_.push(new re(D(he,me),D(he,me))):Ie.length>me&&_.push(new re(D(he,me),D(he,An(Ie,Me,Z))))}_.length||_.push(new re(n,n)),Ne(o,$e(e,a.ranges.slice(0,s).concat(_),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(F)}else{var ze=l,Ae=Il(e,F,r.unit),Se=ze.anchor,be;j(Ae.anchor,Se)>0?(be=Ae.head,Se=Jr(ze.from(),Ae.anchor)):(be=Ae.anchor,Se=qr(ze.to(),Ae.head));var de=a.ranges.slice(0);de[s]=Qa(e,new re(V(o,Se),be)),Ne(o,$e(e,de,s),Dn)}}var g=i.wrapper.getBoundingClientRect(),w=0;function L(F){var _=++w,Z=Ft(e,F,!0,r.unit=="rectangle");if(!!Z)if(j(Z,d)!=0){e.curOp.focus=se(_e(e)),m(Z);var Y=fn(i,o);(Z.line>=Y.to||Z.line<Y.from)&&setTimeout(Le(e,function(){w==_&&L(F)}),150)}else{var $=F.clientY<g.top?-20:F.clientY>g.bottom?20:0;$&&setTimeout(Le(e,function(){w==_&&(i.scroller.scrollTop+=$,L(F))}),50)}}function A(F){e.state.selectingText=!1,w=Infinity,F&&(Be(F),i.input.focus()),Ze(i.wrapper.ownerDocument,"mousemove",H),Ze(i.wrapper.ownerDocument,"mouseup",E),o.history.lastSelOrigin=null}var H=Le(e,function(F){F.buttons===0||!qi(F)?A(F):L(F)}),E=Le(e,A);e.state.selectingText=E,q(i.wrapper.ownerDocument,"mousemove",H),q(i.wrapper.ownerDocument,"mouseup",E)}function Qa(e,t){var n=t.anchor,r=t.head,i=G(e.doc,n.line);if(j(n,r)==0&&n.sticky==r.sticky)return t;var o=ut(i);if(!o)return t;var l=dr(o,n.ch,n.sticky),s=o[l];if(s.from!=n.ch&&s.to!=n.ch)return t;var a=l+(s.from==n.ch==(s.level!=1)?0:1);if(a==0||a==o.length)return t;var u;if(r.line!=n.line)u=(r.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var h=dr(o,r.ch,r.sticky),d=h-l||(r.ch-n.ch)*(s.level==1?-1:1);h==a-1||h==a?u=d<0:u=d>0}var m=o[a+(u?-1:0)],g=u==(m.level==1),w=g?m.from:m.to,L=g?"after":"before";return n.ch==w&&n.sticky==L?t:new re(new D(n.line,w,L),r)}function zl(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(m){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Be(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!Qe(e,n))return Fn(t);o-=s.top-l.viewOffset;for(var a=0;a<e.display.gutterSpecs.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i){var h=Nt(e.doc,o),d=e.display.gutterSpecs[a];return ge(e,n,e,h,d.className,t),Fn(t)}}}function Hi(e,t){return zl(e,t,"gutterClick",!0)}function Ul(e,t){ct(e.display,t)||ja(e,t)||we(e,t,"contextmenu")||x||e.display.input.onContextMenu(t)}function ja(e,t){return Qe(e,"gutterContextMenu")?zl(e,t,"gutterContextMenu",!1):!1}function _l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Sr(e)}var lr={toString:function(){return"CodeMirror.Init"}},Kl={},wn={};function Va(e){var t=e.optionHandlers;function n(r,i,o,l){e.defaults[r]=i,o&&(t[r]=l?function(s,a,u){u!=lr&&o(s,a,u)}:o)}e.defineOption=n,e.Init=lr,n("value","",function(r,i){return r.setValue(i)},!0),n("mode",null,function(r,i){r.doc.modeOption=i,wi(r)},!0),n("indentUnit",2,wi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(r){Ar(r),Sr(r),Ee(r)},!0),n("lineSeparator",null,function(r,i){if(r.doc.lineSep=i,!!i){var o=[],l=r.doc.first;r.doc.iter(function(a){for(var u=0;;){var h=a.text.indexOf(i,u);if(h==-1)break;u=h+i.length,o.push(D(l,h))}l++});for(var s=o.length-1;s>=0;s--)rr(r.doc,i,o[s],D(o[s].line,o[s].ch+i.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(r,i,o){r.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),o!=lr&&r.refresh()}),n("specialCharPlaceholder",Ms,function(r){return r.refresh()},!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(r,i){return r.getInputField().spellcheck=i},!0),n("autocorrect",!1,function(r,i){return r.getInputField().autocorrect=i},!0),n("autocapitalize",!1,function(r,i){return r.getInputField().autocapitalize=i},!0),n("rtlMoveVisually",!v),n("wholeLineUpdateBefore",!0),n("theme","default",function(r){_l(r),Dr(r)},!0),n("keyMap","default",function(r,i,o){var l=Sn(i),s=o!=lr&&Sn(o);s&&s.detach&&s.detach(r,l),l.attach&&l.attach(r,s||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,eu,!0),n("gutters",[],function(r,i){r.display.gutterSpecs=Si(i,r.options.lineNumbers),Dr(r)},!0),n("fixedGutter",!0,function(r,i){r.display.gutters.style.left=i?ui(r.display)+"px":"0",r.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(r){return Vt(r)},!0),n("scrollbarStyle","native",function(r){Xo(r),Vt(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),n("lineNumbers",!1,function(r,i){r.display.gutterSpecs=Si(r.options.gutters,i),Dr(r)},!0),n("firstLineNumber",1,Dr,!0),n("lineNumberFormatter",function(r){return r},Dr,!0),n("showCursorWhenSelecting",!1,xr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(r,i){i=="nocursor"&&(Qt(r),r.display.input.blur()),r.display.input.readOnlyChanged(i)}),n("screenReaderLabel",null,function(r,i){i=i===""?null:i,r.display.input.screenReaderLabelChanged(i)}),n("disableInput",!1,function(r,i){i||r.display.input.reset()},!0),n("dragDrop",!0,$a),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,xr,!0),n("singleCursorHeightPerLine",!0,xr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ar,!0),n("addModeClass",!1,Ar,!0),n("pollInterval",100),n("undoDepth",200,function(r,i){return r.doc.history.undoDepth=i}),n("historyEventDelay",1250),n("viewportMargin",10,function(r){return r.refresh()},!0),n("maxHighlightLength",1e4,Ar,!0),n("moveInputWithCursor",!0,function(r,i){i||r.display.input.resetPosition()}),n("tabindex",null,function(r,i){return r.display.input.getField().tabIndex=i||""}),n("autofocus",null),n("direction","ltr",function(r,i){return r.doc.setDirection(i)},!0),n("phrases",null)}function $a(e,t,n){var r=n&&n!=lr;if(!t!=!r){var i=e.display.dragFunctions,o=t?q:Ze;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function eu(e){e.options.lineWrapping?(Ce(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(W(e.display.wrapper,"CodeMirror-wrap"),$n(e)),fi(e),Ee(e),Sr(e),setTimeout(function(){return Vt(e)},100)}function ue(e,t){var n=this;if(!(this instanceof ue))return new ue(e,t);this.options=t=t?Dt(t):{},Dt(Kl,t,!1);var r=t.value;typeof r=="string"?r=new Re(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new ue.inputStyles[t.inputStyle](this),o=this.display=new da(e,r,i,t);o.wrapper.CodeMirror=this,_l(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Xo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new gt,keySeq:null,specialChars:null},t.autofocus&&!b&&o.input.focus(),B&&X<11&&setTimeout(function(){return n.display.input.reset(!0)},20),tu(this),Wa(),Rt(this),this.curOp.forceUpdate=!0,tl(this,r),t.autofocus&&!b||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&pi(n)},20):Qt(this);for(var l in wn)wn.hasOwnProperty(l)&&wn[l](this,t[l],lr);qo(this),t.finishInit&&t.finishInit(this);for(var s=0;s<Fi.length;++s)Fi[s](this);It(this),ee&&t.lineWrapping&&getComputedStyle(o.lineDiv).textRendering=="optimizelegibility"&&(o.lineDiv.style.textRendering="auto")}ue.defaults=Kl,ue.optionHandlers=wn;function tu(e){var t=e.display;q(t.scroller,"mousedown",Le(e,Rl)),B&&X<11?q(t.scroller,"dblclick",Le(e,function(a){if(!we(e,a)){var u=Ft(e,a);if(!(!u||Hi(e,a)||ct(e.display,a))){Be(a);var h=e.findWordAt(u);gn(e.doc,h.anchor,h.head)}}})):q(t.scroller,"dblclick",function(a){return we(e,a)||Be(a)}),q(t.scroller,"contextmenu",function(a){return Ul(e,a)}),q(t.input.getField(),"contextmenu",function(a){t.scroller.contains(a.target)||Ul(e,a)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function o(a){if(a.touches.length!=1)return!1;var u=a.touches[0];return u.radiusX<=1&&u.radiusY<=1}function l(a,u){if(u.left==null)return!0;var h=u.left-a.left,d=u.top-a.top;return h*h+d*d>20*20}q(t.scroller,"touchstart",function(a){if(!we(e,a)&&!o(a)&&!Hi(e,a)){t.input.ensurePolled(),clearTimeout(n);var u=+new Date;t.activeTouch={start:u,moved:!1,prev:u-r.end<=300?r:null},a.touches.length==1&&(t.activeTouch.left=a.touches[0].pageX,t.activeTouch.top=a.touches[0].pageY)}}),q(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),q(t.scroller,"touchend",function(a){var u=t.activeTouch;if(u&&!ct(t,a)&&u.left!=null&&!u.moved&&new Date-u.start<300){var h=e.coordsChar(t.activeTouch,"page"),d;!u.prev||l(u,u.prev)?d=new re(h,h):!u.prev.prev||l(u,u.prev.prev)?d=e.findWordAt(h):d=new re(D(h.line,0),V(e.doc,D(h.line+1,0))),e.setSelection(d.anchor,d.head),e.focus(),Be(a)}i()}),q(t.scroller,"touchcancel",i),q(t.scroller,"scroll",function(){t.scroller.clientHeight&&(kr(e,t.scroller.scrollTop),Bt(e,t.scroller.scrollLeft,!0),ge(e,"scroll",e))}),q(t.scroller,"mousewheel",function(a){return jo(e,a)}),q(t.scroller,"DOMMouseScroll",function(a){return jo(e,a)}),q(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(a){we(e,a)||pr(a)},over:function(a){we(e,a)||(Na(e,a),pr(a))},start:function(a){return Oa(e,a)},drop:Le(e,Aa),leave:function(a){we(e,a)||Ll(e)}};var s=t.input.getField();q(s,"keyup",function(a){return Bl.call(e,a)}),q(s,"keydown",Le(e,Pl)),q(s,"keypress",Le(e,El)),q(s,"focus",function(a){return pi(e,a)}),q(s,"blur",function(a){return Qt(e,a)})}var Fi=[];ue.defineInitHook=function(e){return Fi.push(e)};function _r(e,t,n,r){var i=e.doc,o;n==null&&(n="add"),n=="smart"&&(i.mode.indent?o=gr(e,t).state:n="prev");var l=e.options.tabSize,s=G(i,t),a=Je(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u=s.text.match(/^\s*/)[0],h;if(!r&&!/\S/.test(s.text))h=0,n="not";else if(n=="smart"&&(h=i.mode.indent(o,s.text.slice(u.length),s.text),h==Kr||h>150)){if(!r)return;n="prev"}n=="prev"?t>i.first?h=Je(G(i,t-1).text,null,l):h=0:n=="add"?h=a+e.options.indentUnit:n=="subtract"?h=a-e.options.indentUnit:typeof n=="number"&&(h=a+n),h=Math.max(0,h);var d="",m=0;if(e.options.indentWithTabs)for(var g=Math.floor(h/l);g;--g)m+=l,d+="	";if(m<h&&(d+=On(h-m)),d!=u)return rr(i,d,D(t,0),D(t,u.length),"+input"),s.stateAfter=null,!0;for(var w=0;w<i.sel.ranges.length;w++){var L=i.sel.ranges[w];if(L.head.line==t&&L.head.ch<u.length){var A=D(t,u.length);Mi(i,w,new re(A,A));break}}}var et=null;function kn(e){et=e}function Pi(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var l=+new Date-200,s=i=="paste"||e.state.pasteIncoming>l,a=Rn(t),u=null;if(s&&r.ranges.length>1)if(et&&et.text.join(`
`)==t){if(r.ranges.length%et.text.length==0){u=[];for(var h=0;h<et.text.length;h++)u.push(o.splitLines(et.text[h]))}}else a.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=Xr(a,function(H){return[H]}));for(var d=e.curOp.updateInput,m=r.ranges.length-1;m>=0;m--){var g=r.ranges[m],w=g.from(),L=g.to();g.empty()&&(n&&n>0?w=D(w.line,w.ch-n):e.state.overwrite&&!s?L=D(L.line,Math.min(G(o,L.line).text.length,L.ch+ne(a).length)):s&&et&&et.lineWise&&et.text.join(`
`)==a.join(`
`)&&(w=L=D(w.line,0)));var A={from:w,to:L,text:u?u[m%u.length]:a,origin:i||(s?"paste":e.state.cutIncoming>l?"cut":"+input")};tr(e.doc,A),ke(e,"inputRead",e,A)}t&&!s&&Xl(e,t),jt(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Gl(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&t.hasFocus()&&Ke(t,function(){return Pi(t,n,0,null,"paste")}),!0}function Xl(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=_r(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(G(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=_r(e,i.head.line,"smart"));l&&ke(e,"electricInput",e,i.head.line)}}}function Yl(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:D(i,0),head:D(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Bi(e,t,n,r){e.setAttribute("autocorrect",n?"on":"off"),e.setAttribute("autocapitalize",r?"on":"off"),e.setAttribute("spellcheck",!!t)}function Zl(){var e=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=O("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ee?e.style.width="1000px":e.setAttribute("wrap","off"),S&&(e.style.border="1px solid black"),t}function ru(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){Mt(this).focus(),this.display.input.focus()},setOption:function(r,i){var o=this.options,l=o[r];o[r]==i&&r!="mode"||(o[r]=i,t.hasOwnProperty(r)&&Le(this,t[r])(this,i,l),ge(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,i){this.state.keyMaps[i?"push":"unshift"](Sn(r))},removeKeyMap:function(r){for(var i=this.state.keyMaps,o=0;o<i.length;++o)if(i[o]==r||i[o].name==r)return i.splice(o,1),!0},addOverlay:Fe(function(r,i){var o=r.token?r:e.getMode(this.options,r);if(o.startState)throw new Error("Overlays may not be stateful.");Ql(this.state.overlays,{mode:o,modeSpec:r,opaque:i&&i.opaque,priority:i&&i.priority||0},function(l){return l.priority}),this.state.modeGen++,Ee(this)}),removeOverlay:Fe(function(r){for(var i=this.state.overlays,o=0;o<i.length;++o){var l=i[o].modeSpec;if(l==r||typeof r=="string"&&l.name==r){i.splice(o,1),this.state.modeGen++,Ee(this);return}}}),indentLine:Fe(function(r,i,o){typeof i!="string"&&typeof i!="number"&&(i==null?i=this.options.smartIndent?"smart":"prev":i=i?"add":"subtract"),vr(this.doc,r)&&_r(this,r,i,o)}),indentSelection:Fe(function(r){for(var i=this.doc.sel.ranges,o=-1,l=0;l<i.length;l++){var s=i[l];if(s.empty())s.head.line>o&&(_r(this,s.head.line,r,!0),o=s.head.line,l==this.doc.sel.primIndex&&jt(this));else{var a=s.from(),u=s.to(),h=Math.max(o,a.line);o=Math.min(this.lastLine(),u.line-(u.ch?0:1))+1;for(var d=h;d<o;++d)_r(this,d,r);var m=this.doc.sel.ranges;a.ch==0&&i.length==m.length&&m[l].from().ch>0&&Mi(this.doc,l,new re(a,m[l].to()),rt)}}}),getTokenAt:function(r,i){return ro(this,r,i)},getLineTokens:function(r,i){return ro(this,D(r),i,!0)},getTokenTypeAt:function(r){r=V(this.doc,r);var i=$i(this,G(this.doc,r.line)),o=0,l=(i.length-1)/2,s=r.ch,a;if(s==0)a=i[2];else for(;;){var u=o+l>>1;if((u?i[u*2-1]:0)>=s)l=u;else if(i[u*2+1]<s)o=u+1;else{a=i[u*2+2];break}}var h=a?a.indexOf("overlay "):-1;return h<0?a:h==0?null:a.slice(0,h-1)},getModeAt:function(r){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(r).state).mode:i},getHelper:function(r,i){return this.getHelpers(r,i)[0]},getHelpers:function(r,i){var o=[];if(!n.hasOwnProperty(i))return o;var l=n[i],s=this.getModeAt(r);if(typeof s[i]=="string")l[s[i]]&&o.push(l[s[i]]);else if(s[i])for(var a=0;a<s[i].length;a++){var u=l[s[i][a]];u&&o.push(u)}else s.helperType&&l[s.helperType]?o.push(l[s.helperType]):l[s.name]&&o.push(l[s.name]);for(var h=0;h<l._global.length;h++){var d=l._global[h];d.pred(s,this)&&Oe(o,d.val)==-1&&o.push(d.val)}return o},getStateAfter:function(r,i){var o=this.doc;return r=Qi(o,r==null?o.first+o.size-1:r),gr(this,r+1,i).state},cursorCoords:function(r,i){var o,l=this.doc.sel.primary();return r==null?o=l.head:typeof r=="object"?o=V(this.doc,r):o=r?l.from():l.to(),Ve(this,o,i||"page")},charCoords:function(r,i){return ln(this,V(this.doc,r),i||"page")},coordsChar:function(r,i){return r=Wo(this,r,i||"page"),li(this,r.left,r.top)},lineAtHeight:function(r,i){return r=Wo(this,{top:r,left:0},i||"page").top,Nt(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,i,o){var l=!1,s;if(typeof r=="number"){var a=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>a&&(r=a,l=!0),s=G(this.doc,r)}else s=r;return on(this,s,{top:0,left:0},i||"page",o||l).top+(l?this.doc.height-ht(s):0)},defaultTextHeight:function(){return qt(this.display)},defaultCharWidth:function(){return Jt(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,i,o,l,s){var a=this.display;r=Ve(this,V(this.doc,r));var u=r.bottom,h=r.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),a.sizer.appendChild(i),l=="over")u=r.top;else if(l=="above"||l=="near"){var d=Math.max(a.wrapper.clientHeight,this.doc.height),m=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);(l=="above"||r.bottom+i.offsetHeight>d)&&r.top>i.offsetHeight?u=r.top-i.offsetHeight:r.bottom+i.offsetHeight<=d&&(u=r.bottom),h+i.offsetWidth>m&&(h=m-i.offsetWidth)}i.style.top=u+"px",i.style.left=i.style.right="",s=="right"?(h=a.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):(s=="left"?h=0:s=="middle"&&(h=(a.sizer.clientWidth-i.offsetWidth)/2),i.style.left=h+"px"),o&&$s(this,{left:h,top:u,right:h+i.offsetWidth,bottom:u+i.offsetHeight})},triggerOnKeyDown:Fe(Pl),triggerOnKeyPress:Fe(El),triggerOnKeyUp:Bl,triggerOnMouseDown:Fe(Rl),execCommand:function(r){if(Rr.hasOwnProperty(r))return Rr[r].call(null,this)},triggerElectric:Fe(function(r){Xl(this,r)}),findPosH:function(r,i,o,l){var s=1;i<0&&(s=-1,i=-i);for(var a=V(this.doc,r),u=0;u<i&&(a=Ei(this.doc,a,s,o,l),!a.hitSide);++u);return a},moveH:Fe(function(r,i){var o=this;this.extendSelectionsBy(function(l){return o.display.shift||o.doc.extend||l.empty()?Ei(o.doc,l.head,r,i,o.options.rtlMoveVisually):r<0?l.from():l.to()},fr)}),deleteH:Fe(function(r,i){var o=this.doc.sel,l=this.doc;o.somethingSelected()?l.replaceSelection("",null,"+delete"):or(this,function(s){var a=Ei(l,s.head,r,i,!1);return r<0?{from:a,to:s.head}:{from:s.head,to:a}})}),findPosV:function(r,i,o,l){var s=1,a=l;i<0&&(s=-1,i=-i);for(var u=V(this.doc,r),h=0;h<i;++h){var d=Ve(this,u,"div");if(a==null?a=d.left:d.left=a,u=ql(this,d,s,o),u.hitSide)break}return u},moveV:Fe(function(r,i){var o=this,l=this.doc,s=[],a=!this.display.shift&&!l.extend&&l.sel.somethingSelected();if(l.extendSelectionsBy(function(h){if(a)return r<0?h.from():h.to();var d=Ve(o,h.head,"div");h.goalColumn!=null&&(d.left=h.goalColumn),s.push(d.left);var m=ql(o,d,r,i);return i=="page"&&h==l.sel.primary()&&gi(o,ln(o,m,"div").top-d.top),m},fr),s.length)for(var u=0;u<l.sel.ranges.length;u++)l.sel.ranges[u].goalColumn=s[u]}),findWordAt:function(r){var i=this.doc,o=G(i,r.line).text,l=r.ch,s=r.ch;if(o){var a=this.getHelper(r,"wordChars");(r.sticky=="before"||s==o.length)&&l?--l:++s;for(var u=o.charAt(l),h=Yr(u,a)?function(d){return Yr(d,a)}:/\s/.test(u)?function(d){return/\s/.test(d)}:function(d){return!/\s/.test(d)&&!Yr(d)};l>0&&h(o.charAt(l-1));)--l;for(;s<o.length&&h(o.charAt(s));)++s}return new re(D(r.line,l),D(r.line,s))},toggleOverwrite:function(r){r!=null&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ce(this.display.cursorDiv,"CodeMirror-overwrite"):W(this.display.cursorDiv,"CodeMirror-overwrite"),ge(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==se(_e(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Fe(function(r,i){wr(this,r,i)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-ot(this)-this.display.barHeight,width:r.scrollWidth-ot(this)-this.display.barWidth,clientHeight:ri(this),clientWidth:Wt(this)}},scrollIntoView:Fe(function(r,i){r==null?(r={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof r=="number"?r={from:D(r,0),to:null}:r.from==null&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=i||0,r.from.line!=null?ea(this,r):Uo(this,r.from,r.to,r.margin)}),setSize:Fe(function(r,i){var o=this,l=function(a){return typeof a=="number"||/^\d+$/.test(String(a))?a+"px":a};r!=null&&(this.display.wrapper.style.width=l(r)),i!=null&&(this.display.wrapper.style.height=l(i)),this.options.lineWrapping&&Ao(this);var s=this.display.viewFrom;this.doc.iter(s,this.display.viewTo,function(a){if(a.widgets){for(var u=0;u<a.widgets.length;u++)if(a.widgets[u].noHScroll){mt(o,s,"widget");break}}++s}),this.curOp.forceUpdate=!0,ge(this,"refresh",this)}),operation:function(r){return Ke(this,r)},startOperation:function(){return Rt(this)},endOperation:function(){return It(this)},refresh:Fe(function(){var r=this.display.cachedTextHeight;Ee(this),this.curOp.forceUpdate=!0,Sr(this),wr(this,this.doc.scrollLeft,this.doc.scrollTop),bi(this.display),(r==null||Math.abs(r-qt(this.display))>.5||this.options.lineWrapping)&&fi(this),ge(this,"refresh",this)}),swapDoc:Fe(function(r){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),tl(this,r),Sr(this),this.display.input.reset(),wr(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,ke(this,"swapDoc",this,i),i}),phrase:function(r){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,r)?i[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_t(e),e.registerHelper=function(r,i,o){n.hasOwnProperty(r)||(n[r]=e[r]={_global:[]}),n[r][i]=o},e.registerGlobalHelper=function(r,i,o,l){e.registerHelper(r,i,l),n[r]._global.push({pred:o,val:l})}}function Ei(e,t,n,r,i){var o=t,l=n,s=G(e,t.line),a=i&&e.direction=="rtl"?-n:n;function u(){var E=t.line+a;return E<e.first||E>=e.first+e.size?!1:(t=new D(E,t.ch,t.sticky),s=G(e,E))}function h(E){var F;if(r=="codepoint"){var _=s.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(_))F=null;else{var Z=n>0?_>=55296&&_<56320:_>=56320&&_<57343;F=new D(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(Z?2:1))),-n)}}else i?F=Ea(e.cm,s,t,n):F=Ai(s,t,n);if(F==null)if(!E&&u())t=Oi(i,e.cm,s,t.line,a);else return!1;else t=F;return!0}if(r=="char"||r=="codepoint")h();else if(r=="column")h(!0);else if(r=="word"||r=="group")for(var d=null,m=r=="group",g=e.cm&&e.cm.getHelper(t,"wordChars"),w=!0;!(n<0&&!h(!w));w=!1){var L=s.text.charAt(t.ch)||`
`,A=Yr(L,g)?"w":m&&L==`
`?"n":!m||/\s/.test(L)?null:"p";if(m&&!w&&!A&&(A="s"),d&&d!=A){n<0&&(n=1,h(),t.sticky="after");break}if(A&&(d=A),n>0&&!h(!w))break}var H=mn(e,t,o,l,!0);return Xn(o,H)&&(H.hitSide=!0),H}function ql(e,t,n,r){var i=e.doc,o=t.left,l;if(r=="page"){var s=Math.min(e.display.wrapper.clientHeight,Mt(e).innerHeight||i(e).documentElement.clientHeight),a=Math.max(s-.5*qt(e.display),3);l=(n>0?t.bottom:t.top)+n*a}else r=="line"&&(l=n>0?t.bottom+3:t.top-3);for(var u;u=li(e,o,l),!!u.outside;){if(n<0?l<=0:l>=i.height){u.hitSide=!0;break}l+=n*5}return u}var oe=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new gt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};oe.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;i.contentEditable=!0,Bi(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function o(s){for(var a=s.target;a;a=a.parentNode){if(a==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(a.className))break}return!1}q(i,"paste",function(s){!o(s)||we(r,s)||Gl(s,r)||X<=11&&setTimeout(Le(r,function(){return t.updateFromDOM()}),20)}),q(i,"compositionstart",function(s){t.composing={data:s.data,done:!1}}),q(i,"compositionupdate",function(s){t.composing||(t.composing={data:s.data,done:!1})}),q(i,"compositionend",function(s){t.composing&&(s.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),q(i,"touchstart",function(){return n.forceCompositionEnd()}),q(i,"input",function(){t.composing||t.readFromDOMSoon()});function l(s){if(!(!o(s)||we(r,s))){if(r.somethingSelected())kn({lineWise:!1,text:r.getSelections()}),s.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){var a=Yl(r);kn({lineWise:!0,text:a.text}),s.type=="cut"&&r.operation(function(){r.setSelections(a.ranges,0,rt),r.replaceSelection("",null,"cut")})}else return;if(s.clipboardData){s.clipboardData.clearData();var u=et.text.join(`
`);if(s.clipboardData.setData("Text",u),s.clipboardData.getData("Text")==u){s.preventDefault();return}}var h=Zl(),d=h.firstChild;Bi(d),r.display.lineSpace.insertBefore(h,r.display.lineSpace.firstChild),d.value=et.text.join(`
`);var m=se(tt(i));at(d),setTimeout(function(){r.display.lineSpace.removeChild(h),m.focus(),m==i&&n.showPrimarySelection()},50)}}q(i,"copy",l),q(i,"cut",l)},oe.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},oe.prototype.prepareSelection=function(){var e=Ro(this.cm,!1);return e.focus=se(tt(this.div))==this.div,e},oe.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},oe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},oe.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom){e.removeAllRanges();return}var o=Ln(t,e.anchorNode,e.anchorOffset),l=Ln(t,e.focusNode,e.focusOffset);if(!(o&&!o.bad&&l&&!l.bad&&j(Jr(o,l),r)==0&&j(qr(o,l),i)==0)){var s=t.display.view,a=r.line>=t.display.viewFrom&&Jl(t,r)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&Jl(t,i);if(!u){var h=s[s.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(!a||!u){e.removeAllRanges();return}var m=e.rangeCount&&e.getRangeAt(0),g;try{g=J(a.node,a.offset,u.offset,u.node)}catch(w){}g&&(!I&&t.state.focused?(e.collapse(a.node,a.offset),g.collapsed||(e.removeAllRanges(),e.addRange(g))):(e.removeAllRanges(),e.addRange(g)),m&&e.anchorNode==null?e.addRange(m):I&&this.startGracePeriod()),this.rememberSelection()}},oe.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},oe.prototype.showMultipleSelections=function(e){R(this.cm.display.cursorDiv,e.cursors),R(this.cm.display.selectionDiv,e.selection)},oe.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},oe.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return ae(this.div,t)},oe.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||se(tt(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},oe.prototype.blur=function(){this.div.blur()},oe.prototype.getField=function(){return this.div},oe.prototype.supportsTouch=function(){return!0},oe.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Ke(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},oe.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},oe.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(T&&ce&&this.cm.display.gutterSpecs.length&&nu(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=Ln(t,e.anchorNode,e.anchorOffset),r=Ln(t,e.focusNode,e.focusOffset);n&&r&&Ke(t,function(){Ne(t.doc,Ct(n,r),rt),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},oe.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.ch==0&&r.line>e.firstLine()&&(r=D(r.line-1,G(e.doc,r.line-1).length)),i.ch==G(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=D(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;r.line==t.viewFrom||(o=Pt(e,r.line))==0?(l=ie(t.view[0].line),s=t.view[0].node):(l=ie(t.view[o].line),s=t.view[o-1].node.nextSibling);var a=Pt(e,i.line),u,h;if(a==t.view.length-1?(u=t.viewTo-1,h=t.lineDiv.lastChild):(u=ie(t.view[a+1].line)-1,h=t.view[a+1].node.previousSibling),!s)return!1;for(var d=e.doc.splitLines(iu(e,s,h,l,u)),m=Ot(e.doc,D(l,0),D(u,G(e.doc,u).text.length));d.length>1&&m.length>1;)if(ne(d)==ne(m))d.pop(),m.pop(),u--;else if(d[0]==m[0])d.shift(),m.shift(),l++;else break;for(var g=0,w=0,L=d[0],A=m[0],H=Math.min(L.length,A.length);g<H&&L.charCodeAt(g)==A.charCodeAt(g);)++g;for(var E=ne(d),F=ne(m),_=Math.min(E.length-(d.length==1?g:0),F.length-(m.length==1?g:0));w<_&&E.charCodeAt(E.length-w-1)==F.charCodeAt(F.length-w-1);)++w;if(d.length==1&&m.length==1&&l==r.line)for(;g&&g>r.ch&&E.charCodeAt(E.length-w-1)==F.charCodeAt(F.length-w-1);)g--,w++;d[d.length-1]=E.slice(0,E.length-w).replace(/^\u200b+/,""),d[0]=d[0].slice(g).replace(/\u200b+$/,"");var Z=D(l,g),Y=D(u,m.length?ne(m).length-w:0);if(d.length>1||d[0]||j(Z,Y))return rr(e.doc,d,Z,Y,"+input"),!0},oe.prototype.ensurePolled=function(){this.forceCompositionEnd()},oe.prototype.reset=function(){this.forceCompositionEnd()},oe.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},oe.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},oe.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Ke(this.cm,function(){return Ee(e.cm)})},oe.prototype.setUneditable=function(e){e.contentEditable="false"},oe.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Le(this.cm,Pi)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},oe.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},oe.prototype.onContextMenu=function(){},oe.prototype.resetPosition=function(){},oe.prototype.needsContentAttribute=!0;function Jl(e,t){var n=ni(e,t.line);if(!n||n.hidden)return null;var r=G(e.doc,t.line),i=ko(n,r,t.line),o=ut(r,e.doc.direction),l="left";if(o){var s=dr(o,t.ch);l=s%2?"right":"left"}var a=Mo(i.map,t.ch,l);return a.offset=a.collapse=="right"?a.end:a.start,a}function nu(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function sr(e,t){return t&&(e.bad=!0),e}function iu(e,t,n,r,i){var o="",l=!1,s=e.doc.lineSeparator(),a=!1;function u(g){return function(w){return w.id==g}}function h(){l&&(o+=s,a&&(o+=s),l=a=!1)}function d(g){g&&(h(),o+=g)}function m(g){if(g.nodeType==1){var w=g.getAttribute("cm-text");if(w){d(w);return}var L=g.getAttribute("cm-marker"),A;if(L){var H=e.findMarks(D(r,0),D(i+1,0),u(+L));H.length&&(A=H[0].find(0))&&d(Ot(e.doc,A.from,A.to).join(s));return}if(g.getAttribute("contenteditable")=="false")return;var E=/^(pre|div|p|li|table|br)$/i.test(g.nodeName);if(!/^br$/i.test(g.nodeName)&&g.textContent.length==0)return;E&&h();for(var F=0;F<g.childNodes.length;F++)m(g.childNodes[F]);/^(pre|p)$/i.test(g.nodeName)&&(a=!0),E&&(l=!0)}else g.nodeType==3&&d(g.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;m(t),t!=n;)t=t.nextSibling,a=!1;return o}function Ln(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return sr(e.clipPos(D(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return ou(o,t,n)}}function ou(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!ae(r,t))return sr(D(ie(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?ne(e.rest):e.line;return sr(D(ie(o),o.text.length),i)}var l=t.nodeType==3?t:null,s=t;for(!l&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(l=t.firstChild,n&&(n=l.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var a=e.measure,u=a.maps;function h(A,H,E){for(var F=-1;F<(u?u.length:0);F++)for(var _=F<0?a.map:u[F],Z=0;Z<_.length;Z+=3){var Y=_[Z+2];if(Y==A||Y==H){var $=ie(F<0?e.line:e.rest[F]),le=_[Z]+E;return(E<0||Y!=A)&&(le=_[Z+(E?1:0)]),D($,le)}}}var d=h(l,s,n);if(d)return sr(d,i);for(var m=s.nextSibling,g=l?l.nodeValue.length-n:0;m;m=m.nextSibling){if(d=h(m,m.firstChild,0),d)return sr(D(d.line,d.ch-g),i);g+=m.textContent.length}for(var w=s.previousSibling,L=n;w;w=w.previousSibling){if(d=h(w,w.firstChild,-1),d)return sr(D(d.line,d.ch+L),i);L+=w.textContent.length}}var pe=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new gt,this.hasSelection=!1,this.composing=null,this.resetting=!1};pe.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),S&&(i.style.width="0px"),q(i,"input",function(){B&&X>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),q(i,"paste",function(l){we(r,l)||Gl(l,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())});function o(l){if(!we(r,l)){if(r.somethingSelected())kn({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){var s=Yl(r);kn({lineWise:!0,text:s.text}),l.type=="cut"?r.setSelections(s.ranges,null,rt):(n.prevInput="",i.value=s.text.join(`
`),at(i))}else return;l.type=="cut"&&(r.state.cutIncoming=+new Date)}}q(i,"cut",o),q(i,"copy",o),q(e.scroller,"paste",function(l){if(!(ct(e,l)||we(r,l))){if(!i.dispatchEvent){r.state.pasteIncoming=+new Date,n.focus();return}var s=new Event("paste");s.clipboardData=l.clipboardData,i.dispatchEvent(s)}}),q(e.lineSpace,"selectstart",function(l){ct(e,l)||Be(l)}),q(i,"compositionstart",function(){var l=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:l,range:r.markText(l,r.getCursor("to"),{className:"CodeMirror-composing"})}}),q(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},pe.prototype.createField=function(e){this.wrapper=Zl(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Bi(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},pe.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},pe.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Ro(e);if(e.options.moveInputWithCursor){var i=Ve(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return r},pe.prototype.showSelection=function(e){var t=this.cm,n=t.display;R(n.cursorDiv,e.cursors),R(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},pe.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&at(this.textarea),B&&X>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",B&&X>=9&&(this.hasSelection=null));this.resetting=!1}},pe.prototype.getField=function(){return this.textarea},pe.prototype.supportsTouch=function(){return!1},pe.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!b||se(tt(this.textarea))!=this.textarea))try{this.textarea.focus()}catch(e){}},pe.prototype.blur=function(){this.textarea.blur()},pe.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},pe.prototype.receivedFocus=function(){this.slowPoll()},pe.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},pe.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,n)},pe.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||is(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(B&&X>=9&&this.hasSelection===i||k&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(o==8203&&!r&&(r="\u200B"),o==8666)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(r.length,i.length);l<s&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Ke(t,function(){Pi(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},pe.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},pe.prototype.onKeyPress=function(){B&&X>=9&&(this.hasSelection=null),this.fastPoll()},pe.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=Ft(n,e),l=r.scroller.scrollTop;if(!o||z)return;var s=n.options.resetSelectionOnContextMenu;s&&n.doc.sel.contains(o)==-1&&Le(n,Ne)(n.doc,Ct(o),rt);var a=i.style.cssText,u=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+`px;
      z-index: 1000; background: `+(B?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var d;ee&&(d=i.ownerDocument.defaultView.scrollY),r.input.focus(),ee&&i.ownerDocument.defaultView.scrollTo(null,d),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=g,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll);function m(){if(i.selectionStart!=null){var L=n.somethingSelected(),A="\u200B"+(L?i.value:"");i.value="\u21DA",i.value=A,t.prevInput=L?"":"\u200B",i.selectionStart=1,i.selectionEnd=A.length,r.selForContextMenu=n.doc.sel}}function g(){if(t.contextMenuPending==g&&(t.contextMenuPending=!1,t.wrapper.style.cssText=u,i.style.cssText=a,B&&X<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),i.selectionStart!=null)){(!B||B&&X<9)&&m();var L=0,A=function(){r.selForContextMenu==n.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&t.prevInput=="\u200B"?Le(n,pl)(n):L++<10?r.detectingSelectAll=setTimeout(A,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(A,200)}}if(B&&X>=9&&m(),x){pr(e);var w=function(){Ze(window,"mouseup",w),setTimeout(g,20)};q(window,"mouseup",w)}else setTimeout(g,50)},pe.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},pe.prototype.setUneditable=function(){},pe.prototype.needsContentAttribute=!1;function lu(e,t){if(t=t?Dt(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var n=se(tt(e));t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(q(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var l=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=l}}catch(a){}}t.finishInit=function(a){a.save=r,a.getTextArea=function(){return e},a.toTextArea=function(){a.toTextArea=isNaN,r(),e.parentNode.removeChild(a.getWrapperElement()),e.style.display="",e.form&&(Ze(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=i))}},e.style.display="none";var s=ue(function(a){return e.parentNode.insertBefore(a,e.nextSibling)},t);return s}function su(e){e.off=Ze,e.on=q,e.wheelEventPixels=pa,e.Doc=Re,e.splitLines=Rn,e.countColumn=Je,e.findColumn=An,e.isWordChar=Nn,e.Pass=Kr,e.signal=ge,e.Line=Xt,e.changeEnd=St,e.scrollbarModel=Go,e.Pos=D,e.cmpPos=j,e.modes=zn,e.mimeModes=Kt,e.resolveMode=Zr,e.getMode=Un,e.modeExtensions=Gt,e.extendMode=us,e.copyState=At,e.startState=Ji,e.innerMode=_n,e.commands=Rr,e.keyMap=pt,e.keyName=Ol,e.isModifierKey=Dl,e.lookupKey=ir,e.normalizeKeyMap=Ba,e.StringStream=ye,e.SharedTextMarker=Pr,e.TextMarker=wt,e.LineWidget=Fr,e.e_preventDefault=Be,e.e_stopPropagation=Zi,e.e_stop=pr,e.addClass=Ce,e.contains=ae,e.rmClass=W,e.keyNames=kt}Va(ue),ru(ue);var au="iter insert remove copy getEditor constructor".split(" ");for(var Tn in Re.prototype)Re.prototype.hasOwnProperty(Tn)&&Oe(au,Tn)<0&&(ue.prototype[Tn]=function(e){return function(){return e.apply(this.doc,arguments)}}(Re.prototype[Tn]));return _t(Re),ue.inputStyles={textarea:pe,contenteditable:oe},ue.defineMode=function(e){!ue.defaults.mode&&e!="null"&&(ue.defaults.mode=e),ss.apply(this,arguments)},ue.defineMIME=as,ue.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),ue.defineMIME("text/plain","null"),ue.defineExtension=function(e,t){ue.prototype[e]=t},ue.defineDocExtension=function(e,t){Re.prototype[e]=t},ue.fromTextArea=lu,su(ue),ue.version="5.65.18",ue})},31149:function(Tt,fe,ve){(function(I){I(ve(4631))})(function(I){"use strict";I.defineMode("shell",function(){var P={};function K(C,c){for(var S=0;S<c.length;S++)P[c[S]]=C}var Q=["true","false"],B=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],X=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];I.registerHelper("hintWords","shell",Q.concat(B,X)),K("atom",Q),K("keyword",B),K("builtin",X);function ee(C,c){if(C.eatSpace())return null;var S=C.sol(),T=C.next();if(T==="\\")return C.next(),null;if(T==="'"||T==='"'||T==="`")return c.tokens.unshift(xe(T,T==="`"?"quote":"string")),U(C,c);if(T==="#")return S&&C.eat("!")?(C.skipToEnd(),"meta"):(C.skipToEnd(),"comment");if(T==="$")return c.tokens.unshift(He),U(C,c);if(T==="+"||T==="=")return"operator";if(T==="-")return C.eat("-"),C.eatWhile(/\w/),"attribute";if(T=="<"){if(C.match("<<"))return"operator";var b=C.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(b)return c.tokens.unshift(z(b[1])),"string-2"}if(/\d/.test(T)&&(C.eatWhile(/\d/),C.eol()||!/\w/.test(C.peek())))return"number";C.eatWhile(/[\w-]/);var k=C.current();return C.peek()==="="&&/\w+/.test(k)?"def":P.hasOwnProperty(k)?P[k]:null}function xe(C,c){var S=C=="("?")":C=="{"?"}":C;return function(T,b){for(var k,f=!1;(k=T.next())!=null;){if(k===S&&!f){b.tokens.shift();break}else if(k==="$"&&!f&&C!=="'"&&T.peek()!=S){f=!0,T.backUp(1),b.tokens.unshift(He);break}else{if(!f&&C!==S&&k===C)return b.tokens.unshift(xe(C,c)),U(T,b);if(!f&&/['"]/.test(k)&&!/['"]/.test(C)){b.tokens.unshift(ce(k,"string")),T.backUp(1);break}}f=!f&&k==="\\"}return c}}function ce(C,c){return function(S,T){return T.tokens[0]=xe(C,c),S.next(),U(S,T)}}var He=function(C,c){c.tokens.length>1&&C.eat("$");var S=C.next();return/['"({]/.test(S)?(c.tokens[0]=xe(S,S=="("?"quote":S=="{"?"def":"string"),U(C,c)):(/\d/.test(S)||C.eatWhile(/\w/),c.tokens.shift(),"def")};function z(C){return function(c,S){return c.sol()&&c.string==C&&S.tokens.shift(),c.skipToEnd(),"string-2"}}function U(C,c){return(c.tokens[0]||ee)(C,c)}return{startState:function(){return{tokens:[]}},token:function(C,c){return U(C,c)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),I.defineMIME("text/x-sh","shell"),I.defineMIME("application/x-sh","shell")})},53631:function(Tt,fe,ve){(function(I){I(ve(4631))})(function(I){"use strict";I.defineMode("yaml",function(){var P=["true","false","on","off","yes","no"],K=new RegExp("\\b(("+P.join(")|(")+"))$","i");return{token:function(Q,B){var X=Q.peek(),ee=B.escaped;if(B.escaped=!1,X=="#"&&(Q.pos==0||/\s/.test(Q.string.charAt(Q.pos-1))))return Q.skipToEnd(),"comment";if(Q.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(B.literal&&Q.indentation()>B.keyCol)return Q.skipToEnd(),"string";if(B.literal&&(B.literal=!1),Q.sol()){if(B.keyCol=0,B.pair=!1,B.pairStart=!1,Q.match("---")||Q.match("..."))return"def";if(Q.match(/\s*-\s+/))return"meta"}if(Q.match(/^(\{|\}|\[|\])/))return X=="{"?B.inlinePairs++:X=="}"?B.inlinePairs--:X=="["?B.inlineList++:B.inlineList--,"meta";if(B.inlineList>0&&!ee&&X==",")return Q.next(),"meta";if(B.inlinePairs>0&&!ee&&X==",")return B.keyCol=0,B.pair=!1,B.pairStart=!1,Q.next(),"meta";if(B.pairStart){if(Q.match(/^\s*(\||\>)\s*/))return B.literal=!0,"meta";if(Q.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(B.inlinePairs==0&&Q.match(/^\s*-?[0-9\.\,]+\s?$/)||B.inlinePairs>0&&Q.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(Q.match(K))return"keyword"}return!B.pair&&Q.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)?(B.pair=!0,B.keyCol=Q.indentation(),"atom"):B.pair&&Q.match(/^:\s*/)?(B.pairStart=!0,"meta"):(B.pairStart=!1,B.escaped=X=="\\",Q.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},lineComment:"#",fold:"indent"}}),I.defineMIME("text/x-yaml","yaml"),I.defineMIME("text/yaml","yaml")})},29656:function(Tt,fe,ve){"use strict";var I;function P(){return P=Object.assign||function(U){for(var C=1;C<arguments.length;C++){var c=arguments[C];for(var S in c)Object.prototype.hasOwnProperty.call(c,S)&&(U[S]=c[S])}return U},P.apply(this,arguments)}function K(U){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(c){return typeof c}:K=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},K(U)}var Q=function(){var U=function(c,S){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,b){T.__proto__=b}||function(T,b){for(var k in b)b.hasOwnProperty(k)&&(T[k]=b[k])},U(c,S)};return function(C,c){U(C,c);function S(){this.constructor=C}C.prototype=c===null?Object.create(c):(S.prototype=c.prototype,new S)}}();I={value:!0},I=fe.fk=void 0;var B=ve(67294),X=typeof navigator=="undefined"||typeof ve.g!="undefined"&&ve.g.PREVENT_CODEMIRROR_RENDER===!0,ee;X||(ee=ve(4631));var xe=function(){function U(){}return U.equals=function(C,c){var S=this,T=Object.keys,b=K(C),k=K(c);return C&&c&&b==="object"&&b===k?T(C).length===T(c).length&&T(C).every(function(f){return S.equals(C[f],c[f])}):C===c},U}(),ce=function(){function U(C,c){this.editor=C,this.props=c}return U.prototype.delegateCursor=function(C,c,S){var T=this.editor.getDoc();S&&this.editor.focus(),c?T.setCursor(C):T.setCursor(C,null,{scroll:!1})},U.prototype.delegateScroll=function(C){this.editor.scrollTo(C.x,C.y)},U.prototype.delegateSelection=function(C,c){var S=this.editor.getDoc();S.setSelections(C),c&&this.editor.focus()},U.prototype.apply=function(C){C&&C.selection&&C.selection.ranges&&this.delegateSelection(C.selection.ranges,C.selection.focus||!1),C&&C.cursor&&this.delegateCursor(C.cursor,C.autoScroll||!1,this.editor.getOption("autofocus")||!1),C&&C.scroll&&this.delegateScroll(C.scroll)},U.prototype.applyNext=function(C,c,S){C&&C.selection&&C.selection.ranges&&c&&c.selection&&c.selection.ranges&&!xe.equals(C.selection.ranges,c.selection.ranges)&&this.delegateSelection(c.selection.ranges,c.selection.focus||!1),C&&C.cursor&&c&&c.cursor&&!xe.equals(C.cursor,c.cursor)&&this.delegateCursor(S.cursor||c.cursor,c.autoScroll||!1,c.autoCursor||!1),C&&C.scroll&&c&&c.scroll&&!xe.equals(C.scroll,c.scroll)&&this.delegateScroll(c.scroll)},U.prototype.applyUserDefined=function(C,c){c&&c.cursor&&this.delegateCursor(c.cursor,C.autoScroll||!1,this.editor.getOption("autofocus")||!1)},U.prototype.wire=function(C){var c=this;Object.keys(C||{}).filter(function(S){return/^on/.test(S)}).forEach(function(S){switch(S){case"onBlur":c.editor.on("blur",function(T,b){c.props.onBlur(c.editor,b)});break;case"onContextMenu":{c.editor.on("contextmenu",function(T,b){c.props.onContextMenu(c.editor,b)});break}case"onCopy":{c.editor.on("copy",function(T,b){c.props.onCopy(c.editor,b)});break}case"onCursor":c.editor.on("cursorActivity",function(T){c.props.onCursor(c.editor,c.editor.getDoc().getCursor())});break;case"onCursorActivity":c.editor.on("cursorActivity",function(T){c.props.onCursorActivity(c.editor)});break;case"onCut":{c.editor.on("cut",function(T,b){c.props.onCut(c.editor,b)});break}case"onDblClick":{c.editor.on("dblclick",function(T,b){c.props.onDblClick(c.editor,b)});break}case"onDragEnter":c.editor.on("dragenter",function(T,b){c.props.onDragEnter(c.editor,b)});break;case"onDragLeave":{c.editor.on("dragleave",function(T,b){c.props.onDragLeave(c.editor,b)});break}case"onDragOver":c.editor.on("dragover",function(T,b){c.props.onDragOver(c.editor,b)});break;case"onDragStart":{c.editor.on("dragstart",function(T,b){c.props.onDragStart(c.editor,b)});break}case"onDrop":c.editor.on("drop",function(T,b){c.props.onDrop(c.editor,b)});break;case"onFocus":c.editor.on("focus",function(T,b){c.props.onFocus(c.editor,b)});break;case"onGutterClick":c.editor.on("gutterClick",function(T,b,k,f){c.props.onGutterClick(c.editor,b,k,f)});break;case"onInputRead":c.editor.on("inputRead",function(T,b){c.props.onInputRead(c.editor,b)});break;case"onKeyDown":c.editor.on("keydown",function(T,b){c.props.onKeyDown(c.editor,b)});break;case"onKeyHandled":c.editor.on("keyHandled",function(T,b,k){c.props.onKeyHandled(c.editor,b,k)});break;case"onKeyPress":c.editor.on("keypress",function(T,b){c.props.onKeyPress(c.editor,b)});break;case"onKeyUp":c.editor.on("keyup",function(T,b){c.props.onKeyUp(c.editor,b)});break;case"onMouseDown":{c.editor.on("mousedown",function(T,b){c.props.onMouseDown(c.editor,b)});break}case"onPaste":{c.editor.on("paste",function(T,b){c.props.onPaste(c.editor,b)});break}case"onRenderLine":{c.editor.on("renderLine",function(T,b,k){c.props.onRenderLine(c.editor,b,k)});break}case"onScroll":c.editor.on("scroll",function(T){c.props.onScroll(c.editor,c.editor.getScrollInfo())});break;case"onSelection":c.editor.on("beforeSelectionChange",function(T,b){c.props.onSelection(c.editor,b)});break;case"onTouchStart":{c.editor.on("touchstart",function(T,b){c.props.onTouchStart(c.editor,b)});break}case"onUpdate":c.editor.on("update",function(T){c.props.onUpdate(c.editor)});break;case"onViewportChange":c.editor.on("viewportChange",function(T,b,k){c.props.onViewportChange(c.editor,b,k)});break}})},U}(),He=function(U){Q(C,U);function C(c){var S=U.call(this,c)||this;return X||(S.applied=!1,S.appliedNext=!1,S.appliedUserDefined=!1,S.deferred=null,S.emulating=!1,S.hydrated=!1,S.initCb=function(){S.props.editorDidConfigure&&S.props.editorDidConfigure(S.editor)},S.mounted=!1),S}return C.prototype.hydrate=function(c){var S=this,T=c&&c.options?c.options:{},b=P({},ee.defaults,this.editor.options,T),k=Object.keys(b).some(function(f){return S.editor.getOption(f)!==b[f]});k&&Object.keys(b).forEach(function(f){T.hasOwnProperty(f)&&S.editor.getOption(f)!==b[f]&&(S.editor.setOption(f,b[f]),S.mirror.setOption(f,b[f]))}),this.hydrated||(this.deferred?this.resolveChange(c.value):this.initChange(c.value||"")),this.hydrated=!0},C.prototype.initChange=function(c){this.emulating=!0;var S=this.editor.getDoc(),T=S.lastLine(),b=S.getLine(S.lastLine()).length;S.replaceRange(c||"",{line:0,ch:0},{line:T,ch:b}),this.mirror.setValue(c),S.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},C.prototype.resolveChange=function(c){this.emulating=!0;var S=this.editor.getDoc();if(this.deferred.origin==="undo"?S.undo():this.deferred.origin==="redo"?S.redo():S.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),c&&c!==S.getValue()){var T=S.getCursor();S.setValue(c),S.setCursor(T)}this.emulating=!1,this.deferred=null},C.prototype.mirrorChange=function(c){var S=this.editor.getDoc();return c.origin==="undo"?(S.setHistory(this.mirror.getHistory()),this.mirror.undo()):c.origin==="redo"?(S.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(c.text,c.from,c.to,c.origin),this.mirror.getValue()},C.prototype.componentDidMount=function(){var c=this;X||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&ee.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=ee(this.ref,this.props.options),this.shared=new ce(this.editor,this.props),this.mirror=ee(function(){},this.props.options),this.editor.on("electricInput",function(){c.mirror.setHistory(c.editor.getDoc().getHistory())}),this.editor.on("cursorActivity",function(){c.mirror.setCursor(c.editor.getDoc().getCursor())}),this.editor.on("beforeChange",function(S,T){if(!c.emulating){T.cancel(),c.deferred=T;var b=c.mirrorChange(c.deferred);c.props.onBeforeChange&&c.props.onBeforeChange(c.editor,c.deferred,b)}}),this.editor.on("change",function(S,T){!c.mounted||c.props.onChange&&c.props.onChange(c.editor,T,c.editor.getValue())}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},C.prototype.componentDidUpdate=function(c){if(!X){var S={cursor:null};this.props.value!==c.value&&(this.hydrated=!1),!this.props.autoCursor&&this.props.autoCursor!==void 0&&(S.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(c,this.props,S),this.appliedNext=!0),this.shared.applyUserDefined(c,S),this.appliedUserDefined=!0}},C.prototype.componentWillUnmount=function(){X||this.props.editorWillUnmount&&this.props.editorWillUnmount(ee)},C.prototype.shouldComponentUpdate=function(c,S){return!X},C.prototype.render=function(){var c=this;if(X)return null;var S=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return B.createElement("div",{className:S,ref:function(b){return c.ref=b}})},C}(B.Component);fe.fk=He;var z=function(U){Q(C,U);function C(c){var S=U.call(this,c)||this;return X||(S.applied=!1,S.appliedUserDefined=!1,S.continueChange=!1,S.detached=!1,S.hydrated=!1,S.initCb=function(){S.props.editorDidConfigure&&S.props.editorDidConfigure(S.editor)},S.mounted=!1,S.onBeforeChangeCb=function(){S.continueChange=!0}),S}return C.prototype.hydrate=function(c){var S=this,T=c&&c.options?c.options:{},b=P({},ee.defaults,this.editor.options,T),k=Object.keys(b).some(function(y){return S.editor.getOption(y)!==b[y]});if(k&&Object.keys(b).forEach(function(y){T.hasOwnProperty(y)&&S.editor.getOption(y)!==b[y]&&S.editor.setOption(y,b[y])}),!this.hydrated){var f=this.editor.getDoc(),v=f.lastLine(),p=f.getLine(f.lastLine()).length;f.replaceRange(c.value||"",{line:0,ch:0},{line:v,ch:p})}this.hydrated=!0},C.prototype.componentDidMount=function(){var c=this;X||(this.detached=this.props.detach===!0,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&ee.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=ee(this.ref,this.props.options),this.shared=new ce(this.editor,this.props),this.editor.on("beforeChange",function(S,T){c.props.onBeforeChange&&c.props.onBeforeChange(c.editor,T,c.editor.getValue(),c.onBeforeChangeCb)}),this.editor.on("change",function(S,T){!c.mounted||!c.props.onChange||(c.props.onBeforeChange?c.continueChange&&c.props.onChange(c.editor,T,c.editor.getValue()):c.props.onChange(c.editor,T,c.editor.getValue()))}),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},C.prototype.componentDidUpdate=function(c){if(this.detached&&this.props.detach===!1&&(this.detached=!1,c.editorDidAttach&&c.editorDidAttach(this.editor)),!this.detached&&this.props.detach===!0&&(this.detached=!0,c.editorDidDetach&&c.editorDidDetach(this.editor)),!(X||this.detached)){var S={cursor:null};this.props.value!==c.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),!c.autoCursor&&c.autoCursor!==void 0&&(S.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(c),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(c,S),this.appliedUserDefined=!0)}},C.prototype.componentWillUnmount=function(){X||this.props.editorWillUnmount&&this.props.editorWillUnmount(ee)},C.prototype.shouldComponentUpdate=function(c,S){var T=!0;return X&&(T=!1),this.detached&&c.detach&&(T=!1),T},C.prototype.render=function(){var c=this;if(X)return null;var S=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return B.createElement("div",{className:S,ref:function(b){return c.ref=b}})},C}(B.Component);I=z}}]);
