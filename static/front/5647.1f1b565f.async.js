(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[5647],{69183:function(he){he.exports={cover:"cover___3PIkw"}},53674:function(he){he.exports={popover_group:"popover_group___IHI8-",job_compare:"job_compare___1_D5r",title:"title___1c0Gv",job_card:"job_card___3UEp7",job_index:"job_index___21-8z",job_detail:"job_detail___2CJBE",job_id:"job_id___1JRQn",job_creator:"job_creator___2TJh_",remove_active:"remove_active___1igZz",remove:"remove___1aCnX",job_delete:"job_delete___373RN",job_group:"job_group___2Qdj0",job_group_title:"job_group_title___QcEKp",job_item:"job_item___2_-nV",job_item_span:"job_item_span___5EB5v",delete:"delete___23RNK",operate:"operate___12fkp",list_container:"list_container___3WGnU",ViewTableStyle:"ViewTableStyle___1E2RD",result_table_row:"result_table_row___35tpX"}},41170:function(he){he.exports={popover_group:"popover_group___j2Kz6",job_compare:"job_compare___3XF0q",title:"title___3eiur",job_card:"job_card___1MV_c",job_index:"job_index___24peF",job_detail:"job_detail___37loK",job_id:"job_id___6_EU3",job_creator:"job_creator___3dH-U",remove_active:"remove_active___1zgwl",remove:"remove___i7J9x",job_delete:"job_delete___2EJje",job_group:"job_group___3L14X",job_group_title:"job_group_title___crAIG",job_item:"job_item___2Yq-b",job_item_span:"job_item_span___31i5J",delete:"delete___3vces",operate:"operate___264-O",popover_job:"popover_job___TPuXS",hrefUrl:"hrefUrl___fKrDG",row_table:"row_table___fqOAE",question_icon:"question_icon___39kbo"}},22911:function(he,_e,e){"use strict";e.d(_e,{Z:function(){return h}});var C=e(57359),F=e(34423),Q=e(46721),le=e(94867),ue=e(8281),k=e(58591),n=e(69230),oe=e(33821),p=e(67448),c=e(47548),u=e(35832),d=e(32326),a=e(39190),f=e(22374),ce=e(24812),j=e(22812);function me(r){return(0,j.WY)("/api/auth/user/",{params:r})}var Ce=e(69183),s=e.n(Ce),K=e(52454),ge=function($){var V=$.confirm,S=$.onConfirm,q=$.page_size,be=$.mode,l=be===void 0?"multiple":be,je=(0,ce.UO)(),t=je.ws_id,o=(0,f.useState)([]),w=(0,a.Z)(o,2),E=w[0],B=w[1],te=(0,f.useState)(),x=(0,a.Z)(te,2),se=x[0],Ee=x[1],Re=(0,f.useState)(),ve=(0,a.Z)(Re,2),ne=ve[0],re=ve[1],ie=(0,f.useState)(!0),U=(0,a.Z)(ie,2),P=U[0],L=U[1],W=(0,f.useState)(!1),R=(0,a.Z)(W,2),g=R[0],I=R[1],xe=function(){var Z=(0,d.Z)((0,u.Z)().mark(function b(z){var _,H,G;return(0,u.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(_=z&&z.replace(/\s*/g,""),!(se&&se==_)){N.next=3;break}return N.abrupt("return");case 3:return Ee(_),L(!0),N.next=7,me({ws_id:t,keyword:_,page_size:q||10,page_num:1});case 7:H=N.sent,G=H.data,B(Array.isArray(G)?G:[]),L(!1);case 11:case"end":return N.stop()}},b)}));return function(z){return Z.apply(this,arguments)}}();(0,f.useEffect)(function(){xe()},[]);var ye=function(){xe()};return(0,K.jsxs)("div",{style:{padding:8},children:[(0,K.jsx)("div",{className:s().cover,onClick:function(){g||V==null||V()}}),(0,K.jsx)(oe.Z,{mode:l,allowClear:!0,notFoundContent:P?(0,K.jsx)(c.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:xe,style:{width:"100%"},onChange:function(b){return re(b)},onDeselect:ye,onClear:ye,showArrow:!1,autoFocus:!0,value:ne,onFocus:function(){I(!0)},onBlur:function(){setTimeout(function(){I(!1)},200)},options:E==null?void 0:E.map(function(Z){return{label:Z.last_name,value:Z.id}})}),(0,K.jsx)(k.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,K.jsxs)(F.Z,{children:[(0,K.jsx)(le.Z,{onClick:function(){V==null||V(),S(ne)},type:"link",size:"small",style:{width:75},children:(0,K.jsx)(j._H,{id:"operation.search"})}),(0,K.jsx)(le.Z,{type:"text",onClick:function(){V==null||V(),re(void 0),S(void 0),xe()},size:"small",style:{width:75,border:"none"},children:(0,K.jsx)(j._H,{id:"operation.reset"})})]})]})},h=ge},75647:function(he,_e,e){"use strict";e.d(_e,{Z:function(){return ve}});var C=e(67448),F=e(47548),Q=e(57359),le=e(34423),ue=e(20632),k=e(71853),n=e(79625),oe=e(96584),p=e(35832),c=e(81138),u=e(96146),d=e(20418),a=e(32326),f=e(39190),ce=e(41428),j=e(22374),me=e(97939),Ce=e(98683),s=e(22812),K=e(24812),ge=e(59300),h=e(76742),r=e(93299),$=e(46721),V=e(94867),S=e(53674),q=e.n(S),be=e(28972),l=e(89948),je=e(39935),t=e(52454),o=function(ne){var re=(0,K.UO)(),ie=re.ws_id,U=ne.selectedChange,P=ne.allGroup,L=ne.selectedRowKeys,W=(0,j.useRef)(null),R=(0,j.useRef)(null),g=(0,j.useState)(!1),I=(0,f.Z)(g,2),xe=I[0],ye=I[1],Z=function(){var m=document.querySelector("#job_group li"),O=document.getElementById("job_group");if(m&&O){var D=m.clientWidth+1,ae=O.clientWidth;(P.length+1)*D>ae&&ye(!0)}};(0,j.useEffect)(function(){return window.addEventListener("resize",Z),function(){window.removeEventListener("resize",Z)}},[]),(0,j.useEffect)(function(){Z()},[P]);var b=function(){U()},z=function(m,O,D){if(m===200){var ae=P.map(function(de,T){de.job_total=de.job_total.map(function(y){return String(y)});var i=D.filter(function(y){return de.job_total.includes(String(y.id))}),v={name:"Group".concat(T+1),product_version:"Group".concat(T+1),members:i};return v});window.sessionStorage.setItem("".concat(ie,"-compareData"),JSON.stringify(ae)),window.sessionStorage.setItem("".concat(ie,"-originType"),"test_plan"),s.m8.push("/ws/".concat(ie,"/test_analysis/compare"))}else(0,je.EV)(m,O)},_=(0,p.Z)().mark(function J(m){return(0,p.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,ge.W3)(m);case 2:case"end":return D.stop()}},J)}),H=function(){var m={plan_instance_list:L.join(","),ws_id:ie},O=_(m),D=O.next();D.value.then(function(ae){var de=ae.code,T=ae.msg,i=ae.data;z(de,T,i)})};(0,j.useEffect)(function(){R.current=document.querySelectorAll("#box li"),R.current&&(R.current=Array.from(R.current))},[P]);var G=function(m){if(R.current&&R.current[0]){var O=parseInt(window.getComputedStyle(R.current[0]).width);return m*O}return 0},ee=function(){if(W.current){var m=W.current.getScrollLeft();return m}},N=function(){var m=document.getElementById("job_group"),O=m.clientWidth;if(W.current){var D=ee();W.current.scrollLeft(D+O-230)}},fe={width:"100%"};return(0,t.jsxs)("div",{className:q().job_compare,style:{display:P.length?"block":"none"},children:[(0,t.jsxs)("div",{className:q().title,children:[(0,t.jsx)(s._H,{id:"plan.comparison.column"}),(0,t.jsxs)("span",{children:["\uFF08",P.length,"\uFF09"]})]}),(0,t.jsxs)("div",{className:q().job_group,id:"job_group",children:[(0,t.jsx)(be.$B,{style:fe,ref:W,children:(0,t.jsx)("ul",{id:"box",children:P.map(function(J,m){var O=G(m);return(0,t.jsx)("li",{style:{borderRight:P.length>1&&m!==P.length-1?"1px dashed rgba(151, 151, 151, 0.4)":"none",position:"absolute",left:"".concat(O,"px")},children:(0,t.jsx)("div",{className:q().job_group_title,children:"Group".concat(m+1,"(Job Num:").concat(J.job_total&&J.job_total.length||0,")")})},J.id)})})}),(0,t.jsx)("div",{className:q().operate,children:(0,t.jsxs)(le.Z,{children:[(0,t.jsx)(l.Z,{onClick:N,style:{opacity:xe?1:0}}),(0,t.jsx)(V.Z,{onClick:b,children:(0,t.jsx)(s._H,{id:"operation.cancel"})}),(0,t.jsx)(V.Z,{type:"primary",onClick:H,children:(0,t.jsx)(s._H,{id:"operation.next"})})]})})]})]})},w=e(20038),E=e(79390),B=e(6130),te,x,se=me.ZP.span(te||(te=(0,ce.Z)([`
    color:#1890FF;
    cursor:pointer;
`]))),Ee=me.ZP.div(x||(x=(0,ce.Z)([`
    height : 36px;
    width : 100%;
    text-align:center;
    cursor:pointer;
    line-height:36px;
    color:rgba(0,0,0,.65);
    border-top:1px solid #f0f0f0;
`]))),Re=function(re){var ie=(0,s.YB)(),U=ie.formatMessage,P=(0,K.UO)(),L=P.ws_id,W=(0,s.md)(),R=re.plan_id,g=re.showPagination,I=g===void 0?!1:g,xe=re.callBackViewTotal,ye=(0,j.useState)({page_size:10,page_num:1,ws_id:L,plan_id:R}),Z=(0,f.Z)(ye,2),b=Z[0],z=Z[1],_=(0,j.useState)([]),H=(0,f.Z)(_,2),G=H[0],ee=H[1],N=(0,j.useState)([]),fe=(0,f.Z)(N,2),J=fe[0],m=fe[1],O=(0,je.YM)(b),D=(0,s.QT)(function(Y){return(0,ge.kB)(Y)},{initialData:{data:[]},manual:!0,formatResult:function(M){return M}}),ae=D.data,de=D.run,T=D.loading,i=(0,je.YM)(ae);(0,j.useEffect)(function(){de(b)},[R,b]);var v=(0,j.useCallback)(function(Y){s.m8.push("/ws/".concat(L,"/test_plan/view/detail/").concat(Y.id))},[]),y=function(){var Y=(0,a.Z)((0,p.Z)().mark(function M(pe){var Oe,De,Te,Me;return(0,p.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Oe=O.current.page_size,Se.next=3,(0,ge.Fg)({plan_instance_id:pe.id,ws_id:L});case 3:if(De=Se.sent,Te=De.code,Me=De.msg,Te===200){Se.next=9;break}return(0,je.EV)(Te,Me),Se.abrupt("return");case 9:xe(),z((0,d.Z)((0,d.Z)({},b),{},{page_num:(0,je.NG)(O,i),page_size:Oe})),u.default.success(U({id:"plan.operation.success"}));case 12:case"end":return Se.stop()}},M)}));return function(pe){return Y.apply(this,arguments)}}(),X=[(0,d.Z)({dataIndex:"name",title:(0,t.jsx)(s._H,{id:"plan.plan.name"}),ellipsis:{showTitle:!1},fixed:"left",className:"plan_name_hover",render:function(M,pe){return(0,t.jsx)("span",{onClick:function(){return v(pe)},children:M||"-"})}},(0,r.QT)(b,z,"name")),(0,d.Z)({dataIndex:"state",title:(0,t.jsx)(s._H,{id:"plan.state"}),width:120,render:function(M){return(0,t.jsx)(Ce.kK,{state:M})}},(0,r.Ht)(b,z,[{name:"Complate",value:"success"},{name:"Fail",value:"fail"},{name:"Running",value:"running"},{name:"Pedding",value:"pedding"}],"state")),{title:(0,t.jsx)(s._H,{id:"plan.total/success/failure"}),width:180,key:"total",render:function(M){return(0,t.jsx)(Ce.Bs,(0,d.Z)({},M.statistics))}},{dataIndex:"trigger_name",width:100,title:(0,t.jsx)(s._H,{id:"plan.trigger"}),ellipsis:{showTitle:!1},render:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return(0,t.jsx)(oe.Z,{placement:"topLeft",title:M,children:M})}},{dataIndex:"start_time",title:(0,t.jsx)(s._H,{id:"plan.start_time"}),width:180,ellipsis:{showTitle:!1},render:function(M,pe){return(0,t.jsx)(B.K,{ellipsis:{tooltip:!0},children:pe.start_time||"-"})}},{dataIndex:"end_time",title:(0,t.jsx)(s._H,{id:"plan.end_time"}),ellipsis:{showTitle:!1},width:180,render:function(M,pe){return(0,t.jsx)(B.K,{ellipsis:{tooltip:!0},children:pe.end_time||"-"})}},{title:(0,t.jsx)(s._H,{id:"Table.columns.operation"}),width:150,ellipsis:{showTitle:!1},fixed:"right",key:"operation",className:"option",render:function(M){return(0,t.jsxs)(le.Z,{children:[(0,t.jsx)(se,{className:"option-detail",onClick:function(){return v(M)},children:(0,t.jsx)(s._H,{id:"operation.detail"})}),(0,t.jsx)(s.Nv,{accessible:W.WsTourist(),children:(0,t.jsx)(s.Nv,{accessible:W.WsMemberOperateSelf(M.creator),fallback:(0,t.jsx)(se,{className:"option-delete",onClick:function(){return(0,je.WR)()},children:(0,t.jsx)(s._H,{id:"operation.delete"})}),children:(0,t.jsx)(k.Z,{title:(0,t.jsx)(s._H,{id:"delete.prompt"}),okText:(0,t.jsx)(s._H,{id:"operation.ok"}),cancelText:(0,t.jsx)(s._H,{id:"operation.cancel"}),onConfirm:function(){return y(M)},children:(0,t.jsx)(se,{className:"option-delete",children:(0,t.jsx)(s._H,{id:"operation.delete"})})})})}),(0,t.jsx)(w.Z,{className:"option-detail",dreType:"left",title:U({id:"plan.report"}),ws_id:L,jobInfo:M,origin:"jobList"})]})}}],A=function(){ee([]),m([])},Ze=(0,j.useRef)(null),Pe=(0,j.useCallback)(function(Y){s.m8.push("/ws/".concat(L,"/test_plan/view/summary/").concat(Y))},[L]);return(0,t.jsx)("div",{ref:Ze,className:q().list_container,children:(0,t.jsxs)(F.Z,{spinning:T,children:[(0,t.jsx)(E.sL,{className:q().ViewTableStyle,rowClassName:q().result_table_row,columns:X,name:"ws-test-plan-view-table",refreshDeps:[L,b,W],dataSource:ae.data,size:"small",pagination:!1,rowKey:"id"}),I&&(0,t.jsx)(h.Z,{total:ae.total,pageSize:b.page_size,currentPage:b.page_num,onPageChange:function(M,pe){z((0,d.Z)((0,d.Z)({},b),{},{page_num:M,page_size:pe}))}}),(0,t.jsx)(o,{selectedRowKeys:G,allGroup:J,selectedChange:A}),I?null:ae.total>10&&(0,t.jsx)(Ee,{onClick:function(){return Pe(R)},children:"\u67E5\u770B\u5168\u90E8"})]})})},ve=Re},98683:function(he,_e,e){"use strict";e.d(_e,{kK:function(){return Ce},Bs:function(){return s},IT:function(){return ge}});var C=e(57359),F=e(34423),Q=e(41428),le=e(22374),ue=e(22812),k=e(97939),n=e(52454),oe,p,c,u=k.ZP.span(oe||(oe=(0,Q.Z)([`
    color:`,`;
    background : `,`;
    height: 18px;
    min-width: 36px;
    font-size: 14px;
    line-height:18px;
    text-align : center;
    // font-weight: 700;
    display:inline-block;
    padding:0 7px;
`])),function(h){return h.color},function(h){return a(h.color)}),d=k.ZP.span(p||(p=(0,Q.Z)([`
    color:`,`;
    background : `,`;
    height: 18px;
    min-width: 36px;
    font-size: 14px;
    line-height:18px;
    text-align : center;
    display:inline-block;
    border-radius: 12px;
    // font-weight: 700;
    padding:0 7px;
`])),function(h){return h.color},function(h){return a(h.color)});function a(h){if(h=="")return"";h=h.substring(1),h=h.toLowerCase();for(var r=new Array,$=0;$<3;$++)r[0]=h.substr($*2,2),r[3]="0123456789abcdef",r[1]=r[0].substr(0,1),r[2]=r[0].substr(1,1),r[20+$]=r[3].indexOf(r[1])*16+r[3].indexOf(r[2]);return"rgba("+r[20]+","+r[21]+","+r[22]+",.1)"}var f="#000000a6",ce="#C84C5A",j="#39C15B",me="#649FF6",Ce=function(r){var $=r.state;switch($){case"pending":return(0,n.jsx)(u,{color:f,children:"Pending"});case"running":return(0,n.jsx)(u,{color:me,children:"Running"});case"success":return(0,n.jsx)(u,{color:j,children:"Complete"});case"fail":return(0,n.jsx)(u,{color:ce,children:"Fail"});default:return(0,n.jsx)(n.Fragment,{children:"-"})}return(0,n.jsx)(n.Fragment,{children:"-"})},s=function(r){var $=r.total,V=r.pass,S=r.fail;return(0,n.jsxs)(F.Z,{children:[(0,n.jsx)(d,{color:me,children:$||"-"}),(0,n.jsx)(d,{color:j,children:V||"-"}),(0,n.jsx)(d,{color:ce,children:S||"-"})]})},K=(0,k.ZP)(F.Z)(c||(c=(0,Q.Z)([`
    span { font-size : 12px; }
`]))),ge=function(r){return(0,n.jsxs)(K,{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(ue._H,{id:"plan.trigger_count"}),"\uFF1A"]}),(0,n.jsx)("span",{style:{marginRight:8,color:me},children:r.trigger_count}),(0,n.jsxs)("span",{children:[(0,n.jsx)(ue._H,{id:"plan.success"}),"\uFF1A"]}),(0,n.jsx)("span",{style:{marginRight:8,color:j},children:r.success_count}),(0,n.jsxs)("span",{children:[(0,n.jsx)(ue._H,{id:"plan.fail"}),"\uFF1A"]}),(0,n.jsx)("span",{style:{marginRight:8,color:ce},children:r.fail_count})]}),r.last_time&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(ue._H,{id:"plan.last_time"}),"\uFF1A"]}),(0,n.jsx)("span",{children:r.last_time})]}),r.next_time&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{children:[(0,n.jsx)(ue._H,{id:"plan.next_time"}),"\uFF1A"]}),(0,n.jsx)("span",{children:r.next_time})]})]})}},59300:function(he,_e,e){"use strict";e.d(_e,{oW:function(){return le},kB:function(){return ue},Fg:function(){return n},W3:function(){return oe}});var C=e(35832),F=e(32326),Q=e(22812),le=function(){var p=(0,F.Z)((0,C.Z)().mark(function c(u){return(0,C.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,Q.WY)("/api/plan/view/",{params:u}));case 1:case"end":return a.stop()}},c)}));return function(u){return p.apply(this,arguments)}}(),ue=function(){var p=(0,F.Z)((0,C.Z)().mark(function c(u){return(0,C.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,Q.WY)("/api/plan/result/",{params:u}));case 1:case"end":return a.stop()}},c)}));return function(u){return p.apply(this,arguments)}}(),k=null,n=function(){var p=(0,F.Z)((0,C.Z)().mark(function c(u){return(0,C.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,Q.WY)("/api/plan/result/",{data:u,method:"delete"}));case 1:case"end":return a.stop()}},c)}));return function(u){return p.apply(this,arguments)}}(),oe=function(c){return(0,Q.WY)("/api/plan/constraint/",{params:c})}},20038:function(he,_e,e){"use strict";var C=e(13059),F=e(53676),Q=e(46721),le=e(94867),ue=e(31650),k=e(25100),n=e(11407),oe=e(68077),p=e(35832),c=e(32326),u=e(20418),d=e(39190),a=e(22374),f=e(41170),ce=e.n(f),j=e(28972),me=e(44851),Ce=e.n(me),s=e(12590),K=e(22911),ge=e(31784),h=e(39881),r=e(22812),$=e(24812),V=e(97207),S=e.n(V),q=e(6130),be=e(89689),l=e(52454),je={container:245,button_width:122};_e.Z=function(t){var o=(0,r.YB)(),w=o.formatMessage,E=(0,$.UO)(),B=E.ws_id,te=t.dreType,x=t.jobInfo,se=t.origin,Ee=t.buttonStyle,Re=Ee===void 0?{}:Ee,ve=t.title,ne=x&&x.report_li,re={name:"",creator_name:""},ie=(0,a.useState)(!0),U=(0,d.Z)(ie,2),P=U[0],L=U[1],W=(0,a.useState)(re),R=(0,d.Z)(W,2),g=R[0],I=R[1],xe=(0,a.useState)([]),ye=(0,d.Z)(xe,2),Z=ye[0],b=ye[1],z=(0,a.useState)(!1),_=(0,d.Z)(z,2),H=_[0],G=_[1],ee=a.useRef(null);(0,be.Z)(function(){G(!1)},[ee]);var N=function(i,v){var y=S().cloneDeep(v);return i&&(y=y.filter(function(X){var A=i.split(",").map(function(Pe){return Pe&&(Pe==null?void 0:Pe.trim())}),Ze=S().get(X,"creator");return A.includes(String(Ze))})),y},fe=function(i,v){var y=S().cloneDeep(v);return i&&(y=y.filter(function(X){var A=S().get(X,"name");return A.includes(i.trim())})),y},J=function(i,v){var y=i||"";S().isArray(y)&&(y=y.join(","));var X={};X[v]=y;var A=S().cloneDeep(ne);y===""?A=fe(g.name||"",A):(A=fe(g.name||"",A),A=N(y,A)),b(A),I((0,u.Z)((0,u.Z)({},g),X))},m=[{dataIndex:"name",title:(0,l.jsx)(r._H,{id:"ws.result.list.report.name"}),width:165,ellipsis:{showTitle:!1},className:"report_name_hover",filterDropdown:function(i){var v=i.confirm;return(0,l.jsx)(s.Z,{confirm:v,autoFocus:P,styleObj:je,onConfirm:function(X){var A=S().cloneDeep(ne);X===void 0?A=N(g.creator_name||"",A):(A=N(g.creator_name||"",A),A=fe(X,A)),b(A),I((0,u.Z)((0,u.Z)({},g),{},{name:X}))},placeholder:w({id:"ws.result.list.report.name.placeholder"})})},onFilterDropdownVisibleChange:function(i){i&&L(!P)},filterIcon:function(){return(0,l.jsx)(ge.Z,{style:{color:g.name?"#1890ff":void 0}})},render:function(i,v){return(0,l.jsx)(q.K,{ellipsis:{tooltip:v.name},children:(0,l.jsx)(Ce(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[g.name||""],autoEscape:!0,textToHighlight:v&&v.name||"-",onClick:function(){return window.open("/ws/".concat(B,"/test_report/").concat(v.id))}})})}},{dataIndex:"creator_name",width:100,title:(0,l.jsx)(r._H,{id:"ws.result.list.creators"}),filterDropdown:function(i){var v=i.confirm;return(0,l.jsx)(K.Z,{autoFocus:P,confirm:v,onConfirm:function(X){return J(X,"creator_name")},page_size:20})},onFilterDropdownVisibleChange:function(i){i&&L(!P)},filterIcon:function(){return(0,l.jsx)(ge.Z,{style:{color:g.creator_name?"#1890ff":void 0}})},render:function(i){return(0,l.jsx)(q.K,{ellipsis:{tooltip:!0},children:i||"-"})}},{dataIndex:"gmt_created",title:(0,l.jsx)(r._H,{id:"ws.result.list.gmt_created"}),width:200,render:function(i){return(0,l.jsx)(q.K,{ellipsis:{tooltip:!0},children:i||"-"})}}],O=function(){var T=(0,c.Z)((0,p.Z)().mark(function i(v){return(0,p.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:window.open("/ws/".concat(B,"/test_report/").concat(v));case 1:case"end":return X.stop()}},i)}));return function(v){return T.apply(this,arguments)}}(),D=function(i,v){if(i.stopPropagation(),S().isArray(v)||(v=[]),v.length===1){O(v[0].id);return}G(!H),b(v)},ae=function(i){return(0,l.jsx)("div",{ref:ee,children:(0,l.jsx)(j.$B,{style:{height:244},children:(0,l.jsx)(oe.Z,{size:"small",rowKey:"id",columns:m,dataSource:i,pagination:!1,rowClassName:ce().row_table})})})},de=S().get(x,"report_li")&&x.report_li.length;return(0,l.jsx)("div",{className:ce().conf_item_box,children:(0,l.jsx)(F.Z,{placement:te,title:(0,l.jsx)(r._H,{id:"ws.result.list.view.report"}),content:ae(Z),trigger:"click",overlayClassName:ce().popover_job,open:H,children:se==="jobList"?(0,l.jsx)(k.Z.Text,{style:{color:"#1890FF",cursor:"pointer",display:de?"inlineBlock":"none"},children:(0,l.jsxs)("span",{onClick:S().partial(D,S(),x&&x.report_li),style:{display:"flex",alignItems:"center"},children:[ve||(0,l.jsx)(r._H,{id:"ws.result.list.view.report"}),(0,l.jsx)(h.Z,{style:{display:de>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})}):(0,l.jsxs)(le.Z,{type:"primary",onClick:S().partial(D,S(),x&&x.report_li),style:(0,u.Z)({marginRight:8,display:de?"inlineBlock":"none"},Re),children:[ve||(0,l.jsx)(r._H,{id:"ws.result.list.view.report"}),(0,l.jsx)(h.Z,{style:{display:de>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})})})}},79390:function(he,_e,e){"use strict";e.d(_e,{sL:function(){return je},ny:function(){return be},Fu:function(){return l}});var C=e(20418),F=e(39190),Q=e(488),le=e(26388),ue=e(11407),k=e(68077),n=e(2605),oe=e(74127),p=e(41428),c=e(22374),u=e(48434),d=e(97939),a=e(99648),f=e(52454),ce=["width","onResizeStart","onResize","onResizeStop","resize"],j=["columns","name","onColumnsChange"],me,Ce,s,K=d.ZP.div(me||(me=(0,p.Z)([`
    position: relative;
    width: 100%;
`]))),ge=d.ZP.div.attrs(function(t){return{style:{left:t.left,height:t==null?void 0:t.height}}})(Ce||(Ce=(0,p.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),h=(0,d.ZP)(u.Resizable)(s||(s=(0,p.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(t){var o=t.resize;return o?"col-resize":"default"}),r=function(o){var w=o.width,E=o.onResizeStart,B=o.onResize,te=o.onResizeStop,x=o.resize,se=(0,Q.Z)(o,ce);return(0,f.jsx)(h,(0,C.Z)((0,C.Z)({width:w||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:E,onResize:B,onResizeStop:te,resize:x?1:0},se),{},{children:(0,f.jsx)("th",(0,C.Z)({},se))}))},$=function(o){var w=o.columns,E=w===void 0?[]:w,B=o.name,te=o.onColumnsChange,x=(0,Q.Z)(o,j),se=c.useState(0),Ee=(0,F.Z)(se,2),Re=Ee[0],ve=Ee[1],ne=c.useState(0),re=(0,F.Z)(ne,2),ie=re[0],U=re[1],P=c.useState(!1),L=(0,F.Z)(P,2),W=L[0],R=L[1],g=c.useRef(null),I=(0,a.Z)(g),xe=function(_){return function(H,G){var ee;if((0,oe.Z)(G),!!E[_].ellipsis){var N=H.clientX,fe=N-((ee=g.current)===null||ee===void 0?void 0:ee.getBoundingClientRect().x);U(fe),ve(fe),R(!0)}}},ye=function(){return function(_){var H,G=_.clientX,ee=G-((H=g.current)===null||H===void 0?void 0:H.getBoundingClientRect().x);ve(ee)}},Z=function(_){return function(H,G){var ee,N=G.size,fe=H.clientX,J=fe-((ee=g.current)===null||ee===void 0?void 0:ee.getBoundingClientRect().x),m=(0,n.Z)(E);if(m[_].ellipsis){var O=N.width+=J-ie,D=m[_],ae=D.dataIndex,de=D.key;O>20&&(m[_]=(0,C.Z)((0,C.Z)({},m[_]),{},{width:O}),B&&l(B,ae||de,O),te==null||te())}ve(0),U(0),R(!1)}},b=c.useMemo(function(){return E.reduce(function(z,_){return _.width?z+=_==null?void 0:_.width:z},0)},[E]);return(0,f.jsxs)(K,{ref:g,className:"resize-table-wrapper",children:[(0,f.jsx)(k.Z,(0,C.Z)((0,C.Z)({},x),{},{components:{header:{cell:r}},scroll:(o==null?void 0:o.scroll)||{x:b||(I==null?void 0:I.width)},columns:E.filter(Boolean).map(function(z,_){return(0,C.Z)((0,C.Z)({},z),{},{onHeaderCell:function(G){return{resize:!!z.ellipsis,width:G.width,onResizeStart:xe(_),onResize:ye(),onResizeStop:Z(_)}}})})})),W&&(0,f.jsx)(ge,{height:I==null?void 0:I.height,left:Re||ie})]})},V=$,S=["name","columns","refreshDeps","onColumnsChange"],q="umi_locale",be=function(o,w){var E=localStorage.getItem(o),B=localStorage.getItem(q)||"zh-CN";if(!!E)return JSON.parse(E)["".concat(B,"-").concat(w)]},l=function(o,w,E){var B=localStorage.getItem(o),te=localStorage.getItem(q)||"zh-CN",x=(0,le.Z)({},"".concat(te,"-").concat(w),E);B?localStorage.setItem(o,JSON.stringify(Object.assign(JSON.parse(B),x))):localStorage.setItem(o,JSON.stringify(x))},je=function(o){var w=o.name,E=o.columns,B=o.refreshDeps,te=B===void 0?[]:B,x=o.onColumnsChange,se=(0,Q.Z)(o,S),Ee=c.useState([]),Re=(0,F.Z)(Ee,2),ve=Re[0],ne=Re[1],re=function(){return(E==null?void 0:E.filter(Boolean).map(function(U){var P=U.dataIndex,L=U.key,W=U.width,R=P||L,g=be(w,R);!g&&W&&l(w,R,W);var I=g||W;return I&&(U.width=I),U}))||[]};return c.useEffect(function(){ne(re())},te),(0,f.jsx)(V,(0,C.Z)({name:w,columns:ve,setColumns:ne,size:"small",onColumnsChange:function(){x==null||x(),ne(re())}},se))}},89689:function(he,_e,e){"use strict";e.d(_e,{Z:function(){return le}});var C=e(22374),F=e(23101),Q="click";function le(ue,k,n){n===void 0&&(n=Q);var oe=(0,C.useRef)(ue);oe.current=ue,(0,C.useEffect)(function(){var p=function(u){var d=Array.isArray(k)?k:[k];d.some(function(a){var f=(0,F.n)(a);return!f||(f==null?void 0:f.contains(u.target))})||oe.current(u)};return document.addEventListener(n,p),function(){document.removeEventListener(n,p)}},[k,n])}}}]);
