(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2373],{4730:function(re){re.exports={part_title:"part_title___2o2oM",line:"line___2hjGI"}},15191:function(re){re.exports={paragraph:"paragraph___1ysHh"}},49253:function(re){re.exports={paragraph:"paragraph___1X3JJ",full_width:"full_width___3YGWb",row_box:"row_box___3X3ac",first_part:"first_part___2FLAG",second_part:"second_part___39Rw6",transferOwnerWs:"transferOwnerWs___1TIGZ",cancleWs:"cancleWs___3O_vj"}},37834:function(re,de,n){"use strict";var pe=n(67515),J=n(12238),Q=n(14320),oe=n(53479),Me=n(35832),le=n(32326),Ie=n(39190),Ee=n(41428),ue=n(22374),w=n(20669),$e=n(22812),b=n(97939),ge=n(52454),I,O,m=b.ZP.div(I||(I=(0,Ee.Z)([`
    width: calc(100% - 200px - 20px);
    height: 100px;
    overflow: hidden;
    margin-left: 20px;
`]))),fe=(0,b.ZP)(w.Z)(O||(O=(0,Ee.Z)([`
    & {
        height: 200px;
        width: 200px;  
    }
`]))),x=function(B,Be){var k=B.onCancel,C=B.onOk,We=ue.useState(""),xe=(0,Ie.Z)(We,2),Le=xe[0],Se=xe[1],Ae=ue.useState(!1),we=(0,Ie.Z)(Ae,2),He=we[0],Ce=we[1];ue.useImperativeHandle(Be,function(){return{show:function(s){Ce(!0),Se(s)}}});var Oe=(0,ue.useRef)(null),T=function(){Ce(!1),Se(""),k&&k()},l=function(){Oe.current.getCroppedCanvas().toBlob(function(){var s=(0,le.Z)((0,Me.Z)().mark(function f(j){var R,Z;return(0,Me.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return R=new FormData,R.append("file",j),a.next=4,(0,$e.WY)("/api/sys/upload/",{method:"post",data:R});case 4:Z=a.sent,C(Z),T();case 7:case"end":return a.stop()}},f)}));return function(f){return s.apply(this,arguments)}}())};return(0,ge.jsx)(J.Z,{open:He,onCancel:T,onOk:l,title:"\u56FE\u7247\u88C1\u5207",maskClosable:!1,children:(0,ge.jsxs)(oe.Z,{children:[(0,ge.jsx)(fe,{ref:Oe,src:Le,aspectRatio:1,guides:!0,preview:".preview"}),(0,ge.jsx)(m,{className:"preview"})]})})};de.Z=(0,ue.forwardRef)(x)},78974:function(re,de,n){"use strict";var pe=n(4730),J=n.n(pe),Q=n(52454);de.Z=function(oe){return(0,Q.jsxs)("div",{className:J().part_title,children:[oe.text,oe.children,(0,Q.jsx)("div",{className:J().line})]})}},39153:function(re,de,n){"use strict";n.r(de),n.d(de,{default:function(){return en}});var pe=n(16832),J=n(69827),Q=n(70772),oe=n(6701),Me=n(57359),le=n(34423),Ie=n(98604),Ee=n(68917),ue=n(14320),w=n(53479),$e=n(46721),b=n(94867),ge=n(65790),I=n(17187),O=n(20418),m=n(81138),fe=n(96146),x=n(35832),V=n(32326),B=n(39190),Be=n(31650),k=n(25100),C=n(22374),We=n(8281),xe=n(58591),Le=n(69230),Se=n(33821),Ae=n(67448),we=n(47548),He=n(53374),Ce=n(61674),Oe=n(20693),T=n(3278),l=n(88966),d=n(11048),s=n(26388),f=n(15191),j=n.n(f),R=n(97207),Z=n.n(R),U=n(29197),a=n(22812),_=n(24812),z=n(39935),e=n(52454),Re=function(r){var o=(0,C.useState)(!1),i=(0,B.Z)(o,2),N=i[0],M=i[1];(0,C.useEffect)(function(){M(r.title)},[r.title]);var E=function(h){M(h.target.value);var y=(0,s.Z)({},r.keyName,h.target.value);r.changeText(y)};return(0,e.jsx)(le.Z,{children:(0,e.jsxs)(d.ZP.Group,{onChange:E,value:N,disabled:r.disabled,children:[(0,e.jsx)(d.ZP,{value:!0,children:(0,e.jsx)(a._H,{id:"ws.config.public"})}),(0,e.jsx)(d.ZP,{value:!1,children:(0,e.jsx)(a._H,{id:"ws.config.private"})})]})})},Te=function(r){var o=r.name,i=r.size,N=i===void 0?"small":i,M=r.type,E=M===void 0?"input":M,g=r.disabled,h=r.inputType,y=r.setErrorReg,D=r.errorReg,t=r.changeText,S=(0,C.useState)(o),$=(0,B.Z)(S,2),c=$[0],v=$[1];(0,C.useEffect)(function(){v(o)},[o]);var F=function(H){v(H.target.value);var u=H.target.value,Y=/^([\w\W])+$/,ce="";h==="name"&&(Y=/^[a-z0-9_-]{1,30}$/,ce="regName"),h==="show_name"&&(Y=/^[A-Za-z0-9\u4e00-\u9fa5\._-]{1,30}$/g,ce="regShowName"),h==="description"&&(Y=/^([\w\W]){1,200}$/,ce="regDescription");var ee=Y.test(u);y((0,O.Z)((0,O.Z)({},D),{},(0,s.Z)({},ce,!ee))),t((0,s.Z)({},h,u))};return(0,e.jsx)(e.Fragment,{children:E==="input"?(0,e.jsx)(T.Z,{autoComplete:"off",style:{width:480,height:32},defaultValue:c,value:c,disabled:g,onChange:F}):(0,e.jsx)(T.Z.TextArea,{size:N,style:{width:480},defaultValue:c,disabled:g,value:c,onChange:F})})},Ge=function(r){var o=r.first_name,i=r.last_name;return o&&i?"".concat(o,"\uFF08").concat(i,"\uFF09"):o&&!i?o:!o&&i?i:""},be=function(r){var o=(0,a.YB)(),i=o.formatMessage,N=(0,a.Kd)()==="en-US",M=(0,_.UO)(),E=M.ws_id,g=r.refresh,h=(0,C.useState)(null),y=(0,B.Z)(h,2),D=y[0],t=y[1],S=C.useState([]),$=(0,B.Z)(S,2),c=$[0],v=$[1],F=C.useState(!1),ie=(0,B.Z)(F,2),H=ie[0],u=ie[1],Y=function(){var ee=(0,V.Z)((0,x.Z)().mark(function G(){var ne,te,ae;return(0,x.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(D){L.next=2;break}return L.abrupt("return");case 2:return L.next=4,(0,U.OM)({id:E,owner:D});case 4:if(ne=L.sent,te=ne.code,ae=ne.msg,te===200){L.next=10;break}return(0,z.EV)(te,ae),L.abrupt("return");case 10:g&&g();case 11:case"end":return L.stop()}},G)}));return function(){return ee.apply(this,arguments)}}();C.useEffect(function(){return ce(),function(){v([]),t(null)}},[]);var ce=function(){var ee=(0,V.Z)((0,x.Z)().mark(function G(){var ne,te,ae,se,L,ye=arguments;return(0,x.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return ne=ye.length>0&&ye[0]!==void 0?ye[0]:"",v([]),u(!0),p.next=5,(0,U.bu)({ws_id:E,keyword:ne});case 5:if(te=p.sent,ae=te.data,se=te.code,L=te.msg,se===200){p.next=13;break}return u(!1),(0,z.EV)(se,L),p.abrupt("return");case 13:u(!1),v(ae.map(function(K){return{value:K.user_info.id,label:Ge(K.user_info)}}));case 15:case"end":return p.stop()}},G)}));return function(){return ee.apply(this,arguments)}}();return(0,e.jsxs)(J.Z.Content,{style:{width:400},children:[(0,e.jsx)(w.Z,{style:{marginTop:4,marginBottom:24},className:j().full_width,children:(0,e.jsx)(Ce.Z,{message:(0,e.jsx)(a._H,{id:"ws.config.transfer.Alert"}),type:"warning",showIcon:!0,style:{width:"100%",height:N?64:32}})}),(0,e.jsx)(w.Z,{className:j().full_width,children:(0,e.jsx)(k.Z.Text,{strong:!0,children:(0,e.jsx)(a._H,{id:"ws.config.transfer.user"})})}),(0,e.jsx)(w.Z,{style:{marginTop:6},className:j().full_width,children:(0,e.jsx)(Se.Z,{style:{width:"100%"},onChange:function(G){return t(G)},value:D,showSearch:!0,onSearch:Z().debounce(ce,500),placeholder:i({id:"ws.config.transfer.placeholder"}),notFoundContent:H?(0,e.jsx)(we.Z,{size:"small"}):null,filterOption:!1,options:c})}),(0,e.jsx)(xe.Z,{style:{marginTop:24,marginBottom:10,width:"calc(100% + 48px)",transform:"translateX(-24px)"}}),(0,e.jsx)(w.Z,{justify:"end",className:j().full_width,children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(b.Z,{onClick:r.handleCancel,children:(0,e.jsx)(a._H,{id:"operation.cancel"})}),(0,e.jsx)(b.Z,{type:"primary",onClick:function(){return Y()},children:(0,e.jsx)(a._H,{id:"operation.ok"})})]})})]})},Ue=function(r){var o=(0,_.UO)(),i=o.ws_id,N=r.handleCancel,M=function(){var E=(0,V.Z)((0,x.Z)().mark(function g(){var h,y,D,t,S=arguments;return(0,x.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return h=S.length>0&&S[0]!==void 0?S[0]:"",c.next=3,(0,U.zl)({id:i,reason:h});case 3:if(y=c.sent,D=y.code,t=y.msg,D===200){c.next=9;break}return(0,z.EV)(D,t),c.abrupt("return");case 9:a.m8.push("/"),N&&N();case 11:case"end":return c.stop()}},g)}));return function(){return E.apply(this,arguments)}}();return(0,e.jsxs)(J.Z.Content,{style:{width:400},children:[(0,e.jsx)(w.Z,{children:(0,e.jsx)(k.Z.Text,{style:{color:"(0,0,0,0.65)",lineHeight:"22px"},children:(0,e.jsx)(a._H,{id:"ws.config.warning"})})}),(0,e.jsx)(xe.Z,{style:{marginTop:24,marginBottom:10,width:"calc(100% + 48px)",transform:"translateX(-24px)"}}),(0,e.jsx)(w.Z,{justify:"end",className:j().full_width,children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(b.Z,{onClick:N,children:(0,e.jsx)(a._H,{id:"operation.cancel"})}),(0,e.jsx)(b.Z,{type:"primary",onClick:function(){return M&&M()},children:(0,e.jsx)(a._H,{id:"operation.log.off"})})]})})]})},Pe=n(78974),Fe=n(49253),P=n.n(Fe),tn=n(13059),De=n(53676),Ke=function(r,o){var i=(0,a.YB)(),N=i.formatMessage,M=r.refresh,E=C.useState(!1),g=(0,B.Z)(E,2),h=g[0],y=g[1],D=function(){M(),y(!1)};return(0,e.jsx)(De.Z,{content:(0,e.jsx)(be,{handleCancel:function(){return y(!1)},refresh:D}),trigger:"click",title:(0,e.jsx)(a._H,{id:"ws.config.transfer.ownership"}),onVisibleChange:function(S){return y(S)},visible:h,overlayClassName:P().transferOwnerWs,children:(0,e.jsx)(b.Z,{onClick:function(){return y(!0)},children:(0,e.jsx)(a._H,{id:"ws.config.transfer.of.ownership"})})})},Xe=C.forwardRef(Ke),Je=function(){var r=(0,a.YB)(),o=r.formatMessage,i=C.useState(!1),N=(0,B.Z)(i,2),M=N[0],E=N[1];return(0,e.jsx)(De.Z,{content:(0,e.jsx)(Ue,{handleCancel:function(){return E(!1)}}),visible:M,onVisibleChange:function(h){return E(h)},overlayClassName:P().cancleWs,trigger:"click",title:(0,e.jsx)(a._H,{id:"ws.config.tips"}),children:(0,e.jsx)(b.Z,{onClick:function(){return E(!0)},children:(0,e.jsx)(a._H,{id:"operation.log.off"})})})},Ve=Je,an=n(29143),Qe=n(34517),W=n(96579),ke=n(37834),_e=function(r){var o=(0,a.YB)(),i=o.formatMessage,N=r.refresh,M=r.intro,E=(0,a.md)(),g=(0,_.UO)(),h=g.ws_id,y=C.useRef(null),D={name:"file",action:"/api/sys/upload/",beforeUpload:function(S){var $=new FileReader;return $.onload=function(c){var v;(v=y.current)===null||v===void 0||v.show(c.target.result)},$.readAsDataURL(S),!1},onChange:function(){var t=(0,V.Z)((0,x.Z)().mark(function $(c){var v,F,ie;return(0,x.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(c.file.status!=="done"){u.next=9;break}return u.next=3,(0,U.OM)({id:h,logo:c.file.response.path});case 3:v=u.sent,F=v.code,ie=v.msg,F===200?(N(),fe.default.success(i({id:"request.update.success"}))):(0,z.EV)(F,ie),u.next=10;break;case 9:c.file.status==="error"&&fe.default.error("".concat(c.file.name," file upload failed."));case 10:case"end":return u.stop()}},$)}));function S($){return t.apply(this,arguments)}return S}()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I.Z.Item,{label:"",children:(0,e.jsxs)(w.Z,{style:{width:"100%",marginBottom:0},children:[(0,e.jsx)(W.Z,(0,O.Z)({size:"large"},M)),(0,e.jsxs)("div",{style:{width:"calc(100% - 96px - 20px)",marginLeft:16},className:P().first_part,children:[(0,e.jsx)(w.Z,{style:{marginBottom:8},children:(0,e.jsx)(a.Nv,{accessible:E.WsBtnPermission(),children:(0,e.jsx)(Qe.Z,(0,O.Z)((0,O.Z)({},D),{},{children:(0,e.jsx)(b.Z,{children:(0,e.jsx)(a._H,{id:"ws.config.update.cover"})})}))})}),(0,e.jsx)(w.Z,{style:{marginBottom:4},children:(0,e.jsx)(k.Z.Text,{children:(0,e.jsx)(a._H,{id:"ws.config.cover.ps"})})}),(0,e.jsx)(w.Z,{children:(0,e.jsx)(k.Z.Text,{})})]})]})}),(0,e.jsx)(ke.Z,{ref:y,onOk:function(){var t=(0,V.Z)((0,x.Z)().mark(function S($){var c,v,F;return(0,x.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,U.OM)({id:h,logo:$.path});case 2:c=H.sent,v=c.code,F=c.msg,v===200?(N(),fe.default.success(i({id:"request.update.success"}))):(0,z.EV)(v,F);case 6:case"end":return H.stop()}},S)}));return function(S){return t.apply(this,arguments)}}()})]})},qe=_e,Ze=k.Z.Text,ze=function(){var r=(0,a.YB)(),o=r.formatMessage,i=(0,a.Kd)()==="en-US",N=(0,a.tT)("workspaceHistoryList"),M=N.setHistoryList,E=(0,_.UO)(),g=E.ws_id,h=(0,a.md)(),y=(0,C.useState)(),D=(0,B.Z)(y,2),t=D[0],S=D[1],$=(0,C.useState)(),c=(0,B.Z)($,2),v=c[0],F=c[1],ie=(0,C.useState)({regName:!1,regShowName:!1,regDescription:!1}),H=(0,B.Z)(ie,2),u=H[0],Y=H[1],ce=function(p){var K=p.show_name,A=p.name,me=p.description,je=!/^[A-Za-z0-9\u4e00-\u9fa5\._-]{1,30}$/g.test(K),Ne=!/^[a-z0-9_-]{1,30}$/.test(A),X=!/^([\w\W]){1,200}$/.test(me);Y({regShowName:je,regName:Ne,regDescription:X})},ee=function(){var ve=(0,V.Z)((0,x.Z)().mark(function p(){var K,A,me,je;return(0,x.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,U.Sd)(g);case 2:K=X.sent,A=K.data,me=K.code,je=K.msg,me===200?(S(Z().cloneDeep(A)),ce(A),F(A),M(function(Ye){return Ye.reduce(function(nn,he){return he.id===g?nn.concat(A):nn.concat(he)},[])})):(0,z.EV)(me,je);case 7:case"end":return X.stop()}},p)}));return function(){return ve.apply(this,arguments)}}(),G=function(){var ve=(0,V.Z)((0,x.Z)().mark(function p(){return(0,x.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ee();case 2:case"end":return A.stop()}},p)}));return function(){return ve.apply(this,arguments)}}();(0,C.useEffect)(function(){ee()},[location.pathname]);var ne={labelCol:{span:4},wrapperCol:{span:20}},te=function(){var ve=(0,V.Z)((0,x.Z)().mark(function p(){var K,A,me,je,Ne,X,Ye;return(0,x.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return K=t.show_name,A=t.description,me=t.name,je=t.is_public,he.next=3,(0,U.OM)({show_name:K,name:me,is_public:je,description:A,id:g});case 3:Ne=he.sent,X=Ne.code,Ye=Ne.msg,X===200?(G(),fe.default.success(o({id:"request.save.success"}))):(0,z.EV)(X,Ye);case 7:case"end":return he.stop()}},p)}));return function(){return ve.apply(this,arguments)}}(),ae=function(p){S((0,O.Z)((0,O.Z)({},t),p))},se=u.regShowName||u.regShowName||u.regDescription;se=se||Z().get(t,"show_name")===Z().get(v,"show_name")&&Z().get(t,"name")===Z().get(v,"name")&&Z().get(t,"description")===Z().get(v,"description")&&Z().get(t,"is_public")===Z().get(v,"is_public");var L=i?120:70,ye={width:L,textAlign:"right"};return(0,e.jsxs)(J.Z.Content,{style:{background:"#f5f5f5",overflowY:"auto"},children:[(0,e.jsx)(w.Z,{className:P().row_box,children:(0,e.jsxs)(I.Z,(0,O.Z)((0,O.Z)({},ne),{},{layout:"vertical",style:{width:"100%"},children:[(0,e.jsx)(Pe.Z,{text:o({id:"ws.config.cover.info"})}),(0,e.jsx)(qe,{intro:t,refresh:G}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.show_name"}),name:"show_name",validateStatus:u.regShowName?"error":void 0,help:u.regShowName?o({id:"ws.config.show_name.help"}):void 0,children:(0,e.jsx)(Te,{keyName:"show_name",name:t==null?void 0:t.show_name,changeText:ae,errorReg:u,inputType:"show_name",setErrorReg:Y})}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.name"}),name:"name",validateStatus:u.regName?"error":void 0,help:u.regName?o({id:"ws.config.name.help"}):void 0,children:(0,e.jsx)(Te,{keyName:"show_name",name:t==null?void 0:t.name,changeText:ae,disabled:!0,inputType:"name",errorReg:u,setErrorReg:Y})}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.description"}),validateStatus:u.regDescription?"error":void 0,help:u.regDescription?o({id:"ws.config.description.help"}):void 0,name:"description",children:(0,e.jsx)(Te,{type:"textarea",size:"large",keyName:"description",name:t==null?void 0:t.description,changeText:ae,inputType:"description",errorReg:u,setErrorReg:Y})}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.is_public"}),style:{marginBottom:16},name:"is_public",children:(0,e.jsx)(Re,{title:t==null?void 0:t.is_public,keyName:"is_public",disabled:Z().get(t,"is_common"),changeText:ae})}),(0,e.jsx)(a.Nv,{accessible:h.WsBtnPermission(),children:(0,e.jsx)(b.Z,{style:{marginBottom:16},disabled:se,onClick:se?function(){}:te,type:"primary",children:(0,e.jsx)(a._H,{id:"operation.ok"})})})]}))}),(0,e.jsx)(w.Z,{className:P().row_box,children:(0,e.jsxs)(I.Z,(0,O.Z)((0,O.Z)({},ne),{},{style:{width:"100%"},children:[(0,e.jsx)(Pe.Z,{text:o({id:"ws.config.workspace.info"})}),(0,e.jsxs)("div",{className:P().second_part,children:[(0,e.jsxs)("span",{style:ye,children:[(0,e.jsx)(a._H,{id:"ws.config.owner"}),"\uFF1A"]}),(0,e.jsxs)(w.Z,{style:{width:"calc(100% - ".concat(L,"px)")},children:[(0,e.jsx)(oe.Z,{span:24,children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(Ee.C,{size:25,src:t==null?void 0:t.owner_avatar}),(0,e.jsx)(Ze,{children:t==null?void 0:t.owner_name})]})}),(0,e.jsx)(oe.Z,{span:24,children:(0,e.jsx)(Ze,{style:{color:"rgba(0,0,0,0.5)"},children:t==null?void 0:t.proposer_dep})})]})]}),(0,e.jsxs)("div",{className:P().second_part,children:[(0,e.jsxs)("span",{style:ye,children:[(0,e.jsx)(a._H,{id:"ws.config.creation.time"}),"\uFF1A"]}),(0,e.jsx)(Ze,{children:t==null?void 0:t.gmt_created})]}),(0,e.jsxs)("div",{className:P().second_part,style:{marginBottom:16},children:[(0,e.jsxs)("span",{style:ye,children:[(0,e.jsx)(a._H,{id:"ws.config.member_count"}),"\uFF1A"]}),(0,e.jsx)(Ze,{children:t==null?void 0:t.member_count})]})]}))}),(0,e.jsx)(a.Nv,{accessible:h.WsTransfer(),children:(0,e.jsx)(w.Z,{className:P().row_box,children:(0,e.jsxs)(I.Z,(0,O.Z)((0,O.Z)({},ne),{},{colon:!1,layout:"vertical",style:{width:"100%"},className:P().three_part,children:[(0,e.jsx)(Pe.Z,{text:o({id:"ws.config.more.operation"})}),(0,e.jsx)(I.Z.Item,{children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(Xe,{refresh:G}),!Z().get(t,"is_common")&&(0,e.jsx)(Ve,{})]})})]}))})})]})},en=ze},61674:function(re,de,n){"use strict";n.d(de,{Z:function(){return Oe}});var pe=n(29700),J=n(85628),Q=n(77335),oe=n(5888),Me=n(38755),le=n(11273),Ie=n(90770),Ee=n(53770),ue=n(13598),w=n(46601),$e=n(25407),b=n(51767),ge=n(68591),I=n.n(ge),O=n(51572),m=n(22374),fe=n(53532),x=n(24875),V=n(83325),B=n(52318),Be=n(31279),k=n(31762),C=n(51129),We=function(T){(0,k.Z)(d,T);var l=(0,C.Z)(d);function d(){var s;return(0,B.Z)(this,d),s=l.apply(this,arguments),s.state={error:void 0,info:{componentStack:""}},s}return(0,Be.Z)(d,[{key:"componentDidCatch",value:function(f,j){this.setState({error:f,info:j})}},{key:"render",value:function(){var f=this.props,j=f.message,R=f.description,Z=f.children,U=this.state,a=U.error,_=U.info,z=_&&_.componentStack?_.componentStack:null,e=typeof j=="undefined"?(a||"").toString():j,Re=typeof R=="undefined"?z:R;return a?m.createElement(Oe,{type:"error",message:e,description:m.createElement("pre",null,Re)}):Z}}]),d}(m.Component),xe=We,Le=function(T,l){var d={};for(var s in T)Object.prototype.hasOwnProperty.call(T,s)&&l.indexOf(s)<0&&(d[s]=T[s]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,s=Object.getOwnPropertySymbols(T);f<s.length;f++)l.indexOf(s[f])<0&&Object.prototype.propertyIsEnumerable.call(T,s[f])&&(d[s[f]]=T[s[f]]);return d},Se={success:oe.Z,info:$e.Z,error:le.Z,warning:ue.Z},Ae={success:Me.Z,info:b.Z,error:Ie.Z,warning:w.Z},we=function(l){var d=l.description,s=l.icon,f=l.prefixCls,j=l.type,R=(d?Ae:Se)[j]||null;return s?(0,V.wm)(s,m.createElement("span",{className:"".concat(f,"-icon")},s),function(){return{className:I()("".concat(f,"-icon"),(0,Q.Z)({},s.props.className,s.props.className))}}):m.createElement(R,{className:"".concat(f,"-icon")})},He=function(l){var d=l.isClosable,s=l.closeText,f=l.prefixCls,j=l.closeIcon,R=l.handleClose;return d?m.createElement("button",{type:"button",onClick:R,className:"".concat(f,"-close-icon"),tabIndex:0},s?m.createElement("span",{className:"".concat(f,"-close-text")},s):j):null},Ce=function(l){var d,s=l.description,f=l.prefixCls,j=l.message,R=l.banner,Z=l.className,U=Z===void 0?"":Z,a=l.style,_=l.onMouseEnter,z=l.onMouseLeave,e=l.onClick,Re=l.afterClose,Te=l.showIcon,Ge=l.closable,be=l.closeText,Ue=l.closeIcon,Pe=Ue===void 0?m.createElement(Ee.Z,null):Ue,Fe=l.action,P=Le(l,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),tn=m.useState(!1),De=(0,J.Z)(tn,2),Ke=De[0],Xe=De[1],Je=m.useRef(),Ve=m.useContext(fe.E_),an=Ve.getPrefixCls,Qe=Ve.direction,W=an("alert",f),ke=function(o){var i;Xe(!0),(i=P.onClose)===null||i===void 0||i.call(P,o)},_e=function(){var o=P.type;return o!==void 0?o:R?"warning":"info"},qe=be?!0:Ge,Ze=_e(),ze=R&&Te===void 0?!0:Te,en=I()(W,"".concat(W,"-").concat(Ze),(d={},(0,Q.Z)(d,"".concat(W,"-with-description"),!!s),(0,Q.Z)(d,"".concat(W,"-no-icon"),!ze),(0,Q.Z)(d,"".concat(W,"-banner"),!!R),(0,Q.Z)(d,"".concat(W,"-rtl"),Qe==="rtl"),d),U),q=(0,x.Z)(P);return m.createElement(O.Z,{visible:!Ke,motionName:"".concat(W,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(o){return{maxHeight:o.offsetHeight}},onLeaveEnd:Re},function(r){var o=r.className,i=r.style;return m.createElement("div",(0,pe.Z)({ref:Je,"data-show":!Ke,className:I()(en,o),style:(0,pe.Z)((0,pe.Z)({},a),i),onMouseEnter:_,onMouseLeave:z,onClick:e,role:"alert"},q),ze?m.createElement(we,{description:s,icon:P.icon,prefixCls:W,type:Ze}):null,m.createElement("div",{className:"".concat(W,"-content")},j?m.createElement("div",{className:"".concat(W,"-message")},j):null,s?m.createElement("div",{className:"".concat(W,"-description")},s):null),Fe?m.createElement("div",{className:"".concat(W,"-action")},Fe):null,m.createElement(He,{isClosable:!!qe,closeText:be,prefixCls:W,closeIcon:Pe,handleClose:ke}))})};Ce.ErrorBoundary=xe;var Oe=Ce}}]);
