(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[9522],{81873:function(Di,Vt,j){"use strict";j.r(Vt),j.d(Vt,{default:function(){return Ei}});var Li=j(67448),Ta=j(47548),Pi=j(46721),Bt=j(94867),Ti=j(70772),ut=j(6701),Me=j(35832),Fi=j(81138),ct=j(96146),ot=j(32326),ne=j(39190),Ni=j(14320),ke=j(53479),Hi=j(57359),Ue=j(34423),Ai=j(89963),Mt=j(70077),i=j(22374),Qt,Fa=["svgRef","title"];function Ct(){return Ct=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},Ct.apply(this,arguments)}function Na(n,t){if(n==null)return{};var a=Ha(n,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(a[r]=n[r]))}return a}function Ha(n,t){if(n==null)return{};var a={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(a[o]=n[o]);return a}var Aa=function(t){var a=t.svgRef,r=t.title,o=Na(t,Fa);return i.createElement("svg",Ct({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:a},o),r?i.createElement("title",null,r):null,Qt||(Qt=i.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"31.\\u81EA\\u5B9A\\u4E49-\\u5B8C\\u6210\\u72B6\\u6001",transform:"translate(-22.000000, -223.000000)",fill:"#000000",fillRule:"nonzero"},i.createElement("g",{id:"Group-19",transform:"translate(0.000000, 48.000000)"},i.createElement("g",{id:"Group-5",transform:"translate(20.000000, 170.000000)"},i.createElement("g",{id:"\\u7F16\\u8F91",transform:"translate(0.000000, 3.000000)"},i.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("g",{id:"Group",transform:"translate(2.000000, 2.000000)"},i.createElement("path",{d:"M10.9395833,4.99699511 C10.9395833,4.65949511 10.69375,4.38657844 10.3895833,4.38657844 C10.0854167,4.38657844 9.83958333,4.65949511 9.83958333,4.99699511 L9.83958333,10.0032451 C9.83958333,10.2657451 9.6875,10.7532451 9.47708333,10.7532451 L1.5375,10.7532451 C1.32708333,10.7532451 1.09583333,10.2657451 1.09583333,10.0032451 L1.09583333,2.76366177 C1.09583333,2.50116177 1.30208333,2.00949511 1.5125,2.00949511 L5.47083333,2.00949511 C5.775,2.00949511 6.02083333,1.85949511 6.02083333,1.52407844 C6.02083333,1.18657844 5.775,0.913661773 5.47083333,0.913661773 L0.96875,0.913661773 C0.435416667,0.913661773 -2.4158453e-13,1.45949511 -2.4158453e-13,2.12407844 L-2.4158453e-13,10.6344951 C-2.4158453e-13,11.3011618 0.435416667,11.8449118 0.96875,11.8449118 L9.96666667,11.8449118 C10.5,11.8449118 10.9354167,11.2990784 10.9354167,10.6344951 L10.9354167,5.06991177 C10.9395833,5.04699511 10.9395833,5.02199511 10.9395833,4.99699511 Z",id:"Path"}),i.createElement("path",{d:"M4.90416667,5.29491177 L2.7375,5.29491177 C2.43541667,5.29491177 2.1875,5.04699511 2.1875,4.74491177 C2.1875,4.44282844 2.43541667,4.19491177 2.7375,4.19491177 L4.90416667,4.19491177 C5.20625,4.19491177 5.4541797,4.44282844 5.4541797,4.74491177 C5.45625,5.04699511 5.20833333,5.29491177 4.90416667,5.29491177 Z M8.20416667,8.56991177 L2.72083333,8.56991177 C2.42083333,8.56991177 2.175,8.32407844 2.175,8.02407844 C2.175,7.72407844 2.42083333,7.47824511 2.72083333,7.47824511 L8.20208333,7.47824511 C8.50208333,7.47824511 8.74792981,7.72407844 8.74792981,8.02407844 C8.75,8.32407844 8.50416667,8.56991177 8.20416667,8.56991177 L8.20416667,8.56991177 Z M6.49166667,5.38657844 C6.25,5.20741177 6.2,4.86366177 6.37916667,4.62199511 L9.65416667,0.219911773 C9.83333333,-0.0217548933 10.1770833,-0.0717548933 10.41875,0.107411773 C10.6604167,0.28657844 10.7104167,0.63032844 10.53125,0.871995107 L7.25625,5.27407844 C7.07708333,5.51574511 6.73333333,5.56574511 6.49166667,5.38657844 L6.49166667,5.38657844 Z",id:"Shape"})))))))))},ka=i.forwardRef(function(n,t){return i.createElement(Aa,Ct({svgRef:t},n))}),ki=j.p+"static/icon_edit.8f9fd5d4.svg",Xt,Ia=["svgRef","title"];function Rt(){return Rt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},Rt.apply(this,arguments)}function Ba(n,t){if(n==null)return{};var a=Ma(n,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(a[r]=n[r]))}return a}function Ma(n,t){if(n==null)return{};var a={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(a[o]=n[o]);return a}var Ga=function(t){var a=t.svgRef,r=t.title,o=Ba(t,Ia);return i.createElement("svg",Rt({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:a},o),r?i.createElement("title",null,r):null,Xt||(Xt=i.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"31.\\u81EA\\u5B9A\\u4E49-\\u5B8C\\u6210\\u72B6\\u6001",transform:"translate(-22.000000, -223.000000)",fill:"#ccc",fillRule:"nonzero"},i.createElement("g",{id:"Group-19",transform:"translate(0.000000, 48.000000)"},i.createElement("g",{id:"Group-5",transform:"translate(20.000000, 170.000000)"},i.createElement("g",{id:"\\u7F16\\u8F91",transform:"translate(0.000000, 3.000000)"},i.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("g",{id:"Group",transform:"translate(2.000000, 2.000000)"},i.createElement("path",{d:"M10.9395833,4.99699511 C10.9395833,4.65949511 10.69375,4.38657844 10.3895833,4.38657844 C10.0854167,4.38657844 9.83958333,4.65949511 9.83958333,4.99699511 L9.83958333,10.0032451 C9.83958333,10.2657451 9.6875,10.7532451 9.47708333,10.7532451 L1.5375,10.7532451 C1.32708333,10.7532451 1.09583333,10.2657451 1.09583333,10.0032451 L1.09583333,2.76366177 C1.09583333,2.50116177 1.30208333,2.00949511 1.5125,2.00949511 L5.47083333,2.00949511 C5.775,2.00949511 6.02083333,1.85949511 6.02083333,1.52407844 C6.02083333,1.18657844 5.775,0.913661773 5.47083333,0.913661773 L0.96875,0.913661773 C0.435416667,0.913661773 -2.4158453e-13,1.45949511 -2.4158453e-13,2.12407844 L-2.4158453e-13,10.6344951 C-2.4158453e-13,11.3011618 0.435416667,11.8449118 0.96875,11.8449118 L9.96666667,11.8449118 C10.5,11.8449118 10.9354167,11.2990784 10.9354167,10.6344951 L10.9354167,5.06991177 C10.9395833,5.04699511 10.9395833,5.02199511 10.9395833,4.99699511 Z",id:"Path"}),i.createElement("path",{d:"M4.90416667,5.29491177 L2.7375,5.29491177 C2.43541667,5.29491177 2.1875,5.04699511 2.1875,4.74491177 C2.1875,4.44282844 2.43541667,4.19491177 2.7375,4.19491177 L4.90416667,4.19491177 C5.20625,4.19491177 5.4541797,4.44282844 5.4541797,4.74491177 C5.45625,5.04699511 5.20833333,5.29491177 4.90416667,5.29491177 Z M8.20416667,8.56991177 L2.72083333,8.56991177 C2.42083333,8.56991177 2.175,8.32407844 2.175,8.02407844 C2.175,7.72407844 2.42083333,7.47824511 2.72083333,7.47824511 L8.20208333,7.47824511 C8.50208333,7.47824511 8.74792981,7.72407844 8.74792981,8.02407844 C8.75,8.32407844 8.50416667,8.56991177 8.20416667,8.56991177 L8.20416667,8.56991177 Z M6.49166667,5.38657844 C6.25,5.20741177 6.2,4.86366177 6.37916667,4.62199511 L9.65416667,0.219911773 C9.83333333,-0.0217548933 10.1770833,-0.0717548933 10.41875,0.107411773 C10.6604167,0.28657844 10.7104167,0.63032844 10.53125,0.871995107 L7.25625,5.27407844 C7.07708333,5.51574511 6.73333333,5.56574511 6.49166667,5.38657844 L6.49166667,5.38657844 Z",id:"Shape"})))))))))},Ka=i.forwardRef(function(n,t){return i.createElement(Ga,Rt({svgRef:t},n))}),Ii=j.p+"static/iconEdit.bde3aea5.svg",Wa=j(68210),c=j(20418),S=j(41428),u=j(22812),Bi=j(163),Gt=j(60318),Mi=j(31650),Ee=j(25100),Gi=j(20693),_t=j(3278),jt=j(93329),at=j(39935),C=j(97939),Ot=j(97207),je=j.n(Ot),it=j(992),e=j(52454),qt,za=_t.Z.TextArea,en=(0,C.ZP)(za)(qt||(qt=(0,S.Z)([`
    width: 100%;
`]))),ft=function(t){var a=t.name,r=t.style,o=t.space,s=o===void 0?"0px":o,v=t.fontStyle,p=v===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:v,l=t.defaultHolder,E=t.btn,I=E===void 0?!1:E,d=t.isInput,P=d===void 0?!1:d,A=t.onOk,N=(0,u.YB)(),b=N.formatMessage,T=(0,i.useState)(a),Q=(0,ne.Z)(T,2),X=Q[0],x=Q[1];i.useEffect(function(){x(a)},[a,I,P]);var F=function(B){return je().isNull(B)||je().isUndefined(B)?b({id:"report.not.filled.in"}):B};return I?P?(0,e.jsx)(_t.Z,{autoComplete:"off",size:"small",placeholder:l,style:(0,c.Z)({padding:"6px 8px 6px 8px",width:"93%"},p),value:X,onChange:function(B){x(B.target.value),A(B.target.value)}}):(0,e.jsx)("div",{style:{marginBottom:s},children:(0,e.jsx)(en,{autoComplete:"off",size:"small",placeholder:l,style:(0,c.Z)({padding:"10px"},p),value:X,onChange:function(B){x(B.target.value),A(B.target.value)}})}):P?(0,e.jsx)(Ee.Z.Text,{style:p,children:F(X)}):(0,e.jsx)("div",{style:(0,c.Z)({width:"100%"},r),children:(0,e.jsx)(Ee.Z.Text,{style:p,children:F(X)})})},bt=function(t){var a=t.saveData,r=t.style,o=t.field,s=t.space,v=s===void 0?"0px":s,p=t.fontStyle,l=p===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:p,E=t.defaultHolder,I=t.creator,d=(0,u.md)(),P=(0,u.YB)(),A=P.formatMessage,N=(0,i.useState)(!1),b=(0,ne.Z)(N,2),T=b[0],Q=b[1],X=(0,i.useState)(""),x=(0,ne.Z)(X,2),F=x[0],R=x[1];(0,i.useEffect)(function(){R(o==="custom"?a.test_conclusion.custom:o==="text"?a.test_env.text:a[o])},[]);var B=function(g){Gt.default.success({message:"".concat(g),placement:"bottomRight"})},ue=function(g){var O={description:A({id:"report.description.save"}),test_background:A({id:"report.test_background.save"}),test_method:A({id:"report.test_method.save"}),custom:A({id:"report.test_conclusion.save"}),text:A({id:"report.text.save"})};return O[g]},h=function(){var f=(0,ot.Z)((0,Me.Z)().mark(function g(){var O,Z,G,K,D;return(0,Me.Z)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return O=a.id,Z={report_id:O},o==="custom"?Z.test_conclusion={custom:F}:o==="text"?Z.test_env={text:F}:Z[o]=F,H.next=5,(0,it.nP)(Z);case 5:G=H.sent,K=G.code,D=G.msg,K===200?(B(ue(o)),Q(!1)):ct.default.error(D);case 9:case"end":return H.stop()}},g)}));return function(){return f.apply(this,arguments)}}(),_=function(g){return je().isNull(g)||je().isUndefined(g)?(0,e.jsx)(u._H,{id:"report.not.filled"}):g};return T?(0,e.jsx)("div",{style:{marginBottom:v},children:(0,e.jsx)(en,{autoComplete:"off",size:"small",placeholder:E,style:(0,c.Z)({padding:"10px"},l),value:F,onChange:function(g){return R(g.target.value)},onBlur:h})}):(0,e.jsxs)("div",{style:(0,c.Z)({width:"100%"},r),children:[(0,e.jsx)(Ee.Z.Text,{style:l,children:_(F)}),(0,e.jsx)(u.Nv,{accessible:d.WsTourist()&&d.WsMemberOperateSelf(I),fallback:(0,e.jsx)(jt.Z,{onClick:function(){return(0,at.WR)()},style:{paddingLeft:10}}),children:(0,e.jsx)(jt.Z,{style:{paddingLeft:10},onClick:function(){return Q(!0)}})})]})},tn=function(t){var a=t.placeholder,r=t.creator,o=t.value,s=t.report_id,v=t.item_name,p=t.item_id,l=t.default_state,E=l===void 0?!1:l,I=t.title,d=(0,u.md)(),P=(0,u.YB)(),A=i.useState(E),N=(0,ne.Z)(A,2),b=N[0],T=N[1],Q=i.useState(o),X=(0,ne.Z)(Q,2),x=X[0],F=X[1],R=function(){var B=(0,ot.Z)((0,Me.Z)().mark(function ue(){var h,_,f;return(0,Me.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,it.MC)({report_id:s,item_name:v,item_id:p,desc:x});case 2:if(h=O.sent,_=h.code,f=h.msg,_===200){O.next=7;break}return O.abrupt("return",ct.default.error(f));case 7:Gt.default.success({message:"".concat(I).concat(P.formatMessage({id:"report.group.desc.save.ok"})),placement:"bottomRight"}),E||T(!1);case 9:case"end":return O.stop()}},ue)}));return function(){return B.apply(this,arguments)}}();return b?(0,e.jsx)(ke.Z,{style:{paddingLeft:36,paddingRight:36,marginTop:10},children:(0,e.jsx)(_t.Z.TextArea,{allowClear:!0,autoComplete:"off",size:"small",autoSize:{minRows:3,maxRows:6},value:x,onChange:function(ue){var h=ue.target;return F(h==null?void 0:h.value)},placeholder:a,onBlur:R})}):(0,e.jsxs)(ke.Z,{style:{paddingLeft:16,paddingRight:16,marginTop:10},align:"middle",children:[(0,e.jsx)("span",{style:{display:"inline-block",marginRight:10},children:x||"-"}),(0,e.jsx)(u.Nv,{accessible:d.WsTourist()&&d.WsMemberOperateSelf(r),fallback:(0,e.jsx)(e.Fragment,{})}),(0,e.jsx)(jt.Z,{onClick:function(){return T(!0)}})]})},Qe=(0,i.createContext)(null),Ki=j(79625),wt=j(96584),$a=j(53770),Ja=j(2488),nn,rn,an,on,sn,ln,un,cn,dn,pn,fn,vn,mn,gn,hn,xn,_n,jn,bn,yn,Zn,Sn,Cn,Rn,On,wn,En,Dn,Ln,Pn,Tn,Fn,Nn,Hn,An,kn,In,Bn,Mn,Gn,Kn,Wn,zn,$n,Jn,Yn,Un,Vn,Qn,Xn,qn,er,tr,nr,rr,ar,or,ir,sr,lr,ur,cr,dr,pr,fr,vr,mr,gr,hr,Ya=C.ZP.div(nn||(nn=(0,S.Z)([`
    width: 100%;
    height: `,`px;
    position: relative;
    display: flex;
    background: #f5f5f5;
    //padding-bottom: 56px;
`])),function(n){var t=n.height;return t}),Ua=C.ZP.div(rn||(rn=(0,S.Z)([`
    width: `,`;
    height: 100%;
    padding-left: 20px;
    padding-right: 20px;
    overflow: auto;
    padding-bottom: 20px;
`])),function(n){var t=n.collapsed;return t?"100%":"calc(100% - 200px)"}),Va=(0,C.ZP)(ke.Z)(an||(an=(0,S.Z)([`
    width:1200px;
    margin:0 auto !important;
    height:600px;
`]))),xr=C.ZP.div(on||(on=(0,S.Z)([`
    height:100%;
    width:100%;

    overflow-y:auto;
    overflow-x:hidden;
    .ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected {
        background-color:#fff;
    }
    .ant-tree .ant-tree-node-content-wrapper:hover {
        background-color:#fff;
    }
    .ant-tree-switcher { width : 0;}

    .ant-tree .ant-tree-treenode {
        display: inline-block;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }
    #left-catalog-wrapper .spaceWarpper .ant-space-item .markSpace .toc-selected {
        color: #1890FF;
    }
`]))),Qa=C.ZP.span(sn||(sn=(0,S.Z)([`
    position: absolute;
    cursor: pointer;
    top: 10px; 
    right: -8px;
    width: 12px;
    height: 70px;
    z-index:999;
`]))),Xa=C.ZP.span(ln||(ln=(0,S.Z)([`
    position: absolute;
    left: 79%;
    top: 54%;
    transform: translate(-50%, -50%);
    display: flex;
    font-size: 8px ;
    cursor : pointer;
`]))),qa=C.ZP.div(un||(un=(0,S.Z)([`
    width: `,`px;
    height: 100%;
    background: #fff;
    position: relative;
    .ant-typography { cursor : pointer; }
    `,` {
        `,`
    }
`])),function(n){var t=n.collapsed;return t?0:200},xr,function(n){var t=n.collapsed;return t?"":"padding:16px 12px 12px 26px;"}),eo=C.ZP.div(cn||(cn=(0,S.Z)([`
    margin-bottom: 24px;
`]))),Wi=C.ZP.div(dn||(dn=(0,S.Z)([`
    width:1px;
    background:#e5e5e5;
    margin-right:13px;
`]))),to=function(t){return t+3+"px"},no=C.ZP.div(pn||(pn=(0,S.Z)([`
    height:10px;
    width:10px;
    border-radius:50%;
    background:#fff;
    border:1px solid #e5e5e5;
    position:absolute;
    left:-5px;
    top:`,`;
`])),function(n){var t=n.count;return to(t)}),ro=C.ZP.div(fn||(fn=(0,S.Z)([`
    height:4px;
    width:4px;
    border-radius:50%;
    background:#1890FF;
    margin: 25% auto;
`]))),_r=C.ZP.div(vn||(vn=(0,S.Z)([`
    //margin-top:8px;
    padding-left:20px;
`]))),zi=(0,C.ZP)(wt.Z)(mn||(mn=(0,S.Z)([`
    max-width: 540px !important;
    .ant-tooltip-inner {
        max-width: 540px;
        max-height: 360px;
        overflow-y: scroll;
    }
`]))),ao=(0,C.ZP)(Mt.Z)(gn||(gn=(0,S.Z)([`
    height:22px;
    margin:14px 0;
    position:relative;
`]))),jr=C.ZP.span(hn||(hn=(0,S.Z)([`
    cursor:pointer;
`]))),oo=(0,C.ZP)(jr)(xn||(xn=(0,S.Z)([`
    display:inline-block;
    max-width:940px;    
    position:absolute;
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
`]))),$i=C.ZP.span(_n||(_n=(0,S.Z)([`
    position:absolute;
    right:0px;
    top:`,`;

`])),function(n){var t=n.btnState;return t?"-5px":0}),br=function(t){return t==1?"50%":"110px"},yr=function(t){return t==1?"50%":"calc( (100% - 110px) / ".concat(t,")")},Zr=`
    line-height:48px; 
    float:left;
    padding-left:16px;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: #000000;
    border-bottom:1px solid rgba(0,0,0,0.10);
    border-right:1px solid rgba(0,0,0,0.10);
`,Sr=`
    line-height:76px; 
    float:left;
    padding-left:16px;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: #000000;
`,io=`
    min-height:40px; 
    height:40px; 
    line-height:20px;
    border-right:1px solid rgba(0,0,0,0.10);
    //text-align:center;
    text-align:left;
    padding:0 9px; 
    .logo{
        font-style:normal;
        color:rgba(0,0,0,0.65);
        font-size:12px;
    }
    .all{
        font-size:20px;
        color:#649FF6;
    }
    .up{
        font-size:20px;
        color:#81BF84;
    }
    .down{
        font-size:20px;
        color:#C84C5A;
    }
`,Cr=C.ZP.div(jn||(jn=(0,S.Z)([`
    `,`
    width : `,`;
    border-right:1px solid rgba(0,0,0,0.10);
`])),Zr,function(n){var t=n.gLen;return br(t)}),Rr=C.ZP.div(bn||(bn=(0,S.Z)([`
    `,` 
    display:flex;     
    width : `,`;
    &:last-child {
        border-right:none;
    }
`])),Zr,function(n){var t=n.gLen;return yr(t)}),Kt=C.ZP.div(yn||(yn=(0,S.Z)([`
    height:48px;
    display:flex;
`]))),Or=C.ZP.div(Zn||(Zn=(0,S.Z)([`
    `,`
    width : `,`;
    border-right:1px solid rgba(0,0,0,0.10);
    border-bottom:1px solid rgba(0,0,0,0.10);
`])),Sr,function(n){var t=n.gLen;return br(t)}),wr=C.ZP.div(Sn||(Sn=(0,S.Z)([`
    `,`
    width : `,`;
    border-right:1px solid rgba(0,0,0,0.10);
    border-bottom:1px solid rgba(0,0,0,0.10);
    &:last-child{
        border-right:none;
    }
`])),Sr,function(n){var t=n.gLen;return yr(t)}),vt=C.ZP.span(Cn||(Cn=(0,S.Z)([`
    `,`
    &:last-child{
        border-right:none;
    }
`])),io),so=(0,C.ZP)(Or)(Rn||(Rn=(0,S.Z)([`
    border-bottom:none;
`]))),lo=(0,C.ZP)(wr)(On||(On=(0,S.Z)([`
    border-bottom:none;
`]))),Er=C.ZP.div(wn||(wn=(0,S.Z)([`
    height:76px;
`]))),Wt=C.ZP.div(En||(En=(0,S.Z)([`
    border: 1px solid rgba(0,0,0,0.10);
    background:#fff;
`]))),dt=C.ZP.div(Dn||(Dn=(0,S.Z)([`
    height:auto;
    background:#fff;
    padding:16px 20px;
    margin-bottom:16px;
`]))),Dr=C.ZP.div(Ln||(Ln=(0,S.Z)([`
    color:rgba(0,0,0,0.85);
    font-size:14px;
    margin-bottom:8px;
    font-family:PingFangSC-Medium;
`]))),mt=C.ZP.div(Pn||(Pn=(0,S.Z)([`
    font-size:16px;
    font-weight:bold;
    color:rgba(0,0,0,0.85); 
    margin-bottom: 16px;
    .line{
        width:2px;
        height:16px;
        background:#1890FF;
        margin: 4px 8px 4px -10px;
        float:left;
    }
`]))),uo=function(t){return t==1?"calc( 100% - 110px )":"calc( (100% - 110px) / ".concat(t,")")},co=C.ZP.div(Tn||(Tn=(0,S.Z)([`
    width:110px;
    float:left;
    padding-left:16px;
    border-right:1px solid rgba(0,0,0,0.10);
`]))),Ji=C.ZP.div(Fn||(Fn=(0,S.Z)([`
    width: `,`;
    display:flex;
    padding-left:13px;
    border-right:1px solid rgba(0,0,0,0.10);
`])),function(n){var t=n.gLen;return uo(t)}),po=C.ZP.div(Nn||(Nn=(0,S.Z)([`
    border: 1px solid rgba(0,0,0,0.10);
    height:48px;
    line-height:48px;
    color:#000;
    font-weight:500;
    margin-bottom:13px;
    border-right:none;
    display:flex;
`]))),Yi=C.ZP.div(Hn||(Hn=(0,S.Z)([`
    height:57px;
    line-height:57px;
    padding-left:5px;
`]))),Lr=C.ZP.div(An||(An=(0,S.Z)([`
    //border:1px solid rgba(0,0,0,0.1);
    background-color: #FDFEFF;
    /* margin-top: 11px; */
    border-bottom:none;
`]))),Pr=(0,C.ZP)(ke.Z)(kn||(kn=(0,S.Z)([`
    min-height:40px;
    border:1px solid rgba(0,0,0,0.1);
    border-bottom:none;
    &:last-child{
        border-bottom:1px solid rgba(0,0,0,0.1);
    }
`]))),Tr=C.ZP.div(In||(In=(0,S.Z)([`
    width:75px;
    padding-top:8px;
    text-align:center;
    color:rgba(0,0,0,0.85);
    font-family:PingFangSC-Medium;
    vertical-align: top;
`]))),Fr=C.ZP.div(Bn||(Bn=(0,S.Z)([`
    width:calc(100% - 75px);
    border-left:1px solid rgba(0,0,0,0.1);
    & > div {
        width:100%;
        padding:8px 20px 8px 24px;
        max-height: 300px;
        overflow-y: auto;
    }
`]))),zt=`
    float:left;
    font-size:14px;
    padding-left:16px;
    color:rgba(0,0,0,0.85);
    font-family: PingFangSC-Medium;
    overflow: hidden;
    //text-overflow: ellipsis;
    white-space: nowrap;
`,$t=C.ZP.span(Mn||(Mn=(0,S.Z)([`
    padding:0 9px;
    .normal{
        color: rgba(0,0,0,1);
        font-size: 14px;
   }
   .invalid{
        color: rgba(0,0,0,0.25);
        font-size: 14px;
   }
   .increase{
        font-size: 14px;
        color: #81BF84;
    }
    .decline{
        font-size: 14px;
        color: #C84C5A;
    }
`]))),gt=(0,C.ZP)($a.Z)(Gn||(Gn=(0,S.Z)([`
    display:inline-block;
    position:absolute;
    right:20px;
    top:16px;
`]))),Nr=C.ZP.div(Kn||(Kn=(0,S.Z)([`
    height: 24px;
    width: 64px;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: rgba(0,0,0,0.85);
    line-height: 24px;
    margin:16px 0;
`]))),Hr=C.ZP.div(Wn||(Wn=(0,S.Z)([`
    border:1px solid rgba(0,0,0,0.1);
    border-radius:4px;
    border-top:2px solid #1890FF;
    //padding-bottom: 24px;
`]))),Jt=C.ZP.div(zn||(zn=(0,S.Z)([`
    height:47px;
    line-height:47px;
    padding-left:5px;
    background: rgba(0,0,0,0.02);
    position:relative;
`]))),Ar=C.ZP.div($n||($n=(0,S.Z)([`
    height: `,`;
    line-height:`,`;
    padding-left:5px;
    background: `,`;
    margin-bottom:`,`;
    position:relative;
`])),function(n){var t=n.isGroup;return t?"57px":"47px"},function(n){var t=n.isGroup;return t?"57px":"47px"},function(n){var t=n.isGroup;return t?"#fff":"rgba(0,0,0,0.02)"},function(n){var t=n.isGroup;return t?"0px":"17px"}),Ui=(0,C.ZP)(Jt)(Jn||(Jn=(0,S.Z)([`
    margin-bottom:17px;
`]))),Et=C.ZP.span(Yn||(Yn=(0,S.Z)([`
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: rgba(0,0,0,0.85);
    margin-left:5px;
`]))),kr=C.ZP.span(Un||(Un=(0,S.Z)([`
    display:inline-block;
    position:absolute;
    right:16px;
`]))),Ir=C.ZP.div(Vn||(Vn=(0,S.Z)([`
    height:auto;
    background:rgba(0,0,0,0.03);
    margin:0 16px 18px 16px;
    padding-bottom: 16px;
`]))),Br=C.ZP.div(Qn||(Qn=(0,S.Z)([`
    height:41px;
    line-height:41px;
    padding-left:16px;
    font-size:14px;
    font-family: PingFangSC-Medium;
    color:rgba(0,0,0,0.85);
    background:rgba(0,0,0,0.04);
    position:relative;
    margin-top: 8px;
`]))),Mr=C.ZP.div(Xn||(Xn=(0,S.Z)([`
    margin: 10px 0px 3px 0px;
    height:22px;
    padding: 0px 15px 0px 17px;
    display:flex;
`]))),yt=function(t){return t==1?"50%":"360px"},Zt=function(t,a){return t==1?a?"calc( 50% - 39px )":"50%":a?"calc( (100% - 399px) / ".concat(t,")"):"calc( (100% - 360px) / ".concat(t,")")},Gr=C.ZP.div(qn||(qn=(0,S.Z)([`
    //float:left;
    font-size:12px;
    color: rgba(0,0,0,0.45);
    width : `,`;
`])),function(n){var t=n.gLen;return yt(t)}),Kr=C.ZP.div(er||(er=(0,S.Z)([`
    //float:left;
    font-size:12px;
    color: rgba(0,0,0,0.45);
    width : `,`;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    &:last-child {
        border-right:none;
    }
`])),function(n){var t=n.gLen,a=n.btnState;return Zt(t,a)}),Wr=C.ZP.div(tr||(tr=(0,S.Z)([`
    border-top: 1px solid rgba(0,0,0,0.10);
    margin: 0px 15px 0px 17px;
    /* border-top:1px solid rgba(0,0,0,0.10); */
`]))),fo=C.ZP.div(nr||(nr=(0,S.Z)([`
    height:40px;
    background:#fafafa;
    border: 1px solid rgba(0,0,0,0.10);
    border-right:none;
    border-top: none;
    /* &:first-child {
        border-top:1px solid rgba(0,0,0,0.10);
    } */
`]))),zr=`
    float:left;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color:rgba(0,0,0,0.85)
`,$r=C.ZP.div(rr||(rr=(0,S.Z)([`
    width : `,`;
    height:40px;
    line-height:40px;
    border-right: 1px solid rgba(0,0,0,0.10);
    `,`
    
`])),function(n){var t=n.gLen;return yt(t)},zr),Jr=C.ZP.div(ar||(ar=(0,S.Z)([`
    width : `,`;
    height:40px;
    line-height:40px;
    padding-left:16px;
    border-right: 1px solid rgba(0,0,0,0.10);
    `,`
`])),function(n){var t=n.gLen,a=n.btnState;return Zt(t,a)},zr),vo=(0,C.ZP)(Ja.Z)(or||(or=(0,S.Z)([`
    cursor:pointer;
    padding:13px 0px 13px 8px;
    margin-right: 12px;

`]))),mo=C.ZP.div(ir||(ir=(0,S.Z)([`
    height:38px;
    background:#fff;
    border: 1px solid rgba(0,0,0,0.10);
    border-top:none;
    border-right:none;
`]))),go=(0,C.ZP)($r)(sr||(sr=(0,S.Z)([`
    padding-left:36px;
    height:38px;
    line-height:38px;
    font-family: PingFangSC-Regular;
    color:rgba(0,0,0,0.65);
`]))),Yr=(0,C.ZP)(Jr)(lr||(lr=(0,S.Z)([`
    height:38px;
    line-height:38px;
   
`]))),ho=C.ZP.div(ur||(ur=(0,S.Z)([`
    height:38px;
    line-height:38px;
    background:rgba(0,0,0,0.02);
`]))),Dt=`
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
`,Yt=C.ZP.div(cr||(cr=(0,S.Z)([`
    width : 39px;
    float:left;
    border-right: 1px solid rgba(0,0,0,0.10);
    cursor:pointer;
    height: `,`;
    position: relative;
    .remove{
        display:block;
        `,`
    }
    .remove_active {
        display:none;
        `,`
    }
    :hover {
        .remove_active {
            display:block;
            `,`
        }
        .remove {
            display:none;
            `,`
        }
    }
    
`])),function(n){var t=n.empty;return t?"38px":"40px"},Dt,Dt,Dt,Dt),xo=C.ZP.div(dr||(dr=(0,S.Z)([`
    width : `,`;
    `,`
`])),function(n){var t=n.gLen;return yt(t)},zt),_o=C.ZP.div(pr||(pr=(0,S.Z)([`
    width : `,`;
    `,`
`])),function(n){var t=n.gLen,a=n.btnState;return Zt(t,a)},zt),Ur=(0,C.ZP)(Cr)(fr||(fr=(0,S.Z)([`
    width : `,`;
     border-bottom:none;
`])),function(n){var t=n.gLen;return yt(t)}),Vi=(0,C.ZP)(Rr)(vr||(vr=(0,S.Z)([`
    width : `,`;
    display:flex;
    border-bottom:none;
    `,`
`])),function(n){var t=n.gLen,a=n.btnState;return Zt(t,a)},zt),jo=C.ZP.div(mr||(mr=(0,S.Z)([`
    height:38px;
    line-height:38px;
    background:#ffffff;
    border-bottom: 1px solid rgba(0,0,0,0.10);
    &:last-child{
        border-bottom:none;
    }
`]))),Vr=`
    float:left;
    font-size:14px;
    color:rgba(0,0,0,0.65);
    font-family:PingFangSC-Regular;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`,bo=C.ZP.div(gr||(gr=(0,S.Z)([`
    width : `,`;
    padding-left:36px;
    border-right: 1px solid rgba(0,0,0,0.10);
    `,`
`])),function(n){var t=n.gLen;return yt(t)},Vr),yo=C.ZP.div(hr||(hr=(0,S.Z)([`
    width : `,`;
    padding-left:16px;
    `,`
    border-right: 1px solid rgba(0,0,0,0.10);
    &:last-child{
        border-right:none;
    }
`])),function(n){var t=n.gLen,a=n.btnState;return Zt(t,a)},Vr),Qr,Xr=C.ZP.span(Qr||(Qr=(0,S.Z)([`
    color:rgba(0,0,0,0.45);
    font-size:14px;
`]))),Zo=function(){var t=(0,u.YB)(),a=t.formatMessage,r=(0,i.useContext)(Qe),o=r.btnState,s=r.obj,v=r.setObj,p=r.saveReportData,l=r.btnConfirm,E=r.creator,I=function(P,A){s[A]=P,v((0,c.Z)({},s))};return(0,e.jsxs)(dt,{children:[(0,e.jsx)(ft,{name:p==null?void 0:p.name,btn:o,btnConfirm:l,defaultHolder:a({id:"report.please.enter.name"}),space:"14px",style:{lineHeight:"40px",marginBottom:8},fontStyle:{fontSize:32,color:"rgba(0,0,0,0.85)",fontFamily:"PingFangSC-Semibold",whiteSpace:"pre-wrap"},onOk:function(P){return I(P,"name")}}),p!=null&&p.id?(0,e.jsx)(bt,{saveData:p,field:"description",style:{marginBottom:8},defaultHolder:a({id:"report.please.enter.desc"}),creator:E}):(0,e.jsx)(ft,{name:p==null?void 0:p.description,btn:o,defaultHolder:a({id:"report.please.enter.desc"}),btnConfirm:l,style:{marginBottom:8},fontStyle:{fontSize:14,color:"rgba(0,0,0,0.85)",fontFamily:"PingFangSC-Regular",whiteSpace:"pre-line"},onOk:function(P){return I(P,"description")}}),!o&&(0,e.jsx)(ke.Z,{children:(0,e.jsxs)(Ue.Z,{children:[(0,e.jsxs)(Xr,{children:[(0,e.jsx)(u._H,{id:"report.columns.creator"}),"\xA0",p==null?void 0:p.creator_name]}),(0,e.jsxs)(Xr,{children:[(0,e.jsx)(u._H,{id:"report.columns.gmt_created"}),"\xA0",p==null?void 0:p.gmt_created]})]})})]})},So=(0,i.memo)(Zo),Co=function(){var t,a=(0,u.YB)(),r=a.formatMessage,o=(0,i.useContext)(Qe),s=o.btnState,v=o.obj,p=o.setObj,l=o.saveReportData,E=o.summaryData,I=o.btnConfirm,d=o.domainResult,P=o.creator,A=function(b,T){if(T=="custom"){if(E&&E!==void 0){var Q=je().cloneDeep(E);Q[T]=b,v.test_conclusion=Q}}else v[T]=b;p((0,c.Z)({},v))};return(0,e.jsxs)(e.Fragment,{children:[((d==null?void 0:d.is_default)||!(d!=null&&d.is_default)&&(d==null?void 0:d.need_test_background))&&(0,e.jsxs)(dt,{id:"need_test_background",className:"position_mark",children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(u._H,{id:"report.test.background"})]}),l!=null&&l.id?(0,e.jsx)(bt,{saveData:l,field:"test_background",defaultHolder:r({id:"report.please.enter.background"}),creator:P}):(0,e.jsx)(ft,{name:(l==null?void 0:l.test_background)||(d==null?void 0:d.background_desc),btnConfirm:I,defaultHolder:r({id:"report.please.enter.background"}),btn:s,onOk:function(b){return A(b,"test_background")}})]}),((d==null?void 0:d.is_default)||!(d!=null&&d.is_default)&&(d==null?void 0:d.need_test_method))&&(0,e.jsxs)(dt,{id:"need_test_method",className:"position_mark",children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(u._H,{id:"report.test.method"})]}),l!=null&&l.id?(0,e.jsx)(bt,{saveData:l,field:"test_method",defaultHolder:r({id:"report.please.enter.method"}),creator:P}):(0,e.jsx)(ft,{name:(l==null?void 0:l.test_method)||(d==null?void 0:d.test_method_desc),defaultHolder:r({id:"report.please.enter.method"}),btn:s,btnConfirm:I,onOk:function(b){return A(b,"test_method")}})]}),((d==null?void 0:d.is_default)||!(d!=null&&d.is_default)&&(d==null?void 0:d.need_test_conclusion))&&(0,e.jsxs)(dt,{id:"need_test_conclusion",className:"position_mark",children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(u._H,{id:"report.test.conclusion"})]}),l!=null&&l.id?(0,e.jsx)(bt,{saveData:l,field:"custom",defaultHolder:r({id:"report.please.enter.conclusion"}),creator:P}):(0,e.jsx)(ft,{name:(l==null||(t=l.test_conclusion)===null||t===void 0?void 0:t.custom)||(d==null?void 0:d.test_conclusion_desc),btn:s,defaultHolder:r({id:"report.please.enter.conclusion"}),btnConfirm:I,onOk:function(b){return A(b,"custom")}})]})]})},Ro=(0,i.memo)(Co),Oo=j(88856),wo=j(88948),st=j(79638),ht=function(t){return t==0?0:(0,Ot.isNaN)(t)||(0,Ot.isUndefined)(t)?"-":t},qr=function(t){var a=t.logoData,r=t.groupLen;return Array.isArray(a)&&!!a.length?(0,e.jsxs)(Er,{children:[(0,e.jsx)(Or,{gLen:r,children:(0,e.jsx)(u._H,{id:"performance.test"})}),a.map(function(o,s){var v=o.perf_data||o,p=v.perfAll,l=v.increase,E=v.decline;return(0,e.jsx)(wr,{gLen:r,children:(0,e.jsxs)("div",{style:{display:"flex",margin:"18px 0"},children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(u._H,{id:"report.all"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"all",children:ht(p)})]}),(0,e.jsxs)(vt,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(u._H,{id:"report.increase"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"up",children:ht(l)})]}),(0,e.jsxs)(vt,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(u._H,{id:"report.decline"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"down",children:ht(E)})]})]})},s)})]}):(0,e.jsx)(e.Fragment,{})},ea=function(t){var a=t.logoData,r=t.groupLen;return Array.isArray(a)&&!!a.length?(0,e.jsxs)(Er,{children:[(0,e.jsx)(so,{gLen:r,children:(0,e.jsx)(u._H,{id:"functional.test"})}),a.map(function(o,s){var v=o.func_data||o,p=v.funcAll,l=v.success,E=v.fail;return(0,e.jsx)(lo,{gLen:r,children:(0,e.jsxs)("div",{style:{display:"flex",margin:"18px 0"},children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(u._H,{id:"report.all"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"all",children:ht(p)})]}),(0,e.jsxs)(vt,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(u._H,{id:"report.success"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"up",children:ht(l)})]}),(0,e.jsxs)(vt,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(u._H,{id:"report.fail"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"down",children:ht(E)})]})]})},s)})]}):(0,e.jsx)(e.Fragment,{})},Eo=function(){var t=(0,i.useContext)(Qe),a=t.logoData,r=t.envData,o=t.domainResult,s=t.groupLen,v=t.baselineGroupIndex,p=(0,i.useMemo)(function(){var E,I=0;return a.length>1&&(I=v===0?1:0),JSON.stringify((E=a[I])===null||E===void 0?void 0:E.perf_data)!=="{}"},[a,v]),l=(0,i.useMemo)(function(){return JSON.stringify(a[v].func_data)!=="{}"},[a,v]);return(0,e.jsxs)(dt,{style:{width:s>3?s*390:1200},id:"need_test_summary",className:"position_mark",children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)("span",{className:"line"}),"Summary"]}),(0,e.jsxs)(Wt,{children:[(0,e.jsxs)(Kt,{children:[(0,e.jsx)(Cr,{gLen:s,children:(0,e.jsx)(u._H,{id:"report.comparison.group.name"})}),Array.isArray(r)&&!!r.length&&r.map(function(E,I){return(0,e.jsxs)(Rr,{gLen:s,children:[(0,e.jsxs)(Ue.Z,{children:[E.is_group&&(0,e.jsx)(wt.Z,{title:(0,e.jsx)(u._H,{id:"report.benchmark.group"}),children:(0,e.jsx)(Oo.r,{style:{marginRight:4,marginTop:17,width:10,height:14}})}),E.is_baseline?(0,e.jsxs)(wt.Z,{title:(0,e.jsx)(u._H,{id:"report.baseline.group"}),children:[(0,e.jsx)(wo.r,{style:{marginRight:4,marginTop:17,width:10,height:14}}),(0,e.jsxs)(Ee.Z.Text,{children:["\uFF08",(0,e.jsx)(u._H,{id:"report.test.baseline"}),"\uFF09"]})]}):null]}),(0,e.jsx)(st.Z,{title:E.tag})]},I)})]}),o.is_default&&p&&(0,e.jsx)(qr,{groupLen:s,logoData:a}),!o.is_default&&o.need_perf_data&&p&&(0,e.jsx)(qr,{groupLen:s,logoData:a}),o.is_default&&l&&(0,e.jsx)(ea,{groupLen:s,logoData:a}),!o.is_default&&o.need_func_data&&l&&(0,e.jsx)(ea,{groupLen:s,logoData:a})]})]})},ta=(0,i.memo)(Eo),Ut=j(99788),Do=j(72069),Lo=function(){var t,a=(0,u.YB)(),r=a.formatMessage,o=(0,i.useContext)(Qe),s=o.btnState,v=o.saveReportData,p=o.obj,l=o.setObj,E=o.envData,I=o.compareGroupData,d=o.baselineGroupIndex,P=o.environmentResult,A=o.routeName,N=o.btnConfirm,b=o.groupLen,T=o.domainResult,Q=o.creator,X=function(F,R){if(P&&JSON.stringify(P)!=="{}"){if(je().isUndefined(I))p.test_env={text:F};else{var B=je().cloneDeep(P);B[R]=F,B.base_group=I.base_group,B.compare_groups=I.compare_groups,A!=="Report"&&(B.base_index=d),p.test_env=B}l((0,c.Z)({},p))}};return(0,e.jsxs)(dt,{style:{width:b>3?b*390:1200},id:"need_test_env",className:"position_mark",children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(u._H,{id:"report.test.env"})]}),((T==null?void 0:T.is_default)||!(T!=null&&T.is_default)&&(T==null?void 0:T.need_env_description))&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Dr,{children:(0,e.jsx)(u._H,{id:"report.env.description"})}),v!=null&&v.id?(0,e.jsx)(bt,{saveData:v,field:"text",defaultHolder:r({id:"report.please.enter.description"}),creator:Q}):(0,e.jsx)(ft,{name:(v==null||(t=v.test_env)===null||t===void 0?void 0:t.text)||(T==null?void 0:T.env_description_desc),btnConfirm:N,defaultHolder:r({id:"report.please.enter.description"}),btn:s,onOk:function(F){return X(F,"text")}})]}),(0,e.jsx)(Dr,{style:{margin:"17px 0 14px 0"},children:(0,e.jsx)(u._H,{id:"report.server.env"})}),(0,e.jsxs)(po,{children:[(0,e.jsx)(co,{children:(0,e.jsx)(u._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(Ut.Z,{envData:E,group:b})]}),(0,e.jsx)(Do.c,{envData:E,environmentResult:P,group:b})]})},na=(0,i.memo)(Lo),Qi=j(64510),tt=j(87445),Xi=j(20632),lt=j(71853),Xe=j(24812),ra,Po=["svgRef","title"];function Lt(){return Lt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},Lt.apply(this,arguments)}function To(n,t){if(n==null)return{};var a=Fo(n,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(a[r]=n[r]))}return a}function Fo(n,t){if(n==null)return{};var a={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(a[o]=n[o]);return a}var No=function(t){var a=t.svgRef,r=t.title,o=To(t,Po);return i.createElement("svg",Lt({width:"14px",height:"12px",viewBox:"0 0 14 12",ref:a},o),r?i.createElement("title",null,r):null,ra||(ra=i.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u677F-\\u6DFB\\u52A0\\u9879/\\u7EC4",transform:"translate(-304.000000, -727.000000)",fill:"#000000",fillRule:"nonzero"},i.createElement("g",{id:"Group-16\\u5907\\u4EFD",transform:"translate(220.000000, 379.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4\\u5907\\u4EFD",transform:"translate(20.000000, 64.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4-10\\u5907\\u4EFD",transform:"translate(48.000000, 269.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(15.000000, 13.000000)"},i.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M14.5,6.9375 L12.8125,6.9375 L12.8125,5.1625 C12.8125,4.8859375 12.5890625,4.6625 12.3125,4.6625 L7.390625,4.6625 L5.5578125,2.909375 C5.534375,2.8875 5.503125,2.875 5.471875,2.875 L1.5,2.875 C1.2234375,2.875 1,3.0984375 1,3.375 L1,12.625 C1,12.9015625 1.2234375,13.125 1.5,13.125 L12.40625,13.125 C12.609375,13.125 12.79375,13.0015625 12.8703125,12.8125 L14.9640625,7.625 C14.9875,7.565625 15,7.5015625 15,7.4375 C15,7.1609375 14.7765625,6.9375 14.5,6.9375 Z M2.125,4 L5.0703125,4 L6.9390625,5.7875 L11.6875,5.7875 L11.6875,6.9375 L3.71875,6.9375 C3.515625,6.9375 3.33125,7.0609375 3.2546875,7.25 L2.125,10.05 L2.125,4 Z M12.0515625,12 L2.484375,12 L4.0984375,8 L13.6671875,8 L12.0515625,12 Z",id:"\\u5F62\\u72B6",fillOpacity:.85})))))))))},aa=i.forwardRef(function(n,t){return i.createElement(No,Lt({svgRef:t},n))}),qi=j.p+"static/TestGroup.73da7769.svg",es=j(36142),Ho=j(76837),ts=j(69230),Pt=j(33821),oa,Ao=["svgRef","title"];function Tt(){return Tt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},Tt.apply(this,arguments)}function ko(n,t){if(n==null)return{};var a=Io(n,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(a[r]=n[r]))}return a}function Io(n,t){if(n==null)return{};var a={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(a[o]=n[o]);return a}var Bo=function(t){var a=t.svgRef,r=t.title,o=ko(t,Ao);return i.createElement("svg",Tt({width:"16px",height:"17px",viewBox:"0 0 16 17",ref:a},o),r?i.createElement("title",null,r):null,oa||(oa=i.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"\\u6D4B\\u8BD5\\u7ED3\\u679C\\u7F16\\u8F91\\u6001",transform:"translate(-285.000000, -2418.000000)",fill:"#000000",fillRule:"nonzero"},i.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(219.000000, 56.000000)"},i.createElement("g",{id:"Group-10",transform:"translate(2.000000, 1683.450000)"},i.createElement("g",{id:"\\u7F16\\u7EC4-10",transform:"translate(20.000000, 175.450000)"},i.createElement("g",{id:"\\u6027\\u80FD\\u8868\\u683C",transform:"translate(16.000000, 65.000000)"},i.createElement("g",{id:"\\u6027\\u80FD\\u88681",transform:"translate(16.000000, 348.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(12.000000, 14.000000)"},i.createElement("g",{id:"\\u5220\\u9664\\u5907\\u4EFD-2",transform:"translate(0.000000, 77.000000)"},i.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M14.453125,5.2734375 C14.1,4.4390625 13.5953125,3.690625 12.953125,3.046875 C12.309375,2.403125 11.5609375,1.8984375 10.7265625,1.546875 C9.8625,1.18125 8.9453125,0.996875 8,0.996875 C7.0546875,0.996875 6.1375,1.18125 5.2734375,1.546875 C4.4390625,1.9 3.690625,2.4046875 3.046875,3.046875 C2.403125,3.690625 1.8984375,4.4390625 1.546875,5.2734375 C1.18125,6.1375 0.996875,7.0546875 0.996875,8 C0.996875,8.9453125 1.18125,9.8625 1.546875,10.7265625 C1.9,11.5609375 2.4046875,12.309375 3.046875,12.953125 C3.6890625,13.596875 4.4390625,14.1015625 5.2734375,14.453125 C6.1375,14.81875 7.0546875,15.003125 8,15.003125 C8.9453125,15.003125 9.8625,14.8171875 10.7265625,14.453125 C11.5609375,14.1 12.309375,13.5953125 12.953125,12.953125 C13.596875,12.3109375 14.1015625,11.5609375 14.453125,10.7265625 C14.81875,9.8625 15.003125,8.9453125 15.003125,8 C15.003125,7.0546875 14.81875,6.1375 14.453125,5.2734375 Z M8,14.378125 C4.4828125,14.378125 1.621875,11.5171875 1.621875,8 C1.621875,4.4828125 4.4828125,1.621875 8,1.621875 C11.5171875,1.621875 14.378125,4.4828125 14.378125,8 C14.378125,11.5171875 11.5171875,14.378125 8,14.378125 Z M11.521875,7.6875 L4.478125,7.6875 C4.30625,7.6875 4.165625,7.828125 4.165625,8 C4.165625,8.171875 4.30625,8.3125 4.478125,8.3125 L11.521875,8.3125 C11.69375,8.3125 11.834375,8.171875 11.834375,8 C11.834375,7.828125 11.69375,7.6875 11.521875,7.6875 L11.521875,7.6875 Z",id:"\\u5F62\\u72B6",fillOpacity:.45}))))))))))))},ia=i.forwardRef(function(n,t){return i.createElement(Bo,Tt({svgRef:t},n))}),ns=j.p+"static/delDefault.54b8034d.svg",sa,Mo=["svgRef","title"];function Ft(){return Ft=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},Ft.apply(this,arguments)}function Go(n,t){if(n==null)return{};var a=Ko(n,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(a[r]=n[r]))}return a}function Ko(n,t){if(n==null)return{};var a={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(a[o]=n[o]);return a}var Wo=function(t){var a=t.svgRef,r=t.title,o=Go(t,Mo);return i.createElement("svg",Ft({width:"16px",height:"17px",viewBox:"0 0 16 17",ref:a},o),r?i.createElement("title",null,r):null,sa||(sa=i.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"\\u6D4B\\u8BD5\\u7ED3\\u679C\\u7F16\\u8F91\\u6001",transform:"translate(-285.000000, -2379.000000)",fillRule:"nonzero"},i.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(219.000000, 56.000000)"},i.createElement("g",{id:"Group-10",transform:"translate(2.000000, 1683.450000)"},i.createElement("g",{id:"\\u7F16\\u7EC4-10",transform:"translate(20.000000, 175.450000)"},i.createElement("g",{id:"\\u6027\\u80FD\\u8868\\u683C",transform:"translate(16.000000, 65.000000)"},i.createElement("g",{id:"\\u6027\\u80FD\\u88681",transform:"translate(16.000000, 348.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(12.000000, 14.000000)"},i.createElement("g",{id:"\\u5220\\u9664\\u5907\\u4EFD",transform:"translate(0.000000, 38.000000)"},i.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M14.453125,5.2734375 C14.1,4.4390625 13.5953125,3.690625 12.953125,3.046875 C12.309375,2.403125 11.5609375,1.8984375 10.7265625,1.546875 C9.8625,1.18125 8.9453125,0.996875 8,0.996875 C7.0546875,0.996875 6.1375,1.18125 5.2734375,1.546875 C4.4390625,1.9 3.690625,2.4046875 3.046875,3.046875 C2.403125,3.690625 1.8984375,4.4390625 1.546875,5.2734375 C1.18125,6.1375 0.996875,7.0546875 0.996875,8 C0.996875,8.9453125 1.18125,9.8625 1.546875,10.7265625 C1.9,11.5609375 2.4046875,12.309375 3.046875,12.953125 C3.6890625,13.596875 4.4390625,14.1015625 5.2734375,14.453125 C6.1375,14.81875 7.0546875,15.003125 8,15.003125 C8.9453125,15.003125 9.8625,14.8171875 10.7265625,14.453125 C11.5609375,14.1 12.309375,13.5953125 12.953125,12.953125 C13.596875,12.3109375 14.1015625,11.5609375 14.453125,10.7265625 C14.81875,9.8625 15.003125,8.9453125 15.003125,8 C15.003125,7.0546875 14.81875,6.1375 14.453125,5.2734375 Z M8,14.378125 C4.4828125,14.378125 1.621875,11.5171875 1.621875,8 C1.621875,4.4828125 4.4828125,1.621875 8,1.621875 C11.5171875,1.621875 14.378125,4.4828125 14.378125,8 C14.378125,11.5171875 11.5171875,14.378125 8,14.378125 Z M11.521875,7.6875 L4.478125,7.6875 C4.30625,7.6875 4.165625,7.828125 4.165625,8 C4.165625,8.171875 4.30625,8.3125 4.478125,8.3125 L11.521875,8.3125 C11.69375,8.3125 11.834375,8.171875 11.834375,8 C11.834375,7.828125 11.69375,7.6875 11.521875,7.6875 L11.521875,7.6875 Z",id:"\\u5F62\\u72B6",fill:"#F5222D"}))))))))))))},la=i.forwardRef(function(n,t){return i.createElement(Wo,Ft({svgRef:t},n))}),rs=j.p+"static/delHover.3a54e0ab.svg",ua=j(22598),ca=j(15363),da,zo=["svgRef","title"];function Nt(){return Nt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},Nt.apply(this,arguments)}function $o(n,t){if(n==null)return{};var a=Jo(n,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(a[r]=n[r]))}return a}function Jo(n,t){if(n==null)return{};var a={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(a[o]=n[o]);return a}var Yo=function(t){var a=t.svgRef,r=t.title,o=$o(t,zo);return i.createElement("svg",Nt({width:"12px",height:"14px",viewBox:"0 0 12 14",ref:a},o),r?i.createElement("title",null,r):null,da||(da=i.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u677F-\\u6DFB\\u52A0\\u9879/\\u7EC4",transform:"translate(-304.000000, -614.000000)",fill:"#000000",fillRule:"nonzero"},i.createElement("g",{id:"Group-16\\u5907\\u4EFD",transform:"translate(220.000000, 379.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4\\u5907\\u4EFD",transform:"translate(20.000000, 64.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4-10",transform:"translate(48.000000, 158.000000)"},i.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(14.000000, 12.000000)"},i.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M11,1.6 L6.2,1.6 C5.36,1.6 4.6,2.36 4.6,3.2 L4.12,3.2 C3.28,3.2 2.6,3.96 2.6,4.8 L2.6,12.8 C2.6,13.64 3.36,14.4 4.2,14.4 L10.2,14.4 C11.04,14.4 11.8,13.64 11.8,12.8 L12.2,12.8 C13.04,12.8 13.8,12.04 13.8,11.2 L13.8,4.8 L11,1.6 Z M10.2,13.6 L4.2,13.6 C3.8,13.6 3.4,13.2 3.4,12.8 L3.4,4.8 C3.4,4.4 3.76,4 4.16,4 L4.6,4 L4.6,11.2 C4.6,12.04 5.36,12.8 6.2,12.8 L11,12.8 C11,13.2 10.6,13.6 10.2,13.6 Z M13,11.2 C13,11.6 12.6,12 12.2,12 L6.2,12 C5.8,12 5.4,11.6 5.4,11.2 L5.4,3.2 C5.4,2.8 5.8,2.4 6.2,2.4 L10.2,2.4 L10.2,4 C10.2,4.84 10.96,5.6 11.8,5.6 L13,5.6 L13,11.2 L13,11.2 Z M11.8,4.8 C11.36,4.8 11,4.04 11,3.6 L11,2.4 L13,4.8 L11.8,4.8 L11.8,4.8 Z M11,7.2 L7.4,7.2 C7.16,7.2 7,7.36 7,7.6 C7,7.84 7.16,8 7.4,8 L11,8 C11.24,8 11.4,7.84 11.4,7.6 C11.4,7.4 11.24,7.2 11,7.2 Z M11,9.2 L7.4,9.2 C7.16,9.2 7,9.36 7,9.6 C7,9.84 7.16,10 7.4,10 L11,10 C11.24,10 11.4,9.84 11.4,9.6 C11.4,9.4 11.24,9.2 11,9.2 Z",id:"\\u5F62\\u72B6",fillOpacity:.85})))))))))},pa=i.forwardRef(function(n,t){return i.createElement(Yo,Nt({svgRef:t},n))}),as=j.p+"static/TestItem.4c2723d4.svg",nt=j(36338),fa,Uo=_t.Z.TextArea,Vo=(0,C.ZP)(Uo)(fa||(fa=(0,S.Z)([`
    width: 100%;
`]))),va=function(t){var a=t.name,r=t.field,o=t.suite,s=t.style,v=t.space,p=v===void 0?"0px":v,l=t.fontStyle,E=l===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:l,I=t.defaultHolder,d=t.creator,P=(0,Xe.UO)(),A=P.report_id,N=(0,u.md)(),b=(0,Xe.TH)(),T=b.pathname,Q=(0,u.YB)(),X=Q.formatMessage,x=(0,i.useState)(!1),F=(0,ne.Z)(x,2),R=F[0],B=F[1],ue=(0,i.useState)(a||""),h=(0,ne.Z)(ue,2),_=h[0],f=h[1],g=function(D,m){Gt.default.success({message:"".concat(D,"\uFF1A").concat(m),placement:"bottomRight"})},O=function(D){var m={test_env:X({id:"report.test_env.save"}),test_description:X({id:"report.test_description.save"}),test_conclusion:X({id:"report.test_conclusion.save"})};return m[D]},Z=function(){var K=(0,ot.Z)((0,Me.Z)().mark(function D(){var m,H,J,$,w,ge;return(0,Me.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return m=o.item_suite_id,H=o.suite_name,J={item_suite_id:m,report_id:A},J[r]=_,Se.next=5,(0,it.ow)(J);case 5:$=Se.sent,w=$.code,ge=$.msg,w===200?(g(H,O(r)),B(!1)):ct.default.error(ge);case 9:case"end":return Se.stop()}},D)}));return function(){return K.apply(this,arguments)}}(),G=function(D){return je().isNull(D)||je().isUndefined(D)?X({id:"report.not.filled.in"}):D||"-"};return~T.indexOf("/test_create_report")?(0,e.jsx)("div",{style:(0,c.Z)({width:"100%"},s),children:(0,e.jsx)(Ee.Z.Text,{style:E,children:G(_)})}):R?(0,e.jsx)("div",{style:{marginBottom:p},children:(0,e.jsx)(Vo,{autoComplete:"off",size:"small",placeholder:I,style:(0,c.Z)({padding:"10px"},E),value:_,onChange:function(D){return f(D.target.value)},onBlur:Z})}):(0,e.jsxs)("div",{style:(0,c.Z)({width:"100%"},s),children:[(0,e.jsx)(Ee.Z.Text,{style:E,children:G(_)}),(0,e.jsx)(u.Nv,{accessible:N.WsTourist(),children:(0,e.jsx)(u.Nv,{accessible:N.WsMemberOperateSelf(d),fallback:(0,e.jsx)(jt.Z,{onClick:function(){return(0,at.WR)()},style:{paddingLeft:10}}),children:(0,e.jsx)(jt.Z,{style:{paddingLeft:10},onClick:function(){return B(!0)}})})})]})},Ht=function(t){var a=t.name,r=t.rowKey,o=t.btn,s=o===void 0?!1:o,v=t.dataSource,p=t.setDataSource,l=t.defaultHolder,E=(0,u.YB)(),I=E.formatMessage,d=(0,i.useState)(""),P=(0,ne.Z)(d,2),A=P[0],N=P[1];(0,i.useEffect)(function(){N(a)},[a]);var b=function(){p(v.map(function(x){if(x.is_group){x.rowKey==r&&(x.name=A);var F=x.list.map(function(R){return R.rowKey==r&&(R.name=A),(0,c.Z)({},R)});return(0,c.Z)((0,c.Z)({},x),{},{list:F})}else return x.rowKey==r&&(x.name=A),(0,c.Z)({},x)}))},T={fontSize:14,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},Q=function(x){return je().isNull(x)||je().isUndefined(x)?I({id:"report.not.filled.in"}):x};return(0,e.jsx)(e.Fragment,{children:s?(0,e.jsx)(_t.Z,{autoComplete:"off",size:"small",placeholder:l,style:(0,c.Z)({padding:"6px 8px 6px 8px",width:"93%"},T),value:A,onChange:function(x){return N(x.target.value)},onBlur:b}):(0,e.jsx)(Ee.Z.Text,{style:T,children:Q(A)})})},Qo=j(27165),ma=j(20312),At=function(t,a,r,o,s){var v,p=[];return(v=t.list)===null||v===void 0||v.map(function(l,E){var I=[];l.conf_list.map(function(d){var P,A=s?[(d==null?void 0:d.obj_id)||((P=d.conf_source)===null||P===void 0?void 0:P.obj_id)]:[],N=(d.conf_compare_data||d.compare_conf_list).map(function(b){return{job_id:(b==null?void 0:b.obj_id)||"",is_baseline:b==null?void 0:b.is_baseline}});I.push({conf_id:d.conf_id,conf_name:d.conf_name,job_list:A.concat(N)})}),p.push({suite_id:l.suite_id,suite_name:l.suite_name,conf_list:I,rowKey:o=="group"?"".concat(a,"-").concat(r,"-").concat(E):"".concat(a,"-").concat(E)})}),p},ga=function(t,a,r,o){return a==="group"?t.map(function(s){var v=[];return s.is_group?(s.list.map(function(p){p.rowKey===o&&(v=s.list.filter(function(l){return l.name!==r}))}),(0,c.Z)((0,c.Z)({},s),{},{list:v})):(0,c.Z)({},s)}):t.filter(function(s){return s.name!==r&&s.rowKey!==o})},ha=function(t,a){var r=t.list.reduce(function(o,s){return s.suite_id==a.suite_id?o:o.concat(s)},[]);return(0,c.Z)((0,c.Z)({},t),{},{list:r})},xa=function(t,a){return(0,ma.ZP)(t,function(r){r.list=t.list.map(function(o){var s=o.conf_list.reduce(function(v,p){return p.conf_id==a.conf_id?v:v.concat(p)},[]);return(0,c.Z)((0,c.Z)({},o),{},{conf_list:s})})})},_a=function(t,a){return Array.isArray(t.list)&&!!t.list.length&&t.list.forEach(function(r){return r.conf_list.forEach(function(o){return o.metric_list.forEach(function(s){return s.compare_data.splice(a,0,{cv_value:s.cv_value,test_value:s.test_value})})})}),t},ja=function(t,a,r,o){return a=="suite"?t.map(function(s){if(s.is_group){var v=s.list.map(function(p){return ha(p,r)});return(0,c.Z)((0,c.Z)({},s),{},{list:v})}else return ha(s,r)}):t.map(function(s){if(s.is_group){var v=s.list.map(function(p){return xa(p,r)});return(0,c.Z)((0,c.Z)({},s),{},{list:v})}else return xa(s,r)})},kt=j(526),St=Pt.Z.Option,Xo=function(t){var a=t.btnState;return a&&(0,e.jsx)(Yt,{empty:!0})},qo=function(t){var a=t.sub_case_list,r=t.conf_id,o=t.expandKeys,s=t.isOldReport,v=t.baseIndex,p=t.groupLen,l=t.btnState,E=o.includes(r),I=i.useState({size:100,num:1}),d=(0,ne.Z)(I,2),P=d[0],A=d[1],N=(a||[]).length;i.useEffect(function(){return function(){A({size:100,num:1})}},[E]);var b=P.size,T=P.num,Q=T-1,X=a.slice(Q*b,Q*b+b);return E?(0,e.jsxs)(e.Fragment,{children:[X==null?void 0:X.map(function(x){var F;return s&&x.compare_data.splice(v,0,x.result),(0,e.jsxs)(mo,{children:[(0,e.jsx)(Xo,{btnState:l}),(0,e.jsx)(go,{gLen:p,children:(0,e.jsx)(Ee.Z.Text,{children:(0,e.jsx)(st.Z,{title:x.sub_case_name})})}),x.compare_data.length?(F=x.compare_data)===null||F===void 0?void 0:F.slice(0,p).map(function(R,B){return(0,e.jsx)(Yr,{gLen:p,btnState:l,children:(0,e.jsx)(Ee.Z.Text,{style:{color:(0,nt.Sh)(R)},children:R||"-"})},B)}):(0,e.jsx)(Yr,{gLen:p,btnState:l,children:(0,e.jsx)(Ee.Z.Text,{style:{color:(0,nt.Sh)(x.result)},children:x.result||"-"})})]},x==null?void 0:x.sub_case_name)}),(0,e.jsx)(ke.Z,{justify:"end",children:(0,e.jsx)(Ho.Z,{style:{marginTop:12,marginBottom:12},total:N,size:"small",current:P.num,pageSize:b,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:[100,200,500,1e3,2e3],onChange:function(F,R){return A({num:F,size:R})},showTotal:function(F){return"\u5171\uFF08".concat(F,"\uFF09\u6761")}})})]}):(0,e.jsx)(e.Fragment,{})},ei=function(t){var a,r=(0,Xe.TH)(),o=r.pathname,s=!!~(o==null?void 0:o.indexOf("/edit")),v=(0,u.YB)(),p=v.formatMessage,l=t.child,E=t.name,I=t.id,d=t.onDelete,P=t.dataSource,A=t.setDataSource,N=(0,i.useContext)(Qe),b=N.btnState,T=N.allGroupData,Q=N.baselineGroupIndex,X=N.groupLen,x=N.wsId,F=N.isOldReport,R=N.domainResult,B=(0,i.useState)([]),ue=(0,ne.Z)(B,2),h=ue[0],_=ue[1],f=(0,i.useState)("All"),g=(0,ne.Z)(f,2),O=g[0],Z=g[1],G=(0,i.useState)(""),K=(0,ne.Z)(G,2),D=K[0],m=K[1],H=(0,i.useState)(""),J=(0,ne.Z)(H,2),$=J[0],w=J[1],ge=(0,i.useState)(0),he=(0,ne.Z)(ge,2),Se=he[0],Ge=he[1],$e=(0,i.useState)(!1),ze=(0,ne.Z)($e,2),Pe=ze[0],Ve=ze[1],q=(0,i.useState)({}),y=(0,ne.Z)(q,2),M=y[0],V=y[1];(0,i.useEffect)(function(){V(l)},[l]);var fe=(0,i.useMemo)(function(){return Q===-1?0:Q},[Q]),k=function(W){Z(W);var re=l,z=[];W=="All"?V(re):(re.list.map(function(pe){var de=[];pe.conf_list.map(function(ie){var xe=F?ie.sub_case_list.filter(function(le){return le.result==W}):ie.sub_case_list.filter(function(le){return le.compare_data.includes(W)});de.push((0,c.Z)((0,c.Z)({},ie),{},{sub_case_list:xe}))}),z.push((0,c.Z)((0,c.Z)({},pe),{},{conf_list:de}))}),V((0,c.Z)((0,c.Z)({},re),{},{list:z})))},ee=function(){Ve(!Pe)},U=function(W,re){console.log("func review handleArrow"),Ge(re),m(W.suite_id);var z=W.conf_list.map(function(de){for(var ie,xe=[],le=0;le<5;le++)xe.push([]);return de.sub_case_list.forEach(function(Y){Y.result==="Pass"&&Y.compare_data[re]==="Fail"?xe[0].push(Y):Y.result==="Fail"&&Y.compare_data[re]==="Pass"?xe[1].push(Y):Y.result==="Fail"&&Y.compare_data[re]==="Fail"?xe[2].push(Y):Y.result==="Pass"&&Y.compare_data[re]==="Pass"?xe[3].push(Y):xe[4].push(Y)}),(0,c.Z)((0,c.Z)({},de),{},{sub_case_list:(ie=[]).concat.apply(ie,xe)})}),pe=l.list.map(function(de){return de.suite_id===W.suite_id?(0,c.Z)((0,c.Z)({},de),{},{conf_list:z}):de});V((0,c.Z)((0,c.Z)({},l),{},{list:pe}))};(0,i.useEffect)(function(){var L,W=p({id:"report.btn.expand.all"}),re=p({id:"report.btn.collapse.all"});w(Pe?W:re),_([]);var z=[];P==null||P.map(function(pe){pe.is_group?pe.list.map(function(de){z=z.concat(de.list)}):z=z.concat(pe.list)}),_(Pe?(L=z)===null||L===void 0?void 0:L.reduce(function(pe,de){return pe.concat(de.conf_list.map(function(ie){return ie.conf_id}))},[]):[])},[Pe,P]);var ae=function(W,re,z){A(ja(P,W,re,z))},te=function(){return(0,e.jsx)(kr,{children:(0,e.jsxs)(Ue.Z,{children:[(0,e.jsx)(Bt.Z,{onClick:ee,children:$}),(0,e.jsxs)(Ue.Z,{children:[(0,e.jsxs)(Ee.Z.Text,{children:[(0,e.jsx)(u._H,{id:"report.filter"}),": "]}),(0,e.jsxs)(Pt.Z,{defaultValue:"All",style:{width:200},value:O,onSelect:k,children:[(0,e.jsx)(St,{value:"All",children:(0,e.jsx)(u._H,{id:"report.all.s"})}),(0,e.jsx)(St,{value:"Pass",children:(0,e.jsx)(u._H,{id:"report.pass"})}),(0,e.jsx)(St,{value:"Fail",children:(0,e.jsx)(u._H,{id:"report.fail"})}),(0,e.jsx)(St,{value:"Warn",children:(0,e.jsx)(u._H,{id:"ws.result.details.warn"})}),(0,e.jsx)(St,{value:"Skip",children:(0,e.jsx)(u._H,{id:"report.skip"})})]})]})]})})},se=function(W){var re=W.conf,z=W.cid;return(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return ae("conf",re,z)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:b&&(0,e.jsxs)(Yt,{empty:!1,children:[(0,e.jsx)(ia,{className:"remove"}),(0,e.jsx)(la,{className:"remove_active"})]})})},ve=function(W){var re=h.includes(W);_(re?h.filter(function(z){return z!==W}):h.concat(W))},ce=Array.isArray(M.list)&&!!M.list.length?M==null||(a=M.list)===null||a===void 0?void 0:a.map(function(L,W){var re;return(0,e.jsxs)(Ir,{children:[!R.is_default&&(0,e.jsx)(Lr,{children:[["need_test_env","test_env","env"],["need_test_description","test_description","description"],["need_test_conclusion","test_conclusion","conclusion"]].map(function(z){var pe=(0,ne.Z)(z,3),de=pe[0],ie=pe[1],xe=pe[2];if(!!R.func_conf&&!!R.func_conf[de]&&!(!s&&!L[ie]))return(0,e.jsxs)(Pr,{children:[(0,e.jsx)(Tr,{children:(0,e.jsx)(u._H,{id:"report.test.".concat(xe)})}),(0,e.jsx)(Fr,{children:(0,e.jsx)(va,{name:L[ie],field:ie,suite:L,creator:R==null?void 0:R.creator})})]},de)}).filter(Boolean)}),(0,e.jsxs)(Br,{children:[L.suite_name,(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return ae("suite",L,W)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:b&&(0,e.jsx)(gt,{})})]}),(0,e.jsxs)(Mr,{children:[(0,e.jsx)(Gr,{gLen:X,style:{marginLeft:b?39:0},children:"Conf"}),T==null?void 0:T.map(function(z,pe){return(0,e.jsx)(Kr,{gLen:X,btnState:b,children:(0,e.jsxs)(ke.Z,{children:[(0,e.jsx)(ut.Z,{span:12,children:(0,e.jsx)(u._H,{id:"report.total/pass/fail"})}),pe!==fe&&(0,e.jsxs)(ut.Z,{span:12,style:{textAlign:"right",paddingRight:10},children:[(0,e.jsx)(u._H,{id:"report.comparison.results"}),(0,e.jsx)("span",{onClick:function(){return U(L,pe)},style:{margin:"0 5px 0 3px",verticalAlign:"middle"},children:D==L.suite_id&&Se==pe?(0,e.jsx)(ca.r,{}):(0,e.jsx)(ua.r,{})}),(0,e.jsx)(Qo.F,{})]})]})},pe)})]}),(0,e.jsx)(Wr,{children:L==null||(re=L.conf_list)===null||re===void 0?void 0:re.map(function(z,pe){var de=h.includes(z.conf_id),ie=[];if(F)for(var xe=z.conf_source||z,le=xe.all_case,Y=xe.success_case,Ce=xe.fail_case,Ke=xe.obj_id,Ie=z.conf_compare_data||z.compare_conf_list,Fe=function(be){be===fe&&ie.push({all_case:le,success_case:Y,fail_case:Ce,obj_id:Ke}),Ie.length?Ie.map(function(me,oe){if(me){var De=me||me.conf_source,Le=De.all_case,ye=De.success_case,_e=De.fail_case,Ze=De.obj_id;oe===be&&ie.push({all_case:Le,success_case:ye,fail_case:_e,obj_id:Ze})}else oe===be&&ie.push({all_case:"-",success_case:"-",fail_case:"-"})}):T.length>1&&be-1&&ie.push({all_case:"-",success_case:"-",fail_case:"-"})},we=0;we<T.length;we++)Fe(we);var He=F?ie:z.conf_compare_data||z.compare_conf_list;return(0,e.jsxs)(i.Fragment,{children:[(0,e.jsxs)(fo,{expand:de,children:[(0,e.jsx)(se,{conf:z,cid:pe}),(0,e.jsx)($r,{gLen:X,children:(0,e.jsxs)(st.Z,{title:z.conf_name,children:[(0,e.jsx)(vo,{rotate:de?90:0,onClick:function(){return ve(z.conf_id)}}),(0,e.jsx)(Ee.Z.Text,{children:z.conf_name})]})}),He==null?void 0:He.map(function(Re,be){return(0,e.jsx)(Jr,{gLen:X,btnState:b,children:(0,e.jsxs)(Ue.Z,{size:16,children:[(0,e.jsx)(Ee.Z.Text,{style:{color:"#649FF6"},children:(0,nt.YL)(Re.all_case)}),(0,e.jsx)(Ee.Z.Text,{style:{color:"#81BF84"},children:(0,nt.YL)(Re.success_case)}),(0,e.jsx)(Ee.Z.Text,{style:{color:"#C84C5A"},children:(0,nt.YL)(Re.fail_case)}),!(0,at.cO)(Re)&&(0,e.jsx)(kt.zA,{ws_id:x,job_id:Re.obj_id,style:{paddingLeft:10}})]})},be)})]}),(0,e.jsx)(qo,(0,c.Z)((0,c.Z)({},z),{},{expandKeys:h,isOldReport:F,baseIndex:fe,groupLen:X,btnState:b,btn:b}))]},z.conf_id)})})]},L==null?void 0:L.suite_id)}):(0,e.jsx)(tt.Z,{image:tt.Z.PRESENTED_IMAGE_SIMPLE});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ar,{id:"func_item-".concat(I),className:"position_mark",isGroup:E==="group",children:[(0,e.jsx)(pa,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Et,{children:(0,e.jsx)(Ht,{name:M.name,rowKey:M.rowKey,btn:b,dataSource:P,setDataSource:A})}),b&&(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return d(E,M.name,M.rowKey)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:(0,e.jsx)(gt,{})}),!b&&(0,e.jsx)(te,{})]}),ce]})},ba=(0,i.memo)(ei),ti=function(){var t=(0,i.useContext)(Qe),a=t.obj,r=t.setObj,o=t.domainResult,s=t.btnState,v=t.isOldReport,p=t.saveReportData,l=t.routeName,E=(0,Xe.UO)(),I=E.report_id,d=(0,u.YB)(),P=(0,i.useMemo)(function(){if(Array.isArray(o.func_item))return je().cloneDeep(o.func_item)},[o]),A=(0,i.useState)([]),N=(0,ne.Z)(A,2),b=N[0],T=N[1];(0,i.useEffect)(function(){T(P)},[P]);var Q=function(F,R,B){T(ga(b,F,R,B))};(0,i.useEffect)(function(){if(b.length){var x=[];b.map(function(F,R){if(F.is_group)F.list.map(function(ue,h){var _=At(ue,R,h,"group",v);x.push({name:"".concat(F.name,":").concat(ue.name),suite_list:_})});else{var B=At(F,R,0,"item",v);x.push({name:F.name,suite_list:B})}}),r(function(F){return F.test_item.func_data=x,F})}},[b]);var X=function(F){var R=p.func_desc||[],B=R.filter(function(ue){return ue.name===F}).filter(Boolean).at(0);return B};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Nr,{id:"func_item",className:"position_mark",children:(0,e.jsx)(u._H,{id:"functional.test"})}),(0,e.jsx)(Hr,{children:Object.prototype.toString.call(b)==="[object Array]"?b.map(function(x){var F,R=X(x.name);return(0,e.jsx)("div",{children:x.is_group?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Jt,{id:"func_item-".concat(x.rowKey),className:"position_mark",children:[(0,e.jsx)(aa,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Et,{children:(0,e.jsx)(Ht,{name:x.name,rowKey:x.rowKey,btn:s,dataSource:b,setDataSource:T})}),s&&(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return Q("item",x.name,x.rowKey)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:(0,e.jsx)(gt,{})})]}),((R==null?void 0:R.desc)||l==="EditReport")&&(0,e.jsx)(tn,{default_state:l==="EditReport",title:x.name,value:R==null?void 0:R.desc,report_id:I,item_id:R==null?void 0:R.item_id,item_name:x.name,placeholder:d.formatMessage({id:"report.group.desc.placeholder"})}),(F=x.list)===null||F===void 0?void 0:F.map(function(B,ue){return(0,e.jsx)("div",{children:(0,e.jsx)(ba,{child:B,name:"group",id:B.rowKey,dataSource:b,setDataSource:T,onDelete:Q})},B==null?void 0:B.rowKey)})]}):(0,e.jsx)(ba,{child:x,name:"item",id:x.rowKey,dataSource:b,setDataSource:T,onDelete:Q})},x==null?void 0:x.rowKey)}):(0,e.jsx)(tt.Z,{image:tt.Z.PRESENTED_IMAGE_SIMPLE})})]})},ya=(0,i.memo)(ti),ni=j(89638),ri=j(24492),ai=j(81849),oi=j(74066),Za=j(65081),xt=Pt.Z.Option,ii=function(t){return new Map([["decline",0],["increase",1],["normal",2],["invalid",3],["na",4]]).get(t)||5},si=function(t){return function(a,r){return a[t]-r[t]}},li=function(t){var a=(0,u.YB)(),r=a.formatMessage,o=(0,Xe.TH)(),s=o.pathname,v=t.child,p=t.name,l=t.btn,E=t.id,I=t.onDelete,d=t.dataSource,P=t.setDataSource,A=(0,i.useContext)(Qe),N=A.btnState,b=A.allGroupData,T=A.baselineGroupIndex,Q=A.domainResult,X=A.environmentResult,x=A.groupLen,F=A.wsId,R=A.isOldReport,B=!!~(s==null?void 0:s.indexOf("/edit")),ue=(0,i.useState)("all"),h=(0,ne.Z)(ue,2),_=h[0],f=h[1],g=(0,i.useState)({}),O=(0,ne.Z)(g,2),Z=O[0],G=O[1],K=i.useState([]),D=(0,ne.Z)(K,2),m=D[0],H=D[1],J=(0,i.useMemo)(function(){return T===-1?0:T},[T]);(0,i.useEffect)(function(){var q,y=R?_a(je().cloneDeep(v),J):v;G(l?y:(0,c.Z)((0,c.Z)({},v),{},{list:(q=v.list)===null||q===void 0?void 0:q.map(function(M){return(0,c.Z)((0,c.Z)({},M),{},{chartType:"1"})})}))},[v,l]);var $=function(y){f(y);var M=R?_a(je().cloneDeep(v),J):je().cloneDeep(v);if(y==="all")G(M);else{var V=M.list.map(function(k){var ee=k.conf_list.map(function(U){return(0,c.Z)((0,c.Z)({},U),{},{metric_list:U.metric_list.filter(function(ae){return(0,ni.w)(ae.compare_data,y)})})});return(0,c.Z)((0,c.Z)({},k),{},{conf_list:ee})}),fe=(0,c.Z)((0,c.Z)({},M),{},{list:V});G(fe)}},w=function(y){var M=y.conf,V=y.cid;return(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return ge("conf",M,V)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:N&&(0,e.jsxs)(Yt,{empty:!0,children:[(0,e.jsx)(ia,{className:"remove"}),(0,e.jsx)(la,{className:"remove_active"})]})})},ge=function(y,M,V){P(ja(d,y,M,V))},he=function(){var y=(0,u.Kd)()==="en-US";return(0,e.jsx)(kr,{children:(0,e.jsx)(Ue.Z,{children:l&&(0,e.jsxs)(Ue.Z,{children:[(0,e.jsxs)(Ee.Z.Text,{children:[(0,e.jsx)(u._H,{id:"report.filter"}),": "]}),(0,e.jsxs)(Pt.Z,{defaultValue:"all",style:{width:y?336:200},value:_,onSelect:$,getPopupContainer:function(V){return V.parentNode},children:[(0,e.jsx)(xt,{value:"all",children:(0,e.jsx)(u._H,{id:"report.all.s"})}),(0,e.jsx)(xt,{value:"invalid",children:(0,e.jsx)(u._H,{id:"report.invalid"})}),(0,e.jsx)(xt,{value:"volatility",title:r({id:"report.volatility"}),children:(0,e.jsx)(u._H,{id:"report.volatility"})}),(0,e.jsx)(xt,{value:"increase",children:(0,e.jsx)(u._H,{id:"report.increase"})}),(0,e.jsx)(xt,{value:"decline",children:(0,e.jsx)(u._H,{id:"report.decline"})}),(0,e.jsx)(xt,{value:"normal",children:(0,e.jsx)(u._H,{id:"report.normal"})})]})]})})})},Se=function(y,M,V){var fe;if(m.includes(M.conf_id)){H(function(ee){return ee.filter(function(U){return U!==M.conf_id})}),G(function(ee){return(0,c.Z)((0,c.Z)({},ee),{},{list:ee.list.map(function(U){return U.suite_id===y.suite_id?(0,c.Z)((0,c.Z)({},U),{},{conf_list:U.conf_list.map(function(ae){if(ae.conf_id===M.conf_id){var te,se,ve,ce=(te=v.list)===null||te===void 0||(se=te.filter(function(W){return W.suite_id===y.suite_id}))===null||se===void 0?void 0:se[0],L=(ve=ce.conf_list)===null||ve===void 0?void 0:ve.filter(function(W){return W.conf_id===M.conf_id});return(L==null?void 0:L[0])||ae}return ae})}):U})})});return}var k=(0,c.Z)((0,c.Z)({},M),{},{metric_list:(fe=M.metric_list)===null||fe===void 0?void 0:fe.reduce(function(ee,U){var ae;return ee.concat((0,c.Z)((0,c.Z)({},U),{},{sortNum:ii((ae=U.compare_data[V])===null||ae===void 0?void 0:ae.compare_result)}))},[]).sort(si("sortNum"))});H(function(ee){return ee.includes(M.conf_id)?ee:ee.concat(M.conf_id)}),G(function(ee){return(0,c.Z)((0,c.Z)({},ee),{},{list:ee.list.map(function(U){return U.suite_id===y.suite_id?(0,c.Z)((0,c.Z)({},y),{},{conf_list:y.conf_list.map(function(ae){return ae.conf_id===M.conf_id?k:ae})}):U})})})},Ge=function(y){var M=[],V=(y==null?void 0:y.conf_source)||y;b==null||b.map(function(ee,U){M.push((y.conf_compare_data||y.compare_conf_list)[U])}),M.splice(J,0,V);var fe=y.conf_compare_data||y.compare_conf_list,k=R?M:fe;return k.map(function(ee,U){return ee?(0,e.jsx)(_o,{gLen:x,btnState:N,children:(0,at.cO)(ee)?(0,e.jsx)("div",{style:{height:38}}):(0,e.jsx)(kt.zA,{ws_id:F,job_id:(ee==null?void 0:ee.obj_id)||ee})},U):(0,e.jsx)(e.Fragment,{})})},$e=(0,i.useContext)(Qe),ze=$e.containerRef,Pe=(0,Za.Z)(ze),Ve=function(){return Array.isArray(Z.list)&&!!Z.list.length?Z.list.map(function(y,M){return(0,e.jsxs)(Ir,{children:[(0,e.jsxs)(Br,{children:[(0,e.jsx)(Ee.Z.Text,{style:{display:"inline-block",textIndent:(Pe==null?void 0:Pe.left)>50?(Pe==null?void 0:Pe.left)-50:0},children:y.suite_name}),N&&(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return ge("suite",y,M)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:(0,e.jsx)(gt,{})}),(0,e.jsx)(ai.Z,{btn:l,isReport:!0,obj:Z,suiteId:y.suite_id,setPerData:G})]}),(0,e.jsxs)(Wr,{children:[!Q.is_default&&(0,e.jsx)(Lr,{children:[["need_test_env","test_env","env"],["need_test_description","test_description","description"],["need_test_conclusion","test_conclusion","conclusion"]].map(function(V){var fe=(0,ne.Z)(V,3),k=fe[0],ee=fe[1],U=fe[2];if(!!Q.perf_conf&&!!Q.perf_conf[k]&&!(!B&&!y[ee]))return(0,e.jsxs)(Pr,{children:[(0,e.jsx)(Tr,{children:(0,e.jsx)(u._H,{id:"report.test.".concat(U)})}),(0,e.jsx)(Fr,{children:(0,e.jsx)(va,{name:y[ee],field:ee,suite:y,creator:Q==null?void 0:Q.creator})})]},k)})}),l?y.conf_list&&!!y.conf_list.length?y.conf_list.map(function(V,fe){return(0,e.jsxs)("div",{children:[(0,e.jsxs)(Mr,{children:[(0,e.jsx)(Gr,{gLen:x,style:{marginLeft:N?39:0},children:(0,e.jsx)(u._H,{id:"report.conf/metric"})}),b==null?void 0:b.map(function(k,ee){return(0,e.jsx)(Kr,{gLen:x,btnState:N,children:ee!==T?(0,e.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,e.jsx)(st.Z,{title:k.product_version||k.tag,children:(0,e.jsx)(Ee.Z.Text,{style:{color:"rgba(0,0,0,0.45)"},children:k.product_version||k.tag})}),(0,e.jsxs)($t,{children:[(0,e.jsx)(u._H,{id:"report.comparison/tracking.results"}),(0,e.jsx)("span",{onClick:function(){return Se(y,V,ee)},style:{margin:"0 5px 0 3px",verticalAlign:"middle",cursor:"pointer"},children:m.includes(V.conf_id)?(0,e.jsx)(ca.r,{}):(0,e.jsx)(ua.r,{})}),(0,e.jsx)(wt.Z,{color:"#fff",overlayStyle:{minWidth:350},title:(0,e.jsxs)("span",{style:{color:"rgba(0,0,0,0.65)"},children:[(0,e.jsx)(u._H,{id:"report.performance.test.and.baseGroup"}),(0,e.jsx)("br",{}),(0,e.jsx)(u._H,{id:"report.rules.as.follows"}),"\uFF1A",(0,e.jsx)("br",{}),(0,e.jsx)(u._H,{id:"report.decline"}),">",(0,e.jsx)(u._H,{id:"report.increase"}),">",(0,e.jsx)(u._H,{id:"report.little.fluctuation"}),">",(0,e.jsx)(u._H,{id:"report.invalid"})]}),children:(0,e.jsx)(oi.Z,{})})]})]}):(0,e.jsx)(st.Z,{title:k.product_version||k.tag,children:(0,e.jsx)(Ee.Z.Text,{style:{color:"rgba(0,0,0,0.45)"},children:k.product_version||k.tag})})},ee)})]}),(0,e.jsxs)("div",{style:{border:"1px solid rgba(0,0,0,0.10)"},children:[(0,e.jsxs)(ho,{children:[(0,e.jsx)(w,{conf:V,cid:fe}),(0,e.jsx)(xo,{gLen:x,children:(0,e.jsx)(st.Z,{title:V.conf_name})}),Ge(V)]}),V.metric_list.map(function(k,ee){var U;return(0,e.jsxs)(jo,{children:[(0,e.jsx)(w,{conf:V,cid:fe}),(0,e.jsx)(bo,{gLen:x,children:(0,e.jsxs)(ke.Z,{justify:"space-between",children:[(0,e.jsx)(ut.Z,{span:16,children:(0,e.jsx)(ke.Z,{justify:"start",children:(0,e.jsx)(st.Z,{title:"".concat(k.metric).concat(k.unit?"("+k.unit+")":""),children:(0,e.jsxs)(Ee.Z.Text,{style:{color:"rgba(0,0,0,0.65)"},children:[k.metric,k.unit&&(0,e.jsxs)("span",{children:["(",k.unit,")"]})]})})})}),(0,e.jsx)(ut.Z,{span:8,children:(0,e.jsx)(ke.Z,{justify:"end",children:(0,e.jsxs)($t,{children:["(","".concat((0,nt.gt)(k.cv_threshold),"/").concat((0,nt.gt)(k.cmp_threshold)),")"]})})})]})}),Array.isArray(k.compare_data)&&!!k.compare_data.length&&((U=k.compare_data)===null||U===void 0?void 0:U.slice(0,x).map(function(ae,te){return(0,e.jsx)(yo,{gLen:x,btnState:N,children:(0,e.jsxs)(ke.Z,{justify:"space-between",children:[(0,e.jsx)(ut.Z,{span:ae&&ae.compare_result?12:20,children:(0,e.jsx)(ke.Z,{justify:"start",children:(0,e.jsx)(st.Z,{title:!ae||JSON.stringify(ae)==="{}"?"-":"".concat(ae.test_value,"\xB1").concat(ae.cv_value),width:210,children:(0,e.jsx)(Ee.Z.Text,{style:{color:"rgba(0,0,0,0.65)"},children:!ae||JSON.stringify(ae)==="{}"?"-":ae.test_value&&"".concat(ae.test_value,"\xB1").concat(ae.cv_value)})})})}),ae&&ae.compare_result&&(0,e.jsx)(ut.Z,{span:12,children:(0,e.jsx)(ke.Z,{justify:"end",children:(0,e.jsxs)($t,{children:[(0,e.jsx)("span",{className:(0,nt.B1)(ae.compare_result),children:ae.compare_value||"-"}),(0,e.jsx)("span",{className:(0,nt.B1)(ae.compare_result),style:{padding:" 0px 9px "},children:(0,nt.PV)(ae.compare_result)})]})})})]})},te)}))]},k.metric)})]})]},V.conf_id)}):(0,e.jsx)(tt.Z,{image:tt.Z.PRESENTED_IMAGE_SIMPLE}):(0,e.jsx)(ri.Z,(0,c.Z)((0,c.Z)({},y),{},{envData:X,base_index:T}))]})]},y.suite_id)}):(0,e.jsx)(tt.Z,{image:tt.Z.PRESENTED_IMAGE_SIMPLE})};return(0,e.jsxs)("div",{children:[(0,e.jsxs)(Ar,{id:"perf_item-".concat(E),className:"position_mark",isGroup:p==="group",children:[(0,e.jsx)(pa,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Et,{children:(0,e.jsx)(Ht,{name:Z.name,rowKey:Z.rowKey,btn:N,dataSource:d,setDataSource:P})}),(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return I(p,Z.name,Z.rowKey)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:N&&(0,e.jsx)(gt,{})}),!N&&(0,e.jsx)(he,{})]}),JSON.stringify(Z)!=="{}"&&Ve()]})},Sa=(0,i.memo)(li),Ca,ui=C.ZP.div(Ca||(Ca=(0,S.Z)([`
    background: #fff;
    position: fixed;
    /* top: 57px; */
    top: `,`px;
    height: 50px;
    border: 1px solid rgba(0,0,0,0.10);
    z-index: 5;
    width:`,`px;
    transform:translateY(`,`px);
`])),function(n){var t=n.top;return t||0},function(n){var t=n.width;return t||0},function(n){var t=n.y;return t||0}),ci=function(t){var a=t.groupRowRef,r=t.parentDom,o=t.groupLen,s=t.envData,v=(0,Za.Z)(document.querySelector("#report-body-container")),p=v.top,l=a.current,E=r.current;if(!l&&!E)return(0,e.jsx)(e.Fragment,{});var I=E.offsetTop||0,d=l==null?void 0:l.offsetWidth,P=p>I+l.offsetTop;return P?(0,e.jsx)(ui,{width:d,top:50,children:(0,e.jsx)(Wt,{style:{border:"none",paddingLeft:34,paddingRight:31},children:(0,e.jsxs)(Kt,{children:[(0,e.jsx)(Ur,{gLen:o,children:(0,e.jsx)(u._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(Ut.Z,{envData:s,group:o,isData:!0})]})})}):(0,e.jsx)(e.Fragment,{})},di=function(t){var a=(0,i.useContext)(Qe),r=a.btnState,o=a.obj,s=a.setObj,v=a.envData,p=a.domainResult,l=a.groupLen,E=a.isOldReport,I=a.routeName,d=a.saveReportData,P=(0,Xe.UO)(),A=P.report_id,N=(0,u.YB)(),b=(0,i.useRef)(null),T=(0,i.useRef)(null),Q=(0,i.useState)(""),X=(0,ne.Z)(Q,2),x=X[0],F=X[1],R=(0,i.useState)(!1),B=(0,ne.Z)(R,2),ue=B[0],h=B[1],_=(0,i.useState)([]),f=(0,ne.Z)(_,2),g=f[0],O=f[1],Z=(0,i.useMemo)(function(){var m;return h(((m=p.perf_conf)===null||m===void 0?void 0:m.show_type)==="list"),Array.isArray(p.perf_item)?p.perf_item:[]},[p]),G=function(){h(!ue)};(0,i.useEffect)(function(){F(ue?"chart":"table")},[ue]),(0,i.useEffect)(function(){O(Z)},[Z]);var K=function(H,J,$){O(ga(g,H,J,$))};(0,i.useEffect)(function(){if(g&&!!g.length){var m=[];g.map(function(H,J){if(H.is_group){var $;($=H.list)===null||$===void 0||$.map(function(ge,he){var Se=At(ge,J,he,"group",E);m.push({name:"".concat(H.name,":").concat(ge.name),suite_list:Se})})}else{var w=At(H,J,0,"item",E);m.push({name:H.name,suite_list:w})}}),s(function(H){return H.test_item.perf_data=m,H})}},[g]);var D=function(H){var J=d.perf_desc||[],$=J.filter(function(w){return w.name===H}).filter(Boolean).at(0);return $};return(0,e.jsxs)(dt,{id:"test_data",className:"position_mark",style:{width:l>3?l*390:1200,position:"relative"},ref:b,children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(u._H,{id:"report.test.data"})]}),(0,e.jsx)(Wt,{ref:T,style:{paddingLeft:34,paddingRight:31},children:(0,e.jsxs)(Kt,{children:[(0,e.jsx)(Ur,{gLen:l,children:(0,e.jsx)(u._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(Ut.Z,{envData:v,group:l,isData:!0})]})}),(0,e.jsx)(ci,{groupRowRef:T,parentDom:b,envData:v,groupLen:l}),(p.is_default||!p.is_default&&p.need_perf_data)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ke.Z,{justify:"space-between",children:[(0,e.jsx)(Nr,{id:"perf_item",className:"position_mark",children:(0,e.jsx)(u._H,{id:"performance.test"})}),(0,e.jsx)(Bt.Z,{onClick:G,style:{marginTop:12},children:x==="chart"?(0,e.jsx)(u._H,{id:"report.chart.btn"}):(0,e.jsx)(u._H,{id:"report.table.btn"})})]}),(0,e.jsx)(Hr,{children:Array.isArray(g)&&!!g.length?g==null?void 0:g.map(function(m,H){var J,$=D(m.name);return(0,e.jsx)("div",{children:m.is_group?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Jt,{id:"pref_item-".concat(m.rowKey),className:"position_mark",children:[(0,e.jsx)(aa,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Et,{children:(0,e.jsx)(Ht,{name:m.name,rowKey:m.rowKey,btn:r,dataSource:g,setDataSource:O})}),(0,e.jsx)(lt.Z,{title:(0,e.jsx)(u._H,{id:"delete.prompt"}),onConfirm:function(){return K("item",m.name,m.rowKey)},cancelText:(0,e.jsx)(u._H,{id:"operation.cancel"}),okText:(0,e.jsx)(u._H,{id:"operation.delete"}),children:r&&(0,e.jsx)(gt,{})})]}),(($==null?void 0:$.desc)||I==="EditReport")&&(0,e.jsx)(tn,{default_state:I==="EditReport",title:m.name,value:$==null?void 0:$.desc,report_id:A,item_id:$==null?void 0:$.item_id,item_name:m.name,placeholder:N.formatMessage({id:"report.group.desc.placeholder"})}),(J=m.list)===null||J===void 0?void 0:J.map(function(w,ge){return(0,e.jsx)("div",{children:(0,e.jsx)(Sa,{child:w,name:"group",btn:ue,id:w.rowKey,dataSource:g,setDataSource:O,onDelete:K})},w==null?void 0:w.rowKey)})]}):(0,e.jsx)(Sa,{child:m,name:"item",btn:ue,id:m.rowKey,dataSource:g,setDataSource:O,onDelete:K})},m==null?void 0:m.rowKey)}):(0,e.jsx)(tt.Z,{image:tt.Z.PRESENTED_IMAGE_SIMPLE})})]}),p.is_default&&(0,e.jsx)(ya,{}),!p.is_default&&p.need_func_data&&(0,e.jsx)(ya,{})]})},pi=(0,i.memo)(di),os=j(68501),fi=j(98501),Ra,Oa,wa,vi=["svgRef","title"];function It(){return It=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n},It.apply(this,arguments)}function mi(n,t){if(n==null)return{};var a=gi(n,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(a[r]=n[r]))}return a}function gi(n,t){if(n==null)return{};var a={},r=Object.keys(n),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(a[o]=n[o]);return a}var hi=function(t){var a=t.svgRef,r=t.title,o=mi(t,vi);return i.createElement("svg",It({width:"20px",height:"78px",viewBox:"0 0 20 78",ref:a},o),r===void 0?Ra||(Ra=i.createElement("title",null,"\u5C55\u5F00")):r?i.createElement("title",null,r):null,Oa||(Oa=i.createElement("defs",null,i.createElement("path",{d:"M1.23076923,4.48717949 L12,0 L12,0 L12,70 L1.23076923,65.5128205 C0.485475353,65.2022814 -2.76958888e-15,64.4740684 0,63.6666667 L0,6.33333333 C-3.20922796e-16,5.52593163 0.485475353,4.7977186 1.23076923,4.48717949 Z",id:"path-1"}),i.createElement("filter",{x:"-50.0%",y:"-8.6%",width:"200.0%",height:"117.1%",filterUnits:"objectBoundingBox",id:"filter-2"},i.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0.833106884   0 0 0 0 0.82924932   0 0 0 0 0.82924932  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})))),wa||(wa=i.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u7248-\\u76EE\\u5F55\\u9ED8\\u8BA4\\u5C55\\u5F00",transform:"translate(-195.000000, -56.000000)",fillRule:"nonzero"},i.createElement("g",{id:"Group-5",transform:"translate(0.000000, 50.000000)"},i.createElement("g",{id:"\\u5C55\\u5F00",transform:"translate(205.000000, 45.000000) scale(-1, 1) translate(-205.000000, -45.000000) translate(199.000000, 10.000000)"},i.createElement("use",{fill:"black",fillOpacity:1,filter:"url(#filter-2)",xlinkHref:"#path-1"}),i.createElement("use",{fill:"#FFFFFF",xlinkHref:"#path-1"})))))))},xi=i.forwardRef(function(n,t){return i.createElement(hi,It({svgRef:t},n))}),is=j.p+"static/collapsed.547a2326.svg",_i=j(89948),ji=j(44785),bi=function(){var t=(0,u.YB)(),a=t.formatMessage,r=(0,i.useContext)(Qe),o=r.domainResult,s=r.collapsed,v=r.setDomainResult,p=r.setCollapsed,l=(0,i.useState)(3),E=(0,ne.Z)(l,2),I=E[0],d=E[1],P=function h(_,f,g,O){var Z=g.dragOverGapTop,G=g.dragOverGapBottom;if(f.key===g.key)return g.is_group?Z?_.concat(O,f):G?_.concat((0,c.Z)((0,c.Z)({},f),{},{children:f.children.concat(O)})):_.concat(f,O):Z?_.concat(O,f):_.concat(f,O);if(f.is_group){var K=f.list.reduce(function(D,m){return h(D,m,g,O)},[]);return _.concat((0,c.Z)((0,c.Z)({},f),{},{children:K}))}return _.concat(f)},A=function h(_,f){return _.is_group?{name:_.title,rowkey:"".concat(f),is_group:_.is_group,list:_.children.map(function(g,O){return h(g,"".concat(f,"-").concat(O))})}:{name:_.title,rowkey:"".concat(f),list:_.list}},N=function h(_){return _.reduce(function(f,g){return g.children&&g.children.length>0?f.concat(g.key,[].concat(h(g.children))):f.concat(g.key)},[])},b=function h(_,f,g,O){return _.is_group?(0,c.Z)((0,c.Z)({},_),{},{title:_.name,name:f,key:"".concat(O,"-").concat(g),allowDrop:!0,children:_.list.map(function(Z,G){return h(Z,f,G,"".concat(O,"-").concat(g))})}):(0,c.Z)((0,c.Z)({},_),{},{title:_.name,key:"".concat(O,"-").concat(g),name:f})},T=(0,i.useMemo)(function(){var h=["perf_item","func_item"];return h.map(function(_){var f=a(_==="perf_item"?{id:"performance.test"}:{id:"functional.test"}),g=_==="perf_item"?"need_perf_data":"need_func_data";if(o[_]&&o[g]){var O=o[_].map(function(G,K){return b(G,_,K,K+"")}),Z=N(O);return{treeData:O,expandkeys:Z,name:f,id:_,show:o[g]}}return{treeData:[],expandkeys:[],name:f,id:_,show:o[g]}})},[o]),Q=(0,i.useMemo)(function(){var h=[];return o.need_test_background&&h.push("need_test_background"),o.need_test_method&&h.push("need_test_method"),o.need_test_conclusion&&h.push("need_test_conclusion"),o.need_test_summary&&h.push("need_test_summary"),(o.need_test_env||o.need_env_description)&&h.push("need_test_env"),(o.need_perf_data||o.need_func_data)&&h.push("test_data"),h},[o]),X=function h(_,f,g){if(f.key===g.key)return _;if(f.is_group){var O=f.children.reduce(function(Z,G){return h(Z,G,g)},[]);return _.concat((0,c.Z)((0,c.Z)({},f),{},{children:O,list:O}),[])}return _.concat(f)},x=function(_){var f=_.event,g=_.node,O=_.dragNode,Z=_.dragNodesKeys;T.forEach(function(G){if(G.id===g.name){var K=G.treeData.reduce(function(H,J){return X(H,J,O)},[]),D=K.reduce(function(H,J){return P(H,J,g,O)},[]),m=D.map(function(H,J){return A(H,"".concat(J))});v((0,ma.ZP)(o,function(H){H[g.name]=m}))}})},F=function(_){var f={need_test_background:a({id:"report.test.background"}),need_test_method:a({id:"report.test.method"}),need_test_conclusion:a({id:"report.test.conclusion"}),need_test_summary:"Summary",need_test_env:a({id:"report.test.env"}),test_data:a({id:"report.test.data"})};return f[_]},R=(0,Ot.throttle)(function(h){var _=h.target.scrollTop,f=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),g=document.querySelectorAll(".position_mark");if(_<120){for(var O=0;O<f.length;O++)f[O].classList.remove("toc-selected");d(void 0)}else for(var Z=0;Z<g.length;Z++){var G,K=document.querySelector("#".concat(g[Z].id)),D=document.querySelector("#left_".concat(g[Z].id));if((K==null||(G=K.offsetParent)===null||G===void 0?void 0:G.offsetTop)===0){if((K==null?void 0:K.offsetTop)-1<=_){for(var m=0;m<f.length;m++){var H;(H=f[m])===null||H===void 0||H.classList.remove("toc-selected")}D==null||D.classList.add("toc-selected"),d(D==null?void 0:D.offsetTop)}}else{var J;if((K==null||(J=K.offsetParent)===null||J===void 0?void 0:J.offsetTop)+(K==null?void 0:K.offsetTop)-52<=_){for(var $=0;$<f.length;$++){var w;(w=f[$])===null||w===void 0||w.classList.remove("toc-selected")}D==null||D.classList.add("toc-selected");var ge=D==null?void 0:D.id.substring(5,14),he=document.querySelector("#left_".concat(ge)).offsetTop,Se=document.querySelector("#left_tree_".concat(ge)).offsetTop;if(D.attributes.class.nodeValue=="toc-selected")if((D==null?void 0:D.id)==="left_perf_item"||(D==null?void 0:D.id)==="left_func_item")d(he);else{var Ge=D.offsetParent.offsetTop;d(Se+Ge)}else{var $e=D.children[0].children[0].offsetParent.offsetTop;d(Se+$e)}}}}},200);(0,i.useEffect)(function(){return window.addEventListener("scroll",R,!0),function(){window.removeEventListener("scroll",R,!0)}},[]);var B=function(_){for(var f,g=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),O=0;O<g.length;O++)g[O].classList.remove("toc-selected");var Z=document.querySelector("#left_".concat(_));if(Z==null||Z.classList.add("toc-selected"),d(Z==null?void 0:Z.offsetTop),(f=document.querySelector("#".concat(_)))===null||f===void 0||f.scrollIntoView(),(Z==null?void 0:Z.id)==="left_perf_item"||(Z==null?void 0:Z.id)==="left_func_item"){var G;(G=document.querySelector("#report-body-container"))===null||G===void 0||G.scrollBy({top:-52})}},ue=function(_,f){for(var g,O,Z,G=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),K=0;K<G.length;K++)G[K].classList.remove("toc-selected");var D=f.node,m=D.rowKey,H=D.name,J="".concat(H,"-").concat(m),$=document.querySelector("#left_".concat(J));$.classList.add("toc-selected");var w=f==null||(g=f.nativeEvent)===null||g===void 0?void 0:g.target,ge=document.querySelector("#left_tree_".concat(D.name)).offsetTop;if(w.attributes.class.nodeValue=="toc-selected"){var he=w.offsetParent.offsetTop;d(ge+he)}else{var Se=w.children[0].children[0].offsetParent.offsetTop;d(ge+Se)}(O=document.querySelector("#".concat(J)))===null||O===void 0||O.scrollIntoView(),(Z=document.querySelector("#report-body-container"))===null||Z===void 0||Z.scrollBy({top:-52})};return(0,e.jsxs)(qa,{collapsed:s,children:[(0,e.jsxs)(Qa,{onClick:function(){return p(!s)},children:[(0,e.jsx)(xi,{}),(0,e.jsx)(Xa,{children:s?(0,e.jsx)(_i.Z,{title:a({id:"operation.expand"})}):(0,e.jsx)(ji.Z,{title:a({id:"operation.collapse"})})})]}),(0,e.jsxs)(xr,{children:[(0,e.jsx)(eo,{children:(0,e.jsx)(Ee.Z.Text,{strong:!0,children:(0,e.jsx)(u._H,{id:"report.catalogue"})})}),(0,e.jsxs)(ke.Z,{style:{position:"relative",paddingLeft:13,borderLeft:"1px solid #e5e5e5"},id:"left-catalog-wrapper",children:[I>0&&(0,e.jsx)(no,{count:I,children:(0,e.jsx)(ro,{})}),(0,e.jsxs)(Ue.Z,{direction:"vertical",style:{width:"100%"},className:"spaceWarpper",children:[Q.map(function(h,_){return(0,e.jsx)("div",{className:"markSpace",children:(0,e.jsx)("span",{onClick:function(){return B(h)},id:"left_".concat(h),style:{cursor:"pointer"},children:F(h)})},h+_)}),T.map(function(h,_){return h.show?(0,e.jsxs)(_r,{className:"markSpace",children:[(0,e.jsx)("span",{onClick:function(g){return B(h.id)},id:"left_".concat(h.id),style:{cursor:"pointer"},children:h.name}),(0,e.jsx)(_r,{id:"left_tree_".concat(h.id),style:{marginTop:h.treeData.length>0?8:0},children:(0,e.jsx)(fi.Z,{treeData:h.treeData,onDrop:x,draggable:!0,switcherIcon:(0,e.jsx)(e.Fragment,{}),blockNode:!0,titleRender:function(g){return(0,e.jsx)("span",{id:"left_".concat(g.name,"-").concat(g.rowKey),children:g.title})},expandedKeys:h.expandkeys,onSelect:ue})})]},_):null})]})]})]})]})},yi=(0,i.memo)(bi),Ea=j(28739),Zi=j(15401),Si=function(t){var a=(0,i.useState)([]),r=(0,ne.Z)(a,2),o=r[0],s=r[1],v=(0,i.useState)(!0),p=(0,ne.Z)(v,2),l=p[0],E=p[1],I=(0,i.useState)([]),d=(0,ne.Z)(I,2),P=d[0],A=d[1],N=(0,i.useState)(1),b=(0,ne.Z)(N,2),T=b[0],Q=b[1],X={need_test_suite_description:!0,need_test_env:!0,need_test_description:!0,need_test_conclusion:!0,show_type:"list",test_data:!1},x=(0,i.useState)({func_data_result:[],perf_data_result:[]}),F=(0,ne.Z)(x,2),R=F[0],B=F[1],ue=(0,i.useState)({name:"",is_default:!1,need_test_background:!0,need_test_method:!0,need_test_summary:!0,need_test_conclusion:!0,need_test_env:!0,need_env_description:!0,need_func_data:!1,need_perf_data:!1,description:"",perf_conf:X,func_conf:X,perf_item:[],func_item:[]}),h=(0,ne.Z)(ue,2),_=h[0],f=h[1],g=(0,Xe.UO)(),O=g.ws_id,Z=t.history.location.state,G=Z.environmentResult,K=G===void 0?{}:G,D=Z.baselineGroupIndex,m=D===void 0?0:D,H=Z.allGroupData,J=H===void 0?[]:H,$=Z.testDataParam,w=$===void 0?{}:$,ge=Z.compareGroupData,he=ge===void 0?{}:ge,Se=Z.domainGroupResult,Ge=Se===void 0?{}:Se,$e=Z.saveReportData,ze=$e===void 0?{}:$e,Pe=function(){var te=(0,ot.Z)((0,Me.Z)().mark(function se(ve){var ce;return(0,Me.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,Zi.on)(ve);case 2:return ce=W.sent,W.abrupt("return",ce);case 4:case"end":return W.stop()}},se)}));return function(ve){return te.apply(this,arguments)}}(),Ve=function(){var te=(0,ot.Z)((0,Me.Z)().mark(function se(ve){var ce,L,W,re,z;return(0,Me.Z)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:E(!0),ce=ve.perf_suite_dic,L=ve.func_suite_dic,W=[],re=[],ce&&JSON.stringify(ce)!=="{}"&&(W=(0,Ea.$7)(ce)),L&&JSON.stringify(L)!=="{}"&&(re=(0,Ea.$7)(L)),z=[],z=W.concat(re),Q(z.length),z.map(function(ie,xe){return Pe(ie).then(function(le){if(le.code===200&&(E(!1),le.data.test_type==="functional"&&(R.func_data_result=R.func_data_result.concat(le.data)),le.data.test_type==="performance"&&(R.perf_data_result=R.perf_data_result.concat(le.data))),B((0,c.Z)({},R)),le.code!==200){ct.default.error(le.msg);return}})});case 10:case"end":return de.stop()}},se)}));return function(ve){return te.apply(this,arguments)}}();(0,i.useEffect)(function(){JSON.stringify(w)!=="{}"&&Ve(w)},[w]);var q=R.func_data_result,y=R.perf_data_result,M=(0,i.useMemo)(function(){var te=y.length,se=q.length;return te+se},[R]),V=function(){var te=(0,ot.Z)((0,Me.Z)().mark(function se(){var ve;return(0,Me.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,(0,it.PL)({id:ze.template,ws_id:O});case 2:return ve=L.sent,L.abrupt("return",ve);case 4:case"end":return L.stop()}},se)}));return function(){return te.apply(this,arguments)}}(),fe=(0,i.useMemo)(function(){return ze.is_default},[ze]);(0,i.useEffect)(function(){if(fe){var te=new Object,se=[],ve=[];Object.keys(Ge).forEach(function(xe,le){var Y=Ge[xe];xe=="functional"?Object.keys(Y).forEach(function(Ce){var Ke=Y[Ce],Ie=[];Object.keys(Ke).forEach(function(Fe){var we=Ke[Fe];Ie.push({test_suite_id:Fe,case_source:we})}),se.push({name:Ce,list:Ie})}):Object.keys(Y).forEach(function(Ce){var Ke=Y[Ce],Ie=[];Object.keys(Ke).forEach(function(Fe){var we=Ke[Fe];Ie.push({test_suite_id:Fe,case_source:we})}),ve.push({name:Ce,list:Ie})})}),te.func_item=se,te.perf_item=ve;var ce=[],L=[];if(JSON.stringify(te)!=="{}"){if(te.perf_item&&!!te.perf_item.length&&y.length)for(var W=function(le,Y){if(le[Y].is_group){for(var Ce=[],Ke=function(He,Re){for(var be=[],me=[],oe=function(Ze,Te){y.map(function(Oe,Ne){Number(Oe.suite_id)==Number(Ze[Te].test_suite_id)&&be.push((0,c.Z)((0,c.Z)({},Oe),{},{test_suite_description:Ze[Te].test_tool,rowKey:"".concat(Y,"-").concat(Re,"-").concat(Te)}))}),Ze[Te].case_source.map(function(Oe){me.push(Oe.test_conf_id||Oe)})},De=He[Re].list,Le=0;Le<De.length;Le++)oe(De,Le);for(var ye=0;ye<be.length;ye++)be[ye].conf_list=be[ye].conf_list.filter(function(_e,Ze){return me.includes(Number(_e.conf_id))});Ce.push({name:He[Re].name,rowKey:"".concat(Y,"-").concat(Re),list:be})},Ie=le[Y].list,Fe=0;Fe<Ie.length;Fe++)Ke(Ie,Fe);ce.push({name:le[Y].name,rowKey:"".concat(Y),is_group:!0,list:Ce})}else(function(){for(var we=[],He=[],Re=function(Le,ye){y.map(function(_e,Ze){_e.suite_id==Le[ye].test_suite_id&&we.push((0,c.Z)((0,c.Z)({},_e),{},{test_suite_description:Le[ye].test_tool,rowKey:"".concat(Y,"-").concat(ye)}))}),Le[ye].case_source.map(function(_e){He.push(_e.test_conf_id||_e)})},be=le[Y].list,me=0;me<be.length;me++)Re(be,me);for(var oe=0;oe<we.length;oe++)we[oe].conf_list=we[oe].conf_list.filter(function(De,Le){return He.includes(Number(De.conf_id))});ce.push({name:le[Y].name,rowKey:"".concat(Y),list:we})})()},re=te.perf_item,z=0;z<re.length;z++)W(re,z);if(te.func_item&&!!te.func_item.length&&q.length)for(var pe=function(le,Y){if(le[Y].is_group){for(var Ce=[],Ke=function(He,Re){for(var be=[],me=[],oe=function(Ze,Te){q.map(function(Oe,Ne){Number(Oe.suite_id)===Number(Ze[Te].test_suite_id)&&be.push((0,c.Z)((0,c.Z)({},Oe),{},{rowKey:"".concat(Y,"-").concat(Te)}))}),Ze[Te].case_source.map(function(Oe){me.push(Oe.test_conf_id||Oe)})},De=He[Re].list,Le=0;Le<De.length;Le++)oe(De,Le);for(var ye=0;ye<be.length;ye++)be[ye].conf_list=be[ye].conf_list.filter(function(_e,Ze){return me.includes(Number(_e.conf_id))});Ce.push({name:He[Re].name,rowKey:"".concat(Y,"-").concat(Re),list:be})},Ie=le[Y].list,Fe=0;Fe<Ie.length;Fe++)Ke(Ie,Fe);L.push({name:le[Y].name,rowKey:"".concat(Y),is_group:!0,list:Ce})}else(function(){for(var we=[],He=[],Re=function(Le,ye){q.map(function(_e,Ze){Number(_e.suite_id)===Number(Le[ye].test_suite_id)&&we.push((0,c.Z)((0,c.Z)({},_e),{},{rowKey:"".concat(Y,"-").concat(ye)}))}),Le[ye].case_source.map(function(_e){He.push(_e.test_conf_id||_e)})},be=le[Y].list,me=0;me<be.length;me++)Re(be,me);for(var oe=0;oe<we.length;oe++)we[oe].conf_list=we[oe].conf_list.filter(function(De,Le){return He.includes(Number(De.conf_id))});L.push({name:le[Y].name,rowKey:"".concat(Y),list:we})})()},de=te.func_item,ie=0;ie<de.length;ie++)pe(de,ie);f((0,c.Z)((0,c.Z)({},_),{},{is_default:!0,perf_item:ce,func_item:L})),E(!1)}}else V().then(function(xe){if(xe.code===200){var le=[],Y=[],Ce=xe.data;if(JSON.stringify(Ce)!=="{}"){if(Ce.perf_item&&!!Ce.perf_item.length)for(var Ke=function(me,oe){if(me[oe].is_group){for(var De=[],Le=function(Te,Oe){for(var Ne=[],Je=[],Ye=function(rt,pt){y==null||y.map(function(et,Pa){Number(et.suite_id)==Number(rt[pt].test_suite_id)&&Ne.push((0,c.Z)((0,c.Z)({},et),{},{test_suite_description:rt[pt].test_tool,test_env:"",test_description:"",test_conclusion:"",rowKey:"".concat(oe,"-").concat(Oe,"-").concat(Pa)}))}),rt[pt].case_source.map(function(et){Je.push(et.test_conf_id||et)})},qe=Te[Oe].list,We=0;We<qe.length;We++)Ye(qe,We);for(var Ae=0;Ae<Ne.length;Ae++)Ne[Ae].conf_list=Ne[Ae].conf_list.filter(function(Be,rt){return Je.includes(Number(Be.conf_id))});De.push({name:Te[Oe].name,rowKey:"".concat(oe,"-").concat(Oe),list:Ne})},ye=me[oe].list,_e=0;_e<ye.length;_e++)Le(ye,_e);le.push({name:me[oe].name,rowKey:"".concat(oe),is_group:!0,list:De})}else(function(){for(var Ze=[],Te=[],Oe=function(We,Ae){y==null||y.map(function(Be,rt){Be.suite_id==We[Ae].test_suite_id&&Ze.push((0,c.Z)((0,c.Z)({},Be),{},{test_suite_description:We[Ae].test_tool,rowKey:"".concat(oe,"-").concat(Ae)}))}),We[Ae].case_source.map(function(Be){Te.push(Be.test_conf_id||Be)})},Ne=me[oe].list,Je=0;Je<Ne.length;Je++)Oe(Ne,Je);for(var Ye=0;Ye<Ze.length;Ye++)Ze[Ye].conf_list=Ze[Ye].conf_list.filter(function(qe,We){return Te.includes(Number(qe.conf_id))});le.push({name:me[oe].name,rowKey:"".concat(oe),list:Ze})})()},Ie=Ce.perf_item,Fe=0;Fe<Ie.length;Fe++)Ke(Ie,Fe);if(Ce.func_item&&!!Ce.func_item.length)for(var we=function(me,oe){if(me[oe].is_group){for(var De=[],Le=function(Te,Oe){for(var Ne=[],Je=[],Ye=function(rt,pt){q==null||q.map(function(et,Pa){Number(et.suite_id)===Number(rt[pt].test_suite_id)&&Ne.push((0,c.Z)((0,c.Z)({},et),{},{rowKey:"".concat(oe,"-").concat(pt)}))}),rt[pt].case_source.map(function(et){Je.push(et.test_conf_id||et)})},qe=Te[Oe].list,We=0;We<qe.length;We++)Ye(qe,We);for(var Ae=0;Ae<Ne.length;Ae++)Ne[Ae].conf_list=Ne[Ae].conf_list.filter(function(Be,rt){return Je.includes(Number(Be.conf_id))});De.push({name:Te[Oe].name,rowKey:"".concat(oe,"-").concat(Oe),list:Ne})},ye=me[oe].list,_e=0;_e<ye.length;_e++)Le(ye,_e);Y.push({name:me[oe].name,rowKey:"".concat(oe),is_group:!0,list:De})}else(function(){for(var Ze=[],Te=[],Oe=function(We,Ae){q==null||q.map(function(Be,rt){Number(Be.suite_id)===Number(We[Ae].test_suite_id)&&Ze.push((0,c.Z)((0,c.Z)({},Be),{},{rowKey:"".concat(oe,"-").concat(Ae)}))}),We[Ae].case_source.map(function(Be){Te.push(Be.test_conf_id||Be)})},Ne=me[oe].list,Je=0;Je<Ne.length;Je++)Oe(Ne,Je);for(var Ye=0;Ye<Ze.length;Ye++)Ze[Ye].conf_list=Ze[Ye].conf_list.filter(function(qe,We){return Te.includes(Number(qe.conf_id))});Y.push({name:me[oe].name,rowKey:"".concat(oe),list:Ze})})()},He=Ce.func_item,Re=0;Re<He.length;Re++)we(He,Re);f((0,c.Z)((0,c.Z)({},Ce),{},{perf_item:le,func_item:Y})),E(!1)}}else ct.default.error("\u81EA\u5B9A\u4E49\u6A21\u7248\u51FA\u9519")})},[Ge,fe,y,q]);var k=function(se,ve,ce,L){return se.reduce(function(W,re){return re[ve].reduce(function(z,pe,de){if(L===de)for(var ie in pe)z[ie]+=pe[ie];return z},ce)},ce)},ee=(0,i.useMemo)(function(){var te=K.compare_groups,se=te.reduce(function(L,W,re){var z=W.tag,pe=W.is_job,de={tag:z,is_job:pe,func_data:{},perf_data:{}};if(q&&!!q.length){var ie=k(q,"compare_count",{all_case:0,success_case:0,fail_case:0},re);de.func_data={funcAll:ie==null?void 0:ie.all_case,success:ie==null?void 0:ie.success_case,fail:ie==null?void 0:ie.fail_case}}if(y&&!!y.length){var xe=y.reduce(function(Y,Ce){var Ke=Ce.base_count.all;return Ke?Y+Ke:Y},0),le=k(y,"compare_count",{all:0,decline:0,increase:0},re);de.perf_data={perfAll:xe,decline:le.decline,increase:le.increase}}return L.concat(de)},[]),ve={},ce={tag:K.base_group.tag,is_job:1,func_data:{},perf_data:{}};return q&&!!q.length&&(ce=(0,c.Z)((0,c.Z)({},ce),{},{func_data:(0,c.Z)({},q.reduce(function(L,W){var re=W.base_count,z=re.all_case,pe=re.success_case,de=re.fail_case;return{funcAll:L.funcAll+z,success:L.success+pe,fail:L.fail+de}},{funcAll:0,success:0,fail:0}))})),ve.custom="-",ve.summary={base_group:ce,compare_groups:se},ve},[K,R]);(0,i.useMemo)(function(){var te=je().cloneDeep(ee),se=te==null?void 0:te.summary.compare_groups,ve=te==null?void 0:te.summary.base_group;se.splice(m,0,ve),s(se)},[ee]),(0,i.useMemo)(function(){var te=je().cloneDeep(K),se=te.compare_groups,ve=te.base_group;se.splice(m,0,ve),se.length>1&&m!==-1&&(se[m].is_group=!0),A(se)},[K]);var U=(0,i.useMemo)(function(){return J.filter(function(te){return te.members.length>0})},[J]),ae=(0,i.useMemo)(function(){return M!==T},[M,T]);return{environmentResult:K,allGroupData:U,baselineGroupIndex:m===-1?0:m,compareResult:R,compareGroupData:he,domainGroupResult:Ge,logoData:o,envData:P,summaryData:ee,domainResult:_,setDomainResult:f,loading:l,saveReportData:ze,isFlag:ae}},Da=function(t,a){var r=[];return Object.keys(t).map(function(o,s){var v;return r.push({name:o,rowKey:"".concat(a,"-").concat(s),list:(v=t[o])===null||v===void 0?void 0:v.map(function(p,l){return(0,c.Z)((0,c.Z)({},p),{},{rowKey:"".concat(a,"-").concat(s,"-").concat(l)})})})}),r},Ci=function(t){var a=(0,i.useState)(!0),r=(0,ne.Z)(a,2),o=r[0],s=r[1],v=(0,i.useState)({}),p=(0,ne.Z)(v,2),l=p[0],E=p[1],I=(0,i.useState)([]),d=(0,ne.Z)(I,2),P=d[0],A=d[1],N=(0,i.useState)(0),b=(0,ne.Z)(N,2),T=b[0],Q=b[1],X=(0,i.useState)(),x=(0,ne.Z)(X,2),F=x[0],R=x[1],B=(0,i.useState)({}),ue=(0,ne.Z)(B,2),h=ue[0],_=ue[1],f=(0,Xe.UO)(),g=f.report_id,O=function(){var H=(0,ot.Z)((0,Me.Z)().mark(function J(){var $,w,ge,he,Se,Ge,$e,ze,Pe,Ve,q,y,M,V,fe,k,ee,U,ae,te,se;return(0,Me.Z)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return s(!0),ce.next=3,(0,it.AX)({report_id:g});case 3:if($=ce.sent,w=$.code,ge=$.msg,he=$.data,w===200){ce.next=10;break}return(0,at.EV)(w,ge),ce.abrupt("return",(0,at.CT)(404));case 10:if(E(he),window.document.title=(he==null?void 0:he.name)||"T-one",Se=he.tmpl_id,Ge=he.ws_id,$e=he.creator,ze=he.template_detail,R($e),Pe=ze,!(!Pe||JSON.stringify(Pe)==="{}")){ce.next=23;break}if(Object.prototype.toString.call(Se)!=="[object Number]"){ce.next=23;break}return ce.next=19,(0,it.PL)({id:Se,ws_id:Ge});case 19:Ve=ce.sent,q=Ve.data,y=Ve.code,y===200&&(Pe=q);case 23:if(M=[],V=[],fe=he.test_item,k=fe.perf_data,ee=fe.func_data,JSON.stringify(k)!=="{}"&&Object.keys(k).map(function(L,W){if(je().isArray(k[L])){var re;M.push({name:L,rowKey:W,list:(re=k[L])===null||re===void 0?void 0:re.map(function(z,pe){return(0,c.Z)((0,c.Z)({},z),{},{rowKey:"".concat(W,"-").concat(pe)})})})}else M.push({name:L,rowKey:W,is_group:!0,list:Da(k[L],W)})}),JSON.stringify(ee)!=="{}"&&Object.keys(ee).map(function(L,W){je().isArray(ee[L])?V.push({name:L,rowKey:W,list:ee[L]}):V.push({name:L,rowKey:W,is_group:!0,list:Da(ee[L],W)})}),_((0,c.Z)((0,c.Z)({},Pe),{},{perf_item:M,func_item:V})),U=JSON.parse(he.test_env),U){for(ae=U==null?void 0:U.compare_groups,te=[],se=0;se<ae.length;se++)te.push(ae[se]);te.splice(U==null?void 0:U.base_index,0,U==null?void 0:U.base_group),A(te),Q((U==null?void 0:U.base_index)===void 0?0:U==null?void 0:U.base_index)}s(!1);case 32:case"end":return ce.stop()}},J)}));return function(){return H.apply(this,arguments)}}();(0,i.useEffect)(function(){O()},[]);var Z,G;l&&JSON.stringify(l)!=="{}"&&(Z=JSON.parse(l.test_conclusion),G=JSON.parse(l.test_env));var K={func_desc:l==null?void 0:l.func_desc,perf_desc:l==null?void 0:l.perf_desc,creator_name:l==null?void 0:l.creator_name,description:l==null?void 0:l.description,gmt_created:l==null?void 0:l.gmt_created,id:l==null?void 0:l.id,name:l==null?void 0:l.name,template:l==null?void 0:l.tmpl_id,old_report:l==null?void 0:l.old_report,report_source:l==null?void 0:l.report_source,test_background:l==null?void 0:l.test_background,test_method:l==null?void 0:l.test_method,test_conclusion:Z,test_env:G},D=(0,i.useMemo)(function(){if(Z&&JSON.stringify(Z)!=="{}"){var H=je().cloneDeep(Z),J=H==null?void 0:H.summary.compare_groups,$=H==null?void 0:H.summary.base_group;return J.splice(T,0,$),J}},[Z]),m=(0,i.useMemo)(function(){if(G&&JSON.stringify(G)!=="{}"){var H,J,$=je().cloneDeep(G);((H=G)===null||H===void 0||(J=H.compare_groups)===null||J===void 0?void 0:J.length)>0&&($.base_group.is_group=!0);var w=$==null?void 0:$.compare_groups,ge=$==null?void 0:$.base_group;return w.splice(T,0,ge),w}},[G]);return{environmentResult:G,allGroupData:P,baselineGroupIndex:T,logoData:D,envData:m,summaryData:Z,domainResult:h,setDomainResult:_,loading:o,saveReportData:K,wsId:l==null?void 0:l.ws_id,queryReport:O,creator:F}},Ri=function(t){var a=t.saveReportData,r=t.routeName,o=t.creator,s=(0,Xe.UO)(),v=s.report_id,p=s.ws_id,l=(0,u.YB)(),E=l.formatMessage,I=(0,Xe.TH)(),d=I.pathname,P=(0,u.md)(),A=(0,kt.oM)(E({id:"report.link.copied.successfully"}));return(0,e.jsxs)(ke.Z,{justify:"space-between",align:"middle",style:{height:50},children:[(0,e.jsxs)(ao,{children:[(0,e.jsx)(Mt.Z.Item,{children:(0,e.jsx)(jr,{onClick:function(){return u.m8.push("/ws/".concat(p,"/test_report"))},children:(0,e.jsx)(u._H,{id:"report.test.report"})})}),(0,e.jsx)(Mt.Z.Item,{children:(0,e.jsx)(oo,{onClick:function(){return u.m8.go(0)},children:(a==null?void 0:a.name)||"-"})})]}),!["EditReport","CreateReport"].includes(r)&&(0,e.jsxs)(Ue.Z,{children:[(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return A(location.origin+"/share/report/".concat(v))},children:(0,e.jsxs)(Ue.Z,{children:[(0,e.jsx)(Wa.r,{}),(0,e.jsx)(u._H,{id:"operation.share"})]})}),r!=="ShareReport"&&(0,e.jsx)(u.Nv,{accessible:P.WsTourist()&&P.WsMemberOperateSelf(o),fallback:(0,e.jsx)("span",{onClick:function(){return(0,at.WR)()},children:(0,e.jsxs)(Ue.Z,{align:"center",children:[(0,e.jsx)(Ka,{}),(0,e.jsx)(u._H,{id:"operation.edit"})]})}),children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){var b=d.lastIndexOf("/")===d.length-1?"edit":"/edit";u.m8.push("".concat(d).concat(d!=="EditReport"?b:""))},children:(0,e.jsxs)(Ue.Z,{align:"center",children:[(0,e.jsx)(ka,{}),(0,e.jsx)(u._H,{id:"operation.edit"})]})})})]})]})},La=["background_desc","test_method_desc"],Oi=["test_background","test_method","custom"],wi=function(t){var a=(0,u.YB)(),r=a.formatMessage,o=(0,Xe.UO)(),s=o.ws_id,v=t.route.name,p=(0,i.useState)(v==="EditReport"),l=(0,ne.Z)(p,2),E=l[0],I=l[1],d=(0,i.useState)(!1),P=(0,ne.Z)(d,2),A=P[0],N=P[1],b=(0,i.useState)(!1),T=(0,ne.Z)(b,2),Q=T[0],X=T[1],x=(0,kt.CR)(),F=x.height,R=(0,i.useRef)(null),B=(0,i.useState)({test_item:{func_data:[],perf_data:[]}}),ue=(0,ne.Z)(B,2),h=ue[0],_=ue[1],f=["Report","EditReport","ShareReport"].includes(v)?Ci(t):Si(t),g=f.environmentResult,O=f.allGroupData,Z=f.baselineGroupIndex,G=f.logoData,K=f.envData,D=f.summaryData,m=f.domainResult,H=f.compareGroupData,J=f.setDomainResult,$=f.loading,w=f.saveReportData,ge=f.wsId,he=f.queryReport,Se=f.isFlag,Ge=f.creator,$e=O==null?void 0:O.length;i.useEffect(function(){window.document.title="".concat(w.name||""," - T-one")},[w.name]),(0,i.useEffect)(function(){v==="Report"||v==="ShareReport"?I(!1):(I(!0),_(function(q){return q.test_env=g,q}))},[g]),i.useEffect(function(){w!=null&&w.id||D&&D!==void 0&&JSON.stringify(m)!=="{}"&&_(function(q){return Oi.forEach(function(y,M){if(y==="custom"){if(D&&D!==void 0){var V;D[y]=(w==null||(V=w.test_conclusion)===null||V===void 0?void 0:V.custom)||(m==null?void 0:m.test_conclusion_desc),q.test_conclusion=D}}else(!q[y]&&w!==null&&w!==void 0&&w[y]||m!=null&&m[La[M]])&&(q[y]=(w==null?void 0:w[y])||(m==null?void 0:m[La[M]]))}),q})},[w,m,D]);var ze=function(){var y=[];return je().isArray(O)&&(y=je().reduce(O,function(M,V){var fe=je().isArray(je().get(V,"members"))?je().get(V,"members"):[];return fe.forEach(function(k){k&&k.id&&M.push(k.id)}),M},[])),y},Pe=function(){var q=(0,ot.Z)((0,Me.Z)().mark(function y(){var M,V;return(0,Me.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(N(!0),h.product_version=w.productVersion,h.project_id=w.project,h.report_source="job",h.tmpl_id=w.template,h.ws_id=s,h.job_li=ze(),h.name=w.name,Object.prototype.toString.call(Z)==="[object Number]"&&(h.test_env.base_index=Z),!w.id){k.next=18;break}return h.report_id=w.id,delete h.test_env.text,k.next=14,(0,it.Me)(h);case 14:M=k.sent,M.code===200?(ct.default.success(r({id:"report.update.report.succeeded"})),he(),u.m8.push("/ws/".concat(s,"/test_report/").concat(w.id))):(0,at.EV)(M.code,M.msg),k.next=22;break;case 18:return k.next=20,(0,it.iE)(h);case 20:V=k.sent,V.code===200?(ct.default.success(r({id:"report.saved.successfully"})),u.m8.push("/ws/".concat(s,"/test_report?t=list"))):(0,at.EV)(V.code,V.msg);case 22:N(!1);case 23:case"end":return k.stop()}},y)}));return function(){return q.apply(this,arguments)}}(),Ve=i.useRef(null);return(0,e.jsx)(Qe.Provider,{value:{btnState:E,obj:h,saveReportData:w,allGroupData:O,compareGroupData:H,logoData:G,envData:K,routeName:v,btnConfirm:A,baselineGroupIndex:Z,domainResult:m,setDomainResult:J,summaryData:D,environmentResult:g,collapsed:Q,groupLen:$e,bodyRef:R,wsId:ge,creator:Ge,isOldReport:w==null?void 0:w.old_report,setCollapsed:X,setObj:_,containerRef:Ve},children:(0,e.jsx)(Ta.Z,{spinning:$,children:(0,e.jsxs)(Ya,{height:F-50,style:{paddingBottom:["EditReport","CreateReport"].includes(v)?50:0},children:[(0,e.jsx)(yi,{}),(0,e.jsx)(Ua,{id:"report-body-container",ref:Ve,collapsed:Q,children:(0,e.jsxs)(Va,{ref:R,children:[(0,e.jsxs)(ut.Z,{span:24,children:[!!s&&(0,e.jsx)(Ri,{saveReportData:w,routeName:v,creator:Ge}),(0,e.jsx)(So,{}),(0,e.jsx)(Ro,{}),(0,e.jsxs)("div",{style:{width:1200},children:[(m==null?void 0:m.is_default)&&(0,e.jsx)(ta,{}),(m==null?void 0:m.is_default)&&(0,e.jsx)(na,{}),!(m!=null&&m.is_default)&&(m==null?void 0:m.need_test_summary)&&(0,e.jsx)(ta,{}),!(m!=null&&m.is_default)&&(m==null?void 0:m.need_test_env)&&(0,e.jsx)(na,{}),(0,e.jsx)(pi,{})]})]}),["EditReport","CreateReport"].includes(v)&&(0,e.jsx)(ke.Z,{align:"middle",justify:"end",style:{height:50,position:"fixed",bottom:0,left:0,width:"100%",backgroundColor:"#fff",paddingRight:20,boxShadow:"0 0 10px 0 rgba(0,0,0,0.06)"},children:(0,e.jsx)(Bt.Z,{type:"primary",disabled:A,onClick:Pe,loading:Se,children:w!=null&&w.id?(0,e.jsx)(u._H,{id:"operation.update"}):(0,e.jsx)(u._H,{id:"operation.save"})})})]})})]})})})},Ei=wi}}]);
