(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[4124],{86504:function(M,P,e){"use strict";e.d(P,{Z:function(){return C}});var A=e(28991),m=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},p=R,L=e(27029),h=function(j,s){return m.createElement(L.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:s,icon:p}))},U=m.forwardRef(h),C=U},22263:function(M,P,e){"use strict";e.d(P,{Z:function(){return C}});var A=e(28991),m=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"},p=R,L=e(27029),h=function(j,s){return m.createElement(L.Z,(0,A.Z)((0,A.Z)({},j),{},{ref:s,icon:p}))},U=m.forwardRef(h),C=U},95949:function(M){M.exports={table_question_tooltip:"table_question_tooltip___2k4VQ"}},98273:function(M){M.exports={cover:"cover___3PIkw"}},7253:function(M){M.exports={popover_group:"popover_group___j2Kz6",job_compare:"job_compare___3XF0q",title:"title___3eiur",job_card:"job_card___1MV_c",job_index:"job_index___24peF",job_detail:"job_detail___37loK",job_id:"job_id___6_EU3",job_creator:"job_creator___3dH-U",remove_active:"remove_active___1zgwl",remove:"remove___i7J9x",job_delete:"job_delete___2EJje",job_group:"job_group___3L14X",job_group_title:"job_group_title___crAIG",job_item:"job_item___2Yq-b",job_item_span:"job_item_span___31i5J",delete:"delete___3vces",operate:"operate___264-O",popover_job:"popover_job___TPuXS",hrefUrl:"hrefUrl___fKrDG",row_table:"row_table___fqOAE",question_icon:"question_icon___39kbo"}},99833:function(M,P,e){"use strict";e.d(P,{f:function(){return d}});var A=e(49111),m=e(19650),R=e(11849),p=e(22385),L=e(89456),h=e(93224),U=e(67294),C=e(95949),y=e.n(C),j=e(1870),s=e(85893),T=["desc","title"],d=function(g){var x=g.desc,F=g.title,w=(0,h.Z)(g,T);return(0,s.jsxs)(m.Z,{children:[(0,s.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:F}),(0,s.jsx)(L.Z,(0,R.Z)((0,R.Z)({overlayClassName:y().table_question_tooltip,placement:"bottomLeft",arrowPointAtCenter:!0},w),{},{title:x,color:"#fff",children:(0,s.jsx)(j.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})}))]})}},27687:function(M,P,e){"use strict";var A=e(49111),m=e(19650),R=e(57663),p=e(71577),L=e(48736),h=e(27049),U=e(43358),C=e(34041),y=e(20228),j=e(11382),s=e(39428),T=e(3182),d=e(2824),I=e(67294),g=e(20009),x=e(16917),F=e(90105),w=e(98273),ie=e.n(w),E=e(85893),q=function(u){var f=u.confirm,ee=u.onConfirm,i=u.value,z=u.page_size,te=u.mode,_=te===void 0?"multiple":te,ue=(0,g.UO)(),B=ue.ws_id,ce=(0,I.useState)([]),_e=(0,d.Z)(ce,2),H=_e[0],ne=_e[1],Ee=(0,I.useState)(),v=(0,d.Z)(Ee,2),oe=v[0],re=v[1],me=(0,I.useState)(),V=(0,d.Z)(me,2),J=V[0],se=V[1],fe=(0,I.useState)(!0),N=(0,d.Z)(fe,2),W=N[0],$=N[1],ve=(0,I.useState)(!1),G=(0,d.Z)(ve,2),D=G[0],Q=G[1],S=function(){var c=(0,T.Z)((0,s.Z)().mark(function b(Y){var K,k,Z;return(0,s.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(K=Y&&Y.replace(/\s*/g,""),!(oe&&oe==K)){O.next=3;break}return O.abrupt("return");case 3:return re(K),$(!0),O.next=7,(0,F.tR)({ws_id:B,keyword:K,page_size:z||10,page_num:1});case 7:k=O.sent,Z=k.data,ne(Array.isArray(Z)?Z:[]),$(!1);case 11:case"end":return O.stop()}},b)}));return function(Y){return c.apply(this,arguments)}}();(0,I.useEffect)(function(){S()},[]);var X=function(){S()};return(0,E.jsxs)("div",{style:{padding:8},children:[(0,E.jsx)("div",{className:ie().cover,onClick:function(){D||f==null||f()}}),(0,E.jsx)(C.Z,{mode:_,allowClear:!0,notFoundContent:W?(0,E.jsx)(j.Z,{size:"small"}):"Not Found",filterOption:!1,showSearch:!0,onSearch:S,style:{width:"100%"},onChange:function(b){return se(b)},onDeselect:X,onClear:X,showArrow:!1,autoFocus:!0,value:J,onFocus:function(){Q(!0)},onBlur:function(){setTimeout(function(){Q(!1)},200)},options:H==null?void 0:H.map(function(c){return{label:c.last_name,value:c.id}})}),(0,E.jsx)(h.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,E.jsxs)(m.Z,{children:[(0,E.jsx)(p.Z,{onClick:function(){f==null||f(),ee(J)},type:"link",size:"small",style:{width:75},children:(0,E.jsx)(x._H,{id:"operation.search"})}),(0,E.jsx)(p.Z,{type:"text",onClick:function(){f==null||f(),se(void 0),ee(void 0),S()},size:"small",style:{width:75,border:"none"},children:(0,E.jsx)(x._H,{id:"operation.reset"})})]})]})};P.Z=q},28686:function(M,P,e){"use strict";var A=e(20136),m=e(55241),R=e(57663),p=e(71577),L=e(402),h=e(97272),U=e(66456),C=e(79764),y=e(39428),j=e(3182),s=e(11849),T=e(2824),d=e(67294),I=e(7253),g=e.n(I),x=e(31298),F=e(37763),w=e.n(F),ie=e(39067),E=e(27687),q=e(99069),de=e(19675),u=e(16917),f=e(20009),ee=e(96486),i=e.n(ee),z=e(10753),te=e(71933),_=e(85893),ue={container:245,button_width:122};P.Z=function(B){var ce=(0,u.YB)(),_e=ce.formatMessage,H=(0,f.UO)(),ne=H.ws_id,Ee=B.dreType,v=B.jobInfo,oe=B.origin,re=B.buttonStyle,me=re===void 0?{}:re,V=B.title,J=v&&v.report_li,se={name:"",creator_name:""},fe=(0,d.useState)(!0),N=(0,T.Z)(fe,2),W=N[0],$=N[1],ve=(0,d.useState)(se),G=(0,T.Z)(ve,2),D=G[0],Q=G[1],S=(0,d.useState)([]),X=(0,T.Z)(S,2),c=X[0],b=X[1],Y=(0,d.useState)(!1),K=(0,T.Z)(Y,2),k=K[0],Z=K[1],De=d.useRef(null);(0,te.Z)(function(){Z(!1)},[De]);var O=function(t,n){var r=i().cloneDeep(n);return t&&(r=r.filter(function(a){var o=t.split(",").map(function(le){return le&&(le==null?void 0:le.trim())}),je=i().get(a,"creator");return o.includes(String(je))})),r},Oe=function(t,n){var r=i().cloneDeep(n);return t&&(r=r.filter(function(a){var o=i().get(a,"name");return o.includes(t.trim())})),r},Pe=function(t,n){var r=t||"";i().isArray(r)&&(r=r.join(","));var a={};a[n]=r;var o=i().cloneDeep(J);r===""?o=Oe(D.name||"",o):(o=Oe(D.name||"",o),o=O(r,o)),b(o),Q((0,s.Z)((0,s.Z)({},D),a))},pe=[{dataIndex:"name",title:(0,_.jsx)(u._H,{id:"ws.result.list.report.name"}),width:165,ellipsis:{showTitle:!1},className:"report_name_hover",filterDropdown:function(t){var n=t.confirm;return(0,_.jsx)(ie.Z,{confirm:n,autoFocus:W,styleObj:ue,onConfirm:function(a){var o=i().cloneDeep(J);a===void 0?o=O(D.creator_name||"",o):(o=O(D.creator_name||"",o),o=Oe(a,o)),b(o),Q((0,s.Z)((0,s.Z)({},D),{},{name:a}))},placeholder:_e({id:"ws.result.list.report.name.placeholder"})})},onFilterDropdownVisibleChange:function(t){t&&$(!W)},filterIcon:function(){return(0,_.jsx)(q.Z,{style:{color:D.name?"#1890ff":void 0}})},render:function(t,n){return(0,_.jsx)(z.K,{ellipsis:{tooltip:n.name},children:(0,_.jsx)(w(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[D.name||""],autoEscape:!0,textToHighlight:n&&n.name||"-",onClick:function(){return window.open("/ws/".concat(ne,"/test_report/").concat(n.id))}})})}},{dataIndex:"creator_name",width:100,title:(0,_.jsx)(u._H,{id:"ws.result.list.creators"}),filterDropdown:function(t){var n=t.confirm;return(0,_.jsx)(E.Z,{autoFocus:W,confirm:n,onConfirm:function(a){return Pe(a,"creator_name")},page_size:20})},onFilterDropdownVisibleChange:function(t){t&&$(!W)},filterIcon:function(){return(0,_.jsx)(q.Z,{style:{color:D.creator_name?"#1890ff":void 0}})},render:function(t){return(0,_.jsx)(z.K,{ellipsis:{tooltip:!0},children:t||"-"})}},{dataIndex:"gmt_created",title:(0,_.jsx)(u._H,{id:"ws.result.list.gmt_created"}),width:200,render:function(t){return(0,_.jsx)(z.K,{ellipsis:{tooltip:!0},children:t||"-"})}}],he=function(){var l=(0,j.Z)((0,y.Z)().mark(function t(n){return(0,y.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:window.open("/ws/".concat(ne,"/test_report/").concat(n));case 1:case"end":return a.stop()}},t)}));return function(n){return l.apply(this,arguments)}}(),Me=function(t,n){if(t.stopPropagation(),i().isArray(n)||(n=[]),n.length===1){he(n[0].id);return}Z(!k),b(n)},Ce=function(t){return(0,_.jsx)("div",{ref:De,children:(0,_.jsx)(x.$B,{style:{height:244},children:(0,_.jsx)(C.Z,{size:"small",rowKey:"id",columns:pe,dataSource:t,pagination:!1,rowClassName:g().row_table})})})},ae=i().get(v,"report_li")&&v.report_li.length;return(0,_.jsx)("div",{className:g().conf_item_box,children:(0,_.jsx)(m.Z,{placement:Ee,title:(0,_.jsx)(u._H,{id:"ws.result.list.view.report"}),content:Ce(c),trigger:"click",overlayClassName:g().popover_job,open:k,children:oe==="jobList"?(0,_.jsx)(h.Z.Text,{style:{color:"#1890FF",cursor:"pointer",display:ae?"inlineBlock":"none"},children:(0,_.jsxs)("span",{onClick:i().partial(Me,i(),v&&v.report_li),style:{display:"flex",alignItems:"center"},children:[V||(0,_.jsx)(u._H,{id:"ws.result.list.view.report"}),(0,_.jsx)(de.Z,{style:{display:ae>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})}):(0,_.jsxs)(p.Z,{type:"primary",onClick:i().partial(Me,i(),v&&v.report_li),style:(0,s.Z)({marginRight:8,display:ae?"inlineBlock":"none"},me),children:[V||(0,_.jsx)(u._H,{id:"ws.result.list.view.report"}),(0,_.jsx)(de.Z,{style:{display:ae>1?"inline-block":"none",marginLeft:"2px",marginTop:"2px"}})]})})})}}}]);
