(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[804],{59e3:function(Ae){Ae.exports={code_wrapper:"code_wrapper___3eANK"}},28075:function(Ae){Ae.exports={picker:"picker___uSvFT",waves:"waves___3JsYm"}},87204:function(Ae){Ae.exports={step_table_popover:"step_table_popover___1f0Zw",prep_test_conf_row:"prep_test_conf_row___19C03",popover_text_span:"popover_text_span___U51QY",prepTable:"prepTable___peGpw",buildTable:"buildTable___1mFuX",buildWrap:"buildWrap___1ORko",buildChild:"buildChild___3rdXh",buildName:"buildName___2BsvL",buildDetail:"buildDetail___2n-Br",buildCopy:"buildCopy___3X5js",process_suite_table_cls:"process_suite_table_cls___2_nEr"}},6547:function(Ae){Ae.exports={expandConf:"expandConf___3BXhT",expandIndex:"expandIndex___1kNdp",result_expand_table:"result_expand_table___2vQfW",result_info_table_head:"result_info_table_head___1GDEA",result_info_table_row:"result_info_table_row___2DLWy",column_circle_text:"column_circle_text___pXv4B",edit:"edit___2nvH1",file_icon:"file_icon___11_1k",dir_icon:"dir_icon___1qN2O",resultCaseTableCls:"resultCaseTableCls___U7YMc"}},64685:function(Ae){Ae.exports={setting_info_table:"setting_info_table___1ZOsw",label_style_form:"label_style_form___2imbA",label_style_form_en:"label_style_form_en___3Nm3-",job_test_form:"job_test_form___1r3-Z",pers_select:"pers_select___1FSND",join_persbaseline:"join_persbaseline___1_0tA",customCardCls:"customCardCls___1hVKa",test_suite_server_table:"test_suite_server_table___Pzj6m"}},53847:function(Ae){Ae.exports={test_result_name:"test_result_name___1v7Kr",test_summary_item:"test_summary_item___3O54P",test_summary_item_right:"test_summary_item_right___6YC7G",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___cXNoX",test_summary_row:"test_summary_row___3ciVC",detail_collection:"detail_collection___q_uDD",offline_flag:"offline_flag___3dYdc",result_tab_nav:"result_tab_nav___xfr-a","ant-tabs-bar":"ant-tabs-bar___lp4GA"}},18370:function(){},17286:function(Ae,lt,c){"use strict";var Te=c(61679),He=c.n(Te),Qe=c(4974),pe=c.n(Qe),xt=c(51935),ct=c.n(xt),gt=c(48304),ke=c(59e3),ut=c.n(ke),H=c(52454);lt.Z=function(De){var P=De.code,Ne=De.onChange,We=De.readOnly,st=We===void 0?!1:We,oe=De.mode,ft=oe===void 0?"shell":oe;return(0,H.jsx)(gt.fk,{value:P,className:ut().code_wrapper,options:{theme:"monokai",keyMap:"sublime",lineNumbers:ft==="yaml",mode:ft,readOnly:st},onBeforeChange:function(yt,at,wt){return Ne(wt)}})}},75667:function(Ae,lt,c){"use strict";c.d(lt,{$x:function(){return xt},X6:function(){return gt},cm:function(){return ut},BG:function(){return De},BS:function(){return oe},Ti:function(){return ft},iB:function(){return $e},F$:function(){return yt},x1:function(){return at},Sy:function(){return ce},Rp:function(){return Dt},Tv:function(){return Me},rc:function(){return f},aB:function(){return q},Yh:function(){return Se},mN:function(){return C},L0:function(){return Ht},MH:function(){return Ke},oz:function(){return n},XW:function(){return Ie},vu:function(){return Ze}});var Te=c(35832),He=c(20418),Qe=c(32326),pe=c(22812);function xt(){return ct.apply(this,arguments)}function ct(){return ct=(0,Qe.Z)((0,Te.Z)().mark(function J(){var xe,ye=arguments;return(0,Te.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return xe=ye.length>0&&ye[0]!==void 0?ye[0]:{},Ee.abrupt("return",(0,pe.WY)("/api/server/cloud_server/",{params:xe}));case 2:case"end":return Ee.stop()}},J)})),ct.apply(this,arguments)}function gt(){return ke.apply(this,arguments)}function ke(){return ke=(0,Qe.Z)((0,Te.Z)().mark(function J(){var xe,ye=arguments;return(0,Te.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return xe=ye.length>0&&ye[0]!==void 0?ye[0]:{},Ee.abrupt("return",(0,pe.WY)("/api/server/cloud_server/",{method:"POST",data:(0,He.Z)({},xe)}));case 2:case"end":return Ee.stop()}},J)})),ke.apply(this,arguments)}function ut(J){return H.apply(this,arguments)}function H(){return H=(0,Qe.Z)((0,Te.Z)().mark(function J(xe){var ye,Ue=arguments;return(0,Te.Z)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return ye=Ue.length>1&&Ue[1]!==void 0?Ue[1]:{},fe.abrupt("return",(0,pe.WY)("/api/server/cloud_server/detail/".concat(xe,"/"),{method:"PUT",data:(0,He.Z)({},ye)}));case 2:case"end":return fe.stop()}},J)})),H.apply(this,arguments)}function De(J,xe){return P.apply(this,arguments)}function P(){return P=(0,Qe.Z)((0,Te.Z)().mark(function J(xe,ye){return(0,Te.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.abrupt("return",(0,pe.WY)("/api/server/cloud_server/detail/".concat(xe,"/"),{method:"DELETE",data:(0,He.Z)({},ye)}));case 1:case"end":return Ee.stop()}},J)})),P.apply(this,arguments)}function Ne(){return We.apply(this,arguments)}function We(){return We=_asyncToGenerator(_regeneratorRuntime().mark(function J(){var xe,ye=arguments;return _regeneratorRuntime().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return xe=ye.length>0&&ye[0]!==void 0?ye[0]:{},Ee.abrupt("return",request("/api/server/server_tag/",{params:xe}));case 2:case"end":return Ee.stop()}},J)})),We.apply(this,arguments)}function st(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return request("/api/auth/user/",{params:J})}function oe(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/cloud_server/instance_type/",{params:J})}function ft(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/cloud_server/aliyun/",{params:J})}function $e(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/cloud_server/image/",{params:J})}function yt(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/cloud_server/disk/categories/",{params:J})}function at(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/check/cloud_name/",{params:J})}function wt(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return request("/api/server/check/var_name/",{method:"POST",data:_objectSpread({},J)})}function ce(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/test_cluster/",{params:J})}function Dt(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/test_cluster/",{method:"POST",data:(0,He.Z)({},J)})}function Me(J,xe){return(0,pe.WY)("/api/server/test_cluster/detail/".concat(J,"/"),{method:"PUT",data:(0,He.Z)({},xe)})}function f(J,xe){return(0,pe.WY)("/api/server/test_cluster/detail/".concat(J,"/"),{method:"DELETE",data:xe})}function q(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/cloud_ak/",{params:J})}function Se(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/cloud_server/region/",{params:J})}function C(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/cloud_server/zone/",{params:J})}function i(J){return request("/api/server/test_cluster/cloud_type/".concat(J,"/"))}function Ht(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/test_cluster/cloud_server/",{params:J})}function Ke(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,pe.WY)("/api/server/test_cluster/cloud_server/",{method:"POST",data:(0,He.Z)({},J)})}function n(J){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,pe.WY)("/api/server/test_cluster/cloud_server/detail/".concat(J,"/"),{method:"PUT",data:(0,He.Z)({},xe)})}function Ie(J){return(0,pe.WY)("/api/server/test_cluster/cloud_server/detail/".concat(J,"/"),{method:"DELETE"})}var Ze=function(){var J=(0,Qe.Z)((0,Te.Z)().mark(function xe(ye){return(0,Te.Z)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.abrupt("return",(0,pe.WY)("/api/server/sync_state/",{method:"post",data:ye}));case 1:case"end":return Ee.stop()}},xe)}));return function(ye){return J.apply(this,arguments)}}()},43480:function(Ae,lt,c){"use strict";var Te=c(8281),He=c(58591),Qe=c(39190),pe=c(22374),xt=c(79236),ct=c(98540),gt=c(60061),ke=c(28075),ut=c.n(ke),H=c(95844),De=c.n(H),P=c(52454),Ne=function(st){var oe=st.value,ft=st.onChange,$e=(0,pe.useState)(!1),yt=(0,Qe.Z)($e,2),at=yt[0],wt=yt[1],ce=(0,pe.useState)(!1),Dt=(0,Qe.Z)(ce,2),Me=Dt[0],f=Dt[1],q=(0,pe.useState)({r:255,g:157,b:78,a:1}),Se=(0,Qe.Z)(q,2),C=Se[0],i=Se[1],Ht=[{r:255,g:157,b:78,a:1},{r:91,g:216,b:166,a:1},{r:91,g:143,b:249,a:1},{r:247,g:102,b:78,a:1},{r:255,g:134,b:183,a:1},{r:43,g:158,b:157,a:1},{r:146,g:112,b:202,a:1},{r:109,g:200,b:236,a:1},{r:102,g:119,b:150,a:1},{r:245,g:188,b:22,a:1},{r:231,g:107,b:242,a:1}],Ke=function(){wt(!at)},n=function(){wt(!1)},Ie=function(ye){var Ue=ye.rgb;i(Ue);var Ee="rgb(".concat(Ue.r,",").concat(Ue.g,",").concat(Ue.b,",").concat(Ue.a,")");ft&&ft(Ee)};(0,pe.useEffect)(function(){var xe={r:255,g:157,b:78,a:1};if(oe){var ye=oe.slice(4,oe.length-1).split(",");xe={r:Number(ye[0]),g:Number(ye[1]),b:Number(ye[2]),a:Number(ye[3])}}i(xe)},[oe]);var Ze=function(ye){i(ye),f(!1);var Ue="rgb(".concat(ye.r,",").concat(ye.g,",").concat(ye.b,",").concat(ye.a,")");ft&&ft(Ue)},J=(0,xt.ZP)({default:{color:{position:"relative",width:"22px",height:"22px",borderRadius:"2px",background:"rgba(".concat(C.r,", ").concat(C.g,", ").concat(C.b,", ").concat(C.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},warp:{position:"absolute",paddingTop:"16px",paddingBottom:"6px",background:"#fff",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)",borderRadius:"2px",zIndex:9999}}});return(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{style:J.swatch,className:ut().click,onClick:Ke,children:(0,P.jsx)("div",{style:J.color,className:ut().waves})}),at?(0,P.jsxs)("div",{style:J.popover,children:[(0,P.jsx)("div",{style:J.cover,onClick:n}),(0,P.jsxs)("div",{style:J.warp,children:[(0,P.jsxs)("div",{style:{background:"#fff",width:244,paddingLeft:"16px"},children:[Ht.map(function(xe,ye){return(0,P.jsx)("div",{children:(0,P.jsx)("div",{className:ut().waves,style:{position:"relative",float:"left",marginRight:"16px",marginBottom:"16px",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden",background:"rgba(".concat(xe.r,", ").concat(xe.g,", ").concat(xe.b,", ").concat(xe.a,")")},onClick:function(){return Ze(xe)},children:JSON.stringify(C)==JSON.stringify(xe)&&(0,P.jsx)(gt.Z,{style:{position:"absolute",top:"5px",left:"5px",color:"#fff"}})})},ye)}),(0,P.jsx)("div",{children:(0,P.jsxs)("div",{className:ut().waves,style:{float:"left",marginRight:"16px",marginBottom:"16px",position:"relative",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden"},onClick:function(){return f(!Me)},children:[(0,P.jsx)("img",{src:De(),style:{position:"absolute",width:"22px"}}),(0,P.jsx)("div",{style:{position:"absolute",left:"4px",top:"4px",width:"14px",height:"14px",borderRadius:"2px",background:"rgba(".concat(C.r,", ").concat(C.g,", ").concat(C.b,", ").concat(C.a,")")}})]})})]}),Me&&(0,P.jsx)(He.Z,{style:{margin:0}}),Me&&(0,P.jsx)("div",{style:{padding:"6px"},children:(0,P.jsx)(ct.xS,{className:ut().picker,width:212,color:C,onChange:Ie,presetColors:[]})})]})]}):null]})};lt.Z=Ne},88090:function(Ae,lt,c){"use strict";c.r(lt),c.d(lt,{default:function(){return Mr}});var Te=c(67448),He=c(47548),Qe=c(54905),pe=c(90087),xt=c(20632),ct=c(71853),gt=c(46721),ke=c(94867),ut=c(70772),H=c(6701),De=c(31650),P=c(25100),Ne=c(53374),We=c(61674),st=c(57359),oe=c(34423),ft=c(79625),$e=c(96584),yt=c(51937),at=c(34516),wt=c(14320),ce=c(53479),Dt=c(81138),Me=c(96146),f=c(20418),q=c(35832),Se=c(32326),C=c(39190),i=c(22374),Ht=c(53847),Ke=c.n(Ht),n=c(22812),Ie=c(24812),Ze=c(26362),J=c(22977),xe=c(72053),ye=c(43163),Ue=c(488),Ee=c(20507),fe=c(39935),e=c(52454),gs=["count"],_s=function(a){var t=a.data,r=t===void 0?{}:t,s=a.test_type,d=s===void 0?"":s,o=(0,n.YB)(),x=o.formatMessage,v=function(_,g){if(_==="increase")return{color:"#81BF84",name:x({id:"ws.result.details.".concat(_)}),legend:"#389E0D"};if(_==="decline")return{color:"#C84C5A",name:x({id:"ws.result.details.".concat(_)}),legend:"#C84C5A"};if(_==="normal")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(_)}),legend:"#000000"};if(_==="invalid")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(_)}),legend:"#000000"};if(_==="na")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(_)}),legend:"#000000"};if(_==="success")return{color:"#81BF84",name:x(g==="business_business"?{id:"ws.result.details.business.".concat(_)}:{id:"ws.result.details.".concat(_)}),legend:"#389E0D"};if(_==="fail")return{color:"#C84C5A",name:x({id:"ws.result.details.".concat(_)}),legend:"#C84C5A"};if(_==="warn")return{color:"#DCC506",name:x({id:"ws.result.details.".concat(_)}),legend:"#DCC506"};if(_==="skip")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(_)}),legend:"#000000"}},y=(0,i.useRef)(null),u=(0,fe.SE)(d),S=(0,i.useState)(""),j=(0,C.Z)(S,2),b=j[0],m=j[1];return(0,i.useEffect)(function(){var Z=setInterval(function(){var _=(0,n.Kd)();_!==b&&m(_)},200);return function(){Z&&clearInterval(Z)}},[]),(0,i.useEffect)(function(){if(JSON.stringify(r)!=="{}"){var Z=r.count,_=(0,Ue.Z)(r,gs),g=u==="business_business"?["success","fail"]:Object.keys(_),I=g.map(function(F){return(0,f.Z)({value:r[F],key:F},v(F,u))}),k=Ee.S1(y.current),w={};return I.forEach(function(F){var O=F.legend,R=F.key;w[R]={color:O}}),k.setOption({color:I.map(function(F){var O=F.color;return O}),legend:{selectedMode:!1,show:!0,bottom:0,formatter:function(O){var R=I.findIndex(function(W){return O===W.name}),G=I[R];return"{".concat(G.key,"|").concat(O,"(").concat(G.value,")}")},textStyle:{rich:w},data:I.map(function(F){var O=F.color,R=F.name;return{name:R,textStyle:O}}),itemWidth:0,itemHeight:0},tooltip:{show:!1},series:[{type:"pie",radius:["60%","80%"],avoidLabelOverlap:!1,data:I,hoverOffset:1,height:"90%",label:{show:!0,position:"center",color:"#4c4a4a",formatter:"{total|"+Z+`}
\r{active|All cases}`,rich:{total:{fontSize:30,fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",color:"#000000"},active:{fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",fontSize:12,color:"rgba(0,0,0,.65)"}}},emphasis:{label:{show:!0}}}]}),function(){k==null||k.dispose()}}},[r,y,b]),(0,e.jsx)("div",{style:{width:"calc(100% - 0px)"},children:(0,e.jsx)("div",{ref:y,style:{height:170}})})},Ur=c(87967),js=c(65320),zr=c(52730),pn=c(25205),Tn=c(66304),Zt=c(48766),Ct=c(81343),Vr=c(11407),St=c(68077),Bt=c(94649),Yr=c(88018),mn=c(58414),Jr=c(88966),ze=c(11048),Qr=c(69230),rt=c(33821),Gr=c(8281),kt=c(58591),Xr=c(20693),et=c(3278),qr=c(65790),ue=c(17187),bs=c(86252),hn=c.n(bs),xn=c(72882),ei=c(67515),Rn=c(12238),ys=(0,i.forwardRef)(function(a,t){var r=(0,n.YB)(),s=r.formatMessage,d=(0,i.useState)(!1),o=(0,C.Z)(d,2),x=o[0],v=o[1],y=(0,i.useState)(!1),u=(0,C.Z)(y,2),S=u[0],j=u[1];(0,i.useImperativeHandle)(t,function(){return{show:function(){v(!0)}}});var b=ue.Z.useForm(),m=(0,C.Z)(b,1),Z=m[0],_=function(){v(!1)},g=function(){S||(j(!0),Z.validateFields().then(function(k){console.log(k)}).catch(function(){j(!1)}))};return(0,e.jsxs)(Rn.Z,{width:487,title:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"}),visible:x,onCancel:_,onOk:g,okText:(0,e.jsx)(n._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:[(0,e.jsxs)(ce.Z,{children:[(0,e.jsx)("b",{children:(0,e.jsx)(n._H,{id:"ws.result.details.test.env"})}),(0,e.jsx)("span",{})]}),(0,e.jsxs)(ce.Z,{children:[(0,e.jsx)("b",{children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.type"})}),(0,e.jsx)("span",{})]}),(0,e.jsx)("div",{style:{width:"100%",height:10,background:"#F5F5F5"}}),(0,e.jsxs)(ue.Z,{form:Z,layout:"vertical",children:[(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.name"}),children:(0,e.jsx)(et.Z,{autoComplete:"off",placeholder:s({id:"ws.result.details.baseline.name.placeholder"})})}),(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.desc"}),children:(0,e.jsx)(et.Z.TextArea,{rows:3,autoComplete:"off",placeholder:s({id:"ws.result.details.baseline.desc.placeholder"})})})]})]})}),ws=c(44851),gn=c.n(ws),Zs=c(72100),Cs=function(t,r){var s=(0,n.YB)(),d=s.formatMessage,o=(0,Ie.UO)(),x=o.ws_id,v=t.test_type,y=t.onOk,u=t.accessible,S=ue.Z.useForm(),j=(0,C.Z)(S,1),b=j[0],m=(0,i.useState)(!1),Z=(0,C.Z)(m,2),_=Z[0],g=Z[1],I=(0,i.useState)({suite_list:[],suite_data:[]}),k=(0,C.Z)(I,2),w=k[0],F=k[1],O=(0,i.useState)(!1),R=(0,C.Z)(O,2),G=R[0],W=R[1],E=(0,i.useState)(!1),N=(0,C.Z)(E,2),U=N[0],Q=N[1],K=(0,i.useState)([]),T=(0,C.Z)(K,2),te=T[0],Y=T[1],ge=(0,i.useState)([]),B=(0,C.Z)(ge,2),ae=B[0],ee=B[1],l=(0,i.useState)(),A=(0,C.Z)(l,2),h=A[0],p=A[1],M=(0,i.useState)(),X=(0,C.Z)(M,2),se=X[0],V=X[1],ve=(0,i.useRef)(null),we=(0,i.useRef)(null),re=(0,i.useRef)(null),Pe=function(){var D=(0,Se.Z)((0,q.Z)().mark(function z(){var me,ne,he,Ce;return(0,q.Z)().wrap(function(it){for(;;)switch(it.prev=it.next){case 0:return Q(!0),it.next=3,(0,Ze.bU)({ws_id:x,test_type:v});case 3:me=it.sent,ne=me.data,he=me.code,he===200&&(Ce=ne.map(function(Fe){return{label:Fe.name,key:Fe.id,value:Fe.id}}),v==="functional"?Y(Ce):ee(Ce),Q(!1));case 7:case"end":return it.stop()}},z)}));return function(){return D.apply(this,arguments)}}(),Je=function(){var D=(0,Se.Z)((0,q.Z)().mark(function z(me){var ne,he,Ce,Oe;return(0,q.Z)().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(me){Fe.next=2;break}return Fe.abrupt("return");case 2:return Fe.next=4,(0,Zs.si)({name:me,test_type:v,version:"",page_size:999,ws_id:x});case 4:return ne=Fe.sent,he=ne.code,Ce=ne.msg,Oe=ne.data,he===200?(Me.default.success("\u6DFB\u52A0\u57FA\u7EBF\u6210\u529F!!!"),Pe(),p(void 0),V(void 0)):(0,fe.EV)(he,Ce),Fe.abrupt("return",Oe);case 10:case"end":return Fe.stop()}},z)}));return function(me){return D.apply(this,arguments)}}();(0,i.useImperativeHandle)(r,function(){return{show:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;g(!0),Pe(),z&&(console.log(z),F(z)),V(void 0),p(void 0)}}});var Xe=function(){g(!1),b.resetFields(),W(!1),F({}),p(void 0)},tt=function(z,me){if(z!==200){W(!1),(0,fe.EV)(z,me);return}y(),Me.default.success(d({id:"operation.success"})),Xe()},ht=function(){W(!0),b.validateFields().then(function(){var z=(0,Se.Z)((0,q.Z)().mark(function me(ne){var he,Ce,Oe,it,Fe,rn,ln,dn,Ft,on,Nt,It,Wt,un,$t,Kt,Ut,Pt,cn,fn;return(0,q.Z)().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(he=(0,f.Z)((0,f.Z)({},ne),{},{ws_id:x,test_type:v}),!(w!=null&&w.suite_list||w!=null&&w.suite_data)){Be.next=11;break}if(!(w!=null&&w.suite_list.length||w!=null&&w.suite_data.length)){Be.next=11;break}return Ce=w.suite_list,Oe=w.suite_data,it=w.job_id,Be.next=6,(0,Ze.FJ)((0,f.Z)((0,f.Z)({},he),{},{suite_list:Ce,suite_data:Oe,job_id:it}));case 6:return Fe=Be.sent,rn=Fe.code,ln=Fe.msg,tt(rn,ln),Be.abrupt("return");case 11:if(v!=="functional"){Be.next=21;break}return dn=w.suite_id,Ft=w.test_case_id,on=w.job_id,Nt=w.id,Be.next=15,(0,Ze._f)((0,f.Z)((0,f.Z)({},he),{},{test_job_id:on,test_suite_id:dn,test_case_id:Ft,result_id:Nt}));case 15:It=Be.sent,Wt=It.code,un=It.msg,tt(Wt,un),Be.next=35;break;case 21:if($t=w.suite_id,Kt=w.test_case_id,Ut=w.job_id,!Kt){Be.next=28;break}return Be.next=25,(0,Ze.Tm)((0,f.Z)((0,f.Z)({},he),{},{job_id:Ut,suite_id:$t,case_id:Kt}));case 25:Be.t0=Be.sent,Be.next=31;break;case 28:return Be.next=30,(0,Ze.FJ)((0,f.Z)((0,f.Z)({},he),{},{job_id:Ut,suite_list:[$t]}));case 30:Be.t0=Be.sent;case 31:Pt=Be.t0,cn=Pt.code,fn=Pt.msg,tt(cn,fn);case 35:case"end":return Be.stop()}},me)}));return function(me){return z.apply(this,arguments)}}()).catch(function(z){console.log(z),W(!1)})},_t=function(z){p(z)},Re=function(z){V(z)},le=function(){var D=(0,Se.Z)((0,q.Z)().mark(function z(){var me,ne,he;return(0,q.Z)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!h){Oe.next=10;break}return Oe.next=3,Je(h);case 3:if(me=Oe.sent,me){Oe.next=6;break}return Oe.abrupt("return");case 6:ne=me.id,ne&&(he=b.getFieldValue("baseline_id")||[],b.setFieldsValue({baseline_id:he.concat([ne])})),p(""),we.current.blur();case 10:case"end":return Oe.stop()}},z)}));return function(){return D.apply(this,arguments)}}(),$=function(){var D=(0,Se.Z)((0,q.Z)().mark(function z(){var me,ne;return(0,q.Z)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(!se){Ce.next=9;break}return Ce.next=3,Je(se);case 3:if(me=Ce.sent,me){Ce.next=6;break}return Ce.abrupt("return");case 6:ne=me.id,ne&&b.setFieldsValue({baseline_id:ne}),re.current.blur();case 9:case"end":return Ce.stop()}},z)}));return function(){return D.apply(this,arguments)}}();return(0,e.jsxs)(mn.Z,{maskClosable:!1,keyboard:!1,width:"376",title:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"}),open:_,onClose:Xe,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(ke.Z,{onClick:Xe,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{type:"primary",onClick:ht,disabled:G,children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})}),children:[(0,e.jsx)(He.Z,{spinning:U,children:(0,e.jsxs)(ue.Z,{form:b,layout:"vertical",children:[v==="functional"&&(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.bug"}),name:"bug",rules:[{required:!0}],children:(0,e.jsx)(et.Z,{placeholder:d({id:"ws.result.details.bug.placeholder"}),autoComplete:"off"})}),v==="performance"&&(0,e.jsx)("div",{onMouseDown:function(z){return z.preventDefault()},children:(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_id"}),name:"baseline_id",children:(0,e.jsx)(rt.Z,{listHeight:160,mode:"multiple",getPopupContainer:function(z){return z.parentNode},onSearch:Re,ref:re,defaultActiveFirstOption:!1,filterOption:function(z,me){return me.name.indexOf(z)>=0},loading:U,placeholder:d({id:"ws.result.details.baseline_id.placeholder"}),dropdownStyle:{padding:0,margin:0},onSelect:function(z){return b.setFieldsValue({baseline_id:z})},dropdownRender:function(z){return(0,e.jsxs)(e.Fragment,{children:[z,se&&!!se.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(kt.Z,{style:{margin:"8px 0"}}),u&&(0,e.jsx)("div",{style:{display:"inline-block",flexWrap:"nowrap",width:"100%",padding:"0 0 8px 8px"},onClick:$,children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(xn.Z,{style:{color:"#1890FF"}}),(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"})})]})})]})]})},options:ae.map(function(D){return{value:D.value,name:D.label,label:(0,e.jsx)(P.Z.Text,{ellipsis:{tooltip:D.label},children:(0,e.jsx)(gn(),{highlightStyle:{color:"#1890FF",padding:0,background:"unset"},searchWords:[h],autoEscape:!0,textToHighlight:D.label})})}})})})}),v==="functional"&&(0,e.jsx)("div",{onMouseDown:function(z){return z.preventDefault()},children:(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_id"}),name:"baseline_id",children:(0,e.jsx)(rt.Z,{placeholder:d({id:"ws.result.details.baseline_id.placeholder"}),mode:"multiple",className:hn().select_baseline,allowClear:!0,optionLabelProp:"label",ref:we,listHeight:160,loading:U,getPopupContainer:function(z){return z.parentNode},onSearch:_t,filterOption:function(z,me){return me.name.indexOf(z)>=0},dropdownRender:function(z){return(0,e.jsxs)(e.Fragment,{children:[z,h&&!!h.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(kt.Z,{style:{margin:"8px 0"}}),u&&(0,e.jsx)("div",{style:{display:"inline-block",flexWrap:"nowrap",width:"100%",padding:"0 0 8px 8px"},onClick:le,children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(xn.Z,{style:{color:"#1890FF"}}),(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"})})]})})]})]})},options:te.map(function(D){return{value:D.value,name:D.label,label:(0,e.jsx)(P.Z.Text,{ellipsis:{tooltip:D.label},children:(0,e.jsx)(gn(),{highlightStyle:{color:"#1890FF",padding:0,background:"unset"},searchWords:[h],autoEscape:!0,textToHighlight:D.label})})}})})})}),v==="functional"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.impact_result"}),name:"impact_result",initialValue:!0,children:(0,e.jsxs)(ze.ZP.Group,{children:[(0,e.jsx)(ze.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(ze.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.description"}),name:"description",children:(0,e.jsx)(et.Z.TextArea,{rows:4,placeholder:d({id:"ws.result.details.description.placeholder"})})})]})]})}),(0,e.jsx)(ys,{ref:ve})]})},_n=(0,i.forwardRef)(Cs),dt=c(41428),En=c(2514),Ss=function(t,r){var s=(0,n.YB)(),d=s.formatMessage,o=(0,Ie.UO)(),x=o.ws_id,v=(0,i.useState)(!1),y=(0,C.Z)(v,2),u=y[0],S=y[1],j=(0,i.useState)({suite_name:"",conf_name:""}),b=(0,C.Z)(j,2),m=b[0],Z=b[1],_=(0,i.useState)(!1),g=(0,C.Z)(_,2),I=g[0],k=g[1],w=ue.Z.useForm(),F=(0,C.Z)(w,1),O=F[0];(0,i.useImperativeHandle)(r,function(){return{show:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;S(!0),N!==!1&&(Z(N),O.setFieldsValue({note:N.note}))}}});var R=function(){S(!1),Z({suite_name:"",conf_name:""}),k(!1),O.resetFields()},G=function(){I||O.validateFields().then(function(){var N=(0,Se.Z)((0,q.Z)().mark(function U(Q){var K,T,te,Y;return(0,q.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return k(!0),console.log(Q,m),K=(0,f.Z)({},Q),K.editor_obj=m.editor_obj,K.ws_id=x,m.editor_obj==="job"&&(K.job_id=m.job_id),m.editor_obj==="test_job_suite"&&(K.test_job_suite_id=m.job_suite_id),m.editor_obj==="test_job_conf"&&(K.test_job_conf_id=m.id),m.editor_obj==="test_job_case"&&(K.test_job_case_id=m.id),B.next=11,(0,Ze.tV)(K);case 11:if(T=B.sent,te=T.msg,Y=T.code,Y!==200){B.next=19;break}return t.onOk(),R(),Me.default.success(d({id:"operation.success"})),B.abrupt("return");case 19:return k(!1),B.abrupt("return",(0,fe.EV)(Y,te));case 21:case"end":return B.stop()}},U)}));return function(U){return N.apply(this,arguments)}}()).catch(console.log)},W=function(N,U){return U&&(0,e.jsx)(H.Z,{span:24,children:(0,e.jsxs)(ce.Z,{children:[(0,e.jsx)(P.Z.Text,{style:{width:70,fontWeight:600,marginRight:8},children:N}),(0,e.jsx)(P.Z.Paragraph,{style:{width:"calc( 100% - 70px - 8px)"},ellipsis:!0,children:U})]})})};return(0,e.jsxs)(mn.Z,{maskClosable:!1,keyboard:!1,width:"376",title:(0,e.jsx)(n._H,{id:"ws.result.details.edit.remarks"}),visible:u,onClose:R,bodyStyle:{padding:0},footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(ke.Z,{onClick:R,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{type:"primary",onClick:G,children:(0,e.jsx)(n._H,{id:"operation.update"})})]})}),children:[(m.suite_name||m.conf_name)&&(0,e.jsxs)(ce.Z,{style:{marginBottom:10,background:"#fff",padding:20,borderBottom:"10px solid #f0f2f5"},children:[W("Test Suite",m.suite_name),W("Test Conf",m.conf_name),W("Test Case",m.case_name)]}),(0,e.jsx)(ue.Z,{form:O,layout:"vertical",style:{background:"#fff",padding:20,height:"calc( 100% - 94px )"},children:(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),name:"note",children:(0,e.jsx)(et.Z.TextArea,{rows:8,placeholder:d({id:"ws.result.details.please.enter.remarks"})})})})]})},zt=(0,i.forwardRef)(Ss),jn=c(80873),On=c(20905),ie=c(78358),ks=c(6547),_e=c.n(ks),Le=c(79390),Ge=c(6130),Ts=function(a){var t=(0,n.YB)(),r=t.formatMessage,s=(0,Ie.UO)(),d=s.ws_id,o=s.id,x=(0,n.md)(),v=a.test_case_id,y=a.suite_id,u=a.testType,S=a.creator,j=a.server_provider,b=a.state,m=b===void 0?"":b,Z=a.suite_name,_=a.conf_name,g=a.refreshId,I=a.setRefreshId,k=(0,i.useRef)(null),w=(0,i.useRef)(null),F=(0,i.useRef)(null),O={job_id:o,case_id:v,suite_id:y,ws_id:d,sub_case_name:void 0,sub_case_result:void 0,page_size:10,page_num:1},R=i.useState(O),G=(0,C.Z)(R,2),W=G[0],E=G[1],N=(0,n.QT)(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W;return(0,Ze._x)(l)},{initialData:[],refreshDeps:[W],debounceInterval:200,formatResult:function(A){return A}}),U=N.data,Q=N.refresh,K=N.loading,T=function(A,h){h==null||h(),E(function(p){return(0,f.Z)((0,f.Z)({},p),{},{sub_case_name:A[0],page_num:1,page_size:10})})},te=function(A){A()},Y=function(A){return{filterDropdown:function(p){var M=p.setSelectedKeys,X=p.selectedKeys,se=p.confirm,V=p.clearFilters;return(0,e.jsxs)("div",{style:{padding:8},children:[(0,e.jsx)(et.Z,{ref:F,placeholder:"".concat(r({id:"operation.search"})," ").concat(A),value:X[0],onChange:function(we){return M(we.target.value?[we.target.value]:[])},onPressEnter:function(){return T(X,se)},style:{width:188,marginBottom:8,display:"block"}}),(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(ke.Z,{type:"primary",onClick:function(){return T(X,se)},icon:(0,e.jsx)(En.Z,{}),size:"small",style:{width:90},children:(0,e.jsx)(n._H,{id:"operation.search"})}),(0,e.jsx)(ke.Z,{onClick:function(){return te(V)},size:"small",style:{width:90},children:(0,e.jsx)(n._H,{id:"operation.reset"})})]})]})},filterIcon:function(p){return(0,e.jsx)(En.Z,{style:{color:p?"#1890ff":void 0}})},onFilterDropdownVisibleChange:function(p){p&&setTimeout(function(){return F.current.select()},100)},render:function(p){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:p},children:(0,e.jsx)(gn(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[W==null?void 0:W.sub_case_name],autoEscape:!0,textToHighlight:p?p.toString():""})})}}},ge=function(A){return new Map([["success",1],["fail",2],["skip",5],["warn",6]]).get(A)||void 0};(0,i.useEffect)(function(){g===v&&(E(function(l){return(0,f.Z)((0,f.Z)({},l),{},{sub_case_result:ge(m)})}),setTimeout(function(){I(null)},300)),g||E(function(l){return(0,f.Z)((0,f.Z)({},l),{},{sub_case_result:ge(m)})})},[m]);var B=function(A){k.current.show((0,f.Z)((0,f.Z)({},A),{},{editor_obj:"test_job_case",case_name:A.sub_case_name,suite_name:Z,conf_name:_}))},ae=function(A){w.current.show((0,f.Z)((0,f.Z)({},A),{},{suite_id:y,job_id:o,test_case_id:v}))},ee=[(0,f.Z)((0,f.Z)({dataIndex:"sub_case_name",title:"Test Case",fixed:"left",width:400},(0,ie.yQ)()),Y("Test Case")),{dataIndex:"result",title:(0,e.jsx)(jn.f,{placement:"bottomLeft",title:r({id:"ws.result.details.test.result"}),desc:r({id:"ws.result.details.test.result.view.log.file"})}),width:150,ellipsis:!0,render:function(A){var h="";return A==="Fail"&&(h="#C84C5A"),A==="Pass"&&(h="#81BF84"),A==="Warning"&&(h="#dcc506"),A==="Stop"&&(h="#1D1D1D"),(0,e.jsx)("span",{style:{color:h},children:A})}},{dataIndex:"description",width:180,title:(0,e.jsx)(jn.f,{placement:"bottomLeft",title:r({id:"ws.result.details.baseline.description"}),desc:r({id:"ws.result.details.baseline.description.ps"})}),ellipsis:!0,render:function(A,h){var p=h.description,M=r({id:"ws.result.details.match.baseline"});return h.match_baseline&&h.result==="Fail"&&(p=A?"".concat(A,"(").concat(M,")"):M),p?x.IsWsSetting()?(0,e.jsx)($e.Z,{placement:"topLeft",title:p,children:(0,e.jsx)(P.Z.Link,{className:_e().hrefUrl,onClick:function(){if(h.skip_baseline_info){var se=["performance","\u6027\u80FD\u6D4B\u8BD5"].includes(u)?"performance":"functional";(0,fe.N1)("/ws/".concat(d,"/baseline/").concat(se,"?").concat(On.stringify(h.skip_baseline_info)))}},children:p||"-"})}):(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:p||"-"}):"-"}},{dataIndex:"bug",title:["business_functional"].includes(u)?(0,e.jsx)(n._H,{id:"ws.result.details.aone.bug"}):(0,e.jsx)(n._H,{id:"ws.result.details.bug"}),width:180,ellipsis:!0,render:function(A,h){var p=h.bug,M="";if(p){M=p;var X=/^((ht|f)tps?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;X.test(p)||(M="".concat(window.origin,"/ws/").concat(d,"404?page=").concat(location.href))}return p?(0,e.jsx)($e.Z,{placement:"topLeft",title:A,children:(0,e.jsx)(P.Z.Link,{href:M,className:_e().hrefUrl,target:"_blank",children:p})}):"-"}},(0,f.Z)({dataIndex:"note",width:180,title:(0,e.jsx)(jn.f,{placement:"bottomLeft",title:r({id:"ws.result.details.result.remarks"}),desc:r({id:"ws.result.details.result.remarks.ps"})})},(0,ie.yQ)()),{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),fixed:"right",width:200,render:function(A){var h=A.result==="Fail"&&!A.bug;return(0,e.jsx)(n.Nv,{accessible:x.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:x.WsMemberOperateSelf(S),fallback:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return(0,fe.WR)()},children:(0,e.jsx)(n._H,{id:"operation.edit"})}),h&&(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return(0,fe.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return B(A)},children:(0,e.jsx)(n._H,{id:"operation.edit"})}),h&&(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return ae(A)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Le.sL,{name:"wsResultTableCaseList",refreshDeps:[x,u],rowKey:"id",size:"small",loading:K,className:"".concat(_e().result_info_table_head," ").concat(U!=null&&U.length?"":_e().result_info_table_head_line),pagination:{pageSize:U.page_size||10,current:U.page_num||1,total:U.total||0,showQuickJumper:!0,showSizeChanger:!0,onChange:function(A,h){E(function(p){return(0,f.Z)((0,f.Z)({},p),{},{page_num:p.page_size===h?A:1,page_size:h})})},showTotal:function(A){return r({id:"pagination.total.strip"},{data:A})}},columns:ee,rowClassName:_e().result_info_table_row,dataSource:U.data||[]}),(0,e.jsx)(zt,{ref:k,onOk:Q}),(0,e.jsx)(_n,{ref:w,onOk:Q,test_type:u,ws_id:d,server_provider:j,accessible:x.IsWsSetting()})]})},ti=c(64510),Tt=c(87445),ni=c(68501),Rs=c(98501),Fn=c(24336),Es=function(t){return(0,e.jsx)(e.Fragment,{children:t.items.length>0?(0,e.jsx)("span",{className:_e().dir_icon}):(0,e.jsx)("span",{className:_e().file_icon})})},Os=function(a){var t=a.test_case_id,r=a.suite_id,s=(0,n.YB)(),d=s.formatMessage,o=(0,Ie.UO)(),x=o.id,v=function(){var m=(0,Se.Z)((0,q.Z)().mark(function Z(_,g){var I,k;return(0,q.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return I={},g=="download"&&(I={path:_.path,job_id:x,download:"1"}),g=="look"&&(I={path:_.path,job_id:x}),F.next=5,(0,n.WY)("/api/get/oss/url/",{params:I});case 5:k=F.sent,k&&(k.code===200&&k.msg==="ok"?window.open(k.data):Me.default.warn("".concat(d(g==="download"?{id:"ws.result.details.failed.download.file"}:{id:"ws.result.details.failed.get.file"}))));case 7:case"end":return F.stop()}},Z)}));return function(_,g){return m.apply(this,arguments)}}(),y=function(Z){return(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{onClick:function(){return v(Z,"look")},children:Z.name}),!Z.items.length&&(0,e.jsx)(Fn.Z,{onClick:function(){return v(Z,"download")}})]})},u=function m(Z,_){return Z.map(function(g,I){return(0,f.Z)((0,f.Z)({},g),{},{title:y(g),key:"".concat(_,"-").concat(I),icon:function(w){return(0,e.jsx)(Es,(0,f.Z)({},w))},children:g.items&&g.items.length>0?m(g.items,"".concat(_,"-").concat(I)):[]})})},S=(0,n.QT)(function(){return(0,Ze.XJ)({job_id:x,case_id:t,suite_id:r})},{initialData:[],formatResult:function(Z){return Z.code===200?u(Z.data,0):[]}}),j=S.data,b=S.loading;return(0,e.jsx)("div",{style:{minHeight:50},children:(0,e.jsx)(He.Z,{spinning:b,children:j.length>0?(0,e.jsx)(Rs.Z,{style:{padding:20},treeData:j,showIcon:!0}):(0,e.jsx)(Tt.Z,{image:Tt.Z.PRESENTED_IMAGE_SIMPLE})})})},Fs=function(a){var t=a.test_case_id,r=a.suite_id,s=(0,Ie.UO)(),d=s.id,o={kernel_version:"",rpm_info:[]},x=(0,n.QT)(function(){return(0,Ze.yH)({job_id:d,case_id:t,suite_id:r})},{initialData:o,formatResult:function(S){if(S.code===200){var j=(0,C.Z)(S.data,1),b=j[0],m=b.kernel_version,Z=b.rpm_info;return Z&&Z!=="{}"?{kernel_version:m,rpm_info:JSON.parse(Z)}:{kernel_version:m,rpm_info:[]}}return o}}),v=x.data,y=x.loading;return(0,e.jsx)("div",{style:{background:"#fff",padding:20},children:(0,e.jsxs)(He.Z,{spinning:y,children:[(0,e.jsx)(ce.Z,{children:v.kernel_version&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("b",{style:{marginRight:16},children:[(0,e.jsx)(n._H,{id:"ws.result.details.installed.kernel"}),"\xA0"]}),(0,e.jsx)("span",{children:v.kernel_version})]})}),v.rpm_info.map(function(u,S){return(0,e.jsxs)(ce.Z,{children:[(0,e.jsx)("b",{style:{marginRight:16},children:(0,e.jsx)(n._H,{id:"ws.result.details.installed.rpm"})}),(0,e.jsx)("span",{children:u.rpm})]},S)}),!v.kernel_version&&v.rpm_info.length===0&&(0,e.jsx)(Tt.Z,{image:Tt.Z.PRESENTED_IMAGE_SIMPLE})]})})},Is=function(){return(0,e.jsx)(Tt.Z,{image:Tt.Z.PRESENTED_IMAGE_SIMPLE})},Ps=function(a){var t=a.test_case_id,r=a.suite_id,s=a.state,d=a.refreshId,o=a.setRefreshId,x=a.testType,v=(0,n.YB)(),y=v.formatMessage,u=(0,Ie.UO)(),S=u.id,j=u.ws_id,b=(0,n.QT)(function(){return(0,Ze.Zx)({ws_id:j,job_id:S,case_id:t,suite_id:r,compare_result:s})},{manual:!0}),m=b.data,Z=m===void 0?[]:m,_=b.run,g=b.loading,I=(0,n.md)();(0,i.useEffect)(function(){d&&d===t&&(_(),setTimeout(function(){o(null)},300)),d||_()},[s]);var k=y({id:"ws.result.details.threshold"}),w=[{title:(0,e.jsx)(n._H,{id:"ws.result.details.metric"}),dataIndex:"metric",ellipsis:{shwoTitle:!1},render:function(O){return O?(0,e.jsx)($e.Z,{placement:"topLeft",title:O,children:O}):"-"}},{title:(0,e.jsx)(ie.fD,{placement:"bottomLeft",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.result"}),desc:(0,e.jsx)(n._H,{id:"ws.result.details.test.result.view.log.file"})}),dataIndex:"test_value",ellipsis:!0,width:120,render:function(O,R){return(0,e.jsx)(ie.QN,(0,f.Z)((0,f.Z)({},R),{},{title:y({id:"ws.result.details.compared.results"})}))}},{title:(0,e.jsx)(ie.fD,{title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_value"}),desc:"AVG \xB1 CV"}),dataIndex:"baseline_value",width:120,ellipsis:{shwoTitle:!1},render:function(O,R){return O&&R.baseline_cv_value?(0,e.jsx)(n.Nv,{accessible:I.IsWsSetting(),children:(0,e.jsx)("span",{className:_e().hrefUrl,onClick:function(){if(R.skip_baseline_info){var W=["performance","\u6027\u80FD\u6D4B\u8BD5"].includes(x)?"performance":"functional";(0,fe.N1)("/ws/".concat(j,"/baseline/").concat(W,"?").concat(On.stringify(R.skip_baseline_info)))}},children:"".concat(O,"\xB1").concat(R.baseline_cv_value)})}):"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.compared.results"}),dataIndex:"compare_result",width:120,ellipsis:!0,render:function(O,R){return O?(0,e.jsx)("span",{style:{color:(0,ie.YV)(R.compare_result)},children:O}):"-"}},{title:(0,e.jsx)(ie.fD,{title:k,desc:"AVG ".concat(k," / CV ").concat(k)}),dataIndex:"threshold",width:120,ellipsis:!0,render:function(O){return O||"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.track_result"}),width:120,dataIndex:"track_result",ellipsis:!0,render:function(O,R){return(0,ie.Nq)(R.track_result,R.result,y)}}];return(0,e.jsx)(Le.sL,{name:"ws-result-metric-list",rowKey:"id",loading:g,pagination:!1,size:"small",className:"".concat(_e().result_info_table_head," ").concat(Z!=null&&Z.length?"":_e().result_info_table_head_line),rowClassName:_e().result_info_table_row,dataSource:Z,columns:w,refreshDeps:[j,k,I]})},ot=c(97939),In,Ds=(0,ot.ZP)(pe.Z)(In||(In=(0,dt.Z)([`
    .ant-tabs-nav {
        margin: 0;
    }
`]))),Hs=function(t){var r=t.testType,s=r===void 0?"functional":r,d=t.result_data,o=d===void 0?{}:d,x=o.ci_detail,v=o.result,y=x?JSON.parse(x):{},u=i.useState("1"),S=(0,C.Z)(u,2),j=S[0],b=S[1],m=function(g){switch(g){case"success":return(0,e.jsx)("span",{style:{color:"#81BF84"},children:"Complete"});case"fail":return(0,e.jsx)("span",{style:{color:"#C84C5A"},children:"Fail"});default:return(0,fe.CB)(g)?(0,e.jsx)("a",{href:g,children:g}):(0,e.jsx)("span",{style:{opacity:.65},children:g})}},Z=function(g){var I=g.label,k=g.value;return(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsx)("div",{style:{opacity:.85,width:124,fontFamily:"PingFangSC-Medium",fontSize:14},children:I}),m(k)]})};return(0,e.jsxs)("div",{style:{paddingLeft:40,paddingRight:0,background:"#FBFBFB",width:"100%"},children:[(0,e.jsxs)(Ds,{defaultActiveKey:"1",onTabClick:function(g){return b(g)},activeKey:j,children:[(0,e.jsx)(pe.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.testResult"})},"1"),["performance","business_performance"].includes(s)&&(0,e.jsx)(pe.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.monitor"})},"2"),(0,e.jsx)(pe.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.log"})},"3"),(0,e.jsx)(pe.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.versionInfo"})},"4"),["business_business"].includes(s)&&(0,e.jsx)(pe.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.executionDetails"})},"5")]}),j==="1"&&(0,e.jsxs)(e.Fragment,{children:[["performance","business_performance"].includes(s)&&(0,e.jsx)(Ps,(0,f.Z)({},t)),["functional","business_functional"].includes(s)&&(0,e.jsx)(Ts,(0,f.Z)({},t)),["business_business"].includes(s)&&(0,e.jsx)("div",{style:{background:"#fff",padding:"16px 24px"},children:(0,e.jsx)(Z,{label:"Test Result",value:v||"-"})})]}),j==="2"&&(0,e.jsx)(Is,(0,f.Z)({},t)),j==="3"&&(0,e.jsx)(Os,(0,f.Z)({},t)),j==="4"&&(0,e.jsx)(Fs,(0,f.Z)({},t)),j==="5"&&(0,e.jsxs)("div",{style:{background:"#fff",padding:"16px 24px"},children:[(0,e.jsx)(Z,{label:"CI type",value:y.ci_system||"-"}),(0,e.jsx)(Z,{label:"Build ID",value:y.build_id||"-"}),(0,e.jsx)(Z,{label:"CI Project",value:y.ci_project||"-"})]})]})},Bs=Hs,Pn,Ms=["svgRef","title"];function Vt(){return Vt=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Vt.apply(this,arguments)}function Ls(a,t){if(a==null)return{};var r=As(a,t),s,d;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(d=0;d<o.length;d++)s=o[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(r[s]=a[s]))}return r}function As(a,t){if(a==null)return{};var r={},s=Object.keys(a),d,o;for(o=0;o<s.length;o++)d=s[o],!(t.indexOf(d)>=0)&&(r[d]=a[d]);return r}var Ns=function(t){var r=t.svgRef,s=t.title,d=Ls(t,Ms);return i.createElement("svg",Vt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:r},d),s?i.createElement("title",null,s):null,Pn||(Pn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"C_Success",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u6210\\u529F",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M12.3752188,6.09965625 L7.1603125,11.3145312 C7.03828125,11.4365625 6.84040625,11.4365625 6.718375,11.3145312 L3.62478125,8.2209375 C3.50275,8.0989375 3.50275,7.9010625 3.62478125,7.77903125 L4.5970625,6.80678125 C4.71909375,6.68471875 4.91696875,6.68475 5.039,6.80678125 L6.939375,8.70709375 L10.9610625,4.6854375 C11.0830938,4.56340625 11.2809375,4.56340625 11.403,4.6854375 L12.37525,5.65771875 C12.49725,5.77975 12.4972813,5.977625 12.3752188,6.09965625 Z",id:"Shape",fill:"#81BF84"}))))))},Ws=i.forwardRef(function(a,t){return i.createElement(Ns,Vt({svgRef:t},a))}),si=c.p+"static/success.3e2910b0.svg",Dn,$s=["svgRef","title"];function Yt(){return Yt=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Yt.apply(this,arguments)}function Ks(a,t){if(a==null)return{};var r=Us(a,t),s,d;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(d=0;d<o.length;d++)s=o[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(r[s]=a[s]))}return r}function Us(a,t){if(a==null)return{};var r={},s=Object.keys(a),d,o;for(o=0;o<s.length;o++)d=s[o],!(t.indexOf(d)>=0)&&(r[d]=a[d]);return r}var zs=function(t){var r=t.svgRef,s=t.title,d=Ks(t,$s);return i.createElement("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:r},d),s?i.createElement("title",null,s):null,Dn||(Dn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"C_FAIL",transform:"translate(-4.000000, -5.000000)"},i.createElement("g",{id:"\\u5931\\u8D25",transform:"translate(4.000000, 5.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("polygon",{id:"Shape",fill:"#C84C5A",points:"10.8533334 12.1066666 7.94666667 9.36 5.22666667 12.2666666 3.78666667 10.9066666 6.50666667 8 3.94666667 5.57333333 5.30666667 4.13333333 7.86666667 6.56 10.2933334 4 11.7333334 5.36 9.33333336 7.92 12.2133334 10.6666666"}))))))},Vs=i.forwardRef(function(a,t){return i.createElement(zs,Yt({svgRef:t},a))}),ai=c.p+"static/fail.a6f9ef08.svg",Hn,Ys=["svgRef","title"];function Jt(){return Jt=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Jt.apply(this,arguments)}function Js(a,t){if(a==null)return{};var r=Qs(a,t),s,d;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(d=0;d<o.length;d++)s=o[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(r[s]=a[s]))}return r}function Qs(a,t){if(a==null)return{};var r={},s=Object.keys(a),d,o;for(o=0;o<s.length;o++)d=s[o],!(t.indexOf(d)>=0)&&(r[d]=a[d]);return r}var Gs=function(t){var r=t.svgRef,s=t.title,d=Js(t,Ys);return i.createElement("svg",Jt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:r},d),s?i.createElement("title",null,s):null,Hn||(Hn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"C_NA",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u5FFD\\u7565",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("polygon",{id:"Shape",fill:"#6A737D",points:"4.56852792 6.85279187 11.4213198 6.85279187 11.4213198 9.13705584 4.56852792 9.13705584"}))))))},Xs=i.forwardRef(function(a,t){return i.createElement(Gs,Jt({svgRef:t},a))}),ri=c.p+"static/skip.179f2809.svg",Bn=c(75841),qs=function(t,r){var s=(0,n.YB)(),d=s.formatMessage,o=(0,Ie.UO)(),x=o.ws_id,v=t.test_type,y=t.onOk,u=(0,i.useState)(!1),S=(0,C.Z)(u,2),j=S[0],b=S[1],m=(0,i.useState)(!1),Z=(0,C.Z)(m,2),_=Z[0],g=Z[1],I=ue.Z.useForm(),k=(0,C.Z)(I,1),w=k[0],F=(0,i.useState)(),O=(0,C.Z)(F,2),R=O[0],G=O[1],W=(0,n.QT)(function(){return(0,Bn.bU)({ws_id:x,test_type:v,page_size:999})},{initialData:[],manual:!0}),E=W.data,N=W.loading,U=W.run;(0,i.useImperativeHandle)(r,function(){return{show:function(te){U(),G(te),b(!0)}}});var Q=function(){b(!1),g(!1),G(null),w.resetFields()},K=function(){_||(g(!0),w.validateFields().then(function(){var te=(0,Se.Z)((0,q.Z)().mark(function Y(ge){var B,ae,ee,l,A,h,p,M,X;return(0,q.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return console.log(R),B=R.job_id,ae=R.suite_id,ee=R.test_case_id,l=R.suite_data,A=R.suite_list,h={},ae&&ee&&(h={suite_data:[{suite_id:ae,case_list:[ee]}]}),ae&&!ee&&(h={suite_list:[ae]}),l&&l.length>0&&(h={suite_data:l}),A&&A.length>0&&(h={suite_list:A}),V.next=9,(0,Ze.sG)((0,f.Z)((0,f.Z)({ws_id:x,job_id:B},h),ge));case 9:if(p=V.sent,M=p.code,X=p.msg,M===200){V.next=16;break}return(0,fe.EV)(M,X),g(!1),V.abrupt("return");case 16:Q(),y(),g(!1);case 19:case"end":return V.stop()}},Y)}));return function(Y){return te.apply(this,arguments)}}()).catch(function(te){console.log(te),g(!1)}))};return(0,e.jsx)(mn.Z,{maskClosable:!1,keyboard:!1,visible:j,destroyOnClose:!0,title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),onClose:Q,width:"376",footer:(0,e.jsx)(ce.Z,{justify:"end",children:(0,e.jsxs)(oe.Z,{align:"end",children:[(0,e.jsx)(ke.Z,{onClick:Q,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{type:"primary",onClick:K,disabled:_,children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})}),children:(0,e.jsx)(ue.Z,{form:w,requiredMark:!1,layout:"vertical",children:(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),name:"baseline_id",rules:[{required:!0,message:d({id:"ws.result.details.baseline.message"})}],children:(0,e.jsx)(rt.Z,{placeholder:d({id:"ws.result.details.baseline.placeholder"}),showSearch:!0,allowClear:!0,loading:N,filterOption:function(te,Y){var ge,B;return(ge=(B=Y==null?void 0:Y.name)!==null&&B!==void 0?B:"")===null||ge===void 0?void 0:ge.toLowerCase().includes(te.toLowerCase())},options:E==null?void 0:E.map(function(T){return{value:T.id,name:T.name,label:(0,e.jsx)(P.Z.Text,{ellipsis:{tooltip:!0},children:T.name})}})})})})})},Mn=(0,i.forwardRef)(qs),ea=c(2368),ta=c.n(ea),na=function(t){var r=t.suite_id,s=t.testType,d=t.suite_name,o=t.server_provider,x=t.provider_name,v=t.creator,y=t.expandedState,u=t.expandedCaseRowKeys,S=t.suiteSelect,j=S===void 0?[]:S,b=t.onCaseSelect,m=t.openAllRows,Z=m===void 0?!1:m,_=t.setIndexExpandFlag,g=t.parentTableName,I=t.columnsChange,k=(0,n.Kd)()==="en-US",w=(0,Ie.UO)(),F=w.id,O="url(".concat(ta(),") center center / 38.6px 32px "),R=(0,i.useState)([]),G=(0,C.Z)(R,2),W=G[0],E=G[1],N=(0,i.useState)([]),U=(0,C.Z)(N,2),Q=U[0],K=U[1],T=(0,n.md)(),te=(0,i.useState)(y),Y=(0,C.Z)(te,2),ge=Y[0],B=Y[1],ae=(0,i.useState)(null),ee=(0,C.Z)(ae,2),l=ee[0],A=ee[1],h=(0,n.QT)(function(){return(0,Ze.Q7)({job_id:F,suite_id:r,state:y})},{initialData:[],manual:!0}),p=h.data,M=h.loading,X=h.refresh,se=h.run;(0,i.useEffect)(function(){se(),B(y)},[y]);var V=function($){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";K(Array.from(new Set(Q.concat($)))),A($),B(D)},ve=(0,i.useRef)(null),we=(0,i.useRef)(null),re=(0,i.useRef)(null),Pe=!!p.length&&p[0].baseline,Je=!!p.length&&p[0].baseline_job_id,Xe=function($){re.current.show((0,f.Z)((0,f.Z)({},$),{},{suite_id:r,job_id:F}))},tt=function($){we.current.show((0,f.Z)((0,f.Z)({},$),{},{suite_id:r,job_id:F}))},ht=i.useMemo(function(){return[(0,f.Z)({title:"Test Suite",dataIndex:"conf_name",width:(0,Le.ny)(g,"suite_name")-32||228},(0,ie.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_type"}),dataIndex:"test_type",width:(0,Le.ny)(g,"test_type")||100,render:function($){return(0,e.jsx)("span",{children:$||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),dataIndex:"server_ip",width:130,ellipsis:{showHeader:!1},render:function($,D){return(0,e.jsx)(Bt.Z,{val:$,param:D.server_id,provider:x,description:D.server_description})}},["functional","business_functional","business_business"].includes(s)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.result"}),width:80,render:function($){var D=$.result_data.result;return D==="success"?(0,e.jsx)(Ws,{style:{width:16,height:16}}):D==="fail"?(0,e.jsx)(Vs,{style:{width:16,height:16}}):D==="NA"?(0,e.jsx)(Xs,{style:{width:16,height:16}}):D==="-"?D:""}},{width:["functional","business_functional","business_business"].includes(s)?255:302,render:function($){return["functional","business_functional","business_business"].includes(s)?(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"")},className:_e().column_circle_text,style:{fontWeight:600,color:"#649FF6"},children:$.result_data.case_count}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"success")},className:_e().column_circle_text,style:{fontWeight:600,color:"#81BF84"},children:$.result_data.case_success}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"fail")},className:_e().column_circle_text,style:{fontWeight:600,color:"#C84C5A"},children:$.result_data.case_fail}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"warn")},className:_e().column_circle_text,style:{fontWeight:600,color:"#dcc506"},children:$.result_data.case_warn}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"skip")},className:_e().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:$.result_data.case_skip})]}):(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"")},className:_e().column_circle_text,style:{fontWeight:600,color:"#649FF6"},children:$.result_data.count}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"increase")},className:_e().column_circle_text,style:{fontWeight:600,color:"#81BF84"},children:$.result_data.increase}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"decline")},className:_e().column_circle_text,style:{fontWeight:600,color:"#C84C5A"},children:$.result_data.decline}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"normal")},className:_e().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:$.result_data.normal}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"invalid")},className:_e().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:$.result_data.invalid}),(0,e.jsx)("span",{onClick:function(){return V($.test_case_id,"na")},className:_e().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:$.result_data.na})]})}},["performance","business_performance"].includes(s)&&Pe&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),dataIndex:"baseline",width:80},(0,ie.yQ)()),["performance","business_performance"].includes(s)&&Je&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_job_id"}),dataIndex:"baseline_job_id",width:80},(0,ie.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),dataIndex:"start_time",width:(0,Le.ny)(g,"start_time")||160},(0,ie.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),dataIndex:"end_time",width:(0,Le.ny)(g,"end_time")||160},(0,ie.yQ)()),T.WsTourist()&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.note"}),dataIndex:"note",width:120,ellipsis:{showTitle:!1},render:function($,D){return(0,e.jsx)(ie.Pc,{title:$,width:120,access:T.WsMemberOperateSelf(v),onEdit:function(){return ve.current.show((0,f.Z)((0,f.Z)({},D),{},{suite_name:D.suite_name,editor_obj:"test_job_conf"}))}})}},["performance","business_performance"].includes(s)&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:k?180:145,fixed:"right",render:function($){return(0,e.jsx)(n.Nv,{accessible:T.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:T.WsMemberOperateSelf(v),fallback:(0,e.jsxs)(oe.Z,{onClick:function(){return(0,fe.WR)()},children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return Xe($)},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return tt($)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}]},[s,v,T,Pe,Je,I]).filter(Boolean),_t=["performance","business_performance"].includes(s)?{columnWidth:40,selectedRowKeys:W,onChange:function($){E($)}}:void 0;(0,i.useEffect)(function(){if(j.length){var le=j.findIndex(function($){return $===r});le>-1&&E(p.map(function($){return $.test_case_id}))}else E([])},[j]);var Re=function($,D){$?(_(!0),K(Q.concat([D.test_case_id]))):(_(!1),K(Q.filter(function(z){return z!==D.test_case_id})))};return(0,i.useEffect)(function(){b(r,W)},[W]),(0,i.useEffect)(function(){p.length&&u.includes(r)?K(p.map(function(le){return le.test_case_id})):K([])},[p,u]),(0,e.jsxs)("div",{style:{width:"100%"},children:[(0,e.jsxs)(ce.Z,{justify:"start",children:[!M&&(0,e.jsx)("div",{style:{width:32,background:O}}),(0,e.jsx)(St.Z,{rowKey:"test_case_id",columns:ht,loading:M,showHeader:!1,dataSource:p,pagination:!1,scroll:{x:1300},size:"small",className:_e().resultCaseTableCls,style:{width:"calc(100% - 32px)"},rowSelection:_t,expandable:{defaultExpandAllRows:Z,expandedRowKeys:Q,onExpand:Re,expandedRowClassName:function(){return"expandedRowClassNameCls"},expandedRowRender:function($){return(0,e.jsx)(Bs,(0,f.Z)((0,f.Z)({},$),{},{testType:s,server_provider:o,creator:v,suite_id:r,state:ge,suite_name:d,refreshId:l,setRefreshId:A}))},expandIcon:function($){var D=$.expanded,z=$.onExpand,me=$.record;return D?(0,e.jsx)(Zt.Z,{onClick:function(he){return z(me,he)}}):(0,e.jsx)(Ct.Z,{onClick:function(he){return z(me,he)}})}}})]}),(0,e.jsx)(_n,{ref:we,test_type:s,server_provider:o,onOk:X,accessible:T.IsWsSetting()}),(0,e.jsx)(Mn,{ref:re,test_type:s,server_provider:o,onOk:X}),(0,e.jsx)(zt,{ref:ve,onOk:X})]})},sa=na,Mt=c(97207),pt=c.n(Mt),Ln,aa=["svgRef","title"];function Qt(){return Qt=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Qt.apply(this,arguments)}function ra(a,t){if(a==null)return{};var r=ia(a,t),s,d;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(d=0;d<o.length;d++)s=o[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(r[s]=a[s]))}return r}function ia(a,t){if(a==null)return{};var r={},s=Object.keys(a),d,o;for(o=0;o<s.length;o++)d=s[o],!(t.indexOf(d)>=0)&&(r[d]=a[d]);return r}var la=function(t){var r=t.svgRef,s=t.title,d=ra(t,aa);return i.createElement("svg",Qt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:r},d),s?i.createElement("title",null,s):null,Ln||(Ln=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"S_NA",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u5FFD\\u7565",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M7.99492386,0 C3.57947208,0 0,3.57945178 0,7.99492386 C0,12.4104163 3.57947208,15.9898477 7.99492386,15.9898477 C12.4103756,15.9898477 15.9898477,12.4103959 15.9898477,7.99492386 C15.9898477,3.57949239 12.4103756,0 7.99492386,0 Z M4.56852792,6.85279188 L11.4213198,6.85279188 L11.4213198,9.13705584 L4.56852792,9.13705584 L4.56852792,6.85279188 Z",id:"Shape",fill:"#6A737D"}))))))},da=i.forwardRef(function(a,t){return i.createElement(la,Qt({svgRef:t},a))}),ii=c.p+"static/skip.d363d9e8.svg",An,oa=["svgRef","title"];function Gt(){return Gt=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Gt.apply(this,arguments)}function ua(a,t){if(a==null)return{};var r=ca(a,t),s,d;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(d=0;d<o.length;d++)s=o[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(r[s]=a[s]))}return r}function ca(a,t){if(a==null)return{};var r={},s=Object.keys(a),d,o;for(o=0;o<s.length;o++)d=s[o],!(t.indexOf(d)>=0)&&(r[d]=a[d]);return r}var fa=function(t){var r=t.svgRef,s=t.title,d=ua(t,oa);return i.createElement("svg",Gt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:r},d),s?i.createElement("title",null,s):null,An||(An=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"S_Success",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u6210\\u529F",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M8,0 C3.58171875,0 0,3.58171875 0,8 C0,12.4182812 3.58171875,16 8,16 C12.4182812,16 16,12.4182812 16,8 C16,3.58171875 12.4182812,0 8,0 Z M12.3752188,6.09965625 L7.1603125,11.3145312 C7.03828125,11.4365625 6.84040625,11.4365625 6.718375,11.3145312 L3.62478125,8.2209375 C3.50275,8.0989375 3.50275,7.9010625 3.62478125,7.77903125 L4.5970625,6.80678125 C4.71909375,6.68471875 4.91696875,6.68475 5.039,6.80678125 L6.939375,8.70709375 L10.9610625,4.6854375 C11.0830937,4.56340625 11.2809375,4.56340625 11.403,4.6854375 L12.37525,5.65771875 C12.49725,5.77975 12.4972813,5.977625 12.3752188,6.09965625 Z",id:"Shape",fill:"#81BF84"}))))))},va=i.forwardRef(function(a,t){return i.createElement(fa,Gt({svgRef:t},a))}),li=c.p+"static/success.f8d1ce1e.svg",Nn,pa=["svgRef","title"];function Xt(){return Xt=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Xt.apply(this,arguments)}function ma(a,t){if(a==null)return{};var r=ha(a,t),s,d;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(d=0;d<o.length;d++)s=o[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(r[s]=a[s]))}return r}function ha(a,t){if(a==null)return{};var r={},s=Object.keys(a),d,o;for(o=0;o<s.length;o++)d=s[o],!(t.indexOf(d)>=0)&&(r[d]=a[d]);return r}var xa=function(t){var r=t.svgRef,s=t.title,d=ma(t,pa);return i.createElement("svg",Xt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:r},d),s?i.createElement("title",null,s):null,Nn||(Nn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"S_FAIL",transform:"translate(-4.000000, -5.000000)"},i.createElement("g",{id:"\\u5931\\u8D25",transform:"translate(4.000000, 5.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M8,0 C3.57333333,0 0,3.57333333 0,8 C0,12.4266666 3.57333333,16 8,16 C12.4266666,16 16,12.4266666 16,8 C16,3.57333333 12.4266666,0 8,0 L8,0 Z M10.8533334,12.1066666 L7.94666667,9.36 L5.22666667,12.2666666 L3.78666667,10.9066666 L6.50666667,8 L3.94666667,5.57333333 L5.30666667,4.13333333 L7.86666667,6.56 L10.2933334,4 L11.7333334,5.36 L9.33333336,7.92 L12.2133334,10.6666666 L10.8533334,12.1066666 L10.8533334,12.1066666 Z",id:"Shape",fill:"#C84C5A"}))))))},ga=i.forwardRef(function(a,t){return i.createElement(xa,Xt({svgRef:t},a))}),di=c.p+"static/fail.ebebd89d.svg",vt=c(91959),_a=function(t){var r=(0,n.YB)(),s=r.formatMessage,d=(0,n.Kd)()==="en-US",o=[{key:"count",name:s({id:"ws.result.details.count"}),value:"",color:"#649FF6"},{key:"success",name:s({id:"ws.result.details.success"}),value:"success",color:"#81BF84"},{key:"fail",name:s({id:"ws.result.details.fail"}),value:"fail",color:"#C84C5A"},{key:"warn",name:s({id:"ws.result.details.warn"}),value:"warn",color:"#dcc506"},{key:"skip",name:s({id:"ws.result.details.skip"}),value:"skip",color:"#DDDDDD"}],x=[{key:"count",name:s({id:"ws.result.details.count"}),value:"",color:"#649FF6"},{key:"increase",name:s({id:"ws.result.details.increase"}),value:"increase",color:"#81BF84"},{key:"decline",name:s({id:"ws.result.details.decline"}),value:"decline",color:"#C84C5A"},{key:"normal",name:s({id:"ws.result.details.normal"}),value:"normal",color:"#DDDDDD"},{key:"invalid",name:s({id:"ws.result.details.invalid"}),value:"invalid",color:"#DDDDDD"},{key:"na",name:s({id:"ws.result.details.na"}),value:"na",color:"#DDDDDD"}],v=[{key:"count",name:s({id:"ws.result.details.business.count"}),value:"",color:"#649FF6"},{key:"success",name:s({id:"ws.result.details.business.success"}),value:"success",color:"#81BF84"},{key:"fail",name:s({id:"ws.result.details.business.fail"}),value:"fail",color:"#C84C5A"}],y=(0,Ie.UO)(),u=y.id,S=y.ws_id,j=t.caseResult,b=j===void 0?{}:j,m=t.test_type,Z=m===void 0?"\u529F\u80FD":m,_=t.provider_name,g=_===void 0?"":_,I=t.creator,k=t.refreshResult,w=(0,fe.SE)(Z),F=(0,i.useState)([]),O=(0,C.Z)(F,2),R=O[0],G=O[1],W=(0,i.useState)(!1),E=(0,C.Z)(W,2),N=E[0],U=E[1],Q=(0,i.useState)([]),K=(0,C.Z)(Q,2),T=K[0],te=K[1],Y=(0,i.useState)([]),ge=(0,C.Z)(Y,2),B=ge[0],ae=ge[1],ee=i.useState([]),l=(0,C.Z)(ee,2),A=l[0],h=l[1],p=(0,i.useRef)(null),M=(0,i.useRef)(null),X=(0,i.useRef)(null),se=(0,i.useState)([]),V=(0,C.Z)(se,2),ve=V[0],we=V[1],re=(0,n.md)(),Pe=(0,i.useState)((0,vt.Z)()),Je=(0,C.Z)(Pe,2),Xe=Je[0],tt=Je[1],ht=(0,i.useState)(!1),_t=(0,C.Z)(ht,2),Re=_t[0],le=_t[1],$=i.useState(""),D=(0,C.Z)($,2),z=D[0],me=D[1],ne=i.useState(!0),he=(0,C.Z)(ne,2),Ce=he[0],Oe=he[1],it=function(){var je=(0,Se.Z)((0,q.Z)().mark(function L(){var de,be;return(0,q.Z)().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return Oe(!0),qe.next=3,(0,Ze.EF)({state:"",job_id:u});case 3:de=qe.sent,be=de.data,Oe(!1),we(Object.prototype.toString.call(be)==="[object Array]"?be:[]);case 7:case"end":return qe.stop()}},L)}));return function(){return je.apply(this,arguments)}}();i.useEffect(function(){(u||k)&&it()},[u,k]);var Fe=function(L,de){ae(function(be){return be.concat(L.suite_id)}),h(function(be){return be.concat(L.suite_id)}),we(function(be){return be==null?void 0:be.map(function(nt){return nt.suite_id===L.suite_id?(0,f.Z)((0,f.Z)({},nt),{},{expandedState:de}):nt})})},rn=function(L){M.current.show((0,f.Z)((0,f.Z)({},L),{},{job_id:u}))},ln=function(){it(),te([]),G([]),tt((0,vt.Z)())},dn=function(L){p.current.show((0,f.Z)((0,f.Z)({},L),{},{job_id:u}))},Ft=function(L){var de=L?ve.map(function(be){var nt=be.suite_id;return nt}):[];U(L),ae(de),h(de)},on=["functional","business_functional"].includes(w)?o:w==="business_business"?v:x,Nt=ve[0]||{},It=Nt.baseline,Wt=Nt.baseline_job_id,un=[(0,f.Z)({title:"Test Suite",dataIndex:"suite_name",width:260},(0,ie.yQ)()),["functional","performance"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_type"}),dataIndex:"test_type",width:100,ellipsis:{showTitle:!1},render:function(L){var de=(0,fe.SE)(L);return(0,e.jsx)("span",{children:(0,e.jsx)(n._H,{id:"".concat(de,".test"),defaultMessage:L})})}},["business_functional","business_performance","business_business"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(L){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:L})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),width:130,dataIndex:"server",render:function(){return"-"}},["functional","business_functional","business_business"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.result"}),dataIndex:"result",width:80,render:function(L){return L==="NA"?(0,e.jsx)(da,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):L==="-"?L:L==="fail"?(0,e.jsx)(ga,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):L==="success"?(0,e.jsx)(va,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):(0,e.jsx)(e.Fragment,{})}},{title:["functional","business_functional"].includes(w)?(0,e.jsx)(n._H,{id:"ws.result.details.functional"}):w==="business_business"?(0,e.jsx)(n._H,{id:"ws.result.details.business_business"}):(0,e.jsx)(n._H,{id:"ws.result.details.performance"}),width:["functional","business_functional","business_business"].includes(w)?255:302,key:"details",render:function(L){return["functional","business_functional","business_business"].includes(w)?(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#649FF6"},onClick:function(){return Fe(L,"")},children:L.conf_count}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#81BF84"},onClick:function(){return Fe(L,"success")},children:L.conf_success}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#C84C5A"},onClick:function(){return Fe(L,"fail")},children:L.conf_fail}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#dcc506"},onClick:function(){return Fe(L,"warn")},children:L.conf_warn}),w!=="business_business"&&(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"skip")},children:L.conf_skip})]}):(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#649FF6"},onClick:function(){return Fe(L,"")},children:L.count}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#81BF84"},onClick:function(){return Fe(L,"increase")},children:L.increase}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#C84C5A"},onClick:function(){return Fe(L,"decline")},children:L.decline}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"normal")},children:L.normal}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"invalid")},children:L.invalid}),(0,e.jsx)("div",{className:_e().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"na")},children:L.na})]})}},["performance","business_performance"].includes(w)&&!!It&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),dataIndex:"baseline",width:80},(0,ie.yQ)()),["performance","business_performance"].includes(w)&&Wt&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_job_id"}),dataIndex:"baseline_job_id",width:80},(0,ie.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),dataIndex:"start_time",width:160},(0,ie.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),dataIndex:"end_time",width:160},(0,ie.yQ)()),re.WsTourist()&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),dataIndex:"note",width:120,ellipsis:{showTitle:!1},render:function(L,de){return(0,e.jsx)(ie.Pc,{title:L,width:120,access:re.WsMemberOperateSelf(I),onEdit:function(){return X.current.show((0,f.Z)((0,f.Z)({},de),{},{suite_name:de.suite_name,editor_obj:"test_job_suite"}))}})}},["performance","business_performance"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:d?180:145,fixed:"right",key:"operation",ellipsis:{showTitle:!1},render:function(L){var de={color:"#1890FF",cursor:"pointer",whiteSpace:"nowrap"};return(0,e.jsx)(n.Nv,{accessible:re.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:re.WsMemberOperateSelf(I),fallback:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{style:de,onClick:function(){return(0,fe.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:de,onClick:function(){return(0,fe.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("span",{style:de,onClick:function(){return rn(L)},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:de,onClick:function(){return dn(L)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}],$t=function(){M.current.show({job_id:u,suite_data:T,suite_list:R})},Kt=function(){it(),te([]),G([])},Ut=function(){p.current.show({job_id:u,suite_data:T,suite_list:R})},Pt=function(){le(!N),Ft(!N)},cn=function(){N&&(h([]),le(!1)),U(!N),ae(N?[]:ve.map(function(L){return L.suite_id}))},fn=function(){le(!Re),Re?h([]):Ft(!0)},vs=function(L){me(L),we(function(de){return de==null?void 0:de.map(function(be){return(0,f.Z)((0,f.Z)({},be),{},{expandedState:L})})}),ve.length&&(Pt(),Ft(!0))};(0,i.useEffect)(function(){if(b.count<50){var je=ve.map(function(L){var de=L.suite_id;return de});ae(je),h(je),U(!0),le(!0)}},[b,ve]);var Be=w==="performance"?{columnWidth:40,selectedRowKeys:R,onChange:function(L){G(L)}}:void 0,Lr=function(L,de){var be=[];if(de.length>0){var nt=be.findIndex(function(qe){return qe.suite_id===L});nt>-1?be=T.filter(function(qe){if(qe.suite_id===L)return{suite_id:L,case_list:de}}):be=T.concat([{suite_id:L,case_list:de}]).reverse()}else be=T.filter(function(qe){if(qe.suite_id!==L)return qe});te((0,Mt.uniqBy)(be,"suite_id"))},ps=i.useMemo(function(){return B.length===ve.length},[B,ve]),ms=["functional","business_functional","business_business"].includes(w)?"Case":"index",Ar=s(ps?{id:"ws.result.details.folded.conf"}:{id:"ws.result.details.expand.conf"}),Nr=s(Re?{id:"ws.result.details.folded.".concat(ms)}:{id:"ws.result.details.expand.".concat(ms)}),hs="ws-job-result-list",Wr=i.useState((0,vt.Z)()),xs=(0,C.Z)(Wr,2),$r=xs[0],Kr=xs[1],vn=i.useMemo(function(){return!(T.length||R.length)},[R,T]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{padding:"4px 20px 20px 20px"},children:[(0,e.jsxs)(ce.Z,{justify:"space-between",children:[(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(js.Z.Button,{onClick:Pt,placement:"bottomLeft",icon:(0,e.jsx)(Tn.Z,{}),overlay:(0,e.jsxs)(pn.Z,{children:[(0,e.jsx)(pn.Z.Item,{className:_e().expandConf,onClick:cn,children:Ar},"1"),(0,e.jsx)(pn.Z.Item,{className:_e().expandIndex,onClick:fn,children:Nr},"2")]}),children:s(ps?{id:"ws.result.details.folded.all"}:{id:"ws.result.details.expand.all"})}),["performance","business_performance"].includes(w)&&(0,e.jsx)(n.Nv,{accessible:re.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:re.WsMemberOperateSelf(I),fallback:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return(0,fe.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.baseline"})}),(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return(0,fe.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.join.baseline"})})]}),children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return $t()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.baseline"})}),(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return Ut()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.join.baseline"})})]})})})]}),(0,e.jsx)(oe.Z,{children:on.map(function(je){var L=je.key,de=je.name,be=je.value;return(0,e.jsxs)("span",{onClick:function(){return vs(be)},style:{cursor:"pointer",color:z===be?"#1890FF":"rgba(0, 0, 0, 0.65)"},children:[de,"(",b[L],")"]},L)})})]}),(0,e.jsx)(Le.sL,{columns:un,onColumnsChange:function(){return Kr((0,vt.Z)())},rowKey:"suite_id",name:hs,dataSource:ve,pagination:!1,refreshDeps:[S,re,w,It,Wt,I],size:"small",loading:Ce,className:_e().result_expand_table,style:{marginTop:20},rowSelection:Be,expandable:{defaultExpandAllRows:N,expandedRowKeys:B,onExpand:function(L,de){if(L){var be=B.concat([de.suite_id]);ae(be),(be==null?void 0:be.length)===ve.length&&(U(!0),le(!0))}else{var nt=B.filter(function(qe){return qe!==de.suite_id});ae(nt),nt.length||(U(!1),le(!1))}},expandedRowRender:function(L){return(0,e.jsx)(sa,(0,f.Z)((0,f.Z)({},L),{},{creator:I,columnsChange:$r,parentTableName:hs,server_provider:g,provider_name:g,testType:w,setIndexExpandFlag:le,suiteSelect:R,onCaseSelect:Lr,expandedCaseRowKeys:A}),Xe)},expandIcon:function(L){var de=L.expanded,be=L.onExpand,nt=L.record;return de?(0,e.jsx)(Zt.Z,{onClick:function(kn){return be(nt,kn)}}):(0,e.jsx)(Ct.Z,{onClick:function(kn){return be(nt,kn)}})}}})]}),(0,e.jsx)(_n,{ref:p,test_type:w,server_provider:g,onOk:Kt,accessible:re.IsWsSetting()}),(0,e.jsx)(zt,{ref:X,onOk:it}),(0,e.jsx)(Mn,{ref:M,test_type:w,server_provider:g,onOk:ln})]})},ja=_a,oi=c(40204),jt=c(10724),ba=c(68210),ya=c(53187),wa=c.n(ya),Wn,Za=(0,ot.ZP)(St.Z)(Wn||(Wn=(0,dt.Z)([`
    .expanded-row-padding-no>td {
        padding : 0 !important;
    }
    .buildWrap {
        height: 122px;
        padding: 20px 70px;
    }
`]))),bn=function(t){var r=t.name,s=t.link,d=(0,n.YB)(),o=d.formatMessage,x=function(y){var u=document.createElement("a");u.style.width="0px",u.style.height="0px",document.body.appendChild(u);var S=new(wa())(u,{text:function(){return y}});S.on("success",function(){Me.default.success(o({id:"ws.result.details.copied"}))}),u.click(),S.destroy(),document.body.removeChild(u)};return s?(0,e.jsxs)(ce.Z,{gutter:16,style:{width:"100%"},children:[(0,e.jsx)(H.Z,{span:2,xs:3,md:2,style:{textAlign:"right"},children:(0,e.jsxs)(P.Z.Text,{strong:!0,children:[r,(0,e.jsx)(n._H,{id:"ws.result.details.package"})]})}),(0,e.jsx)(H.Z,{span:18,children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(P.Z.Link,{children:s}),(0,e.jsx)("span",{onClick:function(){return x(s)},style:{cursor:"pointer"},children:(0,e.jsx)(ba.r,{})})]})})]}):(0,e.jsx)(e.Fragment,{})},Ca=function(t){var r=(0,Ie.UO)(),s=r.id,d=t.refresh,o=d===void 0?!1:d,x=(0,i.useState)([]),v=(0,C.Z)(x,2),y=v[0],u=v[1],S=(0,n.QT)(function(){return(0,Ze.f7)({job_id:s})},{manual:!0}),j=S.loading,b=S.run,m=S.data;i.useEffect(function(){m&&JSON.stringify(m)!=="{}"&&u([m])},[m]),(0,i.useEffect)(function(){b()},[o]);var Z=[(0,f.Z)({dataIndex:"name",title:(0,e.jsx)(n._H,{id:"ws.result.details.name"})},(0,ie.yQ)()),{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:ie.tZ},{dataIndex:"git_repo",title:(0,e.jsx)(n._H,{id:"ws.result.details.git_repo"}),ellipsis:!0,render:function(g){return g?(0,e.jsx)("a",{href:g,target:"_blank",children:g}):"-"}},(0,f.Z)({dataIndex:"git_branch",title:(0,e.jsx)(n._H,{id:"ws.result.details.git_branch"})},(0,ie.yQ)()),(0,f.Z)({dataIndex:"git_commit",title:"commit"},(0,ie.yQ)()),{dataIndex:"cbp_link",title:(0,e.jsx)(n._H,{id:"ws.result.details.cbp_link"}),ellipsis:!0,render:function(g){return g?(0,e.jsx)("a",{href:g,target:"_blank",children:g}):"-"}},(0,f.Z)({dataIndex:"start_timne",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"})},(0,ie.yQ)()),(0,f.Z)({dataIndex:"end_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"})},(0,ie.yQ)())];return y&&y.length?(0,e.jsx)(jt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.build.kernel"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none",borderTop:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(Za,{dataSource:y,columns:Z,rowKey:"name",loading:j,size:"small",pagination:!1,expandable:{expandedRowClassName:function(){return"expanded-row-padding-no"},expandedRowRender:function(g){return(0,e.jsxs)(oe.Z,{direction:"vertical",style:{width:"100%",padding:16},children:[(0,e.jsx)(bn,{name:"kernel",link:g.kernel_package}),(0,e.jsx)(bn,{name:"devel",link:g.devel_package}),(0,e.jsx)(bn,{name:"headers",link:g.headers_package})]})},expandIcon:function(g){var I=g.expanded,k=g.onExpand,w=g.record;return I?(0,e.jsx)(Zt.Z,{onClick:function(O){return k(w,O)}}):(0,e.jsx)(Ct.Z,{onClick:function(O){return k(w,O)}})}}})}):(0,e.jsx)(e.Fragment,{})},Sa=Ca,ui=c(16832),Rt=c(69827),$n=c(17286),Kn,Un,Ve=(0,ot.ZP)(ce.Z)(Kn||(Kn=(0,dt.Z)([`
    & div:first-child {
        text-align: right;
        font-size: 14px;
        color: rgba(0,0,0,.45);
    }
    & div:last-child {
        font-size: 14px;
        color: #000000;
    }
`]))),qt=ot.ZP.span(Un||(Un=(0,dt.Z)([`
    float: left;
    width:2px;
    height:14px;
    background: #1890ff;
    margin: 5px 8px 0 0;
`]))),ka=function(t){var r=t.tid,s=(0,i.useState)(!1),d=(0,C.Z)(s,2),o=d[0],x=d[1],v=(0,i.useState)({}),y=(0,C.Z)(v,2),u=y[0],S=y[1],j=(0,i.useState)(!1),b=(0,C.Z)(j,2),m=b[0],Z=b[1],_=function(){var I=(0,Se.Z)((0,q.Z)().mark(function k(w){var F,O,R,G;return(0,q.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!w){E.next=10;break}return x(!0),E.next=4,(0,Ze.K0)({tid:r});case 4:F=E.sent,O=F.data,R=F.code,G=F.msg,R===200?S(O):(0,fe.EV)(R,G),x(!1);case 10:Z(w);case 11:case"end":return E.stop()}},k)}));return function(w){return I.apply(this,arguments)}}(),g=(0,i.useMemo)(function(){return(0,e.jsxs)(He.Z,{spinning:o,children:[(0,e.jsxs)(Rt.Z.Content,{style:{marginBottom:20},children:[(0,e.jsx)(kt.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(P.Z.Text,{strong:!0,children:[(0,e.jsx)(qt,{}),"\u4EFB\u52A1\u4FE1\u606F"]})}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"TID:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.tid)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Sync:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.sync)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Env:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.env)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Args:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.args)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Cwd:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.cwd)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Timeout:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.timeout)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"IP:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.ip)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"SN:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.sn)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"TSN:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.tsn)||"-"})]})]}),(0,e.jsxs)(Rt.Z.Content,{style:{marginBottom:20},children:[(0,e.jsx)(kt.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(P.Z.Text,{strong:!0,children:[(0,e.jsx)(qt,{}),"\u4EFB\u52A1\u72B6\u6001"]})}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Status:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.status)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Delivery time:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.delivery_time)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Start time:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.start_time)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Finish time:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.finish_time)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Exit code:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.exit_code)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Error code:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.error_code)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Error msg:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.error_msg)||"-"})]}),(0,e.jsxs)(Ve,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Pid:"}),(0,e.jsx)(H.Z,{span:18,children:(u==null?void 0:u.pid)||"-"})]})]}),(0,e.jsxs)(Rt.Z.Content,{style:{marginBottom:20},children:[(0,e.jsx)(kt.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(P.Z.Text,{strong:!0,children:[(0,e.jsx)(qt,{}),"\u4EFB\u52A1\u811A\u672C"]})}),(0,e.jsx)(ce.Z,{gutter:20,style:{margin:"0 10px",height:200},children:(0,e.jsx)($n.Z,{code:u.script})})]}),(0,e.jsxs)(Rt.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(kt.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(P.Z.Text,{strong:!0,children:[(0,e.jsx)(qt,{}),"\u4EFB\u52A1\u7ED3\u679C"]})}),(0,e.jsx)(ce.Z,{gutter:20,style:{margin:"0 10px",height:200},children:(0,e.jsx)($n.Z,{code:u==null?void 0:u.result})})]})]})},[u,o]);return(0,e.jsx)($e.Z,{visible:m,overlayStyle:{width:510,maxWidth:"unset",padding:0,maxHeight:400,overflowY:"auto",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)"},color:"#fff",placement:"right",title:g,onVisibleChange:_,children:r})},yn=ka,Ta=c(87204),Lt=c.n(Ta),zn,Ra=["svgRef","title"];function en(){return en=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},en.apply(this,arguments)}function Ea(a,t){if(a==null)return{};var r=Oa(a,t),s,d;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(d=0;d<o.length;d++)s=o[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,s)||(r[s]=a[s]))}return r}function Oa(a,t){if(a==null)return{};var r={},s=Object.keys(a),d,o;for(o=0;o<s.length;o++)d=s[o],!(t.indexOf(d)>=0)&&(r[d]=a[d]);return r}var Fa=function(t){var r=t.svgRef,s=t.title,d=Ea(t,Ra);return i.createElement("svg",en({width:"41px",height:"21px",viewBox:"0 0 41 21",ref:r},d),s?i.createElement("title",null,s):null,zn||(zn=i.createElement("g",{id:"Job\\u7ED3\\u679C\\u9875",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",opacity:.153831845},i.createElement("g",{id:"Artboard",transform:"translate(-246.000000, -132.000000)",stroke:"#000000"},i.createElement("g",{id:"Group-8-Copy",transform:"translate(246.000000, 132.000000)"},i.createElement("line",{x1:.5,y1:.5,x2:.5,y2:20.5,id:"Path-4"}),i.createElement("line",{x1:.75,y1:20,x2:40.75,y2:20.115605,id:"Path-4-Copy"}))))))},Ia=i.forwardRef(function(a,t){return i.createElement(Fa,en({svgRef:t},a))}),ci=c.p+"static/line.e6f7ecfa.svg",Pa=function(t){var r=t.dataSource,s=t.parentTableName,d=t.columnsChange,o=(0,n.YB)(),x=o.formatMessage,v=i.useMemo(function(){return[{dataIndex:"mode",title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),width:(0,Le.ny)(s,"server_type")+47||127,ellipsis:{showTitle:!1}},{dataIndex:"ip",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),align:"center",ellipsis:{showTitle:!1},width:(0,Le.ny)(s,"server")||220,render:function(){return(0,e.jsx)("div",{style:{display:"flex",justifyContent:"start"},children:(0,e.jsx)(Ia,{})})}},{dataIndex:"stage",title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),ellipsis:{showTitle:!1},width:(0,Le.ny)(s,"stage")||150,render:function(u){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:u||"-"})}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:{showTitle:!1},width:(0,Le.ny)(s,"state")||80,render:ie.tZ},(0,f.Z)({dataIndex:"result",title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),width:(0,Le.ny)(s,"result")},(0,ie.cQ)("Nothing to do")),{dataIndex:"tid",title:"TID",width:(0,Le.ny)(s,"tid"),ellipsis:{showTitle:!1},render:function(u){return u&&u.length?u.indexOf("API_v2_0_")>-1?(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:u}):(0,e.jsx)(yn,{tid:u}):"-"}},{dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},width:(0,Le.ny)(s,"gmt_created")||170},{dataIndex:"gmt_modified",title:(0,e.jsx)(n._H,{id:"ws.result.details.finish_time"}),ellipsis:{showTitle:!1},width:(0,Le.ny)(s,"gmt_modified")||170},{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),ellipsis:{showTitle:!1},key:"log",fixed:"right",width:(0,Le.ny)(s,"log")||80,render:function(u){var S=x({id:"ws.result.details.log"});return(u.state==="success"||u.state==="fail"||u.state==="stop")&&u.log_file?(0,e.jsx)(ke.Z,{size:"small",type:"link",style:{padding:0},onClick:function(){return window.open(u.log_file)},children:S}):(0,e.jsx)(ke.Z,{size:"small",type:"link",style:{padding:0},disabled:!0,children:S})}}]},[d]);return(0,e.jsx)(St.Z,{columns:v,dataSource:r,showHeader:!1,rowKey:"rowKey",size:"small",scroll:{x:v.reduce(function(y,u){return u!=null&&u.width?y+=+u.width:y},0)},rowClassName:Lt().prep_test_conf_row,pagination:!1})},Vn=Pa,Da=function(t){var r=t.refresh,s=r===void 0?!1:r,d=t.provider_name,o=(0,Ie.UO)(),x=o.id,v=o.ws_id,y=(0,n.YB)(),u=y.formatMessage,S=(0,i.useState)([]),j=(0,C.Z)(S,2),b=j[0],m=j[1],Z=i.useState((0,vt.Z)()),_=(0,C.Z)(Z,2),g=_[0],I=_[1],k=(0,n.QT)(function(){return(0,Ze.DH)({job_id:x,ws_id:v})},{refreshDeps:[s]}),w=k.data,F=k.loading;if(!w)return(0,e.jsx)(e.Fragment,{});var O=[{dataIndex:"server_type",title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),ellipsis:{showTitle:!1},width:80,render:function(E){return u({id:E})}},{dataIndex:"server",width:220,title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),ellipsis:{showTitle:!1},render:function(E,N){return N.server_type==="cluster"?(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:E}):(0,e.jsx)(Bt.Z,{val:E,param:N.server_id,provider:d,description:N.server_description})}},{dataIndex:"stage",title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),ellipsis:{showTitle:!1},width:150,render:function(E){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:E||"-"})}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:{showTitle:!1},width:80,render:ie.tZ},{dataIndex:"result",ellipsis:{showTitle:!1},title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),render:function(E){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:E||"-"})}},{dataIndex:"tid",title:"TID",ellipsis:{showTitle:!1},render:function(){return"-"}},(0,f.Z)({dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),width:170},(0,ie.yQ)()),(0,f.Z)({dataIndex:"gmt_modified",title:(0,e.jsx)(n._H,{id:"ws.result.details.finish_time"}),width:170},(0,ie.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),width:80,key:"log",fixed:"right",ellipsis:{showTitle:!1},render:function(E){var N=u({id:"ws.result.details.log"});return(E.state==="success"||E.state==="fail"||E.state==="stop")&&E.log_file?(0,e.jsx)(P.Z.Link,{href:E.log_file,target:"_blank",children:N}):(0,e.jsx)(P.Z.Link,{disabled:!0,children:N})}}],R=[{width:150},{dataIndex:"server",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),width:300,render:function(E,N){return E?(0,e.jsx)(Bt.Z,{val:E,param:N.server_id,provider:d}):"-"}},{},{},{},{},{}],G="ws-job-result-process-parent";return(0,e.jsx)(jt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.preparation"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none",borderTop:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(Le.sL,{dataSource:w==null?void 0:w.map(function(W,E){return(0,f.Z)((0,f.Z)({},W),{},{rowkey:"".concat(W.server_id||W.server,"-").concat(E)})}),columns:O,name:G,onColumnsChange:function(){return I((0,vt.Z)())},rowKey:"rowkey",loading:F,size:"small",className:Lt().prepTable,pagination:!1,expandable:{columnWidth:47,expandedRowClassName:function(){return"expanded-row-padding-no"},expandedRowKeys:b,onExpand:function(E,N){return m(E?b.concat(N.rowkey):b.filter(function(U){return U!==N.rowkey}))},expandedRowRender:function(E){return E.server_type==="cluster"?Object.keys(E.server_list).map(function(N){var U,Q=E.server_list[N],K=(U=Q[0])===null||U===void 0?void 0:U.server_id;return(0,e.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,e.jsx)(St.Z,{dataSource:[{server:N,id:K,server_id:K}],columns:R,size:"small",rowKey:"id",showHeader:!1,pagination:!1},N),(0,e.jsx)(Vn,(0,f.Z)((0,f.Z)({},E),{},{columnsChange:g,parentTableName:G,dataSource:Q.map(function(T){return(0,f.Z)({id:K},T)})}))]},K)}):(0,e.jsx)(Vn,(0,f.Z)((0,f.Z)({parentTableName:G,columnsChange:g},E),{},{dataSource:E.server_list.map(function(N){return(0,f.Z)({id:N.server_id},N)})}))},expandIcon:function(E){var N=E.expanded,U=E.onExpand,Q=E.record;return N?(0,e.jsx)(Zt.Z,{onClick:function(T){return U(Q,T)}}):(0,e.jsx)(Ct.Z,{onClick:function(T){return U(Q,T)}})}}})})},Ha=Da,fi=c(13059),Yn=c(53676),Jn=function(a){var t=a.title,r=t===void 0?"":t,s=a.need_reboot,d=a.setup_info,o=a.cleanup_info,x=a.step,v=(0,n.YB)(),y=v.formatMessage,u=[(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),dataIndex:"stage"},(0,ie.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),dataIndex:"state",render:ie.tZ},(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),dataIndex:"result"},(0,ie.yQ)()),{title:"TID",dataIndex:"tid",ellipsis:{showTitle:!1},render:function(m){return m&&m.length?m.indexOf("API_v2_0_")>-1?(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:m}):(0,e.jsx)(yn,{tid:m}):"-"}},(0,f.Z)({dataIndex:"start_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"})},(0,ie.yQ)()),(0,f.Z)({dataIndex:"end_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"})},(0,ie.yQ)())],S=s?y({id:"ws.result.details.restart.server"}):"",j=d||o?y({id:"ws.result.details.execute.script"}):"";return S||j?(0,e.jsx)(Yn.Z,{overlayStyle:{width:850},arrowPointAtCenter:!0,className:Lt().step_table_popover,title:r,content:(0,e.jsx)(St.Z,{size:"small",rowKey:"uid",columns:u,style:{width:810},dataSource:x,pagination:!1}),children:(0,e.jsx)("span",{className:Lt().popover_text_span,children:"".concat(S).concat(S&&j&&"\u3001").concat(j)})}):(0,e.jsx)(e.Fragment,{children:"-"})},Ba=c(76742),Ma=function(t){var r=t.test_suite_name,s=t.test_suite_id,d=t.testType,o=t.provider_name,x=t.creator,v=t.columnsRefresh,y=t.setColumnsRefresh,u=(0,Ie.UO)(),S=u.id,j=(0,n.YB)(),b=j.formatMessage,m=(0,n.Kd)()==="en-US",Z={page_num:1,page_size:10,job_id:S,test_suite_id:s},_=(0,i.useState)(Z),g=(0,C.Z)(_,2),I=g[0],k=g[1],w=(0,i.useState)(!1),F=(0,C.Z)(w,2),O=F[0],R=F[1],G=(0,i.useState)(0),W=(0,C.Z)(G,2),E=W[0],N=W[1],U=(0,i.useState)({data:[],total:0}),Q=(0,C.Z)(U,2),K=Q[0],T=Q[1],te=(0,n.tT)("@@initialState"),Y=te.initialState,ge=(0,n.md)(),B=function(){var h=(0,Se.Z)((0,q.Z)().mark(function p(M){var X,se,V;return(0,q.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return R(!0),we.next=3,(0,Ze.EG)(M);case 3:X=we.sent,se=X.code,V=X.msg,se===200?(T(X),N(E),R(!1)):(0,fe.EV)(se,V);case 6:case"end":return we.stop()}},p)}));return function(M){return h.apply(this,arguments)}}(),ae=(0,fe.YM)(I),ee=(0,fe.YM)(K),l=function(){var h=(0,Se.Z)((0,q.Z)().mark(function p(M,X){var se,V,ve,we,re,Pe,Je;return(0,q.Z)().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return se=Y==null?void 0:Y.authList,V=se.user_id,ve=V?{user_id:V}:{},tt.next=4,(0,Ze.Xc)((0,f.Z)((0,f.Z)({},ve),{},{editor_obj:"test_job_conf",test_job_conf_id:M.id,state:X}));case 4:we=tt.sent,re=we.code,Pe=we.msg,Je=ae.current.page_size,re===200?(k((0,f.Z)((0,f.Z)({},I),{},{page_num:(0,fe.NG)(ae,ee),page_size:Je})),Me.default.success(b({id:"operation.success"}))):(0,fe.EV)(re,Pe);case 9:case"end":return tt.stop()}},p)}));return function(M,X){return h.apply(this,arguments)}}();(0,i.useEffect)(function(){B(I)},[I]);var A=[(0,f.Z)({dataIndex:"test_case_name",title:"Test Conf",width:160},(0,ie.yQ)()),{dataIndex:"server",title:["business_business"].includes(d)?(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}):(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),width:100,ellipsis:{showTitle:!1},render:function(p,M){return(0,e.jsx)(Bt.Z,{val:p,param:M.server_id,provider:o,description:M.server_description})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.env.preparation"}),width:m?200:80,ellipsis:{showTitle:!1},key:"preparation",render:function(p){var M=b({id:"ws.result.details.env.preparation.details"});return(0,e.jsx)(Jn,(0,f.Z)((0,f.Z)({},p),{},{title:"".concat(r,"/").concat(p.name||p.test_case_name).concat(M)}))}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:!0,width:80,render:ie.tZ},{dataIndex:"tid",title:"TID",width:120,ellipsis:{showTitle:!1},render:function(p){return p&&p.length?p.indexOf("API_v2_0_")>-1?(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:p}):(0,e.jsx)(yn,{tid:p}):"-"}},(0,f.Z)({dataIndex:"result",title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),width:150},(0,ie.yQ)("Nothing to do")),(0,f.Z)({dataIndex:"start_time",width:160,title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"})},(0,ie.yQ)("-")),(0,f.Z)({dataIndex:"end_time",width:160,title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"})},(0,ie.yQ)("-")),{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),width:80,ellipsis:{showTitle:!1},fixed:"right",key:"log",render:function(p){var M=b({id:"ws.result.details.log"});return["success","fail","stop"].includes(p.state)&&p.log_file?(0,e.jsx)(P.Z.Link,{target:"_blank",href:p.log_file,children:M}):(0,e.jsx)(P.Z.Text,{disabled:!0,children:M})}},{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:80,ellipsis:{showTitle:!1},fixed:"right",key:"operation",render:function(p){return(0,e.jsx)(n.Nv,{accessible:ge.WsTourist(),children:(0,e.jsxs)(n.Nv,{accessible:ge.WsMemberOperateSelf(x),fallback:(0,e.jsxs)(P.Z.Link,{onClick:function(){return(0,fe.WR)()},children:[p.state==="running"&&(0,e.jsx)(n._H,{id:"ws.result.details.suspension"}),p.state==="pending"&&(0,e.jsx)(n._H,{id:"ws.result.details.skip"})]}),children:[p.state==="running"&&(0,e.jsx)(P.Z.Link,{onClick:function(){return l(p,"stop")},children:(0,e.jsx)(n._H,{id:"ws.result.details.suspension"})}),p.state==="pending"&&(0,e.jsx)(P.Z.Link,{onClick:function(){return l(p,"skip")},children:(0,e.jsx)(n._H,{id:"ws.result.details.skip"})})]})})}}];return(0,e.jsxs)(oe.Z,{style:{width:"100%",paddingLeft:40,paddingBottom:8},direction:"vertical",children:[(0,e.jsx)(Le.sL,{columns:A,name:"ws-job-result-process-testconf",dataSource:(K==null?void 0:K.data)||[],refreshDeps:[o,ge,d,r,x,v],loading:O,rowKey:"id",size:"small",pagination:!1,onColumnsChange:y}),(0,e.jsx)(Ba.Z,{style:{marginTop:0,marginBottom:0},total:K.total,currentPage:I.page_num,pageSize:I.page_size,onPageChange:function(p,M){k((0,f.Z)((0,f.Z)({},I),{},{page_num:p,page_size:M}))}})]})},La=Ma,tn={color:"#1890FF",cursor:"pointer",marginLeft:12},nn={color:"rgba(0,0,0,.25)",marginLeft:12},Aa=function(t){var r=t.refresh,s=r===void 0?!1:r,d=t.testType,o=t.provider_name,x=(0,Ie.UO)(),v=x.id,y=(0,n.YB)(),u=y.formatMessage,S=(0,n.tT)("@@initialState"),j=S.initialState,b=(0,n.md)(),m=(0,i.useState)(!1),Z=(0,C.Z)(m,2),_=Z[0],g=Z[1],I=(0,i.useState)(0),k=(0,C.Z)(I,2),w=k[0],F=k[1],O=i.useState((0,vt.Z)()),R=(0,C.Z)(O,2),G=R[0],W=R[1],E=(0,i.useState)([]),N=(0,C.Z)(E,2),U=N[0],Q=N[1],K=u({id:"ws.result.details.stop.suite"}),T=u({id:"ws.result.details.skip.suite"}),te=(0,n.QT)(function(){return(0,Ze.Po)({job_id:v})},{manual:!0,initialData:[]}),Y=te.data,ge=te.loading,B=te.run;(0,i.useEffect)(function(){B()},[s]);var ae=function(){var A=(0,Se.Z)((0,q.Z)().mark(function h(p){var M,X,se,V,ve,we;return(0,q.Z)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return M=j==null?void 0:j.authList,X=M.user_id,se=X?{user_id:X}:{},Pe.next=4,(0,Ze.Xc)((0,f.Z)((0,f.Z)({},se),{},{editor_obj:"test_job_suite",test_job_suite_id:p.id,state:"stop"}));case 4:if(V=Pe.sent,ve=V.code,we=V.msg,ve===200){Pe.next=10;break}return(0,fe.EV)(ve,we),Pe.abrupt("return");case 10:B(),Me.default.success(u({id:"operation.success"}));case 12:case"end":return Pe.stop()}},h)}));return function(p){return A.apply(this,arguments)}}(),ee=function(){var A=(0,Se.Z)((0,q.Z)().mark(function h(p){var M,X,se,V,ve;return(0,q.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return M=j==null?void 0:j.authList,X=M.user_id,re.next=3,(0,Ze.Xc)({editor_obj:"test_job_suite",state:"skip",test_job_suite_id:p.id,user_id:X});case 3:if(se=re.sent,V=se.code,ve=se.msg,V!==200){re.next=13;break}F(p.id),g(!0),Me.default.success(u({id:"operation.success"})),B(),re.next=16;break;case 13:return g(!1),(0,fe.EV)(V,ve),re.abrupt("return");case 16:case"end":return re.stop()}},h)}));return function(p){return A.apply(this,arguments)}}(),l=[{dataIndex:"test_suite_name",title:"Test Suite",width:160,ellipsis:{showTitle:!1}},["business_business"].includes(d)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(h){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:h})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.env.preparation"}),ellipsis:{showTitle:!1},key:"preparation",render:function(h){var p=u({id:"ws.result.details.env.preparation.details"});return(0,e.jsx)(Jn,(0,f.Z)((0,f.Z)({},h),{},{title:"".concat(h.test_suite_name).concat(p)}))}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:function(h){return(0,ie.tZ)(h)}},{dataIndex:"start_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},render:function(h){return(0,e.jsx)(e.Fragment,{children:h||"-"})}},{dataIndex:"end_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),ellipsis:{showTitle:!1},render:function(h){return(0,e.jsx)(e.Fragment,{children:h||"-"})}},{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),fixed:"right",key:"operation",render:function(h){var p=h.state,M={color:p!=="running"?"rgba(0,0,0,.25)":"#1890FF",cursor:p!=="running"?"not-allowed":"pointer"},X=_&&w===h.id;return p==="running"?(0,e.jsx)(n.Nv,{accessible:b.WsTourist(),children:(0,e.jsxs)(n.Nv,{accessible:b.WsMemberOperateSelf(h.creator),fallback:(0,e.jsxs)("span",{children:[(0,e.jsx)("span",{style:M,onClick:function(){return(0,fe.WR)()},children:K}),X?(0,e.jsx)("span",{style:nn,children:T}):(0,e.jsx)("span",{style:tn,onClick:function(){return(0,fe.WR)()},children:T})]}),children:[(0,e.jsx)("span",{style:M,onClick:function(){return ae(h)},children:K}),X?(0,e.jsx)("span",{style:nn,children:T}):(0,e.jsx)("span",{style:tn,onClick:function(){return ee(h)},children:T})]})}):p==="pending"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{style:M,children:K}),(0,e.jsx)(n.Nv,{accessible:b.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:b.WsMemberOperateSelf(h.creator),fallback:X?(0,e.jsx)("span",{style:nn,children:T}):(0,e.jsx)("span",{style:tn,onClick:function(){return(0,fe.WR)()},children:T}),children:X?(0,e.jsx)("span",{style:nn,children:T}):(0,e.jsx)("span",{style:tn,onClick:function(){return ee(h)},children:T})})})]}):(0,e.jsx)("span",{style:M,children:K})}}];return(0,e.jsx)(jt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.case"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},extra:U.length===Y.length?(0,e.jsx)(ke.Z,{onClick:function(){return Q([])},children:(0,e.jsx)(n._H,{id:"ws.result.details.put.away.all"})}):(0,e.jsx)(ke.Z,{onClick:function(){return Q(Y.map(function(h){return h.id}))},children:(0,e.jsx)(n._H,{id:"ws.result.details.expanded.all"})}),children:(0,e.jsx)(Le.sL,{dataSource:Y,columns:l,name:"job-result-process-suite",rowKey:"id",loading:ge,size:"small",pagination:!1,className:Lt().process_suite_table_cls,refreshDeps:[d,b],expandable:{indentSize:60,expandedRowKeys:U,onExpand:function(h,p){Q(h?U.concat(p.id):U.filter(function(M){return M!==p.id}))},expandedRowRender:function(h){return(0,e.jsx)(La,(0,f.Z)((0,f.Z)({},h),{},{testType:d,provider_name:o,setColumnsRefresh:function(){return W((0,vt.Z)())},columnsRefresh:G}))},expandIcon:function(h){var p=h.expanded,M=h.onExpand,X=h.record;return p?(0,e.jsx)(Zt.Z,{onClick:function(V){return M(X,V)}}):(0,e.jsx)(Ct.Z,{onClick:function(V){return M(X,V)}})}}})})},Na=Aa,Wa=function(a){var t=a.job_id,r=a.refresh,s=r===void 0?!1:r,d=a.provider_name,o=(0,n.QT)(function(){return(0,Ze.kv)({job_id:t})},{manual:!0}),x=o.data,v=o.loading,y=o.run;(0,i.useEffect)(function(){y()},[s]);var u=[{dataIndex:"index",title:" ",width:48,render:function(b){return b}},{dataIndex:"server",title:"IP".concat(""),ellipsis:{showTitle:!1},render:function(b,m){return b?(0,e.jsx)(Bt.Z,{val:b,param:m.server_id,provider:d,description:m.server_description}):"-"}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:ie.tZ},{dataIndex:"monitor_link",title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor_link"}),ellipsis:{shwoTitle:!1},render:function(b){return b?(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},style:{color:"#1890FF"},children:(0,e.jsx)(P.Z.Link,{target:"_blank",href:b,ellipsis:!0,children:b})}):"-"}},(0,f.Z)({dataIndex:"remark",title:(0,e.jsx)(n._H,{id:"ws.result.details.failed.info"})},(0,ie.yQ)()),{dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},render:function(b){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:b||"-"})}}];if(x&&!x.monitor_control)return(0,e.jsx)(e.Fragment,{});var S=x&&Array.isArray(x.result_list)?x.result_list:[];return(0,e.jsx)(jt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(Le.sL,{dataSource:S,columns:u,refreshDeps:[],name:"ws-job-result-process-monitor-conf-table",rowKey:"id",loading:v,size:"small",pagination:!1})})},Qn,$a=ot.ZP.div(Qn||(Qn=(0,dt.Z)([`
    background-color: #f5f5f5;
    & .ant-card:first-child {
        .ant-card-head-title {
            padding-top: 0;
        }
    }
`]))),Ka=function(a){var t=a.job_id,r=a.onRef,s=a.test_type,d=a.provider_name,o=(0,i.useState)(new Date().getTime()),x=(0,C.Z)(o,2),v=x[0],y=x[1],u=(0,fe.SE)(s);return(0,i.useImperativeHandle)(r,function(){return{refresh:function(){y(new Date().getTime())}}}),(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsxs)($a,{children:[(0,e.jsx)(Sa,{job_id:t,refresh:v}),(0,e.jsx)(Ha,{job_id:t,refresh:v,provider_name:d}),(0,e.jsx)(Wa,{job_id:t,refresh:v,provider_name:d}),(0,e.jsx)(Na,{job_id:t,refresh:v,testType:u,provider_name:d})]})})},Gn=c(26388),Xn=c(75667),Ua=c(70991),qn,es,ts,ns,ss,as,wn=(0,ot.ZP)(oe.Z)(qn||(qn=(0,dt.Z)([`
    width: 100%;
    & .ant-row{
        width: 100%;
        & div:first-child {
            text-align: right;
            font-size: 14px;
            color: rgba(0,0,0,.45);
        }
        & div:last-child {
            font-size: 14px;
            color: #000000;
        }
    }
`]))),za=ot.ZP.div(es||(es=(0,dt.Z)([`
    width: 100%;
    padding: 20px;
`]))),rs=function(t,r){var s={cloud:r({id:"common.cloud"}),cloud_efficiency:r({id:"common.cloud_efficiency"}),cloud_ssd:r({id:"common.cloud_ssd"}),cloud_essd:r({id:"common.cloud_essd"})};return s[t]},Ye=function(t){var r=t.label,s=t.children;return(0,e.jsxs)(ce.Z,{gutter:8,children:[(0,e.jsx)(H.Z,{span:6,children:r}),(0,e.jsx)(H.Z,{span:18,children:s||"-"})]})},Et=function(t){var r=t.label,s=t.children;return(0,e.jsxs)(ce.Z,{gutter:8,children:[(0,e.jsx)(H.Z,{span:4,children:r}),(0,e.jsx)(H.Z,{span:20,children:s||"-"})]})},mt=function(t){return(0,e.jsx)(oe.Z,(0,f.Z)({direction:"vertical",style:{width:"100%"}},t))},Va=function(t){var r=t.tag_list,s=(0,n.YB)(),d=s.formatMessage;return(0,e.jsxs)(wn,{direction:"vertical",size:20,children:[r&&!!r.length&&(0,e.jsxs)(mt,{children:[(0,e.jsx)(P.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.scheduling.tab"})}),(0,e.jsx)(ce.Z,{children:r.map(function(o){return(0,e.jsx)(at.Z,{color:o.tag_color,children:o.name},o.id)})})]}),(0,e.jsxs)(mt,{children:[(0,e.jsx)(P.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.other.information"})}),(0,e.jsx)(Ye,{label:"".concat(d({id:"ws.result.details.configuration.name"}),":"),children:t==null?void 0:t.name}),(0,e.jsx)(Ye,{label:"Owner:",children:t==null?void 0:t.owner_name}),(0,e.jsx)(Ye,{label:"".concat(d({id:"ws.result.details.gmt_created"}),":"),children:t==null?void 0:t.gmt_created}),(0,e.jsx)(Ye,{label:"".concat(d({id:"ws.result.details.gmt_modified"}),":"),children:t==null?void 0:t.gmt_modified}),(0,e.jsx)(Ye,{label:"".concat(d({id:"ws.result.details.test_summary"}),":"),children:t==null?void 0:t.description})]})]})},is=function(t){var r,s=t.$type,d=(0,n.YB)(),o=d.formatMessage;return(0,e.jsx)(za,{children:(0,e.jsxs)(wn,{direction:"vertical",size:20,children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)(P.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.hardware"})}),(0,e.jsxs)(mt,{children:[s!==0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ye,{label:"".concat(o({id:"common.instance.ID"}),":"),children:t==null?void 0:t.instance_id}),(0,e.jsx)(Ye,{label:"".concat(o({id:"common.private_ip"}),":"),children:t==null?void 0:t.private_ip})]}),(0,e.jsx)(Ye,{label:"Region/Zone:",children:t==null?void 0:t.region_zone}),(0,e.jsx)(Ye,{label:"".concat(o({id:"common.instance_type"}),":"),children:t==null?void 0:t.instance_type}),(0,e.jsx)(Ye,{label:"".concat(o({id:"common.bandwidth"}),":"),children:t==null?void 0:t.bandwidth}),(t==null?void 0:t.manufacturer)!=="aliyun_eci"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ye,{label:"".concat(o({id:"common.system_disk"}),":"),children:[rs(t==null?void 0:t.system_disk_category,o),"/",t==null?void 0:t.system_disk_size,"G"]}),(0,e.jsxs)(Ye,{label:"".concat(o({id:"common.storage_type"}),":"),children:[rs(t==null?void 0:t.storage_type,o),"/",t==null?void 0:t.storage_size,"G/",t==null?void 0:t.storage_number,"\u4E2A"]})]})]})]}),(0,e.jsxs)(mt,{children:[(0,e.jsx)(P.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.soft"})}),(0,e.jsx)(Ye,{label:"".concat(o({id:"common.image_name"}),":"),children:t==null?void 0:t.image_name})]}),s!==0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(mt,{children:[(0,e.jsx)(P.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.use_state"})}),(0,e.jsx)(Ye,{label:"".concat(o({id:"common.server.state"}),":"),children:t==null?void 0:t.real_state})]}),(0,e.jsxs)(mt,{children:[(0,e.jsx)(P.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.channel_type"})}),(0,e.jsx)(Ye,{label:"Channel:",children:t==null?void 0:t.image_name}),(0,e.jsx)(Ye,{label:"".concat(o({id:"ws.result.details.state"}),":"),children:t==null?void 0:t.image_name})]})]}),JSON.stringify(t==null?void 0:t.extra_param)!=="{}"&&(0,e.jsxs)(mt,{children:[(0,e.jsx)(P.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.extended.field"})}),t==null||(r=t.extra_param)===null||r===void 0?void 0:r.map(function(x,v){return x.param_key&&x.param_value!==""&&(0,e.jsxs)(Ye,{label:" ",children:[x.param_key,":",x.param_value]},v)})]}),(0,e.jsx)(Va,(0,f.Z)({},t))]})})},Ya=ot.ZP.div(ts||(ts=(0,dt.Z)([`
    width: 100%;
`]))),Ja=ot.ZP.div(ns||(ns=(0,dt.Z)([`
    height: 42px;
    width: 100%;
    padding: 0 20px;
    background: #F5F5F5;
    color: rgba(0,0,0,0.85);
    line-height: 42px;
    font-weight: 700;
`]))),Qa=ot.ZP.div(ss||(ss=(0,dt.Z)([`
    width: 100%;
    border: 1px solid rgba(0,0,0,0.10);
`]))),Ga=ot.ZP.div(as||(as=(0,dt.Z)([`
    height: 40px;
    line-height: 40px;
    width: 100%;
    border-bottom: 1px solid rgba(0,0,0,0.10);
    background-color: #F5F5F5;
    font-weight: 700;
    padding: 0 20px;
    color: rgba(0,0,0,0.85);
`]))),Xa=function(t){var r=(0,n.YB)(),s=r.formatMessage,d=t.id,o=t.name,x=t.is_instance,v=i.useState([]),y=(0,C.Z)(v,2),u=y[0],S=y[1],j=i.useState(!1),b=(0,C.Z)(j,2),m=b[0],Z=b[1],_=function(){var g=(0,Se.Z)((0,q.Z)().mark(function I(){var k,w,F;return(0,q.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,Xn.L0)({cluster_id:d});case 2:k=R.sent,w=k.data,F=k.code,F===200&&S(w.map(function(G){return(0,f.Z)((0,f.Z)({},G),G.test_server)}));case 6:case"end":return R.stop()}},I)}));return function(){return g.apply(this,arguments)}}();return i.useEffect(function(){_()},[d]),(0,e.jsxs)(Ya,{children:[(0,e.jsxs)(Ja,{children:[(0,e.jsx)(n._H,{id:"ws.result.details.cluster.name"}),"\uFF1A",o]}),(0,e.jsxs)(wn,{direction:"vertical",style:{padding:20},children:[(0,e.jsxs)(mt,{style:{padding:"0 20px",width:"100%"},children:[(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.configuration.name"}),":"),children:t==null?void 0:t.name}),(0,e.jsx)(Et,{label:"Owner:",children:t==null?void 0:t.owner_name}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.gmt_created"}),":"),children:t==null?void 0:t.gmt_created}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.gmt_modified"}),":"),children:t==null?void 0:t.gmt_modified}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.test_summary"}),":"),children:t==null?void 0:t.description}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.scheduling.tab"}),":"),children:t.tag_list&&!!t.tag_list.length?t==null?void 0:t.tag_list.map(function(g){return(0,e.jsx)(at.Z,{color:g.tag_color,children:g.name},g.id)}):"-"})]}),u.map(function(g){var I=g.is_instance?s({id:"ws.result.details.server.instance.name"},{data:g.name}):s({id:"ws.result.details.server.configuration.name"},{data:g.name});return(0,e.jsxs)(Qa,{children:[(0,e.jsx)(Ga,{children:m?(0,e.jsx)($e.Z,{title:g.name,children:(0,e.jsx)(P.Z.Text,{ellipsis:!0,children:I})}):(0,e.jsx)(P.Z.Text,{ellipsis:{onEllipsis:function(){return Z(!0)}},children:I})}),(0,e.jsx)(is,(0,f.Z)({$type:x},g))]},g.server_id)})]})]})},qa=function(t){var r=t.server_ip,s=t.is_instance,d=t.run_mode,o=t.provider_name,x=(0,Ie.UO)(),v=x.ws_id,y=i.useState([]),u=(0,C.Z)(y,2),S=u[0],j=u[1],b=i.useState(!1),m=(0,C.Z)(b,2),Z=m[0],_=m[1],g=(0,n.YB)(),I=g.formatMessage,k=Object.prototype.toString.call(s)==="[object Number]",w=function(){var O=(0,Se.Z)((0,q.Z)().mark(function R(G){var W,E,N,U,Q,K,T;return(0,q.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!(G&&k)){Y.next=26;break}if(d!=="cluster"){Y.next=13;break}return Y.next=4,(0,Ua.Y_)({ws_id:v,cluster_type:"aliyun",name:r});case 4:if(W=Y.sent,E=W.data,N=W.code,N!==200){Y.next=11;break}j(E[0]),Y.next=13;break;case 11:return _(!1),Y.abrupt("return");case 13:if(d!=="standalone"){Y.next=26;break}return Y.next=16,(0,Xn.$x)((U={ws_id:v},(0,Gn.Z)(U,s?"private_ip":"server_conf",r),(0,Gn.Z)(U,"in_pool",s?"":"all"),U));case 16:if(Q=Y.sent,K=Q.data,T=Q.code,T!==200){Y.next=26;break}if(!(Object.prototype.toString.call(K)==="[object Array]"&&!!K.length)){Y.next=24;break}j(K),Y.next=26;break;case 24:return _(!1),Y.abrupt("return");case 26:_(G);case 27:case"end":return Y.stop()}},R)}));return function(G){return O.apply(this,arguments)}}(),F=r||"-";return o==="aliyun"&&!["",null,"\u968F\u673A"].includes(r)&&k?(0,e.jsx)($e.Z,{visible:Z,overlayStyle:{width:510,maxWidth:"unset",padding:0,maxHeight:450,overflowY:"auto",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)"},color:"#fff",placement:"right",title:d==="cluster"?(0,e.jsx)(Xa,(0,f.Z)((0,f.Z)({},S),{},{is_instance:s})):S.map(function(O){return(0,e.jsx)(is,(0,f.Z)((0,f.Z)({},O),{},{$type:s}),O.id)}),onVisibleChange:w,children:F}):["\u968F\u673A"].includes(r)?(0,e.jsx)($e.Z,{title:I({id:"common.random"}),children:(0,e.jsx)(n._H,{id:"common.random"})}):(0,e.jsx)($e.Z,{title:F,children:F})},er=function(a){var t=a.data,r=t===void 0?[]:t,s=a.testType,d=a.provider_name,o=a.columnsRefresh,x=a.onColumnsChange,v=(0,n.YB)(),y=v.formatMessage,u=[{title:"Test Conf",dataIndex:"test_case_name",ellipsis:{showTitle:!1},width:200,render:function(j){return(0,e.jsx)($e.Z,{title:j,children:j})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),ellipsis:{showTitle:!1},width:150,dataIndex:"run_mode"},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),dataIndex:"server_ip",ellipsis:{showTitle:!1},width:150,render:function(j,b){return(0,e.jsx)(qa,(0,f.Z)({provider_name:d},b))}},{title:"Repeat",dataIndex:"repeat",width:100,ellipsis:{showTitle:!1}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.variable"}),ellipsis:{showTitle:!1},width:150,key:"variable",render:function(j){var b=j.env_info&&JSON.stringify(j.env_info)!=="{}"?Object.keys(j.env_info).reduce(function(m,Z,_){return m+="".concat(_===0?"":";").concat(Z,"=").concat(j.env_info[Z])},""):"-";return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:b})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.restart"}),dataIndex:"need_reboot",width:100,ellipsis:{showTitle:!1},render:function(j){return j?(0,e.jsx)(n._H,{id:"operation.yes"}):(0,e.jsx)(n._H,{id:"operation.no"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.setup_info"}),dataIndex:"setup_info",ellipsis:{showTitle:!1},width:150,render:function(j,b){var m=y({id:"ws.result.details.restart.before"}),Z=y({id:"ws.result.details.restart.after"}),_=(0,e.jsxs)("span",{children:["[",m,"]: ",j||"-",",  [",Z,"]: ",b.cleanup_info||"-"]});return j||b.cleanup_info?(0,e.jsx)($e.Z,{placement:"topLeft",title:_,children:_}):"-"}},["business_business"].includes(s)&&{title:"Console",dataIndex:"console",width:100,ellipsis:{showTitle:!1},render:function(j){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:j})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),width:100,dataIndex:"monitor",ellipsis:{showTitle:!1},render:function(){return"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.priority"}),dataIndex:"priority",width:100,ellipsis:{showTitle:!1}}];return(0,e.jsx)(Le.sL,{dataSource:r,columns:u,onColumnsChange:x,refreshDeps:[s,o],name:"ws-job-result-setting-case",rowKey:"test_case_id",pagination:!1,size:"small"})},tr=c(64685),bt=c.n(tr),nr=function(a){var t=a.data,r=t===void 0?[]:t,s=a.testType,d=a.provider_name,o=(0,n.YB)(),x=o.formatMessage,v=i.useState((0,vt.Z)()),y=(0,C.Z)(v,2),u=y[0],S=y[1],j=[{title:"Test Suite",dataIndex:"test_suite_name",width:160,ellipsis:{showTitle:!1}},["business_business"].includes(s)?{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(m){return(0,e.jsx)(Ge.K,{ellipsis:{tooltip:!0},children:m})}}:{title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),dataIndex:"run_mode",width:160,ellipsis:{showTitle:!1}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.restart"}),dataIndex:"need_reboot",ellipsis:{showTitle:!1},width:100,render:function(m){return m?(0,e.jsx)(n._H,{id:"operation.yes"}):(0,e.jsx)(n._H,{id:"operation.no"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.setup_info"}),dataIndex:"setup_info",ellipsis:{showTitle:!1},width:150,render:function(m,Z){var _=x({id:"ws.result.details.restart.before"}),g=x({id:"ws.result.details.restart.after"});return m||Z.cleanup_info?(0,e.jsxs)(P.Z.Text,{ellipsis:{tooltip:!0},children:["[",_,"]: ",m||"-",",  [",g,"]: ",Z.cleanup_info||"-"]}):"-"}},{title:"Console",dataIndex:"console",ellipsis:{showTitle:!1},width:100,render:function(m){return m||"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),dataIndex:"monitor_info",ellipsis:{showTitle:!1},width:100,render:function(){return"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.priority"}),dataIndex:"priority",ellipsis:{showTitle:!1},width:100,render:function(m){return m||"-"}}];return(0,e.jsx)(jt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.cases.and.config"}),style:{marginBottom:10},children:(0,e.jsx)(Le.sL,{dataSource:r,columns:j,name:"ws-job-result-setting-suite-server",rowKey:"test_suite_id",size:"small",pagination:!1,className:bt().test_suite_server_table,refreshDeps:[s],expandable:{columnWidth:30,expandedRowRender:function(m){return(0,e.jsx)(er,{onColumnsChange:function(){return S((0,vt.Z)())},columnsRefresh:u,data:m.cases,testType:s,provider_name:d})},expandIcon:function(m){var Z=m.expanded,_=m.onExpand,g=m.record;return Z?(0,e.jsx)(Zt.Z,{onClick:function(k){return _(g,k)}}):(0,e.jsx)(Ct.Z,{onClick:function(k){return _(g,k)}})}}})})},sr=c(14582),ar=c(96211),rr=c(78938),ir=c(39854),ls=c(86323),lr=c(40896),Zn=c(526),dr=c(33705),or=function(a){var t=a.contrl,r=a.disabled,s=r===void 0?!1:r,d=a.onRef,o=d===void 0?null:d,x=a.template,v=x===void 0?{}:x;if(JSON.stringify(t)==="{}")return(0,e.jsx)(e.Fragment,{});var y=(0,n.YB)(),u=y.formatMessage,S=(0,n.Kd)()==="en-US",j=ue.Z.useForm(),b=(0,C.Z)(j,1),m=b[0],Z=(0,i.useState)(!1),_=(0,C.Z)(Z,2),g=_[0],I=_[1],k=(0,i.useState)(!1),w=(0,C.Z)(k,2),F=w[0],O=w[1],R=(0,i.useState)(!1),G=(0,C.Z)(R,2),W=G[0],E=G[1],N=(0,i.useState)("no"),U=(0,C.Z)(N,2),Q=U[0],K=U[1],T=function(ae){K(ae.target.value),!s&&m.resetFields(["kernel","devel","headers","kernel_version","scripts"])};(0,i.useImperativeHandle)(o,function(){return{form:m,reset:function(){K("no"),I(!1),O(!1),E(!1),m.resetFields()}}});var te=(0,n.QT)(function(){return(0,sr.ZP)({enable:"True"})}),Y=te.data;(0,i.useEffect)(function(){if(JSON.stringify(v)!=="{}"){var B=v.monitor_info,ae=v.need_reboot,ee=v.rpm_info,l=v.script_info,A=v.env_info,h=v.kernel_info,p=v.kernel_version,M=v.iclone_info,X=v.build_pkg_info,se=[];h&&JSON.stringify(h)!=="{}"&&(se=(0,f.Z)((0,f.Z)({},se),h));var V=!1,ve,we;M&&(ve=M.os,we=M.app_name,(ve||we)&&(V=!0,I(V)));var re=!!X&&JSON.stringify(X)!=="{}";p&&K("install_push"),!p&&!re&&K("no"),re&&K("install_build_kernel"),h&&JSON.stringify(h)!=="{}"&&!p&&K("install_un_push"),O(ae);var Pe=!1;B&&B.length>0&&(E(!0),Pe=!0);var Je=A?(0,Zn.xX)(A):"";m.setFieldsValue((0,f.Z)((0,f.Z)({},se),(0,f.Z)({monitor_info:B&&B.length>0?B:[{}],rpm_info:ee&&ee.length>0?ee:[{rpm:"",pos:"before"}],script_info:l&&l.length>0?l:[{script:"",pos:"before"}],need_reboot:ae,env_info:Je,reclone_contrl:V,os:ve,app_name:we,moniter_contrl:Pe,kernel_version:p},X)))}},[v,Y]);var ge=function(ae){var ee=ae.target;O(ee.value),!s&&m.resetFields(["rpm_info","script_info"])};return(0,e.jsx)(jt.Z,{className:bt().customCardCls,title:(0,e.jsx)(n._H,{id:"ws.result.details.env.prepare.config"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(ue.Z,{colon:!1,layout:"horizontal",size:"small",style:{width:"100%"},name:"env",form:m,labelCol:{span:4},className:"".concat(bt().job_test_form," ").concat(bt()[S?"label_style_form_en":"label_style_form"]),initialValues:{rpm_info:[{rpm:"",pos:"before"}],script_info:[{script:"",pos:"before"}],monitor_info:[{}],need_reboot:!1,hotfix_install:!0,scripts:[{script:"",pos:"before"}]},children:(0,e.jsx)(ce.Z,{children:(0,e.jsxs)(H.Z,{span:15,children:["reclone"in t&&(0,e.jsx)(ue.Z.Item,{label:t.reclone.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.reclone.name)}),name:"reclone_contrl",initialValue:!1,children:(0,e.jsxs)(ze.ZP.Group,{disabled:s,onChange:function(ae){var ee=ae.target;return I(ee.value)},children:[(0,e.jsx)(ze.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(ze.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),g&&(0,e.jsxs)(ue.Z.Item,{label:" ",children:[(0,e.jsx)(ue.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.physical"}),children:(0,e.jsxs)(ce.Z,{gutter:10,children:[(0,e.jsx)(H.Z,{span:12,children:(0,e.jsx)(ue.Z.Item,{name:"os",noStyle:!0,children:(0,e.jsxs)(rt.Z,{getPopupContainer:function(ae){return ae.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.physical.placeholder"}),disabled:s,children:[(0,e.jsx)(rt.Z.Option,{value:"AliOS7U2-4.9-x86-64",children:"AliOS7U2-4.9-x86-64"}),(0,e.jsx)(rt.Z.Option,{value:"AliOS7U2-aarch64",children:"AliOS7U2-aarch64"}),(0,e.jsx)(rt.Z.Option,{value:"AliOS7U2-x86-64",children:"AliOS7U2-x86-64"})]})})}),(0,e.jsx)(H.Z,{span:12,children:(0,e.jsx)(ue.Z.Item,{name:"app_name",noStyle:!0,children:(0,e.jsxs)(rt.Z,{getPopupContainer:function(ae){return ae.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.app_name.placeholder"}),disabled:s,children:[(0,e.jsx)(rt.Z.Option,{value:"baseos_server",children:"baseos_server"}),(0,e.jsx)(rt.Z.Option,{value:"app_server",children:"app_server"})]})})})]})}),(0,e.jsx)(ue.Z.Item,{name:"vm",label:(0,e.jsx)(n._H,{id:"ws.result.details.vm"}),children:(0,e.jsx)(rt.Z,{getPopupContainer:function(ae){return ae.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.vm.placeholder"}),disabled:s})})]}),"kernel_install"in t&&(0,e.jsx)(ue.Z.Item,{label:t.kernel_install.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.kernel_install.name)}),children:(0,e.jsxs)(ze.ZP.Group,{value:Q,disabled:s,onChange:T,children:[(0,e.jsx)(ze.ZP,{value:"no",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_no"})}),(0,e.jsx)(ze.ZP,{value:"install_push",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_publish"})}),(0,e.jsx)(ze.ZP,{value:"install_un_push",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_un"})}),(0,e.jsx)(ze.ZP,{value:"install_build_kernel",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_build"})})]})}),Q==="install_push"&&(0,e.jsx)(ar.Z,{form:m,kernel:Q,kernelList:Y,disabled:s}),Q==="install_un_push"&&(0,e.jsx)(rr.Z,{disabled:s,form:m}),Q==="install_build_kernel"&&(0,e.jsx)(ir.Z,{form:m,disabled:s,project_id:v==null?void 0:v.project_id}),"reboot"in t&&(0,e.jsx)(ue.Z.Item,{label:t.reboot.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.reboot.name)}),name:"need_reboot",children:(0,e.jsxs)(ze.ZP.Group,{disabled:s,onChange:ge,children:[(0,e.jsx)(ze.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(ze.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),"global_variable"in t&&(0,e.jsx)(ue.Z.Item,{label:t.global_variable.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.global_variable.name)}),children:(0,e.jsxs)(H.Z,{span:24,style:{position:"relative"},children:[(0,e.jsx)(ue.Z.Item,{name:"env_info",rules:[function(){return{validator:function(ae,ee){if(ee){var l=/^(\w+=((('[^']+'|"[^"]+")|.+)( |\n)))*\w+=(('[^']+'|"[^"]+")|.+)$/;return l.test(ee)?Promise.resolve():Promise.reject(u({id:"format.key.value"}))}else return Promise.resolve()}}}],children:(0,e.jsx)(et.Z.TextArea,{disabled:s,placeholder:u({id:"format.key.value"}),autoSize:{maxRows:10,minRows:3}})}),m.getFieldValue("env_info")&&(0,e.jsx)(dr.db,{style:{right:-20},onCopy:function(){return m.getFieldValue("env_info")}})]})}),"rpm"in t&&(0,e.jsx)(ls.Z,{form:m,label:t.rpm.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.rpm.name)}),listName:"rpm_info",textName:"rpm",radioName:"pos",buttonText:u({id:"ws.result.details.rpm.add"}),placeholder:u({id:"ws.result.details.please.enter.rpm"}),buttonShow:F,disabled:s}),"script"in t&&(0,e.jsx)(ls.Z,{form:m,label:t.script.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.script.name)}),listName:"script_info",textName:"script",radioName:"pos",buttonText:u({id:"ws.result.details.script.add"}),placeholder:u({id:"ws.result.details.please.enter.script"}),buttonShow:F,disabled:s}),"monitor"in t&&(0,e.jsx)(ue.Z.Item,{label:t.monitor.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.monitor.name,".config")}),name:"moniter_contrl",initialValue:!1,children:(0,e.jsxs)(ze.ZP.Group,{disabled:s,onChange:function(ae){var ee=ae.target;return E(ee.value)},children:[(0,e.jsx)(ze.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(ze.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),W&&(0,e.jsx)(lr.Z,{disabled:s,formComponent:m})]})})})})},vi=c(39693),ds=c(12568),Cn=c(6895),ur=c(74066),cr=rt.Z.Option,fr=function(a){var t,r,s,d,o=a.contrl,x=a.disabled,v=x===void 0?!1:x,y=a.onRef,u=y===void 0?null:y,S=a.template,j=S===void 0?{}:S,b=(0,Ie.UO)(),m=b.ws_id;if(JSON.stringify(o)==="{}")return(0,e.jsx)(e.Fragment,{});var Z=(0,n.YB)(),_=Z.formatMessage,g=(0,n.Kd)()==="en-US",I=ue.Z.useForm(),k=(0,C.Z)(I,1),w=k[0],F=(0,i.useState)([]),O=(0,C.Z)(F,2),R=O[0],G=O[1],W=i.useState(),E=(0,C.Z)(W,2),N=E[0],U=E[1],Q=(0,i.useState)([]),K=(0,C.Z)(Q,2),T=K[0],te=K[1],Y=(0,i.useState)({}),ge=(0,C.Z)(Y,2),B=ge[0],ae=ge[1];(0,i.useImperativeHandle)(u,function(){return{form:w,reset:function(){w.resetFields()}}});var ee=function(){var h=(0,Se.Z)((0,q.Z)().mark(function p(){var M,X;return(0,q.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,ds.oG)({ws_id:m});case 2:M=V.sent,X=M.data,G(X);case 5:case"end":return V.stop()}},p)}));return function(){return h.apply(this,arguments)}}(),l=function(){var h=(0,Se.Z)((0,q.Z)().mark(function p(){var M,X,se,V,ve;return(0,q.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.prev=0,re.next=3,(0,Bn.MD)({ws_id:m,page_size:99999});case 3:M=re.sent,X=M.code,se=M.data,X===200&&(V=pt().isArray(se)?se:[],ve=pt().find(V,{is_default:!0}),te(V),ae(ve)),re.next=12;break;case 9:re.prev=9,re.t0=re.catch(0),console.log(re.t0);case 12:case"end":return re.stop()}},p,null,[[0,9]])}));return function(){return h.apply(this,arguments)}}();(0,i.useEffect)(function(){l(),ee()},[]),(0,i.useEffect)(function(){var h=pt().cloneDeep(w.getFieldsValue());if(JSON.stringify(j)==="{}"&&JSON.stringify(B)!=="{}"&&w.setFieldsValue((0,f.Z)((0,f.Z)({},h),{},{report_template_id:pt().get(B,"id")})),JSON.stringify(j)!=="{}"){var p,M,X,se=j.cleanup_info,V=j.tags,ve=j.notice_info,we=j.report_name,re=j.callback_api,Pe=j.report_template_id;if(pt().isArray(ve)&&ve.forEach(function(Xe){p=Xe.subject,Xe.type==="email"&&(M=Xe.to),Xe.type==="ding"&&(X=Xe.to)}),pt().isArray(T)){var Je=pt().find(T,["id",j.report_template_id]);Pe=pt().get(Je,"id")}w.setFieldsValue((0,f.Z)((0,f.Z)({},j),{},{cleanup_info:se,tags:V,notice_subject:p,email:M,ding_token:X,report_template_id:Pe,report_name:we,callback_api:re})),U(we)}},[B,T,j]);var A=function(p){var M=p.target.value,X=pt().cloneDeep(w.getFieldsValue());w.setFieldsValue((0,f.Z)((0,f.Z)({},X),{},{report_name:M})),U(M)};return(0,e.jsx)(jt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.more.configurations"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},children:(0,e.jsx)(ue.Z,{colon:!1,layout:"horizontal",size:"small",labelCol:{span:4},style:{width:"100%"},name:"more",form:w,className:"".concat(bt().job_test_form," ").concat(bt()[g?"label_style_form_en":"label_style_form"]),children:(0,e.jsx)(ce.Z,{children:(0,e.jsxs)(H.Z,{span:15,children:["cleanup"in o&&(0,e.jsx)(ue.Z.Item,{name:"cleanup_info",label:o.cleanup.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(o.cleanup.name)}),children:(0,e.jsx)(et.Z.TextArea,{disabled:v,placeholder:_({id:"ws.result.details.cleanup.placeholder"})})}),"job_tag"in o&&(0,e.jsx)(Cn.OT,{tags:R,label:o.job_tag.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(o.job_tag.name)}),disabled:v}),"notice_subject"in o&&(0,e.jsx)(ue.Z.Item,{name:"notice_subject",label:o.notice_subject.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(o.notice_subject.name)}),children:(0,e.jsx)(et.Z,{autoComplete:"off",disabled:v,placeholder:_({id:"ws.result.details.notice_subject.placeholder"},{date:"{date}"})})}),"email_notice"in o&&(0,e.jsx)(ue.Z.Item,{name:"email",label:o.email_notice.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(o.email_notice.name)}),rules:[{pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:_({id:"ws.result.details.email.message"})}],children:(0,e.jsx)(et.Z,{autoComplete:"off",disabled:v,placeholder:_({id:"ws.result.details.email.placeholder"})})}),"ding_notice"in o&&(0,e.jsx)(ue.Z.Item,{name:"ding_token",label:o.ding_notice.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(o.ding_notice.name)}),children:(0,e.jsx)(et.Z,{autoComplete:"off",disabled:v,placeholder:_({id:"ws.result.details.ding_notice.placeholder"})})}),"report"in o&&(0,e.jsxs)(ue.Z.Item,{label:(o==null||(t=o.report)===null||t===void 0?void 0:t.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.report"}),name:"report_name",children:[(0,e.jsx)(et.Z,{value:N||void 0,onChange:A,autoComplete:"off",disabled:v,placeholder:_({id:"ws.result.details.report.placeholder"},{job_name:"{job_name}",report_seq_id:"{report_seq_id}"})}),(0,e.jsx)(Yn.Z,{content:(0,e.jsxs)("div",{children:[_({id:"ws.result.details.report.Popover"}),(0,e.jsx)("p",{children:"{date} {job_name} {job_id} {product_version}"})]}),children:(0,e.jsx)(ur.Z,{className:bt().question_icon})})]}),N&&"report"in o&&(0,e.jsx)(ue.Z.Item,{name:"report_template_id",label:(o==null||(r=o.report)===null||r===void 0?void 0:r.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.report_template"}),children:(0,e.jsx)(rt.Z,{showSearch:!0,disabled:v,placeholder:_({id:"ws.result.details.report_template.placeholder"}),defaultValue:B==null?void 0:B.name,optionFilterProp:"children",filterOption:function(p,M){return(M==null?void 0:M.toLowerCase().indexOf(p.toLowerCase()))>=0},children:T.map(function(h){return(0,e.jsx)(cr,{value:h.id,children:h.name},h.id)})})}),"callback_api"in o&&(0,e.jsx)(ue.Z.Item,{name:"callback_api",label:(o==null||(s=o.callback_api)===null||s===void 0?void 0:s.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.callback_api"}),children:(0,e.jsx)(et.Z,{autoComplete:"off",disabled:v,placeholder:_({id:"ws.result.details.callback_api.placeholder"})})}),!1]})})})})},vr=c(67164),pr=function(a){var t=a.jt_id,r=a.test_type,s=a.provider_name,d=(0,Ie.UO)(),o=d.id,x=d.ws_id,v=(0,fe.SE)(r),y=(0,n.QT)(function(){return(0,Ze.Cl)({job_id:o})},{initialData:{test_config:[]},formatResult:function(_){return _.code===200?_.data[0]:{test_config:[]}}}),u=y.data,S=y.loading,j=(0,n.QT)(function(){return(0,vr.Dn)({jt_id:t,ws_id:x})},{initialData:[]}),b=j.data,m=(0,i.useMemo)(function(){var Z={},_={},g={},I={};return b.forEach(function(k){k.config_index===1&&(Z[k.name]=k),k.config_index===2&&(_[k.name]=k),k.config_index===3&&(g[k.name]=k),k.config_index===4&&(I[k.name]=k)}),{basic:Z,env:_,suite:g,more:I}},[b]);return(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsx)(He.Z,{spinning:S,children:(0,e.jsxs)("div",{style:{background:"#F5F5F5"},children:[(0,e.jsx)(or,{contrl:m.env,disabled:!0,template:u}),(0,e.jsx)(nr,{data:u==null?void 0:u.test_config,testType:v,provider_name:s}),(0,e.jsx)(fr,{contrl:m.more,disabled:!0,template:u})]})})})},sn=c(93329),mr=c(43480),hr=(0,i.forwardRef)(function(a,t){var r=(0,n.YB)(),s=r.formatMessage,d=ue.Z.useForm(),o=(0,C.Z)(d,1),x=o[0],v=(0,i.useState)(!1),y=(0,C.Z)(v,2),u=y[0],S=y[1],j=(0,i.useState)(!1),b=(0,C.Z)(j,2),m=b[0],Z=b[1],_=(0,i.useState)(),g=(0,C.Z)(_,2),I=g[0],k=g[1];(0,i.useImperativeHandle)(t,function(){return{show:function(){S(!0),k(s({id:"please.enter.message"})),x.setFieldsValue({tag_color:"rgb(255,157,78,1)"})}}});var w=function(){x.resetFields(),S(!1),Z(!1)},F=function(){Z(!1)},O=function(){m||(Z(!0),k(void 0),x.validateFields().then(function(){var G=(0,Se.Z)((0,q.Z)().mark(function W(E){var N,U,Q;return(0,q.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,Ze._U)((0,f.Z)({ws_id:a.ws_id},E));case 2:N=T.sent,U=N.code,Q=N.msg,U===200?(a.onOk(),w(),Me.default.success(s({id:"operation.success"}))):U===1302?k(s({id:"ws.result.details.tag_name.already.exists"})):(Z(!1),Me.default.error(Q));case 6:case"end":return T.stop()}},W)}));return function(W){return G.apply(this,arguments)}}()).catch(function(){Z(!1)}))};return(0,e.jsx)(Rn.Z,{width:460,title:(0,e.jsx)(n._H,{id:"ws.result.details.new.tag"}),visible:u,centered:!0,onCancel:w,maskClosable:!1,onOk:O,okText:(0,e.jsx)(n._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:(0,e.jsx)(He.Z,{spinning:!1,children:(0,e.jsxs)(ue.Z,{form:x,layout:"vertical",children:[(0,e.jsx)(ue.Z.Item,{name:"tag_color",label:(0,e.jsx)(n._H,{id:"ws.result.details.tag_color"}),children:(0,e.jsx)(mr.Z,{})}),(0,e.jsx)(ue.Z.Item,{name:"name",label:(0,e.jsx)(n._H,{id:"ws.result.details.tag_name"}),help:I,rules:[{required:!0,max:32,message:s({id:"please.enter.message"}),pattern:/^[A-Za-z0-9\._-]*$/g}],children:(0,e.jsx)(et.Z,{onFocus:F})}),(0,e.jsx)(ue.Z.Item,{name:"description",label:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),children:(0,e.jsx)(et.Z.TextArea,{rows:4,placeholder:s({id:"ws.result.details.please.enter.remarks"})})})]})})})}),xr=function(t){var r,s,d=t.label,o=t.closable,x=t.onClose,v=t.value;return(0,e.jsx)(at.Z,{color:(r=d.props)===null||r===void 0?void 0:r.color,closable:o,onClose:x,style:{marginRight:3},children:((s=d.props)===null||s===void 0?void 0:s.children)||v})},gr=function(a){var t=a.tags,r=t===void 0?[]:t,s=a.onOk,d=a.ws_id,o=a.job_id,x=a.creator_id,v=a.accessLabel,y=a.width,u=(0,i.useState)(!1),S=(0,C.Z)(u,2),j=S[0],b=S[1],m=(0,i.useState)([]),Z=(0,C.Z)(m,2),_=Z[0],g=Z[1],I=(0,n.md)(),k=(0,n.QT)(function(){return(0,ds.oG)({ws_id:d})},{manual:!0,initialData:[]}),w=k.data,F=k.loading,O=k.refresh,R=k.run,G=(0,i.useRef)(null),W=function(){b(!1)},E=function(){var T=(0,Se.Z)((0,q.Z)().mark(function te(){var Y,ge,B;return(0,q.Z)().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,(0,Ze.ED)({job_id:o,tag_id:_,ws_id:d});case 2:if(Y=ee.sent,ge=Y.code,B=Y.msg,ge===200){ee.next=8;break}return(0,fe.EV)(ge,B),ee.abrupt("return");case 8:s(),W();case 10:case"end":return ee.stop()}},te)}));return function(){return T.apply(this,arguments)}}();(0,i.useEffect)(function(){R()},[d]),(0,i.useEffect)(function(){g(r.map(function(T){return T.id}))},[r]);var N=function(){R(),b(!0)},U=function(te){g(te)},Q=function(){var te;(te=G.current)===null||te===void 0||te.show()},K={paddingTop:5,paddingRight:8};return(0,e.jsxs)("div",{style:{width:"calc(100% - ".concat(y,"px)")},children:[j?(0,e.jsxs)(oe.Z,{size:8,children:[(0,e.jsx)(rt.Z,{mode:"multiple",value:_,loading:F,size:"small",style:{width:600},tagRender:xr,onChange:U,allowClear:!0,getPopupContainer:function(te){return te.parentNode},dropdownRender:function(te){return(0,e.jsxs)("div",{children:[te,v&&(0,e.jsx)("div",{style:{maxHeight:300,overflow:"auto",padding:"10px",borderTop:"1px solid #eee",marginBottom:"-4px"},onClick:Q,children:(0,e.jsxs)("span",{className:hn().test_summary_job,children:[(0,e.jsx)(xn.Z,{style:{marginRight:8,color:"#1890ff"}}),(0,e.jsx)(n._H,{id:"ws.result.details.new.tag"})]})})]})},options:w.map(function(T){return{value:T.id,label:(0,e.jsx)(at.Z,{color:T.tag_color,children:T.name})}})}),(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(ke.Z,{onClick:W,size:"small",children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{onClick:E,size:"small",type:"primary",children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})]}):(0,e.jsxs)(oe.Z,{wrap:!0,size:4,children:[(0,e.jsx)(n.Nv,{accessible:I.WsTourist()&&I.WsMemberOperateSelf(x),fallback:(0,e.jsx)(sn.Z,{onClick:function(){return(0,fe.WR)()},style:K}),children:(0,e.jsx)(sn.Z,{onClick:N,style:K})}),r.length>0?r.map(function(T){return(0,e.jsx)(at.Z,{style:{margin:0},color:T.color,children:T.name},T.id)}):(0,e.jsx)("span",{style:{color:"rgba(0,0,0,0.85)"},children:"-"})]}),(0,e.jsx)(hr,{ref:G,ws_id:d,onOk:O})]})},_r=c(20038),jr=c(65871),br=c.n(jr),yr=function(){var t=(0,Zn.CR)(),r=t.height,s=(0,Ie.UO)(),d=s.ws_id,o=(0,n.YB)();return(0,e.jsxs)(Rt.Z,{style:{padding:20,height:r-50,minHeight:0,overflowX:"scroll",background:"#f5f5f5"},children:[(0,e.jsx)(ie.gN,{bottomHeight:20}),(0,e.jsx)(Rt.Z.Content,{style:{background:"#fff"},children:(0,e.jsx)("div",{style:{backgroundColor:"#fff",height:r-140},children:(0,e.jsx)("div",{style:{textAlign:"center",position:"relative",top:"50%",transform:"translateY(-50%)"},children:(0,e.jsx)(oe.Z,{direction:"vertical",children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)("div",{style:{display:"inline-block"},children:(0,e.jsx)("img",{alt:"icon",src:br()})}),(0,e.jsxs)("div",{style:{textAlign:"left",display:"inline-block",marginLeft:80},children:[(0,e.jsx)("div",{style:{color:"#000",fontSize:48,opacity:.85,fontWeight:"bold"},children:"\u62B1\u6B49\uFF0C\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\u2026"}),(0,e.jsx)("div",{style:{color:"#000",fontSize:16,opacity:.45,marginTop:20,marginBottom:20},children:"\u9875\u9762\u94FE\u63A5\u53EF\u80FD\u5DF2\u5931\u6548\u6216\u88AB\u5220\u9664"}),(0,e.jsx)(P.Z.Link,{onClick:function(){return n.m8.push(d?"/ws/".concat(d,"/test_result"):"/")},children:o.formatMessage({defaultMessage:"\u8FD4\u56DE\u9996\u9875",id:"page.500.button"})})]})]})})})})})]})},wr=yr,an=c(46601),Zr=c(99193),Cr=function(t){var r=(0,Ie.UO)(),s=r.ws_id,d=(0,i.useState)(!0),o=(0,C.Z)(d,2),x=o[0],v=o[1],y=(0,i.useState)(!0),u=(0,C.Z)(y,2),S=u[0],j=u[1],b=(0,i.useState)([]),m=(0,C.Z)(b,2),Z=m[0],_=m[1],g=function(){v(!x)},I=t.job_id,k=function(){var F=(0,Se.Z)((0,q.Z)().mark(function O(){var R,G;return(0,q.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return j(!0),E.next=3,(0,Ze.dy)({job_id:I});case 3:R=E.sent,G=R.data,_(G||[]),j(!1);case 7:case"end":return E.stop()}},O)}));return function(){return F.apply(this,arguments)}}();(0,i.useEffect)(function(){k()},[I]);var w=[{title:"IP",render:function(O,R){return R.device_type?(0,e.jsx)("span",{children:R.ip||"-"}):(0,e.jsx)("span",{children:R.pub_ip||"-"})}},{title:"SN",dataIndex:"sn"},{title:(0,e.jsx)(n._H,{id:"ws.result.details.provider_name"}),dataIndex:"device_type",render:function(O){return(0,e.jsx)(e.Fragment,{children:O||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.channel_type"}),dataIndex:"channel_type",render:function(O){return(0,e.jsx)(e.Fragment,{children:O||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.use_state"}),dataIndex:"state",render:function(O,R){return(0,Cn.Ul)(O,R,s)}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.real_state"}),dataIndex:"real_state",render:function(O,R){return(0,Cn.Ul)(O,R,s)}}];return Z.length?(0,e.jsx)(He.Z,{spinning:S,children:(0,e.jsxs)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:[(0,e.jsxs)(ce.Z,{style:{marginBottom:16},children:[(0,e.jsxs)(H.Z,{span:22,children:[(0,e.jsx)(an.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(P.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.test.machine.failure"})}),(0,e.jsxs)(ce.Z,{style:{padding:"4px 0 0 60px"},children:[(0,e.jsx)(P.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.failed.server"})}),Array.isArray(Z)&&Z.map(function(F,O){var R=F.ip,G=F.sn,W=F.pub_ip,E=F.device_type,N=E?R:W,U=N&&G?N+"/"+G:N||G;return(0,e.jsx)("span",{style:{marginRight:20},children:U},O)})]})]}),(0,e.jsx)(H.Z,{span:2,style:{textAlign:"right",paddingRight:18},children:(0,e.jsx)("div",{style:{paddingTop:38,cursor:"pointer"},onClick:g,children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(P.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"#1890FF"},children:x?(0,e.jsx)(n._H,{id:"operation.expand"}):(0,e.jsx)(n._H,{id:"operation.collapse"})}),x?(0,e.jsx)(Tn.Z,{style:{color:"#1890FF"}}):(0,e.jsx)(Zr.Z,{style:{color:"#1890FF"}})]})})})]}),!x&&(0,e.jsx)(ce.Z,{style:{padding:"0 20px 16px 20px"},children:(0,e.jsx)(H.Z,{span:24,className:hn().machineTable,children:(0,e.jsx)(St.Z,{columns:w,dataSource:Z,pagination:!1,size:"small"})})})]})}):(0,e.jsx)(e.Fragment,{})},Sr=Cr,kr=function(t){var r=t.aliyun_is_instance_release,s=t.cluster_msg,d=t.server_occupied,o=t.provider_name,x=(0,Ie.UO)(),v=x.ws_id,y=function(S){return!!(S&&typeof S=="string"&&S.length>0)};return y(r)?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(ce.Z,{style:{marginBottom:16},children:(0,e.jsxs)(H.Z,{span:24,children:[(0,e.jsx)(an.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsxs)(P.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:[(0,e.jsx)(n._H,{id:"aliyunServer"})," ",(0,e.jsx)(n._H,{id:"ws.result.details.instance.released"})]}),(0,e.jsx)(ce.Z,{style:{padding:"4px 0 0 60px"},children:(0,e.jsx)(P.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:r})})]})})}):y(s)?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(ce.Z,{style:{marginBottom:16},children:(0,e.jsxs)(H.Z,{span:24,children:[(0,e.jsx)(an.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(P.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.machine.config.error"})}),(0,e.jsx)(ce.Z,{style:{padding:"4px 0 0 60px"},children:(0,e.jsx)(P.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)("a",{href:o==="cluster"?"/ws/".concat(v,"/device/cloud"):"/ws/".concat(v,"/device/group"),target:"_blank",children:s})})})]})})}):d&&!!d.length?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(ce.Z,{style:{marginBottom:16},children:(0,e.jsxs)(H.Z,{span:24,children:[(0,e.jsx)(an.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(P.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.machine.occupied.by.job"})}),(0,e.jsxs)(ce.Z,{style:{padding:"4px 0 0 60px"},children:[(0,e.jsx)(P.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.occupy.job"})}),d.map(function(u){return(0,e.jsxs)("span",{style:{marginRight:20},onClick:function(){return setTimeout(function(){window.location.href="/ws/".concat(v,"/test_result/").concat(u.job_id)})},children:[u.job_name,"/",u.job_id]},u.job_id)})]})]})})}):(0,e.jsx)(e.Fragment,{})},Tr=kr,Rr=c(24637),pi=c(89963),Sn=c(70077),os=c(45972),Er={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Or=Er,Fr=c(25078),us=function(t,r){return i.createElement(Fr.Z,(0,os.Z)((0,os.Z)({},t),{},{ref:r,icon:Or}))};us.displayName="ShareAltOutlined";var Ir=i.forwardRef(us),cs,fs=(0,ot.ZP)(P.Z.Text)(cs||(cs=(0,dt.Z)([`
    cursor: pointer;
    font-size: 16px;
    &:hover {
        color: #1890ff
    }
`]))),At=["running","pending","pending_q"],Pr=function(t){return new Promise(function(r){return setTimeout(r,t)})},Dr=function(t){var r=t.state,s=t.bottomHeight,d=(0,Ie.UO)(),o=d.ws_id,x=d.id,v=(0,n.md)(),y=(0,n.YB)(),u=i.useRef(null),S=i.useState(),j=(0,C.Z)(S,2),b=j[0],m=j[1],Z=i.useState(!1),_=(0,C.Z)(Z,2),g=_[0],I=_[1],k=i.useState(!1),w=(0,C.Z)(k,2),F=w[0],O=w[1],R=(0,Zn.oM)(y.formatMessage({id:"request.copy.success"})),G=function(){var Q=(0,Se.Z)((0,q.Z)().mark(function K(){var T,te,Y,ge,B;return(0,q.Z)().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return I(!0),ee.next=3,(0,Ze._N)({job_id:x});case 3:if(T=ee.sent,te=T.data,Y=T.code,I(!1),Y===200){ee.next=9;break}return ee.abrupt("return");case 9:if(te){ee.next=11;break}return ee.abrupt("return");case 11:if(ge=te.state,B=te.job_url,ge!=="running"){ee.next=19;break}return O(!0),F||Me.default.loading({key:"download_running_".concat(o,"_").concat(x),content:y.formatMessage({id:"ws.result.details.breadcrumb.button.download.running"}),duration:0}),ee.next=17,Pr(1500);case 17:return G(),ee.abrupt("return");case 19:Me.default.destroy("download_running_".concat(o,"_").concat(x)),ge==="success"&&(m(B),O(!1)),ge==="fail"&&(O(!1),Me.default.error(y.formatMessage({id:"ws.result.details.breadcrumb.button.download.fail"})));case 22:case"end":return ee.stop()}},K)}));return function(){return Q.apply(this,arguments)}}(),W=function(){var Q=(0,Se.Z)((0,q.Z)().mark(function K(){var T,te,Y;return(0,q.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!b){B.next=3;break}return(T=u.current)===null||T===void 0||T.click(),B.abrupt("return");case 3:if(!F){B.next=5;break}return B.abrupt("return");case 5:if(g){B.next=13;break}return B.next=8,(0,Ze.$Y)({job_id:x});case 8:if(te=B.sent,Y=te.code,Y===200){B.next=12;break}return B.abrupt("return",Me.default.error(y.formatMessage({id:"ws.result.details.breadcrumb.button.download.fail"})));case 12:G();case 13:case"end":return B.stop()}},K)}));return function(){return Q.apply(this,arguments)}}();i.useEffect(function(){var Q;b&&((Q=u.current)===null||Q===void 0||Q.click())},[b]);var E=window.location,N=E.origin,U=E.pathname;return(0,e.jsxs)(ce.Z,{justify:"space-between",children:[(0,e.jsxs)(Sn.Z,{style:{marginBottom:s},children:[(0,e.jsx)(Sn.Z.Item,{children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return n.m8.push("/ws/".concat(o,"/test_result"))},children:(0,e.jsx)(n._H,{id:"ws.result.details.test.result"})})}),(0,e.jsx)(Sn.Z.Item,{children:(0,e.jsx)(n._H,{id:"ws.result.details.result.details"})})]}),(0,e.jsx)(n.Nv,{accessible:v.IsWsSetting(),children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)($e.Z,{placement:"bottom",title:y.formatMessage({id:"ws.result.details.breadcrumb.button.share"}),children:(0,e.jsx)(fs,{onClick:function(){return R(N+U)},children:(0,e.jsx)(Ir,{})})}),!At.includes(r)&&(0,e.jsx)($e.Z,{placement:"bottom",title:y.formatMessage({id:"ws.result.details.breadcrumb.button.download"}),children:(0,e.jsx)(fs,{onClick:W,children:(0,e.jsx)(Fn.Z,{})})})]})}),(0,e.jsx)("a",{ref:u,href:b,target:"_blank",style:{display:"none"},rel:"noreferrer"})]})},Ot=function(t){var r=t.name,s=t.dataIndex,d=t.isLink,o=t.onClick,x=(0,n.Kd)()==="en-US",v=x?120:58;return(0,e.jsxs)(H.Z,{span:8,style:{display:"flex",alignItems:"start"},children:[(0,e.jsx)(P.Z.Text,{className:Ke().test_summary_item,style:{width:v},children:r}),d?(0,e.jsx)(P.Z.Text,{className:Ke().test_summary_item_right,style:{cursor:"pointer",color:"#1890FF",width:"calc(100% - ".concat(v,"px - 16px)")},children:(0,e.jsx)("span",{onClick:o,children:s||"-"})}):(0,e.jsx)(P.Z.Text,{className:Ke().test_summary_item_right,style:{width:"calc( 100% - ".concat(v,"px - 16px)")},children:s||"-"})]})},Hr=function(t){var r=(0,n.md)(),s=t.creator_id,d=t.note,o=t.refresh,x=(0,Ie.UO)(),v=x.id,y=i.useRef(),u=function(){var b;(b=y.current)===null||b===void 0||b.show({editor_obj:"job",job_id:v,note:d})},S={paddingTop:5,marginRight:10};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.Nv,{accessible:r.WsMemberOperateSelf(s),fallback:(0,e.jsx)(sn.Z,{onClick:function(){return(0,fe.WR)()},style:(0,f.Z)({},S)}),children:(0,e.jsx)(sn.Z,{onClick:u,style:(0,f.Z)({},S)})}),(0,e.jsx)(zt,{ref:y,onOk:o})]})},Br=function(){var t,r=(0,n.YB)(),s=r.formatMessage,d=(0,n.Kd)()==="en-US",o=d?120:58,x=(0,Ie.UO)(),v=x.ws_id,y=x.id,u=(0,Ie.TH)(),S=u.pathname,j=u.query,b=(0,n.md)(),m=(0,i.useState)(j!=null&&j.tab?+j.tab:1),Z=(0,C.Z)(m,2),_=Z[0],g=Z[1],I=(0,i.useRef)(),k=(0,i.useRef)(),w=i.useState(!1),F=(0,C.Z)(w,2),O=F[0],R=F[1],G=i.useState(!1),W=(0,C.Z)(G,2),E=W[0],N=W[1],U=(0,i.useRef)(null),Q=(0,i.useRef)(null),K=(0,n.tT)("@@initialState"),T=K.initialState,te=i.useState(!0),Y=(0,C.Z)(te,2),ge=Y[0],B=Y[1],ae=i.useState({}),ee=(0,C.Z)(ae,2),l=ee[0],A=ee[1],h=i.useRef(null),p=function(){var Re=(0,Se.Z)((0,q.Z)().mark(function le(){var $,D,z,me,ne;return(0,q.Z)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return B(!0),Ce.next=3,(0,Ze.xO)({job_id:y,ws_id:v});case 3:if($=Ce.sent,D=$.data,z=$.code,B(!1),!(z!==200||Object.prototype.toString.call(D)!=="[object Array]"||D.length===0)){Ce.next=9;break}return Ce.abrupt("return",A({}));case 9:if(me=(0,C.Z)(D,1),ne=me[0],ne){Ce.next=12;break}return Ce.abrupt("return",A({}));case 12:(ne==null?void 0:ne.state)==="running"&&g(2),A(ne),setTimeout(function(){document.title="#".concat(y," ").concat(ne==null?void 0:ne.name," - T-One")},300);case 15:case"end":return Ce.stop()}},le)}));return function(){return Re.apply(this,arguments)}}();i.useEffect(function(){return p(),function(){h.current&&clearTimeout(h.current),A({})}},[]);var M=function(){var Re=(0,Se.Z)((0,q.Z)().mark(function le(){var $,D,z,me;return(0,q.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if($=l.state,At.includes($)){he.next=3;break}return he.abrupt("return");case 3:return he.next=5,(0,J.Rg)({job_id:y,ws_id:v});case 5:if(D=he.sent,z=D.data.job_state,me=D.code,me===200){he.next=10;break}return he.abrupt("return");case 10:At.includes(z)&&(h.current=setTimeout(M,5e3)),A(function(Ce){return(0,f.Z)((0,f.Z)({},Ce),{},{state:z})});case 12:case"end":return he.stop()}},le)}));return function(){return Re.apply(this,arguments)}}();i.useEffect(function(){var Re=l.state;h.current&&setTimeout(h.current),Re&&M()},[l==null?void 0:l.state]);var X=function(le){g(le),n.m8.replace("".concat(S,"?tab=").concat(le))},se=function(){Me.default.success(s({id:"operation.success"})),p()},V=function(){return(0,Mt.isNull)(l==null?void 0:l.baseline_job_id)?l==null?void 0:l.baseline_name:(0,e.jsxs)("a",{href:"/ws/".concat(v,"/test_result/").concat(l==null?void 0:l.baseline_job_id),children:["# ",l==null?void 0:l.baseline_job_id]})},ve=function(){var Re=(0,Se.Z)((0,q.Z)().mark(function le(){var $,D,z;return(0,q.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(l.collection){ne.next=6;break}return ne.next=3,(0,J.dN)({job_id:y});case 3:ne.t0=ne.sent,ne.next=9;break;case 6:return ne.next=8,(0,J.pi)({job_id:y});case 8:ne.t0=ne.sent;case 9:if($=ne.t0,D=$.msg,z=$.code,z===200){ne.next=14;break}return ne.abrupt("return",(0,fe.EV)(z,D));case 14:A(function(he){return(0,f.Z)((0,f.Z)({},he),{},{collection:!he.collection})});case 15:case"end":return ne.stop()}},le)}));return function(){return Re.apply(this,arguments)}}(),we=function(){var Re=(0,Se.Z)((0,q.Z)().mark(function le(){var $,D,z,me,ne,he;return(0,q.Z)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!O){Oe.next=2;break}return Oe.abrupt("return");case 2:return R(!0),$=T==null?void 0:T.authList,D=$.user_id,z=D?{user_id:D}:{},Oe.next=7,(0,Ze.Xc)((0,f.Z)((0,f.Z)({},z),{},{editor_obj:"job",job_id:y,state:"stop"}));case 7:if(me=Oe.sent,ne=me.code,he=me.msg,ne===200){Oe.next=14;break}return(0,fe.EV)(ne,he),R(!1),Oe.abrupt("return");case 14:Me.default.success(s({id:"operation.success"})),p(),_===1&&N(!0),_===2&&k.current.refresh(),R(!1);case 19:case"end":return Oe.stop()}},le)}));return function(){return Re.apply(this,arguments)}}(),re={wordBreak:"break-all",whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2},Pe=function(){I.current.show(l)},Je=l!=null&&(t=l.report_li)!==null&&t!==void 0&&t.length?"default":"primary",Xe=(l==null?void 0:l.created_from)==="offline",tt=function(le){return new Map([["\u5185\u7F51\u673A\u5668",s({id:"aligroupServer"})],["\u4E91\u4E0A\u673A\u5668",s({id:"aliyunServer"})],["aligroup",s({id:"aligroupServer"})],["aliyun",s({id:"aliyunServer"})]]).get(le)},ht=function(le){return new Map([["\u5185\u7F51\u673A\u5668","aligroup"],["\u4E91\u4E0A\u673A\u5668","aliyun"],["aligroup","aligroup"],["aliyun","aliyun"]]).get(le)},_t=[[1,"testResult",(0,e.jsx)(ja,{creator:l.creator,test_type:l.test_type,job_id:y,cases:l.case_result,caseResult:l.case_result,provider_name:ht(l.provider_name),ws_id:v,refreshResult:E},"testResult")],[2,"testProgress",(0,e.jsx)(Ka,{job_id:y,onRef:k,test_type:l==null?void 0:l.test_type,provider_name:ht(l==null?void 0:l.provider_name)},"testProgress")],[3,"testConfig",(0,e.jsx)(pr,{jt_id:l==null?void 0:l.job_type_id,provider_name:ht(l==null?void 0:l.provider_name),test_type:l==null?void 0:l.test_type},"testConfig")]];return(0,e.jsxs)(He.Z,{spinning:ge,className:Ke().spin_style,children:[JSON.stringify(l)==="{}"?(0,e.jsx)(wr,{}):(0,e.jsxs)("div",{style:{background:"#F5F5F5",width:"100%",overflowX:"hidden",overflowY:"auto"},children:[(0,e.jsxs)("div",{style:{minHeight:270,marginBottom:10,background:"#fff",padding:20},children:[(0,e.jsx)(Dr,(0,f.Z)({bottomHeight:4},l)),(0,e.jsxs)("div",{style:{paddingLeft:20,position:"relative"},children:[(0,e.jsx)(n.Nv,{accessible:b.WsTourist(),children:l!=null&&l.collection?(0,e.jsx)(ye.Z,{style:{color:"#F7B500"},className:Ke().detail_collection,onClick:ve}):(0,e.jsx)(xe.Z,{style:{color:"#4F4F4F"},className:Ke().detail_collection,onClick:ve})}),(0,e.jsxs)(ce.Z,{className:Ke().test_result_name,align:"middle",children:["#".concat(l==null?void 0:l.id," ").concat(l==null?void 0:l.name),(l==null?void 0:l.created_from)==="offline"&&(0,e.jsx)("span",{className:Ke().offline_flag,children:(0,e.jsx)(n._H,{id:"ws.result.list.offline"})})]}),(0,e.jsxs)(ce.Z,{children:[(0,e.jsxs)(H.Z,{span:17,children:[(0,e.jsx)(ce.Z,{style:{marginBottom:(l==null?void 0:l.state)!=="pending"||(0,Mt.isNull)(l==null?void 0:l.pending_state_desc)?26:0},children:(0,e.jsxs)(oe.Z,{children:[(0,e.jsx)(ie.iK,{state:l==null?void 0:l.state}),(l==null?void 0:l.provider_name)&&(0,e.jsx)($e.Z,{title:s({id:"ws.result.details.provider_name"}),placement:"bottom",children:(0,e.jsx)(at.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:tt(l==null?void 0:l.provider_name)})}),(l==null?void 0:l.test_type)&&(0,e.jsx)($e.Z,{title:s({id:"ws.result.details.test_type"}),placement:"bottom",children:(0,e.jsx)(at.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:(0,e.jsx)(n._H,{id:"".concat((0,fe.SE)(l==null?void 0:l.test_type),".test"),defaultMessage:l==null?void 0:l.test_type})})}),(l==null?void 0:l.job_type)&&(0,e.jsx)($e.Z,{title:s({id:"ws.result.details.job_type"}),placement:"bottom",children:(0,e.jsx)(at.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:l==null?void 0:l.job_type})})]})}),(l==null?void 0:l.state)==="pending"&&(l==null?void 0:l.pending_state_desc)&&(0,e.jsx)(ce.Z,{style:{marginBottom:26,marginTop:6},children:(0,e.jsx)(We.Z,{message:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:l==null?void 0:l.pending_state_desc.replace(/(\d+)/g,'<a href="/ws/'.concat(v,'/test_result/$1" target="_blank">$1</a>'))}}),type:"warning",showIcon:!0,closable:!0,style:{height:30,color:"rgba(0,0,0,0.65)",fontSize:12}})}),(0,e.jsxs)(ce.Z,{className:Ke().test_summary_row,children:[(0,e.jsx)(Ot,{name:s({id:"ws.result.details.creator_name"}),dataIndex:l==null?void 0:l.creator_name}),(0,e.jsx)(Ot,{name:s({id:"ws.result.details.gmt_created"}),dataIndex:l==null?void 0:l.gmt_created}),(0,e.jsx)(Ot,{name:s({id:"ws.result.details.finish_time"}),dataIndex:l==null?void 0:l.end_time})]}),(0,e.jsxs)(ce.Z,{className:Ke().test_summary_row,children:[(0,e.jsx)(Ot,{name:s({id:"ws.result.details.project_name"}),dataIndex:l==null?void 0:l.project_name}),(0,e.jsx)(Ot,{name:(0,Mt.isNull)(l==null?void 0:l.baseline_job_id)?s({id:"ws.result.details.baseline_test"}):s({id:"ws.result.details.baseline_job"}),dataIndex:V()}),(0,e.jsx)(H.Z,{span:8,children:(0,e.jsxs)(ce.Z,{children:[(0,e.jsx)(P.Z.Text,{className:Ke().test_summary_item,style:{width:o},children:(0,e.jsx)(n._H,{id:"ws.result.details.produce.version"})}),(0,e.jsx)(P.Z.Text,{className:Ke().test_summary_item_right_unellipsis,style:{width:"calc( 100% - ".concat(o,"px - 16px)")},children:(l==null?void 0:l.product_version)||"-"})]})})]}),(l==null?void 0:l.plan_instance_name)&&(l==null?void 0:l.plan_instance_id)&&(0,e.jsx)(ce.Z,{className:Ke().test_summary_row,children:(0,e.jsx)(Ot,{name:s({id:"ws.result.details.plan_instance_name"}),dataIndex:l==null?void 0:l.plan_instance_name,isLink:!0,onClick:function(){return n.m8.push("/ws/".concat(v,"/test_plan/view/detail/").concat(l==null?void 0:l.plan_instance_id))}})}),(0,e.jsxs)(ce.Z,{className:Ke().test_summary_row,children:[(0,e.jsx)(P.Z.Text,{className:Ke().test_summary_item,style:{width:o},children:(0,e.jsx)(n._H,{id:"ws.result.details.job.tag"})}),(0,e.jsx)(gr,{width:o+16,onOk:se,ws_id:v,job_id:y,tags:l==null?void 0:l.tags,creator_id:l==null?void 0:l.creator,accessLabel:b.WsMemberOperateSelf()})]}),(0,e.jsxs)(ce.Z,{style:{position:"relative"},children:[(0,e.jsx)(P.Z.Text,{className:Ke().test_summary_item,style:{width:o},children:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"})}),(0,e.jsx)(Hr,{note:l==null?void 0:l.note,creator_id:l==null?void 0:l.creator,refresh:p}),(0,e.jsx)("div",{style:(0,f.Z)((0,f.Z)({},re),{},{width:"calc(100% - ".concat(o,"px - 60px)")}),children:l!=null&&l.note?(0,e.jsx)($e.Z,{title:(0,e.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:l==null?void 0:l.note}),placement:"topLeft",overlayStyle:{minWidth:800},children:l==null?void 0:l.note}):(0,e.jsx)("span",{children:"-"})})]})]}),(0,e.jsx)(H.Z,{span:7,style:{position:"relative"},children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"fix-end",width:"100%"},children:(0,e.jsx)(_s,{test_type:l.test_type,data:l.case_result,plan:l.plan_instance_name&&l.plan_instance_id})})})]})]})]}),(0,e.jsx)(Sr,{job_id:y}),(0,e.jsx)(Tr,(0,f.Z)({},l)),(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsx)(pe.Z,{defaultActiveKey:_,onTabClick:X,className:Ke().result_tab_nav,tabBarExtraContent:(0,e.jsxs)("div",{style:{display:"flex",marginRight:12},children:[(0,e.jsx)(_r.Z,{viewAllReport:U,dreType:"bottomRight",jobInfo:l,origin:"jobDetail",stylesButton:Q.current}),(0,e.jsx)(n.Nv,{accessible:b.IsWsSetting(),children:(0,e.jsx)(ke.Z,{type:Je,onClick:Pe,disabled:Xe,style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.rerun"})})}),(0,e.jsx)(n.Nv,{accessible:b.WsMemberOperateSelf(l==null?void 0:l.creator),fallback:At.includes(l==null?void 0:l.state)&&(0,e.jsx)(ke.Z,{onClick:function(){return(0,fe.WR)()},style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.stop"})}),children:At.includes(l==null?void 0:l.state)&&(0,e.jsx)(ct.Z,{placement:"topRight",title:s({id:"ws.result.details.job.confirm.stop",defaultMessage:"\u786E\u5B9A\u8981\u505C\u6B62job\u5417\uFF1F"}),onConfirm:we,children:(0,e.jsx)(ke.Z,{style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.stop"})})})})]}),items:_t.map(function(Re){return{key:Re[0],label:s({id:"ws.result.details.tab.".concat(Re[1])}),children:Re[2],disabled:Re[0]===2&&(l==null?void 0:l.created_from)==="offline"}})})})]}),(0,e.jsx)(Rr.Z,{ref:I})]})},Mr=Br},68210:function(Ae,lt,c){"use strict";c.d(lt,{r:function(){return ke}});var Te=c(22374),He,Qe=["svgRef","title"];function pe(){return pe=Object.assign?Object.assign.bind():function(H){for(var De=1;De<arguments.length;De++){var P=arguments[De];for(var Ne in P)Object.prototype.hasOwnProperty.call(P,Ne)&&(H[Ne]=P[Ne])}return H},pe.apply(this,arguments)}function xt(H,De){if(H==null)return{};var P=ct(H,De),Ne,We;if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(H);for(We=0;We<st.length;We++)Ne=st[We],!(De.indexOf(Ne)>=0)&&(!Object.prototype.propertyIsEnumerable.call(H,Ne)||(P[Ne]=H[Ne]))}return P}function ct(H,De){if(H==null)return{};var P={},Ne=Object.keys(H),We,st;for(st=0;st<Ne.length;st++)We=Ne[st],!(De.indexOf(We)>=0)&&(P[We]=H[We]);return P}var gt=function(De){var P=De.svgRef,Ne=De.title,We=xt(De,Qe);return Te.createElement("svg",pe({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:P},We),Ne?Te.createElement("title",null,Ne):null,He||(He=Te.createElement("g",{id:"\\u5BF9\\u6BD4",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Te.createElement("g",{id:"13.\\u5BF9\\u6BD4\\u7ED3\\u679C",transform:"translate(-399.000000, -706.000000)",fill:"#000000",fillRule:"nonzero"},Te.createElement("g",{id:"Group-42",transform:"translate(0.000000, 534.000000)"},Te.createElement("g",{id:"Group-41",transform:"translate(0.000000, 107.000000)"},Te.createElement("g",{id:"Group-22",transform:"translate(20.000000, 1.000000)"},Te.createElement("g",{id:"Group",transform:"translate(377.000000, 59.000000)"},Te.createElement("g",{id:"\\u94FE\\u63A5",transform:"translate(0.000000, 3.000000)"},Te.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),Te.createElement("path",{d:"M11.91,7.92 C11.7153722,8.09503346 11.4186893,8.09033311 11.2297039,7.90922206 C11.0407184,7.72811102 11.0234032,7.43189657 11.19,7.23 L12.06,6.32 C12.709515,5.51696592 12.6264975,4.34816777 11.87,3.645 C11.115,2.86 10,2.79 9.37,3.45 L6.94,6 C6.29048502,6.80303408 6.37350246,7.97183223 7.13,8.675 C7.3238618,8.87001873 7.3238618,9.18498127 7.13,9.38 C7.0361167,9.47465633 6.90831877,9.52789916 6.775,9.52789916 C6.64168123,9.52789916 6.5138833,9.47465633 6.42,9.38 C5.29380253,8.29148422 5.21051969,6.51405308 6.23,5.325 L8.66,2.79 C9.705,1.7 11.48,1.79 12.61,2.99 C13.7040886,4.07696429 13.7802373,5.82185565 12.785,7 L11.91,7.92 Z M3.59,8.08 C3.78462784,7.90496654 4.0813107,7.90966689 4.27029614,8.09077794 C4.45928159,8.27188898 4.47659677,8.56810343 4.31,8.77 L3.44,9.68 C2.79048502,10.4830341 2.87350246,11.6518322 3.63,12.355 C4.385,13.14 5.5,13.21 6.13,12.55 L8.56,10 C9.20951498,9.19696592 9.12649754,8.02816777 8.37,7.325 C8.1761382,7.12998127 8.1761382,6.81501873 8.37,6.62 C8.4638833,6.52534367 8.59168123,6.47210084 8.725,6.47210084 C8.85831877,6.47210084 8.9861167,6.52534367 9.08,6.62 C10.2061975,7.70851578 10.2894803,9.48594692 9.27,10.675 L6.84,13.21 C5.795,14.3 4.02,14.21 2.89,13.01 C1.79591137,11.9230357 1.71976275,10.1781444 2.715,9 L3.59,8.08 Z",id:"Shape"}))))))))))},ke=Te.forwardRef(function(H,De){return Te.createElement(gt,pe({svgRef:De},H))}),ut=c.p+"static/icon_link.2a9a12ad.svg"},65871:function(Ae,lt,c){Ae.exports=c.p+"static/loss.14b90aa5.png"},95844:function(Ae){Ae.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABUlJREFUWAnVmT1yHDcQhRvAzO7yR1U2HbGKsUPzCsxUOoIPYGVWyBs4YSiXE/kAOoJSXcE+A8uM7Mgkd2d3Bv5eA6Ak+wCEUYttoAcYPDw0enowwUjXf15fzPu/b1JYrkZbzqNlW4W9Sa7DglxsEw+WkNKnkO3YilxHJPqTKjeS9DnluvoP02RxzhbuZwuHxdLDbEY9Pe4tSL9Fr/rDwfVxWrxu24OFhf77cGfz8jHldB3ePN4OPwL2cZp+G4KdWQ4MHkw/umkuyJK4NcMLglnmbwm6TkEKihL/SWrYEoOXzii4qe6mbODXBFrySait2pDzPJ9T/j7vdy/z26PLYX+INxbGs8zNI8wFgxHaRxud2cSdEqVdhh2Vw+B3OjCYJrcwIt34j9SEqUApANBoxoDSNb8yoxCgPQpIjdQDOe5KO2MVNAEW0gHHic6owrSc2fbxZpgtXelGS4iMtlTmyj0NncZTEnz1FCEixpxhALMqkbJUrW1rUhqqRvJlKUVvrcZ00rJ7R64Hb6M6ZdfXa2pb2l8Nkw3nDOkDRtYg5PDhaLV6/dM3N7fl9s/zz/JfzNP+HTb9ysFqRRY7jzAMq9o2JRtgb54ZrCjSBkur8bWDbQwj4z4e2aQc1ljvyn7uAGxbU4F2Wxe71eYHOS1tCN9SbpeteSfyM3bF9jCFYwCz2aJ8ga52luQ9BAuPoo0mL+EcF6fVGVjB+TfDu7hxhof8f2E4Djwo8K/4QAyjP4rl+DGFxvSwJSrwZz6PmuL+O8P8uQ3Dp9vw4gHOyEOjY4bbptvFU2f2sEx9MrytJiE/LC9R/HAmUINhhUe9JdmwYCkL8EN84cymTHzq1t0Z4vsC9AmwwnIBbeFfZ3CfmPUwUQxvK8NT0/SG+LEyrE1HGhb8sOLQZstF3dF/3WxurWL43k4cXerRfoWsMVz9AV5Crzy6AvweQTe3ViGGsNO7SK0h8jo5/KJ7/v88fsnikJeGr8nnB/kFgoPeJT+lYXwoFb35Kk1FdPOf118XS/V3fs4pQnUXDriC7gatgMSRP4DpjRqQQ6q7sFfAefNVAbzwjAbzEPyggYnUaEiT6io1hgmChXgY27O6MN4VVoHJazGME555gmAWg8puDi2y7w1ywoYVp0OogD/ZcGqPwM4A59ULB2qHyrB7CZlDY7ozwNYY1gklTA+81DnYjEn0GL/nEYYFjnNnB9yiyn69BLFOxkMsmABBz5BqcOE2LF1nKa9OAcsZtJvGjB8WSNlvpyZhxOs6p7alPJI/2TB1d2+dMWyJeB0bzhwJFxuuDHNQ7Ez3hteS2BUqAWbvBU5WlIeav3ubL3oBnV/9epGHY8vjMUg3nmOU/das8m6ydz2AFthpPrzTw9jZTTCceP/89pf8ByZyLjcn4JGAWHKgrgmskAl5VOtHXPe6VgT9CdGeS7wN5152ynWXO3Y0a3lsD3x5OthxvGdRZ773FXnCWV5ip6+NOgOu4pbwhuv+fXDmeyBfs/QoZvl1fm17Bsz5Tm0+CpjbCVJl5cZ6kt3UrLI/05FPelSKo7Rhn0JUtSNVQakc0ZS6Wpej8/JyptdfjiP5GiV92UqCGCgXnfTadCHGjwOWcb3f20smdCaQ8scaeIXXECgxLUbHyvBGerVrkhE0Qf+GpyHpo9ySjmiUdWCu4bXEqh8chN5wdC6t/mtA62sfx2a0ltS09nzGkExj+GuV0nX8/U24HRe7BOR78h3tCrsakbIzSdFBCUjN0gu4J8oC6W+Fuv6UXFNrKhemSzftekGRDkk/6QVVuiJhP4Q7pvF+k9Jl+PDD7T9Qqao1PwZEZwAAAABJRU5ErkJggg=="},39693:function(Ae,lt,c){"use strict";var Te=c(49132),He=c.n(Te),Qe=c(18370),pe=c.n(Qe)}}]);
