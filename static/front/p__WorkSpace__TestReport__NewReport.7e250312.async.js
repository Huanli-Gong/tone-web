(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[9522],{81873:function(ji,Jt,g){"use strict";g.r(Jt),g.d(Jt,{default:function(){return _i}});var bi=g(67448),Za=g(47548),yi=g(70772),it=g(6701),We=g(35832),Zi=g(81138),dt=g(96146),st=g(32326),Si=g(14320),ze=g(53479),Ci=g(57359),Ue=g(34423),Oi=g(46721),At=g(94867),Ri=g(89963),kt=g(70077),u=g(20418),re=g(39190),a=g(22374),Vt,Sa=["svgRef","title"];function bt(){return bt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},bt.apply(this,arguments)}function Ca(n,t){if(n==null)return{};var i=Oa(n,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(i[o]=n[o]))}return i}function Oa(n,t){if(n==null)return{};var i={},o=Object.keys(n),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(i[r]=n[r]);return i}var Ra=function(t){var i=t.svgRef,o=t.title,r=Ca(t,Sa);return a.createElement("svg",bt({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:i},r),o?a.createElement("title",null,o):null,Vt||(Vt=a.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"31.\\u81EA\\u5B9A\\u4E49-\\u5B8C\\u6210\\u72B6\\u6001",transform:"translate(-22.000000, -223.000000)",fill:"#000000",fillRule:"nonzero"},a.createElement("g",{id:"Group-19",transform:"translate(0.000000, 48.000000)"},a.createElement("g",{id:"Group-5",transform:"translate(20.000000, 170.000000)"},a.createElement("g",{id:"\\u7F16\\u8F91",transform:"translate(0.000000, 3.000000)"},a.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),a.createElement("g",{id:"Group",transform:"translate(2.000000, 2.000000)"},a.createElement("path",{d:"M10.9395833,4.99699511 C10.9395833,4.65949511 10.69375,4.38657844 10.3895833,4.38657844 C10.0854167,4.38657844 9.83958333,4.65949511 9.83958333,4.99699511 L9.83958333,10.0032451 C9.83958333,10.2657451 9.6875,10.7532451 9.47708333,10.7532451 L1.5375,10.7532451 C1.32708333,10.7532451 1.09583333,10.2657451 1.09583333,10.0032451 L1.09583333,2.76366177 C1.09583333,2.50116177 1.30208333,2.00949511 1.5125,2.00949511 L5.47083333,2.00949511 C5.775,2.00949511 6.02083333,1.85949511 6.02083333,1.52407844 C6.02083333,1.18657844 5.775,0.913661773 5.47083333,0.913661773 L0.96875,0.913661773 C0.435416667,0.913661773 -2.4158453e-13,1.45949511 -2.4158453e-13,2.12407844 L-2.4158453e-13,10.6344951 C-2.4158453e-13,11.3011618 0.435416667,11.8449118 0.96875,11.8449118 L9.96666667,11.8449118 C10.5,11.8449118 10.9354167,11.2990784 10.9354167,10.6344951 L10.9354167,5.06991177 C10.9395833,5.04699511 10.9395833,5.02199511 10.9395833,4.99699511 Z",id:"Path"}),a.createElement("path",{d:"M4.90416667,5.29491177 L2.7375,5.29491177 C2.43541667,5.29491177 2.1875,5.04699511 2.1875,4.74491177 C2.1875,4.44282844 2.43541667,4.19491177 2.7375,4.19491177 L4.90416667,4.19491177 C5.20625,4.19491177 5.4541797,4.44282844 5.4541797,4.74491177 C5.45625,5.04699511 5.20833333,5.29491177 4.90416667,5.29491177 Z M8.20416667,8.56991177 L2.72083333,8.56991177 C2.42083333,8.56991177 2.175,8.32407844 2.175,8.02407844 C2.175,7.72407844 2.42083333,7.47824511 2.72083333,7.47824511 L8.20208333,7.47824511 C8.50208333,7.47824511 8.74792981,7.72407844 8.74792981,8.02407844 C8.75,8.32407844 8.50416667,8.56991177 8.20416667,8.56991177 L8.20416667,8.56991177 Z M6.49166667,5.38657844 C6.25,5.20741177 6.2,4.86366177 6.37916667,4.62199511 L9.65416667,0.219911773 C9.83333333,-0.0217548933 10.1770833,-0.0717548933 10.41875,0.107411773 C10.6604167,0.28657844 10.7104167,0.63032844 10.53125,0.871995107 L7.25625,5.27407844 C7.07708333,5.51574511 6.73333333,5.56574511 6.49166667,5.38657844 L6.49166667,5.38657844 Z",id:"Shape"})))))))))},wa=a.forwardRef(function(n,t){return a.createElement(Ra,bt({svgRef:t},n))}),wi=g.p+"static/icon_edit.8f9fd5d4.svg",Yt,Ea=["svgRef","title"];function yt(){return yt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},yt.apply(this,arguments)}function Da(n,t){if(n==null)return{};var i=La(n,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(i[o]=n[o]))}return i}function La(n,t){if(n==null)return{};var i={},o=Object.keys(n),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(i[r]=n[r]);return i}var Pa=function(t){var i=t.svgRef,o=t.title,r=Da(t,Ea);return a.createElement("svg",yt({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:i},r),o?a.createElement("title",null,o):null,Yt||(Yt=a.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"31.\\u81EA\\u5B9A\\u4E49-\\u5B8C\\u6210\\u72B6\\u6001",transform:"translate(-22.000000, -223.000000)",fill:"#ccc",fillRule:"nonzero"},a.createElement("g",{id:"Group-19",transform:"translate(0.000000, 48.000000)"},a.createElement("g",{id:"Group-5",transform:"translate(20.000000, 170.000000)"},a.createElement("g",{id:"\\u7F16\\u8F91",transform:"translate(0.000000, 3.000000)"},a.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),a.createElement("g",{id:"Group",transform:"translate(2.000000, 2.000000)"},a.createElement("path",{d:"M10.9395833,4.99699511 C10.9395833,4.65949511 10.69375,4.38657844 10.3895833,4.38657844 C10.0854167,4.38657844 9.83958333,4.65949511 9.83958333,4.99699511 L9.83958333,10.0032451 C9.83958333,10.2657451 9.6875,10.7532451 9.47708333,10.7532451 L1.5375,10.7532451 C1.32708333,10.7532451 1.09583333,10.2657451 1.09583333,10.0032451 L1.09583333,2.76366177 C1.09583333,2.50116177 1.30208333,2.00949511 1.5125,2.00949511 L5.47083333,2.00949511 C5.775,2.00949511 6.02083333,1.85949511 6.02083333,1.52407844 C6.02083333,1.18657844 5.775,0.913661773 5.47083333,0.913661773 L0.96875,0.913661773 C0.435416667,0.913661773 -2.4158453e-13,1.45949511 -2.4158453e-13,2.12407844 L-2.4158453e-13,10.6344951 C-2.4158453e-13,11.3011618 0.435416667,11.8449118 0.96875,11.8449118 L9.96666667,11.8449118 C10.5,11.8449118 10.9354167,11.2990784 10.9354167,10.6344951 L10.9354167,5.06991177 C10.9395833,5.04699511 10.9395833,5.02199511 10.9395833,4.99699511 Z",id:"Path"}),a.createElement("path",{d:"M4.90416667,5.29491177 L2.7375,5.29491177 C2.43541667,5.29491177 2.1875,5.04699511 2.1875,4.74491177 C2.1875,4.44282844 2.43541667,4.19491177 2.7375,4.19491177 L4.90416667,4.19491177 C5.20625,4.19491177 5.4541797,4.44282844 5.4541797,4.74491177 C5.45625,5.04699511 5.20833333,5.29491177 4.90416667,5.29491177 Z M8.20416667,8.56991177 L2.72083333,8.56991177 C2.42083333,8.56991177 2.175,8.32407844 2.175,8.02407844 C2.175,7.72407844 2.42083333,7.47824511 2.72083333,7.47824511 L8.20208333,7.47824511 C8.50208333,7.47824511 8.74792981,7.72407844 8.74792981,8.02407844 C8.75,8.32407844 8.50416667,8.56991177 8.20416667,8.56991177 L8.20416667,8.56991177 Z M6.49166667,5.38657844 C6.25,5.20741177 6.2,4.86366177 6.37916667,4.62199511 L9.65416667,0.219911773 C9.83333333,-0.0217548933 10.1770833,-0.0717548933 10.41875,0.107411773 C10.6604167,0.28657844 10.7104167,0.63032844 10.53125,0.871995107 L7.25625,5.27407844 C7.07708333,5.51574511 6.73333333,5.56574511 6.49166667,5.38657844 L6.49166667,5.38657844 Z",id:"Shape"})))))))))},Fa=a.forwardRef(function(n,t){return a.createElement(Pa,yt({svgRef:t},n))}),Ei=g.p+"static/iconEdit.bde3aea5.svg",Ta=g(68210),_=g(41428),d=g(22812),Di=g(163),Ut=g(60318),Li=g(31650),Re=g(25100),Pi=g(20693),Zt=g(3278),St=g(93329),rt=g(39935),j=g(97939),It=g(97207),ve=g.n(It),lt=g(992),e=g(52454),Qt,Na=Zt.Z.TextArea,Xt=(0,j.ZP)(Na)(Qt||(Qt=(0,_.Z)([`
    width: 100%;
`]))),pt=function(t){var i=t.name,o=t.style,r=t.space,s=r===void 0?"0px":r,Z=t.fontStyle,f=Z===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:Z,c=t.defaultHolder,F=t.btn,T=F===void 0?!1:F,l=t.btnConfirm,x=l===void 0?!1:l,S=t.isInput,w=S===void 0?!1:S,C=t.onOk,E=(0,d.YB)(),K=E.formatMessage,te=(0,a.useState)(""),k=(0,re.Z)(te,2),X=k[0],V=k[1];(0,a.useEffect)(function(){x&&C(X)},[x]),(0,a.useEffect)(function(){V(i)},[i]);var Y=function(R){return ve().isNull(R)||ve().isUndefined(R)?K({id:"report.not.filled.in"}):R};return(0,e.jsx)(e.Fragment,{children:T?(0,e.jsx)(e.Fragment,{children:w?(0,e.jsx)(Zt.Z,{autoComplete:"off",size:"small",placeholder:c,style:(0,u.Z)({padding:"6px 8px 6px 8px",width:"93%"},f),value:X,onChange:function(R){return V(R.target.value)}}):(0,e.jsx)("div",{style:{marginBottom:s},children:(0,e.jsx)(Xt,{autoComplete:"off",size:"small",placeholder:c,style:(0,u.Z)({padding:"10px"},f),value:X,onChange:function(R){return V(R.target.value)}})})}):w?(0,e.jsx)(Re.Z.Text,{style:f,children:Y(X)}):(0,e.jsx)("div",{style:(0,u.Z)({width:"100%"},o),children:(0,e.jsx)(Re.Z.Text,{style:f,children:Y(X)})})})},ht=function(t){var i=t.saveData,o=t.style,r=t.field,s=t.space,Z=s===void 0?"0px":s,f=t.fontStyle,c=f===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:f,F=t.defaultHolder,T=t.creator,l=(0,d.md)(),x=(0,d.YB)(),S=x.formatMessage,w=(0,a.useState)(!1),C=(0,re.Z)(w,2),E=C[0],K=C[1],te=(0,a.useState)(""),k=(0,re.Z)(te,2),X=k[0],V=k[1];(0,a.useEffect)(function(){V(r==="custom"?i.test_conclusion.custom:r==="text"?i.test_env.text:i[r])},[i,r]);var Y=function(p){Ut.default.success({message:"".concat(p),placement:"bottomRight"})},me=function(p){var b={description:S({id:"report.description.save"}),test_background:S({id:"report.test_background.save"}),test_method:S({id:"report.test_method.save"}),custom:S({id:"report.test_conclusion.save"}),text:S({id:"report.text.save"})};return b[p]},R=function(){var v=(0,st.Z)((0,We.Z)().mark(function p(){var b,h,y,U,ae;return(0,We.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return b=i.id,h={report_id:b},r==="custom"?h.test_conclusion={custom:X}:r==="text"?h.test_env={text:X}:h[r]=X,A.next=5,(0,lt.nP)((0,u.Z)({},h));case 5:y=A.sent,U=y.code,ae=y.msg,U===200?(Y(me(r)),K(!1)):dt.default.error(ae);case 9:case"end":return A.stop()}},p)}));return function(){return v.apply(this,arguments)}}(),m=function(p){return ve().isNull(p)||ve().isUndefined(p)?(0,e.jsx)(d._H,{id:"report.not.filled"}):p};return(0,e.jsx)(e.Fragment,{children:E?(0,e.jsx)("div",{style:{marginBottom:Z},children:(0,e.jsx)(Xt,{autoComplete:"off",size:"small",placeholder:F,style:(0,u.Z)({padding:"10px"},c),value:X,onChange:function(p){return V(p.target.value)},onBlur:R})}):(0,e.jsxs)("div",{style:(0,u.Z)({width:"100%"},o),children:[(0,e.jsx)(Re.Z.Text,{style:c,children:m(X)}),(0,e.jsx)(d.Nv,{accessible:l.WsTourist(),children:(0,e.jsx)(d.Nv,{accessible:l.WsMemberOperateSelf(T),fallback:(0,e.jsx)(St.Z,{onClick:function(){return(0,rt.WR)()},style:{paddingLeft:10}}),children:(0,e.jsx)(St.Z,{style:{paddingLeft:10},onClick:function(){return K(!0)}})})})]})})},Qe=(0,a.createContext)(null),Fi=g(79625),Ct=g(96584),Ha=g(53770),Aa=g(2488),qt,en,tn,nn,rn,an,on,sn,ln,cn,un,dn,pn,fn,vn,mn,gn,hn,xn,_n,jn,bn,yn,Zn,Sn,Cn,On,Rn,wn,En,Dn,Ln,Pn,Fn,Tn,Nn,Hn,An,kn,In,Gn,Mn,Bn,Kn,Wn,$n,zn,Jn,Vn,Yn,Un,Qn,Xn,qn,er,tr,nr,rr,ar,or,ir,sr,lr,cr,ur,dr,pr,fr,vr,ka=j.ZP.div(qt||(qt=(0,_.Z)([`
    width: 100%;
    height: `,`px;
    position: relative;
    display: flex;
    background: #f5f5f5;
    //padding-bottom: 56px;
`])),function(n){var t=n.height;return t}),Ia=j.ZP.div(en||(en=(0,_.Z)([`
    width: `,`;
    height: 100%;
    padding-left: 20px;
    padding-right: 20px;
    overflow: auto;
    padding-bottom: 20px;
`])),function(n){var t=n.collapsed;return t?"100%":"calc(100% - 200px)"}),Ga=(0,j.ZP)(ze.Z)(tn||(tn=(0,_.Z)([`
    width:1200px;
    margin:0 auto !important;
    height:600px;
`]))),mr=j.ZP.div(nn||(nn=(0,_.Z)([`
    height:100%;
    width:100%;

    overflow-y:auto;
    overflow-x:hidden;
    .ant-tree .ant-tree-node-content-wrapper.ant-tree-node-selected {
        background-color:#fff;
    }
    .ant-tree .ant-tree-node-content-wrapper:hover {
        background-color:#fff;
    }
    .ant-tree-switcher { width : 0;}

    .ant-tree .ant-tree-treenode {
        display: inline-block;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }
    #left-catalog-wrapper .spaceWarpper .ant-space-item .toc-selected {
        color: #1890FF;
    }
`]))),Ma=j.ZP.span(rn||(rn=(0,_.Z)([`
    position: absolute;
    cursor: pointer;
    top: 10px; 
    right: -8px;
    width: 12px;
    height: 70px;
    z-index:999;
`]))),Ba=j.ZP.span(an||(an=(0,_.Z)([`
    position: absolute;
    left: 79%;
    top: 54%;
    transform: translate(-50%, -50%);
    display: flex;
    font-size: 8px ;
    cursor : pointer;
`]))),Ka=j.ZP.div(on||(on=(0,_.Z)([`
    width: `,`px;
    height: 100%;
    background: #fff;
    position: relative;
    .ant-typography { cursor : pointer; }
    `,` {
        `,`
    }
`])),function(n){var t=n.collapsed;return t?0:200},mr,function(n){var t=n.collapsed;return t?"":"padding:16px 12px 12px 26px;"}),Wa=j.ZP.div(sn||(sn=(0,_.Z)([`
    margin-bottom: 24px;
`]))),Ti=j.ZP.div(ln||(ln=(0,_.Z)([`
    width:1px;
    background:#e5e5e5;
    margin-right:13px;
`]))),$a=function(t){return t+3+"px"},za=j.ZP.div(cn||(cn=(0,_.Z)([`
    height:10px;
    width:10px;
    border-radius:50%;
    background:#fff;
    border:1px solid #e5e5e5;
    position:absolute;
    left:-5px;
    top:`,`;
`])),function(n){var t=n.count;return $a(t)}),Ja=j.ZP.div(un||(un=(0,_.Z)([`
    height:4px;
    width:4px;
    border-radius:50%;
    background:#1890FF;
    margin: 25% auto;
`]))),gr=j.ZP.div(dn||(dn=(0,_.Z)([`
    //margin-top:8px;
    padding-left:20px;
`]))),Ni=(0,j.ZP)(Ct.Z)(pn||(pn=(0,_.Z)([`
    max-width: 540px !important;
    .ant-tooltip-inner {
        max-width: 540px;
        max-height: 360px;
        overflow-y: scroll;
    }
`]))),Va=(0,j.ZP)(kt.Z)(fn||(fn=(0,_.Z)([`
    height:22px;
    margin:14px 0;
    position:relative;
`]))),hr=j.ZP.span(vn||(vn=(0,_.Z)([`
    cursor:pointer;
`]))),Ya=(0,j.ZP)(hr)(mn||(mn=(0,_.Z)([`
    display:inline-block;
    max-width:940px;    
    position:absolute;
    overflow:hidden;
    text-overflow:ellipsis;
    white-space:nowrap;
`]))),Hi=j.ZP.span(gn||(gn=(0,_.Z)([`
    position:absolute;
    right:0px;
    top:`,`;

`])),function(n){var t=n.btnState;return t?"-5px":0}),xr=function(t){return t==1?"50%":"110px"},_r=function(t){return t==1?"50%":"calc( (100% - 110px) / ".concat(t,")")},jr=`
    line-height:48px; 
    float:left;
    padding-left:16px;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: #000000;
    border-bottom:1px solid rgba(0,0,0,0.10);
    border-right:1px solid rgba(0,0,0,0.10);
`,br=`
    line-height:76px; 
    float:left;
    padding-left:16px;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: #000000;
`,Ua=`
    min-height:40px; 
    height:40px; 
    line-height:20px;
    border-right:1px solid rgba(0,0,0,0.10);
    //text-align:center;
    text-align:left;
    padding:0 9px; 
    .logo{
        font-style:normal;
        color:rgba(0,0,0,0.65);
        font-size:12px;
    }
    .all{
        font-size:20px;
        color:#649FF6;
    }
    .up{
        font-size:20px;
        color:#81BF84;
    }
    .down{
        font-size:20px;
        color:#C84C5A;
    }
`,yr=j.ZP.div(hn||(hn=(0,_.Z)([`
    `,`
    width : `,`;
    border-right:1px solid rgba(0,0,0,0.10);
`])),jr,function(n){var t=n.gLen;return xr(t)}),Zr=j.ZP.div(xn||(xn=(0,_.Z)([`
    `,` 
    display:flex;     
    width : `,`;
    &:last-child {
        border-right:none;
    }
`])),jr,function(n){var t=n.gLen;return _r(t)}),Gt=j.ZP.div(_n||(_n=(0,_.Z)([`
    height:48px;
    display:flex;
`]))),Sr=j.ZP.div(jn||(jn=(0,_.Z)([`
    `,`
    width : `,`;
    border-right:1px solid rgba(0,0,0,0.10);
    border-bottom:1px solid rgba(0,0,0,0.10);
`])),br,function(n){var t=n.gLen;return xr(t)}),Cr=j.ZP.div(bn||(bn=(0,_.Z)([`
    `,`
    width : `,`;
    border-right:1px solid rgba(0,0,0,0.10);
    border-bottom:1px solid rgba(0,0,0,0.10);
    &:last-child{
        border-right:none;
    }
`])),br,function(n){var t=n.gLen;return _r(t)}),ft=j.ZP.span(yn||(yn=(0,_.Z)([`
    `,`
    &:last-child{
        border-right:none;
    }
`])),Ua),Qa=(0,j.ZP)(Sr)(Zn||(Zn=(0,_.Z)([`
    border-bottom:none;
`]))),Xa=(0,j.ZP)(Cr)(Sn||(Sn=(0,_.Z)([`
    border-bottom:none;
`]))),Or=j.ZP.div(Cn||(Cn=(0,_.Z)([`
    height:76px;
`]))),Mt=j.ZP.div(On||(On=(0,_.Z)([`
    border: 1px solid rgba(0,0,0,0.10);
    background:#fff;
`]))),ct=j.ZP.div(Rn||(Rn=(0,_.Z)([`
    height:auto;
    background:#fff;
    padding:16px 20px;
    margin-bottom:16px;
`]))),Rr=j.ZP.div(wn||(wn=(0,_.Z)([`
    color:rgba(0,0,0,0.85);
    font-size:14px;
    margin-bottom:8px;
    font-family:PingFangSC-Medium;
`]))),vt=j.ZP.div(En||(En=(0,_.Z)([`
    font-size:16px;
    font-weight:bold;
    color:rgba(0,0,0,0.85); 
    margin-bottom: 16px;
    .line{
        width:2px;
        height:16px;
        background:#1890FF;
        margin: 4px 8px 4px -10px;
        float:left;
    }
`]))),qa=function(t){return t==1?"calc( 100% - 110px )":"calc( (100% - 110px) / ".concat(t,")")},eo=j.ZP.div(Dn||(Dn=(0,_.Z)([`
    width:110px;
    float:left;
    padding-left:16px;
    border-right:1px solid rgba(0,0,0,0.10);
`]))),Ai=j.ZP.div(Ln||(Ln=(0,_.Z)([`
    width: `,`;
    display:flex;
    padding-left:13px;
    border-right:1px solid rgba(0,0,0,0.10);
`])),function(n){var t=n.gLen;return qa(t)}),to=j.ZP.div(Pn||(Pn=(0,_.Z)([`
    border: 1px solid rgba(0,0,0,0.10);
    height:48px;
    line-height:48px;
    color:#000;
    font-weight:500;
    margin-bottom:13px;
    border-right:none;
    display:flex;
`]))),ki=j.ZP.div(Fn||(Fn=(0,_.Z)([`
    height:57px;
    line-height:57px;
    padding-left:5px;
`]))),no=j.ZP.div(Tn||(Tn=(0,_.Z)([`
    //border:1px solid rgba(0,0,0,0.1);
    background-color: #FDFEFF;
    margin-top: 11px;
    border-bottom:none;
`]))),ro=(0,j.ZP)(ze.Z)(Nn||(Nn=(0,_.Z)([`
    min-height:40px;
    border:1px solid rgba(0,0,0,0.1);
    border-bottom:none;
    &:last-child{
        border-bottom:1px solid rgba(0,0,0,0.1);
    }
`]))),ao=j.ZP.div(Hn||(Hn=(0,_.Z)([`
    width:75px;
    padding-top:8px;
    text-align:center;
    color:rgba(0,0,0,0.85);
    font-family:PingFangSC-Medium;
    vertical-align: top;
`]))),oo=j.ZP.div(An||(An=(0,_.Z)([`
    width:calc(100% - 75px);
    border-left:1px solid rgba(0,0,0,0.1);
    & > div {
        width:100%;
        padding:8px 20px 8px 24px;
        max-height: 300px;
        overflow-y: auto;
    }
`]))),Bt=`
    float:left;
    font-size:14px;
    padding-left:16px;
    color:rgba(0,0,0,0.85);
    font-family: PingFangSC-Medium;
    overflow: hidden;
    //text-overflow: ellipsis;
    white-space: nowrap;
`,Kt=j.ZP.span(kn||(kn=(0,_.Z)([`
    padding:0 9px;
    .normal{
        color: rgba(0,0,0,1);
        font-size: 14px;
   }
   .invalid{
        color: rgba(0,0,0,0.25);
        font-size: 14px;
   }
   .increase{
        font-size: 14px;
        color: #81BF84;
    }
    .decline{
        font-size: 14px;
        color: #C84C5A;
    }
`]))),mt=(0,j.ZP)(Ha.Z)(In||(In=(0,_.Z)([`
    display:inline-block;
    position:absolute;
    right:20px;
    top:16px;
`]))),wr=j.ZP.div(Gn||(Gn=(0,_.Z)([`
    height: 24px;
    width: 64px;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: rgba(0,0,0,0.85);
    line-height: 24px;
    margin:16px 0;
`]))),Er=j.ZP.div(Mn||(Mn=(0,_.Z)([`
    border:1px solid rgba(0,0,0,0.1);
    border-radius:4px;
    border-top:2px solid #1890FF;
    //padding-bottom: 24px;
`]))),Wt=j.ZP.div(Bn||(Bn=(0,_.Z)([`
    height:47px;
    line-height:47px;
    padding-left:5px;
    background: rgba(0,0,0,0.02);
    position:relative;
`]))),Dr=j.ZP.div(Kn||(Kn=(0,_.Z)([`
    height: `,`;
    line-height:`,`;
    padding-left:5px;
    background: `,`;
    margin-bottom:`,`;
    position:relative;
`])),function(n){var t=n.isGroup;return t?"57px":"47px"},function(n){var t=n.isGroup;return t?"57px":"47px"},function(n){var t=n.isGroup;return t?"#fff":"rgba(0,0,0,0.02)"},function(n){var t=n.isGroup;return t?"0px":"17px"}),Ii=(0,j.ZP)(Wt)(Wn||(Wn=(0,_.Z)([`
    margin-bottom:17px;
`]))),Ot=j.ZP.span($n||($n=(0,_.Z)([`
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color: rgba(0,0,0,0.85);
    margin-left:5px;
`]))),Lr=j.ZP.span(zn||(zn=(0,_.Z)([`
    display:inline-block;
    position:absolute;
    right:16px;
`]))),Pr=j.ZP.div(Jn||(Jn=(0,_.Z)([`
    height:auto;
    background:rgba(0,0,0,0.03);
    margin:0 16px 18px 16px;
    padding-bottom: 18px;
`]))),Fr=j.ZP.div(Vn||(Vn=(0,_.Z)([`
    height:41px;
    line-height:41px;
    padding-left:16px;
    font-size:14px;
    font-family: PingFangSC-Medium;
    color:rgba(0,0,0,0.85);
    background:rgba(0,0,0,0.04);
    position:relative;
`]))),Tr=j.ZP.div(Yn||(Yn=(0,_.Z)([`
    margin: 10px 0px 3px 0px;
    height:22px;
    padding: 0px 15px 0px 17px;
    display:flex;
`]))),xt=function(t){return t==1?"50%":"360px"},_t=function(t,i){return t==1?i?"calc( 50% - 39px )":"50%":i?"calc( (100% - 399px) / ".concat(t,")"):"calc( (100% - 360px) / ".concat(t,")")},Nr=j.ZP.div(Un||(Un=(0,_.Z)([`
    //float:left;
    font-size:12px;
    color: rgba(0,0,0,0.45);
    width : `,`;
`])),function(n){var t=n.gLen;return xt(t)}),Hr=j.ZP.div(Qn||(Qn=(0,_.Z)([`
    //float:left;
    font-size:12px;
    color: rgba(0,0,0,0.45);
    width : `,`;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    &:last-child {
        border-right:none;
    }
`])),function(n){var t=n.gLen,i=n.btnState;return _t(t,i)}),Ar=j.ZP.div(Xn||(Xn=(0,_.Z)([`
    margin: 0px 15px 0px 17px;
    /* border-top:1px solid rgba(0,0,0,0.10); */
`]))),io=j.ZP.div(qn||(qn=(0,_.Z)([`
    height:40px;
    background:#fafafa;
    border: 1px solid rgba(0,0,0,0.10);
    border-right:none;
    border-top: none;
    /* &:first-child {
        border-top:1px solid rgba(0,0,0,0.10);
    } */
`]))),kr=`
    float:left;
    font-family: PingFangSC-Medium;
    font-size: 14px;
    color:rgba(0,0,0,0.85)
`,Ir=j.ZP.div(er||(er=(0,_.Z)([`
    width : `,`;
    height:40px;
    line-height:40px;
    border-right: 1px solid rgba(0,0,0,0.10);
    `,`
    
`])),function(n){var t=n.gLen;return xt(t)},kr),Gr=j.ZP.div(tr||(tr=(0,_.Z)([`
    width : `,`;
    height:40px;
    line-height:40px;
    padding-left:16px;
    border-right: 1px solid rgba(0,0,0,0.10);
    `,`
`])),function(n){var t=n.gLen,i=n.btnState;return _t(t,i)},kr),so=(0,j.ZP)(Aa.Z)(nr||(nr=(0,_.Z)([`
    cursor:pointer;
    padding:13px 0px 13px 8px;

`]))),lo=j.ZP.div(rr||(rr=(0,_.Z)([`
    height:38px;
    background:#fff;
    border: 1px solid rgba(0,0,0,0.10);
    border-top:none;
    border-right:none;
`]))),co=(0,j.ZP)(Ir)(ar||(ar=(0,_.Z)([`
    padding-left:36px;
    height:38px;
    line-height:38px;
    font-family: PingFangSC-Regular;
    color:rgba(0,0,0,0.65);
`]))),Mr=(0,j.ZP)(Gr)(or||(or=(0,_.Z)([`
    height:38px;
    line-height:38px;
   
`]))),uo=j.ZP.div(ir||(ir=(0,_.Z)([`
    height:38px;
    line-height:38px;
    background:rgba(0,0,0,0.02);
`]))),Rt=`
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
`,$t=j.ZP.div(sr||(sr=(0,_.Z)([`
    width : 39px;
    float:left;
    border-right: 1px solid rgba(0,0,0,0.10);
    cursor:pointer;
    height: `,`;
    position: relative;
    .remove{
        display:block;
        `,`
    }
    .remove_active {
        display:none;
        `,`
    }
    :hover {
        .remove_active {
            display:block;
            `,`
        }
        .remove {
            display:none;
            `,`
        }
    }
    
`])),function(n){var t=n.empty;return t?"38px":"40px"},Rt,Rt,Rt,Rt),po=j.ZP.div(lr||(lr=(0,_.Z)([`
    width : `,`;
    `,`
`])),function(n){var t=n.gLen;return xt(t)},Bt),fo=j.ZP.div(cr||(cr=(0,_.Z)([`
    width : `,`;
    `,`
`])),function(n){var t=n.gLen,i=n.btnState;return _t(t,i)},Bt),Br=(0,j.ZP)(yr)(ur||(ur=(0,_.Z)([`
    width : `,`;
     border-bottom:none;
`])),function(n){var t=n.gLen;return xt(t)}),Gi=(0,j.ZP)(Zr)(dr||(dr=(0,_.Z)([`
    width : `,`;
    display:flex;
    border-bottom:none;
    `,`
`])),function(n){var t=n.gLen,i=n.btnState;return _t(t,i)},Bt),vo=j.ZP.div(pr||(pr=(0,_.Z)([`
    height:38px;
    line-height:38px;
    background:#ffffff;
    border-bottom: 1px solid rgba(0,0,0,0.10);
    &:last-child{
        border-bottom:none;
    }
`]))),Kr=`
    float:left;
    font-size:14px;
    color:rgba(0,0,0,0.65);
    font-family:PingFangSC-Regular;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
`,mo=j.ZP.div(fr||(fr=(0,_.Z)([`
    width : `,`;
    padding-left:36px;
    border-right: 1px solid rgba(0,0,0,0.10);
    `,`
`])),function(n){var t=n.gLen;return xt(t)},Kr),go=j.ZP.div(vr||(vr=(0,_.Z)([`
    width : `,`;
    padding-left:16px;
    `,`
    border-right: 1px solid rgba(0,0,0,0.10);
    &:last-child{
        border-right:none;
    }
`])),function(n){var t=n.gLen,i=n.btnState;return _t(t,i)},Kr),Wr,$r=j.ZP.span(Wr||(Wr=(0,_.Z)([`
    color:rgba(0,0,0,0.45);
    font-size:14px;
`]))),ho=function(){var t=(0,d.YB)(),i=t.formatMessage,o=(0,a.useContext)(Qe),r=o.btnState,s=o.obj,Z=o.setObj,f=o.saveReportData,c=o.btnConfirm,F=o.creator,T=function(x,S){s[S]=x,Z((0,u.Z)({},s))};return(0,e.jsxs)(ct,{children:[(0,e.jsx)(pt,{name:f==null?void 0:f.name,btn:r,btnConfirm:c,defaultHolder:i({id:"report.please.enter.name"}),space:"14px",style:{lineHeight:"40px",marginBottom:8},fontStyle:{fontSize:32,color:"rgba(0,0,0,0.85)",fontFamily:"PingFangSC-Semibold",whiteSpace:"pre-wrap"},onOk:function(x){return T(x,"name")}}),f!=null&&f.id?(0,e.jsx)(ht,{saveData:f,field:"description",style:{marginBottom:8},defaultHolder:i({id:"report.please.enter.desc"}),creator:F}):(0,e.jsx)(pt,{name:f==null?void 0:f.description,btn:r,defaultHolder:i({id:"report.please.enter.desc"}),btnConfirm:c,style:{marginBottom:8},fontStyle:{fontSize:14,color:"rgba(0,0,0,0.85)",fontFamily:"PingFangSC-Regular",whiteSpace:"pre-line"},onOk:function(x){return T(x,"description")}}),!r&&(0,e.jsx)(ze.Z,{children:(0,e.jsxs)(Ue.Z,{children:[(0,e.jsxs)($r,{children:[(0,e.jsx)(d._H,{id:"report.columns.creator"}),"\xA0",f==null?void 0:f.creator_name]}),(0,e.jsxs)($r,{children:[(0,e.jsx)(d._H,{id:"report.columns.gmt_created"}),"\xA0",f==null?void 0:f.gmt_created]})]})})]})},xo=(0,a.memo)(ho),_o=function(){var t,i=(0,d.YB)(),o=i.formatMessage,r=(0,a.useContext)(Qe),s=r.btnState,Z=r.obj,f=r.setObj,c=r.saveReportData,F=r.summaryData,T=r.btnConfirm,l=r.domainResult,x=r.creator,S=function(C,E){if(E=="custom"){if(F&&F!==void 0){var K=ve().cloneDeep(F);K[E]=C,Z.test_conclusion=K}}else Z[E]=C;f((0,u.Z)({},Z))};return(0,e.jsxs)(e.Fragment,{children:[((l==null?void 0:l.is_default)||!(l!=null&&l.is_default)&&(l==null?void 0:l.need_test_background))&&(0,e.jsxs)(ct,{id:"need_test_background",className:"position_mark",children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(d._H,{id:"report.test.background"})]}),c!=null&&c.id?(0,e.jsx)(ht,{saveData:c,field:"test_background",defaultHolder:o({id:"report.please.enter.background"}),creator:x}):(0,e.jsx)(pt,{name:(c==null?void 0:c.test_background)||(l==null?void 0:l.background_desc),btnConfirm:T,defaultHolder:o({id:"report.please.enter.background"}),btn:s,onOk:function(C){return S(C,"test_background")}})]}),((l==null?void 0:l.is_default)||!(l!=null&&l.is_default)&&(l==null?void 0:l.need_test_method))&&(0,e.jsxs)(ct,{id:"need_test_method",className:"position_mark",children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(d._H,{id:"report.test.method"})]}),c!=null&&c.id?(0,e.jsx)(ht,{saveData:c,field:"test_method",defaultHolder:o({id:"report.please.enter.method"}),creator:x}):(0,e.jsx)(pt,{name:(c==null?void 0:c.test_method)||(l==null?void 0:l.test_method_desc),defaultHolder:o({id:"report.please.enter.method"}),btn:s,btnConfirm:T,onOk:function(C){return S(C,"test_method")}})]}),((l==null?void 0:l.is_default)||!(l!=null&&l.is_default)&&(l==null?void 0:l.need_test_conclusion))&&(0,e.jsxs)(ct,{id:"need_test_conclusion",className:"position_mark",children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(d._H,{id:"report.test.conclusion"})]}),c!=null&&c.id?(0,e.jsx)(ht,{saveData:c,field:"custom",defaultHolder:o({id:"report.please.enter.conclusion"}),creator:x}):(0,e.jsx)(pt,{name:(c==null||(t=c.test_conclusion)===null||t===void 0?void 0:t.custom)||(l==null?void 0:l.test_conclusion_desc),btn:s,defaultHolder:o({id:"report.please.enter.conclusion"}),btnConfirm:T,onOk:function(C){return S(C,"custom")}})]})]})},jo=(0,a.memo)(_o),bo=g(88856),yo=g(88948),at=g(79638),Zo=function(){var t=(0,a.useContext)(Qe),i=t.logoData,o=t.envData,r=t.domainResult,s=t.groupLen,Z=t.baselineGroupIndex,f=function(S){return S==0?0:(0,It.isNaN)(S)||(0,It.isUndefined)(S)?"-":S},c=function(){return Array.isArray(i)&&!!i.length?(0,e.jsxs)(Or,{children:[(0,e.jsx)(Sr,{gLen:s,children:(0,e.jsx)(d._H,{id:"performance.test"})}),i.map(function(S,w){var C=S.perf_data||S,E=C.perfAll,K=C.increase,te=C.decline;return(0,e.jsx)(Cr,{gLen:s,children:(0,e.jsxs)("div",{style:{display:"flex",margin:"18px 0"},children:[(0,e.jsxs)(ft,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(d._H,{id:"report.all"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"all",children:f(E)})]}),(0,e.jsxs)(ft,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(d._H,{id:"report.increase"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"up",children:f(K)})]}),(0,e.jsxs)(ft,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(d._H,{id:"report.decline"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"down",children:f(te)})]})]})},w)})]}):(0,e.jsx)(e.Fragment,{})},F=function(){return Array.isArray(i)&&!!i.length?(0,e.jsxs)(Or,{children:[(0,e.jsx)(Qa,{gLen:s,children:(0,e.jsx)(d._H,{id:"functional.test"})}),i.map(function(S,w){var C=S.func_data||S,E=C.funcAll,K=C.success,te=C.fail;return(0,e.jsx)(Xa,{gLen:s,children:(0,e.jsxs)("div",{style:{display:"flex",margin:"18px 0"},children:[(0,e.jsxs)(ft,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(d._H,{id:"report.all"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"all",children:f(E)})]}),(0,e.jsxs)(ft,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(d._H,{id:"report.success"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"up",children:f(K)})]}),(0,e.jsxs)(ft,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(d._H,{id:"report.fail"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"down",children:f(te)})]})]})},w)})]}):(0,e.jsx)(e.Fragment,{})},T=(0,a.useMemo)(function(){var x,S=0;return i.length>1&&(S=Z===0?1:0),JSON.stringify((x=i[S])===null||x===void 0?void 0:x.perf_data)!=="{}"},[i,Z]),l=(0,a.useMemo)(function(){return JSON.stringify(i[Z].func_data)!=="{}"},[i,Z]);return(0,e.jsxs)(ct,{style:{width:s>3?s*390:1200},id:"need_test_summary",className:"position_mark",children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("span",{className:"line"}),"Summary"]}),(0,e.jsxs)(Mt,{children:[(0,e.jsxs)(Gt,{children:[(0,e.jsx)(yr,{gLen:s,children:(0,e.jsx)(d._H,{id:"report.comparison.group.name"})}),Array.isArray(o)&&!!o.length&&o.map(function(x,S){return(0,e.jsxs)(Zr,{gLen:s,children:[(0,e.jsxs)(Ue.Z,{children:[x.is_group&&(0,e.jsx)(Ct.Z,{title:(0,e.jsx)(d._H,{id:"report.benchmark.group"}),children:(0,e.jsx)(bo.r,{style:{marginRight:4,marginTop:17,width:10,height:14}})}),x.is_baseline?(0,e.jsxs)(Ct.Z,{title:(0,e.jsx)(d._H,{id:"report.baseline.group"}),children:[(0,e.jsx)(yo.r,{style:{marginRight:4,marginTop:17,width:10,height:14}}),(0,e.jsxs)(Re.Z.Text,{children:["\uFF08",(0,e.jsx)(d._H,{id:"report.test.baseline"}),"\uFF09"]})]}):null]}),(0,e.jsx)(at.Z,{title:x.tag})]},S)})]}),r.is_default&&T&&(0,e.jsx)(c,{}),!r.is_default&&r.need_perf_data&&T&&(0,e.jsx)(c,{}),r.is_default&&l&&(0,e.jsx)(F,{}),!r.is_default&&r.need_func_data&&l&&(0,e.jsx)(F,{})]})]})},zr=(0,a.memo)(Zo),zt=g(99788),So=g(72069),Co=function(){var t,i=(0,d.YB)(),o=i.formatMessage,r=(0,a.useContext)(Qe),s=r.btnState,Z=r.saveReportData,f=r.obj,c=r.setObj,F=r.envData,T=r.compareGroupData,l=r.baselineGroupIndex,x=r.environmentResult,S=r.routeName,w=r.btnConfirm,C=r.groupLen,E=r.domainResult,K=r.creator,te=function(X,V){if(x&&JSON.stringify(x)!=="{}"){if(ve().isUndefined(T))f.test_env={text:X};else{var Y=ve().cloneDeep(x);Y[V]=X,Y.base_group=T.base_group,Y.compare_groups=T.compare_groups,S!=="Report"&&(Y.base_index=l),f.test_env=Y}c((0,u.Z)({},f))}};return(0,e.jsxs)(ct,{style:{width:C>3?C*390:1200},id:"need_test_env",className:"position_mark",children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(d._H,{id:"report.test.env"})]}),((E==null?void 0:E.is_default)||!(E!=null&&E.is_default)&&(E==null?void 0:E.need_env_description))&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Rr,{children:(0,e.jsx)(d._H,{id:"report.env.description"})}),Z!=null&&Z.id?(0,e.jsx)(ht,{saveData:Z,field:"text",defaultHolder:o({id:"report.please.enter.description"}),creator:K}):(0,e.jsx)(pt,{name:(Z==null||(t=Z.test_env)===null||t===void 0?void 0:t.text)||(E==null?void 0:E.env_description_desc),btnConfirm:w,defaultHolder:o({id:"report.please.enter.description"}),btn:s,onOk:function(X){return te(X,"text")}})]}),(0,e.jsx)(Rr,{style:{margin:"17px 0 14px 0"},children:(0,e.jsx)(d._H,{id:"report.server.env"})}),(0,e.jsxs)(to,{children:[(0,e.jsx)(eo,{children:(0,e.jsx)(d._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(zt.Z,{envData:F,group:C})]}),(0,e.jsx)(So.c,{envData:F,environmentResult:x,group:C})]})},Jr=(0,a.memo)(Co),Mi=g(64510),et=g(87445),Bi=g(20632),ot=g(71853),Vr,Oo=["svgRef","title"];function wt(){return wt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},wt.apply(this,arguments)}function Ro(n,t){if(n==null)return{};var i=wo(n,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(i[o]=n[o]))}return i}function wo(n,t){if(n==null)return{};var i={},o=Object.keys(n),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(i[r]=n[r]);return i}var Eo=function(t){var i=t.svgRef,o=t.title,r=Ro(t,Oo);return a.createElement("svg",wt({width:"14px",height:"12px",viewBox:"0 0 14 12",ref:i},r),o?a.createElement("title",null,o):null,Vr||(Vr=a.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u677F-\\u6DFB\\u52A0\\u9879/\\u7EC4",transform:"translate(-304.000000, -727.000000)",fill:"#000000",fillRule:"nonzero"},a.createElement("g",{id:"Group-16\\u5907\\u4EFD",transform:"translate(220.000000, 379.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4\\u5907\\u4EFD",transform:"translate(20.000000, 64.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4-10\\u5907\\u4EFD",transform:"translate(48.000000, 269.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(15.000000, 13.000000)"},a.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),a.createElement("path",{d:"M14.5,6.9375 L12.8125,6.9375 L12.8125,5.1625 C12.8125,4.8859375 12.5890625,4.6625 12.3125,4.6625 L7.390625,4.6625 L5.5578125,2.909375 C5.534375,2.8875 5.503125,2.875 5.471875,2.875 L1.5,2.875 C1.2234375,2.875 1,3.0984375 1,3.375 L1,12.625 C1,12.9015625 1.2234375,13.125 1.5,13.125 L12.40625,13.125 C12.609375,13.125 12.79375,13.0015625 12.8703125,12.8125 L14.9640625,7.625 C14.9875,7.565625 15,7.5015625 15,7.4375 C15,7.1609375 14.7765625,6.9375 14.5,6.9375 Z M2.125,4 L5.0703125,4 L6.9390625,5.7875 L11.6875,5.7875 L11.6875,6.9375 L3.71875,6.9375 C3.515625,6.9375 3.33125,7.0609375 3.2546875,7.25 L2.125,10.05 L2.125,4 Z M12.0515625,12 L2.484375,12 L4.0984375,8 L13.6671875,8 L12.0515625,12 Z",id:"\\u5F62\\u72B6",fillOpacity:.85})))))))))},Yr=a.forwardRef(function(n,t){return a.createElement(Eo,wt({svgRef:t},n))}),Ki=g.p+"static/TestGroup.73da7769.svg",Wi=g(69230),Et=g(33821),Ur,Do=["svgRef","title"];function Dt(){return Dt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Dt.apply(this,arguments)}function Lo(n,t){if(n==null)return{};var i=Po(n,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(i[o]=n[o]))}return i}function Po(n,t){if(n==null)return{};var i={},o=Object.keys(n),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(i[r]=n[r]);return i}var Fo=function(t){var i=t.svgRef,o=t.title,r=Lo(t,Do);return a.createElement("svg",Dt({width:"16px",height:"17px",viewBox:"0 0 16 17",ref:i},r),o?a.createElement("title",null,o):null,Ur||(Ur=a.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"\\u6D4B\\u8BD5\\u7ED3\\u679C\\u7F16\\u8F91\\u6001",transform:"translate(-285.000000, -2418.000000)",fill:"#000000",fillRule:"nonzero"},a.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(219.000000, 56.000000)"},a.createElement("g",{id:"Group-10",transform:"translate(2.000000, 1683.450000)"},a.createElement("g",{id:"\\u7F16\\u7EC4-10",transform:"translate(20.000000, 175.450000)"},a.createElement("g",{id:"\\u6027\\u80FD\\u8868\\u683C",transform:"translate(16.000000, 65.000000)"},a.createElement("g",{id:"\\u6027\\u80FD\\u88681",transform:"translate(16.000000, 348.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(12.000000, 14.000000)"},a.createElement("g",{id:"\\u5220\\u9664\\u5907\\u4EFD-2",transform:"translate(0.000000, 77.000000)"},a.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),a.createElement("path",{d:"M14.453125,5.2734375 C14.1,4.4390625 13.5953125,3.690625 12.953125,3.046875 C12.309375,2.403125 11.5609375,1.8984375 10.7265625,1.546875 C9.8625,1.18125 8.9453125,0.996875 8,0.996875 C7.0546875,0.996875 6.1375,1.18125 5.2734375,1.546875 C4.4390625,1.9 3.690625,2.4046875 3.046875,3.046875 C2.403125,3.690625 1.8984375,4.4390625 1.546875,5.2734375 C1.18125,6.1375 0.996875,7.0546875 0.996875,8 C0.996875,8.9453125 1.18125,9.8625 1.546875,10.7265625 C1.9,11.5609375 2.4046875,12.309375 3.046875,12.953125 C3.6890625,13.596875 4.4390625,14.1015625 5.2734375,14.453125 C6.1375,14.81875 7.0546875,15.003125 8,15.003125 C8.9453125,15.003125 9.8625,14.8171875 10.7265625,14.453125 C11.5609375,14.1 12.309375,13.5953125 12.953125,12.953125 C13.596875,12.3109375 14.1015625,11.5609375 14.453125,10.7265625 C14.81875,9.8625 15.003125,8.9453125 15.003125,8 C15.003125,7.0546875 14.81875,6.1375 14.453125,5.2734375 Z M8,14.378125 C4.4828125,14.378125 1.621875,11.5171875 1.621875,8 C1.621875,4.4828125 4.4828125,1.621875 8,1.621875 C11.5171875,1.621875 14.378125,4.4828125 14.378125,8 C14.378125,11.5171875 11.5171875,14.378125 8,14.378125 Z M11.521875,7.6875 L4.478125,7.6875 C4.30625,7.6875 4.165625,7.828125 4.165625,8 C4.165625,8.171875 4.30625,8.3125 4.478125,8.3125 L11.521875,8.3125 C11.69375,8.3125 11.834375,8.171875 11.834375,8 C11.834375,7.828125 11.69375,7.6875 11.521875,7.6875 L11.521875,7.6875 Z",id:"\\u5F62\\u72B6",fillOpacity:.45}))))))))))))},Qr=a.forwardRef(function(n,t){return a.createElement(Fo,Dt({svgRef:t},n))}),$i=g.p+"static/delDefault.54b8034d.svg",Xr,To=["svgRef","title"];function Lt(){return Lt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Lt.apply(this,arguments)}function No(n,t){if(n==null)return{};var i=Ho(n,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(i[o]=n[o]))}return i}function Ho(n,t){if(n==null)return{};var i={},o=Object.keys(n),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(i[r]=n[r]);return i}var Ao=function(t){var i=t.svgRef,o=t.title,r=No(t,To);return a.createElement("svg",Lt({width:"16px",height:"17px",viewBox:"0 0 16 17",ref:i},r),o?a.createElement("title",null,o):null,Xr||(Xr=a.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"\\u6D4B\\u8BD5\\u7ED3\\u679C\\u7F16\\u8F91\\u6001",transform:"translate(-285.000000, -2379.000000)",fillRule:"nonzero"},a.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(219.000000, 56.000000)"},a.createElement("g",{id:"Group-10",transform:"translate(2.000000, 1683.450000)"},a.createElement("g",{id:"\\u7F16\\u7EC4-10",transform:"translate(20.000000, 175.450000)"},a.createElement("g",{id:"\\u6027\\u80FD\\u8868\\u683C",transform:"translate(16.000000, 65.000000)"},a.createElement("g",{id:"\\u6027\\u80FD\\u88681",transform:"translate(16.000000, 348.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4-3",transform:"translate(12.000000, 14.000000)"},a.createElement("g",{id:"\\u5220\\u9664\\u5907\\u4EFD",transform:"translate(0.000000, 38.000000)"},a.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),a.createElement("path",{d:"M14.453125,5.2734375 C14.1,4.4390625 13.5953125,3.690625 12.953125,3.046875 C12.309375,2.403125 11.5609375,1.8984375 10.7265625,1.546875 C9.8625,1.18125 8.9453125,0.996875 8,0.996875 C7.0546875,0.996875 6.1375,1.18125 5.2734375,1.546875 C4.4390625,1.9 3.690625,2.4046875 3.046875,3.046875 C2.403125,3.690625 1.8984375,4.4390625 1.546875,5.2734375 C1.18125,6.1375 0.996875,7.0546875 0.996875,8 C0.996875,8.9453125 1.18125,9.8625 1.546875,10.7265625 C1.9,11.5609375 2.4046875,12.309375 3.046875,12.953125 C3.6890625,13.596875 4.4390625,14.1015625 5.2734375,14.453125 C6.1375,14.81875 7.0546875,15.003125 8,15.003125 C8.9453125,15.003125 9.8625,14.8171875 10.7265625,14.453125 C11.5609375,14.1 12.309375,13.5953125 12.953125,12.953125 C13.596875,12.3109375 14.1015625,11.5609375 14.453125,10.7265625 C14.81875,9.8625 15.003125,8.9453125 15.003125,8 C15.003125,7.0546875 14.81875,6.1375 14.453125,5.2734375 Z M8,14.378125 C4.4828125,14.378125 1.621875,11.5171875 1.621875,8 C1.621875,4.4828125 4.4828125,1.621875 8,1.621875 C11.5171875,1.621875 14.378125,4.4828125 14.378125,8 C14.378125,11.5171875 11.5171875,14.378125 8,14.378125 Z M11.521875,7.6875 L4.478125,7.6875 C4.30625,7.6875 4.165625,7.828125 4.165625,8 C4.165625,8.171875 4.30625,8.3125 4.478125,8.3125 L11.521875,8.3125 C11.69375,8.3125 11.834375,8.171875 11.834375,8 C11.834375,7.828125 11.69375,7.6875 11.521875,7.6875 L11.521875,7.6875 Z",id:"\\u5F62\\u72B6",fill:"#F5222D"}))))))))))))},qr=a.forwardRef(function(n,t){return a.createElement(Ao,Lt({svgRef:t},n))}),zi=g.p+"static/delHover.3a54e0ab.svg",ea=g(22598),ta=g(15363),na,ko=["svgRef","title"];function Pt(){return Pt=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Pt.apply(this,arguments)}function Io(n,t){if(n==null)return{};var i=Go(n,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(i[o]=n[o]))}return i}function Go(n,t){if(n==null)return{};var i={},o=Object.keys(n),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(i[r]=n[r]);return i}var Mo=function(t){var i=t.svgRef,o=t.title,r=Io(t,ko);return a.createElement("svg",Pt({width:"12px",height:"14px",viewBox:"0 0 12 14",ref:i},r),o?a.createElement("title",null,o):null,na||(na=a.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u677F-\\u6DFB\\u52A0\\u9879/\\u7EC4",transform:"translate(-304.000000, -614.000000)",fill:"#000000",fillRule:"nonzero"},a.createElement("g",{id:"Group-16\\u5907\\u4EFD",transform:"translate(220.000000, 379.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4\\u5907\\u4EFD",transform:"translate(20.000000, 64.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4-10",transform:"translate(48.000000, 158.000000)"},a.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(14.000000, 12.000000)"},a.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),a.createElement("path",{d:"M11,1.6 L6.2,1.6 C5.36,1.6 4.6,2.36 4.6,3.2 L4.12,3.2 C3.28,3.2 2.6,3.96 2.6,4.8 L2.6,12.8 C2.6,13.64 3.36,14.4 4.2,14.4 L10.2,14.4 C11.04,14.4 11.8,13.64 11.8,12.8 L12.2,12.8 C13.04,12.8 13.8,12.04 13.8,11.2 L13.8,4.8 L11,1.6 Z M10.2,13.6 L4.2,13.6 C3.8,13.6 3.4,13.2 3.4,12.8 L3.4,4.8 C3.4,4.4 3.76,4 4.16,4 L4.6,4 L4.6,11.2 C4.6,12.04 5.36,12.8 6.2,12.8 L11,12.8 C11,13.2 10.6,13.6 10.2,13.6 Z M13,11.2 C13,11.6 12.6,12 12.2,12 L6.2,12 C5.8,12 5.4,11.6 5.4,11.2 L5.4,3.2 C5.4,2.8 5.8,2.4 6.2,2.4 L10.2,2.4 L10.2,4 C10.2,4.84 10.96,5.6 11.8,5.6 L13,5.6 L13,11.2 L13,11.2 Z M11.8,4.8 C11.36,4.8 11,4.04 11,3.6 L11,2.4 L13,4.8 L11.8,4.8 L11.8,4.8 Z M11,7.2 L7.4,7.2 C7.16,7.2 7,7.36 7,7.6 C7,7.84 7.16,8 7.4,8 L11,8 C11.24,8 11.4,7.84 11.4,7.6 C11.4,7.4 11.24,7.2 11,7.2 Z M11,9.2 L7.4,9.2 C7.16,9.2 7,9.36 7,9.6 C7,9.84 7.16,10 7.4,10 L11,10 C11.24,10 11.4,9.84 11.4,9.6 C11.4,9.4 11.24,9.2 11,9.2 Z",id:"\\u5F62\\u72B6",fillOpacity:.85})))))))))},ra=a.forwardRef(function(n,t){return a.createElement(Mo,Pt({svgRef:t},n))}),Ji=g.p+"static/TestItem.4c2723d4.svg",tt=g(36338),aa=g(24812),oa,Bo=Zt.Z.TextArea,Ko=(0,j.ZP)(Bo)(oa||(oa=(0,_.Z)([`
    width: 100%;
`]))),Wo=function(t){var i=t.name,o=t.field,r=t.suite,s=t.style,Z=t.space,f=Z===void 0?"0px":Z,c=t.fontStyle,F=c===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:c,T=t.defaultHolder,l=t.creator,x=(0,d.md)(),S=(0,aa.TH)(),w=S.pathname,C=(0,d.YB)(),E=C.formatMessage,K=(0,a.useState)(!1),te=(0,re.Z)(K,2),k=te[0],X=te[1],V=(0,a.useState)(""),Y=(0,re.Z)(V,2),me=Y[0],R=Y[1];(0,a.useEffect)(function(){R(i)},[i]);var m=function(y,U){Ut.default.success({message:"".concat(y,"\uFF1A").concat(U),placement:"bottomRight"})},v=function(y){var U={test_env:E({id:"report.test_env.save"}),test_description:E({id:"report.test_description.save"}),test_conclusion:E({id:"report.test_conclusion.save"})};return U[y]},p=function(){var h=(0,st.Z)((0,We.Z)().mark(function y(){var U,ae,z,A,Q,W;return(0,We.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return U=r.item_suite_id,ae=r.suite_name,z={item_suite_id:U},z[o]=me,q.next=5,(0,lt.ow)((0,u.Z)({},z));case 5:A=q.sent,Q=A.code,W=A.msg,Q===200?(m(ae,v(o)),X(!1)):dt.default.error(W);case 9:case"end":return q.stop()}},y)}));return function(){return h.apply(this,arguments)}}(),b=function(y){return ve().isNull(y)||ve().isUndefined(y)?E({id:"report.not.filled.in"}):y||"-"};return~w.indexOf("/test_create_report")?(0,e.jsx)("div",{style:(0,u.Z)({width:"100%"},s),children:(0,e.jsx)(Re.Z.Text,{style:F,children:b(me)})}):k?(0,e.jsx)("div",{style:{marginBottom:f},children:(0,e.jsx)(Ko,{autoComplete:"off",size:"small",placeholder:T,style:(0,u.Z)({padding:"10px"},F),value:me,onChange:function(y){return R(y.target.value)},onBlur:p})}):(0,e.jsxs)("div",{style:(0,u.Z)({width:"100%"},s),children:[(0,e.jsx)(Re.Z.Text,{style:F,children:b(me)}),(0,e.jsx)(d.Nv,{accessible:x.WsTourist(),children:(0,e.jsx)(d.Nv,{accessible:x.WsMemberOperateSelf(l),fallback:(0,e.jsx)(St.Z,{onClick:function(){return(0,rt.WR)()},style:{paddingLeft:10}}),children:(0,e.jsx)(St.Z,{style:{paddingLeft:10},onClick:function(){return X(!0)}})})})]})},Ft=function(t){var i=t.name,o=t.rowKey,r=t.btn,s=r===void 0?!1:r,Z=t.dataSource,f=t.setDataSource,c=t.defaultHolder,F=(0,d.YB)(),T=F.formatMessage,l=(0,a.useState)(""),x=(0,re.Z)(l,2),S=x[0],w=x[1];(0,a.useEffect)(function(){w(i)},[i]);var C=function(){f(Z.map(function(k){if(k.is_group){k.rowKey==o&&(k.name=S);var X=k.list.map(function(V){return V.rowKey==o&&(V.name=S),(0,u.Z)({},V)});return(0,u.Z)((0,u.Z)({},k),{},{list:X})}else return k.rowKey==o&&(k.name=S),(0,u.Z)({},k)}))},E={fontSize:14,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},K=function(k){return ve().isNull(k)||ve().isUndefined(k)?T({id:"report.not.filled.in"}):k};return(0,e.jsx)(e.Fragment,{children:s?(0,e.jsx)(Zt.Z,{autoComplete:"off",size:"small",placeholder:c,style:(0,u.Z)({padding:"6px 8px 6px 8px",width:"93%"},E),value:S,onChange:function(k){return w(k.target.value)},onBlur:C}):(0,e.jsx)(Re.Z.Text,{style:E,children:K(S)})})},$o=g(27165),ia=g(20312),Tt=function(t,i,o,r,s){var Z,f=[];return(Z=t.list)===null||Z===void 0||Z.map(function(c,F){var T=[];c.conf_list.map(function(l){var x,S=s?[(l==null?void 0:l.obj_id)||((x=l.conf_source)===null||x===void 0?void 0:x.obj_id)]:[],w=(l.conf_compare_data||l.compare_conf_list).map(function(C){return{job_id:(C==null?void 0:C.obj_id)||"",is_baseline:C==null?void 0:C.is_baseline}});T.push({conf_id:l.conf_id,conf_name:l.conf_name,job_list:S.concat(w)})}),f.push({suite_id:c.suite_id,suite_name:c.suite_name,conf_list:T,rowKey:r=="group"?"".concat(i,"-").concat(o,"-").concat(F):"".concat(i,"-").concat(F)})}),f},sa=function(t,i,o,r){return i==="group"?t.map(function(s){var Z=[];return s.is_group?(s.list.map(function(f){f.rowKey===r&&(Z=s.list.filter(function(c){return c.name!==o}))}),(0,u.Z)((0,u.Z)({},s),{},{list:Z})):(0,u.Z)({},s)}):t.filter(function(s){return s.name!==o&&s.rowKey!==r})},la=function(t,i){var o=t.list.reduce(function(r,s){return s.suite_id==i.suite_id?r:r.concat(s)},[]);return(0,u.Z)((0,u.Z)({},t),{},{list:o})},ca=function(t,i){return(0,ia.ZP)(t,function(o){o.list=t.list.map(function(r){var s=r.conf_list.reduce(function(Z,f){return f.conf_id==i.conf_id?Z:Z.concat(f)},[]);return(0,u.Z)((0,u.Z)({},r),{},{conf_list:s})})})},ua=function(t,i){return Array.isArray(t.list)&&!!t.list.length&&t.list.forEach(function(o){return o.conf_list.forEach(function(r){return r.metric_list.forEach(function(s){return s.compare_data.splice(i,0,{cv_value:s.cv_value,test_value:s.test_value})})})}),t},da=function(t,i,o,r){return i=="suite"?t.map(function(s){if(s.is_group){var Z=s.list.map(function(f){return la(f,o)});return(0,u.Z)((0,u.Z)({},s),{},{list:Z})}else return la(s,o)}):t.map(function(s){if(s.is_group){var Z=s.list.map(function(f){return ca(f,o)});return(0,u.Z)((0,u.Z)({},s),{},{list:Z})}else return ca(s,o)})},Nt=g(526),jt=Et.Z.Option,zo=function(t){var i=(0,d.YB)(),o=i.formatMessage,r=t.child,s=t.name,Z=t.id,f=t.onDelete,c=t.dataSource,F=t.setDataSource,T=(0,a.useContext)(Qe),l=T.btnState,x=T.allGroupData,S=T.baselineGroupIndex,w=T.groupLen,C=T.wsId,E=T.isOldReport,K=(0,a.useState)([]),te=(0,re.Z)(K,2),k=te[0],X=te[1],V=(0,a.useState)("All"),Y=(0,re.Z)(V,2),me=Y[0],R=Y[1],m=(0,a.useState)(""),v=(0,re.Z)(m,2),p=v[0],b=v[1],h=(0,a.useState)(""),y=(0,re.Z)(h,2),U=y[0],ae=y[1],z=(0,a.useState)(0),A=(0,re.Z)(z,2),Q=A[0],W=A[1],ge=(0,a.useState)(!1),q=(0,re.Z)(ge,2),De=q[0],$=q[1],J=(0,a.useState)({}),I=(0,re.Z)(J,2),ie=I[0],ye=I[1];(0,a.useEffect)(function(){ye(r)},[r]);var G=(0,a.useMemo)(function(){return S===-1?0:S},[S]),L=function(D){R(D);var B=r,H=[];if(D=="All")ye(B);else{B.list.map(function(je){var ee=[];je.conf_list.map(function(pe){var Te=E?pe.sub_case_list.filter(function(fe){return fe.result==D}):pe.sub_case_list.filter(function(fe){return fe.compare_data.includes(D)});ee.push((0,u.Z)((0,u.Z)({},pe),{},{sub_case_list:Te}))}),H.push((0,u.Z)((0,u.Z)({},je),{},{conf_list:ee}))});var oe=(0,u.Z)((0,u.Z)({},B),{},{list:H});ye(oe)}},P=function(){$(!De)},ue=function(D,B){console.log("func review handleArrow"),W(B),b(D.suite_id);var H=D.conf_list.map(function(ee){for(var pe,Te=[],fe=0;fe<5;fe++)Te.push([]);return ee.sub_case_list.forEach(function(se){se.result==="Pass"&&se.compare_data[B]==="Fail"?Te[0].push(se):se.result==="Fail"&&se.compare_data[B]==="Pass"?Te[1].push(se):se.result==="Fail"&&se.compare_data[B]==="Fail"?Te[2].push(se):se.result==="Pass"&&se.compare_data[B]==="Pass"?Te[3].push(se):Te[4].push(se)}),(0,u.Z)((0,u.Z)({},ee),{},{sub_case_list:(pe=[]).concat.apply(pe,Te)})}),oe=r.list.map(function(ee){return ee.suite_id===D.suite_id?(0,u.Z)((0,u.Z)({},ee),{},{conf_list:H}):ee}),je=(0,u.Z)((0,u.Z)({},r),{},{list:oe});ye(je)};(0,a.useEffect)(function(){var O,D=o({id:"report.btn.expand.all"}),B=o({id:"report.btn.collapse.all"});ae(De?D:B),X([]);var H=[];c==null||c.map(function(oe){oe.is_group?oe.list.map(function(je){H=H.concat(je.list)}):H=H.concat(oe.list)}),X(De?(O=H)===null||O===void 0?void 0:O.reduce(function(oe,je){return oe.concat(je.conf_list.map(function(ee){return ee.conf_id}))},[]):[])},[De,c]);var _e=function(D,B,H){F(da(c,D,B,H))},M=function(){return(0,e.jsx)(Lr,{children:(0,e.jsxs)(Ue.Z,{children:[(0,e.jsx)(At.Z,{onClick:P,children:U}),(0,e.jsxs)(Ue.Z,{children:[(0,e.jsxs)(Re.Z.Text,{children:[(0,e.jsx)(d._H,{id:"report.filter"}),": "]}),(0,e.jsxs)(Et.Z,{defaultValue:"All",style:{width:200},value:me,onSelect:L,children:[(0,e.jsx)(jt,{value:"All",children:(0,e.jsx)(d._H,{id:"report.all.s"})}),(0,e.jsx)(jt,{value:"Pass",children:(0,e.jsx)(d._H,{id:"report.pass"})}),(0,e.jsx)(jt,{value:"Fail",children:(0,e.jsx)(d._H,{id:"report.fail"})}),(0,e.jsx)(jt,{value:"Warn",children:(0,e.jsx)(d._H,{id:"ws.result.details.warn"})}),(0,e.jsx)(jt,{value:"Skip",children:(0,e.jsx)(d._H,{id:"report.skip"})})]})]})]})})},Ge=function(D){var B=D.conf,H=D.cid;return(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return _e("conf",B,H)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:l&&(0,e.jsxs)($t,{empty:!1,children:[(0,e.jsx)(Qr,{className:"remove"}),(0,e.jsx)(qr,{className:"remove_active"})]})})},Le=function(){return l&&(0,e.jsx)($t,{empty:!0})},N=function(D){var B=k.includes(D);X(B?k.filter(function(H){return H!==D}):k.concat(D))},le=function(D){var B=D.sub_case_list,H=D.conf_id,oe=k.includes(H),je=ve().cloneDeep(B);return(0,e.jsx)(e.Fragment,{children:oe&&(je==null?void 0:je.map(function(ee,pe){var Te;return E&&ee.compare_data.splice(G,0,ee.result),(0,e.jsxs)(lo,{children:[(0,e.jsx)(Le,{}),(0,e.jsx)(co,{gLen:w,children:(0,e.jsx)(Re.Z.Text,{children:(0,e.jsx)(at.Z,{title:ee.sub_case_name})})}),ee.compare_data.length?(Te=ee.compare_data)===null||Te===void 0?void 0:Te.slice(0,w).map(function(fe,se){return(0,e.jsx)(Mr,{gLen:w,btnState:l,children:(0,e.jsx)(Re.Z.Text,{style:{color:(0,tt.Sh)(fe)},children:fe||"-"})},se)}):(0,e.jsx)(Mr,{gLen:w,btnState:l,children:(0,e.jsx)(Re.Z.Text,{style:{color:(0,tt.Sh)(ee.result)},children:ee.result||"-"})})]},pe)}))})},ne=Array.isArray(ie.list)&&!!ie.list.length?ie.list.map(function(O,D){var B;return(0,e.jsxs)(Pr,{children:[(0,e.jsxs)(Fr,{children:[O.suite_name,(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return _e("suite",O,D)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:l&&(0,e.jsx)(mt,{})})]}),(0,e.jsxs)(Tr,{children:[(0,e.jsx)(Nr,{gLen:w,style:{marginLeft:l?39:0},children:"Conf"}),x==null?void 0:x.map(function(H,oe){return(0,e.jsx)(Hr,{gLen:w,btnState:l,children:(0,e.jsxs)(ze.Z,{children:[(0,e.jsx)(it.Z,{span:12,children:(0,e.jsx)(d._H,{id:"report.total/pass/fail"})}),oe!==G&&(0,e.jsxs)(it.Z,{span:12,style:{textAlign:"right",paddingRight:10},children:[(0,e.jsx)(d._H,{id:"report.comparison.results"}),(0,e.jsx)("span",{onClick:function(){return ue(O,oe)},style:{margin:"0 5px 0 3px",verticalAlign:"middle"},children:p==O.suite_id&&Q==oe?(0,e.jsx)(ta.r,{}):(0,e.jsx)(ea.r,{})}),(0,e.jsx)($o.F,{})]})]})},oe)})]}),(0,e.jsx)(Ar,{children:O==null||(B=O.conf_list)===null||B===void 0?void 0:B.map(function(H,oe){var je=k.includes(H.conf_id),ee=[];if(E)for(var pe=H.conf_source||H,Te=pe.all_case,fe=pe.success_case,se=pe.fail_case,de=pe.obj_id,be=H.conf_compare_data||H.compare_conf_list,Je=function(Fe){Fe===G&&ee.push({all_case:Te,success_case:fe,fail_case:se,obj_id:de}),be.length?be.map(function(Ne,we){if(Ne){var He=Ne||Ne.conf_source,xe=He.all_case,ce=He.success_case,Ze=He.fail_case,Se=He.obj_id;we===Fe&&ee.push({all_case:xe,success_case:ce,fail_case:Ze,obj_id:Se})}else we===Fe&&ee.push({all_case:"-",success_case:"-",fail_case:"-"})}):x.length>1&&Fe-1&&ee.push({all_case:"-",success_case:"-",fail_case:"-"})},Ae=0;Ae<x.length;Ae++)Je(Ae);var Pe=E?ee:H.conf_compare_data||H.compare_conf_list;return(0,e.jsxs)(a.Fragment,{children:[(0,e.jsxs)(io,{expand:je,children:[(0,e.jsx)(Ge,{conf:H,cid:oe}),(0,e.jsx)(Ir,{gLen:w,children:(0,e.jsxs)(at.Z,{title:H.conf_name,children:[(0,e.jsx)(so,{rotate:je?90:0,onClick:function(){return N(H.conf_id)}}),(0,e.jsx)(Re.Z.Text,{children:H.conf_name})]})}),Pe==null?void 0:Pe.map(function(he,Fe){return(0,e.jsx)(Gr,{gLen:w,btnState:l,children:(0,e.jsxs)(Ue.Z,{size:16,children:[(0,e.jsx)(Re.Z.Text,{style:{color:"#649FF6"},children:(0,tt.YL)(he.all_case)}),(0,e.jsx)(Re.Z.Text,{style:{color:"#81BF84"},children:(0,tt.YL)(he.success_case)}),(0,e.jsx)(Re.Z.Text,{style:{color:"#C84C5A"},children:(0,tt.YL)(he.fail_case)}),!(0,rt.cO)(he)&&(0,e.jsx)(Nt.zA,{ws_id:C,job_id:he.obj_id,style:{paddingLeft:10}})]})},Fe)})]}),(0,e.jsx)(le,(0,u.Z)((0,u.Z)({},H),{},{btn:l}))]},oe)})})]},D)}):(0,e.jsx)(et.Z,{image:et.Z.PRESENTED_IMAGE_SIMPLE});return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Dr,{id:"func_item-".concat(Z),className:"tree_mark",isGroup:s==="group",children:[(0,e.jsx)(ra,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Ot,{children:(0,e.jsx)(Ft,{name:ie.name,rowKey:ie.rowKey,btn:l,dataSource:c,setDataSource:F})}),l&&(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return f(s,ie.name,ie.rowKey)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:(0,e.jsx)(mt,{})}),!l&&(0,e.jsx)(M,{})]}),ne]})},pa=(0,a.memo)(zo),Jo=function(){var t=(0,a.useContext)(Qe),i=t.obj,o=t.setObj,r=t.domainResult,s=t.btnState,Z=t.routeName,f=t.isOldReport,c=(0,a.useMemo)(function(){if(Array.isArray(r.func_item))return ve().cloneDeep(r.func_item)},[r]),F=(0,a.useState)([]),T=(0,re.Z)(F,2),l=T[0],x=T[1];(0,a.useEffect)(function(){x(c)},[c]);var S=function(C,E,K){x(sa(l,C,E,K))};return(0,a.useEffect)(function(){var w=[];l.length&&l.map(function(C,E){if(C.is_group)C.list.map(function(te,k){var X=Tt(te,E,k,"group",f);w.push({name:"".concat(C.name,":").concat(te.name),suite_list:X})});else{var K=Tt(C,E,0,"item",f);w.push({name:C.name,suite_list:K})}}),i.test_item.func_data=w,o((0,u.Z)({},i))},[l,Z]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(wr,{children:(0,e.jsx)(d._H,{id:"functional.test"})}),(0,e.jsx)(Er,{id:"func_item",className:"position_mark",children:Array.isArray(l)&&!!l.length?l.map(function(w,C){return(0,e.jsx)("div",{children:w.is_group?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Wt,{id:"func_item-".concat(w.rowKey),className:"tree_mark",children:[(0,e.jsx)(Yr,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Ot,{children:(0,e.jsx)(Ft,{name:w.name,rowKey:w.rowKey,btn:s,dataSource:l,setDataSource:x})}),s&&(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return S("item",w.name,w.rowKey)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:(0,e.jsx)(mt,{})})]}),w.list.map(function(E,K){return(0,e.jsx)("div",{children:(0,e.jsx)(pa,{child:E,name:"group",id:E.rowKey,dataSource:l,setDataSource:x,onDelete:S})},K)})]}):(0,e.jsx)(pa,{child:w,name:"item",id:w.rowKey,dataSource:l,setDataSource:x,onDelete:S})},C)}):(0,e.jsx)(et.Z,{image:et.Z.PRESENTED_IMAGE_SIMPLE})})]})},fa=(0,a.memo)(Jo),Vo=g(89638),Yo=g(24492),Uo=g(81849),Qo=g(74066),gt=Et.Z.Option,Xo=function(t){return new Map([["decline",0],["increase",1],["normal",2],["invalid",3],["na",4]]).get(t)||5},qo=function(t){return function(i,o){return i[t]-o[t]}},ei=function(t){var i=(0,d.YB)(),o=i.formatMessage,r=t.child,s=t.name,Z=t.btn,f=t.id,c=t.onDelete,F=t.dataSource,T=t.setDataSource,l=(0,a.useContext)(Qe),x=l.btnState,S=l.allGroupData,w=l.baselineGroupIndex,C=l.domainResult,E=l.environmentResult,K=l.groupLen,te=l.wsId,k=l.isOldReport,X=(0,a.useState)("all"),V=(0,re.Z)(X,2),Y=V[0],me=V[1],R=(0,a.useState)({}),m=(0,re.Z)(R,2),v=m[0],p=m[1],b=a.useState([]),h=(0,re.Z)(b,2),y=h[0],U=h[1],ae=(0,a.useMemo)(function(){return w===-1?0:w},[w]);(0,a.useEffect)(function(){var $,J=k?ua(ve().cloneDeep(r),ae):r;p(Z?J:(0,u.Z)((0,u.Z)({},r),{},{list:($=r.list)===null||$===void 0?void 0:$.map(function(I){return(0,u.Z)((0,u.Z)({},I),{},{chartType:"1"})})}))},[r,Z]);var z=function(J){me(J);var I=k?ua(ve().cloneDeep(r),ae):ve().cloneDeep(r);if(J==="all")p(I);else{var ie=I.list.map(function(G){var L=G.conf_list.map(function(P){return(0,u.Z)((0,u.Z)({},P),{},{metric_list:P.metric_list.filter(function(ue){return(0,Vo.w)(ue.compare_data,J)})})});return(0,u.Z)((0,u.Z)({},G),{},{conf_list:L})}),ye=(0,u.Z)((0,u.Z)({},I),{},{list:ie});p(ye)}},A=function(J){var I=J.conf,ie=J.cid;return(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return Q("conf",I,ie)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:x&&(0,e.jsxs)($t,{empty:!0,children:[(0,e.jsx)(Qr,{className:"remove"}),(0,e.jsx)(qr,{className:"remove_active"})]})})},Q=function(J,I,ie){T(da(F,J,I,ie))},W=function(){var J=(0,d.Kd)()==="en-US";return(0,e.jsx)(Lr,{children:(0,e.jsx)(Ue.Z,{children:Z&&(0,e.jsxs)(Ue.Z,{children:[(0,e.jsxs)(Re.Z.Text,{children:[(0,e.jsx)(d._H,{id:"report.filter"}),": "]}),(0,e.jsxs)(Et.Z,{defaultValue:"all",style:{width:J?336:200},value:Y,onSelect:z,getPopupContainer:function(ie){return ie.parentNode},children:[(0,e.jsx)(gt,{value:"all",children:(0,e.jsx)(d._H,{id:"report.all.s"})}),(0,e.jsx)(gt,{value:"invalid",children:(0,e.jsx)(d._H,{id:"report.invalid"})}),(0,e.jsx)(gt,{value:"volatility",title:o({id:"report.volatility"}),children:(0,e.jsx)(d._H,{id:"report.volatility"})}),(0,e.jsx)(gt,{value:"increase",children:(0,e.jsx)(d._H,{id:"report.increase"})}),(0,e.jsx)(gt,{value:"decline",children:(0,e.jsx)(d._H,{id:"report.decline"})}),(0,e.jsx)(gt,{value:"normal",children:(0,e.jsx)(d._H,{id:"report.normal"})})]})]})})})},ge=function(J,I,ie){var ye;if(y.includes(I.conf_id)){U(function(L){return L.filter(function(P){return P!==I.conf_id})}),p(function(L){return(0,u.Z)((0,u.Z)({},L),{},{list:L.list.map(function(P){return P.suite_id===J.suite_id?(0,u.Z)((0,u.Z)({},P),{},{conf_list:P.conf_list.map(function(ue){if(ue.conf_id===I.conf_id){var _e,M,Ge=(_e=r.list)===null||_e===void 0?void 0:_e.filter(function(N){return N.suite_id===J.suite_id}).at(0),Le=(M=Ge.conf_list)===null||M===void 0?void 0:M.filter(function(N){return N.conf_id===I.conf_id});return Le.at(0)||ue}return ue})}):P})})});return}var G=(0,u.Z)((0,u.Z)({},I),{},{metric_list:(ye=I.metric_list)===null||ye===void 0?void 0:ye.reduce(function(L,P){var ue;return L.concat((0,u.Z)((0,u.Z)({},P),{},{sortNum:Xo((ue=P.compare_data[ie])===null||ue===void 0?void 0:ue.compare_result)}))},[]).sort(qo("sortNum"))});U(function(L){return L.includes(I.conf_id)?L:L.concat(I.conf_id)}),p(function(L){return(0,u.Z)((0,u.Z)({},L),{},{list:L.list.map(function(P){return P.suite_id===J.suite_id?(0,u.Z)((0,u.Z)({},J),{},{conf_list:J.conf_list.map(function(ue){return ue.conf_id===I.conf_id?G:ue})}):P})})})},q=function(J){var I=[],ie=(J==null?void 0:J.conf_source)||J;S==null||S.map(function(L,P){I.push((J.conf_compare_data||J.compare_conf_list)[P])}),I.splice(ae,0,ie);var ye=J.conf_compare_data||J.compare_conf_list,G=k?I:ye;return G.map(function(L,P){return L?(0,e.jsx)(fo,{gLen:K,btnState:x,children:(0,rt.cO)(L)?(0,e.jsx)("div",{style:{height:38}}):(0,e.jsx)(Nt.zA,{ws_id:te,job_id:(L==null?void 0:L.obj_id)||L})},P):(0,e.jsx)(e.Fragment,{})})},De=function(){var J=(0,a.useContext)(Qe),I=J.containerScroll;return Array.isArray(v.list)&&!!v.list.length?v.list.map(function(ie,ye){return(0,e.jsxs)(Pr,{children:[(0,e.jsxs)(Fr,{children:[(0,e.jsx)(Re.Z.Text,{style:{display:"inline-block",textIndent:(I==null?void 0:I.left)>50?(I==null?void 0:I.left)-50:0},children:ie.suite_name}),x&&(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return Q("suite",ie,ye)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:(0,e.jsx)(mt,{})}),(0,e.jsx)(Uo.Z,{btn:Z,isReport:!0,obj:v,suiteId:ie.suite_id,setPerData:p})]}),(0,e.jsxs)(Ar,{children:[!C.is_default&&(0,e.jsx)(no,{children:[["need_test_env","test_env","env"],["need_test_description","test_description","description"],["need_test_conclusion","test_conclusion","conclusion"]].map(function(G){var L=(0,re.Z)(G,3),P=L[0],ue=L[1],_e=L[2];if(!!C.perf_conf&&!!C.perf_conf[P])return(0,e.jsxs)(ro,{children:[(0,e.jsx)(ao,{children:(0,e.jsx)(d._H,{id:"report.test.".concat(_e)})}),(0,e.jsx)(oo,{children:(0,e.jsx)(Wo,{name:ie[ue],field:ue,suite:ie,creator:C==null?void 0:C.creator})})]},P)})}),Z?ie.conf_list&&!!ie.conf_list.length?ie.conf_list.map(function(G,L){return(0,e.jsxs)("div",{children:[(0,e.jsxs)(Tr,{children:[(0,e.jsx)(Nr,{gLen:K,style:{marginLeft:x?39:0},children:(0,e.jsx)(d._H,{id:"report.conf/metric"})}),S==null?void 0:S.map(function(P,ue){return(0,e.jsx)(Hr,{gLen:K,btnState:x,children:ue!==w?(0,e.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,e.jsx)(at.Z,{title:P.product_version||P.tag,children:(0,e.jsx)(Re.Z.Text,{style:{color:"rgba(0,0,0,0.45)"},children:P.product_version||P.tag})}),(0,e.jsxs)(Kt,{children:[(0,e.jsx)(d._H,{id:"report.comparison/tracking.results"}),(0,e.jsx)("span",{onClick:function(){return ge(ie,G,ue)},style:{margin:"0 5px 0 3px",verticalAlign:"middle",cursor:"pointer"},children:y.includes(G.conf_id)?(0,e.jsx)(ta.r,{}):(0,e.jsx)(ea.r,{})}),(0,e.jsx)(Ct.Z,{color:"#fff",overlayStyle:{minWidth:350},title:(0,e.jsxs)("span",{style:{color:"rgba(0,0,0,0.65)"},children:[(0,e.jsx)(d._H,{id:"report.performance.test.and.baseGroup"}),(0,e.jsx)("br",{}),(0,e.jsx)(d._H,{id:"report.rules.as.follows"}),"\uFF1A",(0,e.jsx)("br",{}),(0,e.jsx)(d._H,{id:"report.decline"}),">",(0,e.jsx)(d._H,{id:"report.increase"}),">",(0,e.jsx)(d._H,{id:"report.little.fluctuation"}),">",(0,e.jsx)(d._H,{id:"report.invalid"})]}),children:(0,e.jsx)(Qo.Z,{})})]})]}):(0,e.jsx)(at.Z,{title:P.product_version||P.tag,children:(0,e.jsx)(Re.Z.Text,{style:{color:"rgba(0,0,0,0.45)"},children:P.product_version||P.tag})})},ue)})]}),(0,e.jsxs)("div",{style:{border:"1px solid rgba(0,0,0,0.10)"},children:[(0,e.jsxs)(uo,{children:[(0,e.jsx)(A,{conf:G,cid:L}),(0,e.jsx)(po,{gLen:K,children:(0,e.jsx)(at.Z,{title:G.conf_name})}),q(G)]}),G.metric_list.map(function(P,ue){var _e;return(0,e.jsxs)(vo,{children:[(0,e.jsx)(A,{conf:G,cid:L}),(0,e.jsx)(mo,{gLen:K,children:(0,e.jsxs)(ze.Z,{justify:"space-between",children:[(0,e.jsx)(it.Z,{span:16,children:(0,e.jsx)(ze.Z,{justify:"start",children:(0,e.jsx)(at.Z,{title:"".concat(P.metric).concat(P.unit?"("+P.unit+")":""),children:(0,e.jsxs)(Re.Z.Text,{style:{color:"rgba(0,0,0,0.65)"},children:[P.metric,P.unit&&(0,e.jsxs)("span",{children:["(",P.unit,")"]})]})})})}),(0,e.jsx)(it.Z,{span:8,children:(0,e.jsx)(ze.Z,{justify:"end",children:(0,e.jsxs)(Kt,{children:["(","".concat((0,tt.gt)(P.cv_threshold),"/").concat((0,tt.gt)(P.cmp_threshold)),")"]})})})]})}),Array.isArray(P.compare_data)&&!!P.compare_data.length&&((_e=P.compare_data)===null||_e===void 0?void 0:_e.slice(0,K).map(function(M,Ge){return(0,e.jsx)(go,{gLen:K,btnState:x,children:(0,e.jsxs)(ze.Z,{justify:"space-between",children:[(0,e.jsx)(it.Z,{span:M&&M.compare_result?12:20,children:(0,e.jsx)(ze.Z,{justify:"start",children:(0,e.jsx)(at.Z,{title:!M||JSON.stringify(M)==="{}"?"-":"".concat(M.test_value,"\xB1").concat(M.cv_value),width:210,children:(0,e.jsx)(Re.Z.Text,{style:{color:"rgba(0,0,0,0.65)"},children:!M||JSON.stringify(M)==="{}"?"-":M.test_value&&"".concat(M.test_value,"\xB1").concat(M.cv_value)})})})}),M&&M.compare_result&&(0,e.jsx)(it.Z,{span:12,children:(0,e.jsx)(ze.Z,{justify:"end",children:(0,e.jsxs)(Kt,{children:[(0,e.jsx)("span",{className:(0,tt.B1)(M.compare_result),children:M.compare_value||"-"}),(0,e.jsx)("span",{className:(0,tt.B1)(M.compare_result),style:{padding:" 0px 9px "},children:(0,tt.PV)(M.compare_result)})]})})})]})},Ge)}))]},ue)})]})]},G.conf_id)}):(0,e.jsx)(et.Z,{image:et.Z.PRESENTED_IMAGE_SIMPLE}):(0,e.jsx)(Yo.Z,(0,u.Z)((0,u.Z)({},ie),{},{envData:E,base_index:w}))]})]},ye)}):(0,e.jsx)(et.Z,{image:et.Z.PRESENTED_IMAGE_SIMPLE})};return(0,e.jsxs)("div",{children:[(0,e.jsxs)(Dr,{id:"perf_item-".concat(f),className:"tree_mark",isGroup:s==="group",children:[(0,e.jsx)(ra,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Ot,{children:(0,e.jsx)(Ft,{name:v.name,rowKey:v.rowKey,btn:x,dataSource:F,setDataSource:T})}),(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return c(s,v.name,v.rowKey)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:x&&(0,e.jsx)(mt,{})}),!x&&(0,e.jsx)(W,{})]}),JSON.stringify(v)!=="{}"&&De()]},f)},va=(0,a.memo)(ei),ma=g(65081),ga,ti=j.ZP.div(ga||(ga=(0,_.Z)([`
    background: #fff;
    position: fixed;
    /* top: 57px; */
    top: `,`px;
    height: 50px;
    border: 1px solid rgba(0,0,0,0.10);
    z-index: 5;
    width:`,`px;
    transform:translateY(`,`px);
`])),function(n){var t=n.top;return t||0},function(n){var t=n.width;return t||0},function(n){var t=n.y;return t||0}),ni=function(t){var i=t.groupRowRef,o=t.parentDom,r=t.groupLen,s=t.envData,Z=(0,ma.Z)(document.querySelector("#report-body-container")),f=Z.top,c=i.current,F=o.current;if(!c&&!F)return(0,e.jsx)(e.Fragment,{});var T=F.offsetTop||0,l=c==null?void 0:c.offsetWidth,x=f>T+c.offsetTop;return x?(0,e.jsx)(ti,{width:l,top:50,children:(0,e.jsx)(Mt,{style:{border:"none",paddingLeft:34,paddingRight:31},children:(0,e.jsxs)(Gt,{children:[(0,e.jsx)(Br,{gLen:r,children:(0,e.jsx)(d._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(zt.Z,{envData:s,group:r,isData:!0})]})})}):(0,e.jsx)(e.Fragment,{})},ri=function(t){var i=(0,a.useContext)(Qe),o=i.btnState,r=i.obj,s=i.setObj,Z=i.envData,f=i.domainResult,c=i.groupLen,F=i.isOldReport,T=(0,a.useRef)(null),l=(0,a.useRef)(null),x=(0,a.useState)(""),S=(0,re.Z)(x,2),w=S[0],C=S[1],E=(0,a.useState)(!1),K=(0,re.Z)(E,2),te=K[0],k=K[1],X=(0,a.useState)([]),V=(0,re.Z)(X,2),Y=V[0],me=V[1],R=(0,a.useMemo)(function(){var p;return k(((p=f.perf_conf)===null||p===void 0?void 0:p.show_type)==="list"),Array.isArray(f.perf_item)?f.perf_item:[]},[f]),m=function(){k(!te)};(0,a.useEffect)(function(){C(te?"chart":"table")},[te]),(0,a.useEffect)(function(){me(R)},[R]);var v=function(b,h,y){me(sa(Y,b,h,y))};return(0,a.useEffect)(function(){var p=[];Y&&!!Y.length&&Y.map(function(b,h){if(b.is_group){var y;(y=b.list)===null||y===void 0||y.map(function(ae,z){var A=Tt(ae,h,z,"group",F);p.push({name:"".concat(b.name,":").concat(ae.name),suite_list:A})})}else{var U=Tt(b,h,0,"item",F);p.push({name:b.name,suite_list:U})}}),r.test_item.perf_data=p,s((0,u.Z)({},r))},[Y]),(0,e.jsxs)(ct,{style:{width:c>3?c*390:1200,position:"relative"},ref:T,id:"test_data",className:"position_mark",children:[(0,e.jsxs)(vt,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(d._H,{id:"report.test.data"})]}),(0,e.jsx)(Mt,{ref:l,style:{paddingLeft:34,paddingRight:31},children:(0,e.jsxs)(Gt,{children:[(0,e.jsx)(Br,{gLen:c,children:(0,e.jsx)(d._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(zt.Z,{envData:Z,group:c,isData:!0})]})}),(0,e.jsx)(ni,{groupRowRef:l,parentDom:T,envData:Z,groupLen:c}),(f.is_default||!f.is_default&&f.need_perf_data)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(ze.Z,{justify:"space-between",children:[(0,e.jsx)(wr,{children:(0,e.jsx)(d._H,{id:"performance.test"})}),(0,e.jsx)(At.Z,{onClick:m,style:{marginTop:12},children:w==="chart"?(0,e.jsx)(d._H,{id:"report.chart.btn"}):(0,e.jsx)(d._H,{id:"report.table.btn"})})]}),(0,e.jsx)(Er,{id:"perf_item",className:"position_mark",children:Array.isArray(Y)&&!!Y.length?Y==null?void 0:Y.map(function(p,b){return(0,e.jsx)("div",{children:p.is_group?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Wt,{id:"pref_item-".concat(p.rowKey),className:"tree_mark",children:[(0,e.jsx)(Yr,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(Ot,{children:(0,e.jsx)(Ft,{name:p.name,rowKey:p.rowKey,btn:o,dataSource:Y,setDataSource:me})}),(0,e.jsx)(ot.Z,{title:(0,e.jsx)(d._H,{id:"delete.prompt"}),onConfirm:function(){return v("item",p.name,p.rowKey)},cancelText:(0,e.jsx)(d._H,{id:"operation.cancel"}),okText:(0,e.jsx)(d._H,{id:"operation.delete"}),children:o&&(0,e.jsx)(mt,{})})]}),p.list.map(function(h,y){return(0,e.jsx)("div",{children:(0,e.jsx)(va,{child:h,name:"group",btn:te,id:h.rowKey,dataSource:Y,setDataSource:me,onDelete:v})},y)})]}):(0,e.jsx)(va,{child:p,name:"item",btn:te,id:p.rowKey,dataSource:Y,setDataSource:me,onDelete:v})},b)}):(0,e.jsx)(et.Z,{image:et.Z.PRESENTED_IMAGE_SIMPLE})})]}),f.is_default&&(0,e.jsx)(fa,{}),!f.is_default&&f.need_func_data&&(0,e.jsx)(fa,{})]})},ai=(0,a.memo)(ri),Vi=g(68501),oi=g(98501),ha,xa,_a,ii=["svgRef","title"];function Ht(){return Ht=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},Ht.apply(this,arguments)}function si(n,t){if(n==null)return{};var i=li(n,t),o,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)o=s[r],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,o)||(i[o]=n[o]))}return i}function li(n,t){if(n==null)return{};var i={},o=Object.keys(n),r,s;for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&(i[r]=n[r]);return i}var ci=function(t){var i=t.svgRef,o=t.title,r=si(t,ii);return a.createElement("svg",Ht({width:"20px",height:"78px",viewBox:"0 0 20 78",ref:i},r),o===void 0?ha||(ha=a.createElement("title",null,"\u5C55\u5F00")):o?a.createElement("title",null,o):null,xa||(xa=a.createElement("defs",null,a.createElement("path",{d:"M1.23076923,4.48717949 L12,0 L12,0 L12,70 L1.23076923,65.5128205 C0.485475353,65.2022814 -2.76958888e-15,64.4740684 0,63.6666667 L0,6.33333333 C-3.20922796e-16,5.52593163 0.485475353,4.7977186 1.23076923,4.48717949 Z",id:"path-1"}),a.createElement("filter",{x:"-50.0%",y:"-8.6%",width:"200.0%",height:"117.1%",filterUnits:"objectBoundingBox",id:"filter-2"},a.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter1"}),a.createElement("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),a.createElement("feColorMatrix",{values:"0 0 0 0 0.833106884   0 0 0 0 0.82924932   0 0 0 0 0.82924932  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})))),_a||(_a=a.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u7248-\\u76EE\\u5F55\\u9ED8\\u8BA4\\u5C55\\u5F00",transform:"translate(-195.000000, -56.000000)",fillRule:"nonzero"},a.createElement("g",{id:"Group-5",transform:"translate(0.000000, 50.000000)"},a.createElement("g",{id:"\\u5C55\\u5F00",transform:"translate(205.000000, 45.000000) scale(-1, 1) translate(-205.000000, -45.000000) translate(199.000000, 10.000000)"},a.createElement("use",{fill:"black",fillOpacity:1,filter:"url(#filter-2)",xlinkHref:"#path-1"}),a.createElement("use",{fill:"#FFFFFF",xlinkHref:"#path-1"})))))))},ui=a.forwardRef(function(n,t){return a.createElement(ci,Ht({svgRef:t},n))}),Yi=g.p+"static/collapsed.547a2326.svg",di=g(89948),pi=g(44785),fi=function(){var t=(0,d.YB)(),i=t.formatMessage,o=(0,a.useContext)(Qe),r=o.domainResult,s=o.collapsed,Z=o.setDomainResult,f=o.setCollapsed,c=(0,a.useState)(3),F=(0,re.Z)(c,2),T=F[0],l=F[1],x=function R(m,v,p,b){var h=p.dragOverGapTop,y=p.dragOverGapBottom;if(v.key===p.key)return p.is_group?h?m.concat(b,v):y?m.concat((0,u.Z)((0,u.Z)({},v),{},{children:v.children.concat(b)})):m.concat(v,b):h?m.concat(b,v):m.concat(v,b);if(v.is_group){var U=v.list.reduce(function(ae,z){return R(ae,z,p,b)},[]);return m.concat((0,u.Z)((0,u.Z)({},v),{},{children:U}))}return m.concat(v)},S=function R(m,v){return m.is_group?{name:m.title,rowkey:"".concat(v),is_group:m.is_group,list:m.children.map(function(p,b){return R(p,"".concat(v,"-").concat(b))})}:{name:m.title,rowkey:"".concat(v),list:m.list}},w=function R(m){return m.reduce(function(v,p){return p.children&&p.children.length>0?v.concat(p.key,[].concat(R(p.children))):v.concat(p.key)},[])},C=function R(m,v,p,b){return m.is_group?(0,u.Z)((0,u.Z)({},m),{},{title:m.name,name:v,key:"".concat(b,"-").concat(p),allowDrop:!0,children:m.list.map(function(h,y){return R(h,v,y,"".concat(b,"-").concat(p))})}):(0,u.Z)((0,u.Z)({},m),{},{title:m.name,key:"".concat(b,"-").concat(p),name:v})},E=(0,a.useMemo)(function(){var R=["perf_item","func_item"];return R.map(function(m){var v=i(m==="perf_item"?{id:"performance.test"}:{id:"functional.test"}),p=m==="perf_item"?"need_perf_data":"need_func_data";if(r[m]&&r[p]){var b=r[m].map(function(y,U){return C(y,m,U,U+"")}),h=w(b);return{treeData:b,expandkeys:h,name:v,id:m,show:r[p]}}return{treeData:[],expandkeys:[],name:v,id:m,show:r[p]}})},[r]),K=(0,a.useMemo)(function(){var R=[];return r.need_test_background&&R.push("need_test_background"),r.need_test_method&&R.push("need_test_method"),r.need_test_conclusion&&R.push("need_test_conclusion"),r.need_test_summary&&R.push("need_test_summary"),(r.need_test_env||r.need_env_description)&&R.push("need_test_env"),(r.need_perf_data||r.need_func_data)&&R.push("test_data"),R},[r]),te=function R(m,v,p){if(v.key===p.key)return m;if(v.is_group){var b=v.children.reduce(function(h,y){return R(h,y,p)},[]);return m.concat((0,u.Z)((0,u.Z)({},v),{},{children:b,list:b}),[])}return m.concat(v)},k=function(m){var v=m.event,p=m.node,b=m.dragNode,h=m.dragNodesKeys;E.forEach(function(y){if(y.id===p.name){var U=y.treeData.reduce(function(A,Q){return te(A,Q,b)},[]),ae=U.reduce(function(A,Q){return x(A,Q,p,b)},[]),z=ae.map(function(A,Q){return S(A,"".concat(Q))});Z((0,ia.ZP)(r,function(A){A[p.name]=z}))}})},X=function(m){var v={need_test_background:i({id:"report.test.background"}),need_test_method:i({id:"report.test.method"}),need_test_conclusion:i({id:"report.test.conclusion"}),need_test_summary:"Summary",need_test_env:i({id:"report.test.env"}),test_data:i({id:"report.test.data"})};return v[m]},V=function(m){for(var v=m.target.scrollTop,p=document.querySelectorAll(".tree_mark"),b=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),h=document.querySelectorAll(".position_mark"),y=0;y<h.length;y++){var U,ae=document.querySelector("#".concat(h[y].id)),z=document.querySelector("#left_".concat(h[y].id));if(((U=ae.offsetParent)===null||U===void 0?void 0:U.offsetTop)+(ae==null?void 0:ae.offsetTop)<=v){var A;y>0&&((A=b[y-1])===null||A===void 0||A.classList.remove("toc-selected")),z==null||z.classList.add("toc-selected"),l(z==null?void 0:z.offsetTop)}else{var Q;(Q=b[y])===null||Q===void 0||Q.classList.remove("toc-selected")}}for(var W=0;W<p.length;W++){var ge=document.querySelector("#".concat(p[W].id)),q=document.querySelector("#left_".concat(p[W].id));if((ge==null?void 0:ge.offsetParent.offsetTop)+(ge==null?void 0:ge.offsetTop)<=v){var De;W>0&&(q==null||q.classList.remove("toc-selected")),q==null||q.classList.add("toc-selected");var $=ge==null?void 0:ge.id.substring(0,9);l(((De=document.querySelector("#left_tree_".concat($)))===null||De===void 0?void 0:De.offsetTop)+(q==null?void 0:q.offsetParent.offsetTop));for(var J=0;J<h.length;J++){var I;(I=b[J])===null||I===void 0||I.classList.remove("toc-selected")}}else q==null||q.classList.remove("toc-selected")}};(0,a.useEffect)(function(){return window.addEventListener("scroll",V,!0),function(){window.removeEventListener("scroll",V,!0)}},[]);var Y=function(m){for(var v,p,b=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),h=0;h<b.length;h++)b[h].classList.remove("toc-selected");var y=document.querySelector("#left_".concat(m));y.classList.add("toc-selected"),l(y==null?void 0:y.offsetTop),console.log(m),(v=document.querySelector("#".concat(m)))===null||v===void 0||v.scrollIntoView(),(p=document.querySelector("#report-body-container"))===null||p===void 0||p.scrollBy({top:-104})},me=function(m,v){for(var p,b,h=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),y=0;y<h.length;y++)h[y].classList.remove("toc-selected");for(var U=document.querySelectorAll(".tree_mark"),ae=0;ae<U.length;ae++)U[ae].classList.remove("toc-selected");var z=v.node,A=z.rowKey,Q=z.name,W=A?"".concat(Q,"-").concat(A):"".concat(Q),ge=A===0?"".concat(Q,"-").concat(A):W,q=document.querySelector("#left_".concat(ge));q.classList.add("toc-selected");var De=v==null?void 0:v.nativeEvent,$=De.target;l(document.querySelector("#left_tree_".concat(z.name)).offsetTop+$.offsetParent.offsetTop),(p=document.querySelector("#".concat(ge)))===null||p===void 0||p.scrollIntoView(),(b=document.querySelector("#report-body-container"))===null||b===void 0||b.scrollBy({top:-52})};return(0,e.jsxs)(Ka,{collapsed:s,children:[(0,e.jsxs)(Ma,{onClick:function(){return f(!s)},children:[(0,e.jsx)(ui,{}),(0,e.jsx)(Ba,{children:s?(0,e.jsx)(di.Z,{title:i({id:"operation.expand"})}):(0,e.jsx)(pi.Z,{title:i({id:"operation.collapse"})})})]}),(0,e.jsxs)(mr,{children:[(0,e.jsx)(Wa,{children:(0,e.jsx)(Re.Z.Text,{strong:!0,children:(0,e.jsx)(d._H,{id:"report.catalogue"})})}),(0,e.jsxs)(ze.Z,{style:{position:"relative",paddingLeft:13,borderLeft:"1px solid #e5e5e5"},id:"left-catalog-wrapper",children:[T>0&&(0,e.jsx)(za,{count:T,children:(0,e.jsx)(Ja,{})}),(0,e.jsxs)(Ue.Z,{direction:"vertical",style:{width:"100%"},className:"spaceWarpper",children:[K.map(function(R,m){return(0,e.jsx)("div",{className:"markSpace",children:(0,e.jsx)("span",{onClick:function(){return Y(R)},id:"left_".concat(R),style:{cursor:"pointer"},children:X(R)})},m+Math.random())}),E.map(function(R,m){return R.show?(0,e.jsxs)(gr,{className:"markSpace",children:[(0,e.jsx)("span",{onClick:function(p){return Y(R.id)},id:"left_".concat(R.id),style:{cursor:"pointer"},children:R.name}),(0,e.jsx)(gr,{id:"left_tree_".concat(R.id),style:{marginTop:R.treeData.length>0?8:0},children:(0,e.jsx)(oi.Z,{treeData:R.treeData,onDrop:k,draggable:!0,switcherIcon:(0,e.jsx)(e.Fragment,{}),blockNode:!0,titleRender:function(p){return(0,e.jsx)("span",{id:"left_".concat(p.name,"-").concat(p.rowKey),children:p.title})},expandedKeys:R.expandkeys,onSelect:me})})]},m):null})]})]})]})]})},vi=(0,a.memo)(fi),ja=g(28739),mi=g(15401),gi=function(t){var i=(0,a.useState)([]),o=(0,re.Z)(i,2),r=o[0],s=o[1],Z=(0,a.useState)(!0),f=(0,re.Z)(Z,2),c=f[0],F=f[1],T=(0,a.useState)([]),l=(0,re.Z)(T,2),x=l[0],S=l[1],w=(0,a.useState)(1),C=(0,re.Z)(w,2),E=C[0],K=C[1],te={need_test_suite_description:!0,need_test_env:!0,need_test_description:!0,need_test_conclusion:!0,show_type:"list",test_data:!1},k=(0,a.useState)({func_data_result:[],perf_data_result:[]}),X=(0,re.Z)(k,2),V=X[0],Y=X[1],me=(0,a.useState)({name:"",is_default:!1,need_test_background:!0,need_test_method:!0,need_test_summary:!0,need_test_conclusion:!0,need_test_env:!0,need_env_description:!0,need_func_data:!1,need_perf_data:!1,description:"",perf_conf:te,func_conf:te,perf_item:[],func_item:[]}),R=(0,re.Z)(me,2),m=R[0],v=R[1],p=t.match.params.ws_id,b=t.history.location.state,h=b.environmentResult,y=h===void 0?{}:h,U=b.baselineGroupIndex,ae=U===void 0?0:U,z=b.allGroupData,A=z===void 0?[]:z,Q=b.testDataParam,W=Q===void 0?{}:Q,ge=b.compareGroupData,q=ge===void 0?{}:ge,De=b.domainGroupResult,$=De===void 0?{}:De,J=b.saveReportData,I=J===void 0?{}:J,ie=function(){var N=(0,st.Z)((0,We.Z)().mark(function le(ne){var O;return(0,We.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,mi.on)(ne);case 2:return O=B.sent,B.abrupt("return",O);case 4:case"end":return B.stop()}},le)}));return function(ne){return N.apply(this,arguments)}}(),ye=function(){var N=(0,st.Z)((0,We.Z)().mark(function le(ne){var O,D,B,H,oe;return(0,We.Z)().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:F(!0),O=ne.perf_suite_dic,D=ne.func_suite_dic,B=[],H=[],O&&JSON.stringify(O)!=="{}"&&(B=(0,ja.$7)(O)),D&&JSON.stringify(D)!=="{}"&&(H=(0,ja.$7)(D)),oe=[],oe=B.concat(H),K(oe.length),oe.map(function(pe,Te){return ie(pe).then(function(fe){if(fe.code===200&&(F(!1),fe.data.test_type==="functional"&&(V.func_data_result=V.func_data_result.concat(fe.data)),fe.data.test_type==="performance"&&(V.perf_data_result=V.perf_data_result.concat(fe.data))),Y((0,u.Z)({},V)),fe.code!==200){dt.default.error(fe.msg);return}})});case 10:case"end":return ee.stop()}},le)}));return function(ne){return N.apply(this,arguments)}}();(0,a.useEffect)(function(){JSON.stringify(W)!=="{}"&&ye(W)},[W]);var G=V.func_data_result,L=V.perf_data_result,P=(0,a.useMemo)(function(){var N=L.length,le=G.length;return N+le},[V]),ue=function(){var N=(0,st.Z)((0,We.Z)().mark(function le(){var ne;return(0,We.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,lt.PL)({id:I.template,ws_id:p});case 2:return ne=D.sent,D.abrupt("return",ne);case 4:case"end":return D.stop()}},le)}));return function(){return N.apply(this,arguments)}}(),_e=(0,a.useMemo)(function(){return I.is_default},[I]);(0,a.useEffect)(function(){if(_e){var N=new Object,le=[],ne=[];Object.keys($).forEach(function(fe,se){var de=$[fe];fe=="functional"?Object.keys(de).forEach(function(be){var Je=de[be],Ae=[];Object.keys(Je).forEach(function(Pe){var he=Je[Pe];Ae.push({test_suite_id:Pe,case_source:he})}),le.push({name:be,list:Ae})}):Object.keys(de).forEach(function(be){var Je=de[be],Ae=[];Object.keys(Je).forEach(function(Pe){var he=Je[Pe];Ae.push({test_suite_id:Pe,case_source:he})}),ne.push({name:be,list:Ae})})}),N.func_item=le,N.perf_item=ne;var O=[],D=[];if(JSON.stringify(N)!=="{}"){if(N.perf_item&&!!N.perf_item.length&&L.length)for(var B=function(se,de){if(se[de].is_group){for(var be=[],Je=function(Fe,Ne){for(var we=[],He=[],xe=function(ke,Ee){L.map(function(Oe,$e){Number(Oe.suite_id)==Number(ke[Ee].test_suite_id)&&we.push((0,u.Z)((0,u.Z)({},Oe),{},{test_suite_description:ke[Ee].test_tool,rowKey:"".concat(de,"-").concat(Ne,"-").concat(Ee)}))}),ke[Ee].case_source.map(function(Oe){He.push(Oe.test_conf_id||Oe)})},ce=Fe[Ne].list,Ze=0;Ze<ce.length;Ze++)xe(ce,Ze);for(var Se=0;Se<we.length;Se++)we[Se].conf_list=we[Se].conf_list.filter(function(Ce,ke){return He.includes(Number(Ce.conf_id))});be.push({name:Fe[Ne].name,rowKey:"".concat(de,"-").concat(Ne),list:we})},Ae=se[de].list,Pe=0;Pe<Ae.length;Pe++)Je(Ae,Pe);O.push({name:se[de].name,rowKey:"".concat(de),is_group:!0,list:be})}else(function(){for(var he=[],Fe=[],Ne=function(Ze,Se){L.map(function(Ce,ke){Ce.suite_id==Ze[Se].test_suite_id&&he.push((0,u.Z)((0,u.Z)({},Ce),{},{test_suite_description:Ze[Se].test_tool,rowKey:"".concat(de,"-").concat(Se)}))}),Ze[Se].case_source.map(function(Ce){Fe.push(Ce.test_conf_id||Ce)})},we=se[de].list,He=0;He<we.length;He++)Ne(we,He);for(var xe=0;xe<he.length;xe++)he[xe].conf_list=he[xe].conf_list.filter(function(ce,Ze){return Fe.includes(Number(ce.conf_id))});O.push({name:se[de].name,rowKey:"".concat(de),list:he})})()},H=N.perf_item,oe=0;oe<H.length;oe++)B(H,oe);if(N.func_item&&!!N.func_item.length&&G.length)for(var je=function(se,de){if(se[de].is_group){for(var be=[],Je=function(Fe,Ne){for(var we=[],He=[],xe=function(ke,Ee){G.map(function(Oe,$e){Number(Oe.suite_id)===Number(ke[Ee].test_suite_id)&&we.push((0,u.Z)((0,u.Z)({},Oe),{},{rowKey:"".concat(de,"-").concat(Ee)}))}),ke[Ee].case_source.map(function(Oe){He.push(Oe.test_conf_id||Oe)})},ce=Fe[Ne].list,Ze=0;Ze<ce.length;Ze++)xe(ce,Ze);for(var Se=0;Se<we.length;Se++)we[Se].conf_list=we[Se].conf_list.filter(function(Ce,ke){return He.includes(Number(Ce.conf_id))});be.push({name:Fe[Ne].name,rowKey:"".concat(de,"-").concat(Ne),list:we})},Ae=se[de].list,Pe=0;Pe<Ae.length;Pe++)Je(Ae,Pe);D.push({name:se[de].name,rowKey:"".concat(de),is_group:!0,list:be})}else(function(){for(var he=[],Fe=[],Ne=function(Ze,Se){G.map(function(Ce,ke){Number(Ce.suite_id)===Number(Ze[Se].test_suite_id)&&he.push((0,u.Z)((0,u.Z)({},Ce),{},{rowKey:"".concat(de,"-").concat(Se)}))}),Ze[Se].case_source.map(function(Ce){Fe.push(Ce.test_conf_id||Ce)})},we=se[de].list,He=0;He<we.length;He++)Ne(we,He);for(var xe=0;xe<he.length;xe++)he[xe].conf_list=he[xe].conf_list.filter(function(ce,Ze){return Fe.includes(Number(ce.conf_id))});D.push({name:se[de].name,rowKey:"".concat(de),list:he})})()},ee=N.func_item,pe=0;pe<ee.length;pe++)je(ee,pe);var Te=(0,u.Z)((0,u.Z)({},m),{},{is_default:!0,perf_item:O,func_item:D});v(Te),F(!1)}}else ue().then(function(fe){if(fe.code===200){var se=[],de=[],be=fe.data;if(JSON.stringify(be)!=="{}"){if(be.perf_item&&!!be.perf_item.length)for(var Je=function(xe,ce){if(xe[ce].is_group){for(var Ze=[],Se=function(Oe,$e){for(var Me=[],Ve=[],Ye=function(nt,ut){L==null||L.map(function(qe,ya){Number(qe.suite_id)==Number(nt[ut].test_suite_id)&&Me.push((0,u.Z)((0,u.Z)({},qe),{},{test_suite_description:nt[ut].test_tool,test_env:"",test_description:"",test_conclusion:"",rowKey:"".concat(ce,"-").concat($e,"-").concat(ya)}))}),nt[ut].case_source.map(function(qe){Ve.push(qe.test_conf_id||qe)})},Xe=Oe[$e].list,Ke=0;Ke<Xe.length;Ke++)Ye(Xe,Ke);for(var Ie=0;Ie<Me.length;Ie++)Me[Ie].conf_list=Me[Ie].conf_list.filter(function(Be,nt){return Ve.includes(Number(Be.conf_id))});Ze.push({name:Oe[$e].name,rowKey:"".concat(ce,"-").concat($e),list:Me})},Ce=xe[ce].list,ke=0;ke<Ce.length;ke++)Se(Ce,ke);se.push({name:xe[ce].name,rowKey:"".concat(ce),is_group:!0,list:Ze})}else(function(){for(var Ee=[],Oe=[],$e=function(Ke,Ie){L==null||L.map(function(Be,nt){Be.suite_id==Ke[Ie].test_suite_id&&Ee.push((0,u.Z)((0,u.Z)({},Be),{},{test_suite_description:Ke[Ie].test_tool,rowKey:"".concat(ce,"-").concat(Ie)}))}),Ke[Ie].case_source.map(function(Be){Oe.push(Be.test_conf_id||Be)})},Me=xe[ce].list,Ve=0;Ve<Me.length;Ve++)$e(Me,Ve);for(var Ye=0;Ye<Ee.length;Ye++)Ee[Ye].conf_list=Ee[Ye].conf_list.filter(function(Xe,Ke){return Oe.includes(Number(Xe.conf_id))});se.push({name:xe[ce].name,rowKey:"".concat(ce),list:Ee})})()},Ae=be.perf_item,Pe=0;Pe<Ae.length;Pe++)Je(Ae,Pe);if(be.func_item&&!!be.func_item.length)for(var he=function(xe,ce){if(xe[ce].is_group){for(var Ze=[],Se=function(Oe,$e){for(var Me=[],Ve=[],Ye=function(nt,ut){G==null||G.map(function(qe,ya){Number(qe.suite_id)===Number(nt[ut].test_suite_id)&&Me.push((0,u.Z)((0,u.Z)({},qe),{},{rowKey:"".concat(ce,"-").concat(ut)}))}),nt[ut].case_source.map(function(qe){Ve.push(qe.test_conf_id||qe)})},Xe=Oe[$e].list,Ke=0;Ke<Xe.length;Ke++)Ye(Xe,Ke);for(var Ie=0;Ie<Me.length;Ie++)Me[Ie].conf_list=Me[Ie].conf_list.filter(function(Be,nt){return Ve.includes(Number(Be.conf_id))});Ze.push({name:Oe[$e].name,rowKey:"".concat(ce,"-").concat($e),list:Me})},Ce=xe[ce].list,ke=0;ke<Ce.length;ke++)Se(Ce,ke);de.push({name:xe[ce].name,rowKey:"".concat(ce),is_group:!0,list:Ze})}else(function(){for(var Ee=[],Oe=[],$e=function(Ke,Ie){G==null||G.map(function(Be,nt){Number(Be.suite_id)===Number(Ke[Ie].test_suite_id)&&Ee.push((0,u.Z)((0,u.Z)({},Be),{},{rowKey:"".concat(ce,"-").concat(Ie)}))}),Ke[Ie].case_source.map(function(Be){Oe.push(Be.test_conf_id||Be)})},Me=xe[ce].list,Ve=0;Ve<Me.length;Ve++)$e(Me,Ve);for(var Ye=0;Ye<Ee.length;Ye++)Ee[Ye].conf_list=Ee[Ye].conf_list.filter(function(Xe,Ke){return Oe.includes(Number(Xe.conf_id))});de.push({name:xe[ce].name,rowKey:"".concat(ce),list:Ee})})()},Fe=be.func_item,Ne=0;Ne<Fe.length;Ne++)he(Fe,Ne);var we=(0,u.Z)((0,u.Z)({},be),{},{perf_item:se,func_item:de});v(we),F(!1)}}else dt.default.error("\u81EA\u5B9A\u4E49\u6A21\u7248\u51FA\u9519")})},[$,_e,L,G]);var M=function(le,ne,O,D){return le.reduce(function(B,H){return H[ne].reduce(function(oe,je,ee){if(D===ee)for(var pe in je)oe[pe]+=je[pe];return oe},O)},O)},Ge=(0,a.useMemo)(function(){var N=y.compare_groups,le=N.reduce(function(D,B,H){var oe=B.tag,je=B.is_job,ee={tag:oe,is_job:je,func_data:{},perf_data:{}};if(G&&!!G.length){var pe=M(G,"compare_count",{all_case:0,success_case:0,fail_case:0},H);ee.func_data={funcAll:pe==null?void 0:pe.all_case,success:pe==null?void 0:pe.success_case,fail:pe==null?void 0:pe.fail_case}}if(L&&!!L.length){var Te=L.reduce(function(se,de){var be=de.base_count.all;return be?se+be:se},0),fe=M(L,"compare_count",{all:0,decline:0,increase:0},H);ee.perf_data={perfAll:Te,decline:fe.decline,increase:fe.increase}}return D.concat(ee)},[]),ne={},O={tag:y.base_group.tag,is_job:1,func_data:{},perf_data:{}};return G&&!!G.length&&(O=(0,u.Z)((0,u.Z)({},O),{},{func_data:(0,u.Z)({},G.reduce(function(D,B){var H=B.base_count,oe=H.all_case,je=H.success_case,ee=H.fail_case;return{funcAll:D.funcAll+oe,success:D.success+je,fail:D.fail+ee}},{funcAll:0,success:0,fail:0}))})),ne.custom="-",ne.summary={base_group:O,compare_groups:le},ne},[y,V]);(0,a.useMemo)(function(){var N=ve().cloneDeep(Ge),le=N==null?void 0:N.summary.compare_groups,ne=N==null?void 0:N.summary.base_group;le.splice(ae,0,ne),s(le)},[Ge]),(0,a.useMemo)(function(){var N=ve().cloneDeep(y),le=N.compare_groups,ne=N.base_group;le.splice(ae,0,ne),le.length>1&&ae!==-1&&(le[ae].is_group=!0),S(le)},[y]);var Le=(0,a.useMemo)(function(){return A.filter(function(N){return N.members.length>0})},[A]);return{environmentResult:y,allGroupData:Le,baselineGroupIndex:ae===-1?0:ae,compareResult:V,compareGroupData:q,domainGroupResult:$,logoData:r,envData:x,summaryData:Ge,domainResult:m,setDomainResult:v,loading:c,saveReportData:I,isFlag:P!==E}},ba=function(t,i){var o=[];return Object.keys(t).map(function(r,s){var Z;return o.push({name:r,rowKey:"".concat(i,"-").concat(s),list:(Z=t[r])===null||Z===void 0?void 0:Z.map(function(f,c){return(0,u.Z)((0,u.Z)({},f),{},{rowKey:"".concat(i,"-").concat(s,"-").concat(c)})})})}),o},hi=function(t){var i=(0,a.useState)(!0),o=(0,re.Z)(i,2),r=o[0],s=o[1],Z=(0,a.useState)({}),f=(0,re.Z)(Z,2),c=f[0],F=f[1],T=(0,a.useState)([]),l=(0,re.Z)(T,2),x=l[0],S=l[1],w=(0,a.useState)(0),C=(0,re.Z)(w,2),E=C[0],K=C[1],te=(0,a.useState)(),k=(0,re.Z)(te,2),X=k[0],V=k[1],Y=(0,a.useState)({}),me=(0,re.Z)(Y,2),R=me[0],m=me[1],v=t.match.params.report_id,p=function(){var z=(0,st.Z)((0,We.Z)().mark(function A(){var Q,W,ge,q,De,$,J,I,ie,ye,G,L,P,ue,_e,M,Ge,Le,N;return(0,We.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return s(!0),ne.next=3,(0,lt.AX)({report_id:v});case 3:if(Q=ne.sent,W=Q.code,ge=Q.msg,q=Q.data,W!=200){ne.next=29;break}if(F(q[0]),window.document.title=((De=q[0])===null||De===void 0?void 0:De.name)||"T-one",console.log(q),(q==null?void 0:q.length)!==0){ne.next=13;break}return ne.abrupt("return",(0,rt.CT)(404));case 13:return $=q[0],J=$.tmpl_id,I=$.ws_id,ie=$.creator,V(ie),ne.next=17,(0,lt.PL)({id:J,ws_id:I});case 17:if(ye=ne.sent,G=[],L=[],P=q[0].test_item,ue=P.perf_data,_e=P.func_data,JSON.stringify(ue)!=="{}"&&Object.keys(ue).map(function(O,D){if(ve().isArray(ue[O])){var B;G.push({name:O,rowKey:D,list:(B=ue[O])===null||B===void 0?void 0:B.map(function(H,oe){return(0,u.Z)((0,u.Z)({},H),{},{rowKey:"".concat(D,"-").concat(oe)})})})}else G.push({name:O,rowKey:D,is_group:!0,list:ba(ue[O],D)})}),JSON.stringify(_e)!=="{}"&&Object.keys(_e).map(function(O,D){ve().isArray(_e[O])?L.push({name:O,rowKey:D,list:_e[O]}):L.push({name:O,rowKey:D,is_group:!0,list:ba(_e[O],D)})}),ye.code==200&&m((0,u.Z)((0,u.Z)({},ye.data),{},{perf_item:G,func_item:L})),M=JSON.parse(q[0].test_env),M){for(Ge=M==null?void 0:M.compare_groups,Le=[],N=0;N<Ge.length;N++)Le.push(Ge[N]);Le.splice(M==null?void 0:M.base_index,0,M==null?void 0:M.base_group),S(Le),K((M==null?void 0:M.base_index)===void 0?0:M==null?void 0:M.base_index)}s(!1),ne.next=30;break;case 29:(0,rt.EV)(W,ge);case 30:case"end":return ne.stop()}},A)}));return function(){return z.apply(this,arguments)}}();(0,a.useEffect)(function(){p()},[]);var b,h;c&&JSON.stringify(c)!=="{}"&&(b=JSON.parse(c.test_conclusion),h=JSON.parse(c.test_env));var y={creator_name:c==null?void 0:c.creator_name,description:c==null?void 0:c.description,gmt_created:c==null?void 0:c.gmt_created,id:c==null?void 0:c.id,name:c==null?void 0:c.name,template:c==null?void 0:c.tmpl_id,old_report:c==null?void 0:c.old_report,report_source:c==null?void 0:c.report_source,test_background:c==null?void 0:c.test_background,test_method:c==null?void 0:c.test_method,test_conclusion:b,test_env:h},U=(0,a.useMemo)(function(){if(b&&JSON.stringify(b)!=="{}"){var z=ve().cloneDeep(b),A=z==null?void 0:z.summary.compare_groups,Q=z==null?void 0:z.summary.base_group;return A.splice(E,0,Q),A}},[b]),ae=(0,a.useMemo)(function(){if(h&&JSON.stringify(h)!=="{}"){var z,A,Q=ve().cloneDeep(h);((z=h)===null||z===void 0||(A=z.compare_groups)===null||A===void 0?void 0:A.length)>0&&(Q.base_group.is_group=!0);var W=Q==null?void 0:Q.compare_groups,ge=Q==null?void 0:Q.base_group;return W.splice(E,0,ge),W}},[h]);return{environmentResult:h,allGroupData:x,baselineGroupIndex:E,logoData:U,envData:ae,summaryData:b,domainResult:R,setDomainResult:m,loading:r,saveReportData:y,wsId:c==null?void 0:c.ws_id,queryReport:p,creator:X}},xi=function(t){var i=(0,d.YB)(),o=i.formatMessage,r=(0,d.md)(),s=t.match.params.ws_id,Z=(0,aa.UO)(),f=Z.report_id,c=(0,a.useState)(!1),F=(0,re.Z)(c,2),T=F[0],l=F[1],x=(0,a.useState)(!1),S=(0,re.Z)(x,2),w=S[0],C=S[1],E=(0,a.useState)(!1),K=(0,re.Z)(E,2),te=K[0],k=K[1],X=(0,Nt.CR)(),V=X.height,Y=(0,a.useRef)(null),me=(0,a.useState)({test_item:{func_data:[],perf_data:[]}}),R=(0,re.Z)(me,2),m=R[0],v=R[1],p=t.route.name,b=(0,Nt.oM)(o({id:"report.link.copied.successfully"})),h=["Report","EditReport","ShareReport"].includes(p)?hi(t):gi(t),y=h.environmentResult,U=h.allGroupData,ae=h.baselineGroupIndex,z=h.logoData,A=h.envData,Q=h.summaryData,W=h.domainResult,ge=h.compareGroupData,q=h.setDomainResult,De=h.loading,$=h.saveReportData,J=h.wsId,I=h.queryReport,ie=h.isFlag,ye=h.creator,G=U==null?void 0:U.length;window.document.title=$.name||"T-one",(0,a.useEffect)(function(){p==="Report"||p==="ShareReport"?l(!1):(l(!0),m.test_env=ve().cloneDeep(y),m.test_conclusion=ve().cloneDeep(Q),v((0,u.Z)({},m)))},[p]);var L=function(){var Le=[];return ve().isArray(U)&&(Le=ve().reduce(U,function(N,le){var ne=ve().isArray(ve().get(le,"members"))?ve().get(le,"members"):[];return ne.forEach(function(O){O&&O.id&&N.push(O.id)}),N},[])),Le},P=function(){return(0,e.jsxs)(ze.Z,{justify:"space-between",align:"middle",children:[(0,e.jsxs)(Va,{children:[(0,e.jsx)(kt.Z.Item,{children:(0,e.jsx)(hr,{onClick:function(){return d.m8.push("/ws/".concat(s,"/test_report"))},children:(0,e.jsx)(d._H,{id:"report.test.report"})})}),(0,e.jsx)(kt.Z.Item,{children:(0,e.jsx)(Ya,{onClick:function(){return d.m8.go(0)},children:($==null?void 0:$.name)||"-"})})]}),T?p!=="ShareReport"&&(0,e.jsx)(At.Z,{type:"primary",disabled:w,onClick:ue,loading:ie,children:$!=null&&$.id?(0,e.jsx)(d._H,{id:"operation.update"}):(0,e.jsx)(d._H,{id:"operation.save"})}):(0,e.jsxs)(Ue.Z,{children:[(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return b(location.origin+"/share/report/".concat(f))},children:(0,e.jsxs)(Ue.Z,{children:[(0,e.jsx)(Ta.r,{}),(0,e.jsx)(d._H,{id:"operation.share"})]})}),p!=="ShareReport"&&(0,e.jsx)(d.Nv,{accessible:r.WsTourist(),children:(0,e.jsx)(d.Nv,{accessible:r.WsMemberOperateSelf(ye),fallback:(0,e.jsx)("span",{onClick:function(){return(0,rt.WR)()},children:(0,e.jsxs)(Ue.Z,{align:"center",children:[(0,e.jsx)(Fa,{}),(0,e.jsx)(d._H,{id:"operation.edit"})]})}),children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return l(!0)},children:(0,e.jsxs)(Ue.Z,{align:"center",children:[(0,e.jsx)(wa,{}),(0,e.jsx)(d._H,{id:"operation.edit"})]})})})})]})]})},ue=function(){var Ge=(0,st.Z)((0,We.Z)().mark(function Le(){var N,le;return(0,We.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(C(!0),m.product_version=$.productVersion,m.project_id=$.project,m.report_source="job",m.tmpl_id=$.template,m.ws_id=s,m.job_li=L(),!$.id){O.next=15;break}return m.report_id=$.id,O.next=11,(0,lt.Me)(m);case 11:N=O.sent,N.code===200?(dt.default.success(o({id:"report.update.report.succeeded"})),I(),l(!1)):(0,rt.EV)(N.code,N.msg),O.next=19;break;case 15:return O.next=17,(0,lt.iE)(m);case 17:le=O.sent,le.code===200?(dt.default.success(o({id:"report.saved.successfully"})),d.m8.push("/ws/".concat(s,"/test_report?t=list"))):(0,rt.EV)(le.code,le.msg);case 19:C(!1);case 20:case"end":return O.stop()}},Le)}));return function(){return Ge.apply(this,arguments)}}(),_e=a.useRef(null),M=(0,ma.Z)(_e);return(0,e.jsx)(Qe.Provider,{value:{btnState:T,obj:m,saveReportData:$,allGroupData:U,compareGroupData:ge,logoData:z,envData:A,routeName:p,btnConfirm:w,baselineGroupIndex:ae,domainResult:W,setDomainResult:q,summaryData:Q,environmentResult:y,collapsed:te,groupLen:G,bodyRef:Y,wsId:J,creator:ye,isOldReport:$==null?void 0:$.old_report,setCollapsed:k,setObj:v,containerScroll:M},children:(0,e.jsx)(Za.Z,{spinning:De,children:(0,e.jsxs)(ka,{height:V-50,children:[(0,e.jsx)(vi,{}),(0,e.jsx)(Ia,{id:"report-body-container",ref:_e,collapsed:te,children:(0,e.jsx)(Ga,{ref:Y,children:(0,e.jsxs)(it.Z,{span:24,children:[!!s&&(0,e.jsx)(P,{}),(0,e.jsx)(xo,{}),(0,e.jsx)(jo,{}),(0,e.jsxs)("div",{style:{width:1200},children:[(W==null?void 0:W.is_default)&&(0,e.jsx)(zr,{}),(W==null?void 0:W.is_default)&&(0,e.jsx)(Jr,{}),!(W!=null&&W.is_default)&&(W==null?void 0:W.need_test_summary)&&(0,e.jsx)(zr,{}),!(W!=null&&W.is_default)&&(W==null?void 0:W.need_test_env)&&(0,e.jsx)(Jr,{}),(0,e.jsx)(ai,{})]})]})})})]})})})},_i=xi}}]);
