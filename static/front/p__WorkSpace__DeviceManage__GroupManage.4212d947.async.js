(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[7224,2485],{25034:function(Ve){Ve.exports={row_class:"row_class___6tLb-",table:"table___3FWk8",dorp_button:"dorp_button___Z-5ot",add_server_form:"add_server_form___1rEVL"}},45969:function(Ve){Ve.exports={table:"table___NcH1_",pro_table_card:"pro_table_card___1Cnyd"}},3485:function(Ve){Ve.exports={form_wrapper_body:"form_wrapper_body___yzUOT",form_styles:"form_styles___3dqrf",btn_style:"btn_style___1RvGA",select_ips:"select_ips___23miq"}},48524:function(Ve){Ve.exports={ip_td:"ip_td___1G32k",dorp_button:"dorp_button___190mR",pro_table_card:"pro_table_card___3PTns"}},51812:function(){},87706:function(Ve,Qe,s){"use strict";s.r(Qe),s.d(Qe,{default:function(){return Ut}});var i=s(20418),cr=s(46721),ne=s(94867),fr=s(54905),Ke=s(90087),o=s(39190),t=s(22374),Re=s(24812),r=s(22812),nr=s(67448),Ne=s(47548),sr=s(67515),We=s(12238),Cr=s(38519),ar=s(16416),Ge=s(87967),Ae=s(52730),_r=s(31650),de=s(25100),wr=s(51937),Je=s(34516),kr=s(57359),me=s(34423),vr=s(79625),Pe=s(96584),ir=s(14320),z=s(53479),br=s(81138),be=s(96146),d=s(35832),K=s(32326),Ee=s(31784),Hr=s(74066),Ir=s(46601),Wt=s(88018),Ye=s(58414),Gt=s(16832),Be=s(69827),Yt=s(70772),x=s(6701),Xr=s(64139),ve=s.n(Xr),Or=s(55704),oe=s(77033),Xe=s(6895),e=s(52454),qr=(0,t.forwardRef)(function(k,E){var H=(0,Re.UO)(),y=H.ws_id,l=(0,t.useState)(),F=(0,o.Z)(l,2),n=F[0],T=F[1],$=(0,t.useState)(!1),X=(0,o.Z)($,2),b=X[0],C=X[1],R=(0,t.useState)(!0),P=(0,o.Z)(R,2),Z=P[0],Y=P[1],q=(0,t.useState)(!1),ue=(0,o.Z)(q,2),V=ue[0],ce=ue[1],L=(0,t.useRef)(null),ye=function(){var ee=(0,K.Z)((0,d.Z)().mark(function _(Q){var je,N,se,A,ie,_e;return(0,d.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Y(!0),re.next=3,(0,oe.jc)(Q);case 3:return je=re.sent,N=je.data,se=N===void 0?{}:N,T(se),re.next=9,(0,oe.vq)({ip:se.ip,channel_type:se.channel_type});case 9:A=re.sent,ie=A.code,_e=A.data,C(ie===200?_e:se.channel_state),Y(!1);case 14:case"end":return re.stop()}},_)}));return function(Q){return ee.apply(this,arguments)}}();(0,t.useImperativeHandle)(E,function(){return{show:function(_){ce(!0),ye(_)}}});var ae=function(){ce(!1),T(null)},fe=function(){var _;(_=L.current)===null||_===void 0||_.show((0,i.Z)((0,i.Z)({},n),{},{detailData:[n==null?void 0:n.ip]}))},he=function(){};return(0,e.jsxs)(Ye.Z,{maskClosable:!1,keyboard:!1,forceRender:!0,title:(0,e.jsx)(r._H,{id:"device.details"}),width:"510",open:V,onClose:ae,children:[(0,e.jsxs)(Ne.Z,{spinning:Z,children:[(0,e.jsxs)(Be.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(de.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.hardware"})}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(x.Z,{span:6,children:"SN:"}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.sn})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.host.name"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.hostname})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.ip.address"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.ip})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.test.server.type"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.device_type})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(x.Z,{span:6,children:"IDC:"}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.idc})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.manufacturer"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.manufacturer})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.model"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.device_mode})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.model.type"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.sm_name})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.security.domain"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.security_domain})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(x.Z,{span:6,children:"CPU:"}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.cpu})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.CPU.device"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.cpu_device})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.memory"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.memory})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.memory.device"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.memory_device})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.storage"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.storage})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.network"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.network})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.network.device"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.net_device})]})]}),(0,e.jsxs)(Be.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(de.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.software"})}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.operating.system"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.platform})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.kernel_version"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.kernel})]})]}),(0,e.jsxs)(Be.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(de.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.application.group"})}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.application.group"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.app_group})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.application.state"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.app_state})]})]}),(0,e.jsxs)(Be.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(de.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.usage.state"})}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.server.state"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:(0,Xe.Ul)(n==null?void 0:n.state,n,y)})]})]}),(0,e.jsxs)(Be.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(de.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.channel_type"})}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(x.Z,{span:6,children:"Channel:"}),(0,e.jsxs)(x.Z,{span:18,children:[(0,e.jsx)("span",{children:n==null?void 0:n.channel_type}),!1]})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.state"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:b==null?void 0:b.toString()})]})]}),(0,e.jsxs)(Be.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(de.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.scheduling.label"})}),(0,e.jsx)(z.Z,{style:{marginTop:10},children:(n==null?void 0:n.tag_list)&&(n==null?void 0:n.tag_list.map(function(ee){return(0,e.jsx)(Je.Z,{color:ee.tag_color,children:ee.name},ee.id)}))})]}),(0,e.jsxs)(Be.Z.Content,{children:[(0,e.jsx)(de.Z.Text,{strong:!0,children:(0,e.jsx)(r._H,{id:"device.others.info"})}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.machine.name"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.name})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsx)(x.Z,{span:6,children:"Owner:"}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.owner_name})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.creation_time"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.gmt_created})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.modify_time"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.gmt_modified})]}),(0,e.jsxs)(z.Z,{gutter:20,className:ve().row,children:[(0,e.jsxs)(x.Z,{span:6,children:[(0,e.jsx)(r._H,{id:"device.description"}),":"]}),(0,e.jsx)(x.Z,{span:18,children:n==null?void 0:n.description})]})]})]}),(0,e.jsx)(Or.Z,{ref:L,callback:he})]})}),Dr=qr,Qt=s(90846),$e=s(56511),Jt=s(20693),Fe=s(3278),Xt=s(69230),He=s(33821),qt=s(65790),W=s(17187),et=s(97207),Rr=s.n(et),hr=s(57286),rt=(0,t.forwardRef)(function(k,E){var H=(0,r.YB)(),y=H.formatMessage,l=k.handleOk,F=(0,t.useState)(!1),n=(0,o.Z)(F,2),T=n[0],$=n[1],X=(0,t.useState)(null),b=(0,o.Z)(X,2),C=b[0],R=b[1],P=W.Z.useForm(),Z=(0,o.Z)(P,1),Y=Z[0];(0,t.useImperativeHandle)(E,function(){return{show:function(ce){$(!0),R(ce)}}});var q=function(){R(null),$(!1),Y.resetFields()},ue=function(){Y.validateFields().then(function(){var ce=(0,K.Z)((0,d.Z)().mark(function L(ye){return(0,d.Z)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,(0,oe.iu)((0,i.Z)((0,i.Z)({},ye),{},{server_id:C}));case 2:l(),q();case 4:case"end":return fe.stop()}},L)}));return function(L){return ce.apply(this,arguments)}}()).catch(function(ce){console.log(ce)})};return(0,e.jsx)(Ye.Z,{maskClosable:!1,keyboard:!1,title:(0,e.jsx)(r._H,{id:"device.deploy"}),forceRender:!0,open:T,width:"376",onClose:q,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{onClick:q,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(ne.Z,{type:"primary",onClick:ue,children:(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(W.Z,{layout:"vertical",form:Y,children:[(0,e.jsx)(W.Z.Item,{name:"deploy_user",label:(0,e.jsx)(r._H,{id:"device.deploy_user"}),rules:[{required:!0,message:y({id:"device.deploy_user.message"})}],children:(0,e.jsx)(Fe.Z,{autoComplete:"off",placeholder:y({id:"device.deploy_user.placeholder"})})}),(0,e.jsx)(W.Z.Item,{name:"deploy_pass",label:(0,e.jsx)(r._H,{id:"device.deploy_pass"}),rules:[{required:!0,message:y({id:"device.deploy_pass.message"})}],children:(0,e.jsx)(Fe.Z.Password,{autoComplete:"off",placeholder:y({id:"device.deploy_pass.placeholder"}),visibilityToggle:!1})})]})})}),tt=rt,nt=s(3485),pr=s.n(nt),lr=s(53919),Er=s(8476),st=function(E,H){var y=(0,r.YB)(),l=y.formatMessage,F=(0,Re.UO)(),n=F.ws_id,T=E.onFinish,$=(0,t.useState)(!1),X=(0,o.Z)($,2),b=X[0],C=X[1],R=(0,t.useState)(null),P=(0,o.Z)(R,2),Z=P[0],Y=P[1],q=(0,t.useRef)(null),ue=(0,t.useRef)(null),V=W.Z.useForm(),ce=(0,o.Z)(V,1),L=ce[0],ye=(0,t.useState)({success:[],errors:[]}),ae=(0,o.Z)(ye,2),fe=ae[0],he=ae[1],ee=(0,t.useState)(""),_=(0,o.Z)(ee,2),Q=_[0],je=_[1],N=(0,t.useState)(!1),se=(0,o.Z)(N,2),A=se[0],ie=se[1],_e=(0,t.useState)(!1),Ie=(0,o.Z)(_e,2),re=Ie[0],Oe=Ie[1],Te=(0,t.useState)(""),I=(0,o.Z)(Te,2),h=I[0],O=I[1],G=(0,t.useState)([]),ke=(0,o.Z)(G,2),J=ke[0],pe=ke[1],xe=(0,t.useState)({}),ge=(0,o.Z)(xe,2),p=ge[0],a=ge[1],u=(0,t.useState)(!1),j=(0,o.Z)(u,2),c=j[0],B=j[1],D=l({id:"device.machine.IP.placeholder1"}),De=(0,t.useState)({list:[],isQuery:""}),le=(0,o.Z)(De,2),rr=le[0],or=le[1],ze=function(){L.resetFields(),C(!1),Y(null),a({}),je(""),pe([]),O(""),he({success:[],errors:[]})};(0,t.useImperativeHandle)(H,function(){return{show:function(g){if(ze(),C(!0),g&&Y(Rr()),g){Y(g),B(Rr().get(g,"opreateType")==="moreEdit"),g.ip&&L.setFieldsValue({ips:[g.ip]});var w=[];g.tag_list&&(w=g.tag_list.map(function(te){return te.id})),or((0,i.Z)((0,i.Z)({},rr),{},{isQuery:"edit",list:w}))}else or((0,i.Z)((0,i.Z)({},rr),{},{isQuery:"add",list:[]}))}}});var tr=(0,t.useMemo)(function(){return Z&&Z.state==="Occupied"},[Z]),Zr=function(){ie(!0),L.validateFields().then(function(){var g=(0,K.Z)((0,d.Z)().mark(function w(te){var Ze;return(0,d.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(te.owner="",Z){Se.next=7;break}return Se.next=4,(0,oe.xG)((0,i.Z)((0,i.Z)({},te),{},{ws_id:n}));case 4:Ze=Se.sent,Se.next=13;break;case 7:return te.owner===Z.owner_name&&(te.owner=Z.owner),tr&&(delete te.channel_type,delete te.ip),te.ws_id=n,Se.next=12,(0,oe.rQ)(Z.id,te);case 12:Ze=Se.sent;case 13:Ze.code===200?(be.default.success(l({id:"operation.success"})),T(),ze()):be.default.error(Ze.msg||l({id:"operation.failed"})),ie(!1);case 15:case"end":return Se.stop()}},w)}));return function(w){return g.apply(this,arguments)}}()).catch(function(g){ie(!1)})},ur=function(){ie(!0),L.validateFields().then(function(){var g=(0,K.Z)((0,d.Z)().mark(function w(te){var Ze;return(0,d.Z)().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return te.ws_id=n,te.server_ids=Z.selectRowKeys,te.description=te.description||"",Se.next=5,(0,oe.X4)(te);case 5:Ze=Se.sent,Ze.code===200?(be.default.success(l({id:"operation.success"})),T(),ze()):be.default.error(Ze.msg||l({id:"operation.failed"})),ie(!1);case 8:case"end":return Se.stop()}},w)}));return function(w){return g.apply(this,arguments)}}()).catch(function(g){ie(!1),console.log(g)})},zt=function(g){var w;(w=ue.current)===null||w===void 0||w.show((0,i.Z)((0,i.Z)({},g),{},{detailData:g.errors||[]}))},jr=function(g){var w=g.success_servers,te=w===void 0?[]:w,Ze=te==null?void 0:te.map(function(Le){return Le.ip});Ze!=null&&Ze.length&&(he({success:Ze,errors:[]}),L.setFieldsValue({ips:Ze}))},gr=function(g){var w=g.data;return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)("span",{children:w.msg[0]}),(0,e.jsx)(Pe.Z,{title:w.msg[1],children:(0,e.jsx)("span",{style:{color:"#1890ff"},children:(0,e.jsx)(r._H,{id:"device.detail.info"})})})]})},Qr=function(g){var w=g.data,te=g.channelType;return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)("span",{children:w.msg[0]}),(0,e.jsx)(Pe.Z,{title:w.msg[1],children:(0,e.jsx)("span",{style:{color:"#1890ff"},children:(0,e.jsx)(r._H,{id:"device.detail.info"})})}),(0,e.jsx)(e.Fragment,{})]})},yr=function(){var U=(0,K.Z)((0,d.Z)().mark(function g(w){var te,Ze,Le,Se,Ue;return(0,d.Z)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(!re){Ce.next=2;break}return Ce.abrupt("return");case 2:if(p.error&&a({}),Oe(!0),te=L.getFieldValue("$")||[],Ze=L.getFieldValue("ip"),Le=w,!(Le&&te&&te.length>0)){Ce.next=17;break}return Ce.next=10,(0,oe.bD)({ips:te,channel_type:Le,ws_id:n});case 10:if(Ce.t0=Ce.sent,Ce.t0){Ce.next=13;break}Ce.t0={};case 13:Se=Ce.t0,Se.code===200&&(he((0,i.Z)({},Se.data)),je((0,e.jsx)(Qr,{data:Se,channelType:Le})),L.setFieldsValue({ips:Se.data.success}),pe(Se.data.success),O("")),Ce.next=25;break;case 17:if(!(Le&&Ze&&Ze.length>0)){Ce.next=25;break}return Ce.next=20,(0,oe.bD)({ws_id:n,ips:Ze,channel_type:Le,server_id:Z.id});case 20:if(Ce.t1=Ce.sent,Ce.t1){Ce.next=23;break}Ce.t1={};case 23:Ue=Ce.t1,Ue.code===200&&Ue.data&&Ue.data.errors&&Ue.data.errors.length&&a((0,i.Z)((0,i.Z)({},Ue),{},{error:!0}));case 25:Oe(!1);case 26:case"end":return Ce.stop()}},g)}));return function(w){return U.apply(this,arguments)}}(),Sr=function(g){yr(g)},m=(0,t.useCallback)(function(){},[]);(0,t.useEffect)(function(){if(!Z||c)L.resetFields();else if("id"in Z){var U=Z.ip,g=Z.private_ip,w=Z.description,te=Z.tag_list,Ze=Z.state,Le=Z.name,Se=Z.channel_type,Ue=Z.emp_id,Jr=Z.sn;L.setFieldsValue({ip:U,private_ip:g,description:w,tags:te.map(function(Ce){var Kt=Ce.id;return Kt}),state:Ze,emp_id:Ue,name:Le||"SN",channel_type:Se,sn:Jr})}},[E.visible,Z]);var v=function(g){O(g)},f=function(){if(h.length>0){if(h.indexOf("\uFF0C")>1){be.default.error("\u673A\u5668ip\u53C2\u6570\u683C\u5F0F\u4E0D\u6B63\u786E");return}var g=h.trim().split(/,|\s/)||[],w=Array.from(new Set(g.concat(J)));pe(w),L.setFieldsValue({ips:w});var te=L.getFieldValue("channel_type")}},M=function(){he({success:[],errors:[]}),je("")},S=function(g){pe(g),O(g.toString())};return(0,e.jsxs)(Ye.Z,{keyboard:!1,maskClosable:!1,forceRender:!0,title:Z?(0,e.jsx)(r._H,{id:"device.device.edit"}):(0,e.jsx)(r._H,{id:"device.add.btn"}),width:"376",open:b,destroyOnClose:!0,onClose:A?function(){}:ze,className:pr().form_wrapper_body,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{onClick:ze,disabled:A,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(ne.Z,{onClick:c?ur:Zr,type:"primary",loading:A,children:Z?(0,e.jsx)(r._H,{id:"operation.update"}):(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:[(0,e.jsx)(Ne.Z,{spinning:re,children:(0,e.jsxs)(W.Z,{layout:"vertical",form:L,className:pr().form_styles,initialValues:{channel_type:"toneagent"},children:[!c&&(0,e.jsx)(W.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.channel_type"}),name:"channel_type",rules:[{required:!0,message:l({id:"device.channel_type.message"})}],validateStatus:p.error?"error":"",help:p.msg&&p.msg.length&&(0,e.jsx)(gr,{data:p}),children:(0,e.jsx)(lr.k,{onChange:Sr,disabled:!0,placeholder:l({id:"device.channel_type.message"})})}),!c&&!Z&&(0,e.jsx)(W.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.machine.IP"}),name:"ips",validateStatus:fe.errors.length>0?"error":void 0,help:fe.errors.length>0?Q:void 0,rules:[{required:!0,message:l({id:"device.please.enter.correct.server.IP"})}],children:(0,e.jsx)(He.Z,{mode:"multiple",placeholder:D,onBlur:f,onFocus:M,onSearch:v,onChange:S,notFoundContent:null,className:pr().select_ips,children:fe.success.map(function(U){return(0,e.jsx)(He.Z.Option,{value:U,children:U},U)})})}),!c&&Z&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(W.Z.Item,{name:"ip",label:(0,e.jsx)(r._H,{id:"device.machine"}),children:(0,e.jsx)(Fe.Z,{disabled:!0})}),(0,e.jsx)(W.Z.Item,{name:"name",label:(0,e.jsx)(r._H,{id:"device.machine.name"}),rules:[{required:!0,message:l({id:"device.machine.message"})}],initialValue:"SN",children:(0,e.jsx)(Fe.Z,{autoComplete:"off"})}),(0,e.jsx)(W.Z.Item,{name:"sn",label:"SN",style:{display:"none"},children:(0,e.jsx)(Fe.Z,{autoComplete:"off",type:"hidden"})})]}),!c&&(0,e.jsx)(W.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.usage.state"}),name:"state",rules:[{required:!0,message:l({id:"device.usage.state.message"})}],initialValue:"Available",children:(0,e.jsxs)(He.Z,{placeholder:l({id:"device.usage.state.message"}),disabled:tr,children:[(0,e.jsx)(He.Z.Option,{value:"Available",children:(0,e.jsx)($e.Z,{status:"success",text:"Available"})}),(0,e.jsx)(He.Z.Option,{value:"Reserved",children:(0,e.jsx)($e.Z,{status:"success",text:"Reserved"})}),(0,e.jsx)(He.Z.Option,{value:"Unusable",children:(0,e.jsx)($e.Z,{status:"default",text:"Unusable"})})]})}),!c&&(0,e.jsx)(hr.Z,{}),!c&&(0,e.jsx)(Er.Z,(0,i.Z)({},rr)),(0,e.jsx)(W.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.description"}),name:"description",children:(0,e.jsx)(Fe.Z.TextArea,{placeholder:l({id:"device.description.placeholder"})})})]})}),(0,e.jsx)(tt,{ref:q,handleOk:m}),(0,e.jsx)(Or.Z,{ref:ue,callback:jr})]})},at=(0,t.forwardRef)(st),qe=s(12590),Tr=s(27787),it=s(42847),Fr=s(76742),mr=s(76123),lt=s(79638),Pr=s(46444),Mr,Lr,dt=["svgRef","title"];function dr(){return dr=Object.assign?Object.assign.bind():function(k){for(var E=1;E<arguments.length;E++){var H=arguments[E];for(var y in H)Object.prototype.hasOwnProperty.call(H,y)&&(k[y]=H[y])}return k},dr.apply(this,arguments)}function ot(k,E){if(k==null)return{};var H=ut(k,E),y,l;if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(k);for(l=0;l<F.length;l++)y=F[l],!(E.indexOf(y)>=0)&&(!Object.prototype.propertyIsEnumerable.call(k,y)||(H[y]=k[y]))}return H}function ut(k,E){if(k==null)return{};var H={},y=Object.keys(k),l,F;for(F=0;F<y.length;F++)l=y[F],!(E.indexOf(l)>=0)&&(H[l]=k[l]);return H}var ct=function(E){var H=E.svgRef,y=E.title,l=ot(E,dt);return t.createElement("svg",dr({width:"21px",height:"54px",viewBox:"0 0 21 54",ref:H},l),y?t.createElement("title",null,y):null,Mr||(Mr=t.createElement("desc",null,"Created with Sketch.")),Lr||(Lr=t.createElement("g",{id:"\\u673A\\u5668\\u7BA1\\u7406",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},t.createElement("g",{id:"7-\\u4E91\\u4E0A-\\u96C6\\u7FA4",transform:"translate(-262.000000, -266.000000)",fill:"#D9D9D9"},t.createElement("g",{id:"\\u8868\\u683C",transform:"translate(238.000000, 112.000000)"},t.createElement("g",{transform:"translate(24.000000, 154.000000)",id:"\\u7F16\\u7EC4-3"},t.createElement("g",null,t.createElement("g",{id:"\\u7F16\\u7EC4-4"},t.createElement("g",null,t.createElement("path",{d:"M1,54 L0,54 L0,0 L1,0 L1,27 L21,27 L21,28 L1,28 L1,54 Z",id:"\\u5F62\\u72B6\\u7ED3\\u5408"}))))))))))},ft=t.forwardRef(function(k,E){return t.createElement(ct,dr({svgRef:E},k))}),en=s.p+"static/tree.d51cabc6.svg",vt=s(48524),Vr=s.n(vt),Nr=s(526),we=s(39935),er=s(94649),rn=s(11407),$r=s(68077),tn=s(53374),ht=s(61674),pt=function(E,H){var y=(0,r.YB)(),l=y.formatMessage,F=E.onOk,n=(0,Re.UO)(),T=n.ws_id,$=(0,t.useState)(!1),X=(0,o.Z)($,2),b=X[0],C=X[1],R=(0,t.useState)(null),P=(0,o.Z)(R,2),Z=P[0],Y=P[1],q=(0,t.useState)([]),ue=(0,o.Z)(q,2),V=ue[0],ce=ue[1],L=(0,t.useState)([]),ye=(0,o.Z)(L,2),ae=ye[0],fe=ye[1],he=(0,t.useState)(!0),ee=(0,o.Z)(he,2),_=ee[0],Q=ee[1],je=(0,t.useState)("toneagent"),N=(0,o.Z)(je,2),se=N[0],A=N[1],ie=(0,t.useState)({type:void 0,message:null}),_e=(0,o.Z)(ie,2),Ie=_e[0],re=_e[1],Oe=function(){var pe=(0,K.Z)((0,d.Z)().mark(function xe(ge){var p,a,u,j;return(0,d.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return Q(!0),B.next=3,(0,r.WY)("/api/server/sync_vm/?server_id=".concat(ge));case 3:if(p=B.sent,a=p.code,u=p.msg,j=p.data,Q(!1),a===200){B.next=11;break}return(0,we.EV)(a,u),B.abrupt("return");case 11:fe(j),C(!0),Y(ge);case 14:case"end":return B.stop()}},xe)}));return function(ge){return pe.apply(this,arguments)}}();(0,t.useImperativeHandle)(H,function(){return{show:function(xe){Oe(xe)}}});var Te=(0,t.useCallback)(function(){C(!1),Q(!0),Y(null),ce([]),fe([]),re({type:void 0,message:null})},[]),I=[{dataIndex:"ip",title:"IP"},{dataIndex:"sn",title:"SN"},{dataIndex:"hostname",title:(0,e.jsx)(r._H,{id:"device.machine.name"})},{dataIndex:"idc",title:"IDC"},{dataIndex:"app_group",title:(0,e.jsx)(r._H,{id:"device.app_group"})}],h=(0,t.useCallback)(function(pe){ce(pe)},[]),O=function(){var pe=(0,K.Z)((0,d.Z)().mark(function xe(){var ge,p,a,u,j,c;return(0,d.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,oe.bD)({ips:V,ws_id:T,channel_type:se});case 2:if(ge=D.sent,p=ge.code,a=ge.msg,u=ge.data,p===200){D.next=9;break}return(0,we.EV)(p,a),D.abrupt("return",!1);case 9:if(j=u.success,c=u.errors,JSON.stringify(c)==="[]"){D.next=13;break}return re({type:"error",message:JSON.stringify(a)!=="[]"?a.reduce(function(De,le){return De+=le},""):""}),D.abrupt("return",!1);case 13:if(JSON.stringify(j)==="[]"){D.next=15;break}return D.abrupt("return",!0);case 15:return D.abrupt("return",!1);case 16:case"end":return D.stop()}},xe)}));return function(){return pe.apply(this,arguments)}}(),G=function(){var pe=(0,K.Z)((0,d.Z)().mark(function xe(){var ge,p,a,u;return(0,d.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(JSON.stringify(V)==="[]"){c.next=20;break}return re({type:void 0,message:null}),Q(!0),c.next=5,O();case 5:if(ge=c.sent,!ge){c.next=19;break}return c.next=9,(0,r.WY)("/api/server/sync_vm/",{method:"post",data:{server_id:Z,ips:V,ws_id:T}});case 9:if(p=c.sent,a=p.code,u=p.msg,a===200){c.next=16;break}return Q(!1),(0,we.EV)(a,u),c.abrupt("return");case 16:Te(),F(),be.default.success(l({id:"operation.success"}));case 19:Q(!1);case 20:case"end":return c.stop()}},xe)}));return function(){return pe.apply(this,arguments)}}(),ke=(0,t.useCallback)(function(pe){A(pe)},[]),J=(0,t.useMemo)(function(){return V.length!==0&&ae.length!==0&&!_},[V,ae,_]);return(0,e.jsx)(We.Z,{open:b,title:(0,e.jsx)(r._H,{id:"device.select.virtual.machine"}),width:800,onCancel:Te,footer:!1,children:(0,e.jsxs)(Ne.Z,{spinning:_,children:[Ie.message&&(0,e.jsx)(ht.Z,{style:{marginBottom:16},showIcon:!0,closable:!0,type:Ie.type,message:Ie.message}),(0,e.jsxs)(me.Z,{style:{marginBottom:16},children:[(0,e.jsxs)(de.Z.Text,{children:[(0,e.jsx)(r._H,{id:"device.channel_type"}),"\uFF1A"]}),(0,e.jsx)(lr.k,{value:se,onChange:ke,placeholder:l({id:"device.channel_type.message"})})]}),(0,e.jsx)($r.Z,{dataSource:ae,columns:I,rowKey:"ip",pagination:!1,size:"small",rowSelection:{selectedRowKeys:V,onChange:h},scroll:{y:200}}),(0,e.jsx)(z.Z,{justify:"end",style:{marginTop:16},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{type:"default",onClick:Te,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(ne.Z,{type:"primary",onClick:G,disabled:!J,children:(0,e.jsx)(r._H,{id:"operation.ok"})})]})})]})})},mt=(0,t.forwardRef)(pt),xt=s(22911),Ar=s(94376),Br=s(79390),xr=s(6130),Ur=s(77740),Zt=function(E,H){var y=(0,r.YB)(),l=y.formatMessage,F=(0,r.Kd)()==="en-US",n=(0,Re.UO)(),T=n.ws_id,$=(0,r.md)(),X=(0,t.useState)([]),b=(0,o.Z)(X,2),C=b[0],R=b[1],P=(0,t.useState)(!0),Z=(0,o.Z)(P,2),Y=Z[0],q=Z[1],ue=(0,t.useState)([]),V=(0,o.Z)(ue,2),ce=V[0],L=V[1],ye=(0,t.useState)(!1),ae=(0,o.Z)(ye,2),fe=ae[0],he=ae[1],ee=(0,t.useState)(0),_=(0,o.Z)(ee,2),Q=_[0],je=_[1],N=(0,t.useState)([]),se=(0,o.Z)(N,2),A=se[0],ie=se[1],_e=(0,t.useState)(!1),Ie=(0,o.Z)(_e,2),re=Ie[0],Oe=Ie[1],Te=(0,t.useState)({}),I=(0,o.Z)(Te,2),h=I[0],O=I[1],G=(0,t.useRef)(null),ke=(0,t.useRef)(null),J=t.useRef(null);(0,t.useImperativeHandle)(H,function(){return{open:ke.current.show}});var pe=(0,Nr.CR)(),xe=pe.height,ge=(0,t.useState)({ws_id:T,page_size:10,page_num:1}),p=(0,o.Z)(ge,2),a=p[0],u=p[1],j=(0,t.useRef)(),c=(0,t.useRef)(),B=[{id:"phy_server",name:l({id:"device.standalone.phy_server"})},{id:"vm",name:l({id:"device.standalone.vm"})}],D=[{value:"toneagent",label:"ToneAgent"}].map(function(m){return{id:m.value,name:m.label}}),De=function(){var m=(0,K.Z)((0,d.Z)().mark(function v(){var f,M,S;return(0,d.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return q(!0),g.next=3,(0,oe.Zu)(a);case 3:if(g.t0=g.sent,g.t0){g.next=6;break}g.t0={};case 6:f=g.t0,q(!1),M=f.data,S=M===void 0?[]:M,R(S),je(f.total),L(S.map(function(w){return w.id}));case 12:case"end":return g.stop()}},v)}));return function(){return m.apply(this,arguments)}}(),le=function(v){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;u((0,i.Z)((0,i.Z)({},a),{},{page_size:f,page_num:v}))},rr=(0,t.useCallback)(function(){var m=(0,K.Z)((0,d.Z)().mark(function v(f){var M;return(0,d.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return he(!0),U.next=3,(0,oe.EK)(f);case 3:M=U.sent,M.code===200?(be.default.success(l({id:"operation.success"})),Oe(!1)):(0,we.EV)(M.code,M.msg),he(!1);case 6:case"end":return U.stop()}},v)}));return function(v){return m.apply(this,arguments)}}(),[]),or=function(){var m=(0,K.Z)((0,d.Z)().mark(function v(f){var M,S,U,g,w;return(0,d.Z)().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return O(f),Ze.next=3,(0,oe.Z9)({server_id:f.id,run_mode:"standalone",server_provider:"aligroup"});case 3:M=Ze.sent,S=M.data,U=M.code,g=M.msg,U===200?S.length>0?Oe(!0):(w=J.current)===null||w===void 0||w.show(f,"(".concat(f.ip,")")):(0,we.EV)(U,g);case 8:case"end":return Ze.stop()}},v)}));return function(f){return m.apply(this,arguments)}}(),ze=function(v,f){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,S=Math.ceil(Number(v-1)/M);return f>S&&S>0?S:f},tr=function(){var m=(0,K.Z)((0,d.Z)().mark(function v(f){var M,S,U;return(0,d.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return M={ws_id:T},w.next=3,(0,oe.Ld)(f,M);case 3:S=w.sent,U=ze(Q,a.page_num,a.page_size),S.code===200?(be.default.success(l({id:"operation.success"})),ie(A.filter(function(te){return te!==f})),Oe(!1),u((0,i.Z)((0,i.Z)({},a),{},{page_num:U}))):(0,we.EV)(S.code,S.msg);case 6:case"end":return w.stop()}},v)}));return function(f){return m.apply(this,arguments)}}();(0,t.useEffect)(function(){De()},[a]);var Zr=function(){var m=(0,K.Z)((0,d.Z)().mark(function v(){var f;return(0,d.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,we.MR)({name:h.name,id:h.id});case 2:f=S.sent,f&&window.open("/ws/".concat(T,"/refenerce/4/?pk=").concat(f));case 4:case"end":return S.stop()}},v)}));return function(){return m.apply(this,arguments)}}(),ur=(0,t.useCallback)(function(m){ke.current.show(m)},[]),zt=function(){var m=(0,K.Z)((0,d.Z)().mark(function v(){var f;return(0,d.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return he(!0),S.next=3,(0,oe.lr)({pks:A});case 3:f=S.sent,he(!1),f.code===200?(De(),be.default.success(l({id:"synchronization.success"}))):be.default.warning(f.msg);case 6:case"end":return S.stop()}},v)}));return function(){return m.apply(this,arguments)}}(),jr=function(){var m=(0,K.Z)((0,d.Z)().mark(function v(f){var M,S,U;return(0,d.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,oe.vu)({server_id:f.id,server_provider:"aligroup"});case 2:M=w.sent,S=M.code,U=M.msg,S===200?(be.default.success(l({id:"device.synchronization.state.success"})),De()):(0,we.EV)(S,U);case 6:case"end":return w.stop()}},v)}));return function(f){return m.apply(this,arguments)}}(),gr=(0,t.useCallback)(function(m){ie(m)},[]),Qr=function(v,f){switch(v.key){case"data":return rr(f.id);case"vm":return j.current.show(f.id);default:return!1}},yr=(0,t.useCallback)(function(m){c.current.show(m)},[]),Sr=[{title:"IP",width:176,fixed:"left",dataIndex:"ip",className:Vr().ip_td,ellipsis:{showTitle:!1},render:function(v,f){return f.sub_server_list?(0,e.jsx)(er.Z,{val:v,provider:"aligroup"}):(0,e.jsxs)(z.Z,{justify:"start",align:"middle",children:[(0,e.jsx)(ft,{style:{marginRight:8,height:40}}),(0,e.jsx)(er.Z,{val:v,provider:"aligroup"})]})},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.ip?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(qe.Z,{confirm:f,onConfirm:function(S){return u((0,i.Z)((0,i.Z)({},a),{},{ip:S,page_num:1}))}})}},{title:"SN",dataIndex:"sn",width:130,ellipsis:{shwoTitle:!1},render:function(v){return(0,e.jsx)(er.Z,{val:v,provider:"aligroup"})},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.sn?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(qe.Z,{confirm:f,onConfirm:function(S){return u((0,i.Z)((0,i.Z)({},a),{},{sn:S,page_num:1}))}})}},{title:"TSN",dataIndex:"tsn",width:130,ellipsis:{shwoTitle:!1},render:function(v){return(0,e.jsx)(xr.K,{ellipsis:{tooltip:!0},children:v})}},!1,!1,!1,!1,!1,{title:(0,e.jsx)(r._H,{id:"device.channel_type"}),dataIndex:"channel_type",width:100,ellipsis:{showTitle:!1},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.channel_type?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(it.Z,{list:D,confirm:f,onConfirm:function(S){return u((0,i.Z)((0,i.Z)({},a),{},{channel_type:S,page_num:1}))}})}},!1,{title:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(r._H,{id:"device.usage.state"}),(0,e.jsx)(Pe.Z,{title:l({id:"device.usage.state.Tooltip"}),children:(0,e.jsx)(Hr.Z,{})})]}),dataIndex:"state",width:120+30,ellipsis:{showTitle:!1},render:function(v,f){return(0,Xe.Ul)(v,f,T)},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.state?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(Pr.Z,{confirm:f,onConfirm:function(S){return u((0,i.Z)((0,i.Z)({},a),{},{state:S,page_num:1}))},stateVal:a.state,dataArr:["Available","Occupied","Broken","Reserved","Unusable"]})}},{title:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(r._H,{id:"device.real_state"}),(0,e.jsx)(Pe.Z,{title:l({id:"device.real_state.Tooltip"}),children:(0,e.jsx)(Hr.Z,{})})]}),width:120+30,dataIndex:"real_state",ellipsis:{showTitle:!1},render:function(v,f){return(0,Xe.Ul)(v,f,T)},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.real_state?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(Pr.Z,{confirm:f,onConfirm:function(S){return u((0,i.Z)((0,i.Z)({},a),{},{real_state:S,page_num:1}))},stateVal:a.real_state,dataArr:["Online","Offline"]})}},{title:"Owner",width:100,dataIndex:"owner_name",ellipsis:{showTitle:!1},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.owner?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(xt.Z,{confirm:f,onConfirm:function(S){u((0,i.Z)((0,i.Z)({},a),{},{page_num:1,owner:S}))}})}},{title:(0,e.jsx)(r._H,{id:"device.description"}),dataIndex:"description",filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.description?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(qe.Z,{confirm:f,onConfirm:function(S){return u((0,i.Z)((0,i.Z)({},a),{},{description:S,page_num:1}))}})},width:160,ellipsis:{showTitle:!1},render:function(v){return(0,e.jsx)(lt.Z,{title:v})}},{title:(0,e.jsx)(r._H,{id:"device.tag"}),dataIndex:"tag_list",width:240,ellipsis:{showTitle:!1},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:a.tags&&a.tags.length>0?"#1890ff":void 0}})},filterDropdown:function(v){var f=v.confirm;return(0,e.jsx)(Tr.Z,{ws_id:T,run_mode:"standalone",confirm:f,onConfirm:function(S){u((0,i.Z)((0,i.Z)({},a),{},{page_num:1,tags:S}))}})},render:function(v){return(0,e.jsx)(Ar.Z,{list:v.map(function(f){return(0,e.jsx)(Je.Z,{color:f.tag_color,children:f.name},f.name)})})}},{title:(0,e.jsx)(r._H,{id:"Table.columns.operation"}),fixed:"right",width:F?320:260,key:"operation",ellipsis:{showTitle:!1},render:function(v,f){return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(de.Z.Link,{onClick:function(){return G.current.show(v.id)},children:(0,e.jsx)(r._H,{id:"operation.detail"})}),(0,e.jsx)(r.Nv,{accessible:$.WsMemberOperateSelf(f.owner),fallback:(0,e.jsxs)(me.Z,{onClick:function(){return(0,we.WR)()},children:[(0,e.jsx)(de.Z.Link,{children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(de.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(de.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.delete"})}),(0,e.jsx)(de.Z.Link,{onClick:f.sub_server_list&&f.device_type==="\u7269\u7406\u673A"?function(){return!1}:function(){return(0,we.WR)()},children:(0,e.jsx)(r._H,{id:"device.synchronization"})})]}),children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(de.Z.Link,{onClick:function(){return jr(v)},children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(de.Z.Link,{onClick:function(){return ur(v)},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(de.Z.Link,{onClick:function(){return or((0,i.Z)({},f))},children:(0,e.jsx)(r._H,{id:"operation.delete"})}),!1]})}),(0,e.jsx)(de.Z.Link,{onClick:function(){return yr(v.id)},children:(0,e.jsx)(r._H,{id:"operation.log"})})]})}}];return(0,e.jsxs)(Ne.Z,{spinning:fe,tip:l({id:"device.Synchronizing"}),children:[(0,e.jsx)(Br.sL,{loading:Y,rowKey:"id",columns:Sr,name:"ws-server-group-standalone-list",refreshDeps:[a,T,$,F],pagination:!1,size:"small",className:Vr().pro_table_card,dataSource:C,rowSelection:{selectedRowKeys:A,onChange:gr},expandable:{childrenColumnName:"sub_server_list",defaultExpandAllRows:!0,expandedRowKeys:ce,expandIcon:function(){return!1}},scroll:{x:"100%",y:xe-50-66-30-20}}),(0,e.jsx)(Fr.Z,{pageSize:a.page_size,currentPage:a.page_num,total:Q,onPageChange:le}),(0,e.jsx)(mr.Z,{ref:c,operation_object:"machine_test_server"}),Array.isArray(A)&&!!A.length?(0,e.jsxs)(z.Z,{justify:"space-between",style:{paddingRight:20,height:64,position:"absolute",left:0,bottom:-24,width:"100%",background:"#fff",paddingLeft:24,boxShadow:"0 -9px 28px 8px rgba(0,0,0,0.05), 0 -6px 16px 0 rgba(0,0,0,0.08), 0 -3px 6px -4px rgba(0,0,0,0.12)"},children:[(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ar.Z,{indeterminate:!0}),(0,e.jsx)(de.Z.Text,{children:l({id:"device.selected.item"},{data:A.length})}),(0,e.jsx)(ne.Z,{type:"link",onClick:function(){return ie([])},children:(0,e.jsx)(r._H,{id:"operation.cancel"})})]}),(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{onClick:function(){return ur({selectRowKeys:A,opreateType:"moreEdit"})},children:(0,e.jsx)(r._H,{id:"batch.edit"})}),!1]})]}):null,(0,e.jsx)(at,{onFinish:De,run_environment:"aligroup",run_mode:"standalone",ref:ke}),(0,e.jsx)(Dr,{ref:G}),(0,e.jsxs)(We.Z,{title:(0,e.jsx)(r._H,{id:"delete.tips"}),centered:!0,open:re,onCancel:function(){return Oe(!1)},footer:[(0,e.jsx)(ne.Z,{onClick:function(){return tr(h.id)},children:(0,e.jsx)(r._H,{id:"operation.confirm.delete"})},"submit"),(0,e.jsx)(ne.Z,{type:"primary",onClick:function(){return Oe(!1)},children:(0,e.jsx)(r._H,{id:"operation.cancel"})},"back")],width:600,maskClosable:!1,children:[(0,e.jsxs)("div",{style:{color:"red",marginBottom:5},children:[(0,e.jsx)(Ir.Z,{style:{marginRight:4}}),(0,e.jsx)(r._H,{id:"device.delete.tips"})]}),(0,e.jsx)("div",{style:{color:"#1890FF",cursor:"pointer"},onClick:Zr,children:(0,e.jsx)(r._H,{id:"view.quote.details"})})]}),(0,e.jsx)(Ur.Z,{ref:J,onOk:function(v){return tr(v.id)}}),(0,e.jsx)(mt,{ref:j,onOk:De})]})},jt=(0,t.memo)((0,t.forwardRef)(Zt)),gt=s(45969),zr=s.n(gt),yt=s(81343),nn=s(8281),St=s(58591),Ct=s(29197),_t=(0,t.memo)(function(k){var E=(0,t.useState)([]),H=(0,o.Z)(E,2),y=H[0],l=H[1],F=(0,t.useState)([]),n=(0,o.Z)(F,2),T=n[0],$=n[1],X=function(){var C=(0,K.Z)((0,d.Z)().mark(function R(){var P,Z,Y,q=arguments;return(0,d.Z)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return P=q.length>0&&q[0]!==void 0?q[0]:"",V.next=3,(0,Ct.tR)({keyword:P,scope:"aligroup"});case 3:Z=V.sent,Y=Z.data,l(Y);case 6:case"end":return V.stop()}},R)}));return function(){return C.apply(this,arguments)}}();(0,t.useEffect)(function(){X()},[]);var b=function(){var R;(R=k.confirm)===null||R===void 0||R.call(k),k.onOk(T)};return(0,e.jsxs)(z.Z,{style:{padding:8,width:170},children:[(0,e.jsx)("div",{style:{width:"100%"},children:(0,e.jsx)(He.Z,{style:{width:"100%"},onSearch:X,size:"small",mode:"multiple",value:T,onChange:function(R){return $(R)},children:y.map(function(C){return(0,e.jsx)(He.Z.Option,{value:C.id,children:C.last_name},C.id)})})}),(0,e.jsx)(St.Z,{style:{margin:"5px 0"}}),(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{size:"small",type:"link",style:{width:75},onClick:b,children:(0,e.jsx)(r._H,{id:"operation.search"})}),(0,e.jsx)(ne.Z,{size:"small",type:"link",style:{width:75},onClick:function(){return $([])},children:(0,e.jsx)(r._H,{id:"operation.reset"})})]})]})}),sn=null,wt=function(E,H){var y=(0,r.YB)(),l=y.formatMessage,F=(0,Re.UO)(),n=F.ws_id,T=E.onFinish,$=(0,t.useState)({list:[],isQuery:""}),X=(0,o.Z)($,2),b=X[0],C=X[1],R=(0,t.useState)(!1),P=(0,o.Z)(R,2),Z=P[0],Y=P[1],q=(0,t.useState)(!1),ue=(0,o.Z)(q,2),V=ue[0],ce=ue[1],L=(0,t.useState)(null),ye=(0,o.Z)(L,2),ae=ye[0],fe=ye[1],he=W.Z.useForm(),ee=(0,o.Z)(he,1),_=ee[0],Q=function(){_.resetFields(),ce(!1),fe(null)};(0,t.useImperativeHandle)(H,function(){return{show:function(se){if(ce(!0),se){fe(se);var A=se,ie=A.tag_list.map(function(_e){return _e.id});A.tags=ie,C((0,i.Z)((0,i.Z)({},b),{},{isQuery:"edit",list:ie})),_.setFieldsValue(A)}else C((0,i.Z)((0,i.Z)({},b),{},{isQuery:"add",list:[]}))}}});var je=function(){Y(!0),_.validateFields().then(function(){var se=(0,K.Z)((0,d.Z)().mark(function A(ie){var _e;return(0,d.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(ae){re.next=6;break}return re.next=3,(0,oe.iv)((0,i.Z)((0,i.Z)({},ie),{},{cluster_type:"aligroup",ws_id:n}));case 3:_e=re.sent,re.next=9;break;case 6:return re.next=8,(0,oe.Oq)(ae.id,(0,i.Z)((0,i.Z)({},ie),{},{ws_id:n}));case 8:_e=re.sent;case 9:_e.code===200?(be.default.success(l({id:"operation.success"})),T(),Q()):(0,we.EV)(_e.code,_e.msg),Y(!1);case 11:case"end":return re.stop()}},A)}));return function(A){return se.apply(this,arguments)}}()).catch(function(se){console.log(se),Y(!1)})};return(0,e.jsx)(Ye.Z,{maskClosable:!1,keyboard:!1,title:ae?(0,e.jsx)(r._H,{id:"device.cluster.edit"}):(0,e.jsx)(r._H,{id:"device.cluster.btn"}),forceRender:!0,open:V,onClose:Q,width:"376",destroyOnClose:!0,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{onClick:Q,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(ne.Z,{type:"primary",disabled:Z,onClick:je,children:ae?(0,e.jsx)(r._H,{id:"operation.update"}):(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(W.Z,{layout:"vertical",form:_,name:"createGroup",children:[(0,e.jsx)(W.Z.Item,{name:"name",label:(0,e.jsx)(r._H,{id:"device.cluster.name.s"}),rules:[{message:l({id:"device.cluster.name.s.message"}),required:!0}],children:(0,e.jsx)(Fe.Z,{autoComplete:"off",placeholder:l({id:"please.enter"})})}),V&&(0,e.jsx)(hr.Z,{}),(0,e.jsx)(Er.Z,(0,i.Z)({},b)),(0,e.jsx)(W.Z.Item,{name:"description",label:(0,e.jsx)(r._H,{id:"device.description"}),children:(0,e.jsx)(Fe.Z.TextArea,{placeholder:l({id:"device.description.placeholder"})})})]})})},kt=(0,t.forwardRef)(wt),an=s(88966),Me=s(11048),ln=s(47721),bt=s(47152),Ht=s(25034),Kr=s.n(Ht),It=function(E,H){var y=(0,r.YB)(),l=y.formatMessage,F=E.onFinish,n=(0,Re.UO)(),T=n.ws_id,$=W.Z.useForm(),X=(0,o.Z)($,1),b=X[0],C=(0,t.useState)([]),R=(0,o.Z)(C,2),P=R[0],Z=R[1],Y=(0,t.useState)({success:[],errors:[]}),q=(0,o.Z)(Y,2),ue=q[0],V=q[1],ce=(0,t.useState)(""),L=(0,o.Z)(ce,2),ye=L[0],ae=L[1],fe=(0,t.useState)(!0),he=(0,o.Z)(fe,2),ee=he[0],_=he[1],Q=(0,t.useState)(!1),je=(0,o.Z)(Q,2),N=je[0],se=je[1],A=(0,t.useState)(!1),ie=(0,o.Z)(A,2),_e=ie[0],Ie=ie[1],re={ws_id:T,page_num:1,page_size:500},Oe=(0,t.useState)(null),Te=(0,o.Z)(Oe,2),I=Te[0],h=Te[1],O=function(){var u=(0,K.Z)((0,d.Z)().mark(function j(c){return(0,d.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,oe.Zu)(c);case 2:return D.abrupt("return",D.sent);case 3:case"end":return D.stop()}},j)}));return function(c){return u.apply(this,arguments)}}();(0,t.useImperativeHandle)(H,function(){return{show:function(j){Ie(!0),_(!0),O(re).then(function(c){if(c.code===200){var B=[];!!c.data.length&&c.data.map(function(D){B.push({value:D.ip}),D.sub_server_list.length&&D.sub_server_list.map(function(De){return B.push({value:De.ip})})}),Z(B)}else(0,we.EV)(c.code,c.msg);_(!1)}),j&&h(j)}}});var G=function(j){var c=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,B=c.test(j);B&&O((0,i.Z)((0,i.Z)({},re),{},{ip:j})).then(function(D){if(D.code===200&&!!D.data.length){var De=D.data[0];De.in_pool?(V({success:[],errors:[]}),b.setFieldsValue({channel_type:De.channel_type}),b.setFieldsValue({state:De.state}),se(!0)):se(!1)}else se(!1)})},ke=function(j){G(j)},J=function(j){G(j)},pe=function(){b.resetFields(),se(!1),Ie(!1),h(null)},xe=function(){b.validateFields().then(function(){var j=(0,K.Z)((0,d.Z)().mark(function c(B){var D;return(0,d.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,oe.O3)((0,i.Z)((0,i.Z)({},B),{},{ws_id:T,cluster_id:I.id,cluster_type:"aligroup"}));case 2:D=le.sent,D.code===200?(F(I.id),be.default.success(l({id:"operation.success"})),pe()):(0,we.EV)(D.code,D.msg);case 4:case"end":return le.stop()}},c)}));return function(c){return j.apply(this,arguments)}}()).catch(function(j){console.log(j)})},ge=function(j){var c=j.data;return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)("span",{children:c.msg[0]}),(0,e.jsx)(Pe.Z,{title:c.msg[1],children:(0,e.jsx)("span",{style:{color:"#1890ff"},children:(0,e.jsx)(r._H,{id:"device.detail.info"})})})]})},p=function(){var u=(0,K.Z)((0,d.Z)().mark(function j(){var c,B,D;return(0,d.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(!ee){le.next=2;break}return le.abrupt("return");case 2:if(_(!0),c=b.getFieldValue("ip"),B=b.getFieldValue("channel_type"),!(B&&c&&c.length>0)){le.next=19;break}return le.prev=6,le.next=9,(0,oe.bD)({ips:[c],channel_type:B,ws_id:T});case 9:if(le.t0=le.sent,le.t0){le.next=12;break}le.t0={};case 12:D=le.t0,D.code===200&&(V((0,i.Z)({},D.data)),ae((0,e.jsx)(ge,{data:D}))),le.next=19;break;case 16:le.prev=16,le.t1=le.catch(6),_(!1);case 19:_(!1);case 20:case"end":return le.stop()}},j,null,[[6,16]])}));return function(){return u.apply(this,arguments)}}(),a=function(){b.getFieldValue("channel_type")};return(0,e.jsx)(Ye.Z,{maskClosable:!1,keyboard:!1,title:(0,e.jsx)(r._H,{id:"device.add.btn"}),forceRender:!0,open:_e,width:"376",onClose:pe,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{onClick:pe,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(ne.Z,{type:"primary",onClick:xe,children:(0,e.jsx)(r._H,{id:"operation.ok"})})]})}),children:(0,e.jsx)(Ne.Z,{spinning:ee,children:(0,e.jsxs)(W.Z,{layout:"vertical",form:b,className:Kr().add_server_form,children:[N&&(0,e.jsx)(z.Z,{style:{marginBottom:10},children:(0,e.jsxs)(x.Z,{children:[(0,e.jsx)("span",{style:{color:"red",marginRight:10},children:"*"}),(0,e.jsx)(r._H,{id:"device.poolFlag"})]})}),(0,e.jsx)(W.Z.Item,{name:"ip",label:(0,e.jsx)(r._H,{id:"device.machine"}),validateStatus:ue.errors.length>0?"error":"",help:ue.errors.length>0?ye:void 0,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6216\u9009\u62E9IP".concat("")}],children:(0,e.jsx)(bt.Z,{options:P,style:{width:"100%"},onSelect:ke,onSearch:J,onBlur:function(){return a()},placeholder:l({id:"device.machine.select.message"})})}),(0,e.jsx)(W.Z.Item,{name:"channel_type",initialValue:"toneagent",label:(0,e.jsx)(r._H,{id:"device.channel_type"}),rules:[{required:!0,message:l({id:"device.channel_type.message"})}],children:(0,e.jsx)(lr.k,{disabled:"opensource"})}),(0,e.jsx)(W.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.usage.state"}),name:"state",rules:[{required:!0,message:l({id:"device.usage.state.message"})}],initialValue:"Available",children:(0,e.jsxs)(He.Z,{placeholder:(0,e.jsx)(r._H,{id:"device.usage.state.message"}),disabled:N,children:[(0,e.jsx)(He.Z.Option,{value:"Available",children:(0,e.jsx)($e.Z,{status:"success",text:"Available"})}),(0,e.jsx)(He.Z.Option,{value:"Reserved",children:(0,e.jsx)($e.Z,{status:"success",text:"Reserved"})}),(0,e.jsx)(He.Z.Option,{value:"Unusable",children:(0,e.jsx)($e.Z,{status:"default",text:"Unusable"})})]})}),(0,e.jsx)(W.Z.Item,{name:"private_ip",label:(0,e.jsx)(r._H,{id:"device.private_ip"}),children:(0,e.jsx)(Fe.Z,{autoComplete:"off",placeholder:l({id:"device.private_ip.placeholder"})})}),(0,e.jsx)(W.Z.Item,{name:"role",label:(0,e.jsx)(r._H,{id:"device.role"}),rules:[{required:!0,message:l({id:"placeholder.enter.device.role"})}],children:(0,e.jsxs)(He.Z,{getPopupContainer:function(j){return j.parentNode},placeholder:(0,e.jsx)(r._H,{id:"device.role.placeholder"}),children:[(0,e.jsx)(He.Z.Option,{value:"local",children:"local"}),(0,e.jsx)(He.Z.Option,{value:"remote",children:"remote"})]})}),(0,e.jsx)(hr.Z,{}),(0,e.jsx)(W.Z.Item,{name:"baseline_server",label:(0,e.jsx)(r._H,{id:"device.baseline_server"}),initialValue:!1,children:(0,e.jsxs)(Me.ZP.Group,{children:[(0,e.jsx)(Me.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Me.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(W.Z.Item,{name:"kernel_install",label:(0,e.jsx)(r._H,{id:"device.kernel_install"}),initialValue:!1,children:(0,e.jsxs)(Me.ZP.Group,{children:[(0,e.jsx)(Me.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Me.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(W.Z.Item,{name:"var_name",label:(0,e.jsx)(r._H,{id:"device.var_name"}),rules:[{required:!0,message:l({id:"placeholder.enter.device.var_name"})}],children:(0,e.jsx)(Fe.Z,{autoComplete:"off",placeholder:l({id:"please.enter"})})})]})})})},Ot=(0,t.forwardRef)(It),dn=s(20632),Dt=s(71853),Rt=s(488),Wr=s(5888),Gr=s(38755),Et=function(E,H){var y=(0,r.YB)(),l=y.formatMessage,F=E.handleOk,n=(0,Re.UO)(),T=n.ws_id,$=W.Z.useForm(),X=(0,o.Z)($,1),b=X[0],C=(0,t.useState)(!1),R=(0,o.Z)(C,2),P=R[0],Z=R[1],Y=(0,t.useState)(null),q=(0,o.Z)(Y,2),ue=q[0],V=q[1],ce=(0,t.useState)(!1),L=(0,o.Z)(ce,2),ye=L[0],ae=L[1];(0,t.useImperativeHandle)(H,function(){return{show:function(_){if(ae(!0),_){V(_);var Q=_.test_server,je=Q.ip,N=Q.private_ip;b.setFieldsValue((0,i.Z)((0,i.Z)({},_),{},{ip:je,private_ip:N}))}}}});var fe=function(){ae(!1),V(null),b.resetFields()},he=function(){Z(!0),b.validateFields().then(function(){var _=(0,K.Z)((0,d.Z)().mark(function Q(je){var N;return(0,d.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,oe.AW)(ue.id,(0,i.Z)((0,i.Z)({},je),{},{ws_id:T}));case 2:N=A.sent,N.code===200?(F(),fe()):(0,we.EV)(N.code,N.msg),Z(!1);case 5:case"end":return A.stop()}},Q)}));return function(Q){return _.apply(this,arguments)}}()).catch(function(){Z(!1)})};return(0,e.jsx)(Ye.Z,{maskClosable:!1,keyboard:!1,title:(0,e.jsx)(r._H,{id:"device.device.edit"}),forceRender:!0,open:ye,width:"376",destroyOnClose:!0,onClose:fe,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{onClick:fe,children:(0,e.jsx)(r._H,{id:"operation.cancel"})}),(0,e.jsx)(ne.Z,{type:"primary",disabled:P,onClick:he,children:(0,e.jsx)(r._H,{id:"operation.update"})})]})}),children:(0,e.jsxs)(W.Z,{layout:"vertical",form:b,children:[(0,e.jsx)(W.Z.Item,{name:"ip",label:(0,e.jsx)(r._H,{id:"device.machine"}),children:(0,e.jsx)(Fe.Z,{disabled:!0})}),(0,e.jsx)(W.Z.Item,{name:"private_ip",label:(0,e.jsx)(r._H,{id:"device.private_ip.ip"}),children:(0,e.jsx)(Fe.Z,{autoComplete:"off",placeholder:l({id:"device.private_ip.ip.placeholder"})})}),(0,e.jsx)(W.Z.Item,{name:"channel_type",initialValue:"toneagent",label:(0,e.jsx)(r._H,{id:"device.channel_type"}),rules:[{required:!0,message:l({id:"device.channel_type.message"})}],children:(0,e.jsx)(lr.k,{disabled:"opensource"})}),(0,e.jsx)(W.Z.Item,{label:(0,e.jsx)(r._H,{id:"device.usage.state"}),name:"state",hasFeedback:!0,rules:[{required:!0,message:l({id:"device.usage.state.message"})}],initialValue:"Available",children:(0,e.jsxs)(He.Z,{placeholder:l({id:"device.usage.state.message"}),children:[(0,e.jsx)(He.Z.Option,{value:"Available",children:(0,e.jsx)($e.Z,{status:"success",text:"Available"})}),(0,e.jsx)(He.Z.Option,{value:"Reserved",children:(0,e.jsx)($e.Z,{status:"success",text:"Reserved"})}),(0,e.jsx)(He.Z.Option,{value:"Unusable",children:(0,e.jsx)($e.Z,{status:"default",text:"Unusable"})})]})}),(0,e.jsx)(W.Z.Item,{name:"baseline_server",label:(0,e.jsx)(r._H,{id:"device.baseline_server"}),children:(0,e.jsxs)(Me.ZP.Group,{children:[(0,e.jsx)(Me.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Me.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(W.Z.Item,{name:"kernel_install",label:(0,e.jsx)(r._H,{id:"device.kernel_install"}),children:(0,e.jsxs)(Me.ZP.Group,{children:[(0,e.jsx)(Me.ZP,{value:!0,children:(0,e.jsx)(r._H,{id:"operation.yes"})}),(0,e.jsx)(Me.ZP,{value:!1,children:(0,e.jsx)(r._H,{id:"operation.no"})})]})}),(0,e.jsx)(W.Z.Item,{name:"var_name",label:(0,e.jsx)(r._H,{id:"device.var_name"}),rules:[{required:!0,message:l({id:"placeholder.enter.device.var_name"})}],children:(0,e.jsx)(Fe.Z,{autoComplete:"off",placeholder:l({id:"please.enter"})})})]})})},Tt=(0,t.forwardRef)(Et),Ft=s(2368),Yr=s.n(Ft),Pt=["test_server"],Mt=function(k){var E=(0,r.YB)(),H=E.formatMessage,y=(0,r.Kd)()==="en-US",l=(0,Re.UO)(),F=l.ws_id,n=(0,r.md)(),T=(0,t.useState)(!0),$=(0,o.Z)(T,2),X=$[0],b=$[1],C=(0,t.useState)([]),R=(0,o.Z)(C,2),P=R[0],Z=R[1],Y=(0,t.useState)(),q=(0,o.Z)(Y,2),ue=q[0],V=q[1],ce=(0,t.useState)({first:46.6,next:49}),L=(0,o.Z)(ce,2),ye=L[0],ae=L[1],fe="url(".concat(Yr(),") no-repeat center center / 100% 100%"),he="url(".concat(Yr(),") no-repeat center center / 98% 100%"),ee=(0,t.useRef)(),_=(0,t.useRef)(),Q=(0,t.useRef)(),je=(0,t.useCallback)(function(I){Q.current.show(I)},[]),N=function(){var I=(0,K.Z)((0,d.Z)().mark(function h(){var O,G;return(0,d.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return b(!0),J.next=3,(0,oe.Y_)(k.id);case 3:O=J.sent,G=O.data,Z(G),b(!1);case 7:case"end":return J.stop()}},h)}));return function(){return I.apply(this,arguments)}}(),se=function(){var I=(0,K.Z)((0,d.Z)().mark(function h(O){var G,ke,J;return(0,d.Z)().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,(0,oe.vu)({server_id:O.server_id,server_provider:"aligroup"});case 2:G=xe.sent,ke=G.code,J=G.msg,ke===200?(be.default.success(H({id:"device.synchronization.state.success"})),V(new Date().getTime())):(0,we.EV)(ke,J);case 6:case"end":return xe.stop()}},h)}));return function(O){return I.apply(this,arguments)}}(),A=(0,t.useCallback)(function(I){ee.current.show(I)},[]),ie=function(h){h.code===200?(V(new Date().getTime()),be.default.success(H({id:"operation.success"}))):(0,we.EV)(h.code,h.msg)},_e=(0,t.useCallback)(function(){var I=(0,K.Z)((0,d.Z)().mark(function h(O){var G;return(0,d.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return k.onSyncServer(!0),J.next=3,(0,oe.EK)(O);case 3:G=J.sent,ie(G),k.onSyncServer(!1);case 6:case"end":return J.stop()}},h)}));return function(h){return I.apply(this,arguments)}}(),[]),Ie=function(){var I=(0,K.Z)((0,d.Z)().mark(function h(O){var G;return(0,d.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,oe.Du)(O,{ws_id:F});case 2:G=J.sent,ie(G);case 4:case"end":return J.stop()}},h)}));return function(O){return I.apply(this,arguments)}}(),re=(0,t.useCallback)((0,K.Z)((0,d.Z)().mark(function I(){return(0,d.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:N();case 1:case"end":return O.stop()}},I)})),[]);(0,t.useEffect)(function(){k.size==="middle"?ae({first:46.6,next:49}):k.size==="small"?ae({first:39,next:41}):k.size==="large"&&ae({first:54.6,next:57})},[k.size]);var Oe=function(){var I=(0,K.Z)((0,d.Z)().mark(function h(O,G){var ke,J,pe,xe,ge;return(0,d.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return ke=O.test_server,J=(0,Rt.Z)(O,Pt),pe=(0,i.Z)((0,i.Z)({},J),ke),xe=G==="role"?(0,i.Z)((0,i.Z)({},pe),{},{role:"local"}):(0,i.Z)((0,i.Z)({},pe),{},{baseline_server:1}),a.next=5,(0,oe.AW)(O.id,xe);case 5:ge=a.sent,ge.code===200?(be.default.success(H({id:"operation.success"})),N()):(0,we.EV)(ge.code,ge.msg);case 7:case"end":return a.stop()}},h)}));return function(O,G){return I.apply(this,arguments)}}(),Te=[{title:"IP",width:170,fixed:"left",key:"ip",render:function(h){return(0,e.jsx)(er.Z,{provider:"aligroup",val:h.test_server.ip})}},{title:"SN",width:150,ellipsis:{showTitle:!1},key:"sn",render:function(h){return(0,e.jsx)(er.Z,{provider:"aligroup",val:h.test_server.sn})}},{title:"TSN",width:150,ellipsis:{showTitle:!1},key:"tsn",render:function(h){return(0,e.jsx)(xr.K,{ellipsis:{tooltip:!0},children:h.test_server.tsn})}},!1,{title:(0,e.jsx)(r._H,{id:"device.private_ip.s"}),width:160,key:"private_ip",render:function(h){return h.test_server.private_ip||"-"}},!1,{title:(0,e.jsx)(r._H,{id:"device.channel_type"}),width:100,key:"channel_type",render:function(h,O){return O.test_server.channel_type||"-"}},{title:(0,e.jsx)(r._H,{id:"device.local.server"}),dataIndex:"role",width:120,align:"center",render:function(h,O){return O.role==="local"?(0,e.jsx)(Wr.Z,{style:{width:17.5,height:17.5,color:"#1890ff"}}):(0,e.jsx)(Gr.Z,{onClick:function(){return Oe(O,"role")},style:{cursor:"pointer",width:17.5,height:17.5,color:"rgba(0,0,0,.1)"}})}},{title:(0,e.jsx)(r._H,{id:"device.baseline_server"}),dataIndex:"baseline_server",width:y?150:120,align:"center",render:function(h,O){return h?(0,e.jsx)(Wr.Z,{style:{width:17.5,height:17.5,color:"#1890ff"}}):(0,e.jsx)(Gr.Z,{onClick:function(){return Oe(O,"baseline_server")},style:{cursor:"pointer",width:17.5,height:17.5,color:"rgba(0,0,0,.1)"}})}},{title:(0,e.jsx)(r._H,{id:"device.kernel_install"}),dataIndex:"kernel_install",width:130,render:function(h){return h?(0,e.jsx)(r._H,{id:"operation.yes"}):(0,e.jsx)(r._H,{id:"operation.no"})}},{title:(0,e.jsx)(r._H,{id:"device.var_name"}),dataIndex:"var_name",width:y?160:120,render:function(h){return h||"-"}},{title:(0,e.jsx)(r._H,{id:"device.usage.state"}),width:120,key:"state",render:function(h){return(0,Xe.Ul)(h.test_server.state,h.test_server,F)}},{title:(0,e.jsx)(r._H,{id:"device.real_state"}),width:160,key:"real_state",render:function(h){return(0,Xe.Ul)(h.test_server.real_state,h.test_server,F)}},{title:(0,e.jsx)(r._H,{id:"Table.columns.operation"}),fixed:"right",width:y?260:230,align:"center",key:"operation",render:function(h,O){return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(de.Z.Link,{onClick:function(){return _.current.show(h.test_server.id)},children:(0,e.jsx)(r._H,{id:"operation.detail"})}),(0,e.jsx)(r.Nv,{accessible:n.WsMemberOperateSelf(O.test_server.owner),fallback:(0,e.jsxs)(me.Z,{onClick:function(){return(0,we.WR)()},children:[(0,e.jsx)(de.Z.Link,{children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(de.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(de.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.delete"})}),!1]}),children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(de.Z.Link,{onClick:function(){return se(h)},children:(0,e.jsx)(r._H,{id:"device.synchronization.state"})}),(0,e.jsx)(de.Z.Link,{onClick:function(){return je(h)},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(Dt.Z,{title:H({id:"delete.prompt"},{data:O.test_server.ip}),okText:(0,e.jsx)(r._H,{id:"operation.ok"}),cancelText:(0,e.jsx)(r._H,{id:"operation.cancel"}),onConfirm:function(){return Ie(h.id)},overlayInnerStyle:{minWidth:245},children:(0,e.jsx)(de.Z.Link,{children:(0,e.jsx)(r._H,{id:"operation.delete"})})}),!1]})}),(0,e.jsx)(de.Z.Link,{onClick:function(){return A(h.id)},children:(0,e.jsx)(r._H,{id:"operation.log"})})]})}}];return(0,t.useEffect)(function(){N()},[ue]),(0,t.useEffect)(function(){k.refreshChild===k.id&&(N(),setTimeout(function(){return k.resetRefresh(null)},300))},[k.refreshChild]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{width:"100%",display:"flex"},children:[(0,e.jsxs)("div",{style:{width:47,background:"#fff"},children:[(0,e.jsx)("div",{style:{height:ye.first,background:he}}),P.length>0&&P.map(function(I,h){return(0,e.jsx)("div",{style:{height:ye.next,background:fe}},h)})]}),(0,e.jsx)("div",{style:{width:"calc(100% - 47px)"},children:(0,e.jsx)(Br.sL,{rowKey:"id",columns:Te,name:"ws-server-group-cluster-child",refreshDeps:[n,F,y],loading:X,dataSource:P,size:"small",pagination:!1,rowClassName:function(){return Kr().row_class}})})]}),(0,e.jsx)(mr.Z,{ref:ee,operation_object:"machine_cluster_aligroup_server"}),(0,e.jsx)(Dr,{ref:_}),(0,e.jsx)(Tt,{handleOk:re,ref:Q})]})},Lt=function(E){var H=(0,t.useState)(!0),y=(0,o.Z)(H,2),l=y[0],F=y[1],n=(0,t.useState)({ws_id:E,page_num:1,page_size:10,cluster_type:"aligroup"}),T=(0,o.Z)(n,2),$=T[0],X=T[1],b=(0,t.useState)(),C=(0,o.Z)(b,2),R=C[0],P=C[1],Z=(0,t.useState)(0),Y=(0,o.Z)(Z,2),q=Y[0],ue=Y[1],V=(0,t.useState)([]),ce=(0,o.Z)(V,2),L=ce[0],ye=ce[1],ae=function(){var fe=(0,K.Z)((0,d.Z)().mark(function he(){var ee,_,Q;return(0,d.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return F(!0),N.next=3,(0,oe.wV)($);case 3:ee=N.sent,_=ee.data,Q=ee.total,ye(_),ue(Q),F(!1);case 9:case"end":return N.stop()}},he)}));return function(){return fe.apply(this,arguments)}}();return(0,t.useEffect)(function(){ae()},[$,R]),{loading:l,params:$,total:q,dataSource:L,refresh:R,setRefresh:P,setParams:X,setTotal:ue}},Vt=s(91959),Nt=function(E,H){var y=(0,r.YB)(),l=y.formatMessage,F=(0,Re.UO)(),n=F.ws_id,T=(0,r.md)(),$=Lt(n),X=$.loading,b=$.dataSource,C=$.params,R=$.total,P=$.setParams,Z=$.setRefresh,Y=(0,t.useState)(!1),q=(0,o.Z)(Y,2),ue=q[0],V=q[1],ce=(0,t.useState)(null),L=(0,o.Z)(ce,2),ye=L[0],ae=L[1],fe=(0,t.useState)(!1),he=(0,o.Z)(fe,2),ee=he[0],_=he[1],Q=(0,t.useState)({}),je=(0,o.Z)(Q,2),N=je[0],se=je[1],A=(0,t.useRef)(),ie=(0,t.useRef)(null),_e=(0,t.useRef)(null),Ie=(0,t.useRef)(null);(0,t.useImperativeHandle)(H,function(){return{open:ie.current.show}});var re=(0,Nr.CR)(),Oe=re.height,Te=function(){var p=(0,K.Z)((0,d.Z)().mark(function a(u){var j;return(0,d.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return se(u),B.next=3,(0,oe.Z9)({server_id:u.id,run_mode:"cluster",server_provider:"aligroup"});case 3:j=B.sent,j.data.length>0?_(!0):Ie.current.show(u,"(".concat(u.name,")"));case 5:case"end":return B.stop()}},a)}));return function(u){return p.apply(this,arguments)}}(),I=function(a){a.code===200?(Z(new Date().getTime()),be.default.success(l({id:"operation.success"})),_(!1)):(0,we.EV)(a.code,a.msg)},h=function(a){_e.current.show(a)},O=(0,t.useCallback)(function(p){ie.current.show(p)},[]),G=function(){var p=(0,K.Z)((0,d.Z)().mark(function a(u){var j;return(0,d.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,oe.Rq)(u);case 2:j=B.sent,I(j);case 4:case"end":return B.stop()}},a)}));return function(u){return p.apply(this,arguments)}}(),ke=function(){var p=(0,K.Z)((0,d.Z)().mark(function a(){var u;return(0,d.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,we.MR)({name:N.name,id:N.id});case 2:u=c.sent,u&&window.open("/ws/".concat(n,"/refenerce/5/?pk=").concat(u));case 4:case"end":return c.stop()}},a)}));return function(){return p.apply(this,arguments)}}(),J=function(a){ae(a)},pe=(0,t.useCallback)(function(p){A.current.show(p)},[]),xe=(0,t.useCallback)(function(p){V(p)},[]),ge=[{title:(0,e.jsx)(r._H,{id:"device.cluster.name"}),dataIndex:"name",render:function(a){return(0,e.jsx)(de.Z.Text,{ellipsis:{tooltip:!0},children:a})},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:C.name?"#1890ff":void 0}})},filterDropdown:function(a){var u=a.confirm;return(0,e.jsx)(qe.Z,{confirm:u,onConfirm:function(c){return P((0,i.Z)((0,i.Z)({},C),{},{page_num:1,name:c}))}})}},{title:"Owner",width:150,dataIndex:"owner_name",filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:C.owner?"#1890ff":void 0}})},filterDropdown:function(a){var u=a.confirm;return(0,e.jsx)(_t,{confirm:u,onOk:function(c){return P((0,i.Z)((0,i.Z)({},C),{},{page_num:1,owner:c}))}})}},{title:(0,e.jsx)(r._H,{id:"device.tag"}),dataIndex:"tag_list",width:240,render:function(a){return(0,e.jsx)(Ar.Z,{list:a.map(function(u){return(0,e.jsx)(Je.Z,{color:u.tag_color,children:u.name},(0,Vt.Z)())})})},filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:C.tags?"#1890ff":void 0}})},filterDropdown:function(a){var u=a.confirm;return(0,e.jsx)(Tr.Z,{ws_id:n,confirm:u,onConfirm:function(c){P((0,i.Z)((0,i.Z)({},C),{},{page_num:1,tags:c}))}})}},{title:(0,e.jsx)(r._H,{id:"device.description"}),width:300,dataIndex:"description",filterIcon:function(){return(0,e.jsx)(Ee.Z,{style:{color:C.description?"#1890ff":void 0}})},filterDropdown:function(a){var u=a.confirm;return(0,e.jsx)(qe.Z,{confirm:u,onConfirm:function(c){return P((0,i.Z)((0,i.Z)({},C),{},{page_num:1,description:c}))}})},render:function(a){return(0,e.jsx)(xr.K,{ellipsis:{tooltip:!0},children:a})}},{title:(0,e.jsx)(r._H,{id:"Table.columns.operation"}),width:190,render:function(a,u){return(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{type:"link",style:{padding:0},onClick:function(){return h(a)},children:(0,e.jsx)(r._H,{id:"operation.add"})}),(0,e.jsx)(r.Nv,{accessible:T.WsMemberOperateSelf(u.owner),fallback:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{type:"link",style:{padding:0},onClick:function(){return(0,we.WR)()},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(ne.Z,{type:"link",style:{padding:0},onClick:function(){return(0,we.WR)()},children:(0,e.jsx)(r._H,{id:"operation.delete"})})]}),children:(0,e.jsxs)(me.Z,{children:[(0,e.jsx)(ne.Z,{type:"link",style:{padding:0},onClick:function(){return O(a)},children:(0,e.jsx)(r._H,{id:"operation.edit"})}),(0,e.jsx)(ne.Z,{type:"link",style:{padding:0},onClick:function(){return Te((0,i.Z)({},u))},children:(0,e.jsx)(r._H,{id:"operation.delete"})})]})}),(0,e.jsx)(ne.Z,{type:"link",style:{padding:0},onClick:function(){return pe(a.id)},children:(0,e.jsx)(r._H,{id:"operation.log"})})]})}}];return(0,e.jsxs)(Be.Z.Content,{className:zr().table,children:[(0,e.jsxs)(Ne.Z,{spinning:ue,tip:l({id:"device.Synchronizing"}),children:[(0,e.jsx)($r.Z,{style:{width:"100%"},loading:X,rowKey:"id",columns:ge,dataSource:b,pagination:!1,scroll:{y:Oe-50-66-30-20},size:"small",className:zr().pro_table_card,expandable:{expandedRowRender:function(a){return(0,e.jsx)(Mt,(0,i.Z)((0,i.Z)({refreshChild:ye},a),{},{resetRefresh:ae,size:"small",onSyncServer:xe}),a.id)},expandIcon:function(a){var u=a.expanded,j=a.onExpand,c=a.record;return(0,e.jsx)(yt.Z,{rotate:u?90:0,style:{cursor:"pointer"},onClick:function(D){return j(c,D)}})}}}),(0,e.jsx)(Fr.Z,{pageSize:C.page_size,currentPage:C.page_num,total:R,onPageChange:function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;P((0,i.Z)((0,i.Z)({},C),{},{page_num:a,page_size:u}))}})]}),(0,e.jsx)(mr.Z,{ref:A,operation_object:"machine_cluster_aligroup"}),(0,e.jsx)(kt,{run_environment:"aligroup",run_mode:"cluster",ref:ie,onFinish:function(){Z(new Date().getTime())}}),(0,e.jsx)(Ot,{onFinish:J,run_environment:"aligroup",run_mode:"cluster",ref:_e}),(0,e.jsxs)(We.Z,{title:(0,e.jsx)(r._H,{id:"delete.tips"}),centered:!0,open:ee,onCancel:function(){return _(!1)},footer:[(0,e.jsx)(ne.Z,{onClick:function(){return G(N.id)},children:(0,e.jsx)(r._H,{id:"operation.confirm.delete"})},"submit"),(0,e.jsx)(ne.Z,{type:"primary",onClick:function(){return _(!1)},children:(0,e.jsx)(r._H,{id:"operation.cancel"})},"back")],width:600,maskClosable:!1,children:[(0,e.jsxs)("div",{style:{color:"red",marginBottom:5},children:[(0,e.jsx)(Ir.Z,{style:{marginRight:4}}),(0,e.jsx)(r._H,{id:"device.cluster.delete.tips"})]}),(0,e.jsx)("div",{style:{color:"#1890FF",cursor:"pointer"},onClick:ke,children:(0,e.jsx)(r._H,{id:"view.quote.details"})})]}),(0,e.jsx)(Ur.Z,{ref:Ie,onOk:function(a){var u=a.id;return G(u)}})]})},$t=(0,t.forwardRef)(Nt),At=s(75073),Bt=function(E){var H=(0,Re.TH)(),y=H.pathname,l=H.query.t,F=(0,t.useState)(l!=null?l:"standalone"),n=(0,o.Z)(F,2),T=n[0],$=n[1],X=(0,t.useCallback)(function(Z){$(Z),r.m8.replace("".concat(y,"?t=").concat(Z))},[y]),b=(0,t.useRef)(null),C=(0,t.useRef)(),R=(0,t.useCallback)(function(){b.current.open()},[]),P=(0,t.useCallback)(function(){C.current.open()},[]);return(0,e.jsx)(At.mQ,{title:(0,e.jsxs)(Ke.Z,{defaultActiveKey:"standalone",activeKey:T,onTabClick:X,children:[(0,e.jsx)(Ke.Z.TabPane,{tab:(0,e.jsx)(r._H,{id:"standalone"})},"standalone"),(0,e.jsx)(Ke.Z.TabPane,{tab:(0,e.jsx)(r._H,{id:"cluster"})},"cluster")]}),extra:T==="standalone"?(0,e.jsx)(ne.Z,{type:"primary",onClick:R,children:(0,e.jsx)(r._H,{id:"device.add.btn"})},"1"):(0,e.jsx)(ne.Z,{type:"primary",onClick:P,children:(0,e.jsx)(r._H,{id:"device.cluster.btn"})},"2"),children:T==="standalone"?(0,e.jsx)(jt,(0,i.Z)((0,i.Z)({ref:b},E),{},{onTabClick:X})):(0,e.jsx)($t,(0,i.Z)((0,i.Z)({ref:C},E),{},{onTabClick:X}))})},Ut=Bt},47152:function(Ve,Qe,s){"use strict";var i=s(29700),cr=s(42098),ne=s(85628),fr=s(68591),Ke=s.n(fr),o=s(1155),t=s(12784),Re=s(22374),r=s(53532),nr=s(33821),Ne=s(83325),sr=nr.Z.Option;function We(Ge){return Ge&&Ge.type&&(Ge.type.isSelectOption||Ge.type.isSelectOptGroup)}var Cr=function(Ae,_r){var de=Ae.prefixCls,wr=Ae.className,Je=Ae.popupClassName,kr=Ae.dropdownClassName,me=Ae.children,vr=Ae.dataSource,Pe=(0,o.Z)(me),ir;if(Pe.length===1&&(0,Ne.l$)(Pe[0])&&!We(Pe[0])){var z=(0,ne.Z)(Pe,1);ir=z[0]}var br=ir?function(){return ir}:void 0,be;return Pe.length&&We(Pe[0])?be=me:be=vr?vr.map(function(d){if((0,Ne.l$)(d))return d;switch((0,cr.Z)(d)){case"string":return Re.createElement(sr,{key:d,value:d},d);case"object":{var K=d.value;return Re.createElement(sr,{key:K,value:K},d.text)}default:return}}):[],Re.createElement(r.C,null,function(d){var K=d.getPrefixCls,Ee=K("select",de);return Re.createElement(nr.Z,(0,i.Z)({ref:_r},(0,t.Z)(Ae,["dataSource"]),{prefixCls:Ee,popupClassName:Je||kr,className:Ke()("".concat(Ee,"-auto-complete"),wr),mode:nr.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:br}),be)})},ar=Re.forwardRef(Cr);ar.Option=sr,Qe.Z=ar},47721:function(Ve,Qe,s){"use strict";var i=s(49132),cr=s.n(i),ne=s(51812),fr=s.n(ne),Ke=s(69230)}}]);
