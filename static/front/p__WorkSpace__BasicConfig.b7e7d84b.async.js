(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2373],{4730:function(re){re.exports={part_title:"part_title___2o2oM",line:"line___2hjGI"}},15191:function(re){re.exports={paragraph:"paragraph___1ysHh"}},49253:function(re){re.exports={paragraph:"paragraph___1X3JJ",full_width:"full_width___3YGWb",row_box:"row_box___3X3ac",first_part:"first_part___2FLAG",second_part:"second_part___39Rw6",transferOwnerWs:"transferOwnerWs___1TIGZ",cancleWs:"cancleWs___3O_vj"}},37834:function(re,ue,n){"use strict";var he=n(67515),J=n(41083),Q=n(14320),oe=n(53479),Me=n(35832),le=n(32326),Ie=n(39190),je=n(41428),fe=n(22374),O=n(20669),Be=n(22812),U=n(97939),pe=n(52454),I,Re,f=U.ZP.div(I||(I=(0,je.Z)([`
    width: calc(100% - 200px - 20px);
    height: 100px;
    overflow: hidden;
    margin-left: 20px;
`]))),Z=(0,U.ZP)(O.Z)(Re||(Re=(0,je.Z)([`
    & {
        height: 200px;
        width: 200px;  
    }
`]))),g=function(B,We){var k=B.onCancel,C=B.onOk,Le=fe.useState(""),ge=(0,Ie.Z)(Le,2),Ae=ge[0],Ee=ge[1],be=fe.useState(!1),we=(0,Ie.Z)(be,2),Ue=we[0],xe=we[1];fe.useImperativeHandle(We,function(){return{show:function(s){xe(!0),Ee(s)}}});var Se=(0,fe.useRef)(null),T=function(){xe(!1),Ee(""),k&&k()},l=function(){Se.current.getCroppedCanvas().toBlob(function(){var s=(0,le.Z)((0,Me.Z)().mark(function v(E){var R,y;return(0,Me.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return R=new FormData,R.append("file",E),a.next=4,(0,Be.WY)("/api/sys/upload/",{method:"post",data:R});case 4:y=a.sent,C(y),T();case 7:case"end":return a.stop()}},v)}));return function(v){return s.apply(this,arguments)}}())};return(0,pe.jsx)(J.Z,{open:Ue,onCancel:T,onOk:l,title:"\u56FE\u7247\u88C1\u5207",maskClosable:!1,children:(0,pe.jsxs)(oe.Z,{children:[(0,pe.jsx)(Z,{ref:Se,src:Ae,aspectRatio:1,guides:!0,preview:".preview"}),(0,pe.jsx)(f,{className:"preview"})]})})};ue.Z=(0,fe.forwardRef)(g)},78974:function(re,ue,n){"use strict";var he=n(4730),J=n.n(he),Q=n(52454);ue.Z=function(oe){return(0,Q.jsxs)("div",{className:J().part_title,children:[oe.text,oe.children,(0,Q.jsx)("div",{className:J().line})]})}},39153:function(re,ue,n){"use strict";n.r(ue),n.d(ue,{default:function(){return nn}});var he=n(16832),J=n(69827),Q=n(70772),oe=n(6701),Me=n(57359),le=n(34423),Ie=n(98604),je=n(68917),fe=n(14320),O=n(53479),Be=n(46721),U=n(94867),pe=n(65790),I=n(17187),Re=n(81138),f=n(96146),Z=n(35832),g=n(20418),V=n(32326),B=n(39190),We=n(31650),k=n(25100),C=n(22374),Le=n(8281),ge=n(58591),Ae=n(69230),Ee=n(33821),be=n(67448),we=n(47548),Ue=n(53374),xe=n(61674),Se=n(20693),T=n(3278),l=n(88966),d=n(11048),s=n(26388),v=n(15191),E=n.n(v),R=n(97207),y=n.n(R),H=n(29197),a=n(22812),_=n(24812),z=n(39935),e=n(52454),Pe=function(r){var o=(0,C.useState)(!1),i=(0,B.Z)(o,2),N=i[0],M=i[1];(0,C.useEffect)(function(){M(r.title)},[r.title]);var w=function(h){M(h.target.value);var j=(0,s.Z)({},r.keyName,h.target.value);r.changeText(j)};return(0,e.jsx)(le.Z,{children:(0,e.jsxs)(d.ZP.Group,{onChange:w,value:N,disabled:r.disabled,children:[(0,e.jsx)(d.ZP,{value:!0,children:(0,e.jsx)(a._H,{id:"ws.config.public"})}),(0,e.jsx)(d.ZP,{value:!1,children:(0,e.jsx)(a._H,{id:"ws.config.private"})})]})})},Oe=function(r){var o=r.name,i=r.size,N=i===void 0?"small":i,M=r.type,w=M===void 0?"input":M,x=r.disabled,h=r.inputType,j=r.setErrorReg,D=r.errorReg,t=r.changeText,S=(0,C.useState)(o),$=(0,B.Z)(S,2),c=$[0],m=$[1];(0,C.useEffect)(function(){m(o)},[o]);var F=function(b){m(b.target.value);var u=b.target.value,Y=/^([\w\W])+$/,ce="";h==="name"&&(Y=/^[a-z0-9_-]{1,30}$/,ce="regName"),h==="show_name"&&(Y=/^[A-Za-z0-9\u4e00-\u9fa5\._-]{1,30}$/g,ce="regShowName"),h==="description"&&(Y=/^([\w\W]){1,200}$/,ce="regDescription");var ee=Y.test(u);j((0,g.Z)((0,g.Z)({},D),{},(0,s.Z)({},ce,!ee))),t((0,s.Z)({},h,u))};return(0,e.jsx)(e.Fragment,{children:w==="input"?(0,e.jsx)(T.Z,{autoComplete:"off",style:{width:480,height:32},defaultValue:c,value:c,disabled:x,onChange:F}):(0,e.jsx)(T.Z.TextArea,{size:N,style:{width:480},defaultValue:c,disabled:x,value:c,onChange:F})})},Xe=function(r){var o=r.first_name,i=r.last_name;return o&&i?"".concat(o,"\uFF08").concat(i,"\uFF09"):o&&!i?o:!o&&i?i:""},He=function(r){var o=(0,a.YB)(),i=o.formatMessage,N=(0,a.Kd)()==="en-US",M=(0,_.UO)(),w=M.ws_id,x=r.refresh,h=(0,C.useState)(null),j=(0,B.Z)(h,2),D=j[0],t=j[1],S=C.useState([]),$=(0,B.Z)(S,2),c=$[0],m=$[1],F=C.useState(!1),ie=(0,B.Z)(F,2),b=ie[0],u=ie[1],Y=function(){var ee=(0,V.Z)((0,Z.Z)().mark(function G(){var ne,te,ae;return(0,Z.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(D){L.next=2;break}return L.abrupt("return");case 2:return L.next=4,(0,H.OM)({id:w,owner:D});case 4:if(ne=L.sent,te=ne.code,ae=ne.msg,te===200){L.next=10;break}return(0,z.EV)(te,ae),L.abrupt("return");case 10:x&&x();case 11:case"end":return L.stop()}},G)}));return function(){return ee.apply(this,arguments)}}();C.useEffect(function(){return ce(),function(){m([]),t(null)}},[]);var ce=function(){var ee=(0,V.Z)((0,Z.Z)().mark(function G(){var ne,te,ae,se,L,Ce=arguments;return(0,Z.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return ne=Ce.length>0&&Ce[0]!==void 0?Ce[0]:"",m([]),u(!0),p.next=5,(0,H.bu)({ws_id:w,keyword:ne});case 5:if(te=p.sent,ae=te.data,se=te.code,L=te.msg,se===200){p.next=13;break}return u(!1),(0,z.EV)(se,L),p.abrupt("return");case 13:u(!1),m(ae.map(function(K){return{value:K.user_info.id,label:Xe(K.user_info)}}));case 15:case"end":return p.stop()}},G)}));return function(){return ee.apply(this,arguments)}}();return(0,e.jsxs)(J.Z.Content,{style:{width:400},children:[(0,e.jsx)(O.Z,{style:{marginTop:4,marginBottom:24},className:E().full_width,children:(0,e.jsx)(xe.Z,{message:(0,e.jsx)(a._H,{id:"ws.config.transfer.Alert"}),type:"warning",showIcon:!0,style:{width:"100%",height:N?64:32}})}),(0,e.jsx)(O.Z,{className:E().full_width,children:(0,e.jsx)(k.Z.Text,{strong:!0,children:(0,e.jsx)(a._H,{id:"ws.config.transfer.user"})})}),(0,e.jsx)(O.Z,{style:{marginTop:6},className:E().full_width,children:(0,e.jsx)(Ee.Z,{style:{width:"100%"},onChange:function(G){return t(G)},value:D,showSearch:!0,onSearch:y().debounce(ce,500),placeholder:i({id:"ws.config.transfer.placeholder"}),notFoundContent:b?(0,e.jsx)(we.Z,{size:"small"}):null,filterOption:!1,options:c})}),(0,e.jsx)(ge.Z,{style:{marginTop:24,marginBottom:10,width:"calc(100% + 48px)",transform:"translateX(-24px)"}}),(0,e.jsx)(O.Z,{justify:"end",className:E().full_width,children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(U.Z,{onClick:r.handleCancel,children:(0,e.jsx)(a._H,{id:"operation.cancel"})}),(0,e.jsx)(U.Z,{type:"primary",onClick:function(){return Y()},children:(0,e.jsx)(a._H,{id:"operation.ok"})})]})})]})},Fe=function(r){var o=(0,_.UO)(),i=o.ws_id,N=r.handleCancel,M=function(){var w=(0,V.Z)((0,Z.Z)().mark(function x(){var h,j,D,t,S=arguments;return(0,Z.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return h=S.length>0&&S[0]!==void 0?S[0]:"",c.next=3,(0,H.zl)({id:i,reason:h});case 3:if(j=c.sent,D=j.code,t=j.msg,D===200){c.next=9;break}return(0,z.EV)(D,t),c.abrupt("return");case 9:a.m8.push("/"),N&&N();case 11:case"end":return c.stop()}},x)}));return function(){return w.apply(this,arguments)}}();return(0,e.jsxs)(J.Z.Content,{style:{width:400},children:[(0,e.jsx)(O.Z,{children:(0,e.jsx)(k.Z.Text,{style:{color:"(0,0,0,0.65)",lineHeight:"22px"},children:(0,e.jsx)(a._H,{id:"ws.config.warning"})})}),(0,e.jsx)(ge.Z,{style:{marginTop:24,marginBottom:10,width:"calc(100% + 48px)",transform:"translateX(-24px)"}}),(0,e.jsx)(O.Z,{justify:"end",className:E().full_width,children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(U.Z,{onClick:N,children:(0,e.jsx)(a._H,{id:"operation.cancel"})}),(0,e.jsx)(U.Z,{type:"primary",onClick:function(){return M&&M()},children:(0,e.jsx)(a._H,{id:"operation.log.off"})})]})})]})},De=n(78974),Ke=n(49253),P=n.n(Ke),tn=n(13059),$e=n(53676),Ve=function(r,o){var i=(0,a.YB)(),N=i.formatMessage,M=r.refresh,w=C.useState(!1),x=(0,B.Z)(w,2),h=x[0],j=x[1],D=function(){M(),j(!1)};return(0,e.jsx)($e.Z,{content:(0,e.jsx)(He,{handleCancel:function(){return j(!1)},refresh:D}),trigger:"click",title:(0,e.jsx)(a._H,{id:"ws.config.transfer.ownership"}),onVisibleChange:function(S){return j(S)},visible:h,overlayClassName:P().transferOwnerWs,children:(0,e.jsx)(U.Z,{onClick:function(){return j(!0)},children:(0,e.jsx)(a._H,{id:"ws.config.transfer.of.ownership"})})})},Je=C.forwardRef(Ve),Qe=function(){var r=(0,a.YB)(),o=r.formatMessage,i=C.useState(!1),N=(0,B.Z)(i,2),M=N[0],w=N[1];return(0,e.jsx)($e.Z,{content:(0,e.jsx)(Fe,{handleCancel:function(){return w(!1)}}),visible:M,onVisibleChange:function(h){return w(h)},overlayClassName:P().cancleWs,trigger:"click",title:(0,e.jsx)(a._H,{id:"ws.config.tips"}),children:(0,e.jsx)(U.Z,{onClick:function(){return w(!0)},children:(0,e.jsx)(a._H,{id:"operation.log.off"})})})},ze=Qe,an=n(29143),ke=n(34517),W=n(96579),_e=n(37834),qe=function(r){var o=(0,a.YB)(),i=o.formatMessage,N=r.refresh,M=r.intro,w=(0,a.md)(),x=(0,_.UO)(),h=x.ws_id,j=C.useRef(null),D={name:"file",action:"/api/sys/upload/",beforeUpload:function(S){var $=new FileReader;return $.onload=function(c){var m;(m=j.current)===null||m===void 0||m.show(c.target.result)},$.readAsDataURL(S),!1},onChange:function(){var t=(0,V.Z)((0,Z.Z)().mark(function $(c){var m,F,ie;return(0,Z.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(c.file.status!=="done"){u.next=9;break}return u.next=3,(0,H.OM)({id:h,logo:c.file.response.path});case 3:m=u.sent,F=m.code,ie=m.msg,F===200?(N(),f.default.success(i({id:"request.update.success"}))):(0,z.EV)(F,ie),u.next=10;break;case 9:c.file.status==="error"&&f.default.error("".concat(c.file.name," file upload failed."));case 10:case"end":return u.stop()}},$)}));function S($){return t.apply(this,arguments)}return S}()};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I.Z.Item,{label:"",children:(0,e.jsxs)(O.Z,{style:{width:"100%",marginBottom:0},children:[(0,e.jsx)(W.Z,(0,g.Z)({size:"large"},M)),(0,e.jsxs)("div",{style:{width:"calc(100% - 96px - 20px)",marginLeft:16},className:P().first_part,children:[(0,e.jsx)(O.Z,{style:{marginBottom:8},children:(0,e.jsx)(a.Nv,{accessible:w.WsBtnPermission(),children:(0,e.jsx)(ke.Z,(0,g.Z)((0,g.Z)({},D),{},{children:(0,e.jsx)(U.Z,{children:(0,e.jsx)(a._H,{id:"ws.config.update.cover"})})}))})}),(0,e.jsx)(O.Z,{style:{marginBottom:4},children:(0,e.jsx)(k.Z.Text,{children:(0,e.jsx)(a._H,{id:"ws.config.cover.ps"})})}),(0,e.jsx)(O.Z,{children:(0,e.jsx)(k.Z.Text,{})})]})]})}),(0,e.jsx)(_e.Z,{ref:j,onOk:function(){var t=(0,V.Z)((0,Z.Z)().mark(function S($){var c,m,F;return(0,Z.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,H.OM)({id:h,logo:$.path});case 2:c=b.sent,m=c.code,F=c.msg,m===200?(N(),f.default.success(i({id:"request.update.success"}))):(0,z.EV)(m,F);case 6:case"end":return b.stop()}},S)}));return function(S){return t.apply(this,arguments)}}()})]})},en=qe,Ze=k.Z.Text,Ye=function(){var r=(0,a.YB)(),o=r.formatMessage,i=(0,a.Kd)()==="en-US",N=(0,a.tT)("@@initialState"),M=N.setInitialState,w=(0,_.UO)(),x=w.ws_id,h=(0,a.md)(),j=(0,C.useState)(),D=(0,B.Z)(j,2),t=D[0],S=D[1],$=(0,C.useState)(),c=(0,B.Z)($,2),m=c[0],F=c[1],ie=(0,C.useState)({regName:!1,regShowName:!1,regDescription:!1}),b=(0,B.Z)(ie,2),u=b[0],Y=b[1],ce=function(p){var K=p.show_name,A=p.name,me=p.description,ye=!/^[A-Za-z0-9\u4e00-\u9fa5\._-]{1,30}$/g.test(K),Te=!/^[a-z0-9_-]{1,30}$/.test(A),X=!/^([\w\W]){1,200}$/.test(me);Y({regShowName:ye,regName:Te,regDescription:X})},ee=function(){var ve=(0,V.Z)((0,Z.Z)().mark(function p(){var K,A,me,ye;return(0,Z.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,H.Sd)(x);case 2:K=X.sent,A=K.data,me=K.code,ye=K.msg,me===200?(S(y().cloneDeep(A)),ce(A),F(A),M(function(Ne){var Ge,de;return(0,g.Z)((0,g.Z)({},Ne),{},{wsList:(0,g.Z)((0,g.Z)({},Ne.wsList),{},{data:(Ge=Ne.wsList)===null||Ge===void 0||(de=Ge.data)===null||de===void 0?void 0:de.reduce(function(sn,rn){return rn.id===x?sn.concat(A):sn.concat(rn)},[])})})})):(0,z.EV)(me,ye);case 7:case"end":return X.stop()}},p)}));return function(){return ve.apply(this,arguments)}}(),G=function(){var ve=(0,V.Z)((0,Z.Z)().mark(function p(){return(0,Z.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,ee();case 2:case"end":return A.stop()}},p)}));return function(){return ve.apply(this,arguments)}}();(0,C.useEffect)(function(){ee()},[location.pathname]);var ne={labelCol:{span:4},wrapperCol:{span:20}},te=function(){var ve=(0,V.Z)((0,Z.Z)().mark(function p(){var K,A,me,ye,Te,X,Ne;return(0,Z.Z)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return K=t.show_name,A=t.description,me=t.name,ye=t.is_public,de.next=3,(0,H.OM)({show_name:K,name:me,is_public:ye,description:A,id:x});case 3:Te=de.sent,X=Te.code,Ne=Te.msg,X===200?(G(),f.default.success(o({id:"request.save.success"}))):(0,z.EV)(X,Ne);case 7:case"end":return de.stop()}},p)}));return function(){return ve.apply(this,arguments)}}(),ae=function(p){S((0,g.Z)((0,g.Z)({},t),p))},se=u.regShowName||u.regShowName||u.regDescription;se=se||y().get(t,"show_name")===y().get(m,"show_name")&&y().get(t,"name")===y().get(m,"name")&&y().get(t,"description")===y().get(m,"description")&&y().get(t,"is_public")===y().get(m,"is_public");var L=i?120:70,Ce={width:L,textAlign:"right"};return(0,e.jsxs)(J.Z.Content,{style:{background:"#f5f5f5",overflowY:"auto"},children:[(0,e.jsx)(O.Z,{className:P().row_box,children:(0,e.jsxs)(I.Z,(0,g.Z)((0,g.Z)({},ne),{},{layout:"vertical",style:{width:"100%"},children:[(0,e.jsx)(De.Z,{text:o({id:"ws.config.cover.info"})}),(0,e.jsx)(en,{intro:t,refresh:G}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.show_name"}),name:"show_name",validateStatus:u.regShowName?"error":void 0,help:u.regShowName?o({id:"ws.config.show_name.help"}):void 0,children:(0,e.jsx)(Oe,{keyName:"show_name",name:t==null?void 0:t.show_name,changeText:ae,errorReg:u,inputType:"show_name",setErrorReg:Y})}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.name"}),name:"name",validateStatus:u.regName?"error":void 0,help:u.regName?o({id:"ws.config.name.help"}):void 0,children:(0,e.jsx)(Oe,{keyName:"show_name",name:t==null?void 0:t.name,changeText:ae,disabled:!0,inputType:"name",errorReg:u,setErrorReg:Y})}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.description"}),validateStatus:u.regDescription?"error":void 0,help:u.regDescription?o({id:"ws.config.description.help"}):void 0,name:"description",children:(0,e.jsx)(Oe,{type:"textarea",size:"large",keyName:"description",name:t==null?void 0:t.description,changeText:ae,inputType:"description",errorReg:u,setErrorReg:Y})}),(0,e.jsx)(I.Z.Item,{label:(0,e.jsx)(a._H,{id:"ws.config.is_public"}),style:{marginBottom:16},name:"is_public",children:(0,e.jsx)(Pe,{title:t==null?void 0:t.is_public,keyName:"is_public",disabled:y().get(t,"is_common"),changeText:ae})}),(0,e.jsx)(a.Nv,{accessible:h.WsBtnPermission(),children:(0,e.jsx)(U.Z,{style:{marginBottom:16},disabled:se,onClick:se?function(){}:te,type:"primary",children:(0,e.jsx)(a._H,{id:"operation.ok"})})})]}))}),(0,e.jsx)(O.Z,{className:P().row_box,children:(0,e.jsxs)(I.Z,(0,g.Z)((0,g.Z)({},ne),{},{style:{width:"100%"},children:[(0,e.jsx)(De.Z,{text:o({id:"ws.config.workspace.info"})}),(0,e.jsxs)("div",{className:P().second_part,children:[(0,e.jsxs)("span",{style:Ce,children:[(0,e.jsx)(a._H,{id:"ws.config.owner"}),"\uFF1A"]}),(0,e.jsxs)(O.Z,{style:{width:"calc(100% - ".concat(L,"px)")},children:[(0,e.jsx)(oe.Z,{span:24,children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(je.C,{size:25,src:t==null?void 0:t.owner_avatar}),(0,e.jsx)(Ze,{children:t==null?void 0:t.owner_name})]})}),(0,e.jsx)(oe.Z,{span:24,children:(0,e.jsx)(Ze,{style:{color:"rgba(0,0,0,0.5)"},children:t==null?void 0:t.proposer_dep})})]})]}),(0,e.jsxs)("div",{className:P().second_part,children:[(0,e.jsxs)("span",{style:Ce,children:[(0,e.jsx)(a._H,{id:"ws.config.creation.time"}),"\uFF1A"]}),(0,e.jsx)(Ze,{children:t==null?void 0:t.gmt_created})]}),(0,e.jsxs)("div",{className:P().second_part,style:{marginBottom:16},children:[(0,e.jsxs)("span",{style:Ce,children:[(0,e.jsx)(a._H,{id:"ws.config.member_count"}),"\uFF1A"]}),(0,e.jsx)(Ze,{children:t==null?void 0:t.member_count})]})]}))}),(0,e.jsx)(a.Nv,{accessible:h.WsTransfer(),children:(0,e.jsx)(O.Z,{className:P().row_box,children:(0,e.jsxs)(I.Z,(0,g.Z)((0,g.Z)({},ne),{},{colon:!1,layout:"vertical",style:{width:"100%"},className:P().three_part,children:[(0,e.jsx)(De.Z,{text:o({id:"ws.config.more.operation"})}),(0,e.jsx)(I.Z.Item,{children:(0,e.jsxs)(le.Z,{children:[(0,e.jsx)(Je,{refresh:G}),!y().get(t,"is_common")&&(0,e.jsx)(ze,{})]})})]}))})})]})},nn=Ye},61674:function(re,ue,n){"use strict";n.d(ue,{Z:function(){return Se}});var he=n(29700),J=n(85628),Q=n(77335),oe=n(5888),Me=n(38755),le=n(11273),Ie=n(90770),je=n(53770),fe=n(13598),O=n(46601),Be=n(25407),U=n(51767),pe=n(68591),I=n.n(pe),Re=n(51572),f=n(22374),Z=n(53532),g=n(24875),V=n(83325),B=n(52318),We=n(31279),k=n(31762),C=n(51129),Le=function(T){(0,k.Z)(d,T);var l=(0,C.Z)(d);function d(){var s;return(0,B.Z)(this,d),s=l.apply(this,arguments),s.state={error:void 0,info:{componentStack:""}},s}return(0,We.Z)(d,[{key:"componentDidCatch",value:function(v,E){this.setState({error:v,info:E})}},{key:"render",value:function(){var v=this.props,E=v.message,R=v.description,y=v.children,H=this.state,a=H.error,_=H.info,z=_&&_.componentStack?_.componentStack:null,e=typeof E=="undefined"?(a||"").toString():E,Pe=typeof R=="undefined"?z:R;return a?f.createElement(Se,{type:"error",message:e,description:f.createElement("pre",null,Pe)}):y}}]),d}(f.Component),ge=Le,Ae=function(T,l){var d={};for(var s in T)Object.prototype.hasOwnProperty.call(T,s)&&l.indexOf(s)<0&&(d[s]=T[s]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(T);v<s.length;v++)l.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(T,s[v])&&(d[s[v]]=T[s[v]]);return d},Ee={success:oe.Z,info:Be.Z,error:le.Z,warning:fe.Z},be={success:Me.Z,info:U.Z,error:Ie.Z,warning:O.Z},we=function(l){var d=l.description,s=l.icon,v=l.prefixCls,E=l.type,R=(d?be:Ee)[E]||null;return s?(0,V.wm)(s,f.createElement("span",{className:"".concat(v,"-icon")},s),function(){return{className:I()("".concat(v,"-icon"),(0,Q.Z)({},s.props.className,s.props.className))}}):f.createElement(R,{className:"".concat(v,"-icon")})},Ue=function(l){var d=l.isClosable,s=l.closeText,v=l.prefixCls,E=l.closeIcon,R=l.handleClose;return d?f.createElement("button",{type:"button",onClick:R,className:"".concat(v,"-close-icon"),tabIndex:0},s?f.createElement("span",{className:"".concat(v,"-close-text")},s):E):null},xe=function(l){var d,s=l.description,v=l.prefixCls,E=l.message,R=l.banner,y=l.className,H=y===void 0?"":y,a=l.style,_=l.onMouseEnter,z=l.onMouseLeave,e=l.onClick,Pe=l.afterClose,Oe=l.showIcon,Xe=l.closable,He=l.closeText,Fe=l.closeIcon,De=Fe===void 0?f.createElement(je.Z,null):Fe,Ke=l.action,P=Ae(l,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),tn=f.useState(!1),$e=(0,J.Z)(tn,2),Ve=$e[0],Je=$e[1],Qe=f.useRef(),ze=f.useContext(Z.E_),an=ze.getPrefixCls,ke=ze.direction,W=an("alert",v),_e=function(o){var i;Je(!0),(i=P.onClose)===null||i===void 0||i.call(P,o)},qe=function(){var o=P.type;return o!==void 0?o:R?"warning":"info"},en=He?!0:Xe,Ze=qe(),Ye=R&&Oe===void 0?!0:Oe,nn=I()(W,"".concat(W,"-").concat(Ze),(d={},(0,Q.Z)(d,"".concat(W,"-with-description"),!!s),(0,Q.Z)(d,"".concat(W,"-no-icon"),!Ye),(0,Q.Z)(d,"".concat(W,"-banner"),!!R),(0,Q.Z)(d,"".concat(W,"-rtl"),ke==="rtl"),d),H),q=(0,g.Z)(P);return f.createElement(Re.Z,{visible:!Ve,motionName:"".concat(W,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(o){return{maxHeight:o.offsetHeight}},onLeaveEnd:Pe},function(r){var o=r.className,i=r.style;return f.createElement("div",(0,he.Z)({ref:Qe,"data-show":!Ve,className:I()(nn,o),style:(0,he.Z)((0,he.Z)({},a),i),onMouseEnter:_,onMouseLeave:z,onClick:e,role:"alert"},q),Ye?f.createElement(we,{description:s,icon:P.icon,prefixCls:W,type:Ze}):null,f.createElement("div",{className:"".concat(W,"-content")},E?f.createElement("div",{className:"".concat(W,"-message")},E):null,s?f.createElement("div",{className:"".concat(W,"-description")},s):null),Ke?f.createElement("div",{className:"".concat(W,"-action")},Ke):null,f.createElement(Ue,{isClosable:!!en,closeText:He,prefixCls:W,closeIcon:De,handleClose:_e}))})};xe.ErrorBoundary=ge;var Se=xe}}]);
