(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[5880],{84033:function(_e){_e.exports={popover_job:"popover_job___LFn9C",result_table_row:"result_table_row___2ahVb"}},93934:function(_e,Pe,t){"use strict";t.r(Pe),t.d(Pe,{default:function(){return Kt}});var x=t(67448),M=t(47548),de=t(70772),Oe=t(6701),xe=t(26388),et=t(97971),N=t(45343),tt=t(57359),C=t(34423),ae=t(31650),g=t(25100),i=t(35832),b=t(32326),v=t(39190),m=t(14320),De=t(53479),it=t(16832),nt=t(69827),P=t(41428),mt=t(40118),lt=t(29966),dt=t(526),D=t(97939),f=t(22374),ke=t(9812),ut=t(88964),rt=ut.kL,Ze=function(ee,I,p){return ee.reduce(function(B,K){return B.concat(Object.keys(K).reduce(function(y,z){if(z==="date")return y;var oe={date:K.date,name:z.split(/(?=[A-Z])/).join(" "),count:K[z]};return p?~z.indexOf(I)?y.concat(oe):y:z.indexOf(I)===-1?y.concat(oe):y},[]))},[])},Fe=function(ee,I){var p=new rt({container:ee,autoFit:!0});return p.data(I),p.scale({count:{nice:!0}}),p.axis("date",{tickLine:{alignTick:!0}}),p.legend({position:"top-right"}),p.tooltip({showCrosshairs:!0,shared:!0}),p.line().position("date*count").color("name").shape("smooth"),p.point().position("date*count").color("name").shape("circle").style({stroke:"#fff",lineWidth:1}),p.render(),p},se=t(39935),J=t(20632),l=t(71853),F=t(79625),Z=t(96584),R=t(20418),X=t(81138),A=t(96146),ue=t(488),He=t(78358),Ee=t(97207),ye=t.n(Ee),Se=t(76742),ce=t(22977),Ke=t(13059),G=t(53676),at=t(11407),Ie=t(41604),$e=t(20693),Ce=t(3278),Q=t(46721),H=t(94867),gt=t(69230),st=t(33821),Le=t(2514),ct=t(39881),r=t(22812),j=t(24812),q=t(44851),_=t.n(q),k=t(29197),Ve=t(84033),be=t.n(Ve),e=t(52454),We=function(ee){var I=(0,r.YB)(),p=I.formatMessage,B=ee.report_li;if(B.length===0)return(0,e.jsx)(e.Fragment,{});var K=(0,j.UO)(),y=K.ws_id,z=function(){var u=(0,b.Z)((0,i.Z)().mark(function d(n){return(0,i.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:window.open("/ws/".concat(y,"/test_report/").concat(n?n.id:B[0].id));case 1:case"end":return o.stop()}},d)}));return function(n){return u.apply(this,arguments)}}();if(B.length===1)return(0,e.jsx)(g.Z.Link,{style:{cursor:"pointer"},onClick:function(){return z(null)},children:"\u67E5\u770B\u62A5\u544A"});var oe=(0,f.useRef)(null),Xe=(0,f.useState)(""),ve=(0,v.Z)(Xe,2),$=ve[0],Ae=ve[1],Be=(0,f.useState)(""),h=(0,v.Z)(Be,2),fe=h[0],Ge=h[1],pe=(0,f.useState)(""),Ue=(0,v.Z)(pe,2),me=Ue[0],Qe=Ue[1],Re=(0,f.useState)(""),we=(0,v.Z)(Re,2),ie=we[0],Ye=we[1],ze=(0,f.useState)(!1),ge=(0,v.Z)(ze,2),S=ge[0],a=ge[1],c=(0,f.useState)([]),L=(0,v.Z)(c,2),V=L[0],le=L[1];(0,f.useEffect)(function(){S&&te()},[S]);var te=function(){var u=(0,b.Z)((0,i.Z)().mark(function d(n){var O,o,Y;return(0,i.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return O=n&&n.replace(/\s*/g,""),ne.next=3,(0,k.tR)({keyword:O});case 3:o=ne.sent,Y=o.data,le(Y||[]);case 6:case"end":return ne.stop()}},d)}));return function(n){return u.apply(this,arguments)}}(),w=function(d,n,O){n==null||n(),Ae(d[0]),Ge(O)},T=function(d){d(),Ae("")},s=function(d){d(),Ye("")},E=function(d,n,O){n==null||n(),Ye(d[0]),Qe(O)},W=function(d,n){return{filterDropdown:function(o){var Y=o.setSelectedKeys,Te=o.selectedKeys,ne=o.confirm,pt=o.clearFilters;return(0,e.jsx)("div",{style:{padding:8},children:(0,e.jsxs)(C.Z,{direction:"vertical",children:[(0,e.jsx)(st.Z,{allowClear:!0,defaultOpen:!0,filterOption:!1,showSearch:!0,onSearch:te,style:{width:"100%"},onChange:function(qe){return Y(qe?[qe]:[])},showArrow:!1,autoFocus:!0,value:Te[0],placeholder:"".concat(p({id:"operation.search"})).concat(n),children:V.map(function(re){return(0,e.jsx)(st.Z.Option,{value:re.last_name,children:re.last_name},re.id)})}),(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(H.Z,{type:"primary",onClick:function(){return E(Te,ne,d)},icon:(0,e.jsx)(Le.Z,{}),size:"small",style:{width:90},children:(0,e.jsx)(r._H,{id:"operation.search"})}),(0,e.jsx)(H.Z,{onClick:function(){return s(pt)},size:"small",style:{width:90},children:(0,e.jsx)(r._H,{id:"operation.reset"})})]})]})})},filterIcon:function(o){return(0,e.jsx)(Le.Z,{style:{color:o?"#1890ff":void 0}})},onFilter:function(o,Y){return Y[d]?Y[d]===o:""},render:function(o){return me===d?(0,e.jsx)(_(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[ie],autoEscape:!0,textToHighlight:o?o.toString():""}):o}}},U=function(d,n){return{filterDropdown:function(o){var Y=o.setSelectedKeys,Te=o.selectedKeys,ne=o.confirm,pt=o.clearFilters;return(0,e.jsxs)("div",{style:{padding:8},children:[(0,e.jsx)(Ce.Z,{ref:oe,placeholder:"".concat(p({id:"operation.search"})," ").concat(n),value:Te[0],onChange:function(qe){return Y(qe.target.value?[qe.target.value]:[])},onPressEnter:function(){return w(Te,ne,d)},style:{width:188,marginBottom:8,display:"block"}}),(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(H.Z,{type:"primary",onClick:function(){return w(Te,ne,d)},icon:(0,e.jsx)(Le.Z,{}),size:"small",style:{width:90},children:(0,e.jsx)(r._H,{id:"operation.search"})}),(0,e.jsx)(H.Z,{onClick:function(){return T(pt)},size:"small",style:{width:90},children:(0,e.jsx)(r._H,{id:"operation.reset"})})]})]})},filterIcon:function(o){return(0,e.jsx)(Le.Z,{style:{color:o?"#1890ff":void 0}})},onFilter:function(o,Y){return Y[d]?Y[d].toString().toLowerCase().includes(o.toLowerCase()):""},render:function(o){return fe===d?(0,e.jsx)(_(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[$],autoEscape:!0,textToHighlight:o?o.toString():""}):o}}},je=[(0,R.Z)({dataIndex:"name",title:p({id:"ws.dashboard.report.name"}),width:165,ellipsis:!0},U("name",p({id:"ws.dashboard.report.name"}))),(0,R.Z)({dataIndex:"creator_name",width:100,title:p({id:"ws.dashboard.report.creator_name"})},W("creator_name",p({id:"ws.dashboard.report.creator_name"}))),{dataIndex:"gmt_created",title:p({id:"ws.dashboard.report.gmt_created"}),width:200}];return(0,e.jsx)(G.Z,{trigger:"click",placement:"left",visible:S,onVisibleChange:function(d){return a(d)},overlayClassName:be().popover_job,title:(0,e.jsx)(r._H,{id:"ws.dashboard.view.report"}),content:(0,e.jsx)(Ie.Z,{size:"small",rowKey:"id",columns:je,dataSource:B,scroll:{y:244},onRow:function(d){return{onClick:function(){return z(d)}}}}),children:(0,e.jsxs)(g.Z.Link,{style:{cursor:"pointer"},children:[(0,e.jsx)(r._H,{id:"ws.dashboard.view.report"}),(0,e.jsx)(ct.Z,{})]})})},Ne=We,ot=t(24637),ht=t(79390),vt=t(6130),Ht=["code","msg"],jt,xt,Et=(0,D.ZP)(De.Z)(jt||(jt=(0,P.Z)([`
    width : 100%;
    // max-height: calc( 100% - 65px - 72px );
`]))),Me=D.ZP.span(xt||(xt=(0,P.Z)([`
    display: inline-block;
    min-width: 33px;
    padding-left: 5px;
    padding-right: 5px;
    height: 18px;
    border-radius: 9px;
    text-align: center;
    color: #ffffff;
    line-height: 18px;
    cursor: pointer; 
`]))),It=function(ee){var I=(0,r.YB)(),p=I.formatMessage,B=(0,r.Kd)()==="en-US",K=(0,j.UO)(),y=K.ws_id,z=K.project_id,oe={page_num:1,page_size:10,ws_id:y,project_id:z},Xe=(0,f.useState)(oe),ve=(0,v.Z)(Xe,2),$=ve[0],Ae=ve[1],Be=(0,f.useState)({data:[],total:0}),h=(0,v.Z)(Be,2),fe=h[0],Ge=h[1],pe=(0,r.md)(),Ue=(0,f.useState)(!0),me=(0,v.Z)(Ue,2),Qe=me[0],Re=me[1];(0,f.useEffect)(function(){ie()},[]);var we=(0,f.useRef)(),ie=function(){var S=(0,b.Z)((0,i.Z)().mark(function a(){var c,L,V,le,te,w=arguments;return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return c=w.length>0&&w[0]!==void 0?w[0]:oe,Re(!0),s.next=4,(0,ce.ZD)(c);case 4:if(L=s.sent,V=L.code,le=L.msg,te=(0,ue.Z)(L,Ht),V===200){s.next=10;break}return s.abrupt("return",(0,se.EV)(V,le));case 10:Ge(te),Ae(c),Re(!1);case 13:case"end":return s.stop()}},a)}));return function(){return S.apply(this,arguments)}}(),Ye=function(){var S=(0,b.Z)((0,i.Z)().mark(function a(c){var L,V,le,te,w;return(0,i.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,ce.yi)({job_id:c.id});case 2:if(L=s.sent,V=L.code,le=L.msg,V===200){s.next=8;break}return(0,se.EV)(V,le),s.abrupt("return");case 8:return te=$.page_num,w=$.page_size,s.next=11,ie({ws_id:y,project_id:z,page_num:te,page_size:w});case 11:A.default.success(p({id:"operation.success"}));case 12:case"end":return s.stop()}},a)}));return function(c){return S.apply(this,arguments)}}(),ze=function(a){return we.current.show(a)},ge=[{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.id"}),dataIndex:"id",fixed:"left",className:"dashboard_job_list_hover_name",width:80,render:function(a){return(0,e.jsx)(g.Z.Link,{target:"_blank",href:"/ws/".concat(y,"/test_result/").concat(a),children:a})}},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.name"}),dataIndex:"name",width:200,ellipsis:{showTitle:!1},className:"dashboard_job_list_hover_name",render:function(a,c){return(0,e.jsx)(vt.K,{ellipsis:{tooltip:a},children:(0,e.jsx)(g.Z.Link,{href:"/ws/".concat(y,"/test_result/").concat(c.id),target:"_blank",children:a})})}},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.state"}),width:120,dataIndex:"state",render:function(a,c){return(0,e.jsx)(He.JQ,(0,R.Z)({},c))}},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.test_type"}),width:100,dataIndex:"test_type"},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.test_result"}),dataIndex:"test_result",width:160,render:function(a){var c=JSON.parse(a);return ye().isNull(c)?(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(Me,{style:{background:"#649FF6"},children:"-"}),(0,e.jsx)(Me,{style:{background:"#81BF84"},children:"-"}),(0,e.jsx)(Me,{style:{background:"#C84C5A"},children:"-"})]}):(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(Me,{style:{background:"#649FF6"},children:c.total}),(0,e.jsx)(Me,{style:{background:"#81BF84"},children:c.pass}),(0,e.jsx)(Me,{style:{background:"#C84C5A"},children:c.fail})]})}},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.project_name"}),width:120,dataIndex:"project_name",ellipsis:{showTitle:!1},render:function(a){return a&&(0,e.jsx)(Z.Z,{title:a,children:a})}},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.creator_name"}),width:80,ellipsis:!0,dataIndex:"creator_name"},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.start_time"}),width:180,dataIndex:"start_time",ellipsis:!0},{title:(0,e.jsx)(r._H,{id:"ws.dashboard.job.end_time"}),width:180,ellipsis:!0,dataIndex:"end_time"},{title:(0,e.jsx)(r._H,{id:"Table.columns.operation"}),width:B?220:160,fixed:"right",key:"operation",render:function(a){return(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(r.Nv,{accessible:pe.WsTourist(),children:(0,e.jsx)(r.Nv,{accessible:pe.WsMemberOperateSelf(a.creator),fallback:(0,e.jsxs)(C.Z,{children:[a.created_from==="offline"?(0,e.jsx)(g.Z.Text,{style:{color:"#ccc",cursor:"no-drop"},children:(0,e.jsx)(r._H,{id:"ws.dashboard.operation.rerun"})}):(0,e.jsx)("span",{onClick:function(){return(0,se.WR)()},children:(0,e.jsx)(g.Z.Text,{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(r._H,{id:"ws.dashboard.operation.rerun"})})}),(0,e.jsx)("span",{onClick:function(){return(0,se.WR)()},children:(0,e.jsx)(g.Z.Text,{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(r._H,{id:"operation.delete"})})})]}),children:(0,e.jsxs)(C.Z,{children:[a.created_from==="offline"?(0,e.jsx)(g.Z.Text,{style:{color:"#ccc",cursor:"no-drop"},children:(0,e.jsx)(r._H,{id:"ws.dashboard.operation.rerun"})}):(0,e.jsx)("span",{onClick:function(){return ze(a)},children:(0,e.jsx)(g.Z.Text,{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(r._H,{id:"ws.dashboard.operation.rerun"})})}),(0,e.jsx)(l.Z,{title:(0,e.jsx)(r._H,{id:"delete.prompt"}),onConfirm:function(){return Ye(a)},okText:(0,e.jsx)(r._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(r._H,{id:"operation.cancel"}),children:(0,e.jsx)(g.Z.Text,{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(r._H,{id:"operation.delete"})})})]})})}),(0,e.jsx)(Ne,(0,R.Z)({},a))]})}}];return(0,e.jsxs)(M.Z,{spinning:Qe,children:[(0,e.jsxs)(Et,{children:[(0,e.jsx)(ht.sL,{rowKey:"id",name:"ws-dashboard-project-job-list",columns:ge,refreshDeps:[B,y,pe],rowClassName:be().result_table_row,dataSource:fe.data,pagination:!1,style:{width:"100%"},size:"small"}),(0,e.jsx)(Se.Z,{total:fe==null?void 0:fe.total,currentPage:$==null?void 0:$.page_num,pageSize:$==null?void 0:$.page_size,onPageChange:function(a,c){return ie({ws_id:y,project_id:z,page_num:a,page_size:c})}})]}),(0,e.jsx)(ot.Z,{ref:we})]})},$t=It,Lt=t(25399),he=t.n(Lt),Zt,yt,St,Ct,bt,Rt,wt,zt,Tt,Pt,Wt=lt.Z.RangePicker,Mt=(0,D.ZP)(nt.Z)(Zt||(Zt=(0,P.Z)([`
    min-height:unset;
    overflow:auto;    
    display: block;
    padding:20px;
    `,`
`])),function(Je){var ee=Je.height;return ee?"height:".concat(ee,"px;"):"unset"}),ft=D.ZP.div(yt||(yt=(0,P.Z)([`
    background: #FFFFFF;
`]))),Jt=(0,D.ZP)(ft)(St||(St=(0,P.Z)([`
    height: 103px;
    padding-left:24px;
    box-shadow: 0 0 10px 0 rgba(0,0,0,0.06);
    border-radius: 4px;
    padding-right:24px;
    margin-bottom:10px;
    padding-top:16px;
    padding-bottom:24px;
    h3 {
        margin-bottom:0;
        font-size:30px;
    }
    .ant-space-item span {
        font-size:12px;
        color: rgba(0,0,0,0.50);
    }
`]))),At=(0,D.ZP)(De.Z)(Ct||(Ct=(0,P.Z)([`
    .ant-statistic {
        margin-right:49px;
    }
`]))),Bt=(0,D.ZP)(ft)(bt||(bt=(0,P.Z)([`
    // max-height:555px;
    padding-left:20px;
    padding-right:20px;
    margin-bottom:10px;
`]))),Ut=D.ZP.div(Rt||(Rt=(0,P.Z)([`
    height:65px;
    line-height:65px;
    font-size:18px;
    color:#000;
`]))),Ot=(0,D.ZP)(ft)(wt||(wt=(0,P.Z)([`
    height:385px;
    margin-bottom:0;
    padding:24px;
`]))),Dt=(0,D.ZP)(De.Z)(zt||(zt=(0,P.Z)([`
    height:calc( 100% - 300px );
    width:100%;
`]))),Ft=D.ZP.div(Tt||(Tt=(0,P.Z)([`
    height:300px;
    overflow:hidden;
    width:100%;
`]))),Yt=D.ZP.div(Pt||(Pt=(0,P.Z)([`
    float:right;
`]))),kt=function(ee){var I,p=(0,r.YB)(),B=p.formatMessage,K=(0,j.UO)(),y=K.ws_id,z=K.project_id,oe=(0,dt.CR)(),Xe=oe.height,ve=(0,f.useRef)(),$=(0,f.useRef)(),Ae=(0,f.useState)(null),Be=(0,v.Z)(Ae,2),h=Be[0],fe=Be[1],Ge=(0,f.useState)(!1),pe=(0,v.Z)(Ge,2),Ue=pe[0],me=pe[1],Qe=(0,f.useState)(!1),Re=(0,v.Z)(Qe,2),we=Re[0],ie=Re[1],Ye=function(){var w=(0,b.Z)((0,i.Z)().mark(function T(){var s,E,W,U;return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,ke.FQ)({ws_id:y,project_id:z});case 2:if(s=u.sent,E=s.data,W=s.code,U=s.msg,W===200){u.next=8;break}return u.abrupt("return",(0,se.EV)(W,U));case 8:fe(E);case 9:case"end":return u.stop()}},T)}));return function(){return w.apply(this,arguments)}}(),ze=(0,f.useRef)(),ge=(0,f.useRef)(),S=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];a(T),c(T)},a=function(){var w=(0,b.Z)((0,i.Z)().mark(function T(){var s,E,W,U,je,u=arguments;return(0,i.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=u.length>0&&u[0]!==void 0?u[0]:[],me(!0),n.prev=2,n.next=5,(0,ke.tn)({ws_id:y,project_id:z,chart_type:"job",start_time:s[0]||"",end_time:s[1]||""});case 5:if(E=n.sent,W=E.data,U=E.code,je=E.msg,me(!1),U===200){n.next=12;break}return n.abrupt("return",(0,se.EV)(U,je));case 12:ze.current?ze.current.changeData(Ze(W,"Job",!0)):ze.current=Fe(ve.current,Ze(W,"Job",!0)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),me(!1);case 18:case"end":return n.stop()}},T,null,[[2,15]])}));return function(){return w.apply(this,arguments)}}(),c=function(){var w=(0,b.Z)((0,i.Z)().mark(function T(){var s,E,W,U,je,u=arguments;return(0,i.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=u.length>0&&u[0]!==void 0?u[0]:[],ie(!0),n.prev=2,n.next=5,(0,ke.tn)({ws_id:y,project_id:z,chart_type:"case",start_time:s[0]||"",end_time:s[1]||""});case 5:if(E=n.sent,W=E.data,U=E.code,je=E.msg,ie(!1),U===200){n.next=12;break}return n.abrupt("return",(0,se.EV)(U,je));case 12:ge.current?ge.current.changeData(Ze(W,"Job",!1)):ge.current=Fe($.current,Ze(W,"Job",!1)),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(2),ie(!1);case 18:case"end":return n.stop()}},T,null,[[2,15]])}));return function(){return w.apply(this,arguments)}}();(0,f.useEffect)(function(){Ye(),S()},[]);var L=he()().subtract(30,"days").format("YYYY-MM-DD"),V=he()().format("YYYY-MM-DD"),le=B({id:"ws.dashboard.today"}),te=B({id:"ws.dashboard.one.month"});return(0,e.jsxs)(Mt,{height:Xe-50,children:[(0,e.jsx)(Jt,{children:(0,e.jsxs)(De.Z,{justify:"space-between",align:"middle",children:[(0,e.jsxs)(C.Z,{direction:"vertical",children:[(0,e.jsx)(g.Z.Title,{level:3,children:h==null?void 0:h.project_name}),(0,e.jsx)(g.Z.Text,{children:h==null?void 0:h.project_description})]}),(0,e.jsxs)(At,{children:[(0,e.jsx)(N.Z,{title:"Pending",value:h==null?void 0:h.pending_num}),(0,e.jsx)(N.Z,{title:"Running",value:h==null?void 0:h.running_num}),(0,e.jsx)(N.Z,{title:"Complete",value:h==null?void 0:h.complete_num}),(0,e.jsx)(N.Z,{title:"Fail",value:h==null?void 0:h.fail_num})]})]})}),(0,e.jsxs)(Bt,{children:[(0,e.jsx)(Ut,{children:(0,e.jsx)(r._H,{id:"ws.dashboard.list.details"})}),(0,e.jsx)($t,{})]}),(0,e.jsxs)(Ot,{children:[(0,e.jsxs)(Dt,{align:"middle",children:[(0,e.jsxs)(Oe.Z,{span:24,children:[(0,e.jsx)(g.Z.Text,{children:(0,e.jsx)(r._H,{id:"ws.dashboard.trend.chart"})}),(0,e.jsx)(Yt,{children:(0,e.jsx)(Wt,{defaultValue:[he()(L),he()(V)],ranges:(I={},(0,xe.Z)(I,le,[he()(),he()()]),(0,xe.Z)(I,te,[he()().startOf("month"),he()().endOf("month")]),I),format:"YYYY-MM-DD",onChange:function(T,s){return S(s)}})})]}),(0,e.jsx)(Oe.Z,{span:24,children:(0,e.jsx)(g.Z.Text,{type:"secondary",children:(0,e.jsx)(r._H,{id:"ws.dashboard.job.success.failure"})})})]}),(0,e.jsx)(M.Z,{spinning:Ue,children:(0,e.jsx)(Ft,{ref:ve})})]}),(0,e.jsxs)(Ot,{children:[(0,e.jsx)(Dt,{align:"middle",children:(0,e.jsx)(g.Z.Text,{type:"secondary",children:(0,e.jsx)(r._H,{id:"ws.dashboard.case.failed"})})}),(0,e.jsx)(M.Z,{spinning:we,children:(0,e.jsx)(Ft,{ref:$})})]})]})},Kt=kt},9812:function(_e,Pe,t){"use strict";t.d(Pe,{sk:function(){return Oe},tn:function(){return et},FQ:function(){return tt}});var x=t(35832),M=t(32326),de=t(22812);function Oe(i){return xe.apply(this,arguments)}function xe(){return xe=(0,M.Z)((0,x.Z)().mark(function i(b){return(0,x.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,de.WY)("/api/sys/ws_data_list/",{params:b}));case 1:case"end":return m.stop()}},i)})),xe.apply(this,arguments)}function et(i){return N.apply(this,arguments)}function N(){return N=(0,M.Z)((0,x.Z)().mark(function i(b){return(0,x.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,de.WY)("/api/sys/ws_chart/",{params:b}));case 1:case"end":return m.stop()}},i)})),N.apply(this,arguments)}function tt(i){return C.apply(this,arguments)}function C(){return C=(0,M.Z)((0,x.Z)().mark(function i(b){return(0,x.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,de.WY)("/api/sys/ws_project_data/",{params:b}));case 1:case"end":return m.stop()}},i)})),C.apply(this,arguments)}function ae(i){return g.apply(this,arguments)}function g(){return g=_asyncToGenerator(_regeneratorRuntime().mark(function i(b){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("/api/sys/ws_project_job/",{params:b}));case 1:case"end":return m.stop()}},i)})),g.apply(this,arguments)}},79390:function(_e,Pe,t){"use strict";t.d(Pe,{sL:function(){return se},ny:function(){return Ze},Fu:function(){return Fe}});var x=t(20418),M=t(39190),de=t(488),Oe=t(26388),xe=t(11407),et=t(41604),N=t(2605),tt=t(74127),C=t(41428),ae=t(22374),g=t(48434),i=t(97939),b=t(99648),v=t(52454),m=["width","onResizeStart","onResize","onResizeStop","resize"],De=["columns","name","onColumnsChange"],it,nt,P,mt=i.ZP.div(it||(it=(0,C.Z)([`
    position: relative;
    width: 100%;
`]))),lt=i.ZP.div.attrs(function(J){return{style:{left:J.left,height:J==null?void 0:J.height}}})(nt||(nt=(0,C.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),dt=(0,i.ZP)(g.Resizable)(P||(P=(0,C.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(J){var l=J.resize;return l?"col-resize":"default"}),D=function(l){var F=l.width,Z=l.onResizeStart,R=l.onResize,X=l.onResizeStop,A=l.resize,ue=(0,de.Z)(l,m);return(0,v.jsx)(dt,(0,x.Z)((0,x.Z)({width:F||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:Z,onResize:R,onResizeStop:X,resize:A?1:0},ue),{},{children:(0,v.jsx)("th",(0,x.Z)({},ue))}))},f=function(l){var F=l.columns,Z=F===void 0?[]:F,R=l.name,X=l.onColumnsChange,A=(0,de.Z)(l,De),ue=ae.useState(0),He=(0,M.Z)(ue,2),Ee=He[0],ye=He[1],Se=ae.useState(0),ce=(0,M.Z)(Se,2),Ke=ce[0],G=ce[1],at=ae.useState(!1),Ie=(0,M.Z)(at,2),$e=Ie[0],Ce=Ie[1],Q=ae.useRef(null),H=(0,b.Z)(Q),gt=function(j){return function(q,_){var k;if((0,tt.Z)(_),!!Z[j].ellipsis){var Ve=q.clientX,be=Ve-((k=Q.current)===null||k===void 0?void 0:k.getBoundingClientRect().x);G(be),ye(be),Ce(!0)}}},st=function(){return function(j){var q,_=j.clientX,k=_-((q=Q.current)===null||q===void 0?void 0:q.getBoundingClientRect().x);ye(k)}},Le=function(j){return function(q,_){var k,Ve=_.size,be=q.clientX,e=be-((k=Q.current)===null||k===void 0?void 0:k.getBoundingClientRect().x),We=(0,N.Z)(Z);if(We[j].ellipsis){var Ne=Ve.width+=e-Ke,ot=We[j],ht=ot.dataIndex,vt=ot.key;Ne>20&&(We[j]=(0,x.Z)((0,x.Z)({},We[j]),{},{width:Ne}),R&&Fe(R,ht||vt,Ne),X==null||X())}ye(0),G(0),Ce(!1)}},ct=ae.useMemo(function(){return Z.reduce(function(r,j){return j.width?r+=j==null?void 0:j.width:r},0)},[Z]);return(0,v.jsxs)(mt,{ref:Q,className:"resize-table-wrapper",children:[(0,v.jsx)(et.Z,(0,x.Z)((0,x.Z)({},A),{},{components:{header:{cell:D}},scroll:(l==null?void 0:l.scroll)||{x:ct||(H==null?void 0:H.width)},columns:Z.filter(Boolean).map(function(r,j){return(0,x.Z)((0,x.Z)({},r),{},{onHeaderCell:function(_){return{resize:!!r.ellipsis,width:_.width,onResizeStart:gt(j),onResize:st(),onResizeStop:Le(j)}}})})})),$e&&(0,v.jsx)(lt,{height:H==null?void 0:H.height,left:Ee||Ke})]})},ke=f,ut=["name","columns","refreshDeps","onColumnsChange"],rt="umi_locale",Ze=function(l,F){var Z=localStorage.getItem(l),R=localStorage.getItem(rt)||"zh-CN";if(!!Z)return JSON.parse(Z)["".concat(R,"-").concat(F)]},Fe=function(l,F,Z){var R=localStorage.getItem(l),X=localStorage.getItem(rt)||"zh-CN",A=(0,Oe.Z)({},"".concat(X,"-").concat(F),Z);R?localStorage.setItem(l,JSON.stringify(Object.assign(JSON.parse(R),A))):localStorage.setItem(l,JSON.stringify(A))},se=function(l){var F=l.name,Z=l.columns,R=l.refreshDeps,X=R===void 0?[]:R,A=l.onColumnsChange,ue=(0,de.Z)(l,ut),He=ae.useState([]),Ee=(0,M.Z)(He,2),ye=Ee[0],Se=Ee[1],ce=function(){return(Z==null?void 0:Z.filter(Boolean).map(function(G){var at=G.dataIndex,Ie=G.key,$e=G.width,Ce=at||Ie,Q=Ze(F,Ce);!Q&&$e&&Fe(F,Ce,$e);var H=Q||$e;return H&&(G.width=H),G}))||[]};return ae.useEffect(function(){Se(ce())},X),(0,v.jsx)(ke,(0,x.Z)({name:F,columns:ye,setColumns:Se,size:"small",onColumnsChange:function(){A==null||A(),Se(ce())}},ue))}}}]);
