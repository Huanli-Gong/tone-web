(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2895,2485,5189],{28075:function(G){G.exports={picker:"picker___uSvFT",waves:"waves___3JsYm"}},18469:function(G){G.exports={warp:"warp___3xrxY",batch:"batch___27iD6",pagination:"pagination___3BxfY",hidden:"hidden___1M0JS",tag_popover_style:"tag_popover_style___2eA5S"}},86252:function(G){G.exports={test_result_name:"test_result_name___1RBzL",test_summary_item:"test_summary_item___3-Yoh",test_summary_item_right:"test_summary_item_right___2UQVi",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___2cRIc",test_summary_job:"test_summary_job___2a2-P",test_summary_row:"test_summary_row___1zXMg",detail_collection:"detail_collection___1_th-",offline_flag:"offline_flag___3BdpH",ellips_column_refclass:"ellips_column_refclass___30H4W",tag_popover_style:"tag_popover_style___1x8MG",table_question_tooltip:"table_question_tooltip___1Ur7e",join_baseline:"join_baseline___Jgafh",select_baseline:"select_baseline___2nHPA"}},6532:function(G,X,e){"use strict";e.d(X,{Z:function(){return d}});var de=e(57359),P=e(34423),Y=e(46721),Z=e(94867),x=e(8281),V=e(58591),ce=e(67448),Q=e(47548),K=e(35832),F=e(32326),De=e(69230),l=e(33821),j=e(39190),h=e(22374),b=e(22812);function g(A){return(0,b.WY)("/api/auth/user/",{params:A})}var f=e(52454),re=function(L){var w=L.confirm,C=L.onConfirm,O=L.pageSize,S=O===void 0?999:O,i=L.value,ae=(0,h.useState)([]),t=(0,j.Z)(ae,2),k=t[0],q=t[1],me=(0,h.useState)(),ie=(0,j.Z)(me,2),oe=ie[0],le=ie[1],B=(0,h.useState)(i==null?void 0:i.name),D=(0,j.Z)(B,2),E=D[0],U=D[1],fe=(0,h.useState)(i==null?void 0:i.name),ee=(0,j.Z)(fe,2),Me=ee[0],ve=ee[1],_e=(0,h.useState)(!0),s=(0,j.Z)(_e,2),Pe=s[0],Ce=s[1],Oe=l.Z.Option,y=function(){var H=(0,F.Z)((0,K.Z)().mark(function c(n){var o,u,v;return(0,K.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(o=n&&n.replace(/\s*/g,""),!(oe&&oe==o)){R.next=3;break}return R.abrupt("return");case 3:return le(o),Ce(!0),R.next=7,g({keyword:o,page_size:S});case 7:u=R.sent,v=u.data,q(v||[]),Ce(!1);case 11:case"end":return R.stop()}},c)}));return function(n){return H.apply(this,arguments)}}();return(0,h.useEffect)(function(){y()},[]),(0,f.jsxs)("div",{style:{padding:8},children:[(0,f.jsx)("div",{children:(0,f.jsx)(l.Z,{allowClear:!0,defaultOpen:!0,onClear:y,notFoundContent:Pe?(0,f.jsx)(Q.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:y,style:{width:"100%"},onChange:function(c,n){ve(n==null?void 0:n.children),U(c)},showArrow:!1,autoFocus:!0,value:E,children:k.map(function(H){return(0,f.jsx)(Oe,{value:H.id,children:H.last_name},H.id)})})}),(0,f.jsx)(V.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,f.jsxs)(P.Z,{children:[(0,f.jsx)(Z.Z,{onClick:function(){var c=E;E&&isNaN(Number(E))&&(c=i==null?void 0:i.id),w==null||w(),C(c,Me)},type:"link",size:"small",style:{width:75},children:(0,f.jsx)(b._H,{id:"operation.search"})}),(0,f.jsx)(Z.Z,{type:"text",onClick:function(){w==null||w(),U(void 0),ve(void 0),C(void 0,void 0),y()},size:"small",style:{width:75,border:"none"},children:(0,f.jsx)(b._H,{id:"operation.reset"})})]})]})},d=re},43480:function(G,X,e){"use strict";var de=e(8281),P=e(58591),Y=e(39190),Z=e(22374),x=e(79236),V=e(98540),ce=e(60061),Q=e(28075),K=e.n(Q),F=e(95844),De=e.n(F),l=e(52454),j=function(b){var g=b.value,f=b.onChange,re=(0,Z.useState)(!1),d=(0,Y.Z)(re,2),A=d[0],L=d[1],w=(0,Z.useState)(!1),C=(0,Y.Z)(w,2),O=C[0],S=C[1],i=(0,Z.useState)({r:255,g:157,b:78,a:1}),ae=(0,Y.Z)(i,2),t=ae[0],k=ae[1],q=[{r:255,g:157,b:78,a:1},{r:91,g:216,b:166,a:1},{r:91,g:143,b:249,a:1},{r:247,g:102,b:78,a:1},{r:255,g:134,b:183,a:1},{r:43,g:158,b:157,a:1},{r:146,g:112,b:202,a:1},{r:109,g:200,b:236,a:1},{r:102,g:119,b:150,a:1},{r:245,g:188,b:22,a:1},{r:231,g:107,b:242,a:1}],me=function(){L(!A)},ie=function(){L(!1)},oe=function(E){var U=E.rgb;k(U);var fe="rgb(".concat(U.r,",").concat(U.g,",").concat(U.b,",").concat(U.a,")");f&&f(fe)};(0,Z.useEffect)(function(){var D={r:255,g:157,b:78,a:1};if(g){var E=g.slice(4,g.length-1).split(",");D={r:Number(E[0]),g:Number(E[1]),b:Number(E[2]),a:Number(E[3])}}k(D)},[g]);var le=function(E){k(E),S(!1);var U="rgb(".concat(E.r,",").concat(E.g,",").concat(E.b,",").concat(E.a,")");f&&f(U)},B=(0,x.ZP)({default:{color:{position:"relative",width:"22px",height:"22px",borderRadius:"2px",background:"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},warp:{position:"absolute",paddingTop:"16px",paddingBottom:"6px",background:"#fff",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)",borderRadius:"2px",zIndex:9999}}});return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:B.swatch,className:K().click,onClick:me,children:(0,l.jsx)("div",{style:B.color,className:K().waves})}),A?(0,l.jsxs)("div",{style:B.popover,children:[(0,l.jsx)("div",{style:B.cover,onClick:ie}),(0,l.jsxs)("div",{style:B.warp,children:[(0,l.jsxs)("div",{style:{background:"#fff",width:244,paddingLeft:"16px"},children:[q.map(function(D,E){return(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:K().waves,style:{position:"relative",float:"left",marginRight:"16px",marginBottom:"16px",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden",background:"rgba(".concat(D.r,", ").concat(D.g,", ").concat(D.b,", ").concat(D.a,")")},onClick:function(){return le(D)},children:JSON.stringify(t)==JSON.stringify(D)&&(0,l.jsx)(ce.Z,{style:{position:"absolute",top:"5px",left:"5px",color:"#fff"}})})},E)}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:K().waves,style:{float:"left",marginRight:"16px",marginBottom:"16px",position:"relative",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden"},onClick:function(){return S(!O)},children:[(0,l.jsx)("img",{src:De(),style:{position:"absolute",width:"22px"}}),(0,l.jsx)("div",{style:{position:"absolute",left:"4px",top:"4px",width:"14px",height:"14px",borderRadius:"2px",background:"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")")}})]})})]}),O&&(0,l.jsx)(P.Z,{style:{margin:0}}),O&&(0,l.jsx)("div",{style:{padding:"6px"},children:(0,l.jsx)(V.xS,{className:K().picker,width:212,color:t,onChange:oe,presetColors:[]})})]})]}):null]})};X.Z=j},64924:function(G,X,e){"use strict";e.r(X);var de=e(88018),P=e(58414),Y=e(20693),Z=e(3278),x=e(67448),V=e(47548),ce=e(14320),Q=e(53479),K=e(36142),F=e(76837),De=e(57359),l=e(34423),j=e(20632),h=e(71853),b=e(46721),g=e(94867),f=e(81138),re=e(96146),d=e(20418),A=e(35832),L=e(32326),w=e(65790),C=e(17187),O=e(39190),S=e(22374),i=e(22812),ae=e(24812),t=e(12568),k=e(18469),q=e.n(k),me=e(43480),ie=e(44851),oe=e.n(ie),le=e(12590),B=e(31784),D=e(46601),E=e(6532),U=e(75073),fe=e(39935),ee=e(6130),Me=e(78358),ve=e(79390),_e=e(18485),s=e(52454),Pe=function(){var Oe=(0,i.YB)(),y=Oe.formatMessage,H=(0,ae.UO)(),c=H.ws_id,n={ws_id:c,page_num:1,page_size:10},o=C.Z.useForm(),u=(0,O.Z)(o,1),v=u[0],N=S.useState(n),R=(0,O.Z)(N,2),_=R[0],W=R[1],ue=(0,S.useState)([]),Ie=(0,O.Z)(ue,2),te=Ie[0],Re=Ie[1],he=(0,S.useState)(!0),Ee=(0,O.Z)(he,2),ne=Ee[0],xe=Ee[1],ye=(0,S.useState)(new Date().getTime()),pe=(0,O.Z)(ye,2),ge=pe[0],je=pe[1],Ae=(0,S.useState)(!0),J=(0,O.Z)(Ae,2),se=J[0],be=J[1],ze=(0,S.useState)(!1),Be=(0,O.Z)(ze,2),$e=Be[0],Te=Be[1],Ye=(0,S.useState)(!1),Ue=(0,O.Z)(Ye,2),Ve=Ue[0],Ze=Ue[1],Qe=(0,S.useState)(),Le=(0,O.Z)(Qe,2),Se=Le[0],We=Le[1],Je=(0,S.useState)(),Ke=(0,O.Z)(Je,2),Ge=Ke[0],z=Ke[1],Xe=(0,S.useState)(),Fe=(0,O.Z)(Xe,2),we=Fe[0],$=Fe[1],ke=function(){var m=(0,L.Z)((0,A.Z)().mark(function r(){var a,M,T=arguments;return(0,A.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return a=T.length>0&&T[0]!==void 0?T[0]:_,be(!0),Re({data:[]}),p.next=5,(0,t.oG)(a);case 5:M=p.sent,M&&Re(M),be(!1);case 8:case"end":return p.stop()}},r)}));return function(){return m.apply(this,arguments)}}();(0,S.useEffect)(function(){ke()},[ge,_]);var He=function(r,a){W(function(M){return(0,d.Z)((0,d.Z)({},M),{},{page_num:r,page_size:a})})},Ne=function(){return je(new Date().getTime())},qe=function(r){v.resetFields(),$("success"),z(y({id:"job.tags.msg1"})),Te(!0),We(r.id),setTimeout(function(){v.setFieldsValue(r)},1)},et=function(){var m=(0,L.Z)((0,A.Z)().mark(function r(a){var M,T;return(0,A.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!Ve){p.next=2;break}return p.abrupt("return");case 2:if(Ze(!0),a.name=a.name&&a.name.replace(/\s+/g,""),a.description=a.description&&a.description.replace(/\s+/g,"")||"",M=(0,d.Z)({},a),$("validating"),z(""),M.ws_id=c,!Se){p.next=15;break}return p.next=12,(0,t.tk)(Se,M);case 12:p.t0=p.sent,p.next=18;break;case 15:return p.next=17,(0,t._U)(M);case 17:p.t0=p.sent;case 18:if(T=p.t0,T.code!=201){p.next=24;break}return setTimeout(function(){Ze(!1)},1),$("error"),z(T.msg),p.abrupt("return");case 24:if(T.code!=="1-12-002"){p.next=29;break}return setTimeout(function(){Ze(!1)},1),$("error"),z(T.msg),p.abrupt("return");case 29:if(T.code!=1302){p.next=34;break}return $("error"),z(y({id:"job.tags.msg2"})),Ze(!1),p.abrupt("return");case 34:return $("success"),z(""),p.next=38,Te(!1);case 38:setTimeout(function(){Ze(!1)},1),re.default.success(y({id:"operation.success"})),Se||(_==null?void 0:_.page_num)==1?Ne():W(function(at){return(0,d.Z)((0,d.Z)({},at),{},{page_num:1})});case 41:case"end":return p.stop()}},r)}));return function(a){return m.apply(this,arguments)}}(),tt=function(){v.validateFields().then(function(r){var a=new RegExp(/^[A-Za-z0-9\._-]*$/g);if(!r.name||r.name.replace(/\s+/g,"")==""){$("error"),z(y({id:"please.enter"}));return}else if(!a.test(r.name)||r.name.length>64){$("error"),z(y({id:"job.tags.msg3"}));return}else et(r)}).catch(function(r){(!r.values.name||r.values.name.replace(/\s+/g,"")=="")&&($("error"),z(y({id:"please.enter"})))})},nt=function(){We(void 0),Te(!0),v.resetFields(),$(""),z(y({id:"job.tags.msg1"}))},st=function(){var m=(0,L.Z)((0,A.Z)().mark(function r(a){var M;return(0,A.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,t.D8)({tag_id:a.id,ws_id:c});case 2:if(M=I.sent,M.code==200){I.next=6;break}return(0,fe.EV)(M.code,M.msg),I.abrupt("return");case 6:W(function(p){return(0,d.Z)((0,d.Z)({},p),{},{page_num:Math.round((te.total-1)/_.page_size)||1})}),re.default.success(y({id:"operation.success"})),je(new Date().getTime());case 9:case"end":return I.stop()}},r)}));return function(a){return m.apply(this,arguments)}}(),rt=[{title:(0,s.jsx)(i._H,{id:"job.tags.tag.name"}),dataIndex:"name",width:120,ellipsis:{showTitle:!1},filterDropdown:function(r){var a=r.confirm;return(0,s.jsx)(le.Z,{confirm:a,autoFocus:ne,onConfirm:function(T){W(function(I){return(0,d.Z)((0,d.Z)({},I),{},{page_num:1,name:T})})}})},onFilterDropdownVisibleChange:function(r){r&&xe(!ne)},filterIcon:function(){return(0,s.jsx)(B.Z,{style:{color:_!=null&&_.name?"#1890ff":void 0}})},render:function(r,a){return(0,s.jsx)(_e.ResizeTag,(0,d.Z)({},a))}},{title:(0,s.jsx)(i._H,{id:"job.tags.source_tag"}),dataIndex:"source_tag",ellipsis:{showTitle:!1},width:100},{title:(0,s.jsx)(i._H,{id:"job.tags.creator_name"}),dataIndex:"creator_name",ellipsis:{showTitle:!1},width:100,filterIcon:function(){return(0,s.jsx)(B.Z,{style:{color:_!=null&&_.creator?"#1890ff":void 0}})},filterDropdown:function(r){var a=r.confirm;return(0,s.jsx)(E.Z,{confirm:a,onConfirm:function(T){W(function(I){return(0,d.Z)((0,d.Z)({},I),{},{page_num:1,creator:T})})}})}},(0,d.Z)({title:(0,s.jsx)(i._H,{id:"job.tags.update_user"}),dataIndex:"update_user",width:100,filterIcon:function(){return(0,s.jsx)(B.Z,{style:{color:_!=null&&_.update_user?"#1890ff":void 0}})},filterDropdown:function(r){var a=r.confirm;return(0,s.jsx)(E.Z,{confirm:a,onConfirm:function(T){W(function(I){return(0,d.Z)((0,d.Z)({},I),{},{update_user:T,page_num:1})})}})}},(0,Me.yQ)("-")),{title:(0,s.jsx)(i._H,{id:"job.tags.gmt_created"}),dataIndex:"gmt_created",width:120,ellipsis:{shwoTitle:!1},render:function(r,a){return a.source_tag!=="\u7CFB\u7EDF\u6807\u7B7E"?(0,s.jsx)(ee.K,{ellipsis:{tooltip:!0},children:a.gmt_created}):"-"}},{title:(0,s.jsx)(i._H,{id:"job.tags.gmt_modified"}),dataIndex:"gmt_modified",width:120,ellipsis:{shwoTitle:!1},render:function(r,a){return a.source_tag!=="\u7CFB\u7EDF\u6807\u7B7E"?(0,s.jsxs)(ee.K,{ellipsis:{tooltip:!0},children:[a.gmt_modified," "]}):"-"}},{title:(0,s.jsx)(i._H,{id:"job.tags.remarks"}),dataIndex:"description",width:100,ellipsis:{showTitle:!1},filterIcon:function(){return(0,s.jsx)(B.Z,{style:{color:_!=null&&_.description?"#1890ff":void 0}})},filterDropdown:function(r){var a=r.confirm;return(0,s.jsx)(le.Z,{confirm:a,autoFocus:ne,onConfirm:function(T){W(function(I){return(0,d.Z)((0,d.Z)({},I),{},{description:T,page_num:1})})}})},onFilterDropdownVisibleChange:function(r){r&&xe(!ne)},render:function(r,a){return(0,s.jsx)(ee.K,{ellipsis:{tooltip:a.description},children:(0,s.jsx)(oe(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[(_==null?void 0:_.description)||""],autoEscape:!0,textToHighlight:a.description?a.description.toString():"-"})})}},{title:(0,s.jsx)(i._H,{id:"Table.columns.operation"}),valueType:"option",dataIndex:"creator",render:function(r,a){return a.source_tag!=="\u7CFB\u7EDF\u6807\u7B7E"&&(0,s.jsxs)(l.Z,{children:[(0,s.jsx)(g.Z,{type:"link",style:{padding:0,height:"auto"},onClick:function(){return qe((0,d.Z)({},a))},children:(0,s.jsx)(i._H,{id:"operation.edit"})}),(0,s.jsx)(h.Z,{title:(0,s.jsx)("div",{style:{color:"red"},children:(0,s.jsx)(i._H,{id:"job.tags.delete.prompt"})}),placement:"topRight",okText:(0,s.jsx)(i._H,{id:"operation.cancel"}),cancelText:(0,s.jsx)(i._H,{id:"operation.delete"}),onCancel:function(){return st(a)},overlayStyle:{width:"300px"},icon:(0,s.jsx)(D.Z,{style:{color:"red"}}),children:(0,s.jsx)(g.Z,{type:"link",style:{padding:0,height:"auto"},children:(0,s.jsx)(i._H,{id:"operation.delete"})})})]})}}];return(0,s.jsxs)(U.gM,{title:(0,s.jsx)(i._H,{id:"job.tags.name"}),extra:(0,s.jsx)(g.Z,{type:"primary",onClick:nt,children:(0,s.jsx)(i._H,{id:"job.tags.create"})},"3"),children:[(0,s.jsxs)(V.Z,{spinning:se,children:[(0,s.jsx)(ve.sL,{name:"ws-job-type-tag-list",refreshDeps:[te,ne,_],pagination:!1,rowKey:function(r){return r.id+""},columns:rt,dataSource:te.data,size:"small"}),(0,s.jsxs)(Q.Z,{justify:"space-between",style:{marginTop:20},children:[(0,s.jsx)("div",{className:te.total==0?q().hidden:"",children:y({id:"pagination.total.strip"},{data:te.total})}),(0,s.jsx)(F.Z,{size:"small",className:te.total==0?q().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:_==null?void 0:_.page_num,defaultCurrent:1,onChange:function(r,a){return He(r,a)},onShowSizeChange:function(r,a){return He(r,a)},total:te.total})]})]}),(0,s.jsx)(P.Z,{maskClosable:!1,keyboard:!1,title:Se?(0,s.jsx)(i._H,{id:"job.tags.edit.tag"}):(0,s.jsx)(i._H,{id:"job.tags.create.tag"}),width:376,onClose:function(){return Te(!1)},open:$e,bodyStyle:{paddingBottom:80},footer:(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsx)(g.Z,{onClick:function(){return Te(!1)},style:{marginRight:8},children:(0,s.jsx)(i._H,{id:"operation.cancel"})}),(0,s.jsx)(g.Z,{onClick:tt,type:"primary",htmlType:"submit",children:Se?(0,s.jsx)(i._H,{id:"operation.update"}):(0,s.jsx)(i._H,{id:"operation.ok"})})]}),children:(0,s.jsx)(V.Z,{spinning:we=="validating",children:(0,s.jsxs)(C.Z,{layout:"vertical",form:v,initialValues:{tag_color:"rgb(255,157,78,1)"},children:[(0,s.jsx)(C.Z.Item,{name:"tag_color",label:(0,s.jsx)(i._H,{id:"job.tags.tag_color"}),rules:[{required:!0,message:y({id:"please.select"})}],children:(0,s.jsx)(me.Z,{})}),(0,s.jsx)(C.Z.Item,{name:"name",label:(0,s.jsx)(i._H,{id:"job.tags.tag.name"}),validateStatus:we,help:Ge,rules:[{required:!0}],children:(0,s.jsx)(Z.Z,{autoComplete:"off",placeholder:y({id:"please.enter"}),onChange:function(r){if(!r.target.value.replace(/\s+/g,"")){$("error"),z(y({id:"please.enter"}));return}z(void 0),$("")}})}),(0,s.jsx)(C.Z.Item,{name:"description",label:(0,s.jsx)(i._H,{id:"job.tags.remarks"}),children:(0,s.jsx)(Z.Z.TextArea,{rows:3,placeholder:y({id:"job.tags.remarks.placeholder"})})})]})})})]})};X.default=Pe},12568:function(G,X,e){"use strict";e.d(X,{oG:function(){return x},_U:function(){return ce},tk:function(){return K},D8:function(){return l}});var de=e(20418),P=e(35832),Y=e(32326),Z=e(22812);function x(j){return V.apply(this,arguments)}function V(){return V=(0,Y.Z)((0,P.Z)().mark(function j(h){return(0,P.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,Z.WY)("/api/job/tag/",{params:h}));case 1:case"end":return g.stop()}},j)})),V.apply(this,arguments)}function ce(j){return Q.apply(this,arguments)}function Q(){return Q=(0,Y.Z)((0,P.Z)().mark(function j(h){return(0,P.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,Z.WY)("/api/job/tag/",{method:"POST",data:(0,de.Z)({},h)}));case 1:case"end":return g.stop()}},j)})),Q.apply(this,arguments)}function K(j,h){return F.apply(this,arguments)}function F(){return F=(0,Y.Z)((0,P.Z)().mark(function j(h,b){return(0,P.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,Z.WY)("/api/job/tag/",{method:"PUT",data:(0,de.Z)((0,de.Z)({},b),{tag_id:h})}));case 1:case"end":return f.stop()}},j)})),F.apply(this,arguments)}function De(j){return request("/api/auth/user/",{params:j})}var l=function(){var j=(0,Y.Z)((0,P.Z)().mark(function h(b){return(0,P.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,Z.WY)("/api/job/tag/",{method:"DELETE",data:b}));case 1:case"end":return f.stop()}},h)}));return function(b){return j.apply(this,arguments)}}()},78358:function(G,X,e){"use strict";e.d(X,{gN:function(){return me},tZ:function(){return ie},yQ:function(){return oe},Pc:function(){return le},cQ:function(){return E},YV:function(){return U},Nq:function(){return fe},JQ:function(){return Ce},iK:function(){return Oe},fD:function(){return y},QN:function(){return H}});var de=e(57359),P=e(34423),Y=e(13059),Z=e(53676),x=e(20418),V=e(51937),ce=e(34516),Q=e(41428),K=e(70772),F=e(6701),De=e(14320),l=e(53479),j=e(79625),h=e(96584),b=e(89963),g=e(70077),f=e(22374),re=e(86252),d=e.n(re),A=e(93329),L=e(74066),w=e(24812),C=e(22812),O=e(97939),S=e(39935),i=e(526),ae=e(6130),t=e(52454),k,q=new Map([["success","#81BF84"],["pass","#81BF84"],["running","#649FF6"],["fail","#C84C5A"]]),me=function(n){var o=(0,w.UO)(),u=o.ws_id;return(0,t.jsxs)(g.Z,{style:{marginBottom:n.bottomHeight},children:[(0,t.jsx)(g.Z.Item,{children:(0,t.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return C.m8.push("/ws/".concat(u,"/test_result"))},children:(0,t.jsx)(C._H,{id:"ws.result.details.test.result"})})}),(0,t.jsx)(g.Z.Item,{children:(0,t.jsx)(C._H,{id:"ws.result.details.result.details"})})]})},ie=function(n){return n==="success"||n===!0?(0,t.jsx)("span",{style:{fontWeight:500,color:"#81BF84"},children:"Success"}):n==="fail"||n===!1?(0,t.jsx)("span",{style:{fontWeight:500,color:"#C84C5A"},children:"Fail"}):n==="running"?(0,t.jsx)("span",{style:{fontWeight:500,color:"#649FF6"},children:"Running"}):n==="stop"?(0,t.jsx)("span",{style:{fontWeight:500,color:"#1D1D1D"},children:"Stop"}):n==="pending"?(0,t.jsx)("span",{style:{fontWeight:500,color:"#1D1D1D"},children:"Pending"}):n==="skip"?(0,t.jsx)("span",{style:{fontWeight:500,color:"#1D1D1D"},children:"Skip"}):(0,t.jsx)(t.Fragment,{})},oe=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(u){return u?(0,t.jsx)(ae.K,{ellipsis:{tooltip:!0},children:u}):n}}},le=function(n){var o=n.title,u=n.width,v=u===void 0?"100%":u,N=n.onEdit,R=n.access,_=(0,f.useRef)(),W=R?(0,t.jsx)(A.Z,{style:{marginLeft:6,cursor:"pointer"},onClick:N}):(0,t.jsx)(A.Z,{style:{marginLeft:6,cursor:"pointer"},onClick:function(){return(0,S.WR)()}});return(0,t.jsx)("div",{ref:_,style:{width:v},children:(0,t.jsxs)(l.Z,{style:{width:v},justify:"start",align:"middle",children:[(0,t.jsx)(h.Z,{placement:"topLeft",title:o,children:(0,t.jsx)("span",{style:{maxWidth:54,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o||"-"})}),W]})})},B=function(n){return q.get(n)||"#D9D9D9"},D=function(n){var o=n.text,u=(0,C.YB)(),v=(0,i.oM)(u.formatMessage({id:"request.copy.success"}));return(0,t.jsx)("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return v(o)},children:u.formatMessage({id:"operation.copy",defaultMessage:"\u590D\u5236"})})},E=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(u){return u?(0,t.jsx)(h.Z,{overlayClassName:d().tootip_overflow,placement:"topLeft",title:(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(F.Z,{span:24,children:u}),(0,t.jsx)(F.Z,{span:24,children:(0,t.jsx)(l.Z,{justify:"center",children:(0,t.jsx)(D,{text:u})})})]}),children:u}):n}}},U=function(n){return n==="decline"?"#C84C5A":n==="normal"?"#000000":n==="increase"?"#81BF84":""},fe=function(n,o,u){return n==="decline"?(0,t.jsx)("span",{style:{color:"#C84C5A"},children:u({id:"ws.result.details.".concat(n)})}):n==="normal"?(0,t.jsx)("span",{style:{color:"#000000"},children:u({id:"ws.result.details.".concat(n)})}):n==="increase"?(0,t.jsx)("span",{style:{color:"#81BF84"},children:u({id:"ws.result.details.".concat(n)})}):o||"-"},ee=(0,O.ZP)(ce.Z)(k||(k=(0,Q.Z)([`
    font-weight: 500;
    width: 72px;
    text-align: center;
    `,`
    text-transform: capitalize;
`])),function(c){var n=c.no_margin;return n?"margin-right: 0;":""}),Me=function(n){return(0,t.jsx)(ee,(0,x.Z)({},n))},ve=function(n){var o=(0,C.YB)(),u=o.formatMessage;return(0,t.jsx)(h.Z,{title:u({id:"ws.result.details.job_state"}),placement:"bottom",children:(0,t.jsx)(ee,(0,x.Z)({},n))})},_e=function(n){var o=n.title;return(0,t.jsx)(Z.Z,{title:o,placement:"right",trigger:"hover",overlayClassName:d().tag_popover_style,children:(0,t.jsx)(L.Z,{style:{color:"rgba(0, 0, 0, 0.65)",verticalAlign:"middle"}})})},s=function(n){var o=n.state;return(0,t.jsx)(Me,(0,x.Z)((0,x.Z)({},n),{},{color:B(o),style:!q.get(o)&&{color:"#1d1d1d"},children:o==="success"?"complete":o}))},Pe=function(n){var o=n.state;return(0,t.jsx)(ve,(0,x.Z)((0,x.Z)({},n),{},{color:B(o),style:!q.get(o)&&{color:"#1d1d1d"},children:o==="success"?"complete":o}))},Ce=function(n){var o=(0,C.YB)(),u=o.formatMessage,v=n.state,N=n.run_state,R=N===void 0?"":N,_=n.state_desc,W=(0,w.UO)(),ue=W.ws_id;return v==="running"?_?(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(s,(0,x.Z)((0,x.Z)({},n),{},{children:v})),(0,t.jsx)(_e,{title:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:_.replace(/(\d+)/g,'<a href="/ws/'.concat(ue,'/test_result/$1" target="_blank">$1</a>'))}})})]}):R?(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(s,(0,x.Z)((0,x.Z)({},n),{},{children:v})),(0,t.jsx)(_e,{title:u({id:"ws.result.details.not.assigned.server"})})]}):(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(s,(0,x.Z)((0,x.Z)({},n),{},{children:v})),(0,t.jsx)(_e,{title:u({id:"ws.result.details.running,please.wait"})})]}):v==="pending"&&_?(0,t.jsxs)(P.Z,{size:0,children:[(0,t.jsx)(s,(0,x.Z)((0,x.Z)({},n),{},{children:v})),(0,t.jsx)(_e,{title:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:_.replace(/(\d+)/g,'<a href="/ws/'.concat(ue,'/test_result/$1" target="_blank">$1</a>'))}})})]}):(0,t.jsx)(s,(0,x.Z)({},n))},Oe=function(n){return(0,t.jsx)(Pe,(0,x.Z)((0,x.Z)({},n),{},{no_margin:1}))},y=function(n){var o=n.title,u=n.desc,v=n.placement,N=v===void 0?"bottom":v;return(0,t.jsxs)(P.Z,{children:[(0,t.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:o}),(0,t.jsx)(h.Z,{overlayClassName:d().table_question_tooltip,placement:N,arrowPointAtCenter:!0,title:u,color:"#fff",children:(0,t.jsx)(L.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})})]})},H=function(n){var o=n.title,u=n.test_value,v=n.value_list,N=n.cv_value,R=n.max_value,_=n.min_value,W=n.metric,ue=n.result,Ie=(0,C.YB)(),te=Ie.formatMessage,Re=(0,i.oM)(te({id:"request.copy.success"})),he=function(se){return se?new Number(se).toFixed(2):null},Ee=he(R),ne=he(_),xe=N,ye=he(u),pe=v.map(function(J){return he(J)}),ge="".concat(W," ").concat(o,`:
Avg: `).concat(ye,`
CV:  `).concat(xe);ge+=Ee?`
Max: `.concat(Ee):"",ge+=ne?`
Min: `.concat(ne):"",ge+=pe.length?`
Test Record
`:"",ge+=pe.reduce(function(J,se,be){return J.concat("(".concat(be+1,") ").concat(se,`
`))},"");var je="".concat(ye,"\xB1").concat(xe),Ae=function(){return ue==="decline"?(0,t.jsx)("span",{className:d().result_popover_span,style:{color:"#C84C5A"},children:je}):ue==="increase"?(0,t.jsx)("span",{className:d().result_popover_span,style:{color:"#81BF84"},children:je}):(0,t.jsx)("span",{className:d().result_popover_span,style:{color:"rgba(0, 0, 0, 0.65)"},children:je})};return(0,t.jsx)(Z.Z,{overlayClassName:d().metric_list_copy,title:(0,t.jsxs)(l.Z,{justify:"space-between",children:[(0,t.jsx)("b",{children:o}),(0,t.jsx)("span",{onClick:function(){return Re(ge)},style:{color:"#1890FF",cursor:"pointer",marginLeft:"8px"},children:(0,t.jsx)(C._H,{id:"operation.copy"})})]}),content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(l.Z,{children:[(0,t.jsx)("b",{children:"Avg\uFF1A"}),(0,t.jsx)("span",{children:ye})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)("b",{children:"CV\uFF1A"}),(0,t.jsx)("span",{children:xe})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)("b",{children:"Max\uFF1A"}),(0,t.jsx)("span",{children:Ee})]}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)("b",{children:"Min\uFF1A"}),(0,t.jsx)("span",{children:ne})]}),pe.length>0&&(0,t.jsx)(l.Z,{style:{marginTop:16},children:(0,t.jsx)("b",{children:"Test Record"})}),pe.map(function(J,se){return(0,t.jsx)(l.Z,{children:"(".concat(se+1,")").concat(J)},se)})]}),children:Ae()})}}}]);
