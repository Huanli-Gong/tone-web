(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2715],{60915:function(je){je.exports={pagination:"pagination___ooSI8",hidden:"hidden___3mzqN",table_empty:"table_empty___KRJ5E"}},32211:function(je){je.exports={drawerWarper:"drawerWarper___zY5oE","upload-help-text":"upload-help-text___1cq3v",contentWarper:"contentWarper___2eAR4"}},15748:function(je){je.exports={TestUpload_root:"TestUpload_root___221c-",not_logged_in:"not_logged_in___1Kcs9",content_header:"content_header___34key",item1:"item1___1dMhG",content_table:"content_table___2liH5"}},26606:function(je,ue,t){"use strict";var s=t(20228),d=t(11382),p=t(14781),q=t(10664),H=t(11849),Ee=t(93224),z=t(67294),ee=t(16917),E=t(60915),c=t.n(E),l=t(85450),A=t(85893),ve=["total","loading","handlePage","showPagination","page","paginationBottom","pageSize","className"],te=function(j){var ce=j.total,ae=ce===void 0?0:ce,C=j.loading,Re=j.handlePage,oe=j.showPagination,R=oe===void 0?!0:oe,y=j.page,m=y===void 0?1:y,v=j.paginationBottom,L=v===void 0?!1:v,T=j.pageSize,M=T===void 0?10:T,Y=j.className,i=(0,Ee.Z)(j,ve),a=(0,ee.YB)(),n=a.formatMessage,f=(0,z.useRef)(null),e=function h(o){var g=o.offsetTop;return o.offsetParent!=null&&(g+=h(o.offsetParent)),g},V=function(){var o=e(f.current);if(o!=0){var g=o-200;o<=377&&(g=o-377),window.scrollTo({top:g,behavior:"smooth"})}};return(0,A.jsxs)(d.Z,{spinning:C,children:[(0,A.jsx)("div",{ref:f}),(0,A.jsx)(l.sL,(0,H.Z)({size:"small",className:"".concat(c().table_empty," ").concat(Y),pagination:!1},i)),R&&(0,A.jsx)("div",{className:"".concat(L?null:"common_pagination"," ").concat(!C&&ae?c().pagination:c().hidden),children:ae>=1&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:ae==0?c().hidden:"",children:n({id:"pagination.total.strip"},{data:ae})}),(0,A.jsx)(q.Z,{className:ae==0?c().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:m,pageSize:M,defaultCurrent:1,size:"small",onChange:function(o,g){Re(o,g),V()},onShowSizeChange:function(o,g){Re(o,g),V()},total:ae})]})})]})};ue.Z=te},14553:function(je,ue,t){"use strict";var s=t(17462),d=t(76772),p=t(20310),q=t(16917),H=t(12788),Ee=t(24480),z=t(85893),ee,E=H.ZP.span(ee||(ee=(0,p.Z)([`
  font-family: PingFangSC;
  font-weight: 400;
  font-size: 14px;
  color: #1890FF;
  letter-spacing: 0;
  line-height: 24px;
  cursor: pointer;
`])));ue.Z=function(){var c=(0,q.YB)(),l=c.formatMessage,A=function(){return q.m8.push("/login?redirect_url=".concat(window.location.pathname))};return(0,z.jsx)(d.Z,{message:(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{children:l({id:"you.haven.not.signed.in"})}),(0,z.jsx)(E,{onClick:A,children:l({id:"go.to.login"})})]}),type:"info",showIcon:!0,closable:!0})}},8142:function(je,ue,t){"use strict";t.d(ue,{VX:function(){return q},Ir:function(){return H},ry:function(){return Ee},nM:function(){return z},Zf:function(){return ee},OV:function(){return E},c0:function(){return c},lk:function(){return l},$L:function(){return A},YK:function(){return ve},ty:function(){return te},th:function(){return Te},_L:function(){return j},E7:function(){return ce},h4:function(){return ae},GW:function(){return C},cQ:function(){return Re},fW:function(){return oe},xN:function(){return R},h5:function(){return y},yE:function(){return m},vS:function(){return v},Qj:function(){return L},o_:function(){return T},NA:function(){return M},ff:function(){return Y}});var s=t(39428),d=t(3182),p=t(16917),q=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/product/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),H=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/product/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),Ee=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/product/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),z=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/product/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),ee=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/product/drag/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),E=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/product/drag/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),c=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/project/drag/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),l=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/project/drag/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),A=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/project/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),ve=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/project/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),te=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/project/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),Te=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/project/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),j=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/repository/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),ce=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/repository/project/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),ae=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/repository/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),C=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/repository/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),Re=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/repository/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),oe=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/relation/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),R=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/relation/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),y=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/relation/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),m=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/relation/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),v=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),L=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),T=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),M=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/branch/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}(),Y=function(){var i=(0,d.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/sys/check/gitlab/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return i.apply(this,arguments)}}()},86377:function(je,ue,t){"use strict";t.r(ue),t.d(ue,{default:function(){return ut}});var s=t(20228),d=t(11382),p=t(57663),q=t(71577),H=t(39428),Ee=t(34792),z=t(48086),ee=t(3182),E=t(2824),c=t(67294),l=t(16917),A=t(14553),ve=t(62350),te=t(24565),Te=t(49111),j=t(19650),ce=t(20136),ae=t(55241),C=t(11849),Re=t(93224),oe=t(20009),R=t(1870),y=t(26606),m=t(24480),v=t(71194),L=t(50146),T=t(13062),M=t(71230),Y=t(47673),i=t(4107),a=t(43358),n=t(34041),f=t(17462),e=t(76772),V=t(9715),h=t(20526),o=t(46167),g=t(36986),w=t(43185),O=t(78661),X=t(73218),re=t(28991),Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},Pe=Ce,se=t(27029),Ne=function(Se,we){return c.createElement(se.Z,(0,re.Z)((0,re.Z)({},Se),{},{ref:we,icon:Pe}))},Me=c.forwardRef(Ne),Oe=Me,r=t(85893),me=L.Z.confirm,de=(0,c.forwardRef)(function(_,Se){var we=(0,l.YB)(),P=we.formatMessage,ge=(0,c.useState)([]),W=(0,E.Z)(ge,2),J=W[0],pe=W[1],D=function(fe){var I=fe.type,De=fe.size,$e=["application/x-tar","application/x-gzip","application/gzip"],ie=$e.indexOf(I)>=0;if(!ie)return z.default.error(P({id:"upload.list.Drawer.valid.type"})),!1;var Be=De/1024/1024<=500;return Be?(pe([fe]),_.onChange(fe),_.callback(fe),!1):(me({title:P({id:"upload.list.Drawer.confirm.title"}),content:P({id:"upload.list.Drawer.confirm.content"}),cancelText:P({id:"operation.cancel"}),okText:P({id:"operation.confirm"}),icon:(0,r.jsx)(X.Z,{style:{color:"#f5222d"}})}),!1)},Le=function(fe){var I=J.filter(function(De){return De.url!==fe.url});pe(I),I.length?(_.onChange(I[0]),_.callback(I[0])):(_.onChange(void 0),_.callback(void 0))};return(0,r.jsx)("div",{ref:Se,children:(0,r.jsx)(O.Z,{accept:"application/x-tar,application/x-gzip",name:"file",beforeUpload:D,fileList:J,onRemove:Le,children:(0,r.jsx)(q.Z,{icon:(0,r.jsx)(Oe,{style:{marginRight:10}}),disabled:!!J.length,children:(0,r.jsx)(l._H,{id:"upload.list.Drawer.upload.button"})})})})}),at=de,it=t(32211),Ve=t.n(it),Ue=(0,c.forwardRef)(function(_,Se){var we=(0,l.YB)(),P=we.formatMessage,ge=(0,oe.UO)(),W=ge.ws_id,J=_.visible,pe=_.baselines,D=_.projects,Le=_.products,Xe=h.Z.useForm(),fe=(0,E.Z)(Xe,1),I=fe[0],De=(0,c.useState)(!1),$e=(0,E.Z)(De,2),ie=$e[0],Be=$e[1],Je=(0,c.useState)(""),B=(0,E.Z)(Je,2),ye=B[0],ke=B[1],Ae=(0,c.useState)(""),ct=(0,E.Z)(Ae,2),qe=ct[0],st=ct[1],Ye=(0,c.useState)(""),et=(0,E.Z)(Ye,2),dt=et[0],pt=et[1],ft=(0,c.useState)([]),ze=(0,E.Z)(ft,2),F=ze[0],Ze=ze[1],S=(0,c.useState)(""),u=(0,E.Z)(S,2),Z=u[0],k=u[1],We=(0,c.useState)(!0),Fe=(0,E.Z)(We,2),Ge=Fe[0],tt=Fe[1],xe=h.Z.useWatch("project_id",I),rt=h.Z.useWatch("product_id",I),N=c.useMemo(function(){return D.length?Object.prototype.toString.call(rt)!=="[object Number]"?[]:D.filter(function(b){var x=b.product_id;return x===rt}):[]},[D,rt]);c.useEffect(function(){if(xe)for(var b=D.length,x=0;x<b;x++){var U=D[x],G=U.id,le=U.product_version;G===xe&&I.setFieldValue("product_version",le)}},[xe,D]);var jt=function(){var b=(0,ee.Z)((0,H.Z)().mark(function x(U){var G,le;return(0,H.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.prev=0,ne.next=3,(0,o.Wt)((0,C.Z)({ws_id:W},U));case 3:G=ne.sent,G.code===200?(le=G.data||[],Ze(le.filter(function(ot){return ot.enable}))):z.default.error(G.msg||P({id:"request.failed"})),ne.next=10;break;case 7:ne.prev=7,ne.t0=ne.catch(0),console.log(ne.t0);case 10:case"end":return ne.stop()}},x,null,[[0,7]])}));return function(U){return b.apply(this,arguments)}}();(0,c.useEffect)(function(){J&&jt({})},[J]);var vt=function(){try{var x,U=I.getFieldsValue(),G=!1;(x=Object.keys(U))===null||x===void 0||x.forEach(function(le){!U[le]&&le!=="baseline_id"&&le!=="ip"&&(G=!0)}),tt(G)}catch(le){tt(!0)}};(0,c.useEffect)(function(){return window.addEventListener("click",vt),function(){window.removeEventListener("click",vt)}},[]);var gt=function(){ke(""),st(""),pt(""),Ze([]),k("")},yt=function(){gt(),I.resetFields(),_.callback({title:""})},Ct=function(){I.validateFields().then(function(){var x=(0,ee.Z)((0,H.Z)().mark(function U(G){var le,mt,ne,ot,Zt;return(0,H.Z)().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:if(le=G.product_version,le.trim()){nt.next=4;break}return I.setFields([{name:"product_version",value:null,errors:[P({id:"upload.list.Drawer.product_version.message"})]}]),nt.abrupt("return");case 4:return Be(!0),mt=(0,C.Z)((0,C.Z)({ws_id:W,server_type:ye,test_type:qe},G),{},{product_version:le.trim()}),nt.next=8,(0,g.$L)(mt);case 8:ne=nt.sent,ot=ne.code,Zt=ne.msg,Be(!1),ot===200?(z.default.success(P({id:"request.create.success"})),gt(),I.resetFields(),_.callback({title:"ok"})):z.default.error(Zt||P({id:"request.create.failed"}));case 13:case"end":return nt.stop()}},U)}));return function(U){return x.apply(this,arguments)}}()).catch(function(){Be(!1)})},bt=function(){I.setFieldsValue({project_id:void 0})},St=function(){I.setFieldsValue({project_id:void 0}),vt()},wt=function(x){k(x),I.setFieldsValue({baseline_id:void 0});var U=F.filter(function(ot){return ot.id===x});if(U.length){var G=U[0],le=G.server_type,mt=G.test_type,ne=G.has_baseline;ke(le),st(mt),pt(ne)}},xt=function(){k(""),I.setFieldsValue({baseline_id:void 0}),vt()},ht=P({id:"please.select"});return(0,r.jsx)(L.Z,{title:(0,r.jsx)(l._H,{id:"upload.list.Drawer.title"}),width:460,open:J,maskClosable:!ie,onCancel:ie?function(){}:yt,className:Ve().drawerWarper,footer:(0,r.jsx)("div",{style:{textAlign:"right"},children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(q.Z,{onClick:yt,disabled:ie,children:(0,r.jsx)(l._H,{id:"operation.cancel"})}),(0,r.jsx)(q.Z,{onClick:Ct,type:"primary",disabled:Ge||ie,children:(0,r.jsx)(l._H,{id:"operation.confirm"})})]})}),children:(0,r.jsxs)("div",{className:Ve().contentWarper,ref:Se,children:[(0,r.jsx)(e.Z,{message:(0,r.jsx)(l._H,{id:"upload.list.Drawer.upload.Alert"}),type:"info",showIcon:!0,style:{marginBottom:20,padding:"4px 15px"}}),(0,r.jsx)(d.Z,{spinning:ie,children:(0,r.jsxs)(h.Z,{form:I,layout:"vertical",children:[(0,r.jsx)(h.Z.Item,{label:(0,r.jsx)(l._H,{id:"upload.list.Drawer.product"}),name:"product_id",rules:[{required:!0,message:ht}],children:(0,r.jsx)(n.Z,{allowClear:!0,style:{width:"100%"},placeholder:(0,r.jsx)(l._H,{id:"upload.list.Drawer.product.placeholder"}),getPopupContainer:function(x){return x.parentNode},onChange:bt,onClear:St,autoFocus:!0,showSearch:!0,filterOption:function(x,U){return U.label.toLowerCase().indexOf(x.toLowerCase())>=0},options:Le==null?void 0:Le.map(function(b){return{value:b.id,label:b.name}})})}),(0,r.jsx)(h.Z.Item,{label:(0,r.jsx)(l._H,{id:"upload.list.Drawer.project"}),name:"project_id",rules:[{required:!0,message:ht}],children:(0,r.jsx)(n.Z,{placeholder:(0,r.jsx)(l._H,{id:"upload.list.Drawer.project.placeholder"}),getPopupContainer:function(x){return x.parentNode},disabled:!rt||!(N!=null&&N.length),showSearch:!0,filterOption:function(x,U){return U.label.toLowerCase().indexOf(x.toLowerCase())>=0},options:N==null?void 0:N.map(function(b){return{value:b.id,label:b.name}})})}),(0,r.jsx)(h.Z.Item,{label:P({id:"upload.list.Drawer.product_version"}),name:"product_version",rules:[{required:!0,message:P({id:"upload.list.Drawer.product_version.message"})}],children:(0,r.jsx)(i.Z,{placeholder:P({id:"upload.list.Drawer.product_version.placeholder"}),disabled:!xe,allowClear:!0})}),(0,r.jsx)(h.Z.Item,{label:(0,r.jsx)(l._H,{id:"upload.list.Drawer.job_type"}),name:"job_type_id",rules:[{required:!0,message:ht}],children:(0,r.jsx)(n.Z,{allowClear:!0,placeholder:(0,r.jsx)(l._H,{id:"upload.list.Drawer.job_type.placeholder"}),getPopupContainer:function(x){return x.parentNode},onChange:wt,onClear:xt,showSearch:!0,filterOption:function(x,U){var G;return((G=U.search)===null||G===void 0?void 0:G.toLowerCase().indexOf(x.toLowerCase()))>=0},options:F==null?void 0:F.map(function(b){return{value:b.id,search:b.name,label:(0,r.jsxs)(M.Z,{justify:"space-between",children:[(0,r.jsx)("span",{children:b.name}),(0,r.jsxs)("span",{children:[(0,m.lN)(b.test_type,P)," | ",(0,m.a5)(b.server_type,P)]})]})}})})}),dt?(0,r.jsx)(h.Z.Item,{label:(0,r.jsx)(l._H,{id:"upload.list.Drawer.baseline"}),name:"baseline_id",rules:[{required:!1,message:ht}],children:(0,r.jsx)(n.Z,{allowClear:!0,placeholder:(0,r.jsx)(l._H,{id:"upload.list.Drawer.baseline.placeholder"}),getPopupContainer:function(x){return x.parentNode},disabled:!Z||!(pe!=null&&pe.length),showSearch:!0,filterOption:function(x,U){return U.label.toLowerCase().indexOf(x.toLowerCase())>=0},options:pe==null?void 0:pe.map(function(b){return{label:b.name,value:b.id}})})}):null,(0,r.jsx)(h.Z.Item,{label:(0,r.jsx)(l._H,{id:"upload.list.Drawer.ip"}),name:"ip",rules:[{required:!1}],children:(0,r.jsx)(i.Z,{placeholder:P({id:"upload.list.Drawer.ip.placeholder"})})}),(0,r.jsx)(h.Z.Item,{label:(0,r.jsx)(l._H,{id:"upload.list.Drawer.result"}),name:"file",rules:[{required:!0,message:P({id:"upload.list.Drawer.upload.message"})}],extra:P({id:"upload.list.Drawer.upload.supportText"})+": .tar\u3001.tar.gz",children:(0,r.jsx)(at,{callback:vt})})]})})]})})}),be=Ue,$=t(10753),Q=t(78037),_e=t(37763),he=t.n(_e),He=t(8142),Ke=t(88896),lt=["code","msg","total"],K=(0,c.forwardRef)(function(_,Se){var we=(0,l.YB)(),P=we.formatMessage,ge=(0,oe.UO)(),W=ge.ws_id,J=c.useState({data:[],total:0,page_num:1,page_size:20}),pe=(0,E.Z)(J,2),D=pe[0],Le=pe[1],Xe=c.useState(!1),fe=(0,E.Z)(Xe,2),I=fe[0],De=fe[1],$e=(0,l.md)(),ie={page_num:1,page_size:20,ws_id:W},Be=c.useState(ie),Je=(0,E.Z)(Be,2),B=Je[0],ye=Je[1],ke=(0,l.QT)(function(){return(0,He.YK)({ws_id:W,page_size:999})},{initialData:[]}),Ae=ke.data,ct=(0,l.QT)(function(){return(0,He.VX)({ws_id:W,page_size:999})},{initialData:[]}),qe=ct.data,st=(0,l.QT)(function(){return(0,Ke.bU)({ws_id:W})},{initialData:[]}),Ye=st.data,et=function(){var S=(0,ee.Z)((0,H.Z)().mark(function u(){var Z,k,We,Fe,Ge,tt,xe=arguments;return(0,H.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return Z=xe.length>0&&xe[0]!==void 0?xe[0]:B,_.loadingCallback({loading:!0}),N.prev=2,N.next=5,(0,g.qc)(Z);case 5:if(N.t0=N.sent,N.t0){N.next=8;break}N.t0={};case 8:k=N.t0,We=k.code,Fe=k.msg,Ge=k.total,tt=(0,Re.Z)(k,lt),We===200?(Le((0,C.Z)((0,C.Z)({},tt),{},{total:Ge})),_.refreshCallback(Ge)):z.default.error(Fe||P({id:"request.failed"})),_.loadingCallback({loading:!1}),N.next=20;break;case 17:N.prev=17,N.t1=N.catch(2),_.loadingCallback({loading:!1});case 20:case"end":return N.stop()}},u,null,[[2,17]])}));return function(){return S.apply(this,arguments)}}(),dt=function(u){(0,g.hu)({pk:u.id}).then(function(Z){if(Z.code===200){z.default.success(P({id:"request.delete.success"}));var k=D.page_num,We=D.page_size,Fe=D.total,Ge=Fe===void 0?0:Fe,tt=Ge%We==1,xe=Math.floor(Ge/We);tt&&xe&&xe+1<=k?ye(function(rt){return(0,C.Z)((0,C.Z)({},rt),{},{page_num:xe})}):et()}else z.default.error(Z.msg||P({id:"request.delete.failed"}))}).catch(function(Z){console.log(Z)})};(0,c.useEffect)(function(){et()},[B]),(0,c.useImperativeHandle)(Se,function(){return{showModal:function(){De(!0)}}});var pt=function(u){var Z=u.title;Z==="ok"&&ye(ie),De(!1)},ft=function(u,Z){ye(function(k){return(0,C.Z)((0,C.Z)({},k),{},{page_num:u,page_size:Z})})},ze=function(u){var Z=u.content,k=Z===void 0?"":Z;return(0,r.jsx)(ae.Z,{placement:"top",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l._H,{id:"upload.list.table.state.question"}),k]}),children:(0,r.jsx)(R.Z,{style:{color:"rgba(0, 0, 0, 0.55)"}})})},F=function(u){var Z=u.title,k=Z===void 0?"":Z,We=u.content,Fe=We===void 0?"":We;switch(k){case"file":return(0,r.jsx)("span",{style:{color:"#649FF6",fontFamily:"PingFangSC-Semibold"},children:"Upload"});case"running":return(0,r.jsx)("span",{style:{color:"#649FF6",fontFamily:"PingFangSC-Semibold"},children:"Upload"});case"success":return(0,r.jsx)("span",{style:{color:"#81BF84",fontFamily:"PingFangSC-Semibold"},children:"Success"});case"fail":return(0,r.jsxs)("span",{style:{color:"#C84C5A",fontFamily:"PingFangSC-Semibold"},children:["Fail ",(0,r.jsx)(ze,{content:Fe})]});default:return(0,r.jsx)(r.Fragment,{children:"-"})}},Ze=[(0,C.Z)((0,C.Z)({title:(0,r.jsx)(l._H,{id:"upload.list.table.product"}),dataIndex:"product_name",ellipsis:{showTitle:!1}},(0,Q.Ht)(B,ye,qe==null?void 0:qe.map(function(S){return{name:S.name,value:S.id}}),"product_id")),{},{render:function(u,Z){return(0,r.jsx)($.K,{ellipsis:{tooltip:Z==null?void 0:Z.product_name},children:(0,r.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[(B==null?void 0:B.product_name)||""],autoEscape:!0,textToHighlight:Z==null?void 0:Z.product_name})})}}),(0,C.Z)((0,C.Z)({title:(0,r.jsx)(l._H,{id:"upload.list.table.project"}),dataIndex:"project_name",ellipsis:{showTitle:!1}},(0,Q.Ht)(B,ye,Ae==null?void 0:Ae.map(function(S){return{name:S.name,value:S.id}}),"project_id")),{},{render:function(u){return(0,r.jsx)($.K,{ellipsis:{tooltip:!0},children:u})}}),(0,C.Z)((0,C.Z)({title:(0,r.jsx)(l._H,{id:"upload.list.table.state"}),dataIndex:"state"},(0,Q.Ht)(B,ye,[{name:"Upload",value:"running"},{name:"Success",value:"success"},{name:"Fail",value:"fail"}],"state")),{},{render:function(u,Z){return(0,r.jsx)(F,{title:u,content:Z.state_desc})}}),(0,C.Z)((0,C.Z)({title:(0,r.jsx)(l._H,{id:"upload.list.table.testType"}),dataIndex:"test_type"},(0,Q.Ht)(B,ye,m.oQ.map(function(S){return{name:P({id:S.value}),value:S.value}}),"test_type")),{},{render:function(u){return(0,r.jsx)("span",{children:m.oQ.filter(function(Z){return Z.value==u}).map(function(Z){return P({id:Z.value})})})}}),(0,C.Z)((0,C.Z)({title:(0,r.jsx)(l._H,{id:"upload.list.table.baseline"}),dataIndex:"baseline_name",ellipsis:{showTitle:!1}},(0,Q.Ht)(B,ye,Ye==null?void 0:Ye.map(function(S){return{name:S.name,value:S.id}}),"baseline_id")),{},{render:function(u){return(0,r.jsx)($.K,{ellipsis:{tooltip:!0},children:u})}}),(0,C.Z)((0,C.Z)({title:(0,r.jsx)(l._H,{id:"upload.list.table.uploader"}),dataIndex:"uploader"},(0,Q.ln)(B,ye,"uploader")),{},{ellipsis:!0,render:function(u){return(0,r.jsx)("span",{children:u||"-"})}}),(0,C.Z)((0,C.Z)({title:(0,r.jsx)(l._H,{id:"upload.list.table.date"}),dataIndex:"gmt_created",ellipsis:{showTitle:!1}},(0,Q.hC)([B==null?void 0:B.start_time,B==null?void 0:B.end_time],function(S){ye(function(u){return(0,C.Z)((0,C.Z)({},u),{},{page_num:1},S)})})),{},{render:function(u){return(0,r.jsx)("span",{children:u||"-"})}}),{title:(0,r.jsx)(l._H,{id:"Table.columns.operation"}),ellipsis:{showTitle:!1},width:180,fixed:"right",key:"operation",render:function(u,Z){return(0,r.jsx)(j.Z,{children:["file","running"].includes(Z.state)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{style:{opacity:.25},children:(0,r.jsx)(l._H,{id:"operation.view"})}),(0,r.jsx)("span",{style:{opacity:.25},children:(0,r.jsx)(l._H,{id:"operation.download"})})]}):(0,r.jsxs)(r.Fragment,{children:[Z.state!=="fail"?(0,r.jsx)("a",{href:Z.job_link,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(l._H,{id:"operation.view"})}):(0,r.jsx)("span",{style:{opacity:.25},children:(0,r.jsx)(l._H,{id:"operation.view"})}),(0,r.jsx)(l.Nv,{accessible:$e.WsTourist(),children:(0,r.jsx)(l.Nv,{accessible:$e.WsMemberOperateSelf(Z.creator),fallback:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)("a",{onClick:function(){return(0,m.WR)()},children:(0,r.jsx)(l._H,{id:"operation.download"})}),(0,r.jsx)("a",{onClick:function(){return(0,m.WR)()},children:(0,r.jsx)(l._H,{id:"operation.delete"})})]}),children:(0,r.jsxs)(j.Z,{children:[Z.state!=="fail"?(0,r.jsx)("a",{href:Z.file_link,target:"_blank",rel:"noreferrer",children:(0,r.jsx)(l._H,{id:"operation.download"})}):(0,r.jsx)("span",{style:{opacity:.25},children:(0,r.jsx)(l._H,{id:"operation.download"})}),(0,r.jsx)(te.Z,{placement:"topRight",title:(0,r.jsx)(l._H,{id:"delete.prompt"}),onConfirm:function(){return dt(Z)},okText:(0,r.jsx)(l._H,{id:"operation.confirm"}),cancelText:(0,r.jsx)(l._H,{id:"operation.cancel"}),children:(0,r.jsx)("a",{children:(0,r.jsx)(l._H,{id:"operation.delete"})})})]})})})]})})}}];return(0,r.jsxs)("div",{children:[(0,r.jsx)(y.Z,{loading:!1,columns:Ze,name:"ws-offline-upload",refreshDeps:[$e,B,Ae,Ye],total:(D==null?void 0:D.total)||0,page:(D==null?void 0:D.page_num)||ie.page_num,pageSize:(D==null?void 0:D.page_size)||ie.page_size,dataSource:(D==null?void 0:D.data)||[],handlePage:ft}),(0,r.jsx)(be,{visible:I,callback:pt,baselines:Ye,products:qe,projects:Ae})]})}),Qe=t(15748),Ie=t.n(Qe),ut=function(_){var Se=(0,l.YB)(),we=Se.formatMessage,P=_.match.params.ws_id,ge=(0,c.useState)(!0),W=(0,E.Z)(ge,2),J=W[0],pe=W[1],D=(0,c.useState)("record"),Le=(0,E.Z)(D,2),Xe=Le[0],fe=Le[1],I=(0,c.useState)(0),De=(0,E.Z)(I,2),$e=De[0],ie=De[1],Be=(0,c.useRef)(null),Je=(0,l.tT)("@@initialState"),B=Je.initialState,ye=Je.setInitialState,ke=B.authList,Ae=(0,l.md)(),ct=function(){var ze=(0,ee.Z)((0,H.Z)().mark(function F(){var Ze;return(0,H.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,g.ST)({});case 3:if(u.t0=u.sent,u.t0){u.next=6;break}u.t0={};case 6:Ze=u.t0,Ze.code===200?ie(Ze.data||0):z.default.error(Ze.msg||we({id:"request.failed"})),u.next=13;break;case 10:u.prev=10,u.t1=u.catch(0),console.log(u.t1);case 13:case"end":return u.stop()}},F,null,[[0,10]])}));return function(){return ze.apply(this,arguments)}}(),qe=function(F){fe(F)},st=function(F){var Ze=F.loading;pe(Ze)},Ye=function(F){F!==$e&&ie(F)},et=function(){var F;(F=Be.current)===null||F===void 0||F.showModal()},dt=[{name:we({id:"TestUpload.tab.record"}),key:"record"}],pt=function(F){var Ze={backgroundColor:"#E6F7FF",color:"#1890FF",marginTop:-3},S={backgroundColor:"#0000000a",color:"#000",marginTop:-3};return Xe===F?Ze:S},ft=(0,r.jsx)(l.Nv,{accessible:Ae.IsWsSetting(),children:(0,r.jsx)(q.Z,{type:"primary",onClick:et,children:(0,r.jsx)(l._H,{id:"TestUpload.tab.tabBarExtraContent.upload"})})});return(0,r.jsxs)("div",{className:Ie().TestUpload_root,children:[!J&&!(ke!=null&&ke.user_id)?(0,r.jsx)("div",{className:Ie().not_logged_in,children:(0,r.jsx)(A.Z,{})}):null,(0,r.jsxs)("div",{className:Ie().content_header,children:[(0,r.jsx)("div",{className:Ie().item1,children:dt[0].name}),ft]}),(0,r.jsx)(d.Z,{spinning:J,children:(0,r.jsx)("div",{className:Ie().content_table,children:(0,r.jsx)(K,{ref:Be,ws_id:P,loadingCallback:st,refreshCallback:Ye})})})]})}},36986:function(je,ue,t){"use strict";t.d(ue,{ST:function(){return q},qc:function(){return Ee},hu:function(){return ee},$L:function(){return c}});var s=t(39428),d=t(3182),p=t(16917);function q(R){return H.apply(this,arguments)}function H(){return H=(0,d.Z)((0,s.Z)().mark(function R(y){return(0,s.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,p.WY)("/api/user/summary",{method:"GET",params:y}));case 1:case"end":return v.stop()}},R)})),H.apply(this,arguments)}function Ee(R){return z.apply(this,arguments)}function z(){return z=(0,d.Z)((0,s.Z)().mark(function R(y){return(0,s.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,p.WY)("/api/job/test/upload/offline/",{method:"GET",params:y}));case 1:case"end":return v.stop()}},R)})),z.apply(this,arguments)}function ee(R){return E.apply(this,arguments)}function E(){return E=(0,d.Z)((0,s.Z)().mark(function R(y){return(0,s.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,p.WY)("/api/job/test/upload/offline/",{method:"DELETE",data:y}));case 1:case"end":return v.stop()}},R)})),E.apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return l=(0,d.Z)((0,s.Z)().mark(function R(){var y,m,v=arguments;return(0,s.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return y=v.length>0&&v[0]!==void 0?v[0]:{},m=new FormData,Object.keys(y).forEach(function(M){y[M]&&m.append(M,y[M])}),T.abrupt("return",(0,p.WY)("/api/job/test/upload/offline/",{method:"post",data:m}));case 4:case"end":return T.stop()}},R)})),l.apply(this,arguments)}function A(){return ve.apply(this,arguments)}function ve(){return ve=_asyncToGenerator(_regeneratorRuntime().mark(function R(){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("/api/product_list",{method:"GET"}));case 1:case"end":return m.stop()}},R)})),ve.apply(this,arguments)}function te(){return Te.apply(this,arguments)}function Te(){return Te=_asyncToGenerator(_regeneratorRuntime().mark(function R(){var y,m,v,L,T=arguments;return _regeneratorRuntime().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return y=T.length>0&&T[0]!==void 0?T[0]:{},m=y.parentId,v=y.searchKeyword,L=v?"/api/project_list/".concat(m,"/").concat(v):"/api/project_list/".concat(m),Y.abrupt("return",request(L,{method:"GET"}));case 4:case"end":return Y.stop()}},R)})),Te.apply(this,arguments)}function j(){return ce.apply(this,arguments)}function ce(){return ce=_asyncToGenerator(_regeneratorRuntime().mark(function R(){var y,m,v,L,T,M,Y=arguments;return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return y=Y.length>0&&Y[0]!==void 0?Y[0]:{},m=y.page,v=y.pageSize,L=y.parentId,T=y.searchKeyword,M=T?"/api/baseline/".concat(T,"/").concat(L,"/").concat(m,"/").concat(v):"/api/baseline/".concat(L,"/").concat(m,"/").concat(v),a.abrupt("return",request(M,{method:"GET"}));case 4:case"end":return a.stop()}},R)})),ce.apply(this,arguments)}function ae(){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function R(){var y,m,v,L,T,M=arguments;return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return y=M.length>0&&M[0]!==void 0?M[0]:{},m=y.searchKeyword,v=y.page,L=y.pageSize,T=m?"/api/biz_list/".concat(m,"/").concat(v,"/").concat(L):"/api/biz_list/".concat(v,"/").concat(L),i.abrupt("return",request(T,{method:"GET"}));case 4:case"end":return i.stop()}},R)})),C.apply(this,arguments)}function Re(){return oe.apply(this,arguments)}function oe(){return oe=_asyncToGenerator(_regeneratorRuntime().mark(function R(){var y,m,v=arguments;return _regeneratorRuntime().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return y=v.length>0&&v[0]!==void 0?v[0]:{},m=new FormData,Object.keys(y).forEach(function(M){m.append(M,y[M])}),T.abrupt("return",request("/api/job/test/upload/tar/",{method:"post",data:m}));case 4:case"end":return T.stop()}},R)})),oe.apply(this,arguments)}},85450:function(je,ue,t){"use strict";t.d(ue,{sL:function(){return i},ny:function(){return M},Fu:function(){return Y}});var s=t(11849),d=t(2824),p=t(93224),q=t(32059),H=t(66456),Ee=t(79764),z=t(86582),ee=t(19273),E=t(20310),c=t(67294),l=t(1706),A=t(12788),ve=t(57392),te=t(85893),Te=["width","onResizeStart","onResize","onResizeStop","resize"],j=["columns","name","onColumnsChange"],ce,ae,C,Re=A.ZP.div(ce||(ce=(0,E.Z)([`
    position: relative;
    width: 100%;
`]))),oe=A.ZP.div.attrs(function(a){return{style:{left:a.left,height:a==null?void 0:a.height}}})(ae||(ae=(0,E.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),R=(0,A.ZP)(l.Resizable)(C||(C=(0,E.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(a){var n=a.resize;return n?"col-resize":"default"}),y=function(n){var f=n.width,e=n.onResizeStart,V=n.onResize,h=n.onResizeStop,o=n.resize,g=(0,p.Z)(n,Te);return(0,te.jsx)(R,(0,s.Z)((0,s.Z)({width:f||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:e,onResize:V,onResizeStop:h,resize:o?1:0},g),{},{children:(0,te.jsx)("th",(0,s.Z)({},g))}))},m=function(n){var f=n.columns,e=f===void 0?[]:f,V=n.name,h=n.onColumnsChange,o=(0,p.Z)(n,j),g=c.useState(0),w=(0,d.Z)(g,2),O=w[0],X=w[1],re=c.useState(0),Ce=(0,d.Z)(re,2),Pe=Ce[0],se=Ce[1],Ne=c.useState(!1),Me=(0,d.Z)(Ne,2),Oe=Me[0],r=Me[1],me=c.useRef(null),de=(0,ve.Z)(me),at=function($){return function(Q,_e){var he;if((0,ee.Z)(_e),!!e[$].ellipsis){var He=Q.clientX,Ke=He-((he=me.current)===null||he===void 0?void 0:he.getBoundingClientRect().x);se(Ke),X(Ke),r(!0)}}},it=function(){return function($){var Q,_e=$.clientX,he=_e-((Q=me.current)===null||Q===void 0?void 0:Q.getBoundingClientRect().x);X(he)}},Ve=function($){return function(Q,_e){var he,He=_e.size,Ke=Q.clientX,lt=Ke-((he=me.current)===null||he===void 0?void 0:he.getBoundingClientRect().x),K=(0,z.Z)(e);if(K[$].ellipsis){var Qe=He.width+=lt-Pe,Ie=K[$],ut=Ie.dataIndex,_=Ie.key;Qe>20&&(K[$]=(0,s.Z)((0,s.Z)({},K[$]),{},{width:Qe}),V&&Y(V,ut||_,Qe),h==null||h())}X(0),se(0),r(!1)}},Ue=c.useMemo(function(){return e.reduce(function(be,$){return $.width?be+=$==null?void 0:$.width:be},0)},[e]);return(0,te.jsxs)(Re,{ref:me,className:"resize-table-wrapper",children:[(0,te.jsx)(Ee.Z,(0,s.Z)((0,s.Z)({},o),{},{components:{header:{cell:y}},scroll:(n==null?void 0:n.scroll)||{x:Ue||(de==null?void 0:de.width)},columns:e.filter(Boolean).map(function(be,$){return(0,s.Z)((0,s.Z)({},be),{},{onHeaderCell:function(_e){return{resize:!!be.ellipsis,width:_e.width,onResizeStart:at($),onResize:it(),onResizeStop:Ve($)}}})})})),Oe&&(0,te.jsx)(oe,{height:de==null?void 0:de.height,left:O||Pe})]})},v=m,L=["name","columns","refreshDeps","onColumnsChange"],T="umi_locale",M=function(n,f){var e=localStorage.getItem(n),V=localStorage.getItem(T)||"zh-CN";if(!!e)return JSON.parse(e)["".concat(V,"-").concat(f)]},Y=function(n,f,e){var V=localStorage.getItem(n),h=localStorage.getItem(T)||"zh-CN",o=(0,q.Z)({},"".concat(h,"-").concat(f),e);V?localStorage.setItem(n,JSON.stringify(Object.assign(JSON.parse(V),o))):localStorage.setItem(n,JSON.stringify(o))},i=function(n){var f=n.name,e=n.columns,V=n.refreshDeps,h=V===void 0?[]:V,o=n.onColumnsChange,g=(0,p.Z)(n,L),w=c.useState([]),O=(0,d.Z)(w,2),X=O[0],re=O[1],Ce=function(){return(e==null?void 0:e.filter(Boolean).map(function(se){var Ne=se.dataIndex,Me=se.key,Oe=se.width,r=Ne||Me,me=M(f,r);!me&&Oe&&Y(f,r,Oe);var de=me||Oe;return de&&(se.width=de),se}))||[]};return c.useEffect(function(){re(Ce())},h),(0,te.jsx)(v,(0,s.Z)({name:f,columns:X,setColumns:re,size:"small",onColumnsChange:function(){o==null||o(),re(Ce())}},g))}},76772:function(je,ue,t){"use strict";t.d(ue,{Z:function(){return V}});var s=t(22122),d=t(28481),p=t(96156),q=t(38819),H=t(15873),Ee=t(43061),z=t(73218),ee=t(54549),E=t(68855),c=t(57119),l=t(40847),A=t(68628),ve=t(94184),te=t.n(ve),Te=t(4733),j=t(67294),ce=t(53124),ae=t(5467),C=t(96159),Re=t(6610),oe=t(5991),R=t(46070),y=t(51814),m=t(77608),v=t(10379);function L(h,o,g){return o=(0,m.Z)(o),(0,R.Z)(h,(0,y.Z)()?Reflect.construct(o,g||[],(0,m.Z)(h).constructor):o.apply(h,g))}var T=function(h){(0,v.Z)(o,h);function o(){var g;return(0,Re.Z)(this,o),g=L(this,o,arguments),g.state={error:void 0,info:{componentStack:""}},g}return(0,oe.Z)(o,[{key:"componentDidCatch",value:function(w,O){this.setState({error:w,info:O})}},{key:"render",value:function(){var w=this.props,O=w.message,X=w.description,re=w.children,Ce=this.state,Pe=Ce.error,se=Ce.info,Ne=se&&se.componentStack?se.componentStack:null,Me=typeof O=="undefined"?(Pe||"").toString():O,Oe=typeof X=="undefined"?Ne:X;return Pe?j.createElement(V,{type:"error",message:Me,description:j.createElement("pre",null,Oe)}):re}}]),o}(j.Component),M=T,Y=function(h,o){var g={};for(var w in h)Object.prototype.hasOwnProperty.call(h,w)&&o.indexOf(w)<0&&(g[w]=h[w]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,w=Object.getOwnPropertySymbols(h);O<w.length;O++)o.indexOf(w[O])<0&&Object.prototype.propertyIsEnumerable.call(h,w[O])&&(g[w[O]]=h[w[O]]);return g},i={success:q.Z,info:l.Z,error:Ee.Z,warning:E.Z},a={success:H.Z,info:A.Z,error:z.Z,warning:c.Z},n=function(o){var g=o.description,w=o.icon,O=o.prefixCls,X=o.type,re=(g?a:i)[X]||null;return w?(0,C.wm)(w,j.createElement("span",{className:"".concat(O,"-icon")},w),function(){return{className:te()("".concat(O,"-icon"),(0,p.Z)({},w.props.className,w.props.className))}}):j.createElement(re,{className:"".concat(O,"-icon")})},f=function(o){var g=o.isClosable,w=o.closeText,O=o.prefixCls,X=o.closeIcon,re=o.handleClose;return g?j.createElement("button",{type:"button",onClick:re,className:"".concat(O,"-close-icon"),tabIndex:0},w?j.createElement("span",{className:"".concat(O,"-close-text")},w):X):null},e=function(o){var g=o.description,w=o.prefixCls,O=o.message,X=o.banner,re=o.className,Ce=re===void 0?"":re,Pe=o.style,se=o.onMouseEnter,Ne=o.onMouseLeave,Me=o.onClick,Oe=o.afterClose,r=o.showIcon,me=o.closable,de=o.closeText,at=o.closeIcon,it=at===void 0?j.createElement(ee.Z,null):at,Ve=o.action,Ue=Y(o,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),be=j.useState(!1),$=(0,d.Z)(be,2),Q=$[0],_e=$[1],he=j.useRef(),He=j.useContext(ce.E_),Ke=He.getPrefixCls,lt=He.direction,K=Ke("alert",w),Qe=function(W){var J;_e(!0),(J=Ue.onClose)===null||J===void 0||J.call(Ue,W)},Ie=function(){var W=Ue.type;return W!==void 0?W:X?"warning":"info"},ut=de?!0:me,_=Ie(),Se=X&&r===void 0?!0:r,we=te()(K,"".concat(K,"-").concat(_),(0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)({},"".concat(K,"-with-description"),!!g),"".concat(K,"-no-icon"),!Se),"".concat(K,"-banner"),!!X),"".concat(K,"-rtl"),lt==="rtl"),Ce),P=(0,ae.Z)(Ue);return j.createElement(Te.ZP,{visible:!Q,motionName:"".concat(K,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(W){return{maxHeight:W.offsetHeight}},onLeaveEnd:Oe},function(ge){var W=ge.className,J=ge.style;return j.createElement("div",(0,s.Z)({ref:he,"data-show":!Q,className:te()(we,W),style:(0,s.Z)((0,s.Z)({},Pe),J),onMouseEnter:se,onMouseLeave:Ne,onClick:Me,role:"alert"},P),Se?j.createElement(n,{description:g,icon:Ue.icon,prefixCls:K,type:_}):null,j.createElement("div",{className:"".concat(K,"-content")},O?j.createElement("div",{className:"".concat(K,"-message")},O):null,g?j.createElement("div",{className:"".concat(K,"-description")},g):null),Ve?j.createElement("div",{className:"".concat(K,"-action")},Ve):null,j.createElement(f,{isClosable:!!ut,closeText:de,prefixCls:K,closeIcon:it,handleClose:Qe}))})};e.ErrorBoundary=M;var V=e}}]);
