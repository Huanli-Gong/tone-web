(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[1967],{77429:function(ne){ne.exports={test_result_name:"test_result_name___1RBzL",test_summary_item:"test_summary_item___3-Yoh",test_summary_item_right:"test_summary_item_right___2UQVi",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___2cRIc",test_summary_job:"test_summary_job___2a2-P",test_summary_row:"test_summary_row___1zXMg",detail_collection:"detail_collection___1_th-",offline_flag:"offline_flag___3BdpH",ellips_column_refclass:"ellips_column_refclass___30H4W",tag_popover_style:"tag_popover_style___1x8MG",table_question_tooltip:"table_question_tooltip___1Ur7e",join_baseline:"join_baseline___Jgafh",select_baseline:"select_baseline___2nHPA"}},85023:function(ne,S,n){"use strict";n.r(S);var Z=n(66456),I=n(79764),fe=n(402),M=n(97272),j=n(11849),y=n(39428),l=n(3182),x=n(36017),z=n(35247),T=n(2824),se=n(7359),ae=n(7964),v=n(20310),h=n(67294),b=n(25782),re=n(60035),he=n(86213),W=n(20009),m=n(16917),xe=n(12788),C=n(72529),oe=n(46167),J=n(24480),$=n(40694),s=n(85893),Y,ge=xe.ZP.div(Y||(Y=(0,v.Z)([`
    .breadcrumb{
        height:50px;
        line-height:50px;
        padding-left:24px;
    }
    .content{
        //background:#fff;
        width: 97%;
        margin: 0 auto;
        height: auto;
        .site-collapse-custom-collapse{
            margin-bottom:16px;
            background:#fff;
            .total{
                height:20px;
                width:30px;
                border-radius: 12px;
                background: rgba(140,140,140,0.10);
                display: inline-block;
                text-align: center;
                margin-left:7px;
                color:rgba(0,0,0,0.75);
                font-size:12px;
                vertical-align: middle;
            }
            .ant-collapse-item > .ant-collapse-content > .ant-collapse-content-box{
                padding-top:2px;
                padding-bottom:1px;
            }
        }
    }
`]))),Q=ae.Z.Panel,Ee=function(je){var le=(0,W.UO)(),K=le.type,De=(0,W.TH)(),V=De.query.pk,Pe=(0,h.useState)(0),ie=(0,T.Z)(Pe,2),R=ie[0],Me=ie[1],ye=(0,h.useState)([]),G=(0,T.Z)(ye,2),_e=G[0],Ae=G[1],Te=(0,h.useState)(0),ce=(0,T.Z)(Te,2),X=ce[0],ue=ce[1],Ce=(0,h.useState)([]),de=(0,T.Z)(Ce,2),U=de[0],A=de[1],Oe=(0,h.useState)(!0),me=(0,T.Z)(Oe,2),pe=me[0],F=me[1],Ze=(0,h.useState)({page_num:1,page_size:10}),ve=(0,T.Z)(Ze,2),o=ve[0],t=ve[1],a=(0,h.useState)({page_num:1,page_size:10}),r=(0,T.Z)(a,2),_=r[0],g=r[1],B=(0,re.CR)(),D=B.height,L=h.useState(),P=(0,T.Z)(L,2),O=P[0],Ie=P[1],be=function(){return(0,s.jsxs)(z.Z,{className:"breadcrumb",children:[(0,s.jsx)(z.Z.Item,{children:(0,s.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return m.m8.push("/system/suite")},children:(0,s.jsx)(m._H,{id:"menu.systemConf.suiteManagement"})})}),(0,s.jsx)(z.Z.Item,{children:(0,s.jsxs)("span",{style:{cursor:"pointer",color:"rgba(0,0,0,0.85)"},children:[+K==1?"Suite":"Conf",(0,s.jsxs)("span",{style:{color:"rgba(0,0,0,0.65)"},children:["(",O==null?void 0:O.name,")"]}),(0,s.jsx)(m._H,{id:"reference.details"})]})})]})},w=(0,h.useMemo)(function(){return R>0},[R]),k=function(){var u=(0,l.Z)((0,y.Z)().mark(function c(){var i,d;return(0,y.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,$.Ic)({pk:V});case 2:if(i=p.sent,d=i.data,d){p.next=6;break}return p.abrupt("return");case 6:Ie(d);case 7:case"end":return p.stop()}},c)}));return function(){return u.apply(this,arguments)}}(),q=function(){var u=(0,l.Z)((0,y.Z)().mark(function c(){var i,d,f,p,Be,Le,Re,Se,N;return(0,y.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return i=O.id,F(!0),d=(0,j.Z)({flag:"job"},o),f=(0,j.Z)({flag:"template"},_),K==="suite"?(d.suite_id=i,f.suite_id=i):(d.case_id_list=i,f.case_id_list=i),E.next=7,(0,oe.Ob)(d);case 7:if(p=E.sent,Be=p.total,Le=p.data,Re=p.code,Se=p.msg,Re===200){E.next=16;break}return(0,J.EV)(Re,Se),F(!1),E.abrupt("return");case 16:return Me(Be),Ae(Le),E.next=20,(0,oe.Ob)(f);case 20:if(N=E.sent,N.code===200){E.next=25;break}return(0,J.EV)(N.code,N.msg),F(!1),E.abrupt("return");case 25:ue(N.total),A(N.data),F(!1);case 28:case"end":return E.stop()}},c)}));return function(){return u.apply(this,arguments)}}();h.useEffect(function(){!O||q()},[O,o,_]),(0,h.useEffect)(function(){!V||k()},[V]);var ee=[{title:(0,s.jsx)(m._H,{id:"workspace.ws.name"}),dataIndex:"ws_show_name",key:"ws_show_name"},{title:"Job ID",dataIndex:"id",key:"id"},{title:(0,s.jsx)(m._H,{id:"analysis.job.name"}),dataIndex:"name",key:"name",render:function(c,i){return(0,s.jsx)("span",{onClick:function(){return window.open("/ws/".concat(i.ws_id,"/test_result/").concat(i.id))},style:{color:"#1890FF",cursor:"pointer"},children:c})}},{title:(0,s.jsx)(m._H,{id:"ws.dashboard.job.state"}),dataIndex:"state",key:"state",render:function(c,i){return(0,s.jsx)(C.JQ,(0,j.Z)({},i))}},{title:(0,s.jsx)(m._H,{id:"device.create_user"}),dataIndex:"creator_name",key:"creator_name"},{title:(0,s.jsx)(m._H,{id:"common.createTime"}),dataIndex:"gmt_created",key:"gmt_created"}],te=[{title:(0,s.jsx)(m._H,{id:"workspace.ws.name"}),dataIndex:"ws_show_name",key:"ws_show_name"},{title:(0,s.jsx)(m._H,{id:"ws.test.job.template.name"}),dataIndex:"name",key:"name",render:function(c,i){return(0,s.jsx)(M.Z.Link,{ellipsis:!0,target:"_blank",href:"/ws/".concat(i.ws_id,"/test_template/").concat(i.id,"/preview"),children:c})}},{title:(0,s.jsx)(m._H,{id:"device.create_user"}),dataIndex:"creator_name",key:"creator_name"},{title:(0,s.jsx)(m._H,{id:"common.createTime"}),dataIndex:"gmt_created",key:"gmt_created"}],H=function(c){return c.children};return(0,s.jsxs)(ge,{children:[(0,s.jsx)(be,{}),(0,s.jsx)("div",{className:"content",style:{height:D-88,overflowY:"auto"},children:(0,s.jsxs)(H,{children:[R>0&&(0,s.jsx)(ae.Z,{bordered:!1,ghost:!0,defaultActiveKey:"1",expandIcon:function(c){var i=c.isActive;return(0,s.jsx)(b.Z,{rotate:i?90:0})},className:"site-collapse-custom-collapse",children:(0,s.jsxs)(Q,{header:(0,s.jsxs)("div",{children:[(0,s.jsx)(m._H,{id:"analysis.job.table"}),(0,s.jsx)("span",{className:"total",children:R})]}),className:"site-collapse-custom-panel",children:[(0,s.jsx)(I.Z,{dataSource:_e,columns:ee,size:"small",loading:pe,rowKey:"id",pagination:!1}),(0,s.jsx)(he.Z,{pageSize:o.page_size,currentPage:o.page_num,total:R,onPageChange:function(c,i){return t((0,j.Z)((0,j.Z)({},o),{},{page_size:i,page_num:c}))}})]},"1")}),X>0&&(0,s.jsx)(ae.Z,{bordered:!1,ghost:!0,defaultActiveKey:w?"0":"1",expandIcon:function(c){var i=c.isActive;return(0,s.jsx)(b.Z,{rotate:i?90:0})},className:"site-collapse-custom-collapse",children:(0,s.jsxs)(Q,{header:(0,s.jsxs)("div",{children:[(0,s.jsx)(m._H,{id:"template.list"}),(0,s.jsx)("span",{className:"total",children:X})]}),className:"site-collapse-custom-panel",children:[(0,s.jsx)(I.Z,{dataSource:U,columns:te,size:"small",loading:pe,rowKey:"id",pagination:!1}),(0,s.jsx)(he.Z,{pageSize:_.page_size,currentPage:_.page_num,total:X,onPageChange:function(c,i){return g((0,j.Z)((0,j.Z)({},_),{},{page_size:i,page_num:c}))}})]},"1")})]})})]})};S.default=Ee},40694:function(ne,S,n){"use strict";n.d(S,{J1:function(){return I},Wt:function(){return fe},Ce:function(){return M},Pm:function(){return j},Ic:function(){return y}});var Z=n(16917),I=function(x){return(0,Z.WY)("/api/case/ws_case/confirm/",{data:x,method:"post"})},fe=function(x){return(0,Z.WY)("/api/job/type/del/",{method:"post",data:x})},M=function(x){return(0,Z.WY)("/api/job/template/del/",{method:"post",data:x})},j=function(x){return(0,Z.WY)("/api/server/del_confirm/",{method:"post",data:x})},y=function(x){return(0,Z.WY)("/api/case/ws_case/params/",{params:x})}},72529:function(ne,S,n){"use strict";n.d(S,{gN:function(){return De},tZ:function(){return R},yQ:function(){return Me},Pc:function(){return ye},KS:function(){return Te},YV:function(){return ce},Nq:function(){return X},JQ:function(){return me},iK:function(){return pe},fD:function(){return F},QN:function(){return Ze},ud:function(){return ve}});var Z=n(402),I=n(97272),fe=n(49111),M=n(19650),j=n(20136),y=n(55241),l=n(11849),x=n(71153),z=n(60331),T=n(89032),se=n(15746),ae=n(13062),v=n(71230),h=n(22385),b=n(89456),re=n(20310),he=n(36017),W=n(35247),m=n(67294),xe=n(77429),C=n.n(xe),oe=n(8212),J=n(1870),$=n(20009),s=n(16917),Y=n(12788),ge=n(24480),Q=n(60035),Ee=n(10753),e=n(85893),je,le,K=new Map([["success","#81BF84"],["pass","#81BF84"],["running","#649FF6"],["fail","#C84C5A"]]),De=function(t){var a=(0,$.UO)(),r=a.ws_id;return(0,e.jsxs)(W.Z,{style:{marginBottom:t.bottomHeight},children:[(0,e.jsx)(W.Z.Item,{children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return s.m8.push("/ws/".concat(r,"/test_result"))},children:(0,e.jsx)(s._H,{id:"ws.result.details.test.result"})})}),(0,e.jsx)(W.Z.Item,{children:(0,e.jsx)(s._H,{id:"ws.result.details.result.details"})})]})},V=new Map([["success","#81BF84"],["fail","#C84C5A"],["running","#649FF6"],["stop","#1D1D1D"],["pending","#1D1D1D"],["skip","#1D1D1D"],["warning","#faad14"]]),Pe=function(t){return V.get(t)||""},ie=Y.ZP.span(je||(je=(0,re.Z)([`
    color: `,`;
    fontWeight: 500;
    text-transform: capitalize;
`])),function(o){var t=o.color;return t}),R=function(t){var a=t;return Object.prototype.toString.call(t)==="[object Boolean]"&&(a=t?"success":"fail"),(0,e.jsx)(ie,{color:Pe(a),children:a})},Me=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(r){return r?(0,e.jsx)(Ee.K,{ellipsis:{tooltip:!0},children:r}):t}}},ye=function(t){var a=t.title,r=t.width,_=r===void 0?"100%":r,g=t.onEdit,B=t.access,D=(0,m.useRef)(),L=(0,$.UO)(),P=L.share_id;return(0,e.jsx)("div",{ref:D,style:{width:_},children:(0,e.jsxs)(v.Z,{style:{width:_},justify:"start",align:"middle",children:[(0,e.jsx)(b.Z,{placement:"topLeft",title:a,children:(0,e.jsx)("span",{style:{maxWidth:54,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a||"-"})}),!P&&(0,e.jsx)(oe.Z,{style:{marginLeft:6,cursor:"pointer"},onClick:function(){return B?g():(0,ge.WR)()}})]})})},G=function(t){return K.get(t)||"#D9D9D9"},_e=function(t){var a=t.text,r=(0,s.YB)(),_=(0,Q.oM)(r.formatMessage({id:"request.copy.success"}));return(0,e.jsx)("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return _(a)},children:r.formatMessage({id:"operation.copy",defaultMessage:"\u590D\u5236"})})},Ae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(r){return r?_jsx(_Tooltip,{overlayClassName:styles.tootip_overflow,placement:"topLeft",title:_jsxs(_Row,{children:[_jsx(_Col,{span:24,style:{whiteSpace:"break-spaces"},children:r}),_jsx(_Col,{span:24,children:_jsx(_Row,{justify:"center",children:_jsx(_e,{text:r})})})]}),children:r}):t}}},Te=function(t){var a=t.text,r=t.defaultText,_=r===void 0?"-":r;return a?(0,e.jsx)(b.Z,{overlayClassName:C().tootip_overflow,placement:"topLeft",title:(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(se.Z,{span:24,style:{whiteSpace:"break-spaces"},children:a}),(0,e.jsx)(se.Z,{span:24,children:(0,e.jsx)(v.Z,{justify:"center",children:(0,e.jsx)(_e,{text:a})})})]}),children:a}):_},ce=function(t){return t==="decline"?"#C84C5A":t==="normal"?"#000000":t==="increase"?"#81BF84":""},X=function(t,a,r){return t==="decline"?(0,e.jsx)("span",{style:{color:"#C84C5A"},children:r({id:"ws.result.details.".concat(t)})}):t==="normal"?(0,e.jsx)("span",{style:{color:"#000000"},children:r({id:"ws.result.details.".concat(t)})}):t==="increase"?(0,e.jsx)("span",{style:{color:"#81BF84"},children:r({id:"ws.result.details.".concat(t)})}):a||"-"},ue=(0,Y.ZP)(z.Z)(le||(le=(0,re.Z)([`
    font-weight: 500;
    width: 72px;
    text-align: center;
    `,`
    text-transform: capitalize;
`])),function(o){var t=o.no_margin;return t?"margin-right: 0;":""}),Ce=function(t){return(0,e.jsx)(ue,(0,l.Z)({},(0,l.Z)((0,l.Z)({},t),{},{collection:void 0})))},de=function(t){var a=(0,s.YB)(),r=a.formatMessage;return(0,e.jsx)(b.Z,{title:r({id:"ws.result.details.job_state"}),placement:"bottom",children:(0,e.jsx)(ue,(0,l.Z)({},t))})},U=function(t){var a=t.title;return(0,e.jsx)(y.Z,{title:a,placement:"right",trigger:"hover",overlayClassName:C().tag_popover_style,children:(0,e.jsx)(J.Z,{style:{color:"rgba(0, 0, 0, 0.65)",verticalAlign:"middle"}})})},A=function(t){var a=t.state;return(0,e.jsx)(Ce,(0,l.Z)((0,l.Z)({},t),{},{color:G(a),style:K.get(a)?void 0:{color:"#1d1d1d"},children:a==="success"?"complete":a}))},Oe=function(t){var a=t.state;return(0,e.jsx)(de,(0,l.Z)((0,l.Z)({},t),{},{color:G(a),style:K.get(a)?void 0:{color:"#1d1d1d"},children:a==="success"?"complete":a}))},me=function(t){var a=(0,s.YB)(),r=a.formatMessage,_=t.state,g=t.run_state,B=g===void 0?"":g,D=t.state_desc,L=(0,$.UO)(),P=L.ws_id;return _==="running"?D?(0,e.jsxs)(M.Z,{size:0,children:[(0,e.jsx)(A,(0,l.Z)((0,l.Z)({},t),{},{children:_})),(0,e.jsx)(U,{title:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:D.replace(/(\d+)/g,'<a href="/ws/'.concat(P,'/test_result/$1" target="_blank">$1</a>'))}})})]}):B?(0,e.jsxs)(M.Z,{size:0,children:[(0,e.jsx)(A,(0,l.Z)((0,l.Z)({},t),{},{children:_})),(0,e.jsx)(U,{title:r({id:"ws.result.details.not.assigned.server"})})]}):(0,e.jsxs)(M.Z,{size:0,children:[(0,e.jsx)(A,(0,l.Z)((0,l.Z)({},t),{},{children:_})),(0,e.jsx)(U,{title:r({id:"ws.result.details.running,please.wait"})})]}):_==="pending"&&D?(0,e.jsxs)(M.Z,{size:0,children:[(0,e.jsx)(A,(0,l.Z)((0,l.Z)({},t),{},{children:_})),(0,e.jsx)(U,{title:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:D.replace(/(\d+)/g,'<a href="/ws/'.concat(P,'/test_result/$1" target="_blank">$1</a>'))}})})]}):(0,e.jsx)(A,(0,l.Z)({},t))},pe=function(t){return(0,e.jsx)(Oe,(0,l.Z)((0,l.Z)({},t),{},{no_margin:1}))},F=function(t){var a=t.title,r=t.desc,_=t.placement,g=_===void 0?"bottom":_;return(0,e.jsxs)(M.Z,{children:[(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:a}),(0,e.jsx)(b.Z,{overlayClassName:C().table_question_tooltip,placement:g,arrowPointAtCenter:!0,title:r,color:"#fff",children:(0,e.jsx)(J.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})})]})},Ze=function(t){var a=t.title,r=t.test_value,_=t.value_list,g=t.cv_value,B=t.max_value,D=t.min_value,L=t.metric,P=t.result,O=(0,s.YB)(),Ie=O.formatMessage,be=(0,Q.oM)(Ie({id:"request.copy.success"})),w=function(f){return f?new Number(f).toFixed(2):null},k=w(B),q=w(D),ee=g,te=w(r),H=_.map(function(d){return w(d)}),u="".concat(L," ").concat(a,`:
Avg: `).concat(te,`
CV:  `).concat(ee);u+=k?`
Max: `.concat(k):"",u+=q?`
Min: `.concat(q):"",u+=H.length?`
Test Record
`:"",u+=H.reduce(function(d,f,p){return d.concat("(".concat(p+1,") ").concat(f,`
`))},"");var c="".concat(te,"\xB1").concat(ee),i=function(){return P==="decline"?(0,e.jsx)("span",{className:C().result_popover_span,style:{color:"#C84C5A"},children:c}):P==="increase"?(0,e.jsx)("span",{className:C().result_popover_span,style:{color:"#81BF84"},children:c}):(0,e.jsx)("span",{className:C().result_popover_span,style:{color:"rgba(0, 0, 0, 0.65)"},children:c})};return(0,e.jsx)(y.Z,{overlayClassName:C().metric_list_copy,title:(0,e.jsxs)(v.Z,{justify:"space-between",children:[(0,e.jsx)("b",{children:a}),(0,e.jsx)("span",{onClick:function(){return be(u)},style:{color:"#1890FF",cursor:"pointer",marginLeft:"8px"},children:(0,e.jsx)(s._H,{id:"operation.copy"})})]}),content:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(v.Z,{children:[(0,e.jsx)("b",{children:"Avg\uFF1A"}),(0,e.jsx)("span",{children:te})]}),(0,e.jsxs)(v.Z,{children:[(0,e.jsx)("b",{children:"CV\uFF1A"}),(0,e.jsx)("span",{children:ee})]}),(0,e.jsxs)(v.Z,{children:[(0,e.jsx)("b",{children:"Max\uFF1A"}),(0,e.jsx)("span",{children:k})]}),(0,e.jsxs)(v.Z,{children:[(0,e.jsx)("b",{children:"Min\uFF1A"}),(0,e.jsx)("span",{children:q})]}),H.length>0&&(0,e.jsx)(v.Z,{style:{marginTop:16},children:(0,e.jsx)("b",{children:"Test Record"})}),H.map(function(d,f){return(0,e.jsx)(v.Z,{children:"(".concat(f+1,")").concat(d)},f)})]}),children:i()})},ve=function(t,a){return a&&(0,e.jsx)(se.Z,{span:24,children:(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(I.Z.Text,{style:{width:70,fontWeight:600,marginRight:8},children:t}),(0,e.jsx)(I.Z.Paragraph,{style:{width:"calc( 100% - 70px - 8px)"},ellipsis:!0,children:a})]})})}}}]);
