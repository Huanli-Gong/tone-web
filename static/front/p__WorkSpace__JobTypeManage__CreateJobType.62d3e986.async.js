(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[993],{42780:function(Ee){Ee.exports={step_title:"step_title___jnkmf",step_desc:"step_desc___1fRt2",step_check_desc:"step_check_desc___3hrlK",step_row_mt:"step_row_mt___2dusi",step_check_name:"step_check_name___14UcA",step_check_box:"step_check_box___4aQCO",step_check_col:"step_check_col___3NhCb",rect_circle_style:"rect_circle_style___tBUin",setting_item:"setting_item___26EWu",setting_item_active:"setting_item_active___3h5CE",setting_item_disable:"setting_item_disable___3Vr2q",disable_title:"disable_title___3iEMW",rect_disable_desc:"rect_disable_desc___1IgJi",checkbox_disable_desc:"checkbox_disable_desc___3LhfR",disable_word:"disable_word___1lDHY",edit_word:"edit_word___inDPD",rect_item_desc:"rect_item_desc___3QYCA"}},75073:function(Ee,me,t){"use strict";t.d(me,{mQ:function(){return Oe},gM:function(){return L},nU:function(){return ee}});var nt=t(40204),pe=t(10724),ce=t(41428),D=t(97939),Te,Q,we,_,Oe=(0,D.ZP)(pe.Z)(Te||(Te=(0,ce.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .common_pagination { padding-bottom:0 ;}
`]))),L=(0,D.ZP)(Oe)(Q||(Q=(0,ce.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`]))),Je=(0,D.ZP)(pe.Z)(we||(we=(0,ce.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        padding: 0 32px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .ant-card-body{
        padding: 24px 24px 24px 0px;
    }
    .common_pagination { padding-bottom:0 ;}
`]))),ee=(0,D.ZP)(Je)(_||(_=(0,ce.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`])))},5592:function(Ee,me,t){"use strict";t.r(me),t.d(me,{default:function(){return Ct}});var nt=t(67448),pe=t(47548),ce=t(57359),D=t(34423),Te=t(46721),Q=t(94867),we=t(14320),_=t(53479),Oe=t(70772),L=t(6701),Je=t(69230),ee=t(33821),Dt=t(88966),U=t(11048),Jt=t(20693),je=t(3278),Rt=t(89963),Ne=t(70077),Vt=t(81138),it=t(96146),ne=t(35832),s=t(20418),Ie=t(32326),$t=t(65790),J=t(17187),y=t(39190),r=t(22374),ue=t(67164),Me=t(24812),a=t(22812),zt=t(31650),He=t(25100),Ut=t(38519),Pe=t(16416),rt=t(42780),S=t.n(rt),At=t(67515),lt=t(41083),Re=t(45972),ot={icon:function(d,i){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z",fill:i}},{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z",fill:d}}]}},name:"edit",theme:"twotone"},dt=ot,ct=t(25078),Ve=function(d,i){return r.createElement(ct.Z,(0,Re.Z)((0,Re.Z)({},d),{},{ref:i,icon:dt}))};Ve.displayName="EditTwoTone";var $e=r.forwardRef(Ve),e=t(52454),ze=(0,r.forwardRef)(function(j,d){var i=j.onOk,v=(0,a.YB)(),x=v.formatMessage,M=(0,r.useState)(!1),T=(0,y.Z)(M,2),w=T[0],Z=T[1],l=(0,r.useState)(null),g=(0,y.Z)(l,2),h=g[0],C=g[1],R=J.Z.useForm(),O=(0,y.Z)(R,1),H=O[0];(0,r.useImperativeHandle)(d,function(){return{show:function(m){var P=m.id,$=m.alias,B=m.show_name;C(P),H.setFieldsValue({alias:$||B}),Z(!0)}}});var Y=function(){H.validateFields().then(function(m){var P=m.alias;i(P,h),H.resetFields(),Z(!1),C(null)}).catch(function(m){return console.log(m)})},V=function(){Z(!1),H.resetFields()};return(0,e.jsx)(lt.Z,{title:(0,e.jsx)(a._H,{id:"job.types.modify.name"}),visible:w,onCancel:V,onOk:Y,cancelText:(0,e.jsx)(a._H,{id:"operation.cancel"}),okText:(0,e.jsx)(a._H,{id:"operation.ok"}),maskClosable:!1,children:(0,e.jsx)(J.Z,{form:H,layout:"vertical",children:(0,e.jsx)(J.Z.Item,{label:(0,e.jsx)(a._H,{id:"job.types.alias"}),name:"alias",rules:[{max:10}],children:(0,e.jsx)(je.Z,{autoComplete:"off",placeholder:x({id:"job.types.alias.placeholder"})})})})})}),ut=function(d){var i=d.name,v=d.item,x=d.onEdit,M=(0,r.useState)(""),T=(0,y.Z)(M,2),w=T[0],Z=T[1],l=(0,r.useState)(!1),g=(0,y.Z)(l,2),h=g[0],C=g[1],R=(0,r.useState)(null),O=(0,y.Z)(R,2),H=O[0],Y=O[1],V=function(){return Z("#1890ff")},o=function(){return Z("")},m=(0,r.useRef)(null),P=function(){x(i,v.id,H),C(!1),Z("")},$=function(X,ie){x(i,ie,X)};return h?(0,e.jsxs)(D.Z,{children:[(0,e.jsx)(je.Z,{autoComplete:"off",size:"small",defaultValue:v.alias,onChange:function(X){return Y(X.target.value)}}),(0,e.jsx)(Q.Z,{size:"small",type:"primary",onClick:P,children:(0,e.jsx)(a._H,{id:"operation.save"})}),(0,e.jsx)(Q.Z,{size:"small",onClick:function(){C(!1),Z("")},children:(0,e.jsx)(a._H,{id:"operation.cancel"})})]}):(0,e.jsxs)(D.Z,{onMouseEnter:V,onMouseLeave:o,children:[(0,e.jsx)("span",{style:{color:w},className:S().step_check_name,children:v.alias||v.show_name}),w&&(0,e.jsx)($e,{onClick:function(){return m.current.show(v)}}),(0,e.jsx)(ze,{ref:m,onOk:$})]})},Ue=function(j){var d=j.name,i=j.title,v=j.desc,x=j.data,M=j.onSelect,T=j.onEdit,w=j.defaultValue,Z=(0,Me.UO)(),l=Z.ws_id,g=function(C){M(C,d)};return(0,e.jsxs)(_.Z,{className:S().step_row_mt,children:[(0,e.jsxs)(L.Z,{span:24,children:[(0,e.jsx)("span",{className:S().step_title,children:i}),(0,e.jsx)("span",{className:S().step_desc,children:v})]}),(0,e.jsx)(L.Z,{span:24,children:(0,e.jsx)(Pe.Z.Group,{style:{width:"100%"},value:w,onChange:g,children:(0,e.jsx)(_.Z,{className:S().step_check_box,children:x==null?void 0:x.map(function(h){return["console","monitor"].includes(h.name)?(0,e.jsxs)("div",{style:{width:"33%",display:"flex",flexDirection:"column"},children:[(0,e.jsx)(Pe.Z,{disabled:!0,children:h.show_name}),(0,e.jsx)(He.Z.Text,{style:{fontSize:12,color:"#8C8C8C",paddingLeft:24},children:h.description})]},h.id):(0,e.jsxs)(L.Z,{style:{width:"33%"},className:S().step_check_col,children:[(0,e.jsxs)(D.Z,{children:[(0,e.jsx)(Pe.Z,{value:h.id}),(0,e.jsx)(ut,{name:d,item:h,onEdit:T})]}),(0,e.jsx)(_.Z,{className:S().step_check_desc,children:h.description})]},h.id)})})})})]})},ft=t(5888),ht=function(d){var i=d.item,v=d.name,x=d.editModalShow,M=d.onSelect,T=(0,r.useState)(!1),w=(0,y.Z)(T,2),Z=w[0],l=w[1],g=(0,r.useState)(""),h=(0,y.Z)(g,2),C=h[0],R=h[1],O=i.name.toLowerCase().indexOf("console")>-1,H=function(){var $=i.select!==!0;M(v,i.id,$)},Y=function(){i.select||l(!0)};(0,r.useEffect)(function(){l(i.select)},[i.select]);var V=function(){i.select||l(!1)},o=function(){return R("#1890ff")},m=function(){return R("")};return O?(0,e.jsxs)("div",{className:S().setting_item_disable,children:[(0,e.jsx)("div",{className:S().disable_title,children:i.alias||i.show_name}),(0,e.jsx)("div",{className:S().rect_disable_desc,children:i.description})]}):(0,e.jsxs)("div",{className:"".concat(i.select?S().setting_item_active:S().setting_item),onMouseEnter:Y,onMouseLeave:V,onClick:H,children:[(0,e.jsx)("div",{onClick:x,onMouseLeave:m,onMouseEnter:o,className:"rect_title",children:(0,e.jsxs)(D.Z,{children:[(0,e.jsx)("span",{style:{color:C},className:S().edit_word,children:i.alias||i.show_name}),C&&(0,e.jsx)($e,{})]})}),(0,e.jsx)("div",{className:S().rect_item_desc,children:i.description}),(i.select||Z)&&(0,e.jsx)(ft.Z,{className:S().rect_circle_style,style:{color:i.select?"#1890FF":"rgba(0,0,0,.25)"}})]})},Ae=function(d){var i=d.title,v=d.desc,x=d.data,M=d.name,T=d.onSelect,w=d.onEdit,Z=(0,r.useRef)(),l=function(h,C){w(M,C,h)};return(0,e.jsxs)(_.Z,{className:S().step_row_mt,children:[(0,e.jsxs)(L.Z,{span:24,children:[(0,e.jsx)("span",{className:S().step_title,children:i}),(0,e.jsx)("span",{className:S().step_desc,children:v})]}),(0,e.jsx)(L.Z,{style:{margin:"0px -10px",display:"flex",flexFlow:"row wrap"},children:x==null?void 0:x.map(function(g,h){return!g.disable&&(0,e.jsx)(ht,{item:g,onSelect:T,name:M,editModalShow:function(){return Z.current.show(g)}},h)})}),(0,e.jsx)(ze,{ref:Z,onOk:l})]})},Wt=t(51937),We=t(34516),vt=t(60798),mt=t(22686),pt=t(48451),jt=t(19208),xt=t(50690),E=t.n(xt),bt=t(18406),Fe=t(39935),yt=t(526),Zt=(0,r.forwardRef)(function(j,d){var i=j.item_dict,v=i===void 0?{}:i,x=j.name,M=x===void 0?"":x,T=j.server_type,w=T===void 0?"":T,Z=j.test_type,l=Z===void 0?"":Z,g=j.description,h=g===void 0?"":g,C=(0,a.YB)(),R=C.formatMessage,O=(0,Me.UO)(),H=O.ws_id,Y=(0,r.useState)(!1),V=(0,y.Z)(Y,2),o=V[0],m=V[1],P=(0,r.useState)(),$=(0,y.Z)(P,2),B=$[0],X=$[1],ie=(0,r.useRef)(),xe=(0,yt.CR)(),re=xe.width,le=(0,r.useMemo)(function(){return re>=1240?(1240-1e3)/2:20},[re]);(0,r.useImperativeHandle)(d,function(){return{show:function(){return m(!0)}}});var G=(0,r.useMemo)(function(){return Object.keys(v).reduce(function(K,oe){var ye=v[oe];return K[oe]=ye.reduce(function(Ze,fe){return fe.select&&(Ze[fe.name]=fe),Ze},{}),K},{})},[v]),be=function(oe){X(oe)},Le=function(){m(!1)};return o?(0,e.jsx)("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"#fff",zIndex:999,overflow:"auto"},children:(0,e.jsxs)("div",{style:{background:"#f5f5f5",paddingTop:50,paddingBottom:80,minHeight:"100vh"},children:[(0,e.jsx)(_.Z,{justify:"space-between",align:"middle",className:E().page_preview_nav,children:(0,e.jsxs)(D.Z,{children:[(0,e.jsx)(bt.Z,{onClick:Le,style:{fontSize:20}}),(0,e.jsx)(He.Z.Title,{level:4,children:(0,e.jsx)(a._H,{id:"job.types.Preview"})})]})}),(0,e.jsxs)("div",{className:E().page_header,children:[(0,e.jsx)("div",{style:{height:250,minWidth:1080,background:"#fff",position:"absolute",left:0,top:0,width:"100%"}}),(0,e.jsx)(_.Z,{className:E().page_title,justify:"center",children:(0,e.jsxs)("div",{style:{width:re>1240?1240:ie.current.clientWidth,zIndex:10},children:[(0,e.jsx)("div",{children:(0,e.jsx)(He.Z.Text,{children:M})}),(0,e.jsxs)("div",{className:E().page_tags,children:[(0,e.jsx)(We.Z,{color:"#F2F4F6",style:{color:"#515B6A"},children:(0,Fe.a5)(w,R)}),(0,e.jsx)(We.Z,{color:"#F2F4F6",style:{color:"#515B6A"},children:(0,Fe.lN)(l,R)})]}),(0,e.jsx)("div",{className:E().page_dec,children:h})]})})]}),(0,e.jsx)("div",{ref:ie,className:E().page_body_content,style:{paddingLeft:le,paddingRight:le},children:(0,e.jsxs)(_.Z,{justify:"center",className:E().page_body,children:[(0,e.jsx)(L.Z,{span:24,style:{width:1e3,flex:"none"},children:(0,e.jsx)(_.Z,{className:E().page_body_title,children:(0,e.jsx)(a._H,{id:"job.types.create.job"})})}),(0,e.jsxs)(L.Z,{span:24,style:{width:1e3,flex:"none"},children:[JSON.stringify(G.basic)!=="{}"&&(0,e.jsxs)(_.Z,{className:E().form_row,children:[(0,e.jsx)("div",{className:E().page_body_nav,children:(0,e.jsx)("span",{children:(0,e.jsx)(a._H,{id:"job.types.base"})})}),(0,e.jsx)(vt.Z,{disabled:!1,contrl:G.basic,callBackProjectId:be})]}),JSON.stringify(G.env)!=="{}"&&(0,e.jsxs)(_.Z,{className:E().form_row,children:[(0,e.jsx)("div",{className:E().page_body_nav,children:(0,e.jsx)("span",{children:(0,e.jsx)(a._H,{id:"job.types.env"})})}),(0,e.jsx)(mt.Z,{disabled:!1,contrl:G.env,project_id:B})]}),(0,e.jsxs)(_.Z,{className:E().form_row,children:[(0,e.jsx)("div",{className:E().page_body_nav,children:(0,e.jsx)("span",{children:(0,e.jsx)(a._H,{id:"job.types.caseAndserver"})})}),(0,e.jsx)(L.Z,{span:21,offset:3,children:(0,e.jsx)(jt.Z,{handleData:function(){},server_type:w,test_type:l,contrl:G.server,disabled:!1,isPreviewPage:!0,setPageLoading:function(){}})})]}),JSON.stringify(G.more)!=="{}"&&(0,e.jsxs)(_.Z,{className:E().form_row,children:[(0,e.jsx)("div",{className:E().page_body_nav,children:(0,e.jsx)("span",{children:(0,e.jsx)(a._H,{id:"job.types.moreConfig"})})}),(0,e.jsx)(pt.Z,{disabled:!1,ws_id:H,contrl:G.more})]})]})]})})]})}):(0,e.jsx)(e.Fragment,{})}),gt=t(75073),St=window,ke=St.document,_t=function(d){var i=(0,Me.UO)(),v=i.ws_id,x=i.jt_id,M=(0,a.tT)("@@initialState"),T=M.setInitialState,w=(0,a.YB)(),Z=(0,a.YB)(),l=Z.formatMessage;ke.title=w.messages["Workspace.JobConfig.".concat(d.route.name)];var g=d.route,h=d.route.name==="JobTypeUpdate",C=J.Z.useForm(),R=(0,y.Z)(C,1),O=R[0],H=(0,r.useRef)(),Y=(0,r.useState)({basic:[],env:[],server:[],more:[]}),V=(0,y.Z)(Y,2),o=V[0],m=V[1],P=(0,r.useState)(!0),$=(0,y.Z)(P,2),B=$[0],X=$[1],ie=(0,r.useState)(!1),xe=(0,y.Z)(ie,2),re=xe[0],le=xe[1],G=(0,r.useState)(!1),be=(0,y.Z)(G,2),Le=be[0],K=be[1],oe=(0,r.useState)({}),ye=(0,y.Z)(oe,2),Ze=ye[0],fe=ye[1],Et=(0,r.useState)({more:[],server:[]}),Ye=(0,y.Z)(Et,2),Be=Ye[0],Ge=Ye[1],Tt=(0,r.useState)(!0),Ke=(0,y.Z)(Tt,2),wt=Ke[0],Qe=Ke[1],Ot=(0,r.useState)(null),Xe=(0,y.Z)(Ot,2),he=Xe[0],qe=Xe[1],Nt=function(){var F=(0,Ie.Z)((0,ne.Z)().mark(function u(){var b,p,n,f,c,I,A,z,de,te,se,ae,ve,Se,N,W;return(0,ne.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return X(!0),k.next=3,(0,ue.MM)({ws_id:v});case 3:if(b=k.sent,p=b.data,n=p===void 0?{}:p,!h){k.next=26;break}return k.next=9,(0,ue.Xc)({jt_id:x});case 9:return f=k.sent,c=(0,y.Z)(f.data,1),I=c[0],K(I),A=I.server_type,z=I.test_type,de=I.name,te=I.description,se=I.enable,ae=I.business_type,qe(z),z==="business"&&ae&&O.setFieldsValue({business_type:ae}),O.setFieldsValue({server_type:A,test_type:z,name:de,description:te,enable:se}),Qe(se),k.next=20,(0,ue.Dn)({jt_id:x});case 20:ve=k.sent,Se=ve.data,N=[],W=[],Object.keys(n).forEach(function(Ce){n[Ce]=n[Ce].map(function(q){var st=Se.findIndex(function(at){var Lt=at.config_index,Bt=at.name;return Bt===q.name&&Lt===q.config_index});return st>-1?(Ce==="more"&&N.push(q.id),Ce==="server"&&W.push(q.id),q.name==="baseline"&&z==="business"&&ae==="business"?(0,s.Z)((0,s.Z)({},q),{},{disable:!0,select:!1}):(0,s.Z)((0,s.Z)({},q),{},{select:!0,isTouch:!0,alias:Se[st].alias})):q})}),Ge({server:W,more:N});case 26:m(n),X(!1);case 28:case"end":return k.stop()}},u)}));return function(){return F.apply(this,arguments)}}();(0,r.useEffect)(function(){Nt()},[]);var et=function(u,b,p){var n={};Object.keys(o).forEach(function(f){n[f]=f===u?o[f].map(function(c){return c.id===b?(0,s.Z)((0,s.Z)({},c),{},{select:p,isTouch:p}):c}):o[f]}),m(n)},ge=function(u,b,p){var n={};Object.keys(o).forEach(function(f){n[f]=f===u?o[f].map(function(c){return c.id===b?(0,s.Z)((0,s.Z)({},c),{},{alias:p}):c}):o[f]}),m(n)},tt=function(u,b){var p={};Object.keys(o).forEach(function(n){p[n]=n===b?o[n].map(function(f){var c=u.findIndex(function(z){return z===f.id}),I=c>-1,A=Object.assign({},Be);return A[b]=u,Ge(A),(0,s.Z)((0,s.Z)({},f),{},{select:I})}):o[n]}),m(p)},De=function(){var F=(0,Ie.Z)((0,ne.Z)().mark(function u(){var b,p,n=arguments;return(0,ne.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(b=n.length>0&&n[0]!==void 0?n[0]:"",p={},le(!0),!re){c.next=5;break}return c.abrupt("return");case 5:O.validateFields().then(function(){var I=(0,Ie.Z)((0,ne.Z)().mark(function A(z){var de,te,se,ae,ve;return(0,ne.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(Object.keys(o).forEach(function(W){o[W].forEach(function(_e){_e.select&&(p[_e.id]=_e.alias||null)})}),de=(0,s.Z)((0,s.Z)({},z),{},{ws_id:v,is_default:!1,item_dict:p}),!h){N.next=8;break}return N.next=5,(0,ue.uI)((0,s.Z)((0,s.Z)({},de),{},{jt_id:x}));case 5:N.t0=N.sent,N.next=11;break;case 8:return N.next=10,(0,ue.xA)(de);case 10:N.t0=N.sent;case 11:te=N.t0,se=te.code,ae=te.msg,ve=te.id,se===200?(T(function(W){return(0,s.Z)((0,s.Z)({},W),{},{refreshMenu:!(W!=null&&W.refreshMenu)})}),it.default.success(l({id:"operation.success"})),b==="job"?a.m8.push("/ws/".concat(v,"/test_job/").concat(ve)):a.m8.push("/ws/".concat(v,"/job/types"))):(0,Fe.EV)(se,ae),le(!1);case 17:case"end":return N.stop()}},A)}));return function(A){return I.apply(this,arguments)}}()).catch(function(I){le(!1),console.log(I);var A=I.errorFields,z=A[0].name;O.scrollToField(z),ke.querySelector(".create_job_type_content").parentNode.scrollTop=239});case 6:case"end":return c.stop()}},u)}));return function(){return F.apply(this,arguments)}}(),It=function(u){var b=u.target,p={};Object.keys(o).forEach(function(n){p[n]=o[n].map(function(f){return f.name==="reclone"?b.value==="aliyun"?(0,s.Z)((0,s.Z)({},f),{},{disable:!0,select:!1}):(0,s.Z)((0,s.Z)({},f),{},{disable:!1}):f})}),m(p)},Mt=function(u){var b=u.target;Qe(b.value)},Ht=function(u){qe(u);var b={};Object.keys(o).forEach(function(p){b[p]=o[p].map(function(n){if(n.name==="baseline"){if(u==="stability")return(0,s.Z)((0,s.Z)({},n),{},{disable:!0,select:!1});if(u==="performance")return(0,s.Z)((0,s.Z)({},n),{},{disable:!1,select:!0});if(u==="functional")return n.isTouch?(0,s.Z)((0,s.Z)({},n),{},{disable:!1}):(0,s.Z)((0,s.Z)({},n),{},{disable:!1,select:!1});if(u==="business"){var f=O.getFieldValue("business_type");return["business",void 0].includes(f)?(0,s.Z)((0,s.Z)({},n),{},{disable:!0,select:!1}):(0,s.Z)((0,s.Z)({},n),{},{disable:!1,select:!0})}}return n})}),m(b)},Pt=function(u){var b=u.target,p=b.value,n={};Object.keys(o).forEach(function(f){n[f]=o[f].map(function(c){if(c.name==="baseline"){if(he==="stability")return(0,s.Z)((0,s.Z)({},c),{},{disable:!0,select:!1});if(he==="performance")return(0,s.Z)((0,s.Z)({},c),{},{disable:!1,select:!0});if(he==="functional")return c.isTouch?(0,s.Z)((0,s.Z)({},c),{},{disable:!1}):(0,s.Z)((0,s.Z)({},c),{},{disable:!1,select:!1});if(he==="business")return p==="business"?(0,s.Z)((0,s.Z)({},c),{},{disable:!0,select:!1}):(0,s.Z)((0,s.Z)({},c),{},{disable:!1,select:!0})}return c})}),m(n)},Ft=function(){var u=(0,s.Z)((0,s.Z)({},O.getFieldsValue()),{},{item_dict:o});fe(u),H.current.show()};return(0,e.jsxs)(gt.gM,{className:"create_job_type_content",title:(0,e.jsxs)(Ne.Z,{children:[(0,e.jsx)(Ne.Z.Item,{children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return a.m8.push("/ws/".concat(v,"/job/types"))},children:(0,e.jsx)(a._H,{id:"Workspace.JobConfig.JobTypeManage"})})}),(0,e.jsx)(Ne.Z.Item,{children:(0,e.jsx)(a._H,{id:"Workspace.JobConfig.".concat(g.name)})})]}),children:[(0,e.jsxs)(pe.Z,{spinning:B,children:[(0,e.jsx)("h3",{children:(0,e.jsx)(a._H,{id:"job.types.type.configuration"})}),(0,e.jsxs)(J.Z,{form:O,layout:"horizontal",labelCol:{span:3},wrapperCol:{span:21},children:[(0,e.jsx)(J.Z.Item,{label:(0,e.jsx)(a._H,{id:"job.types.job.name"}),name:"name",required:!0,rules:[{required:!0,message:l({id:"job.types.job.name.rules1"})},{max:20,message:l({id:"job.types.job.name.rules2"})}],children:(0,e.jsx)(je.Z,{autoComplete:"off",placeholder:l({id:"job.types.job.name.placeholder"}),style:{width:500}})}),(0,e.jsx)(J.Z.Item,{label:(0,e.jsx)(a._H,{id:"job.types.server_type"}),initialValue:"aliyun",name:"server_type",children:(0,e.jsxs)(U.ZP.Group,{onChange:It,children:[(0,e.jsx)(U.ZP,{value:"aligroup",children:l({id:"aligroupServer"})}),(0,e.jsx)(U.ZP,{value:"aliyun",children:l({id:"aliyunServer"})})]})}),(0,e.jsx)(J.Z.Item,{label:(0,e.jsx)(a._H,{id:"job.types.test_type"}),initialValue:"functional",name:"test_type",children:(0,e.jsxs)(ee.Z,{allowClear:!0,onChange:Ht,style:{width:500},children:[(0,e.jsx)(ee.Z.Option,{value:"functional",children:(0,e.jsx)(a._H,{id:"functional.test"})}),(0,e.jsx)(ee.Z.Option,{value:"performance",children:(0,e.jsx)(a._H,{id:"performance.test"})}),(0,e.jsx)(ee.Z.Option,{value:"stability",children:(0,e.jsx)(a._H,{id:"stability.test"})}),(0,e.jsx)(ee.Z.Option,{value:"business",children:(0,e.jsx)(a._H,{id:"business.test"})})]})}),he==="business"&&(0,e.jsxs)(_.Z,{children:[(0,e.jsx)(L.Z,{span:3}),(0,e.jsx)(L.Z,{span:21,children:(0,e.jsx)(J.Z.Item,{label:"",initialValue:"business",name:"business_type",rules:[{required:!0,message:l({id:"job.types.business.message"})}],children:(0,e.jsxs)(U.ZP.Group,{onChange:Pt,children:[(0,e.jsx)(U.ZP,{value:"functional",children:(0,e.jsx)(a._H,{id:"functional.test"})}),(0,e.jsx)(U.ZP,{value:"performance",children:(0,e.jsx)(a._H,{id:"performance.test"})}),(0,e.jsx)(U.ZP,{value:"business",children:(0,e.jsx)(a._H,{id:"access.test"})})]})})})]}),(0,e.jsx)(J.Z.Item,{label:(0,e.jsx)(a._H,{id:"job.types.desc.option"}),name:"description",rules:[{max:20,message:l({id:"job.types.desc.message"})}],children:(0,e.jsx)(je.Z.TextArea,{placeholder:l({id:"job.types.desc.placeholder"}),style:{width:500}})}),(0,e.jsx)(J.Z.Item,{label:(0,e.jsx)(a._H,{id:"job.types.enable"}),initialValue:!0,name:"enable",children:(0,e.jsxs)(U.ZP.Group,{onChange:Mt,children:[(0,e.jsx)(U.ZP,{value:!0,children:(0,e.jsx)(a._H,{id:"job.types.enable"})}),(0,e.jsx)(U.ZP,{disabled:Le.is_first,value:!1,children:(0,e.jsx)(a._H,{id:"job.types.stop"})})]})}),(0,e.jsx)("h3",{children:(0,e.jsx)(a._H,{id:"job.types.env.configuration"})}),(0,e.jsx)(Ae,{title:l({id:"job.types.base.config"}),desc:l({id:"job.types.base.config.ps"}),data:o.basic,name:"basic",onSelect:et,onEdit:ge}),(0,e.jsx)(Ae,{title:l({id:"job.types.env.config"}),desc:l({id:"job.types.env.config.ps"}),data:o.env,name:"env",onSelect:et,onEdit:ge}),(0,e.jsx)(Ue,{title:l({id:"job.types.case.and.server"}),desc:l({id:"job.types.case.and.server.ps"}),defaultValue:Be.server,data:o.server,name:"server",onSelect:tt,onEdit:ge}),(0,e.jsx)(Ue,{title:l({id:"job.types.more.config"}),desc:l({id:"job.types.more.config.ps"}),data:o.more,defaultValue:Be.more,name:"more",onSelect:tt,onEdit:ge}),(0,e.jsx)(_.Z,{style:{marginTop:24},children:(0,e.jsxs)(D.Z,{children:[wt&&(0,e.jsx)(Q.Z,{type:"primary",disabled:re,onClick:function(){return De("job")},children:(0,e.jsx)(a._H,{id:"job.types.save.and.create.job"})}),(0,e.jsx)(Q.Z,{onClick:function(){return De()},children:(0,e.jsx)(a._H,{id:"job.types.only.save"})}),(0,e.jsx)(Q.Z,{type:"link",onClick:Ft,children:(0,e.jsx)(a._H,{id:"operation.preview"})})]})})]})]}),(0,e.jsx)(Zt,(0,s.Z)((0,s.Z)({},Ze),{},{ref:H,onOk:De}))]})},Ct=_t}}]);
