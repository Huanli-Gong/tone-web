(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[1740],{38924:function(W,D,g){"use strict";g.d(D,{Jn:function(){return O},$7:function(){return M},wb:function(){return P},LN:function(){return j}});var o=g(86582),h=g(2824),m=g(11849),T=g(67294),Z=g(96486),y=g.n(Z),L=function(p){var i=function(){var s=document.querySelector("#list_container table .ant-empty-normal");if(s){var l=p,f=(l-130)/2;s.style.margin="".concat(f,"px 0")}};return useEffect(function(){i()},[p]),useEffect(function(){return window.addEventListener("resize",i,!1),function(){window.removeEventListener("resize",i,!1)}},[]),""},A=function(p){var i=[];if(p.conf_dic){for(var c in p){var s=p[c].conf_dic;delete p[c].suite_id;for(var l in s){i.push(l);var f=s[l].base_obj_li;f=_.isArray(f)?f:[];var v=f.filter(function(e){return e&&e.isSelect}),a=1,d="";v.length&&(a=v[0].is_job,d=v[0].obj_id),!v.length&&f.length&&(a=f[0].is_job,d=f[0].obj_id);var b=s[l].compare_groups.map(function(e){if(!e||!e.length)return null;var r=e.filter(function(n){return _.get(n,"isSelect")});return r.length?{is_job:r[0].is_job,obj_id:r[0].obj_id}:{is_job:e[0].is_job,obj_id:e[0].obj_id}});s[l].is_job=a,s[l].obj_id=d,s[l].compare_objs=b,delete s[l].base_obj_li,delete s[l].conf_id}}return{suite_dic:p,confIdArr:i}}return{suite_dic:p,confIdArr:i}},E=function(p){return Object.values(p).map(function(i){return i.is_all?{suite_id:i.suite_id,is_all:i.is_all}:{suite_id:i.suite_id,is_all:i.is_all,conf_list:Object.keys(i.conf_dic).map(function(c){return Number(c)})}})},M=function(p){return Object.keys(p).map(function(i){var c=p[i],s=c.suite_name,l=c.suite_id,f=c.base_index,v=c.is_all,a=c.group_jobs,d=c.duplicate_data,b=c.conf_dic,e={async_request:"1",suite_id:l,suite_name:s,base_index:f,group_jobs:a,duplicate_data:d};return v?e=(0,m.Z)((0,m.Z)({},e),{},{is_all:1}):e=(0,m.Z)((0,m.Z)({},e),{},{is_all:0,conf_info:Object.values(b)}),e})},P=function(p,i,c,s,l){var f=y().cloneDeep(p),v=[];return i.forEach(function(a){var d=[];a.members?a.members.forEach(function(b){return d.push(b.id)}):d.push(a.id),d.length>0&&v.push({job_list:d,is_baseline:a.type==="baseline"?1:0})}),Object.values(f).forEach(function(a){if(a.base_index=c,a.group_jobs=v,a.duplicate_data=l,a.conf_dic){var d=[],b=Object.keys(a.conf_dic);b.forEach(function(e){s.includes(+e)||delete a.conf_dic[e],a.conf_dic[e]&&d.push(a.conf_dic[e])}),d.length?(a.is_all=0,a.conf_info=d):delete f[a.suite_id]}else s.includes(String(a.suite_id))?a.is_all=1:delete f[a.suite_id]}),f},j=function(p){var i=y().cloneDeep(p),c=i.func_suite_dic||{},s=i.perf_suite_dic||{},l=[];return JSON.stringify(c)!=="{}"&&(l=l.concat(E(c))),JSON.stringify(s)!=="{}"&&(l=l.concat(E(s))),l},R=function(p){return Array.from(p).map(function(i){var c=(0,h.Z)(i,2),s=c[1];return s})},O=function(p,i){var c=new Map,s=new Map,l=[].concat((0,o.Z)(Object.values(p.func_suite_dic)),(0,o.Z)(Object.values(p.perf_suite_dic))),f=i==null?void 0:i.reduce(function(v,a){return v[a.id]=a,v},{});return l.forEach(function(v){v.group_jobs.forEach(function(a,d){var b=y().get(a,"job_list")||[];b.forEach(function(e){var r=f[e].server_provider;v.base_index===d?c.get(e)||c.set(e,{is_baseline:a.is_baseline,server_provider:r,obj_id:e}):s.get(e)||s.set(e,{is_baseline:a.is_baseline,server_provider:r,obj_id:e})})})}),{baseArr:R(c),compareArr:R(s)}}},50310:function(W,D,g){"use strict";g.d(D,{MD:function(){return T},rj:function(){return Z},in:function(){return y},vP:function(){return L},tp:function(){return A},iE:function(){return j},PL:function(){return R},AX:function(){return O},Me:function(){return w},ow:function(){return l},nP:function(){return v},MC:function(){return d}});var o=g(39428),h=g(3182),m=g(16917),T=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/list/",{params:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/copy/",{method:"post",data:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/detail/",{method:"delete",data:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{params:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{method:"delete",data:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),E=null,M=null,P=null,j=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{method:"post",data:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/detail/",{params:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/detail/",{params:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,h.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{method:"put",data:n}));case 1:case"end":return t.stop()}},r)}));return function(n){return e.apply(this,arguments)}}();function p(e){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/auth/user/",{params:r}));case 1:case"end":return u.stop()}},e)})),i.apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function e(r){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/api/job/result/compare/chart/",{data:r,method:"post"}));case 1:case"end":return u.stop()}},e)})),s.apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return f=(0,h.Z)((0,o.Z)().mark(function e(r){return(0,o.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,m.WY)("/api/report/test/report/item_suite/",{data:r,method:"post"}));case 1:case"end":return u.stop()}},e)})),f.apply(this,arguments)}function v(e){return a.apply(this,arguments)}function a(){return a=(0,h.Z)((0,o.Z)().mark(function e(r){return(0,o.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,m.WY)("/api/report/test/report/update_desc/",{data:r,method:"post"}));case 1:case"end":return u.stop()}},e)})),a.apply(this,arguments)}function d(e){return b.apply(this,arguments)}function b(){return b=(0,h.Z)((0,o.Z)().mark(function e(r){return(0,o.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,m.WY)("/api/report/test/report/item/update_desc/",{method:"post",data:r}));case 1:case"end":return u.stop()}},e)})),b.apply(this,arguments)}}}]);
