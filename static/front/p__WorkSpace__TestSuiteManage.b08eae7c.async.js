(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[8215,2485],{87802:function(B){B.exports={confList_root:"confList_root___3EWrK",deleteAll:"deleteAll___3e4kr"}},88168:function(B){B.exports={suitList_root:"suitList_root___1zyyW",deleteAll:"deleteAll___1zMKb"}},36286:function(B){B.exports={businessList_root:"businessList_root___3Hau8",common_pagination:"common_pagination___24xa6"}},1398:function(B){B.exports={filter:"filter___3oqYG",confirm:"confirm___30iCS"}},30635:function(B){B.exports={filter_search_wrapper:"filter_search_wrapper___2c59u"}},24401:function(B){B.exports={filter_wrapper_container:"filter_wrapper_container___sONnw",filter_icon_wrapper:"filter_icon_wrapper___1PY8Q",filter_icon_contaner:"filter_icon_contaner___1nddu",filter_icon_contaner_active:"filter_icon_contaner_active___1jmG0"}},89767:function(B){B.exports={warp:"warp___3w5Ib",batch:"batch___uZFrp",pagination:"pagination___1rXjk",hidden:"hidden___1brZX",ellipsis:"ellipsis___2myYN",table_style:"table_style___iyAhl",des:"des___26R54"}},42847:function(B,he,t){"use strict";var V=t(46721),$=t(94867),re=t(8281),ve=t(58591),Ce=t(57359),xe=t(34423),we=t(38519),ce=t(16416),oe=t(39190),te=t(22374),le=t(22812),me=t(1398),ae=t.n(me),O=t(52454),ge=function(h){var c=h.list,p=h.confirm,a=h.onConfirm,f=h.value,Q=(0,te.useState)(f||[]),s=(0,oe.Z)(Q,2),_e=s[0],se=s[1],je=(0,te.useState)(!1),de=(0,oe.Z)(je,2),n=de[0],fe=de[1],Fe=(0,te.useState)(!1),pe=(0,oe.Z)(Fe,2),Ee=pe[0],e=pe[1],We=function(Z){e(!!Z.length&&Z.length<c.length),se(Z),fe(Z.length===c.length)},Me=c.map(function(G){return G.id}),Se=function(Z){se(Z.target.checked?Me:[]),fe(Z.target.checked),e(!1)};return te.useEffect(function(){return function(){se([]),fe(!1),e(!1)}},[]),(0,O.jsxs)("div",{className:ae().filter,children:[(0,O.jsx)("div",{style:{display:"flex",flexDirection:"column",maxHeight:280,overflow:"auto"},children:(0,O.jsxs)(xe.Z,{style:{paddingLeft:8,paddingRight:8},direction:"vertical",size:4,children:[(0,O.jsx)(ce.Z,{indeterminate:Ee,className:ae().domain,onChange:Se,checked:n,children:(0,O.jsx)(le._H,{id:"operation.select.all"})}),(0,O.jsx)(ce.Z.Group,{onChange:We,value:_e,children:(0,O.jsx)(xe.Z,{direction:"vertical",size:4,children:c.map(function(G){return(0,O.jsx)(ce.Z,{className:ae().domain,value:G.id,children:G.name},G.id)})})})]})}),(0,O.jsx)(ve.Z,{style:{margin:"10px 0"}}),(0,O.jsxs)("div",{className:ae().confirm,children:[(0,O.jsx)($.Z,{size:"small",type:"link",onClick:function(){p==null||p();var Z=_e&&_e.join(",");a(Z)},children:(0,O.jsx)(le._H,{id:"operation.ok"})}),(0,O.jsx)($.Z,{size:"small",type:"text",onClick:function(){p==null||p(),se([]),a(void 0),fe(!1),e(!1)},children:(0,O.jsx)(le._H,{id:"operation.reset"})})]})]})};he.Z=ge},56477:function(B,he,t){"use strict";t.r(he),t.d(he,{default:function(){return Ct}});var V=t(88018),$=t(58414),re=t(67448),ve=t(47548),Ce=t(14320),xe=t(53479),we=t(36142),ce=t(76837),oe=t(11407),te=t(41604),le=t(46721),me=t(94867),ae=t(79625),O=t(96584),ge=t(31650),Ie=t(25100),h=t(20418),c=t(35832),p=t(32326),a=t(39190),f=t(54905),Q=t(90087),s=t(22374),_e=t(74066),se=t(48766),je=t(81343),de=t(25578),n=t(22812),fe=t(9620),Fe=t(89767),pe=t.n(Fe),Ee=t(82078),e=t(52454),We=function(d){var w=d.id,I=d.innerKey,E=d.ws_id,D=(0,n.YB)(),v=D.formatMessage,N=(0,s.useState)([]),K=(0,a.Z)(N,2),g=K[0],o=K[1],L=(0,s.useState)(!0),F=(0,a.Z)(L,2),M=F[0],S=F[1],U=function(){var Y=(0,p.Z)((0,c.Z)().mark(function u(P){var k,z;return(0,c.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o({data:[]}),S(!0),k={ws_id:E,object_type:I,object_id:P},r.next=5,(0,de.J1)(k);case 5:z=r.sent,o(z),S(!1);case 8:case"end":return r.stop()}},u)}));return function(P){return Y.apply(this,arguments)}}();(0,s.useEffect)(function(){U(w)},[I]);var ee=[{title:v({id:"suite.indicators"}),dataIndex:"name",width:200,fixed:"left"},{title:v({id:"suite.cmp_threshold"}),dataIndex:"cmp_threshold",width:160,render:function(u){return u&&Number(u).toFixed(2)}},{title:v({id:"suite.cv_threshold"}),dataIndex:"cv_threshold",width:140,render:function(u){return u&&Number(u).toFixed(2)}},{title:v({id:"suite.direction"}),dataIndex:"direction",width:140}];return(0,e.jsx)("div",{className:pe().warp,children:(0,e.jsx)(Ee.Z,{columns:ee,name:"ws-suite-manage-metric-list",loading:M,dataSource:g.data,showPagination:!1,scroll:{x:640}})},w)},Me=We,Se=t(53536),G=t(7597),Z=t(6130),Xe=function(d){var w=d.record,I=d.id,E=d.type,D=d.ws_id,v=Q.Z.TabPane,N=(0,s.useState)("case"),K=(0,a.Z)(N,2),g=K[0],o=K[1],L=(0,s.useState)([]),F=(0,a.Z)(L,2),M=F[0],S=F[1],U=(0,s.useState)(!1),ee=(0,a.Z)(U,2),Y=ee[0],u=ee[1],P=(0,s.useState)(""),k=(0,a.Z)(P,2),z=k[0],_=k[1],r=function(j){o(j)},y=[{title:"Test Conf",dataIndex:"name",ellipsis:!0,width:300,fixed:"left",render:function(j){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:j})}},{title:(0,e.jsx)(n._H,{id:"suite.alias"}),dataIndex:"alias",ellipsis:!0,render:function(j){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:j})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(j){return j?(0,e.jsx)(O.Z,{placement:"bottomLeft",title:j,children:(0,e.jsx)(Ie.Z.Text,{style:{width:100},ellipsis:!0,children:j||"-"})}):"-"}},{title:"Timeout(s)",dataIndex:"timeout",width:100},{title:(0,e.jsx)(n._H,{id:"suite.repeat"}),dataIndex:"repeat",width:120,ellipsis:!0},{title:(0,e.jsx)(n._H,{id:"suite.var"}),dataIndex:"var",ellipsis:!0,width:120,render:function(j,b){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:b.var&&JSON.parse(b.var).map(function(W,A){return(0,e.jsxs)("p",{children:["".concat(W.name,"=").concat(W.val,",").concat(W.des||"-"),";"]},A)})},children:b.var&&b.var!="[]"?JSON.parse(b.var).map(function(W){return"".concat(W.name,"=").concat(W.val,",").concat(W.des||"-",";")}):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:120,ellipsis:!0,render:function(j,b){return(0,e.jsx)(G.Z,{title:b.doc,isCode:!0,width:90,onClick:function(){u(!0),_(b.doc)}})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170}];return(0,e.jsxs)("div",{className:pe().warp,children:[E=="performance"&&(0,e.jsxs)(Q.Z,{defaultActiveKey:"case",activeKey:g,onChange:function(j){return r(j)},children:[(0,e.jsx)(v,{tab:"Test Conf"},"case"),(0,e.jsx)(v,{tab:(0,e.jsx)(n._H,{id:"suite.indicators"})},"suite")]}),g==="case"?(0,e.jsx)(Ee.Z,{columns:y,name:"ws-suite-manage-case",dataSource:w,loading:!1,rowKey:"id",showPagination:!1,size:"small",expandable:E==="performance"?{indentSize:40,expandedRowRender:function(j){return(0,e.jsx)(Me,{ws_id:D,id:j.id,innerKey:g})},expandedRowKeys:M,expandIcon:function(j){var b=j.expanded,W=j.onExpand,A=j.record;return b?(0,e.jsx)(se.Z,{onClick:function(){return S([])}}):(0,e.jsx)(je.Z,{onClick:function(){return S([A.id])}})}}:{},scroll:{x:1030}}):(0,e.jsx)(Me,{ws_id:D,id:I,innerKey:g}),(0,e.jsx)($.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return u(!1)},open:Y,children:(0,e.jsx)(Se.Z,{code:z})})]})},qe=Xe,wt=t(81138),et=t(96146),De=t(31784),Ve=t(24812),tt=t(25399),Be=t.n(tt),$e=t(12590),nt=t(6532),ze=t(39935),at=t(87802),st=t.n(at),it=function(d){var w=d.type,I=d.dataSource,E=(0,s.useState)({visible:!1,doc:""}),D=(0,a.Z)(E,2),v=D[0],N=D[1],K=[{title:"Test Conf",dataIndex:"name",fixed:"left",width:150,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.timeout"}),dataIndex:"timeout",width:120,render:function(o){return(0,e.jsx)("span",{children:o||"-"})}},!["functional","performance"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"suite.ci_type"}),dataIndex:"ci_type",width:120,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o?Be()(o).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:200,render:function(o){return o?(0,e.jsx)(G.Z,{title:o,width:150,isCode:!0,onClick:function(){N({visible:!0,doc:o})}}):"-"}}];return(0,e.jsxs)("div",{children:[(0,e.jsx)(Ee.Z,{className:st().confList_root,columns:K,name:"ws-suite-manage-buiness-conf",dataSource:I}),(0,e.jsx)($.Z,{maskClosable:!0,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return N({visible:!1,doc:""})},open:v.visible,children:(0,e.jsx)(Se.Z,{code:v.doc})})]})},rt=it,ot=t(88168),lt=t.n(ot),dt=function(d){var w=d.dataSource,I=(0,n.YB)(),E=I.formatMessage,D=(0,s.useState)(!1),v=(0,a.Z)(D,2),N=v[0],K=v[1],g=(0,s.useState)([]),o=(0,a.Z)(g,2),L=o[0],F=o[1],M=(0,s.useState)([]),S=(0,a.Z)(M,2),U=S[0],ee=S[1],Y=(0,s.useState)({visible:!1,doc:""}),u=(0,a.Z)(Y,2),P=u[0],k=u[1],z=[{title:"Test Suite",dataIndex:"name",fixed:"left",width:120,render:function(r){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},width:120,children:r})}},{title:(0,e.jsx)(n._H,{id:"suite.run_mode"}),dataIndex:"run_mode",width:100,render:function(r){return ze.ur.map(function(y){return y.id===r?(0,e.jsx)("span",{children:E({id:y.id})||"-"},y.id):null})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(r){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:r||"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.test_type"}),dataIndex:"test_type",width:100,render:function(r){return ze.oQ.map(function(y){return y.value===r?(0,e.jsx)("span",{children:E({id:y.value})||"-"},y.value):null})}},{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n._H,{id:"suite.view_type"})," ",(0,e.jsx)(O.Z,{title:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type2"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type3"})})]}),placement:"bottomLeft",children:(0,e.jsx)(_e.Z,{})})]}),dataIndex:"view_type",width:120,ellipsis:!0,render:function(r,y){return(0,fe.o)(r,y)}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:150,render:function(r){return(0,e.jsx)("div",{children:r?(0,e.jsx)(G.Z,{title:r,width:100,isCode:!0,onClick:function(){k({visible:!0,doc:r})}}):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",className:"no_padding_head",width:100,ellipsis:{shwoTitle:!1},render:function(r,y){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:y.description})}},{title:"Owner",width:120,dataIndex:"owner_name"},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170,render:function(r){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:r||"-"})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(te.Z,{className:lt().suitList_root,size:"small",loading:N,rowKey:function(r){return r.id},columns:z,dataSource:w,expandable:{expandedRowKeys:L,expandedRowRender:function(r){var y=r.test_type,T=r.test_case_list;return(0,e.jsx)(rt,(0,h.Z)((0,h.Z)({suite_id:r.id,type:y},r),{},{domainList:U,dataSource:T}))},onExpand:function(r,y){F(r?[y.id]:[])},expandIcon:function(r){var y=r.expanded,T=r.onExpand,j=r.record;return y?(0,e.jsx)(se.Z,{onClick:function(W){return T(j,W)}}):(0,e.jsx)(je.Z,{onClick:function(W){return T(j,W)}})}},scroll:{x:"auto"},pagination:!1}),(0,e.jsx)($.Z,{maskClosable:!0,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return k({visible:!1,doc:""})},visible:P.visible,children:(0,e.jsx)(Se.Z,{code:P.doc})})]})},ut=dt,ct=t(36286),Ge=t.n(ct),mt=function(){var ne=(0,Ve.UO)(),d=ne.ws_id,w=(0,n.YB)(),I=w.formatMessage,E=(0,Ve.TH)(),D=(0,s.useState)(!1),v=(0,a.Z)(D,2),N=v[0],K=v[1],g=(0,s.useState)({data:[],total:0,page_num:1}),o=(0,a.Z)(g,2),L=o[0],F=o[1],M=(0,s.useState)(10),S=(0,a.Z)(M,2),U=S[0],ee=S[1],Y=(0,s.useState)([]),u=(0,a.Z)(Y,2),P=u[0],k=u[1],z=(0,s.useState)({}),_=(0,a.Z)(z,2),r=_[0],y=_[1],T=(0,s.useState)(!0),j=(0,a.Z)(T,2),b=j[0],W=j[1],A=(0,s.useState)(""),ye=(0,a.Z)(A,2),Ze=ye[0],Ue=ye[1],Pe=(0,s.useState)(),He=(0,a.Z)(Pe,2),Ke=He[0],Ye=He[1],Te=function(){var C=(0,p.Z)((0,c.Z)().mark(function l(H){var q,m,i,x;return(0,c.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return K(!0),R.prev=1,R.next=4,(0,de.p4)((0,h.Z)((0,h.Z)({},r),{},{ws_id:d},H));case 4:q=R.sent,m=q||{},i=m.code,x=m.msg,i===200?F(q):et.default.error(x||I({id:"request.failed"})),K(!1),R.next=13;break;case 10:R.prev=10,R.t0=R.catch(1),K(!1);case 13:case"end":return R.stop()}},l,null,[[1,10]])}));return function(H){return C.apply(this,arguments)}}();(0,s.useEffect)(function(){var C={page_num:1,page_size:U,name:Ze,owner:Ke};y(C),Te(C)},[Ze,Ke,E==null?void 0:E.query]);var Re=[{title:(0,e.jsx)(n._H,{id:"suite.business.name"}),dataIndex:"name",fixed:"left",width:"auto",filterIcon:function(){return(0,e.jsx)(De.Z,{style:{color:Ze?"#1890ff":void 0}})},filterDropdown:function(l){var H=l.confirm;return(0,e.jsx)($e.Z,{confirm:H,autoFocus:b,onConfirm:function(m){Ue(m)}})},onFilterDropdownVisibleChange:function(l){l&&W(!b)},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",onCell:function(){return{style:{minWidth:170}}},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l?Be()(l).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_modified"}),dataIndex:"gmt_modified",onCell:function(){return{style:{minWidth:170}}},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l?Be()(l).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:"Owner",dataIndex:"creator_name",onCell:function(){return{style:{minWidth:150}}},filterIcon:function(){return(0,e.jsx)(De.Z,{style:{color:Ke?"#1890ff":void 0}})},filterDropdown:function(l){var H=l.confirm;return(0,e.jsx)(nt.Z,{confirm:H,onConfirm:function(m){Ye(m)}})},onFilterDropdownVisibleChange:function(l){l&&W(!b)},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l})}}],Oe=function(l,H){ee(H),Te({page_num:l,page_size:H})},ke=L.data,be=L.total,Ne=L.page_num;return(0,e.jsxs)("div",{children:[(0,e.jsx)(te.Z,{className:Ge().businessList_root,size:"small",loading:N,rowKey:function(l){return l.id},columns:Re,dataSource:ke,expandable:{expandedRowKeys:P,expandedRowRender:function(l){var H=l.test_suite_list,q=H===void 0?[]:H;return(0,e.jsx)(ut,{business_id:l.id,dataSource:q})},onExpand:function(l,H){k(l?[H.id]:[])},expandIcon:function(l){var H=l.expanded,q=l.onExpand,m=l.record;return H?(0,e.jsx)(se.Z,{onClick:function(x){return q(m,x)}}):(0,e.jsx)(je.Z,{onClick:function(x){return q(m,x)}})}},scroll:{x:"auto"},pagination:!1}),!!be&&(0,e.jsxs)("div",{className:Ge().common_pagination,children:[(0,e.jsx)("div",{children:I({id:"pagination.total.strip"},{data:be})}),(0,e.jsx)(ce.Z,{showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,current:Ne,pageSize:U,total:be,onChange:function(l,H){Oe(l,H)},onShowSizeChange:function(l,H){Oe(l,H)}})]})]})},It=t(57359),Le=t(34423),Et=t(87967),Ae=t(65320),ft=t(42847),Dt=t(8281),pt=t(58591),Kt=t(69230),Qe=t(33821),ht=t(30635),vt=t.n(ht),xt=function(d){var w=d.confirm,I=d.onConfirm,E=(0,s.useState)([]),D=(0,a.Z)(E,2),v=D[0],N=D[1],K=(0,s.useState)(),g=(0,a.Z)(K,2),o=g[0],L=g[1],F=(0,s.useState)(),M=(0,a.Z)(F,2),S=M[0],U=M[1],ee=(0,s.useState)(!0),Y=(0,a.Z)(ee,2),u=Y[0],P=Y[1],k=Qe.Z.Option;(0,s.useEffect)(function(){z()},[]);var z=function(){var _=(0,p.Z)((0,c.Z)().mark(function r(y){var T,j,b;return(0,c.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(T=y&&y.replace(/\s*/g,""),!(o&&o==T)){A.next=3;break}return A.abrupt("return");case 3:return L(T),P(!0),A.next=7,(0,de.fP)({keyword:T,page_size:50,page_num:1});case 7:j=A.sent,b=j.data,N(b||[]),P(!1);case 11:case"end":return A.stop()}},r)}));return function(y){return _.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:vt().filter_search_wrapper,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Qe.Z,{allowClear:!0,onDropdownVisibleChange:function(){return z()},notFoundContent:u?(0,e.jsx)(ve.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:z,style:{width:"100%"},onChange:function(r){return U(r)},showArrow:!1,autoFocus:!0,mode:"multiple",value:S,children:v.map(function(_){return(0,e.jsx)(k,{value:_.id,children:_.last_name},_.id)})})}),(0,e.jsx)(pt.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)(me.Z,{onClick:function(){w==null||w(),S&&S.length>0&&I(S.toString())},type:"link",size:"small",style:{width:75},children:(0,e.jsx)(n._H,{id:"operation.search"})}),(0,e.jsx)(me.Z,{type:"text",onClick:function(){w==null||w(),U(void 0),I(void 0),z()},size:"small",style:{width:75},children:(0,e.jsx)(n._H,{id:"operation.reset"})})]})]})},gt=xt,_t=t(24401),X=t.n(_t),jt=function(d){var w=d.title,I=d.confirm,E=d.setParams,D=d.params,v=d.name,N=(0,s.useState)(!1),K=(0,a.Z)(N,2),g=K[0],o=K[1],L=function(M){o(M)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)("span",{children:w}),(0,e.jsx)(Ae.Z,{open:g,onOpenChange:L,trigger:["click"],overlayStyle:{background:"#fff",boxShadow:"0 9px 28px 8px rgb(0 0 0 / 5%), 0 6px 16px 0 rgb(0 0 0 / 8%), 0 3px 6px -4px rgb(0 0 0 / 12%)"},overlay:(0,e.jsx)($e.Z,{confirm:I,onConfirm:function(M){var S={};S[v]=M,o(!1),E((0,h.Z)((0,h.Z)((0,h.Z)({},D),S),{},{page_num:1}))}}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(De.Z,{className:D[v]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},Je=function(d){var w=d.title,I=d.confirm,E=d.setParams,D=d.params,v=d.name,N=d.list,K=(0,s.useState)(!1),g=(0,a.Z)(K,2),o=g[0],L=g[1],F=function(S){L(S)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)("span",{children:w}),(0,e.jsx)(Ae.Z,{open:o,onOpenChange:F,trigger:["click"],overlay:(0,e.jsx)(ft.Z,{confirm:I,onConfirm:function(S){var U={};U[v]=S,L(!1),E((0,h.Z)((0,h.Z)((0,h.Z)({},D),U),{},{page_num:1}))},list:N}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(De.Z,{className:D[v]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},St=function(d){var w=d.title,I=d.confirm,E=d.setParams,D=d.params,v=d.name,N=(0,s.useState)(!1),K=(0,a.Z)(N,2),g=K[0],o=K[1],L=function(M){o(M)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)("span",{children:w}),(0,e.jsx)(Ae.Z,{open:g,onOpenChange:L,trigger:["click"],overlay:(0,e.jsx)(gt,{confirm:I,onConfirm:function(M){var S={};S[v]=M,o(!1),E((0,h.Z)((0,h.Z)({},D),S))}}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(De.Z,{className:D[v]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},yt=t(75073),Zt=function(d){var w=(0,n.YB)(),I=w.formatMessage,E=d.match.params.ws_id,D=(0,n.md)(),v=d.location.query.test_type||"functional",N=Q.Z.TabPane,K=(0,s.useState)([]),g=(0,a.Z)(K,2),o=g[0],L=g[1],F=(0,s.useState)(!0),M=(0,a.Z)(F,2),S=M[0],U=M[1],ee=(0,s.useState)({name:"",domain:"",run_mode:"",owner:"",order:"",page_num:1,page_size:10,test_type:v}),Y=(0,a.Z)(ee,2),u=Y[0],P=Y[1],k=(0,s.useState)(!0),z=(0,a.Z)(k,2),_=z[0],r=z[1],y=(0,s.useState)([]),T=(0,a.Z)(y,2),j=T[0],b=T[1],W=(0,s.useState)(!1),A=(0,a.Z)(W,2),ye=A[0],Ze=A[1],Ue=(0,s.useState)(""),Pe=(0,a.Z)(Ue,2),He=Pe[0],Ke=Pe[1],Ye=(0,s.useState)([]),Te=(0,a.Z)(Ye,2),Re=Te[0],Oe=Te[1],ke=function(){var m=(0,p.Z)((0,c.Z)().mark(function i(){var x,J;return(0,c.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,de.R2)();case 2:x=ue.sent,J=x.data,Oe(J);case 5:case"end":return ue.stop()}},i)}));return function(){return m.apply(this,arguments)}}();(0,s.useEffect)(function(){ke()},[]);var be=function(){var m=(0,p.Z)((0,c.Z)().mark(function i(){var x,J,R=arguments;return(0,c.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return x=R.length>0&&R[0]!==void 0?R[0]:{},r(!0),L({data:[]}),ie.next=5,(0,de.J1)((0,h.Z)((0,h.Z)({},x),{},{ws_id:E}));case 5:J=ie.sent,L(J),r(!1);case 8:case"end":return ie.stop()}},i)}));return function(){return m.apply(this,arguments)}}();(0,s.useEffect)(function(){["functional","performance"].includes(u.test_type)&&(be(u),b([]))},[u,S]);var Ne=function(i,x){P((0,h.Z)((0,h.Z)({},u),{},{page_num:i,page_size:x}))},C=(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type2"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type3"})})]}),l=function(i){["functional","performance"].includes(i)&&b([]),P({test_type:i,name:"",domain:"",owner:"",order:"",run_mode:"",page_num:1,page_size:10}),n.m8.push("".concat(location.pathname,"?test_type=").concat(i))},H=[{title:function(){return(0,e.jsx)(jt,{title:"Test Suite",params:u,setParams:P,name:"name"})},className:"no_padding_head",dataIndex:"name",ellipsis:!0},{title:function(){return(0,e.jsx)(Je,{title:I({id:"suite.run_mode"}),params:u,setParams:P,name:"run_mode",list:ze.ur.map(function(i){return(0,h.Z)((0,h.Z)({},i),{},{name:I({id:i.id})})})})},width:120,className:"no_padding_head",dataIndex:"run_mode",render:function(i){return i==="standalone"?(0,e.jsx)(n._H,{id:"standalone"}):(0,e.jsx)(n._H,{id:"cluster"})}},{title:function(){return(0,e.jsx)(Je,{title:I({id:"suite.domain"}),params:u,setParams:P,name:"domain",list:Re})},width:90,ellipsis:{shwoTitle:!1},render:function(i){return i?(0,e.jsx)(O.Z,{placement:"bottomLeft",title:i,children:(0,e.jsx)(Ie.Z.Text,{style:{width:85},ellipsis:!0,children:i||"-"})}):"-"},className:"no_padding_head",dataIndex:"domain_name_list"},{title:v==="functional"?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n._H,{id:"suite.view_type"})," ",(0,e.jsx)(O.Z,{title:C,placement:"bottomLeft",children:(0,e.jsx)(_e.Z,{})})]}),dataIndex:"view_type",width:v==="functional"?0:120,ellipsis:!0,render:function(i,x){return v==="functional"?(0,e.jsx)(e.Fragment,{}):(0,fe.o)(i,x)}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",className:"no_padding_head",width:190,render:function(i,x){return(0,e.jsx)("div",{children:(0,e.jsx)(G.Z,{title:x.doc,isCode:!0,onClick:function(){Ze(!0),Ke(x.doc)}})})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",className:"no_padding_head",width:100,ellipsis:{shwoTitle:!1},render:function(i,x){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:x.description})}},{title:function(){return(0,e.jsx)(St,{title:"Owner",params:u,setParams:P,name:"owner"})},width:120,className:"no_padding_head",dataIndex:"owner_name"},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",className:"no_padding_head",sorter:!0,ellipsis:!0}],q=function(){var m=(0,p.Z)((0,c.Z)().mark(function i(x){return(0,c.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:b([x.id+""]);case 1:case"end":return R.stop()}},i)}));return function(x){return m.apply(this,arguments)}}();return(0,e.jsxs)(yt.mQ,{title:(0,e.jsxs)(Q.Z,{defaultActiveKey:v,onChange:l,children:[(0,e.jsx)(N,{tab:(0,e.jsx)(n._H,{id:"functional.test"})},"functional"),(0,e.jsx)(N,{tab:(0,e.jsx)(n._H,{id:"performance.test"})},"performance"),!1]}),extra:(0,e.jsx)(n.Nv,{accessible:D.WsMemberOperateSelf(),children:(0,e.jsx)(me.Z,{type:"primary",onClick:function(){["functional","performance","business"].includes(u.test_type)&&n.m8.push("/ws/".concat(E,"/new_suite/").concat(u.test_type))},children:(0,e.jsx)(n._H,{id:"test.suite.manage"})},"createSuite")}),children:[["functional","performance"].includes(u.test_type)&&(0,e.jsxs)(ve.Z,{spinning:_,children:[(0,e.jsx)(te.Z,{className:pe().table_style,size:"small",onChange:function(i,x,J){switch(J.order){case void 0:P((0,h.Z)((0,h.Z)({},u),{},{order:void 0}));break;case"descend":P((0,h.Z)((0,h.Z)({},u),{},{order:"-gmt_created"}));break;case"ascend":P((0,h.Z)((0,h.Z)({},u),{},{order:"gmt_created"}));break;default:break}},columns:H,dataSource:o.data,rowKey:function(i){return i.id+""},expandable:{expandedRowRender:function(i){return(0,e.jsx)(qe,{domains:Re,record:i.test_case_list,id:i.id,type:u.test_type,ws_id:E})},indentSize:0,onExpand:function(i,x){return i?q(x):b([])},expandedRowKeys:j,expandIcon:function(i){var x=i.expanded,J=i.onExpand,R=i.record;return x?(0,e.jsx)(se.Z,{onClick:function(ie){return J(R,ie)}}):(0,e.jsx)(je.Z,{onClick:function(ie){return J(R,ie)}})}},pagination:!1}),(0,e.jsxs)(xe.Z,{justify:"space-between",style:{padding:"16px 20px 0"},children:[(0,e.jsx)("div",{children:I({id:"pagination.total.strip"},{data:o.total||0})}),(0,e.jsx)(ce.Z,{className:o.total==0?pe().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:u.page_num,defaultCurrent:1,onChange:function(i,x){return Ne(i,x)},onShowSizeChange:function(i,x){return Ne(i,x)},total:o.total})]})]}),u.test_type==="business"&&(0,e.jsx)(mt,{}),(0,e.jsx)($.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return Ze(!1)},open:ye,children:(0,e.jsx)(Se.Z,{code:He})})]})},Ct=Zt},25578:function(B,he,t){"use strict";t.d(he,{J1:function(){return ve},fP:function(){return xe},R2:function(){return te},p4:function(){return me},Vz:function(){return O},Ux:function(){return Ie}});var V=t(35832),$=t(32326),re=t(22812);function ve(c){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,$.Z)((0,V.Z)().mark(function c(p){return(0,V.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,re.WY)("/api/case/workspace/case/",{params:p}));case 1:case"end":return f.stop()}},c)})),Ce.apply(this,arguments)}function xe(c){return we.apply(this,arguments)}function we(){return we=(0,$.Z)((0,V.Z)().mark(function c(p){return(0,V.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,re.WY)("/api/auth/user/",{params:p}));case 1:case"end":return f.stop()}},c)})),we.apply(this,arguments)}function ce(c){return oe.apply(this,arguments)}function oe(){return oe=_asyncToGenerator(_regeneratorRuntime().mark(function c(p){return _regeneratorRuntime().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",request("/api/case/workspace/has_record/",{params:p}));case 1:case"end":return f.stop()}},c)})),oe.apply(this,arguments)}function te(){return le.apply(this,arguments)}function le(){return le=(0,$.Z)((0,V.Z)().mark(function c(){var p,a=arguments;return(0,V.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return p=a.length>0&&a[0]!==void 0?a[0]:{page_size:100},Q.abrupt("return",(0,re.WY)("/api/case/test_domain/",{params:p}));case 2:case"end":return Q.stop()}},c)})),le.apply(this,arguments)}function me(c){return ae.apply(this,arguments)}function ae(){return ae=(0,$.Z)((0,V.Z)().mark(function c(p){var a,f;return(0,V.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a={};for(f in p)(p[f]||p[f]===0)&&(a[f]=p[f]);return s.abrupt("return",(0,re.WY)("/api/case/workspace/business/brief/",{method:"GET",params:a}));case 3:case"end":return s.stop()}},c)})),ae.apply(this,arguments)}function O(c){return ge.apply(this,arguments)}function ge(){return ge=(0,$.Z)((0,V.Z)().mark(function c(p){var a,f;return(0,V.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a={};for(f in p)(p[f]||p[f]===0)&&(a[f]=p[f]);return s.abrupt("return",(0,re.WY)("/api/case/business/brief/",{method:"GET",params:a}));case 3:case"end":return s.stop()}},c)})),ge.apply(this,arguments)}function Ie(c){return h.apply(this,arguments)}function h(){return h=(0,$.Z)((0,V.Z)().mark(function c(p){return(0,V.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,re.WY)("/api/case/workspace/business/brief/",{method:"GET",params:p}));case 1:case"end":return f.stop()}},c)})),h.apply(this,arguments)}}}]);
