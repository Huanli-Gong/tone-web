(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[8037],{54689:function(M){M.exports={searchList:"searchList___3vW9d",searchList_item:"searchList_item___5xQec",head:"head___2yWJl",title:"title___3R3Rf",author:"author___pGPvj",subTitle:"subTitle___3GNiV",content_tag:"content_tag___14Vo0",type_tag:"type_tag___2CWpe",content:"content___1Hh65",content_remarks:"content_remarks___2fLmP",little_data_tips:"little_data_tips___395rH",no_data_tips:"no_data_tips___3auGs",footer:"footer___25W41"}},400:function(M){M.exports={TestSuiteSearch_wrapper:"TestSuiteSearch_wrapper___1sgot",header:"header___1PC9t",content:"content___15Umy",content_search:"content_search___1me9s",initialPage:"initialPage___3IObk",headerInfo:"headerInfo___m1Xqh",define_backTop:"define_backTop___H91_C",backTop_icon:"backTop_icon___Peemf"}},8074:function(M,G,t){"use strict";t.r(G),t.d(G,{default:function(){return Ce}});var u=t(20228),m=t(11382),v=t(54029),re=t(79166),k=t(39428),x=t(11849),F=t(3182),Z=t(2824),le=t(18106),Y=t(73272),ce=t(47673),ne=t(4107),s=t(67294),n=t(76570),r=t(58491),h=t(14781),e=t(10664),B=t(402),g=t(97272),se=t(49111),oe=t(19650),R=t(34792),me=t(48086),j=t(16917),K=t(20009),de=t(24480),he=t(55083),ve=t(54689),d=t.n(ve),a=t(85893),ge=function(U){var E=(0,j.YB)(),Q=E.formatMessage,b=(0,K.UO)(),D=b.ws_id,C=U.tabKey,V=U.loadingCallback,z=V===void 0?function(){}:V,X=(0,K.TH)(),w=X.query.keyword,ie=(0,s.useState)([]),I=(0,Z.Z)(ie,2),J=I[0],O=I[1],ue=(0,s.useState)({pageNum:1,pageSize:20,total:0}),A=(0,Z.Z)(ue,2),y=A[0],N=A[1],q=function(){var l=(0,F.Z)((0,k.Z)().mark(function i(o){var p,H,f;return(0,k.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,z(!0),c.next=4,(0,he._Z)((0,x.Z)({search_key:w,search_type:C},o));case 4:if(c.t0=c.sent,c.t0){c.next=7;break}c.t0={};case 7:p=c.t0,H=p.data,f=H===void 0?{}:H,p.code===200&&Array.isArray(f.data)&&f.data.length&&C==="all"?(O(f.data),N({pageNum:f.page_num,pageSize:f.page_size,total:f.total})):p.code===200&&Array.isArray(f)&&f.length?(O(f),N({pageNum:p.page_num,pageSize:p.page_size,total:p.total})):(O([]),N({pageNum:1,pageSize:20,total:0}),p.code!==200&&me.default.error(p.msg||"\u8BF7\u6C42\u5931\u8D25\uFF01")),z(!1),c.next=18;break;case 13:c.prev=13,c.t1=c.catch(0),O([]),N({pageNum:1,pageSize:20,total:0}),z(!1);case 18:case"end":return c.stop()}},i,null,[[0,13]])}));return function(o){return l.apply(this,arguments)}}();(0,s.useEffect)(function(){w&&q({page_num:y.pageNum,page_size:y.pageSize,ws_id:D})},[w,C,D]);var ee=function(i){if(i.id&&i.test_suite_id){var o=document.createElement("a");o.target="_blank",o.rel="noopener noreferrer",o.href="/ws/".concat(D,"/suite_search/conf_Details?suite_id=").concat(i.test_suite_id,"&case_id=").concat(i.id,"&suite_name=").concat(encodeURIComponent(i.suite_name),"&conf_name=").concat(encodeURIComponent(i.name)),o.click()}},ae=function(i,o){N((0,x.Z)((0,x.Z)({},y),{},{pageNum:i,pageSize:o})),q({page_num:i,page_size:o})},W=function(i){if(i&&w){var o=new RegExp("("+w+")","g"),p=i.replace(o,"<span style='color: #f00;opacity:1'>".concat(w,"</span>"));return(0,a.jsx)("span",{dangerouslySetInnerHTML:{__html:p}})}return i},L=y.total,te=y.pageSize;return(0,a.jsxs)("div",{className:d().searchList,children:[J.map(function(l){return(0,a.jsxs)("div",{className:d().searchList_item,children:[(0,a.jsxs)("div",{className:d().head,children:[(0,a.jsx)("p",{className:d().title,onClick:function(){return ee(l)},children:W(l.name)}),(0,a.jsx)("div",{className:d().author,children:l.creator_name})]}),(0,a.jsx)("span",{className:d().subTitle,children:W(l.suite_name)}),(0,a.jsxs)("div",{className:d().content_tag,children:[(0,a.jsx)("span",{children:(0,de.IA)(l.run_mode,Q)}),(0,a.jsxs)(oe.Z,{children:[l.test_type&&(0,a.jsx)("div",{className:d().type_tag,children:(0,de.IA)(l.test_type,Q)}),l.domain_name_list&&l.domain_name_list.split(",").map(function(i,o){return(0,a.jsx)("div",{className:d().type_tag,children:i},o)})]})]}),(0,a.jsx)("div",{className:d().content,children:(0,a.jsxs)(g.Z.Paragraph,{ellipsis:{rows:2,expandable:!1},style:{marginBottom:0},children:[(0,a.jsx)(j._H,{id:"test.suite.explain"}),"\uFF1A",W(l.doc)]})}),(0,a.jsx)("div",{className:"".concat(d().content," ").concat(d().content_remarks),children:(0,a.jsxs)(g.Z.Paragraph,{ellipsis:{rows:2,expandable:!1},style:{marginBottom:0},children:[(0,a.jsx)(j._H,{id:"test.suite.remarks"}),"\uFF1A",W(l.description)]})})]},l.id)}),(0,a.jsx)(e.Z,{total:y.total,pageSize:y.pageSize,current:y.pageNum,showSizeChanger:!0,hideOnSinglePage:!0,onChange:ae,onShowSizeChange:ae}),L!==0&&te>=L&&(0,a.jsx)("div",{className:d().little_data_tips,children:(0,a.jsx)(j._H,{id:"test.suite.it.over"})}),L===0&&(0,a.jsxs)("div",{className:d().no_data_tips,children:[(0,a.jsx)(n.Z,{style:{fontSize:36,color:"#b3b3b3"}}),(0,a.jsx)("p",{children:(0,a.jsx)(j._H,{id:"test.suite.failed.to.find"})}),(0,a.jsx)("div",{children:(0,a.jsx)(j._H,{id:"test.suite.please.try.to.search.content"})})]}),(0,a.jsx)("div",{className:d().footer})]})},ye=ge,_e=t(400),P=t.n(_e),Se=t(60035),Te=ne.Z.Search,Ze=Y.Z.TabPane,je=function(){var U=(0,j.YB)(),E=U.formatMessage,Q=(0,K.TH)(),b=Q.query.keyword,D=(0,K.UO)(),C=D.ws_id,V=(0,s.useState)(!1),z=(0,Z.Z)(V,2),X=z[0],w=z[1],ie=(0,s.useState)("all"),I=(0,Z.Z)(ie,2),J=I[0],O=I[1],ue=(0,s.useState)({total_num:0,suite_num:0,conf_num:0,domain_num:0}),A=(0,Z.Z)(ue,2),y=A[0],N=A[1],q=(0,s.useState)(0),ee=(0,Z.Z)(q,2),ae=ee[0],W=ee[1],L=(0,s.useRef)(null),te=function(){var _=(0,F.Z)((0,k.Z)().mark(function S(fe){var $;return(0,k.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,he.w7)(fe);case 2:if(T.t0=T.sent,T.t0){T.next=5;break}T.t0={};case 5:$=T.t0,$.code===200&&$.data&&Object.keys($.data).length&&N((0,x.Z)({},$.data));case 7:case"end":return T.stop()}},S)}));return function(fe){return _.apply(this,arguments)}}();(0,s.useEffect)(function(){return window.document.title="\u641C\u7D22\u7ED3\u679C - T-One",function(){window.document.title="T-One"}},[]);var l=(0,Se.CR)(),i=l.height;(0,s.useEffect)(function(){b&&te({search_key:b,ws_id:C})},[b,C]);var o=function(S){S&&(te({search_key:S,ws_id:C}),j.m8.push({pathname:"/ws/".concat(C,"/suite_search/key"),query:{keyword:S}}))},p=function(S){O(S)},H=function(){var S=L.current.scrollTop;W(S)},f=function(){L.current.scrollTo(0,0)},pe=[{name:E({id:"test.suite.all"}),key:"all",fieldName:"total_num"},{name:"Suite",key:"suite",fieldName:"suite_num"},{name:"Conf",key:"conf",fieldName:"conf_num"},{name:E({id:"test.suite.domain"}),key:"domain",fieldName:"domain_num"}],c={backgroundColor:"#E6F7FF",color:"#1890FF",marginTop:-3},be={backgroundColor:"#0000000a",color:"#000",marginTop:-3};return(0,a.jsxs)("div",{className:P().TestSuiteSearch_wrapper,style:{minHeight:i-50},onScroll:H,ref:L,children:[(0,a.jsx)("div",{className:P().header,style:{display:"block"}}),(0,a.jsxs)("div",{className:P().content,style:{minHeight:i-270},children:[(0,a.jsx)(Te,{className:P().content_search,defaultValue:b,prefix:(0,a.jsx)(n.Z,{style:{color:"#bfbfbf",marginTop:4,marginRight:8}}),placeholder:E({id:"test.suite.search.placeholder"}),allowClear:!0,enterButton:E({id:"test.suite.search"}),onSearch:o}),(0,a.jsxs)("div",{children:[(0,a.jsx)(Y.Z,{defaultActiveKey:"all",onChange:p,children:pe.map(function(_){return(0,a.jsx)(Ze,{tab:(0,a.jsxs)("span",{children:[_.name," ",(0,a.jsx)(re.Z,{count:y[_.fieldName],overflowCount:999,showZero:!0,style:J===_.key?c:be})]}),disabled:X},_.key)})}),(0,a.jsx)(m.Z,{spinning:X,children:(0,a.jsx)(ye,{searchKey:b,tabKey:J,loadingCallback:w})})]})]}),(0,a.jsx)("div",{className:P().define_backTop,onClick:f,style:{display:ae>200?"block":"none",paddingTop:7},children:(0,a.jsx)(r.Z,{className:P().backTop_icon})})]})},Ce=je},55083:function(M,G,t){"use strict";t.d(G,{ys:function(){return re},z:function(){return k},w7:function(){return x},_Z:function(){return F},qn:function(){return Z},lZ:function(){return le},yn:function(){return Y},hX:function(){return ce},_k:function(){return ne}});var u=t(39428),m=t(3182),v=t(16917),re=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/api/case/test_suite/retrieve/",{params:r}));case 1:case"end":return e.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),k=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/api/case/test_suite/retrieve/",{method:"GET",params:r}));case 1:case"end":return e.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),x=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/api/case/retrieve/quantity/",{method:"GET",params:r}));case 1:case"end":return e.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),F=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){var h,e,B,g,se;return(0,u.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return h=r.search_key,e=r.search_type,B=r.page_num,g=r.page_size,se=r.ws_id,R.abrupt("return",(0,v.WY)("/api/case/test_suite/retrieve/",{method:"POST",params:{page_num:B,page_size:g},data:{search_key:h,search_type:e,ws_id:se}}));case 2:case"end":return R.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),Z=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/api/case/test_suite/",{method:"GET",params:r}));case 1:case"end":return e.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),le=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/api/case/test_metric/",{method:"GET",params:r}));case 1:case"end":return e.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),Y=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){var h,e;return(0,u.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return h=r.case_id,e=r.ws_id,g.abrupt("return",(0,v.WY)("/api/case/test_case/detail/".concat(h,"/"),{method:"GET",params:{retrieve:1,ws_id:e}}));case 2:case"end":return g.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),ce=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/api/case/test_suite/retrieve/",{method:"GET",params:r}));case 1:case"end":return e.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),ne=function(){var s=(0,m.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/api/case/test_metric/",{method:"GET",params:r}));case 1:case"end":return e.stop()}},n)}));return function(r){return s.apply(this,arguments)}}()}}]);
