(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[8215,2485],{22433:function(B){B.exports={confList_root:"confList_root___3EWrK",deleteAll:"deleteAll___3e4kr"}},23136:function(B){B.exports={suitList_root:"suitList_root___1zyyW",deleteAll:"deleteAll___1zMKb"}},74219:function(B){B.exports={businessList_root:"businessList_root___3Hau8",common_pagination:"common_pagination___24xa6"}},93929:function(B){B.exports={filter:"filter___3oqYG",confirm:"confirm___30iCS"}},11734:function(B){B.exports={filter_search_wrapper:"filter_search_wrapper___2c59u"}},47769:function(B){B.exports={filter_wrapper_container:"filter_wrapper_container___sONnw",filter_icon_wrapper:"filter_icon_wrapper___1PY8Q",filter_icon_contaner:"filter_icon_contaner___1nddu",filter_icon_contaner_active:"filter_icon_contaner_active___1jmG0"}},57447:function(B){B.exports={warp:"warp___3w5Ib",batch:"batch___uZFrp",pagination:"pagination___1rXjk",hidden:"hidden___1brZX",ellipsis:"ellipsis___2myYN",table_style:"table_style___iyAhl",des:"des___26R54"}},76865:function(B,he,t){"use strict";var J=t(57663),$=t(71577),de=t(48736),ve=t(27049),Ze=t(49111),Ce=t(19650),we=t(63185),ue=t(9676),re=t(2824),te=t(67294),oe=t(16917),ce=t(93929),ae=t.n(ce),O=t(85893),xe=function(h){var c=h.list,p=h.confirm,a=h.onConfirm,m=h.value,G=(0,te.useState)(m||[]),s=(0,re.Z)(G,2),je=s[0],se=s[1],ge=(0,te.useState)(!1),fe=(0,re.Z)(ge,2),n=fe[0],me=fe[1],Fe=(0,te.useState)(!1),pe=(0,re.Z)(Fe,2),Ee=pe[0],e=pe[1],We=function(Z){e(!!Z.length&&Z.length<c.length),se(Z),me(Z.length===c.length)},Me=c.map(function(V){return V.id}),_e=function(Z){se(Z.target.checked?Me:[]),me(Z.target.checked),e(!1)};return te.useEffect(function(){return function(){se([]),me(!1),e(!1)}},[]),(0,O.jsxs)("div",{className:ae().filter,children:[(0,O.jsx)("div",{style:{display:"flex",flexDirection:"column",maxHeight:280,overflow:"auto"},children:(0,O.jsxs)(Ce.Z,{style:{paddingLeft:8,paddingRight:8},direction:"vertical",size:4,children:[(0,O.jsx)(ue.Z,{indeterminate:Ee,className:ae().domain,onChange:_e,checked:n,children:(0,O.jsx)(oe._H,{id:"operation.select.all"})}),(0,O.jsx)(ue.Z.Group,{onChange:We,value:je,children:(0,O.jsx)(Ce.Z,{direction:"vertical",size:4,children:c.map(function(V){return(0,O.jsx)(ue.Z,{className:ae().domain,value:V.id,children:V.name},V.id)})})})]})}),(0,O.jsx)(ve.Z,{style:{margin:"10px 0"}}),(0,O.jsxs)("div",{className:ae().confirm,children:[(0,O.jsx)($.Z,{size:"small",type:"link",onClick:function(){p==null||p();var Z=je&&je.join(",");a(Z)},children:(0,O.jsx)(oe._H,{id:"operation.ok"})}),(0,O.jsx)($.Z,{size:"small",type:"text",onClick:function(){p==null||p(),se([]),a(void 0),me(!1),e(!1)},children:(0,O.jsx)(oe._H,{id:"operation.reset"})})]})]})};he.Z=xe},79643:function(B,he,t){"use strict";t.r(he),t.d(he,{default:function(){return wt}});var J=t(57338),$=t(440),de=t(20228),ve=t(11382),Ze=t(13062),Ce=t(71230),we=t(14781),ue=t(10664),re=t(66456),te=t(79764),oe=t(57663),ce=t(71577),ae=t(22385),O=t(89456),xe=t(402),Ie=t(97272),h=t(11849),c=t(39428),p=t(3182),a=t(2824),m=t(18106),G=t(73272),s=t(67294),je=t(1870),se=t(44378),ge=t(68002),fe=t(81629),n=t(16917),me=t(72647),Fe=t(57447),pe=t.n(Fe),Ee=t(26606),e=t(85893),We=function(d){var w=d.id,I=d.innerKey,E=d.ws_id,D=(0,n.YB)(),v=D.formatMessage,N=(0,s.useState)([]),T=(0,a.Z)(N,2),j=T[0],o=T[1],L=(0,s.useState)(!0),F=(0,a.Z)(L,2),M=F[0],S=F[1],U=function(){var Y=(0,p.Z)((0,c.Z)().mark(function u(H){var k,z;return(0,c.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o({data:[]}),S(!0),k={ws_id:E,object_type:I,object_id:H},r.next=5,(0,fe.J1)(k);case 5:z=r.sent,o(z),S(!1);case 8:case"end":return r.stop()}},u)}));return function(H){return Y.apply(this,arguments)}}();(0,s.useEffect)(function(){U(w)},[I]);var ee=[{title:v({id:"suite.indicators"}),dataIndex:"name",width:200,fixed:"left"},{title:v({id:"suite.cmp_threshold"}),dataIndex:"cmp_threshold",width:160,render:function(u){return u&&Number(u).toFixed(2)}},{title:v({id:"suite.cv_threshold"}),dataIndex:"cv_threshold",width:140,render:function(u){return u&&Number(u).toFixed(2)}},{title:v({id:"suite.direction"}),dataIndex:"direction",width:140}];return(0,e.jsx)("div",{className:pe().warp,children:(0,e.jsx)(Ee.Z,{columns:ee,name:"ws-suite-manage-metric-list",loading:M,dataSource:j.data,showPagination:!1,scroll:{x:640}})},w)},Me=We,_e=t(99254),V=t(38509),Z=t(10753),Xe=function(d){var w=d.record,I=d.id,E=d.type,D=d.ws_id,v=G.Z.TabPane,N=(0,s.useState)("case"),T=(0,a.Z)(N,2),j=T[0],o=T[1],L=(0,s.useState)([]),F=(0,a.Z)(L,2),M=F[0],S=F[1],U=(0,s.useState)(!1),ee=(0,a.Z)(U,2),Y=ee[0],u=ee[1],H=(0,s.useState)(""),k=(0,a.Z)(H,2),z=k[0],g=k[1],r=function(_){o(_)},y=[{title:"Test Conf",dataIndex:"name",ellipsis:!0,width:300,fixed:"left",render:function(_){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:_})}},{title:(0,e.jsx)(n._H,{id:"suite.alias"}),dataIndex:"alias",ellipsis:!0,render:function(_){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:_})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(_){return _?(0,e.jsx)(O.Z,{placement:"bottomLeft",title:_,children:(0,e.jsx)(Ie.Z.Text,{style:{width:100},ellipsis:!0,children:_||"-"})}):"-"}},{title:"Timeout(s)",dataIndex:"timeout",width:100},{title:(0,e.jsx)(n._H,{id:"suite.repeat"}),dataIndex:"repeat",width:120,ellipsis:!0},{title:(0,e.jsx)(n._H,{id:"suite.var"}),dataIndex:"var",ellipsis:!0,width:120,render:function(_,K){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:K.var&&JSON.parse(K.var).map(function(W,A){return(0,e.jsxs)("p",{children:["".concat(W.name,"=").concat(W.val,",").concat(W.des||"-"),";"]},A)})},children:K.var&&K.var!="[]"?JSON.parse(K.var).map(function(W){return"".concat(W.name,"=").concat(W.val,",").concat(W.des||"-",";")}):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:120,ellipsis:!0,render:function(_,K){return(0,e.jsx)(V.Z,{title:K.doc,isCode:!0,width:90,onClick:function(){u(!0),g(K.doc)}})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170}];return(0,e.jsxs)("div",{className:pe().warp,children:[E=="performance"&&(0,e.jsxs)(G.Z,{defaultActiveKey:"case",activeKey:j,onChange:function(_){return r(_)},children:[(0,e.jsx)(v,{tab:"Test Conf"},"case"),(0,e.jsx)(v,{tab:(0,e.jsx)(n._H,{id:"suite.indicators"})},"suite")]}),j==="case"?(0,e.jsx)(Ee.Z,{columns:y,name:"ws-suite-manage-case",dataSource:w,loading:!1,rowKey:"id",showPagination:!1,size:"small",expandable:E==="performance"?{indentSize:40,expandedRowRender:function(_){return(0,e.jsx)(Me,{ws_id:D,id:_.id,innerKey:j})},expandedRowKeys:M,expandIcon:function(_){var K=_.expanded,W=_.onExpand,A=_.record;return K?(0,e.jsx)(se.Z,{onClick:function(){return S([])}}):(0,e.jsx)(ge.Z,{onClick:function(){return S([A.id])}})}}:{},scroll:{x:1030}}):(0,e.jsx)(Me,{ws_id:D,id:I,innerKey:j}),(0,e.jsx)($.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return u(!1)},open:Y,children:(0,e.jsx)(_e.Z,{code:z})})]})},qe=Xe,It=t(34792),et=t(48086),De=t(99069),Ve=t(20009),tt=t(30381),Be=t.n(tt),$e=t(39067),nt=t(3820),ze=t(24480),at=t(22433),st=t.n(at),it=function(d){var w=d.type,I=d.dataSource,E=(0,s.useState)({visible:!1,doc:""}),D=(0,a.Z)(E,2),v=D[0],N=D[1],T=[{title:"Test Conf",dataIndex:"name",fixed:"left",width:150,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.timeout"}),dataIndex:"timeout",width:120,render:function(o){return(0,e.jsx)("span",{children:o||"-"})}},!["functional","performance"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"suite.ci_type"}),dataIndex:"ci_type",width:120,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170,render:function(o){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:o?Be()(o).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:200,render:function(o){return o?(0,e.jsx)(V.Z,{title:o,width:150,isCode:!0,onClick:function(){N({visible:!0,doc:o})}}):"-"}}];return(0,e.jsxs)("div",{children:[(0,e.jsx)(Ee.Z,{className:st().confList_root,columns:T,name:"ws-suite-manage-buiness-conf",dataSource:I}),(0,e.jsx)($.Z,{maskClosable:!0,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return N({visible:!1,doc:""})},open:v.visible,children:(0,e.jsx)(_e.Z,{code:v.doc})})]})},rt=it,ot=t(23136),lt=t.n(ot),dt=function(d){var w=d.dataSource,I=(0,n.YB)(),E=I.formatMessage,D=(0,s.useState)(!1),v=(0,a.Z)(D,2),N=v[0],T=v[1],j=(0,s.useState)([]),o=(0,a.Z)(j,2),L=o[0],F=o[1],M=(0,s.useState)([]),S=(0,a.Z)(M,2),U=S[0],ee=S[1],Y=(0,s.useState)({visible:!1,doc:""}),u=(0,a.Z)(Y,2),H=u[0],k=u[1],z=[{title:"Test Suite",dataIndex:"name",fixed:"left",width:120,render:function(r){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},width:120,children:r})}},{title:(0,e.jsx)(n._H,{id:"suite.run_mode"}),dataIndex:"run_mode",width:100,render:function(r){return ze.ur.map(function(y){return y.id===r?(0,e.jsx)("span",{children:E({id:y.id})||"-"},y.id):null})}},{title:(0,e.jsx)(n._H,{id:"suite.domain"}),dataIndex:"domain_name_list",width:100,render:function(r){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:r||"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.test_type"}),dataIndex:"test_type",width:100,render:function(r){return ze.oQ.map(function(y){return y.value===r?(0,e.jsx)("span",{children:E({id:y.value})||"-"},y.value):null})}},{title:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n._H,{id:"suite.view_type"})," ",(0,e.jsx)(O.Z,{title:(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type2"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type3"})})]}),placement:"bottomLeft",children:(0,e.jsx)(je.Z,{})})]}),dataIndex:"view_type",width:120,ellipsis:!0,render:function(r,y){return(0,me.o)(r,y)}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",width:150,render:function(r){return(0,e.jsx)("div",{children:r?(0,e.jsx)(V.Z,{title:r,width:100,isCode:!0,onClick:function(){k({visible:!0,doc:r})}}):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",className:"no_padding_head",width:100,ellipsis:{shwoTitle:!1},render:function(r,y){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:y.description})}},{title:"Owner",width:120,dataIndex:"owner_name"},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",width:170,render:function(r){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:r||"-"})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(te.Z,{className:lt().suitList_root,size:"small",loading:N,rowKey:function(r){return r.id},columns:z,dataSource:w,expandable:{expandedRowKeys:L,expandedRowRender:function(r){var y=r.test_type,b=r.test_case_list;return(0,e.jsx)(rt,(0,h.Z)((0,h.Z)({suite_id:r.id,type:y},r),{},{domainList:U,dataSource:b}))},onExpand:function(r,y){F(r?[y.id]:[])},expandIcon:function(r){var y=r.expanded,b=r.onExpand,_=r.record;return y?(0,e.jsx)(se.Z,{onClick:function(W){return b(_,W)}}):(0,e.jsx)(ge.Z,{onClick:function(W){return b(_,W)}})}},scroll:{x:"auto"},pagination:!1}),(0,e.jsx)($.Z,{maskClosable:!0,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return k({visible:!1,doc:""})},visible:H.visible,children:(0,e.jsx)(_e.Z,{code:H.doc})})]})},ut=dt,ct=t(74219),Ge=t.n(ct),ft=function(){var ne=(0,Ve.UO)(),d=ne.ws_id,w=(0,n.YB)(),I=w.formatMessage,E=(0,Ve.TH)(),D=(0,s.useState)(!1),v=(0,a.Z)(D,2),N=v[0],T=v[1],j=(0,s.useState)({data:[],total:0,page_num:1}),o=(0,a.Z)(j,2),L=o[0],F=o[1],M=(0,s.useState)(10),S=(0,a.Z)(M,2),U=S[0],ee=S[1],Y=(0,s.useState)([]),u=(0,a.Z)(Y,2),H=u[0],k=u[1],z=(0,s.useState)({}),g=(0,a.Z)(z,2),r=g[0],y=g[1],b=(0,s.useState)(!0),_=(0,a.Z)(b,2),K=_[0],W=_[1],A=(0,s.useState)(""),Se=(0,a.Z)(A,2),ye=Se[0],Ue=Se[1],He=(0,s.useState)(),Pe=(0,a.Z)(He,2),Te=Pe[0],Ye=Pe[1],be=function(){var C=(0,p.Z)((0,c.Z)().mark(function l(P){var q,f,i,x;return(0,c.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return T(!0),R.prev=1,R.next=4,(0,fe.p4)((0,h.Z)((0,h.Z)({},r),{},{ws_id:d},P));case 4:q=R.sent,f=q||{},i=f.code,x=f.msg,i===200?F(q):et.default.error(x||I({id:"request.failed"})),T(!1),R.next=13;break;case 10:R.prev=10,R.t0=R.catch(1),T(!1);case 13:case"end":return R.stop()}},l,null,[[1,10]])}));return function(P){return C.apply(this,arguments)}}();(0,s.useEffect)(function(){var C={page_num:1,page_size:U,name:ye,owner:Te};y(C),be(C)},[ye,Te,E==null?void 0:E.query]);var Re=[{title:(0,e.jsx)(n._H,{id:"suite.business.name"}),dataIndex:"name",fixed:"left",width:"auto",filterIcon:function(){return(0,e.jsx)(De.Z,{style:{color:ye?"#1890ff":void 0}})},filterDropdown:function(l){var P=l.confirm;return(0,e.jsx)($e.Z,{confirm:P,autoFocus:K,onConfirm:function(f){Ue(f)}})},onFilterDropdownVisibleChange:function(l){l&&W(!K)},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",onCell:function(){return{style:{minWidth:170}}},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l?Be()(l).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:(0,e.jsx)(n._H,{id:"suite.gmt_modified"}),dataIndex:"gmt_modified",onCell:function(){return{style:{minWidth:170}}},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l?Be()(l).format("YYYY-MM-DD HH:mm:ss"):"-"})}},{title:"Owner",dataIndex:"creator_name",onCell:function(){return{style:{minWidth:150}}},filterIcon:function(){return(0,e.jsx)(De.Z,{style:{color:Te?"#1890ff":void 0}})},filterDropdown:function(l){var P=l.confirm;return(0,e.jsx)(nt.Z,{confirm:P,onConfirm:function(f){Ye(f)}})},onFilterDropdownVisibleChange:function(l){l&&W(!K)},render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",render:function(l){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:l})}}],Oe=function(l,P){ee(P),be({page_num:l,page_size:P})},ke=L.data,Ke=L.total,Ne=L.page_num;return(0,e.jsxs)("div",{children:[(0,e.jsx)(te.Z,{className:Ge().businessList_root,size:"small",loading:N,rowKey:function(l){return l.id},columns:Re,dataSource:ke,expandable:{expandedRowKeys:H,expandedRowRender:function(l){var P=l.test_suite_list,q=P===void 0?[]:P;return(0,e.jsx)(ut,{business_id:l.id,dataSource:q})},onExpand:function(l,P){k(l?[P.id]:[])},expandIcon:function(l){var P=l.expanded,q=l.onExpand,f=l.record;return P?(0,e.jsx)(se.Z,{onClick:function(x){return q(f,x)}}):(0,e.jsx)(ge.Z,{onClick:function(x){return q(f,x)}})}},scroll:{x:"auto"},pagination:!1}),!!Ke&&(0,e.jsxs)("div",{className:Ge().common_pagination,children:[(0,e.jsx)("div",{children:I({id:"pagination.total.strip"},{data:Ke})}),(0,e.jsx)(ue.Z,{showQuickJumper:!0,showSizeChanger:!0,defaultCurrent:1,current:Ne,pageSize:U,total:Ke,onChange:function(l,P){Oe(l,P)},onShowSizeChange:function(l,P){Oe(l,P)}})]})]})},Et=t(49111),Le=t(19650),Dt=t(59250),Ae=t(13013),mt=t(76865),Tt=t(48736),pt=t(27049),bt=t(43358),Qe=t(34041),ht=t(11734),vt=t.n(ht),xt=t(90105),jt=function(d){var w=d.confirm,I=d.onConfirm,E=(0,s.useState)([]),D=(0,a.Z)(E,2),v=D[0],N=D[1],T=(0,s.useState)(),j=(0,a.Z)(T,2),o=j[0],L=j[1],F=(0,s.useState)(),M=(0,a.Z)(F,2),S=M[0],U=M[1],ee=(0,s.useState)(!0),Y=(0,a.Z)(ee,2),u=Y[0],H=Y[1],k=Qe.Z.Option;(0,s.useEffect)(function(){z()},[]);var z=function(){var g=(0,p.Z)((0,c.Z)().mark(function r(y){var b,_,K;return(0,c.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(b=y&&y.replace(/\s*/g,""),!(o&&o==b)){A.next=3;break}return A.abrupt("return");case 3:return L(b),H(!0),A.next=7,(0,xt.tR)({keyword:b,page_size:50,page_num:1});case 7:_=A.sent,K=_.data,N(K||[]),H(!1);case 11:case"end":return A.stop()}},r)}));return function(y){return g.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:vt().filter_search_wrapper,children:[(0,e.jsx)("div",{children:(0,e.jsx)(Qe.Z,{allowClear:!0,onDropdownVisibleChange:function(){return z()},notFoundContent:u?(0,e.jsx)(ve.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:z,style:{width:"100%"},onChange:function(r){return U(r)},showArrow:!1,autoFocus:!0,mode:"multiple",value:S,children:v.map(function(g){return(0,e.jsx)(k,{value:g.id,children:g.last_name},g.id)})})}),(0,e.jsx)(pt.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)(ce.Z,{onClick:function(){w==null||w(),S&&S.length>0&&I(S.toString())},type:"link",size:"small",style:{width:75},children:(0,e.jsx)(n._H,{id:"operation.search"})}),(0,e.jsx)(ce.Z,{type:"text",onClick:function(){w==null||w(),U(void 0),I(void 0),z()},size:"small",style:{width:75},children:(0,e.jsx)(n._H,{id:"operation.reset"})})]})]})},gt=jt,_t=t(47769),X=t.n(_t),St=function(d){var w=d.title,I=d.confirm,E=d.setParams,D=d.params,v=d.name,N=(0,s.useState)(!1),T=(0,a.Z)(N,2),j=T[0],o=T[1],L=function(M){o(M)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)("span",{children:w}),(0,e.jsx)(Ae.Z,{open:j,onOpenChange:L,trigger:["click"],overlayStyle:{background:"#fff",boxShadow:"0 9px 28px 8px rgb(0 0 0 / 5%), 0 6px 16px 0 rgb(0 0 0 / 8%), 0 3px 6px -4px rgb(0 0 0 / 12%)"},overlay:(0,e.jsx)($e.Z,{confirm:I,onConfirm:function(M){var S={};S[v]=M,o(!1),E((0,h.Z)((0,h.Z)((0,h.Z)({},D),S),{},{page_num:1}))}}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(De.Z,{className:D[v]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},Je=function(d){var w=d.title,I=d.confirm,E=d.setParams,D=d.params,v=d.name,N=d.list,T=(0,s.useState)(!1),j=(0,a.Z)(T,2),o=j[0],L=j[1],F=function(S){L(S)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)("span",{children:w}),(0,e.jsx)(Ae.Z,{open:o,onOpenChange:F,trigger:["click"],overlay:(0,e.jsx)(mt.Z,{confirm:I,onConfirm:function(S){var U={};U[v]=S,L(!1),E((0,h.Z)((0,h.Z)((0,h.Z)({},D),U),{},{page_num:1}))},list:N}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(De.Z,{className:D[v]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},yt=function(d){var w=d.title,I=d.confirm,E=d.setParams,D=d.params,v=d.name,N=(0,s.useState)(!1),T=(0,a.Z)(N,2),j=T[0],o=T[1],L=function(M){o(M)};return(0,e.jsx)("div",{className:X().filter_wrapper_container,children:(0,e.jsxs)(Le.Z,{children:[(0,e.jsx)("span",{children:w}),(0,e.jsx)(Ae.Z,{open:j,onOpenChange:L,trigger:["click"],overlay:(0,e.jsx)(gt,{confirm:I,onConfirm:function(M){var S={};S[v]=M,o(!1),E((0,h.Z)((0,h.Z)({},D),S))}}),children:(0,e.jsx)("div",{className:X().filter_icon_wrapper,children:(0,e.jsx)(De.Z,{className:D[v]?X().filter_icon_contaner_active:X().filter_icon_contaner})})})]})})},Zt=t(87415),Ct=function(d){var w=(0,n.YB)(),I=w.formatMessage,E=d.match.params.ws_id,D=(0,n.md)(),v=d.location.query.test_type||"functional",N=G.Z.TabPane,T=(0,s.useState)([]),j=(0,a.Z)(T,2),o=j[0],L=j[1],F=(0,s.useState)(!0),M=(0,a.Z)(F,2),S=M[0],U=M[1],ee=(0,s.useState)({name:"",domain:"",run_mode:"",owner:"",order:"",page_num:1,page_size:10,test_type:v}),Y=(0,a.Z)(ee,2),u=Y[0],H=Y[1],k=(0,s.useState)(!0),z=(0,a.Z)(k,2),g=z[0],r=z[1],y=(0,s.useState)([]),b=(0,a.Z)(y,2),_=b[0],K=b[1],W=(0,s.useState)(!1),A=(0,a.Z)(W,2),Se=A[0],ye=A[1],Ue=(0,s.useState)(""),He=(0,a.Z)(Ue,2),Pe=He[0],Te=He[1],Ye=(0,s.useState)([]),be=(0,a.Z)(Ye,2),Re=be[0],Oe=be[1],ke=function(){var f=(0,p.Z)((0,c.Z)().mark(function i(){var x,Q;return(0,c.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,fe.R2)();case 2:x=le.sent,Q=x.data,Oe(Q);case 5:case"end":return le.stop()}},i)}));return function(){return f.apply(this,arguments)}}();(0,s.useEffect)(function(){ke()},[]);var Ke=function(){var f=(0,p.Z)((0,c.Z)().mark(function i(){var x,Q,R=arguments;return(0,c.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return x=R.length>0&&R[0]!==void 0?R[0]:{},r(!0),L({data:[]}),ie.next=5,(0,fe.J1)((0,h.Z)((0,h.Z)({},x),{},{ws_id:E}));case 5:Q=ie.sent,L(Q),r(!1);case 8:case"end":return ie.stop()}},i)}));return function(){return f.apply(this,arguments)}}();(0,s.useEffect)(function(){["functional","performance"].includes(u.test_type)&&(Ke(u),K([]))},[u,S]);var Ne=function(i,x){H((0,h.Z)((0,h.Z)({},u),{},{page_num:i,page_size:x}))},C=(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type1"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type2"})}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"suite.view_type.type3"})})]}),l=function(i){["functional","performance"].includes(i)&&K([]),H({test_type:i,name:"",domain:"",owner:"",order:"",run_mode:"",page_num:1,page_size:10}),n.m8.push("".concat(location.pathname,"?test_type=").concat(i))},P=[{title:function(){return(0,e.jsx)(St,{title:"Test Suite",params:u,setParams:H,name:"name"})},className:"no_padding_head",dataIndex:"name",ellipsis:!0},{title:function(){return(0,e.jsx)(Je,{title:I({id:"suite.run_mode"}),params:u,setParams:H,name:"run_mode",list:ze.ur.map(function(i){return(0,h.Z)((0,h.Z)({},i),{},{name:I({id:i.id})})})})},width:120,className:"no_padding_head",dataIndex:"run_mode",render:function(i){return i==="standalone"?(0,e.jsx)(n._H,{id:"standalone"}):(0,e.jsx)(n._H,{id:"cluster"})}},{title:function(){return(0,e.jsx)(Je,{title:I({id:"suite.domain"}),params:u,setParams:H,name:"domain",list:Re})},width:90,ellipsis:{shwoTitle:!1},render:function(i){return i?(0,e.jsx)(O.Z,{placement:"bottomLeft",title:i,children:(0,e.jsx)(Ie.Z.Text,{style:{width:85},ellipsis:!0,children:i||"-"})}):"-"},className:"no_padding_head",dataIndex:"domain_name_list"},{title:v==="functional"?(0,e.jsx)(e.Fragment,{}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n._H,{id:"suite.view_type"})," ",(0,e.jsx)(O.Z,{title:C,placement:"bottomLeft",children:(0,e.jsx)(je.Z,{})})]}),dataIndex:"view_type",width:v==="functional"?0:120,ellipsis:!0,render:function(i,x){return v==="functional"?(0,e.jsx)(e.Fragment,{}):(0,me.o)(i,x)}},{title:(0,e.jsx)(n._H,{id:"suite.description"}),dataIndex:"doc",className:"no_padding_head",width:190,render:function(i,x){return(0,e.jsx)("div",{children:(0,e.jsx)(V.Z,{title:x.doc,isCode:!0,onClick:function(){ye(!0),Te(x.doc)}})})}},{title:(0,e.jsx)(n._H,{id:"suite.remarks"}),dataIndex:"description",className:"no_padding_head",width:100,ellipsis:{shwoTitle:!1},render:function(i,x){return(0,e.jsx)(Z.K,{ellipsis:{tooltip:!0},children:x.description})}},{title:function(){return(0,e.jsx)(yt,{title:"Owner",params:u,setParams:H,name:"owner"})},width:120,className:"no_padding_head",dataIndex:"owner_name"},{title:(0,e.jsx)(n._H,{id:"suite.gmt_created"}),dataIndex:"gmt_created",className:"no_padding_head",sorter:!0,ellipsis:!0}],q=function(){var f=(0,p.Z)((0,c.Z)().mark(function i(x){return(0,c.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:K([x.id+""]);case 1:case"end":return R.stop()}},i)}));return function(x){return f.apply(this,arguments)}}();return(0,e.jsxs)(Zt.mQ,{title:(0,e.jsxs)(G.Z,{defaultActiveKey:v,onChange:l,children:[(0,e.jsx)(N,{tab:(0,e.jsx)(n._H,{id:"functional.test"})},"functional"),(0,e.jsx)(N,{tab:(0,e.jsx)(n._H,{id:"performance.test"})},"performance"),!1]}),extra:(0,e.jsx)(n.Nv,{accessible:D.WsMemberOperateSelf(),children:(0,e.jsx)(ce.Z,{type:"primary",onClick:function(){["functional","performance","business"].includes(u.test_type)&&n.m8.push("/ws/".concat(E,"/new_suite/").concat(u.test_type))},children:(0,e.jsx)(n._H,{id:"test.suite.manage"})},"createSuite")}),children:[["functional","performance"].includes(u.test_type)&&(0,e.jsxs)(ve.Z,{spinning:g,children:[(0,e.jsx)(te.Z,{className:pe().table_style,size:"small",onChange:function(i,x,Q){switch(Q.order){case void 0:H((0,h.Z)((0,h.Z)({},u),{},{order:void 0}));break;case"descend":H((0,h.Z)((0,h.Z)({},u),{},{order:"-gmt_created"}));break;case"ascend":H((0,h.Z)((0,h.Z)({},u),{},{order:"gmt_created"}));break;default:break}},columns:P,dataSource:o.data,rowKey:function(i){return i.id+""},expandable:{expandedRowRender:function(i){return(0,e.jsx)(qe,{domains:Re,record:i.test_case_list,id:i.id,type:u.test_type,ws_id:E})},indentSize:0,onExpand:function(i,x){return i?q(x):K([])},expandedRowKeys:_,expandIcon:function(i){var x=i.expanded,Q=i.onExpand,R=i.record;return x?(0,e.jsx)(se.Z,{onClick:function(ie){return Q(R,ie)}}):(0,e.jsx)(ge.Z,{onClick:function(ie){return Q(R,ie)}})}},pagination:!1}),(0,e.jsxs)(Ce.Z,{justify:"space-between",style:{padding:"16px 20px 0"},children:[(0,e.jsx)("div",{children:I({id:"pagination.total.strip"},{data:o.total||0})}),(0,e.jsx)(ue.Z,{className:o.total==0?pe().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:u.page_num,defaultCurrent:1,onChange:function(i,x){return Ne(i,x)},onShowSizeChange:function(i,x){return Ne(i,x)},total:o.total})]})]}),u.test_type==="business"&&(0,e.jsx)(ft,{}),(0,e.jsx)($.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,e.jsx)(n._H,{id:"suite.description.details"}),onClose:function(){return ye(!1)},open:Se,children:(0,e.jsx)(_e.Z,{code:Pe})})]})},wt=Ct},81629:function(B,he,t){"use strict";t.d(he,{J1:function(){return ve},R2:function(){return te},p4:function(){return ce},Vz:function(){return O},Ux:function(){return Ie}});var J=t(39428),$=t(3182),de=t(16917);function ve(c){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,$.Z)((0,J.Z)().mark(function c(p){return(0,J.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,de.WY)("/api/case/workspace/case/",{params:p}));case 1:case"end":return m.stop()}},c)})),Ze.apply(this,arguments)}function Ce(c){return we.apply(this,arguments)}function we(){return we=_asyncToGenerator(_regeneratorRuntime().mark(function c(p){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("/api/auth/user/",{params:p}));case 1:case"end":return m.stop()}},c)})),we.apply(this,arguments)}function ue(c){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function c(p){return _regeneratorRuntime().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("/api/case/workspace/has_record/",{params:p}));case 1:case"end":return m.stop()}},c)})),re.apply(this,arguments)}function te(){return oe.apply(this,arguments)}function oe(){return oe=(0,$.Z)((0,J.Z)().mark(function c(){var p,a=arguments;return(0,J.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return p=a.length>0&&a[0]!==void 0?a[0]:{page_size:100},G.abrupt("return",(0,de.WY)("/api/case/test_domain/",{params:p}));case 2:case"end":return G.stop()}},c)})),oe.apply(this,arguments)}function ce(c){return ae.apply(this,arguments)}function ae(){return ae=(0,$.Z)((0,J.Z)().mark(function c(p){var a,m;return(0,J.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a={};for(m in p)(p[m]||p[m]===0)&&(a[m]=p[m]);return s.abrupt("return",(0,de.WY)("/api/case/workspace/business/brief/",{method:"GET",params:a}));case 3:case"end":return s.stop()}},c)})),ae.apply(this,arguments)}function O(c){return xe.apply(this,arguments)}function xe(){return xe=(0,$.Z)((0,J.Z)().mark(function c(p){var a,m;return(0,J.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a={};for(m in p)(p[m]||p[m]===0)&&(a[m]=p[m]);return s.abrupt("return",(0,de.WY)("/api/case/business/brief/",{method:"GET",params:a}));case 3:case"end":return s.stop()}},c)})),xe.apply(this,arguments)}function Ie(c){return h.apply(this,arguments)}function h(){return h=(0,$.Z)((0,J.Z)().mark(function c(p){return(0,J.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,de.WY)("/api/case/workspace/business/brief/",{method:"GET",params:p}));case 1:case"end":return m.stop()}},c)})),h.apply(this,arguments)}}}]);
