(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[5954,2485],{19137:function(q){q.exports={filter:"filter___1IKYx",confirm:"confirm___3RbBO",domain:"domain___1-UgM"}},33709:function(q){q.exports={filter:"filter___2F2JK",confirm:"confirm___115UC",domain:"domain___s41Q7"}},479:function(q){q.exports={filter_search_wrapper:"filter_search_wrapper___3FpmS"}},34311:function(q){q.exports={filter_wrapper_container:"filter_wrapper_container___2RlDa",filter_icon_wrapper:"filter_icon_wrapper___2Hhe_",filter_icon_contaner:"filter_icon_contaner___Rcjd_",filter_icon_contaner_active:"filter_icon_contaner_active___Zj1xL"}},50189:function(q){q.exports={warp:"warp___eqi_A",batch:"batch___3_93O",pagination:"pagination___1XZoL",hidden:"hidden___2hrl5",ellipsis:"ellipsis___7A1O2",des:"des___2XHNE",table_style:"table_style___344hu",domain_name:"domain_name___bYWL-",fail_detail_operation:"fail_detail_operation___1gK4H",config_cloud:"config_cloud___3enwV"}},15122:function(q,De,r){"use strict";var ln=r(46721),be=r(94867),Oe=r(8281),je=r(58591),Ke=r(57359),Fe=r(34423),Ve=r(88966),U=r(11048),Te=r(39190),ee=r(22374),Le=r(19137),ye=r.n(Le),dn=r(39935),pe=r(22812),c=r(52454),l=function(Pe){var S=Pe.list,g=Pe.confirm,ze=Pe.onConfirm,We=Pe.roleType,v=(0,pe.YB)(),N=v.formatMessage,$e=(0,ee.useState)(),o=(0,Te.Z)($e,2),Be=o[0],Ee=o[1],He=function(Ye){Ee(Ye.target.value)};return(0,c.jsxs)("div",{className:ye().filter,children:[(0,c.jsx)(U.ZP.Group,{onChange:He,value:Be,children:(0,c.jsx)(Fe.Z,{direction:"vertical",children:S.map(function(re){return(0,c.jsx)(U.ZP,{className:ye().domain,value:re.id,children:We==="role"?(0,dn.u)(re.name,N):re.name},re.id)})})}),(0,c.jsx)(je.Z,{style:{margin:"10px 0"}}),(0,c.jsxs)("div",{className:ye().confirm,children:[(0,c.jsx)(be.Z,{size:"small",type:"link",style:{border:"none"},onClick:function(){g==null||g(),ze(Be)},children:(0,c.jsx)(pe._H,{id:"operation.ok"})}),(0,c.jsx)(be.Z,{size:"small",type:"text",onClick:function(){g==null||g(),Ee(void 0),ze(void 0)},children:(0,c.jsx)(pe._H,{id:"operation.reset"})})]})]})};De.Z=l},75073:function(q,De,r){"use strict";r.d(De,{mQ:function(){return Te},gM:function(){return ee},nU:function(){return ye}});var ln=r(40204),be=r(10724),Oe=r(41428),je=r(97939),Ke,Fe,Ve,U,Te=(0,je.ZP)(be.Z)(Ke||(Ke=(0,Oe.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .common_pagination { padding-bottom:0 ;}
`]))),ee=(0,je.ZP)(Te)(Fe||(Fe=(0,Oe.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`]))),Le=(0,je.ZP)(be.Z)(Ve||(Ve=(0,Oe.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        padding: 0 32px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .ant-card-body{
        padding: 24px 24px 24px 0px;
    }
    .common_pagination { padding-bottom:0 ;}
`]))),ye=(0,je.ZP)(Le)(U||(U=(0,Oe.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`])))},18298:function(q,De,r){"use strict";r.r(De),r.d(De,{default:function(){return Vn}});var ln=r(14320),be=r(53479),Oe=r(36142),je=r(76837),Ke=r(11407),Fe=r(68077),Ve=r(46721),U=r(94867),Te=r(57359),ee=r(34423),Le=r(20632),ye=r(71853),dn=r(81138),pe=r(96146),c=r(35832),l=r(20418),W=r(32326),Pe=r(65790),S=r(17187),g=r(39190),ze=r(54905),We=r(90087),v=r(22374),N=r(31784),$e=r(74066),o=r(22812);function Be(f){return Ee.apply(this,arguments)}function Ee(){return Ee=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_server/region/",{params:d}));case 1:case"end":return n.stop()}},f)})),Ee.apply(this,arguments)}function He(f){return re.apply(this,arguments)}function re(){return re=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=2;break}return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{params:d}));case 2:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/"));case 3:case"end":return n.stop()}},f)})),re.apply(this,arguments)}function Ye(f){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{method:"post",data:d}));case 1:case"end":return n.stop()}},f)})),Ge.apply(this,arguments)}function vn(f){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{method:"put",data:d}));case 1:case"end":return n.stop()}},f)})),Qe.apply(this,arguments)}function hn(f){return Je.apply(this,arguments)}function Je(){return Je=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_ak/",{method:"delete",data:d}));case 1:case"end":return n.stop()}},f)})),Je.apply(this,arguments)}function gn(f){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=2;break}return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{params:d}));case 2:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/"));case 3:case"end":return n.stop()}},f)})),Xe.apply(this,arguments)}function _n(f){return qe.apply(this,arguments)}function qe(){return qe=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{method:"post",data:d}));case 1:case"end":return n.stop()}},f)})),qe.apply(this,arguments)}function xn(f){return en.apply(this,arguments)}function en(){return en=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{method:"put",data:d}));case 1:case"end":return n.stop()}},f)})),en.apply(this,arguments)}function Zn(f){return nn.apply(this,arguments)}function nn(){return nn=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/server/cloud_image/",{method:"delete",data:d}));case 1:case"end":return n.stop()}},f)})),nn.apply(this,arguments)}function Ln(f){return an.apply(this,arguments)}function an(){return an=_asyncToGenerator(_regeneratorRuntime().mark(function f(d){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!d){n.next=2;break}return n.abrupt("return",request("/api/case/test_domain/",{params:d}));case 2:return n.abrupt("return",request("/api/case/test_domain/"));case 3:case"end":return n.stop()}},f)})),an.apply(this,arguments)}function jn(f){return tn.apply(this,arguments)}function tn(){return tn=(0,W.Z)((0,c.Z)().mark(function f(d){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,o.WY)("/api/auth/user/",{params:d}));case 1:case"end":return n.stop()}},f)})),tn.apply(this,arguments)}var yn=r(50189),Ue=r.n(yn),ve=r(12590),Cn=r(44851),he=r.n(Cn),wn=r(97207),Ie=r.n(wn),Wn=r(88018),un=r(58414),$n=r(20693),de=r(3278),Bn=r(88966),rn=r(11048),Un=r(69230),ke=r(33821),cn=r(24812),bn=r(34311),ue=r.n(bn),e=r(52454),In=(0,v.forwardRef)(function(f,d){var x=(0,o.YB)(),n=x.formatMessage,I=(0,cn.UO)(),j=I.ws_id,P=S.Z.useForm(),$=(0,g.Z)(P,1),D=$[0],y=(0,v.useState)(!1),F=(0,g.Z)(y,2),R=F[0],H=F[1],O=(0,v.useState)(!1),p=(0,g.Z)(O,2),K=p[0],z=p[1],B=(0,v.useState)("new"),ie=(0,g.Z)(B,2),J=ie[0],ce=ie[1],V=(0,v.useState)({}),E=(0,g.Z)(V,2),Y=E[0],se=E[1],ne=(0,v.useRef)(null),_e=(0,v.useRef)(null);(0,v.useImperativeHandle)(d,function(){return{show:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"new",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};z(!0),ce(s),se(u),D.setFieldsValue(u)}}});var k=function(){D.resetFields(),H(!1),z(!1)},C=function(s,u){if(s===200)f.onOk(),pe.default.success(n({id:"operation.success"})),z(!1),D.resetFields();else if(s===201){var ae=n({id:"device.ak.name.cannot.repeated"});D.setFields([{name:"name",errors:[ae]}]),D.scrollToField("name")}else pe.default.error(u);H(!1)},oe=function(s){var u;((u=s.target.value)===null||u===void 0?void 0:u.indexOf("*"))!==-1&&D.setFieldsValue({access_id:""}),ne.current.focus({cursor:"end"})},me=function(s){var u;((u=s.target.value)===null||u===void 0?void 0:u.indexOf("*"))!==-1&&D.setFieldsValue({access_key:""}),_e.current.focus({cursor:"end"})},X=function(){R||(H(!0),D.validateFields().then(function(){var s=(0,W.Z)((0,c.Z)().mark(function u(ae){var te,A,G,Ce,xe,Se,Ae;return(0,c.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(te=Ie().cloneDeep(ae),te.enable=te.enable?"True":"False",J!=="new"){_.next=11;break}return _.next=5,Ye((0,l.Z)((0,l.Z)({},te),{},{ws_id:j}));case 5:A=_.sent,G=A.code,Ce=A.msg,C(G,Ce),_.next=17;break;case 11:return _.next=13,vn((0,l.Z)((0,l.Z)({id:Y.id},te),{},{ws_id:j}));case 13:xe=_.sent,Se=xe.code,Ae=xe.msg,C(Se,Ae);case 17:H(!1);case 18:case"end":return _.stop()}},u)}));return function(u){return s.apply(this,arguments)}}()).catch(function(s){console.log(s),H(!1)}))},le=[{id:"aliyun_ecs",name:n({id:"device.aliyun_ecs"})},{id:"aliyun_eci",name:n({id:"device.aliyun_eci"})}];return(0,e.jsx)(un.Z,{maskClosable:!1,keyboard:!1,title:J==="new"?(0,e.jsx)(o._H,{id:"device.new.ak"}):(0,e.jsx)(o._H,{id:"device.edit.ak"}),width:"375",onClose:k,open:K,className:ue().add_baseline_drawer,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(U.Z,{onClick:k,children:(0,e.jsx)(o._H,{id:"operation.cancel"})}),(0,e.jsx)(U.Z,{type:"primary",disabled:R,onClick:X,children:Y&&Y.name?(0,e.jsx)(o._H,{id:"operation.update"}):(0,e.jsx)(o._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(S.Z,{form:D,layout:"vertical",initialValues:{enable:Y.enable||!0,vm_quota:"*"},children:[(0,e.jsx)(S.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.cloud.service.provider"}),name:"provider",rules:[{required:!0,message:n({id:"device.cloud.service.provider.cannot.empty"})}],children:(0,e.jsx)(ke.Z,{placeholder:n({id:"device.cloud.service.provider.select"}),filterOption:function(s,u){return u.children.toLowerCase().indexOf(s.toLowerCase())>=0},optionFilterProp:"children",children:le.map(function(L){return(0,e.jsx)(ke.Z.Option,{value:L.id,children:L.name},L.id)})})}),(0,e.jsx)(S.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.enable"}),name:"enable",children:(0,e.jsxs)(rn.ZP.Group,{children:[(0,e.jsx)(rn.ZP,{value:!0,children:(0,e.jsx)(o._H,{id:"operation.yes"})}),(0,e.jsx)(rn.ZP,{value:!1,children:(0,e.jsx)(o._H,{id:"operation.no"})})]})}),(0,e.jsx)(S.Z.Item,{label:"AK Name",name:"name",rules:[{required:!0,message:n({id:"device.ak.name.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.ak.name.enter"})})}),(0,e.jsx)(S.Z.Item,{label:"Access ID",name:"access_id",rules:[{required:!0,message:n({id:"device.access_id.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.access_id.enter"}),onChange:oe,ref:ne})}),(0,e.jsx)(S.Z.Item,{label:"Access Key",name:"access_key",rules:[{required:!0,message:n({id:"device.access_key.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.access_key.enter"}),onChange:me,ref:_e})}),(0,e.jsx)(S.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.vm_quota"}),name:"vm_quota",rules:[{required:!0,message:n({id:"device.vm_quota.cannot.empty"})}],children:(0,e.jsx)(de.Z,{placeholder:n({id:"device.vm_quota.placeholder"})})}),(0,e.jsx)(S.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.resource_group_id"}),name:"resource_group_id",children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"please.enter"})})}),(0,e.jsx)(S.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.description.option"}),name:"description",children:(0,e.jsx)(de.Z.TextArea,{placeholder:n({id:"device.description.option.placeholder"})})})]})})}),kn=(0,v.forwardRef)(function(f,d){var x=(0,o.YB)(),n=x.formatMessage,I=(0,cn.UO)(),j=I.ws_id,P={page_num:1,page_size:1e3,ws_id:j},$=S.Z.useForm(),D=(0,g.Z)($,1),y=D[0],F=(0,v.useState)(!1),R=(0,g.Z)(F,2),H=R[0],O=R[1],p=(0,v.useState)(!1),K=(0,g.Z)(p,2),z=K[0],B=K[1],ie=(0,v.useState)("new"),J=(0,g.Z)(ie,2),ce=J[0],V=J[1],E=(0,v.useState)({}),Y=(0,g.Z)(E,2),se=Y[0],ne=Y[1],_e=(0,v.useState)([]),k=(0,g.Z)(_e,2),C=k[0],oe=k[1],me=(0,v.useState)([]),X=(0,g.Z)(me,2),le=X[0],L=X[1],s=(0,v.useState)(),u=(0,g.Z)(s,2),ae=u[0],te=u[1],A=function(){var _=(0,W.Z)((0,c.Z)().mark(function w(Z){var T,Q;return(0,c.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,He(Z);case 2:T=M.sent,Q=T.data,oe(Q||[]);case 5:case"end":return M.stop()}},w)}));return function(Z){return _.apply(this,arguments)}}(),G=function(){var _=(0,W.Z)((0,c.Z)().mark(function w(Z){var T,Q;return(0,c.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Be(Z);case 2:T=M.sent,Q=T.data,L(Q||[]);case 5:case"end":return M.stop()}},w)}));return function(Z){return _.apply(this,arguments)}}();(0,v.useImperativeHandle)(d,function(){return{show:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"new",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T="";Z&&Z.provider&&(T=Z.provider,A((0,l.Z)((0,l.Z)({},P),{},{provider:T})));var Q=Z.ak_id;Q&&G({ak_id:Q}),B(!0),V(w),ne(Z),te(T),y.setFieldsValue(Z)}}});var Ce=function(){y.resetFields(),O(!1),B(!1),ne({})},xe=function(w,Z){O(!1),w===200?(f.onOk(),pe.default.success(n({id:"operation.success"})),B(!1),y.resetFields()):w===201?(y.setFields([{name:"image_name",errors:[n({id:"device.image.name.cannot.repeated"})]}]),y.scrollToField("image_name")):pe.default.error(Z)},Se=function(){H||(O(!0),y.validateFields().then(function(){var w=(0,W.Z)((0,c.Z)().mark(function Z(T){var Q,we,M,i,a,t,h,m;return(0,c.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(Q=T.ak_name,we=C.filter(function(Re){return Re.name===T.ak_name}),we.length&&(Q=we[0].id),T.ak_id=Q,ce!=="new"){b.next=13;break}return b.next=7,_n((0,l.Z)((0,l.Z)({},T),{},{ws_id:j}));case 7:M=b.sent,i=M.code,a=M.msg,xe(i,a),b.next=19;break;case 13:return b.next=15,xn((0,l.Z)((0,l.Z)({id:se.id},T),{},{ws_id:j}));case 15:t=b.sent,h=t.code,m=t.msg,xe(h,m);case 19:case"end":return b.stop()}},Z)}));return function(Z){return w.apply(this,arguments)}}()).catch(function(w){console.log(w),O(!1)}))},Ae=[{id:"aliyun_ecs",name:n({id:"device.aliyun_ecs"})},{id:"aliyun_eci",name:n({id:"device.aliyun_eci"})}],fe=function(w){if(w!==ae){var Z=Ie().cloneDeep(y.getFieldsValue());Z.ak_name=void 0,y.setFieldsValue(Z),te(w)}A((0,l.Z)((0,l.Z)({},P),{},{provider:w}))};return(0,e.jsx)(un.Z,{maskClosable:!1,keyboard:!1,title:ce==="new"?(0,e.jsx)(o._H,{id:"device.new.image"}):(0,e.jsx)(o._H,{id:"device.edit.image"}),width:375,onClose:Ce,destroyOnClose:!0,open:z,className:ue().add_baseline_drawer,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(U.Z,{onClick:Ce,children:(0,e.jsx)(o._H,{id:"operation.cancel"})}),(0,e.jsx)(U.Z,{type:"primary",disabled:H,onClick:Se,children:se&&se.name?(0,e.jsx)(o._H,{id:"operation.update"}):(0,e.jsx)(o._H,{id:"operation.ok"})})]})}),children:(0,e.jsxs)(S.Z,{form:y,layout:"vertical",children:[(0,e.jsx)(S.Z.Item,{label:(0,e.jsx)(o._H,{id:"device.cloud.service.provider"}),name:"provider",rules:[{required:!0,message:n({id:"device.cloud.service.provider.cannot.empty"})}],children:(0,e.jsx)(ke.Z,{onSelect:fe,placeholder:n({id:"device.cloud.service.provider.select"}),filterOption:function(w,Z){return Z.label.toLowerCase().indexOf(w.toLowerCase())>=0},options:Ae.map(function(_){return{value:_.id,label:_.name}})})}),(0,e.jsx)(S.Z.Item,{label:"Ak Name",name:"ak_name",rules:[{required:!0,message:n({id:"device.ak.name.cannot.empty"})}],children:(0,e.jsx)(ke.Z,{onChange:function(w){y.setFieldsValue({region:void 0});var Z=C.filter(function(T){return T.name===w});Z.length&&Z[0].id&&G({ak_id:Z[0].id})},placeholder:n({id:"device.ak.name.select"}),disabled:!ae,showSearch:!0,filterOption:function(w,Z){return Z.label.toLowerCase().indexOf(w.toLowerCase())>=0},options:C.map(function(_){return{value:_.name,label:_.name}})})}),(0,e.jsx)(S.Z.Item,{label:"Region",name:"region",rules:[{required:!0,message:"region\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,e.jsx)(ke.Z,{placeholder:n({id:"device.region.placeholder"}),disabled:!le.length,filterOption:function(w,Z){return Z.label.toLowerCase().indexOf(w.toLowerCase())>=0},showSearch:!0,options:le.map(function(_){return{value:_.id,label:_.name}})})}),(0,e.jsx)(S.Z.Item,{label:"Image Group",name:"platform",rules:[{required:!0,message:n({id:"device.image.group.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.group.enter"})})}),(0,e.jsx)(S.Z.Item,{label:"Image Name",name:"image_name",rules:[{required:!0,message:n({id:"device.image.name.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.name.enter"})})}),(0,e.jsx)(S.Z.Item,{label:"Image ID",name:"image_id",rules:[{required:!0,message:n({id:"device.image.id.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.id.enter"})})}),(0,e.jsx)(S.Z.Item,{label:"Image Version",name:"image_version",rules:[{required:!0,message:n({id:"device.image.version.cannot.empty"})}],children:(0,e.jsx)(de.Z,{autoComplete:"auto",placeholder:n({id:"device.image.version.enter"})})})]})})}),Nn=r(87967),mn=r(65320),zn=r(8281),fn=r(58591),Yn=r(67448),Sn=r(47548),Dn=r(479),On=r.n(Dn),Fn=function(d){var x=d.confirm,n=d.onConfirm,I=d.name,j=d.ws_id,P=(0,o.YB)(),$=P.formatMessage,D=(0,v.useState)([]),y=(0,g.Z)(D,2),F=y[0],R=y[1],H=(0,v.useState)(),O=(0,g.Z)(H,2),p=O[0],K=O[1],z=(0,v.useState)(),B=(0,g.Z)(z,2),ie=B[0],J=B[1],ce=(0,v.useState)(!0),V=(0,g.Z)(ce,2),E=V[0],Y=V[1],se=ke.Z.Option,ne=function(){var C=(0,W.Z)((0,c.Z)().mark(function oe(me){var X,le,L,s,u,ae;return(0,c.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(X=me&&me.replace(/\s*/g,""),!(p&&p==X)){A.next=3;break}return A.abrupt("return");case 3:if(K(X),Y(!0),le=[],!(I==="creator"||I==="creator_name"||I==="update_user")){A.next=12;break}return A.next=9,jn({keyword:X,page_size:50,page_num:1});case 9:L=A.sent,s=L.data,Ie().isArray(s)&&(le=s.map(function(G){return{id:G.id,name:G.last_name}}));case 12:if(I!=="ak_name"){A.next=18;break}return A.next=15,He({page_num:1,page_size:1e3,name:X,ws_id:j});case 15:u=A.sent,ae=u.data,Ie().isArray(ae)&&(le=ae.map(function(G){return{id:G.id,name:G.name}}));case 18:R(le||[]),Y(!1);case 20:case"end":return A.stop()}},oe)}));return function(me){return C.apply(this,arguments)}}();(0,v.useEffect)(function(){ne()},[]);var _e=function(){if(I==="ak_name"||I==="creator"||I==="creator_name"||I==="update_user")return"multiple"},k=function(){return I==="creator"||I==="creator_name"?$({id:"device.please.select.creator"}):I==="update_user"?$({id:"device.please.select.update_user"}):I==="ak_name"?$({id:"device.please.select.ak_name"}):""};return(0,e.jsxs)("div",{className:On().filter_search_wrapper,children:[(0,e.jsx)("div",{children:(0,e.jsx)(ke.Z,{allowClear:!0,onDropdownVisibleChange:function(){return ne()},notFoundContent:E?(0,e.jsx)(Sn.Z,{size:"small"}):null,filterOption:!1,showSearch:!0,onSearch:ne,style:{width:"100%"},onChange:function(oe){return J(oe)},showArrow:!1,autoFocus:!0,mode:_e(),value:ie,placeholder:k(),children:F.map(function(C){return(0,e.jsx)(se,{value:C.id,children:C.name},C.id)})})}),(0,e.jsx)(fn.Z,{style:{marginTop:"10px",marginBottom:"4px"}}),(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)(U.Z,{onClick:function(){x==null||x(),n(ie)},type:"link",size:"small",style:{width:75},children:(0,e.jsx)(o._H,{id:"operation.search"})}),(0,e.jsx)(U.Z,{type:"text",onClick:function(){x==null||x(),J(void 0),n(void 0),ne()},size:"small",style:{width:75},children:(0,e.jsx)(o._H,{id:"operation.reset"})})]})]})},En=Fn,Gn=r(38519),sn=r(16416),An=r(33709),Ne=r.n(An),Tn=function(d){var x=d.list,n=d.confirm,I=d.onConfirm,j=d.configType,P=(0,v.useState)([]),$=(0,g.Z)(P,2),D=$[0],y=$[1],F=(0,v.useState)(!1),R=(0,g.Z)(F,2),H=R[0],O=R[1],p=(0,v.useState)(!1),K=(0,g.Z)(p,2),z=K[0],B=K[1],ie=function(E){B(!!E.length&&E.length<x.length),y(E),O(E.length===x.length)},J=x.map(function(V){return V.id}),ce=function(E){y(E.target.checked?J:[]),O(E.target.checked),B(!1)};return(0,v.useEffect)(function(){y([]),O(!1),B(!1)},[j]),(0,e.jsxs)("div",{className:Ne().filter,children:[(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",maxHeight:280,overflow:"auto"},children:[(0,e.jsx)(sn.Z,{indeterminate:z,className:Ne().domain,onChange:ce,checked:H,children:(0,e.jsx)(o._H,{id:"operation.select.all"})}),(0,e.jsx)(sn.Z.Group,{onChange:ie,value:D,children:(0,e.jsx)(ee.Z,{direction:"vertical",size:0,children:x.map(function(V){return(0,e.jsx)(sn.Z,{className:Ne().domain,value:V.id,children:V.name},V.id)})})})]}),(0,e.jsx)(fn.Z,{style:{margin:"10px 0"}}),(0,e.jsxs)("div",{className:Ne().confirm,children:[(0,e.jsx)(U.Z,{size:"small",type:"link",onClick:function(){n==null||n();var E=void 0;D.length&&(E=D),I(E)},children:(0,e.jsx)(o._H,{id:"operation.ok"})}),(0,e.jsx)(U.Z,{size:"small",type:"text",onClick:function(){n==null||n(),y([]),I(void 0),O(!1),B(!1)},children:(0,e.jsx)(o._H,{id:"operation.reset"})})]})]})},Pn=Tn,Me=function(d){var x=d.title,n=d.confirm,I=d.setParams,j=d.params,P=d.name,$=d.ws_id,D=(0,v.useState)(!1),y=(0,g.Z)(D,2),F=y[0],R=y[1],H=function(p){R(p)};return(0,e.jsx)("div",{className:ue().filter_wrapper_container,children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)("span",{children:x}),(0,e.jsx)(mn.Z,{open:F,onVisibleChange:H,trigger:["click"],overlay:(0,e.jsx)(En,{confirm:n,name:P,ws_id:$,onConfirm:function(p){var K={};K[P]=p,R(!1),I((0,l.Z)((0,l.Z)({},j),K))}}),children:(0,e.jsx)("div",{className:ue().filter_icon_wrapper,children:(0,e.jsx)(N.Z,{className:j[P]?ue().filter_icon_contaner_active:ue().filter_icon_contaner})})})]})})},pn=function(d){var x=d.title,n=d.confirm,I=d.setParams,j=d.params,P=d.name,$=d.list,D=d.configType,y=(0,v.useState)(!1),F=(0,g.Z)(y,2),R=F[0],H=F[1],O=function(K){H(K)};return(0,e.jsx)("div",{className:ue().filter_wrapper_container,children:(0,e.jsxs)(ee.Z,{children:[(0,e.jsx)("span",{children:x}),(0,e.jsx)(mn.Z,{open:R,onVisibleChange:O,trigger:["click"],overlay:(0,e.jsx)(Pn,{confirm:n,onConfirm:function(K){var z={};z[P]=K,H(!1),I((0,l.Z)((0,l.Z)({},j),z))},list:$,configType:D}),children:(0,e.jsx)("div",{className:ue().filter_icon_wrapper,children:(0,e.jsx)(N.Z,{className:j[P]?ue().filter_icon_contaner_active:ue().filter_icon_contaner})})})]})})},Hn=r(15122),Mn=r(75073),Rn=r(39935),ge=r(6130),Kn=function(d){var x=(0,o.YB)(),n=x.formatMessage,I=(0,o.Kd)()==="en-US",j=d.match.params.ws_id,P=d.location.query.test_type||"ak",$=We.Z.TabPane,D=(0,v.useState)([]),y=(0,g.Z)(D,2),F=y[0],R=y[1],H=(0,v.useState)(P),O=(0,g.Z)(H,2),p=O[0],K=O[1],z=(0,v.useState)(!0),B=(0,g.Z)(z,2),ie=B[0],J=B[1],ce=S.Z.useForm(),V=(0,g.Z)(ce,1),E=V[0],Y=(0,v.useRef)(null),se=(0,v.useRef)(null),ne=(0,v.useState)(!0),_e=(0,g.Z)(ne,2),k=_e[0],C=_e[1],oe={name:"",access_id:"",access_key:"",provider:"",enable:"",gmt_created:"",gmt_modified:"",creator:"",update_user:"",page_num:1,page_size:10,ws_id:j,key:P},me={image_name:"",image_id:"",image_version:"",platform:"",region:"",ak_name:"",provider:"",gmt_created:"",gmt_modified:"",creator:"",update_user:"",page_num:1,page_size:10,ws_id:j,key:P},X=p==="ak"?oe:me,le=(0,v.useState)(X),L=(0,g.Z)(le,2),s=L[0],u=L[1],ae=function(){var i=(0,W.Z)((0,c.Z)().mark(function a(){var t,h,m=arguments;return(0,c.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(t=m.length>0&&m[0]!==void 0?m[0]:X,J(!0),R({data:[]}),p!=="ak"){b.next=9;break}return b.next=6,He((0,l.Z)({},t));case 6:b.t0=b.sent,b.next=12;break;case 9:return b.next=11,gn((0,l.Z)({},t));case 11:b.t0=b.sent;case 12:h=b.t0,R(h),J(!1);case 15:case"end":return b.stop()}},a)}));return function(){return i.apply(this,arguments)}}();(0,v.useEffect)(function(){ae(s)},[s]);var te=function(a,t){u((0,l.Z)((0,l.Z)({},s),{},{page_num:a,page_size:t}))},A=function(a){if(K(a),o.m8.push("".concat(location.pathname,"?test_type=").concat(a)),a==="ak"){u((0,l.Z)((0,l.Z)({},oe),{},{key:a}));return}u((0,l.Z)((0,l.Z)({},me),{},{key:a}))},G=function(){u((0,l.Z)((0,l.Z)({},s),{},{page_num:1}))},Ce=(0,c.Z)().mark(function i(){var a,t=arguments;return(0,c.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a=t.length>0&&t[0]!==void 0?t[0]:{},p!=="ak"){m.next=6;break}return m.next=4,hn({id_list:[a.id],ws_id:j});case 4:m.next=8;break;case 6:return m.next=8,Zn({id_list:[a.id],ws_id:j});case 8:case"end":return m.stop()}},i)}),xe=function(a,t){if(a===200){pe.default.success(n({id:"operation.success"}));var h=Math.ceil((F.total-1)/s.page_size)||1,m=s.page_num;s.page_num>h&&(m=h),u((0,l.Z)((0,l.Z)({},s),{},{page_num:m}))}else(0,Rn.EV)(a,t)},Se=[{id:"aliyun_ecs",name:n({id:"device.aliyun_ecs"})},{id:"aliyun_eci",name:n({id:"device.aliyun_eci"})}],Ae=[{id:1,name:n({id:"operation.yes"})},{id:0,name:n({id:"operation.no"})}],fe={container:180,button_width:90},_=[{title:"AK Name",dataIndex:"name",fixed:"left",width:150,ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:fe,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{name:m}))},currentBaseline:{server_provider:j,test_type:p,id:"name"},placeholder:n({id:"device.ak.name.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.name?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.name},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.name||""],autoEscape:!0,textToHighlight:t&&t.name})})}},{title:"Access ID",dataIndex:"access_id",width:120,ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:fe,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{access_id:m}))},currentBaseline:{server_provider:j,test_type:p,id:"access_id"},placeholder:n({id:"device.access_id.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.access_id?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.access_id},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.access_id||""],autoEscape:!0,textToHighlight:t.access_id})})}},{title:"Access Key",width:120,dataIndex:"access_key",ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:fe,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{access_key:m}))},currentBaseline:{server_provider:j,test_type:p,id:"access_key"},placeholder:n({id:"device.access_key.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.access_key?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.access_key},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.access_key||""],autoEscape:!0,textToHighlight:t.access_key})})}},{title:(0,e.jsx)(o._H,{id:"device.vm_quota"}),dataIndex:"vm_quota",width:120},{title:(0,e.jsx)(o._H,{id:"device.resource_group_id"}),width:I?160:120,dataIndex:"resource_group_id",ellipsis:{showTitle:!1},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:fe,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{resource_group_id:m}))},currentBaseline:{server_provider:j,test_type:p,id:"resource_group_id"},placeholder:n({id:"device.resource_group_id.placeholder"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.resource_group_id?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.resource_group_id},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.resource_group_id||""],autoEscape:!0,textToHighlight:t.resource_group_id||"-"})})}},{title:function(){return(0,e.jsx)(pn,{title:n({id:"device.cloud.service.provider"}),params:s,setParams:u,name:"provider",configType:p,list:Se})},width:I?180:100,dataIndex:"provider",ellipsis:!0},{title:(0,e.jsx)(o._H,{id:"device.enable"}),width:100,dataIndex:"enable",ellipsis:!0,render:function(a,t){return["\u662F",!0].includes(t.enable)?(0,e.jsx)(o._H,{id:"operation.yes"}):(0,e.jsx)(o._H,{id:"operation.no"})},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.enable?"#1890ff":void 0}})},filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(Hn.Z,{list:Ae,confirm:t,onConfirm:function(m){var Ze=void 0;m===1&&(Ze="True"),m===0&&(Ze="False"),u((0,l.Z)((0,l.Z)({},s),{},{enable:Ze}))}})}},{title:(0,e.jsx)(o._H,{id:"device.gmt_created"}),width:170,dataIndex:"gmt_created",ellipsis:!0,sorter:!0},{title:(0,e.jsx)(o._H,{id:"device.gmt_modified"}),width:170,dataIndex:"gmt_modified",ellipsis:!0,sorter:!0},{title:function(){return(0,e.jsx)(Me,{title:n({id:"device.creator"}),params:s,setParams:u,name:"creator"})},width:120,dataIndex:"creator",ellipsis:!0},{title:function(){return(0,e.jsx)(Me,{title:n({id:"device.update_user"}),params:s,setParams:u,name:"update_user"})},width:120,dataIndex:"update_user",ellipsis:!0,render:function(a){return a||"-"}},{title:(0,e.jsx)(o._H,{id:"device.description"}),dataIndex:"description",ellipsis:!0,width:100,render:function(a){return a||"-"}},{title:(0,e.jsx)(o._H,{id:"Table.columns.operation"}),key:"ak_conf",fixed:"right",width:90,render:function(a,t){return(0,e.jsxs)(ee.Z,{size:"small",children:[(0,e.jsx)("span",{className:Ue().fail_detail_operation,onClick:function(){return p==="ak"?T(t):we(t)},children:(0,e.jsx)(o._H,{id:"operation.edit"})}),(0,e.jsx)(S.Z,{form:E,layout:"vertical",children:(0,e.jsx)(ye.Z,{title:(0,e.jsx)(o._H,{id:"delete.prompt"}),onConfirm:function(){var m=Ce(t),Ze=m.next();Ze.value.then(function(b){var Re=b.code,on=b.msg;xe(Re,on)})},okText:(0,e.jsx)(o._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(o._H,{id:"operation.cancel"}),icon:(0,e.jsx)($e.Z,{style:{color:"red"}}),children:(0,e.jsx)("span",{className:Ue().fail_detail_operation,children:(0,e.jsx)(o._H,{id:"operation.delete"})})})})]})}}].filter(Boolean),w=[{title:"Image Name",width:150,fixed:"left",dataIndex:"image_name",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:{container:200,button_width:100},onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{image_name:m}))},currentBaseline:{server_provider:j,test_type:p,id:"image_name"},placeholder:n({id:"device.search.image.name"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.image_name?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.image_name},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.image_name||""],autoEscape:!0,textToHighlight:t&&t.image_name})})}},{title:"Image ID",width:120,dataIndex:"image_id",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:fe,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{image_id:m}))},currentBaseline:{server_provider:j,test_type:p,id:"image_id"},placeholder:n({id:"device.search.image.id"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.image_id?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.image_id},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.image_id||""],autoEscape:!0,textToHighlight:t&&t.image_id})})}},{title:"Image Version",width:120,dataIndex:"image_version",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:{container:200,button_width:100},onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{image_version:m}))},currentBaseline:{server_provider:j,test_type:p,id:"image_version"},placeholder:n({id:"device.search.image.version"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.image_version?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.image_version},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.image_version||""],autoEscape:!0,textToHighlight:t&&t.image_version})})}},{title:"Image Group",width:100,dataIndex:"platform",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:fe,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{platform:m}))},currentBaseline:{server_provider:j,test_type:p,id:"platform"},placeholder:n({id:"device.search.image.group"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.platform?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.platform},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.platform||""],autoEscape:!0,textToHighlight:t&&t.platform})})}},{title:"Region",width:100,dataIndex:"region",ellipsis:!0,filterDropdown:function(a){var t=a.confirm;return(0,e.jsx)(ve.Z,{confirm:t,autoFocus:k,styleObj:fe,onConfirm:function(m){u((0,l.Z)((0,l.Z)({},s),{},{region:m}))},currentBaseline:{server_provider:j,test_type:p,id:"region"},placeholder:n({id:"device.search.region"})})},onFilterDropdownVisibleChange:function(a){a&&C(!k)},filterIcon:function(){return(0,e.jsx)(N.Z,{style:{color:s.region?"#1890ff":void 0}})},render:function(a,t){return(0,e.jsx)(ge.K,{ellipsis:{tooltip:t.region},children:(0,e.jsx)(he(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[s.region||""],autoEscape:!0,textToHighlight:t&&t.region})})}},{title:function(){return(0,e.jsx)(Me,{title:"Ak Name",params:s,setParams:u,name:"ak_name",ws_id:j})},width:150,dataIndex:"ak_name",ellipsis:!0},{title:function(){return(0,e.jsx)(pn,{title:n({id:"device.cloud.service.provider"}),params:s,setParams:u,name:"provider",configType:p,list:Se})},width:I?180:100,dataIndex:"provider",ellipsis:!0},{title:(0,e.jsx)(o._H,{id:"device.gmt_created"}),width:180,dataIndex:"gmt_created",ellipsis:!0,sorter:!0},{title:(0,e.jsx)(o._H,{id:"device.gmt_modified"}),width:180,dataIndex:"gmt_modified",ellipsis:!0,sorter:!0},{title:function(){return(0,e.jsx)(Me,{title:n({id:"device.creator"}),params:s,setParams:u,name:"creator"})},width:120,dataIndex:"creator",ellipsis:!0},{title:function(){return(0,e.jsx)(Me,{title:n({id:"device.update_user"}),params:s,setParams:u,name:"update_user"})},width:120,dataIndex:"update_user",ellipsis:!0,render:function(a){return a||"-"}},{title:(0,e.jsx)(o._H,{id:"Table.columns.operation"}),key:"image_conf",fixed:"right",width:100,render:function(a,t){return(0,e.jsxs)(ee.Z,{size:"small",children:[(0,e.jsx)("span",{className:Ue().fail_detail_operation,onClick:function(){return p==="ak"?T(t):we(t)},children:(0,e.jsx)(o._H,{id:"operation.edit"})}),(0,e.jsx)(S.Z,{form:E,layout:"vertical",children:(0,e.jsx)(ye.Z,{title:(0,e.jsx)(o._H,{id:"delete.prompt"}),onConfirm:function(){var m=Ce(t),Ze=m.next();Ze.value.then(function(b){var Re=b.code,on=b.msg;xe(Re,on)})},okText:(0,e.jsx)(o._H,{id:"operation.ok"}),cancelText:(0,e.jsx)(o._H,{id:"operation.cancel"}),icon:(0,e.jsx)($e.Z,{style:{color:"red"}}),children:(0,e.jsx)("span",{className:Ue().fail_detail_operation,children:(0,e.jsx)(o._H,{id:"operation.delete"})})})})]})}}],Z=function(){var a;(a=Y.current)===null||a===void 0||a.show("new")},T=function(a){var t,h=Ie().cloneDeep(a);h.enable=h.enable==="\u662F"||h.enable===!0,(t=Y.current)===null||t===void 0||t.show("edit",h)},Q=function(){var a;(a=se.current)===null||a===void 0||a.show("new")},we=function(a){var t;(t=se.current)===null||t===void 0||t.show("edit",a)},M=Ie().isArray(F.data)?Ie().cloneDeep(F.data):[];return p==="ak"&&(M=M.map(function(i){return i.enable?(i.enable="\u662F",i):(i.enable="\u5426",i)})),(0,e.jsxs)(Mn.mQ,{title:(0,e.jsxs)(We.Z,{activeKey:p,onChange:A,children:[(0,e.jsx)($,{tab:(0,e.jsx)(o._H,{id:"device.ak.config"})},"ak"),(0,e.jsx)($,{tab:(0,e.jsx)(o._H,{id:"device.image.config"})},"image")]}),extra:(0,e.jsx)(U.Z,{type:"primary",onClick:p==="ak"?Z:Q,children:p==="ak"?(0,e.jsx)(o._H,{id:"device.new.ak"}):(0,e.jsx)(o._H,{id:"device.new.image"})},"3"),children:[(0,e.jsx)(Fe.Z,{loading:ie,size:"small",scroll:{x:1920},onChange:function(a,t,h){switch(h.order){case void 0:h.field==="gmt_created"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_created:void 0})),h.field==="gmt_modified"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_modified:void 0}));break;case"descend":h.field==="gmt_created"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_created:"-gmt_created"})),h.field==="gmt_modified"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_modified:"-gmt_modified"}));break;case"ascend":h.field==="gmt_created"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_created:"+gmt_created"})),h.field==="gmt_modified"&&u((0,l.Z)((0,l.Z)({},s),{},{gmt_modified:"+gmt_modified"}));break;default:break}},columns:p==="ak"?_:w,dataSource:M,rowKey:function(a){return a.id+""},pagination:!1}),(0,e.jsx)(be.Z,{justify:"space-between",style:{padding:"16px 20px 0px"},children:F.total>1&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:n({id:"pagination.total.strip"},{data:F.total||0})}),(0,e.jsx)(je.Z,{size:"small",showQuickJumper:!0,showSizeChanger:!0,current:s.page_num,defaultCurrent:1,onChange:function(a,t){return te(a,t)},onShowSizeChange:function(a,t){return te(a,t)},total:F.total})]})}),p==="ak"&&(0,e.jsx)(In,{ref:Y,onOk:G}),p==="image"&&(0,e.jsx)(kn,{ref:se,onOk:G})]})},Vn=Kn}}]);
