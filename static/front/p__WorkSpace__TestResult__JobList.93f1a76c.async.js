(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[1995],{76613:function(gt,Ne,t){"use strict";t.d(Ne,{Z:function(){return Ye}});var p=t(45972),ne=t(22374),_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},a=_e,b=t(25078),Ke=function(U,g){return ne.createElement(b.Z,(0,p.Z)((0,p.Z)({},U),{},{ref:g,icon:a}))};Ke.displayName="MinusCircleOutlined";var Ye=ne.forwardRef(Ke)},28645:function(gt,Ne,t){"use strict";t.d(Ne,{Z:function(){return Ye}});var p=t(45972),ne=t(22374),_e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},a=_e,b=t(25078),Ke=function(U,g){return ne.createElement(b.Z,(0,p.Z)((0,p.Z)({},U),{},{ref:g,icon:a}))};Ke.displayName="PlusCircleOutlined";var Ye=ne.forwardRef(Ke)},92199:function(gt){gt.exports={result_tabs:"result_tabs___3M8jQ",result_tab_item:"result_tab_item___1ayzC",result_tab_nums:"result_tab_nums___2N6S9",result_tab_nums_active:"result_tab_nums_active___17csa",result_table_row:"result_table_row___1aOzW",offline_flag:"offline_flag___37ZAh",filter_form:"filter_form___1cc4s",column_circle_text:"column_circle_text___23RwV",result_state:"result_state___VKg3t",result_state_active:"result_state_active___237xX",run_modal:"run_modal___C45x-",search_input_style:"search_input_style___3jIGo",select_program:"select_program___3Cksf",data_list:"data_list___sS_6A",button:"button___2dU9J",delete_icon:"delete_icon___16xQa",data_title:"data_title___XQu0t",data_clear:"data_clear___3xOit",data_share:"data_share___1rAqo",share_icon:"share_icon___3IZS7",copy_link_target:"copy_link_target___jeDRx",data_refresh_filter:"data_refresh_filter___3MJwE",share_refresh:"share_refresh___2JNMv",add_time_icon:"add_time_icon___1s-sZ",stateColorFn:"stateColorFn___3cn_m",group_box:"group_box___2ivnF",current_group:"current_group___2Kz0N",disabled_group:"disabled_group___KGRZA",create_job_type:"create_job_type___1H2Y3",create_job_type_icon:"create_job_type_icon___2KWKa",create_job_type_text:"create_job_type_text___1zJc6",bottom_box:"bottom_box___1UdQe",more_job_del_bottom:"more_job_del_bottom___11fry",text_num:"text_num___2mneP",select_baseline:"select_baseline___2F6Mv",sel_server:"sel_server___1M0Vn",select_text:"select_text___1W5-E",result_container:"result_container___1PNgv"}},45227:function(gt,Ne,t){"use strict";var p=t(67448),ne=t(47548),_e=t(20693),a=t(3278),b=t(57359),Ke=t(34423),Ye=t(46721),at=t(94867),U=t(20418),g=t(35832),s=t(32326),V=t(65790),n=t(17187),w=t(39190),re=t(88018),zt=t(58414),_t=t(41428),Ft=t(69230),st=t(33821),Me=t(22374),yt=t(992),At=t(97939),We=t(97207),Xe=t.n(We),Oe=t(22812),Ht=t(24812),be=t(39935),F=t(52454),ft,Ct=st.Z.Option,De=(0,At.ZP)(zt.Z)(ft||(ft=(0,_t.Z)([`
    .ant-drawer-title{
        font-weight: 600;
    }
    .server_provider {
        margin-bottom: 5px;  
    }
    .script_right_name{
        font-size: 14px;
        color: rgba(0,0,0,0.85);
    }
`])));Ne.Z=(0,Me.forwardRef)(function(L,Se){var me=(0,Oe.YB)(),ue=me.formatMessage,Le=(0,Ht.UO)(),Pe=Le.ws_id,e=L.onOk,lt=L.allGroup,vt=n.Z.useForm(),it=(0,w.Z)(vt,1),Ee=it[0],ot=(0,Me.useState)(!1),ut=(0,w.Z)(ot,2),ye=ut[0],Fe=ut[1],jt=(0,Me.useState)(!1),Ae=(0,w.Z)(jt,2),mt=Ae[0],ie=Ae[1],Ue=(0,Me.useState)({}),Ve=(0,w.Z)(Ue,2),qe=Ve[0],Tt=Ve[1],Dt=(0,Me.useState)(!0),He=(0,w.Z)(Dt,2),he=He[0],ke=He[1],A=(0,Me.useState)([]),Ie=(0,w.Z)(A,2),nt=Ie[0],ze=Ie[1],$t=(0,Me.useState)([]),$e=(0,w.Z)($t,2),Je=$e[0],xt=$e[1],Rt=(0,Me.useState)([]),Zt=(0,w.Z)(Rt,2),ht=Zt[0],Bt=Zt[1];(0,Me.useImperativeHandle)(Se,function(){return{show:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ie(!0),Tt(k),Ee.setFieldsValue(k),Ut()}}});var Wt=function(){var Qe=(0,s.Z)((0,g.Z)().mark(function k(){var J,S,Q,Ce;return(0,g.Z)().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,(0,yt.MD)({page_size:9999,page_num:1,ws_id:Pe});case 2:J=Be.sent,S=J.data,Q=J.code,Ce=J.msg,Q===200&&Bt(S),ke(!1),Q!==200&&(0,be.EV)(Q,Ce);case 9:case"end":return Be.stop()}},k)}));return function(){return Qe.apply(this,arguments)}}();(0,Me.useEffect)(function(){Wt()},[]),(0,Me.useEffect)(function(){var Qe=Xe().find(ht,"is_default"),k=null;Qe&&(k=Qe.id);var J=null;Je.length===1&&(J=Je[0]);var S=null;nt.length===1&&(S=nt[0].id);var Q=Ee.getFieldsValue();Q.template=k,Q.productVersion=J,Q.project=S,Ee.setFieldsValue(Q)},[ht,Je,nt]);var Ut=function(){var k=[],J=[];try{lt.forEach(function(S,Q){S&&Xe().isArray(S.members)&&S.members.length&&(k.push(S.members[0].product_version),S.members.forEach(function(Ce){return J.push({id:Ce.project_id,name:Ce.project_name})}))}),k=Xe().uniq(k),J=Xe().uniqWith(J,Xe().isEqual),J=J.filter(function(S){return S.id!==void 0}),xt(k),ze(J)}catch(S){console.log(S)}},Pt=function(){Ee.resetFields(),Fe(!1),ie(!1)},Vt=function(){Fe(!0),Ee.validateFields().then(function(){var k=(0,s.Z)((0,g.Z)().mark(function J(S){var Q,Ce;return(0,g.Z)().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:Q=S.template,Ce=Xe().find(ht,{id:Q}),e((0,U.Z)((0,U.Z)({},S),{},{is_default:Xe().get(Ce,"is_default")}),qe),Pt();case 4:case"end":return Be.stop()}},J)}));return function(J){return k.apply(this,arguments)}}()).catch(function(k){console.log(k),Fe(!1)})},Mt=function(k){var J="",S=ht;if(k==="template"){var Q=Xe().find(S,"is_default");Q&&(J=Q.id)}return k==="productVersion"&&(S=Je.filter(function(Ce){return Ce}),S.length===1&&(J=S[0])),k==="project"&&(S=nt,S.length===1&&(J=S[0].id)),J},Ot=function(k){var J="",S=ht;return k==="template"&&(J=ue({id:"report.please.select.template"})),k==="productVersion"&&(S=Je.filter(function(Q){return Q}),J=ue({id:"report.select.productVersion"})),k==="project"&&(S=nt,J=ue({id:"report.select.project"})),(0,F.jsx)(st.Z,{showSearch:!0,allowClear:!0,placeholder:J,optionFilterProp:"children",style:{width:"100%"},onChange:function(Ce){var pt=Ee.getFieldsValue();pt[k]=Ce,Ee.setFieldsValue(pt)},showArrow:!0,filterOption:function(Ce,pt){return pt.children.toLowerCase().indexOf(Ce.toLowerCase())>=0},children:S.map(function(Q){return k==="productVersion"?(0,F.jsx)(Ct,{value:Q,children:Q},Q):(0,F.jsx)(Ct,{value:Q.id,children:Q.name},Q.id)})})};return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(ne.Z,{spinning:he,children:(0,F.jsx)(De,{title:(0,F.jsx)(Oe._H,{id:"report.generate.report"}),width:"375",onClose:Pt,visible:mt,footer:(0,F.jsx)("div",{style:{textAlign:"right"},children:(0,F.jsxs)(Ke.Z,{children:[(0,F.jsx)(at.Z,{onClick:Pt,children:(0,F.jsx)(Oe._H,{id:"operation.cancel"})}),(0,F.jsx)(at.Z,{type:"primary",disabled:ye,onClick:Vt,children:(0,F.jsx)(Oe._H,{id:"operation.ok"})})]})}),children:(0,F.jsxs)(n.Z,{form:Ee,layout:"vertical",initialValues:{template:Mt("template"),productVersion:Mt("productVersion"),project:Mt("project")},children:[(0,F.jsx)(n.Z.Item,{label:(0,F.jsx)(Oe._H,{id:"report.columns.name"}),name:"name",rules:[{required:!0,message:ue({id:"report.please.enter.name"})}],children:(0,F.jsx)(a.Z,{autoComplete:"auto",placeholder:ue({id:"report.please.enter.name"})})}),(0,F.jsx)(n.Z.Item,{label:(0,F.jsx)(Oe._H,{id:"report.select.template"}),name:"template",rules:[{required:!0}],children:Ot("template")}),(0,F.jsx)(n.Z.Item,{label:(0,F.jsx)(Oe._H,{id:"report.columns.product_version"}),name:"productVersion",children:Ot("productVersion")}),(0,F.jsx)(n.Z.Item,{label:(0,F.jsx)(Oe._H,{id:"report.columns.project"}),name:"project",children:Ot("project")}),(0,F.jsx)(n.Z.Item,{label:(0,F.jsx)(Oe._H,{id:"report.description.input"}),name:"description",children:(0,F.jsx)(a.Z.TextArea,{placeholder:ue({id:"report.description.placeholder"})})})]})})})})})},55686:function(gt,Ne,t){"use strict";t.r(Ne),t.d(Ne,{default:function(){return rr}});var p=t(35832),ne=t(488),_e=t(32326),a=t(20418),b=t(39190),Ke=t(54905),Ye=t(90087),at=t(57359),U=t(34423),g=t(41428),s=t(22374),V=t(97939),n=t(22812),w=t(24812),re=t(22977),zt=t(20693),_t=t(3278),Ft=t(88966),st=t(11048),Me=t(13059),yt=t(53676),At=t(14320),We=t(53479),Xe=t(38519),Oe=t(16416),Ht=t(31650),be=t(25100),F=t(45972),ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},Ct=ft,De=t(25078),L=function(r,d){return s.createElement(De.Z,(0,F.Z)((0,F.Z)({},r),{},{ref:d,icon:Ct}))};L.displayName="SettingOutlined";var Se=s.forwardRef(L),me=t(99193),ue=t(66304),Le=s.createContext(null),Pe=function(){return s.useContext(Le)},e=t(52454),lt,vt=`
    color: #1890FF;
`,it=V.ZP.span(lt||(lt=(0,g.Z)([`
    cursor: pointer;
    `,`
`])),function(H){var r=H.active;return r?vt:""}),Ee=function(){var r=Pe(),d=r.initialColumns,o=r.setInitialColumns,m=r.DEFAULT_COLUMNS_SET_DATA,l=(0,n.YB)(),y=s.useState(!0),h=(0,b.Z)(y,2),T=h[0],B=h[1],I=s.useState(!1),Z=(0,b.Z)(I,2),N=Z[0],D=Z[1],z=Object.entries(d),Y=z.map(function(j){var f=(0,b.Z)(j,1),x=f[0];return x}),G=z.map(function(j){var f=(0,b.Z)(j,2),x=f[0],E=f[1].disabled;if(!E)return x}).filter(Boolean),Ze=s.useState(G),K=(0,b.Z)(Ze,2),ae=K[0],se=K[1];s.useEffect(function(){se(G),B(!!G.length&&G.length<z.length),D(G.length===z.length)},[d]);var we=function(f){o(function(x){return Object.fromEntries(Object.entries(x).map(function(E){var O=(0,b.Z)(E,2),W=O[0],le=O[1];return[W,(0,a.Z)((0,a.Z)({},le),{},{disabled:!f.includes(W)})]}))},[])},oe=function(f){var x=f.target.checked?Y:[];se(x),B(!1),D(f.target.checked),we(x)},X=function(f){se(f),B(!!f.length&&f.length<z.length),D(f.length===z.length),we(f)},ce=s.useMemo(function(){return d?Object.entries(d).sort(function(j,f){return f[1].order-j[1].order}):[]},[d]);return(0,e.jsx)(yt.Z,{placement:"bottom",content:(0,e.jsxs)(U.Z,{direction:"vertical",size:4,children:[(0,e.jsxs)(We.Z,{justify:"space-between",align:"middle",style:{marginBottom:16},children:[(0,e.jsx)(Oe.Z,{indeterminate:T,checked:N,onChange:oe,children:(0,e.jsx)(be.Z.Text,{strong:!0,children:l.formatMessage({defaultMessage:"\u5217\u5C55\u793A",id:"ws.result.list.columns.state.title"})})}),(0,e.jsx)(be.Z.Link,{strong:!0,onClick:function(){return o(m)},children:l.formatMessage({defaultMessage:"\u91CD\u7F6E",id:"ws.result.list.columns.state.reset"})})]}),(0,e.jsx)(Oe.Z,{checked:!0,disabled:!0,children:l.formatMessage({id:"ws.result.list.id"})},"id"),(0,e.jsx)(Oe.Z.Group,{value:ae,onChange:X,children:(0,e.jsx)(U.Z,{direction:"vertical",size:4,children:ce.map(function(j){var f=(0,b.Z)(j,1),x=f[0];return(0,e.jsx)(Oe.Z,{value:x,disabled:["id"].includes(x),children:l.formatMessage({id:"ws.result.list.".concat(x)})},x)})})})]}),children:(0,e.jsx)(be.Z.Text,{style:{cursor:"pointer"},children:(0,e.jsx)(Se,{})})})},ot=function(r){var d=(0,n.YB)(),o=d.formatMessage,m=r.pageQuery,l=r.setPageQuery,y=r.stateCount,h=r.selectionType,T=r.onSelectionChange,B=r.onFilterChange,I=(0,w.TH)(),Z=I.query,N=(0,n.md)(),D=m.state,z=s.useState(""),Y=(0,b.Z)(z,2),G=Y[0],Ze=Y[1],K=s.useState(JSON.stringify(Z)!=="{}"),ae=(0,b.Z)(K,2),se=ae[0],we=ae[1];s.useEffect(function(){B&&B(se)},[se]);var oe=[{name:o({id:"all"}),key:"all_job",val:void 0},{name:"Pending",key:"pending_job",val:"pending"},{name:"Running",key:"running_job",val:"running"},{name:"Complete",key:"success_job",val:"success"},{name:"Fail",key:"fail_job",val:"fail"}];return(0,e.jsxs)(We.Z,{justify:"space-between",style:{height:48,padding:"0 20px"},children:[(0,e.jsx)(U.Z,{size:"large",children:oe.map(function(X){return(0,e.jsx)(it,{active:D===X.val,onClick:function(){return l(function(j){return(0,a.Z)((0,a.Z)({},j),{},{state:X.val})})},children:"".concat(X.name,"(").concat(y?y[X.key]:0,")")},X.key)})}),(0,e.jsxs)(U.Z,{size:16,children:[(0,e.jsxs)(U.Z,{children:[(0,e.jsxs)(be.Z.Text,{children:[(0,e.jsx)(n._H,{id:"ws.result.list.selection.function"}),"\uFF1A"]}),(0,e.jsxs)(st.ZP.Group,{onChange:function(ce){var j=ce.target;return T(j.value)},value:h,children:[(0,e.jsx)(st.ZP,{value:1,children:(0,e.jsx)(n._H,{id:"ws.result.list.report.and.analysis"})}),N.WsMemberOperateSelf()&&(0,e.jsx)(st.ZP,{value:2,children:(0,e.jsx)(n._H,{id:"ws.result.list.batch.delete"})})]})]}),(0,e.jsx)(Ee,{}),(0,e.jsx)(_t.Z.Search,{style:{width:160},allowClear:!0,value:G,onChange:function(ce){var j=ce.target;return Ze(j.value)},onPressEnter:function(){return l(function(ce){return(0,a.Z)((0,a.Z)({},ce),{},{search:G.replaceAll(" ","")})})},onSearch:function(ce){return l(function(j){return(0,a.Z)((0,a.Z)({},j),{},{search:ce.replaceAll(" ","")})})}}),(0,e.jsx)("div",{onClick:function(){return we(!se)},style:{cursor:"pointer"},children:se?(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(n._H,{id:"ws.result.list.collapse.filter"}),(0,e.jsx)(me.Z,{})]}):(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(n._H,{id:"ws.result.list.expand.filter"}),(0,e.jsx)(ue.Z,{})]})})]})]})},ut=ot,ye=t(26388),Fe=t(2605),jt=t(20632),Ae=t(71853),mt=t(70772),ie=t(6701),Ue=t(81138),Ve=t(96146),qe=t(39935),Tt=t(43163),Dt=t(72053),He=t(78358),he=t(80873),ke=t(97207),A=t.n(ke),Ie=t(76742),nt=t(46721),ze=t(94867),$t=t(51937),$e=t(34516),Je=t(89948),xt,Rt,Zt,ht,Bt,Wt=V.ZP.div(xt||(xt=(0,g.Z)([`
    border-top: 1px solid rgba(0,0,0, 0.06);
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: 0 -1px 2px 0 rgba(0,0,0,0.03);
    background-color: #fff;
    z-index: 99;
`]))),Ut=V.ZP.div(Rt||(Rt=(0,g.Z)([`
    border-top: 2px solid #1890ff;
    padding-left: 20px;
    font-weight: 700;
    color: #000;
    opacity: .85;
    height: 38px;
    line-height: 38px;
    border-bottom: 1px solid rgba(0,0,0,.06);
`]))),Pt=V.ZP.div(Zt||(Zt=(0,g.Z)([`
    height: 68px;
    line-height: 22px;
    background: #fff;
    width: 100%;
    display: flex;
`]))),Vt=V.ZP.div.attrs(function(H){return{style:{width:"calc(100% - ".concat((H==null?void 0:H.width)||0,"px)")}}})(ht||(ht=(0,g.Z)([`
    padding: 8px 20px;
    height: 100%;
    overflow-x: scroll;
    overflow-y: hidden;

    &>.ant-row {
        margin-bottom: 8px;
    }
`]))),Mt=V.ZP.div(Bt||(Bt=(0,g.Z)([`
    height: 100%;
    width: 212px;
    background: #fff;
    box-shadow: -3px 0 2px 0 rgba(0,0,0,.05);
    padding: 0 10px;
    display: flex;
    align-items: center;
`]))),Ot=function(r,d){return(0,e.jsx)(We.Z,{wrap:!1,children:r.map(function(o){return(0,e.jsx)($e.Z,{closable:!0,style:{fontSize:14,backgroundColor:"rgba(0,0,0,.04)"},onClose:function(){return d(function(l){return l.filter(function(y){return y!==o})})},children:o},o)})})},Qe=function(r){var d=r.selectedRowKeys,o=r.setSelectedRowKeys,m=r.onOk,l=s.useRef(null),y=s.useMemo(function(){return d!=null&&d.length?"\uFF08".concat(d.length,"\uFF09"):""},[d]),h=s.useState(!1),T=(0,b.Z)(h,2),B=T[0],I=T[1],Z=function(){if(!!l.current){var D=l.current,z=D.offsetWidth,Y=D.scrollWidth;I(z<Y)}};return s.useEffect(function(){return Z(),window.addEventListener("resize",Z),function(){window.removeEventListener("resize",Z)}},[d]),(0,e.jsxs)(Wt,{children:[(0,e.jsxs)(Ut,{children:["\u5220\u9664\u680F",y]}),(0,e.jsxs)(Pt,{children:[(0,e.jsxs)(Vt,{width:212,ref:l,children:[Ot(d.filter(function(N,D){return D%2==0}),o),Ot(d.filter(function(N,D){return D%2==1}),o)]}),(0,e.jsx)(Mt,{children:(0,e.jsxs)(U.Z,{size:18,style:{width:"100%",justifyContent:"end"},children:[B&&(0,e.jsx)(Je.Z,{style:{cursor:"pointer"},onClick:function(){var D;return(D=l.current)===null||D===void 0?void 0:D.scrollTo({left:l==null?void 0:l.current.scrollWidth})}}),(0,e.jsxs)(U.Z,{align:"center",children:[(0,e.jsx)(ze.Z,{onClick:function(){return o([])},children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(Ae.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),okText:(0,e.jsx)(n._H,{id:"operation.delete"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),onConfirm:m,placement:"topLeft",children:(0,e.jsx)(ze.Z,{children:(0,e.jsx)(n._H,{id:"ws.result.list.batch.delete"})})})]})]})})]})]})},k=Qe,J=t(41170),S=t.n(J),Q=t(28972),Ce=t(53770),pt=t(45227),Be=t(28739),fn=t(74066),vn=function(H){var r=(0,n.YB)(),d=r.formatMessage,o=H.selectedChange,m=H.allSelectRowData,l=(0,w.UO)(),y=l.ws_id,h=(0,n.md)(),T=(0,s.useRef)(null),B=(0,s.useState)(!1),I=(0,b.Z)(B,2),Z=I[0],N=I[1],D=(0,s.useState)([]),z=(0,b.Z)(D,2),Y=z[0],G=z[1],Ze=(0,s.useState)([]),K=(0,b.Z)(Ze,2),ae=K[0],se=K[1],we=(0,s.useState)({}),oe=(0,b.Z)(we,2),X=oe[0],ce=oe[1],j=(0,s.useRef)(null),f=function(){var C=document.querySelector("#job_group li"),v=document.getElementById("job_group");if(C&&v){var R=C.clientWidth+1,fe=v.clientWidth;R>fe&&N(!0)}};(0,s.useEffect)(function(){return window.addEventListener("resize",f),function(){window.removeEventListener("resize",f)}},[]),(0,s.useEffect)(function(){f()},[m]);var x=function(){o()},E=function(C){var v;C!=="test_report/report"&&n.m8.push({pathname:"/ws/".concat(y,"/").concat(C),state:(v={},(0,ye.Z)(v,"".concat(y,"-compareData"),JSON.stringify([])),(0,ye.Z)(v,"".concat(y,"-noGroupJobData"),JSON.stringify(m)),(0,ye.Z)(v,"".concat(y,"-originType"),"test_result"),v)})},O=function(C){o(C,!1)},W=function(){if(T.current){var C=T.current.getScrollLeft();return C}},le=function(){var C=document.getElementById("job_group"),v=C.clientWidth;if(T.current){var R=W();T.current.scrollLeft(R+v-325)}},ee={width:"100%"};(0,s.useEffect)(function(){var _=[],C=[];m.forEach(function(v,R){R%2==0&&_.push(v),R%2==1&&C.push(v)}),G(_),se(C)},[m]);var pe=function(){var _=(0,_e.Z)((0,p.Z)().mark(function C(v){var R,fe,te,et;return(0,p.Z)().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.next=2,(0,re.J1)(v);case 2:R=Re.sent,fe=R.data,te=R.code,et=R.msg,te===200?ce(fe):(0,qe.EV)(te,et);case 7:case"end":return Re.stop()}},C)}));return function(v){return _.apply(this,arguments)}}(),je=function(){var C,v={func_data:{base_job:[],compare_job:[]},perf_data:{base_job:[],compare_job:[]},group_num:1};A().isArray(m)&&m.forEach(function(R){R.test_type==="\u529F\u80FD\u6D4B\u8BD5"&&v.func_data.base_job.push(R.id),R.test_type==="\u6027\u80FD\u6D4B\u8BD5"&&v.perf_data.base_job.push(R.id),R.test_type==="functional"&&v.func_data.base_job.push({is_job:0,obj_id:R.id,baseline_type:"func"}),R.test_type==="performance"&&v.perf_data.base_job.push({is_job:0,obj_id:R.id,baseline_type:"perf"})}),pe(v),(C=j.current)===null||C===void 0||C.show(m)},de=function(){var _=(0,_e.Z)((0,p.Z)().mark(function C(v){var R;return(0,p.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,re.k3)(v);case 2:return R=te.sent,te.abrupt("return",R);case 4:case"end":return te.stop()}},C)}));return function(v){return _.apply(this,arguments)}}(),$=function(){var _=(0,_e.Z)((0,p.Z)().mark(function C(v){var R;return(0,p.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,re.gQ)(v);case 2:return R=te.sent,te.abrupt("return",R);case 4:case"end":return te.stop()}},C)}));return function(v){return _.apply(this,arguments)}}(),q=function(){var C=m.length?m[0].product_version:"Group1",v={id:+new Date,members:m,name:"Group1",product_version:C,type:"job"};return v},Ge=function(){var C=[],v=q(),R=[],fe=A().get(v,"members");fe=A().isArray(fe)?fe:[],fe=fe.filter(function(Re){return Re});var te=v.type==="baseline";fe.forEach(function(Re){te||R.push({is_baseline:0,obj_id:Re.id}),te&&R.push({is_baseline:1,obj_id:Re.id,baseline_type:Re.test_type==="functional"?"func":"perf"})});var et={tag:v.product_version,base_objs:R},St={base_group:et,compare_groups:C};return St},rt=function(C){var v=X.func_suite_dic||{},R=X.perf_suite_dic||{},fe=0,te=Object.keys(v)||[],et=Object.keys(R)||[],St=[],Re=[];Re.push({members:m});var P={func_suite_dic:(0,Be.wb)(v,Re,fe,te,St),perf_suite_dic:(0,Be.wb)(R,Re,fe,et,St)},i=(0,Be.LN)(P),u=Ge();Promise.all([$(u),de(i)]).then(function(c){if(A().get(c[0],"code")===200&&A().get(c[1],"code")===200){n.m8.push({pathname:"/ws/".concat(y,"/test_create_report"),state:{environmentResult:c[0].data,baselineGroupIndex:0,allGroupData:[q()],testDataParam:A().cloneDeep(P),domainGroupResult:c[1].data,compareResult:c[0].data,compareGroupData:u,saveReportData:C}});return}if(c[0].code===1358){Ve.default.error(Ve.default.error(d({id:"ws.result.list.please.add.comparison.group"})));return}c[1].code!==200&&Ve.default.error(c[1].msg)}).catch(function(c){Ve.default.error(Ve.default.error(d({id:"request.failed"}))),console.log(c)})},It=function(){var C=!1;if(A().isArray(m)){var v=A().reduce(m,function(R,fe){var te=A().get(fe,"product_version"),et=A().get(fe,"product_id");return R.push({product_version:te,product_id:et}),R},[]);C=A().uniqWith(v,A().isEqual).length>1}return C};return(0,e.jsxs)("div",{className:S().job_compare,style:{display:m.length?"block":"none"},children:[(0,e.jsxs)("div",{className:S().title,children:[(0,e.jsx)(n._H,{id:"ws.result.list.compare.bar"}),(0,e.jsxs)("span",{children:["\uFF08",m.length,"\uFF09"]}),"  ",(0,e.jsx)(yt.Z,{content:(0,e.jsxs)("div",{children:[(0,e.jsx)(n._H,{id:"ws.result.list.combining.rule"}),(0,e.jsx)("div",{children:(0,e.jsx)(n._H,{id:"ws.result.list.top.ranked"})})]}),placement:"right",children:(0,e.jsx)(fn.Z,{className:S().question_icon})})]}),(0,e.jsxs)("div",{className:S().job_group,id:"job_group",children:[(0,e.jsx)(Q.$B,{style:ee,ref:T,children:(0,e.jsx)("ul",{id:"box",children:(0,e.jsxs)("li",{children:[(0,e.jsx)("div",{className:S().job_item,children:Y.map(function(_){return(0,e.jsx)(Ae.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),okText:(0,e.jsx)(n._H,{id:"operation.delete"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),onConfirm:A().partial(O,_),placement:"topLeft",children:(0,e.jsxs)("span",{className:S().job_item_span,children:[(0,e.jsx)("span",{children:_.id}),(0,e.jsx)(Ce.Z,{className:S().delete})]})},_.id)})}),(0,e.jsx)("div",{className:S().job_item,children:ae.map(function(_){return(0,e.jsx)(Ae.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),okText:(0,e.jsx)(n._H,{id:"operation.delete"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),onConfirm:A().partial(O,_),placement:"topLeft",children:(0,e.jsxs)("span",{className:S().job_item_span,children:[_.id,(0,e.jsx)(Ce.Z,{className:S().delete})]})},_.id)})})]})})}),(0,e.jsx)("div",{className:S().operate,children:(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(Je.Z,{onClick:le,style:{opacity:Z?1:0,marginLeft:16,marginRight:8}}),(0,e.jsx)(ze.Z,{onClick:x,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(n.Nv,{accessible:h.IsWsSetting(),children:(0,e.jsx)(ze.Z,{type:"primary",onClick:A().partial(je),disabled:It(),children:(0,e.jsx)(n._H,{id:"ws.result.list.create.report"})})}),(0,e.jsx)(ze.Z,{type:"primary",onClick:A().partial(E,"test_analysis/compare"),children:(0,e.jsx)(n._H,{id:"ws.result.list.compare.analysis"})})]})}),(0,e.jsx)(pt.Z,{ref:j,onOk:rt,allGroup:[q()]})]})]})},mn=t(24637),hn=t(20038),pn=t(92199),gn=t.n(pn),_n=t(79390),Et=t(6130),jn=["code","msg"],Qt,Gt,xn=V.ZP.div(Qt||(Qt=(0,g.Z)([`
    background: #1890FF;
    color: #fff;
    padding: 0px 4px;
    height: 20px;
    margin-right: 6px;
    font-size: 12px;
    display: inline-block;
    line-height: 20px;
    text-align: center;
    border-radius: 2px;
`]))),Zn=V.ZP.div(Gt||(Gt=(0,g.Z)([`
    border-top: 1px solid rgba(0,0,0, 0.06);
    position: fixed;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: 0 -1px 2px 0 rgba(0,0,0,0.03);
    background-color: #fff;
    z-index: 99;
`]))),bn={page_num:1,page_size:20},Sn=function(r){var d=Pe(),o=d.initialColumns,m=(0,n.YB)(),l=m.formatMessage,y=(0,n.Kd)()==="en-US",h=r.pageQuery,T=r.setPageQuery,B=r.radioValue,I=B===void 0?1:B,Z=r.setRadioValue,N=r.countRefresh,D=(0,w.UO)(),z=D.ws_id,Y=(0,n.md)(),G=s.useState([]),Ze=(0,b.Z)(G,2),K=Ze[0],ae=Ze[1],se=s.useState([]),we=(0,b.Z)(se,2),oe=we[0],X=we[1],ce=s.useRef(null),j=s.useState(!0),f=(0,b.Z)(j,2),x=f[0],E=f[1],O=s.useState({}),W=(0,b.Z)(O,2),le=W[0],ee=W[1],pe=s.useState({}),je=(0,b.Z)(pe,2),de=je[0],$=je[1],q=function(){var P=(0,_e.Z)((0,p.Z)().mark(function i(){var u,c,M,xe,ge,dt,wt,ve;return(0,p.Z)().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return E(!0),Te.next=3,(0,re.ZD)(h);case 3:if(u=Te.sent,c=u.code,M=u.msg,xe=(0,ne.Z)(u,jn),c===200){Te.next=9;break}return Te.abrupt("return");case 9:ge=xe.total,dt=h.page_num,wt=h.page_size,ve=Math.ceil((ge-1)/wt),ve>0&&dt>ve?T(function(ar){return(0,a.Z)((0,a.Z)({},ar),{},{page_num:ve>=1?ve:1})}):(E(!1),ee(xe));case 13:case"end":return Te.stop()}},i)}));return function(){return P.apply(this,arguments)}}();s.useEffect(function(){q(),$({})},[h]),s.useEffect(function(){return function(){X([]),ae([]),Z(1)}},[h.tab]),s.useEffect(function(){return function(){T(function(P){return(0,a.Z)((0,a.Z)((0,a.Z)({},P),bn),{},{ws_id:z})}),$({})}},[T,z]);var Ge=function(){var P=(0,_e.Z)((0,p.Z)().mark(function i(u){var c,M,xe,ge,dt;return(0,p.Z)().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(c=u.collection,M=u.id,c){ve.next=7;break}return ve.next=4,(0,re.dN)({job_id:M});case 4:ve.t0=ve.sent,ve.next=10;break;case 7:return ve.next=9,(0,re.pi)({job_id:M});case 9:ve.t0=ve.sent;case 10:if(xe=ve.t0,ge=xe.msg,dt=xe.code,dt===200){ve.next=15;break}return ve.abrupt("return",(0,qe.EV)(dt,ge));case 15:ee(function(tt){return(0,a.Z)((0,a.Z)({},tt),{},{data:tt.data.map(function(Te){return M!==Te.id?Te:(0,a.Z)((0,a.Z)({},Te),{},{collection:!c})})})}),N();case 17:case"end":return ve.stop()}},i)}));return function(u){return P.apply(this,arguments)}}(),rt=function(){var P=(0,_e.Z)((0,p.Z)().mark(function i(u){var c,M,xe,ge,dt,wt;return(0,p.Z)().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return c=u.id,tt.next=3,(0,re.yi)({job_id:c});case 3:if(M=tt.sent,xe=M.code,ge=M.msg,xe===200){tt.next=8;break}return tt.abrupt("return",(0,qe.EV)(xe,ge));case 8:dt=K.filter(function(Te){return Number(Te)!==Number(c)}),wt=oe.filter(function(Te){return Te&&Number(Te.id)!==Number(c)}),ae(dt),X(wt),Ve.default.success(l({id:"operation.success"})),q(),N();case 15:case"end":return tt.stop()}},i)}));return function(u){return P.apply(this,arguments)}}(),It=[Y.IsWsSetting()&&{title:"",key:"collection",width:30,align:"center",fixed:"left",className:"collection_star result_job_hover_span",render:function(i){return(0,e.jsx)("div",{onClick:function(){return Ge(i)},children:i.collection?(0,e.jsx)(Tt.Z,{className:"is_collection_star",style:{color:"#F7B500"}}):(0,e.jsx)(Dt.Z,{className:"no_collection_star"})})}},{title:"Job ID",key:"id",fixed:"left",width:80,ellipsis:{showTitle:!1},className:"result_job_hover_span",render:function(i,u){return(0,e.jsx)("span",{onClick:function(){return(0,qe.N1)("/ws/".concat(z,"/test_result/").concat(u.id))},children:u.id})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.name"}),dataIndex:"name",width:200,ellipsis:{showTitle:!1},className:"result_job_hover_span",render:function(i,u){return(0,e.jsxs)(Et.K,{ellipsis:{tooltip:(0,e.jsx)("span",{children:i||"-"})},children:[u.created_from==="offline"&&(0,e.jsx)(xn,{children:(0,e.jsx)(n._H,{id:"ws.result.list.offline"})}),(0,e.jsx)(be.Z.Link,{className:"result_job_hover_span",target:"_blank",href:"/ws/".concat(z,"/test_result/").concat(u.id),children:i})]})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.state"}),dataIndex:"state",width:120,render:function(i,u){return(0,e.jsx)(He.JQ,(0,a.Z)({},u))}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.test_type"}),width:y?140:80,dataIndex:"test_type",ellipsis:{showTitle:!1},render:function(i){var u=(0,qe.SE)(i);return(0,e.jsx)(n._H,{id:"".concat(u,".test"),defaultMessage:i})}},{title:(0,e.jsx)(he.f,{placement:"bottomLeft",title:(0,e.jsx)(n._H,{id:"ws.result.list.test_type.Tootip"}),desc:(0,e.jsxs)("ul",{style:{paddingInlineStart:"inherit",paddingTop:4,marginBottom:4,paddingLeft:0},children:[(0,e.jsx)("li",{children:(0,e.jsx)(n._H,{id:"ws.result.list.test_type.desc1"})}),(0,e.jsx)("li",{children:(0,e.jsx)(n._H,{id:"ws.result.list.test_type.desc2"})})]})}),dataIndex:"test_result",width:140,render:function(i){var u=JSON.parse(i);return A().isNull(u)?(0,e.jsxs)(We.Z,{children:[(0,e.jsx)(ie.Z,{span:8,style:{color:"#1890FF"},children:"-"}),(0,e.jsx)(ie.Z,{span:8,style:{color:"#52C41A"},children:"-"}),(0,e.jsx)(ie.Z,{span:8,style:{color:"#FF4D4F"},children:"-"})]}):(0,e.jsxs)(We.Z,{children:[(0,e.jsx)(ie.Z,{span:8,style:{color:"#1890FF"},children:u.total}),(0,e.jsx)(ie.Z,{span:8,style:{color:"#52C41A"},children:u.pass}),(0,e.jsx)(ie.Z,{span:8,style:{color:"#FF4D4F"},children:u.fail})]})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.project_id"}),width:120,dataIndex:"project_name",ellipsis:{showTitle:!1},render:function(i){return(0,e.jsx)(Et.K,{ellipsis:{tooltip:!0},children:i||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.product_version"}),width:120,dataIndex:"product_version",ellipsis:{showTitle:!1},render:function(i){return(0,e.jsx)(Et.K,{ellipsis:{tooltip:!0},children:i||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.creators"}),width:80,ellipsis:{showTitle:!1},dataIndex:"creator_name",render:function(i){return(0,e.jsx)(Et.K,{ellipsis:{tooltip:!0},children:i||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.start_time"}),width:180,dataIndex:"start_time",ellipsis:{showTitle:!1},sorter:!0,sortOrder:de==null?void 0:de.start_time,render:function(i){return(0,e.jsx)(Et.K,{ellipsis:{tooltip:!0},children:i||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.list.completion_time"}),width:180,ellipsis:{showTitle:!1},dataIndex:"end_time",render:function(i){return(0,e.jsx)(Et.K,{ellipsis:{tooltip:!0},children:i||"-"})}},{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:170,ellipsis:{showTitle:!1},key:"operation",fixed:"right",render:function(i){var u={color:"#ccc",cursor:"no-drop"},c={color:"#1890FF",cursor:"pointer"};return(0,e.jsxs)(U.Z,{children:[(0,e.jsx)(n.Nv,{accessible:Y.IsWsSetting(),children:(0,e.jsx)("span",{onClick:i.created_from==="offline"?void 0:function(){var M;return(M=ce.current)===null||M===void 0?void 0:M.show(i)},children:(0,e.jsx)(be.Z.Text,{style:i.created_from==="offline"?u:c,children:(0,e.jsx)(n._H,{id:"operation.rerun"})})})}),(0,e.jsx)(n.Nv,{accessible:Y.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:Y.WsMemberOperateSelf(i.creator),fallback:(0,e.jsx)("span",{onClick:function(){return(0,qe.WR)()},children:(0,e.jsx)(be.Z.Text,{style:c,children:(0,e.jsx)(n._H,{id:"operation.delete"})})}),children:(0,e.jsx)(Ae.Z,{title:(0,e.jsx)(n._H,{id:"delete.prompt"}),onConfirm:function(){return rt(i)},okText:(0,e.jsx)(n._H,{id:"operation.ok"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:(0,e.jsx)(be.Z.Text,{style:c,children:(0,e.jsx)(n._H,{id:"operation.delete"})})})})}),(0,e.jsx)(hn.Z,{dreType:"left",ws_id:z,jobInfo:i,origin:"jobList"})]})}}],_=s.useCallback(function(){ae([]),X([]),Z(1)},[]),C=function(i,u){if(!i){_();return}var c=A().cloneDeep(K),M=A().cloneDeep(oe);u?(c=[].concat((0,Fe.Z)(c),[i.id]),M=[].concat((0,Fe.Z)(M),[i])):(c=c.filter(function(xe){return Number(xe)!==Number(i.id)}),M=M.filter(function(xe){return xe&&Number(xe.id)!==Number(i.id)})),ae(c),X(M)},v=function(i){var u=A().isArray(i)?i:[],c=[];u.forEach(function(M){return c.push(M.id)}),ae([].concat((0,Fe.Z)(K),c)),X([].concat((0,Fe.Z)(oe),(0,Fe.Z)(u)))},R=function(i){var u=A().isArray(i)?i:[],c=[];u.forEach(function(M){return c.push(M.id)}),ae(A().difference(K,c)),X(A().differenceBy(oe,u,"id"))},fe={selectedRowKeys:K,onSelect:C,preserveSelectedRowKeys:!1,hideSelectAll:I===1,onSelectAll:function(i,u,c){i?v(c):R(c)}},te=function(){var P=(0,_e.Z)((0,p.Z)().mark(function i(){var u,c,M;return(0,p.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(K.length){ge.next=2;break}return ge.abrupt("return");case 2:return ge.next=4,(0,re.yi)({job_id_li:K});case 4:if(u=ge.sent,c=u.code,M=u.msg,c===200){ge.next=10;break}return(0,qe.EV)(c,M),ge.abrupt("return");case 10:_(),Ve.default.success(l({id:"operation.success"})),N(),q();case 14:case"end":return ge.stop()}},i)}));return function(){return P.apply(this,arguments)}}(),et={padding:"0 16px"};K.length&&(et={padding:"0 16px 106px"});var St=function(i){switch(i.order){case"descend":ee(function(u){return(0,a.Z)((0,a.Z)({},u),{},{data:u==null?void 0:u.data.sort(function(c,M){return c.start_time<M.start_time?1:-1})})});break;case"ascend":ee(function(u){return(0,a.Z)((0,a.Z)({},u),{},{data:u==null?void 0:u.data.sort(function(c,M){return c.start_time>M.start_time?1:-1})})});break;default:break}},Re=It.filter(function(P){var i=P.dataIndex,u=P.key;if(u)return P;if(o[i]){var c;if(!((c=o[i])!==null&&c!==void 0&&c.disabled))return P}});return(0,e.jsxs)(We.Z,{style:et,children:[(0,e.jsx)(_n.sL,{rowKey:"id",columns:Re,refreshDeps:[Y,z,y,de,o],name:"test-job-list",loading:x,dataSource:le==null?void 0:le.data,pagination:!1,rowClassName:gn().result_table_row,rowSelection:fe,onChange:function(i,u,c){var M=c.field,xe=c.order;$(function(ge){return(0,a.Z)((0,a.Z)({},ge),{},(0,ye.Z)({},M,xe))}),St(c)}}),!x&&(0,e.jsx)(Ie.Z,{total:le==null?void 0:le.total,largePage:!0,currentPage:h==null?void 0:h.page_num,pageSize:h==null?void 0:h.page_size,onPageChange:function(i,u){return T(function(c){return(0,a.Z)((0,a.Z)({},c),{},{page_num:i,page_size:u})})}}),I===2&&!!K.length&&(0,e.jsx)(k,{selectedRowKeys:K,setSelectedRowKeys:ae,onOk:te}),I===1&&!!K.length&&(0,e.jsx)(Zn,{children:(0,e.jsx)(vn,{radioType:I,selectedChange:C,allSelectedRowKeys:K,allSelectRowData:oe})}),(0,e.jsx)(mn.Z,{ref:ce})]})},yn=Sn,sr=t(8281),Yt=t(58591),lr=t(40118),Cn=t(29966),ir=t(69230),ct=t(33821),Rn=t(28645),On=t(76613),En=t(99648),wn=["render"],Tn=function(r,d){var o=r.onChange,m=r.columns,l=m===void 0?[]:m,y=r.defaultValue,h=y===void 0?[]:y,T=r.title,B=s.useState(h),I=(0,b.Z)(B,2),Z=I[0],N=I[1];s.useEffect(function(){N(h)},[h]),s.useImperativeHandle(d,function(){return{reset:function(f){N(f)}}});var D=s.useRef(null),z=s.useMemo(function(){return Z.map(function(j){return j.name})},[Z]),Y=s.useMemo(function(){return l.map(function(j){var f=j.label,x=j.name;return{label:f,value:x,disabled:z.includes(x)}})},[l,z]),G=function(f){N(f),o==null||o(f.reduce(function(x,E){var O=Object.values(E),W=(0,b.Z)(O,2),le=W[0],ee=W[1];return x[le]=ee,x},{}))},Ze=function(f,x){var E=Object.prototype.toString.call(f)==="[object Object]"&&f.target?f.target.value:f;G(Z.map(function(O,W){return x===W?(0,a.Z)((0,a.Z)({},O),{},{value:E}):O}))},K=function(f,x){G(Z.map(function(E,O){return x===O?{name:f,value:void 0}:E}))},ae=function(f){G(Z.filter(function(x,E){return f!==E}))},se=function(){var f=Y.filter(function(O){var W=O.disabled;return!W}),x=f[0],E=x.value;N(function(O){return O.concat({name:E,value:void 0})})},we=function(f,x){var E=l.findIndex(function(pe){return pe.name===f.name}),O=l[E],W=O.render,le=(0,ne.Z)(O,wn),ee=(0,a.Z)((0,a.Z)({},le),{},{value:f.value,allowClear:!0,style:{width:"100%"},onChange:function(je){return Ze(je,x)}});return W?s.cloneElement(W,ee):(0,e.jsx)(_t.Z,(0,a.Z)((0,a.Z)({},ee),{},{autoComplete:"off",spellCheck:!1}))},oe=(0,En.Z)(D),X=oe!=null&&oe.width?oe.width:0,ce=X-120-70-80;return(0,e.jsxs)("div",{ref:D,style:{whiteSpace:"nowrap"},children:[(0,e.jsx)(be.Z.Text,{style:{marginRight:8,width:70},children:T}),(0,e.jsx)(U.Z,{direction:"vertical",children:Z.map(function(j,f){var x=j.name;return(0,e.jsxs)(U.Z,{align:"start",children:[(0,e.jsx)(ct.Z,{style:{width:120},value:x,options:Y,onChange:function(O){return K(O,f)},dropdownMatchSelectWidth:!1}),(0,e.jsx)("div",{style:{width:ce},children:we(j,f)}),(0,e.jsxs)(U.Z,{align:"center",style:{paddingTop:5},children:[f===Z.length-1&&Z.length!==l.length&&(0,e.jsx)("span",{onClick:se,children:(0,e.jsx)(be.Z.Link,{children:(0,e.jsx)(Rn.Z,{})})}),Z.length>1&&(0,e.jsx)(On.Z,{style:{color:"#E02020",cursor:"pointer"},onClick:function(){return ae(f)}})]})]},x)})})]})},Xt=s.forwardRef(Tn),or=t(64510),qt=t(87445),ur=t(67448),Dn=t(47548),Pn=["api","dataSet","searchKey"],Mn=["placeholder","value"],Ln=["placeholder","value"],In=["onChange","value"],en,zn=(0,V.ZP)(ct.Z)(en||(en=(0,g.Z)([`
    /* .ant-select-selector { padding-left: 4px!important; }; */
`]))),Fn=function(r){var d,o,m=r.label,l=r.value;return(0,e.jsx)($e.Z,{color:(d=m.props)===null||d===void 0?void 0:d.color,closable:!1,style:{marginRight:3},children:((o=m.props)===null||o===void 0?void 0:o.children)||l})},An=function(r){var d,o,m=r.label,l=r.closable,y=r.onClose,h=r.value;return(0,e.jsx)($e.Z,{color:(d=m.props)===null||d===void 0?void 0:d.color,closable:l,onClose:y,style:{marginRight:3},children:((o=m.props)===null||o===void 0?void 0:o.children)||h})},Lt=function(r){var d=(0,w.UO)(),o=d.ws_id,m=r.api,l=r.dataSet,y=r.searchKey,h=(0,ne.Z)(r,Pn);if(!m)return(0,e.jsx)(ct.Z,(0,a.Z)({},h));var T=(0,n.QT)(function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ws_id:o,page_num:1,page_size:500};return m(K)},{debounceInterval:300}),B=T.data,I=T.loading,Z=T.run,N=h.placeholder,D=h.value,z=(0,ne.Z)(h,Mn);if(!B)return(0,e.jsx)(ct.Z,(0,a.Z)({loading:I,placeholder:N},z));var Y=function(ae){var se;!y||Z((se={},(0,ye.Z)(se,y,ae),(0,ye.Z)(se,"ws_id",o),se))},G=(0,a.Z)((0,a.Z)({},h),{},{notFoundContent:I?(0,e.jsx)(Dn.Z,{size:"small"}):(0,e.jsx)(qt.Z,{image:qt.Z.PRESENTED_IMAGE_SIMPLE}),options:l?B.map(l):B});y&&(G=(0,a.Z)((0,a.Z)({},G),{},{onSearch:Y,filterOption:!1}));var Ze=function(ae){ae||Z({ws_id:o})};return(0,e.jsx)(ct.Z,(0,a.Z)((0,a.Z)({},G),{},{onDropdownVisibleChange:Ze}))},Hn=[{value:"success",label:"Complete",bgColor:"#81BF84"},{value:"pass",label:"Pass",bgColor:"#81BF84"},{value:"running",label:"Running",bgColor:"#649FF6"},{value:"fail",label:"Fail",bgColor:"#C84C5A"},{value:"pending",label:"Pending",bgColor:"#D9D9D9",color:"#1d1d1d"},{value:"stop",label:"Stop",bgColor:"#D9D9D9",color:"#1d1d1d"},{value:"skip",label:"Skip",bgColor:"#D9D9D9",color:"#1d1d1d"}],$n=function(r){return(0,e.jsx)(ct.Z,(0,a.Z)((0,a.Z)({},r),{},{tagRender:Fn,options:Hn.map(function(d){return{value:d.value,label:(0,e.jsx)($e.Z,{color:d.bgColor,style:{color:d.color?d.color:""},children:d.label}),name:d.label}})}))},Bn=function(r){var d=(0,w.UO)(),o=d.ws_id,m=(0,n.QT)(function(){return(0,re.nL)({ws_id:o})},{debounceInterval:300}),l=m.data,y=m.loading,h=r.placeholder,T=r.value,B=(0,ne.Z)(r,Ln);return l?(0,e.jsx)(zn,(0,a.Z)((0,a.Z)({},r),{},{tagRender:An,labelInValue:!0,filterOption:function(Z,N){var D;return((D=N==null?void 0:N.name)!==null&&D!==void 0?D:"").toLowerCase().includes(Z.toLowerCase())},mode:"multiple",options:l.map(function(I){return{value:I.id,label:(0,e.jsx)($e.Z,{color:I.tag_color,style:{color:I.color?I.color:""},children:I.name}),name:I.name}})})):(0,e.jsx)(ct.Z,(0,a.Z)({loading:y,placeholder:h},B))},Nn=function(r){var d=r.onChange,o=r.value,m=(0,ne.Z)(r,In),l=(0,w.UO)(),y=l.ws_id,h=(0,n.QT)(function(){return(0,n.WY)("/api/server/server_snapshot/",{params:{ws_id:y}})}),T=h.data,B=h.loading;if(!T)return(0,e.jsx)(ct.Z,(0,a.Z)({mode:"multiple",loading:B},m));var I=T.map(function(Z){return{label:Z,value:Z}}).filter(Boolean);return(0,e.jsx)(ct.Z,(0,a.Z)((0,a.Z)({},r),{},{mode:"multiple",onSelect:d,options:I,filterOption:function(N,D){var z;return((z=D.value)===null||z===void 0?void 0:z.indexOf(N.trim()))>=0}}))},tn=[{name:"job_id",label:(0,e.jsx)(n._H,{id:"ws.result.list.job_id"}),placeholder:"\u8BF7\u8F93\u5165JobID"},{name:"name",label:(0,e.jsx)(n._H,{id:"ws.result.list.name"}),placeholder:"\u8BF7\u8F93\u5165Job\u540D\u79F0"},{label:(0,e.jsx)(n._H,{id:"ws.result.list.fail_case"}),name:"fail_case",placeholder:"\u8BF7\u8F93\u5165\u591A\u4E2A\u5931\u8D25case,\u591A\u4E2A\u4EE5\u82F1\u6587\u9017\u53F7\u5206\u9694"},{label:(0,e.jsx)(n._H,{id:"ws.result.list.creators"}),name:"creators",placeholder:"\u8BF7\u9009\u62E9\u521B\u5EFA\u4EBA",searchKey:"keyword",render:(0,e.jsx)(Lt,{api:re.iD,mode:"multiple",labelInValue:!0}),dataSet:function(r){return{value:r.id,label:r.last_name}}},{label:(0,e.jsx)(n._H,{id:"ws.result.list.tags"}),name:"tags",placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E",render:(0,e.jsx)(Bn,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.state"}),name:"state",placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",render:(0,e.jsx)($n,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.server"}),name:"server",placeholder:"\u8BF7\u9009\u62E9\u6D4B\u8BD5\u673A",render:(0,e.jsx)(Nn,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.test_suite"}),name:"test_suite",placeholder:"\u8BF7\u9009\u62E9TestSuite",render:(0,e.jsx)(Lt,{api:re.U8,searchKey:"name",mode:"multiple",labelInValue:!0}),dataSet:function(r){return(0,a.Z)((0,a.Z)({},r),{},{value:r.id,label:r.name})}},{label:(0,e.jsx)(n._H,{id:"ws.result.list.job_type_id"}),name:"job_type_id",placeholder:"\u8BF7\u9009\u62E9Job\u7C7B\u578B",render:(0,e.jsx)(Lt,{api:re.Zj,labelInValue:!0}),dataSet:function(r){return{label:r.name,value:r.id}}},{label:(0,e.jsx)(n._H,{id:"ws.result.list.test_type"}),name:"test_type",placeholder:"\u8BF7\u9009\u62E9\u6D4B\u8BD5\u7C7B\u578B",render:(0,e.jsx)(Lt,{options:[{value:"functional",label:(0,e.jsx)(n._H,{id:"functional.test"})},{value:"performance",label:(0,e.jsx)(n._H,{id:"performance.test"})},{value:"business",label:(0,e.jsx)(n._H,{id:"business.test"})}]})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.project_id"}),name:"project_id",placeholder:"\u8BF7\u9009\u62E9\u6240\u5C5E\u9879\u76EE",render:(0,e.jsx)(Lt,{api:re.LZ}),dataSet:function(r){return{value:r.id,label:"".concat(r.name,"(").concat(r.product_name,")")}}}],Kn=t(25399),bt=t.n(Kn),Wn=t(52493),Un=t(20905),kt=function(r){var d=Object.entries(r).reduce(function(o,m){var l=(0,b.Z)(m,2),y=l[0],h=l[1];if(["creation_time","completion_time"].includes(y))return h&&(o[y]=JSON.stringify(h)),o;var T=Object.prototype.toString.call(h);return["[object Undefined]","[object Null]"].includes(T)?o:T==="[object Array]"?(o[y]=JSON.stringify(h.map(function(B){return B.value?B.value:B})),o):T==="[object Object]"?(o[y]=h.value,o):(o[y]=h,o)},{});return d},Vn=t(526),kn=["ws_id","page_size","page_num","tab","search"],Jn=["completion_time","creation_time"],nn=function(r){return(0,e.jsx)(Cn.Z.RangePicker,(0,a.Z)((0,a.Z)({},r),{},{size:"middle",showTime:{format:"HH:mm:ss"},disabledDate:function(o){return bt()().isBefore(o,"days")},format:"YYYY-MM-DD HH:mm:ss"}))},rn="YYYY-MM-DD HH:mm:ss",Qn=["",bt()(bt()().hours(23).minutes(59).seconds(59),"YYYY-MM-DD HH:mm:ss")],an=[{name:"creation_time",value:Qn}],sn=[{name:"job_id",value:""}],ln=function(r){if(!!r)try{var d=JSON.parse(r);if(!d)return;var o=d.start_time,m=d.end_time;return[bt()(o),bt()(m)]}catch(l){console.log(l);return}},Gn=function(r){var d=(0,n.YB)(),o=d.formatMessage,m=r.onChange,l=r.pageQuery,y=s.useState(void 0),h=(0,b.Z)(y,2),T=h[0],B=h[1],I=s.useState({}),Z=(0,b.Z)(I,2),N=Z[0],D=Z[1],z=s.useState({}),Y=(0,b.Z)(z,2),G=Y[0],Ze=Y[1],K=function(O){var W=Object.entries(O).reduce(function(ee,pe){var je=(0,b.Z)(pe,2),de=je[0],$=je[1];return["creators","tags","test_suite","server"].includes(de)&&$&&$.length===0?(ee[de]=void 0,ee):["job_id","name","fail_case"].includes(de)&&$&&$.length>0?(ee[de]=$.trim(),ee):(ee[de]=$,ee)},{}),le=kt(W);D(le)},ae=function(O){var W=Object.entries(O).reduce(function(ee,pe){var je=(0,b.Z)(pe,2),de=je[0],$=je[1];if(!$)return ee;var q=(0,b.Z)($,2),Ge=q[0],rt=q[1];return ee[de]={start_time:bt()(Ge).format(rn),end_time:bt()(rt).format(rn)},ee},{}),le=kt(W);Ze(le)},se=s.useRef(null),we=s.useRef(null),oe=function(){var O,W;(O=se.current)===null||O===void 0||O.reset(an),(W=we.current)===null||W===void 0||W.reset(sn),D({}),Ze({});var le=l.search,ee=l.tab,pe=l.ws_id,je=l.page_num,de=l.page_size,$={search:le,tab:ee,ws_id:pe,page_num:je,page_size:de};B($),m==null||m($)},X=(0,Vn.oM)(o({id:"ws.result.details.copied"})),ce=function(){var O=kt(l),W=location.origin+location.pathname+"?"+(0,Un.stringify)(O);X(W)};(0,s.useEffect)(function(){var E=l.search,O=l.page_size;B((0,a.Z)((0,a.Z)((0,a.Z)({},N),G),{},{search:E,page_num:1,page_size:O}))},[N,l,G]);var j=s.useMemo(function(){var E=l.ws_id,O=l.page_size,W=l.page_num,le=l.tab,ee=l.search,pe=(0,ne.Z)(l,kn),je=pe.completion_time,de=pe.creation_time,$=(0,ne.Z)(pe,Jn),q=function(_){var C=Object.keys(_).filter(function(v){return!!_[v]}).map(function(v){return _[v]?["project_id","job_type_id"].includes(v)?{name:v,value:+_[v]}:["creators","test_suite","tags"].includes(v)?{name:v,value:JSON.parse(_[v]).map(function(R){return+R})}:{name:v,value:_[v]}:{name:v,value:void 0}});return C},Ge=q({completion_time:ln(je),creation_time:ln(de)}),rt=q($);return D($),Ze({completion_time:je,creation_time:de}),{r:Ge,l:rt}},[l]),f=j.r,x=j.l;return(0,e.jsxs)("div",{style:{padding:"0 16px"},children:[(0,e.jsx)(Yt.Z,{style:{margin:"0 0 16px"}}),(0,e.jsxs)(We.Z,{gutter:12,children:[(0,e.jsx)(ie.Z,{span:12,children:(0,e.jsx)(Xt,{ref:we,title:o({id:"ws.result.list.select.condition"}),columns:tn.map(function(E){return(0,a.Z)((0,a.Z)({},E),{},{placeholder:o({id:"ws.result.list.please.placeholder.".concat(E.name)})})}),defaultValue:x.length?x:sn,onChange:K})}),(0,e.jsx)(ie.Z,{span:12,children:(0,e.jsx)(Xt,{ref:se,title:o({id:"ws.result.list.select.time"}),columns:[{label:(0,e.jsx)(n._H,{id:"ws.result.list.start_time"}),name:"creation_time",render:(0,e.jsx)(nn,{})},{label:(0,e.jsx)(n._H,{id:"ws.result.list.completion_time"}),name:"completion_time",render:(0,e.jsx)(nn,{})}],defaultValue:f.length?f:an,onChange:ae})})]}),(0,e.jsx)(Yt.Z,{style:{margin:"16px 0 0"},dashed:!0}),(0,e.jsx)(We.Z,{style:{marginTop:12,marginBottom:12},children:(0,e.jsx)(ie.Z,{span:12,children:(0,e.jsxs)(U.Z,{style:{paddingLeft:65},children:[(0,e.jsx)(ze.Z,{type:"primary",onClick:function(){return m&&m(T)},children:(0,e.jsx)(n._H,{id:"operation.filter"})}),(0,e.jsx)(ze.Z,{onClick:oe,children:(0,e.jsx)(n._H,{id:"operation.reset"})}),(0,e.jsx)(be.Z.Link,{onClick:ce,children:(0,e.jsxs)(U.Z,{size:4,children:[(0,e.jsx)(Wn.r,{}),(0,e.jsx)(be.Z.Text,{children:(0,e.jsx)(n._H,{id:"operation.share"})})]})})]})})})]})},Yn=Gn,Xn=["code"],on,un,cn,qn=`
    color: #1890FF;
    background-color: #E6F7FF;
`,dn=V.ZP.span(on||(on=(0,g.Z)([`
    height: 20px;
    display: inline-block;
    border-radius: 12px;
    font-size: 12px;
    text-align: center;
    line-height: 20px;
    padding: 0 7px;
    margin-top: 2px;
    font-weight: 500;

    `,`
`])),function(H){var r=H.currentActive;return r?qn:"background-color: rgba(0,0,0,.04);"}),er=(0,V.ZP)(U.Z)(un||(un=(0,g.Z)([`
    font-size: 16px;
    font-weight: 500;
    background-color: #fafbfc;
    &:hover{
        color: #1890FF;
        `,` {
            background: #E6F7FF;
        }
    }
`])),dn),tr=(0,V.ZP)(Ye.Z)(cn||(cn=(0,g.Z)([`
    width: 100%;
    overflow: hidden;

    .ant-tabs-nav, 
    div > .ant-tabs-nav {
        margin: 0!important;
    }

    .ant-tabs-nav-wrap {
        background-color: #fafbfc;
        height: 64px;
        border-bottom: 1px solid #f0f0f0;
    }
`]))),Nt={page_num:1,page_size:20},Kt={name:{order:1,disabled:!1},state:{order:2,disabled:!1},test_type:{order:3,disabled:!1},test_result:{order:4,disabled:!1},project_name:{order:5,disabled:!1},product_version:{order:6,disabled:!0},creator_name:{order:7,disabled:!1},start_time:{order:8,disabled:!1},end_time:{order:9,disabled:!1}},Jt="test-job-list-columns-state",nr=function(){var r,d=(0,n.YB)(),o=d.formatMessage,m=(0,w.UO)(),l=m.ws_id,y=(0,w.TH)(),h=y.query,T=(0,n.md)(),B=s.useState((r=h.tab)!==null&&r!==void 0?r:"all"),I=(0,b.Z)(B,2),Z=I[0],N=I[1],D=s.useState((0,a.Z)((0,a.Z)({},Nt),{},{tab:Z,ws_id:l},h)),z=(0,b.Z)(D,2),Y=z[0],G=z[1],Ze=s.useState(1),K=(0,b.Z)(Ze,2),ae=K[0],se=K[1],we=s.useState(!1),oe=(0,b.Z)(we,2),X=oe[0],ce=oe[1],j=s.useState({}),f=(0,b.Z)(j,2),x=f[0],E=f[1];s.useEffect(function(){var $=localStorage.getItem(Jt);if(!$)localStorage.setItem(Jt,JSON.stringify(Kt)),E(Kt);else{var q=JSON.parse($);E(q.product_version?q:(0,a.Z)((0,a.Z)({},q),{},{product_version:Kt.product_version}))}},[]),s.useEffect(function(){JSON.stringify(x)!=="{}"&&localStorage.setItem(Jt,JSON.stringify(x))},[x]);var O=s.useState(),W=(0,b.Z)(O,2),le=W[0],ee=W[1],pe=s.useCallback((0,_e.Z)((0,p.Z)().mark(function $(){var q,Ge,rt;return(0,p.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,re.ZD)({query_count:1,tab:Z,ws_id:l});case 2:if(q=_.sent,Ge=q.code,rt=(0,ne.Z)(q,Xn),Ge===200){_.next=7;break}return _.abrupt("return");case 7:ee(rt);case 8:case"end":return _.stop()}},$)})),[Z,l]);s.useEffect(function(){pe()},[pe,Z,l]),s.useEffect(function(){l!==Y.ws_id&&G((0,a.Z)((0,a.Z)({},Nt),{},{tab:"all",ws_id:l}))},[Y.ws_id,l]);var je=[{tab:o({id:"ws.result.list.all.job"}),key:"all"},T.IsWsSetting()&&{tab:o({id:"ws.result.list.my.job"}),key:"my"},T.IsWsSetting()&&{tab:o({id:"ws.result.list.collection"}),key:"collection"}].filter(Boolean),de=function(q){N(q),G((0,a.Z)((0,a.Z)({tab:q},Nt),{},{ws_id:l}))};return(0,e.jsx)(Le.Provider,{value:{initialColumns:x,setInitialColumns:E,DEFAULT_COLUMNS_SET_DATA:Kt},children:(0,e.jsxs)(s.Fragment,{children:[(0,e.jsx)(tr,{onTabClick:de,activeKey:Z,children:je.map(function($){return(0,e.jsxs)(Ye.Z.TabPane,{tab:(0,e.jsxs)(er,{size:4,children:[(0,e.jsx)("span",{children:$.tab}),(0,e.jsx)(dn,{currentActive:Z===$.key,children:le?le["".concat($.key==="all"?"ws":$.key,"_job")]:0})]}),children:[(0,e.jsx)(ut,{stateCount:le,pageQuery:Y,setPageQuery:G,selectionType:ae,onSelectionChange:se,onFilterChange:ce}),X&&(0,e.jsx)(Yn,{columns:tn.map(function(q){return(0,a.Z)((0,a.Z)({},q),{},{placeholder:o({id:"ws.result.list.please.placeholder.".concat(q.name)})})}),pageQuery:Y,onChange:function(Ge){return G((0,a.Z)((0,a.Z)({tab:Z,ws_id:l},Ge),Nt))}})]},$.key)})}),(0,e.jsx)(yn,{pageQuery:Y,countRefresh:pe,setPageQuery:G,radioValue:ae,setRadioValue:se})]})})},rr=nr},79390:function(gt,Ne,t){"use strict";t.d(Ne,{sL:function(){return Ct},ny:function(){return F},Fu:function(){return ft}});var p=t(20418),ne=t(39190),_e=t(488),a=t(26388),b=t(11407),Ke=t(68077),Ye=t(2605),at=t(74127),U=t(41428),g=t(22374),s=t(48434),V=t(97939),n=t(99648),w=t(52454),re=["width","onResizeStart","onResize","onResizeStop","resize"],zt=["columns","name","onColumnsChange"],_t,Ft,st,Me=V.ZP.div(_t||(_t=(0,U.Z)([`
    position: relative;
    width: 100%;
`]))),yt=V.ZP.div.attrs(function(De){return{style:{left:De.left,height:De==null?void 0:De.height}}})(Ft||(Ft=(0,U.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),At=(0,V.ZP)(s.Resizable)(st||(st=(0,U.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(De){var L=De.resize;return L?"col-resize":"default"}),We=function(L){var Se=L.width,me=L.onResizeStart,ue=L.onResize,Le=L.onResizeStop,Pe=L.resize,e=(0,_e.Z)(L,re);return(0,w.jsx)(At,(0,p.Z)((0,p.Z)({width:Se||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:me,onResize:ue,onResizeStop:Le,resize:Pe?1:0},e),{},{children:(0,w.jsx)("th",(0,p.Z)({},e))}))},Xe=function(L){var Se=L.columns,me=Se===void 0?[]:Se,ue=L.name,Le=L.onColumnsChange,Pe=(0,_e.Z)(L,zt),e=g.useState(0),lt=(0,ne.Z)(e,2),vt=lt[0],it=lt[1],Ee=g.useState(0),ot=(0,ne.Z)(Ee,2),ut=ot[0],ye=ot[1],Fe=g.useState(!1),jt=(0,ne.Z)(Fe,2),Ae=jt[0],mt=jt[1],ie=g.useRef(null),Ue=(0,n.Z)(ie),Ve=function(he){return function(ke,A){var Ie;if((0,at.Z)(A),!!me[he].ellipsis){var nt=ke.clientX,ze=nt-((Ie=ie.current)===null||Ie===void 0?void 0:Ie.getBoundingClientRect().x);ye(ze),it(ze),mt(!0)}}},qe=function(){return function(he){var ke,A=he.clientX,Ie=A-((ke=ie.current)===null||ke===void 0?void 0:ke.getBoundingClientRect().x);it(Ie)}},Tt=function(he){return function(ke,A){var Ie,nt=A.size,ze=ke.clientX,$t=ze-((Ie=ie.current)===null||Ie===void 0?void 0:Ie.getBoundingClientRect().x),$e=(0,Ye.Z)(me);if($e[he].ellipsis){var Je=nt.width+=$t-ut,xt=$e[he],Rt=xt.dataIndex,Zt=xt.key;Je>20&&($e[he]=(0,p.Z)((0,p.Z)({},$e[he]),{},{width:Je}),ue&&ft(ue,Rt||Zt,Je),Le==null||Le())}it(0),ye(0),mt(!1)}},Dt=g.useMemo(function(){return me.reduce(function(He,he){return he.width?He+=he==null?void 0:he.width:He},0)},[me]);return(0,w.jsxs)(Me,{ref:ie,className:"resize-table-wrapper",children:[(0,w.jsx)(Ke.Z,(0,p.Z)((0,p.Z)({},Pe),{},{components:{header:{cell:We}},scroll:(L==null?void 0:L.scroll)||{x:Dt||(Ue==null?void 0:Ue.width)},columns:me.filter(Boolean).map(function(He,he){return(0,p.Z)((0,p.Z)({},He),{},{onHeaderCell:function(A){return{resize:!!He.ellipsis,width:A.width,onResizeStart:Ve(he),onResize:qe(),onResizeStop:Tt(he)}}})})})),Ae&&(0,w.jsx)(yt,{height:Ue==null?void 0:Ue.height,left:vt||ut})]})},Oe=Xe,Ht=["name","columns","refreshDeps","onColumnsChange"],be="umi_locale",F=function(L,Se){var me=localStorage.getItem(L),ue=localStorage.getItem(be)||"zh-CN";if(!!me)return JSON.parse(me)["".concat(ue,"-").concat(Se)]},ft=function(L,Se,me){var ue=localStorage.getItem(L),Le=localStorage.getItem(be)||"zh-CN",Pe=(0,a.Z)({},"".concat(Le,"-").concat(Se),me);ue?localStorage.setItem(L,JSON.stringify(Object.assign(JSON.parse(ue),Pe))):localStorage.setItem(L,JSON.stringify(Pe))},Ct=function(L){var Se=L.name,me=L.columns,ue=L.refreshDeps,Le=ue===void 0?[]:ue,Pe=L.onColumnsChange,e=(0,_e.Z)(L,Ht),lt=g.useState([]),vt=(0,ne.Z)(lt,2),it=vt[0],Ee=vt[1],ot=function(){return(me==null?void 0:me.filter(Boolean).map(function(ye){var Fe=ye.dataIndex,jt=ye.key,Ae=ye.width,mt=Fe||jt,ie=F(Se,mt);!ie&&Ae&&ft(Se,mt,Ae);var Ue=ie||Ae;return Ue&&(ye.width=Ue),ye}))||[]};return g.useEffect(function(){Ee(ot())},Le),(0,w.jsx)(Oe,(0,p.Z)({name:Se,columns:it,setColumns:Ee,size:"small",onColumnsChange:function(){Pe==null||Pe(),Ee(ot())}},e))}},52493:function(gt,Ne,t){"use strict";t.d(Ne,{r:function(){return at}});var p=t(22374),ne,_e=["svgRef","title"];function a(){return a=Object.assign?Object.assign.bind():function(g){for(var s=1;s<arguments.length;s++){var V=arguments[s];for(var n in V)Object.prototype.hasOwnProperty.call(V,n)&&(g[n]=V[n])}return g},a.apply(this,arguments)}function b(g,s){if(g==null)return{};var V=Ke(g,s),n,w;if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(g);for(w=0;w<re.length;w++)n=re[w],!(s.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(g,n)||(V[n]=g[n]))}return V}function Ke(g,s){if(g==null)return{};var V={},n=Object.keys(g),w,re;for(re=0;re<n.length;re++)w=n[re],!(s.indexOf(w)>=0)&&(V[w]=g[w]);return V}var Ye=function(s){var V=s.svgRef,n=s.title,w=b(s,_e);return p.createElement("svg",a({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:V},w),n?p.createElement("title",null,n):null,ne||(ne=p.createElement("g",{id:"\\u5206\\u6790",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},p.createElement("g",{id:"0.\\u6027\\u80FD-\\u5185\\u7F51-\\u9009\\u62E9\\u6807\\u7B7E",transform:"translate(-1194.000000, -133.000000)",fill:"#000000"},p.createElement("g",{id:"Group-21",transform:"translate(20.000000, 110.000000)"},p.createElement("g",{id:"\\u94FE\\u63A5",transform:"translate(1172.000000, 21.000000)"},p.createElement("rect",{id:"Rectangle",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),p.createElement("path",{d:"M11.91,7.92 C11.7153722,8.09503346 11.4186893,8.09033311 11.2297039,7.90922206 C11.0407184,7.72811102 11.0234032,7.43189657 11.19,7.23 L12.06,6.32 C12.709515,5.51696592 12.6264975,4.34816777 11.87,3.645 C11.115,2.86 10,2.79 9.37,3.45 L6.94,6 C6.29048502,6.80303408 6.37350246,7.97183223 7.13,8.675 C7.3238618,8.87001873 7.3238618,9.18498127 7.13,9.38 C7.0361167,9.47465633 6.90831877,9.52789916 6.775,9.52789916 C6.64168123,9.52789916 6.5138833,9.47465633 6.42,9.38 C5.29380253,8.29148422 5.21051969,6.51405308 6.23,5.325 L8.66,2.79 C9.705,1.7 11.48,1.79 12.61,2.99 C13.7040886,4.07696429 13.7802373,5.82185565 12.785,7 L11.91,7.92 Z M3.59,8.08 C3.78462784,7.90496654 4.0813107,7.90966689 4.27029614,8.09077794 C4.45928159,8.27188898 4.47659677,8.56810343 4.31,8.77 L3.44,9.68 C2.79048502,10.4830341 2.87350246,11.6518322 3.63,12.355 C4.385,13.14 5.5,13.21 6.13,12.55 L8.56,10 C9.20951498,9.19696592 9.12649754,8.02816777 8.37,7.325 C8.1761382,7.12998127 8.1761382,6.81501873 8.37,6.62 C8.4638833,6.52534367 8.59168123,6.47210084 8.725,6.47210084 C8.85831877,6.47210084 8.9861167,6.52534367 9.08,6.62 C10.2061975,7.70851578 10.2894803,9.48594692 9.27,10.675 L6.84,13.21 C5.795,14.3 4.02,14.21 2.89,13.01 C1.79591137,11.9230357 1.71976275,10.1781444 2.715,9 L3.59,8.08 Z",id:"Shape",fillOpacity:.65})))))))},at=p.forwardRef(function(g,s){return p.createElement(Ye,a({svgRef:s},g))}),U=t.p+"static/icon_link.2c6ce887.svg"}}]);
