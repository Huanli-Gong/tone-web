(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[2715],{88062:function(ge){ge.exports={pagination:"pagination___ooSI8",hidden:"hidden___3mzqN",table_empty:"table_empty___KRJ5E"}},37231:function(ge){ge.exports={drawerWarper:"drawerWarper___zY5oE","upload-help-text":"upload-help-text___1cq3v",contentWarper:"contentWarper___2eAR4"}},8316:function(ge){ge.exports={TestUpload_root:"TestUpload_root___221c-",not_logged_in:"not_logged_in___1Kcs9",content_header:"content_header___34key",item1:"item1___1dMhG",content_table:"content_table___2liH5"}},82078:function(ge,de,r){"use strict";var s=r(67448),m=r(47548),h=r(36142),Q=r(76837),D=r(20418),$e=r(488),B=r(22374),Y=r(22812),P=r(88062),f=r.n(P),i=r(79390),W=r(52454),Be=["total","loading","handlePage","showPagination","page","paginationBottom","pageSize","className"],G=function(Z){var we=Z.total,X=we===void 0?0:we,S=Z.loading,xe=Z.handlePage,ye=Z.showPagination,We=ye===void 0?!0:ye,Ee=Z.page,ne=Ee===void 0?1:Ee,Fe=Z.paginationBottom,Te=Fe===void 0?!1:Fe,Re=Z.pageSize,Pe=Re===void 0?10:Re,Oe=Z.className,o=(0,$e.Z)(Z,Be),a=(0,Y.YB)(),n=a.formatMessage,c=(0,B.useRef)(null),e=function u(p){var R=p.offsetTop;return p.offsetParent!=null&&(R+=u(p.offsetParent)),R},C=function(){var p=e(c.current);if(p!=0){var R=p-200;p<=377&&(R=p-377),window.scrollTo({top:R,behavior:"smooth"})}};return(0,W.jsxs)(m.Z,{spinning:S,children:[(0,W.jsx)("div",{ref:c}),(0,W.jsx)(i.sL,(0,D.Z)({size:"small",className:"".concat(f().table_empty," ").concat(Oe),pagination:!1},o)),We&&(0,W.jsx)("div",{className:"".concat(Te?null:"common_pagination"," ").concat(!S&&X?f().pagination:f().hidden),children:X>=1&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)("div",{className:X==0?f().hidden:"",children:n({id:"pagination.total.strip"},{data:X})}),(0,W.jsx)(Q.Z,{className:X==0?f().hidden:"",showQuickJumper:!0,showSizeChanger:!0,current:ne,pageSize:Pe,defaultCurrent:1,size:"small",onChange:function(p,R){xe(p,R),C()},onShowSizeChange:function(p,R){xe(p,R),C()},total:X})]})})]})};de.Z=G},85879:function(ge,de,r){"use strict";var s=r(53374),m=r(61674),h=r(41428),Q=r(22812),D=r(97939),$e=r(39935),B=r(52454),Y,P=D.ZP.span(Y||(Y=(0,h.Z)([`
  font-family: PingFangSC;
  font-weight: 400;
  font-size: 14px;
  color: #1890FF;
  letter-spacing: 0;
  line-height: 24px;
  cursor: pointer;
`])));de.Z=function(){var f=(0,Q.YB)(),i=f.formatMessage,W=function(){return Q.m8.push("/login?redirect_url=".concat(window.location.pathname))};return(0,B.jsx)(m.Z,{message:(0,B.jsxs)("div",{children:[(0,B.jsx)("span",{children:i({id:"you.haven.not.signed.in"})}),(0,B.jsx)(P,{onClick:W,children:i({id:"go.to.login"})})]}),type:"info",showIcon:!0,closable:!0})}},20662:function(ge,de,r){"use strict";r.d(de,{VX:function(){return Q},Ir:function(){return D},ry:function(){return $e},nM:function(){return B},Zf:function(){return Y},OV:function(){return P},c0:function(){return f},lk:function(){return i},$L:function(){return W},YK:function(){return Be},ty:function(){return G},th:function(){return Qe},_L:function(){return Z},E7:function(){return we},h4:function(){return X},GW:function(){return S},cQ:function(){return xe},fW:function(){return ye},xN:function(){return We},h5:function(){return Ee},yE:function(){return ne},vS:function(){return Fe},Qj:function(){return Te},o_:function(){return Re},NA:function(){return Pe},ff:function(){return Oe}});var s=r(35832),m=r(32326),h=r(22812),Q=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),D=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),$e=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),B=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Y=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/drag/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),P=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/product/drag/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),f=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/drag/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),i=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/drag/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),W=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Be=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),G=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Qe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/project/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Z=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),we=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/project/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),X=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),S=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),xe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/repository/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),ye=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),We=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Ee=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),ne=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/relation/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Fe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{params:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Te=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Re=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{method:"put",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Pe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/branch/",{method:"delete",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}(),Oe=function(){var o=(0,m.Z)((0,s.Z)().mark(function a(n){return(0,s.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.WY)("/api/sys/check/gitlab/",{method:"post",data:n}));case 1:case"end":return e.stop()}},a)}));return function(n){return o.apply(this,arguments)}}()},19871:function(ge,de,r){"use strict";r.r(de),r.d(de,{default:function(){return Mt}});var s=r(67448),m=r(47548),h=r(46721),Q=r(94867),D=r(35832),$e=r(81138),B=r(96146),Y=r(32326),P=r(39190),f=r(22374),i=r(22812),W=r(85879),Be=r(20632),G=r(71853),Qe=r(57359),Z=r(34423),we=r(13059),X=r(53676),S=r(20418),xe=r(488),ye=r(24812),We=r(74066),Ee=r(82078),ne=r(39935),Fe=r(67515),Te=r(41083),Re=r(14320),Pe=r(53479),Oe=r(20693),o=r(3278),a=r(69230),n=r(33821),c=r(53374),e=r(61674),C=r(65790),u=r(17187),p=r(2656);function R(v){return K.apply(this,arguments)}function K(){return K=(0,Y.Z)((0,D.Z)().mark(function v(g){return(0,D.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,i.WY)("/api/user/summary",{method:"GET",params:g}));case 1:case"end":return l.stop()}},v)})),K.apply(this,arguments)}function Ze(v){return ae.apply(this,arguments)}function ae(){return ae=(0,Y.Z)((0,D.Z)().mark(function v(g){return(0,D.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,i.WY)("/api/job/test/upload/offline/",{method:"GET",params:g}));case 1:case"end":return l.stop()}},v)})),ae.apply(this,arguments)}function pe(v){return J.apply(this,arguments)}function J(){return J=(0,Y.Z)((0,D.Z)().mark(function v(g){return(0,D.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,i.WY)("/api/job/test/upload/offline/",{method:"DELETE",data:g}));case 1:case"end":return l.stop()}},v)})),J.apply(this,arguments)}function De(){return V.apply(this,arguments)}function V(){return V=(0,Y.Z)((0,D.Z)().mark(function v(){var g,j,l=arguments;return(0,D.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=l.length>0&&l[0]!==void 0?l[0]:{},j=new FormData,Object.keys(g).forEach(function(O){g[O]&&j.append(O,g[O])}),w.abrupt("return",(0,i.WY)("/api/job/test/upload/offline/",{method:"post",data:j}));case 4:case"end":return w.stop()}},v)})),V.apply(this,arguments)}function He(){return je.apply(this,arguments)}function je(){return je=_asyncToGenerator(_regeneratorRuntime().mark(function v(){return _regeneratorRuntime().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",request("/api/product_list",{method:"GET"}));case 1:case"end":return j.stop()}},v)})),je.apply(this,arguments)}function Ae(){return fe.apply(this,arguments)}function fe(){return fe=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,j,l,N,w=arguments;return _regeneratorRuntime().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return g=w.length>0&&w[0]!==void 0?w[0]:{},j=g.parentId,l=g.searchKeyword,N=l?"/api/project_list/".concat(j,"/").concat(l):"/api/project_list/".concat(j),z.abrupt("return",request(N,{method:"GET"}));case 4:case"end":return z.stop()}},v)})),fe.apply(this,arguments)}function ie(){return q.apply(this,arguments)}function q(){return q=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,j,l,N,w,O,z=arguments;return _regeneratorRuntime().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return g=z.length>0&&z[0]!==void 0?z[0]:{},j=g.page,l=g.pageSize,N=g.parentId,w=g.searchKeyword,O=w?"/api/baseline/".concat(w,"/").concat(N,"/").concat(j,"/").concat(l):"/api/baseline/".concat(N,"/").concat(j,"/").concat(l),ee.abrupt("return",request(O,{method:"GET"}));case 4:case"end":return ee.stop()}},v)})),q.apply(this,arguments)}function pt(){return Ce.apply(this,arguments)}function Ce(){return Ce=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,j,l,N,w,O=arguments;return _regeneratorRuntime().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return g=O.length>0&&O[0]!==void 0?O[0]:{},j=g.searchKeyword,l=g.page,N=g.pageSize,w=j?"/api/biz_list/".concat(j,"/").concat(l,"/").concat(N):"/api/biz_list/".concat(l,"/").concat(N),T.abrupt("return",request(w,{method:"GET"}));case 4:case"end":return T.stop()}},v)})),Ce.apply(this,arguments)}function Ct(){return Ye.apply(this,arguments)}function Ye(){return Ye=_asyncToGenerator(_regeneratorRuntime().mark(function v(){var g,j,l=arguments;return _regeneratorRuntime().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return g=l.length>0&&l[0]!==void 0?l[0]:{},j=new FormData,Object.keys(g).forEach(function(O){j.append(O,g[O])}),w.abrupt("return",request("/api/job/test/upload/tar/",{method:"post",data:j}));case 4:case"end":return w.stop()}},v)})),Ye.apply(this,arguments)}var ve=r(29143),F=r(34517),me=r(90770),le=r(45972),oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},Xe=oe,U=r(25078),ot=function(g,j){return f.createElement(U.Z,(0,le.Z)((0,le.Z)({},g),{},{ref:j,icon:Xe}))};ot.displayName="UploadOutlined";var Ke=f.forwardRef(ot),t=r(52454),Je=Te.Z.confirm,ut=(0,f.forwardRef)(function(v,g){var j=(0,i.YB)(),l=j.formatMessage,N=(0,f.useState)([]),w=(0,P.Z)(N,2),O=w[0],z=w[1],T=function(se){var _=se.type,be=se.size,_e=["application/x-tar","application/x-gzip"],te=_e.indexOf(_)>=0;if(!te)return B.default.error(l({id:"upload.list.Drawer.valid.type"})),!1;var Ie=be/1024/1024<=500;return Ie?(z([se]),v.onChange(se),v.callback(se),!1):(Je({title:l({id:"upload.list.Drawer.confirm.title"}),content:l({id:"upload.list.Drawer.confirm.content"}),cancelText:l({id:"operation.cancel"}),okText:l({id:"operation.confirm"}),icon:(0,t.jsx)(me.Z,{style:{color:"#f5222d"}})}),!1)},ee=function(se){var _=O.filter(function(be){return be.url!==se.url});z(_),_.length?(v.onChange(_[0]),v.callback(_[0])):(v.onChange(void 0),v.callback(void 0))};return(0,t.jsx)("div",{ref:g,children:(0,t.jsx)(F.Z,{accept:"application/x-tar,application/x-gzip",name:"file",beforeUpload:T,fileList:O,onRemove:ee,children:(0,t.jsx)(Q.Z,{icon:(0,t.jsx)(Ke,{style:{marginRight:10}}),disabled:!!O.length,children:(0,t.jsx)(i._H,{id:"upload.list.Drawer.upload.button"})})})})}),ft=ut,St=r(37231),ke=r.n(St),ze=(0,f.forwardRef)(function(v,g){var j=(0,i.YB)(),l=j.formatMessage,N=(0,ye.UO)(),w=N.ws_id,O=v.visible,z=v.baselines,T=v.projects,ee=v.products,tt=u.Z.useForm(),se=(0,P.Z)(tt,1),_=se[0],be=(0,f.useState)(!1),_e=(0,P.Z)(be,2),te=_e[0],Ie=_e[1],rt=(0,f.useState)(""),I=(0,P.Z)(rt,2),ue=I[0],Ge=I[1],Ue=(0,f.useState)(""),mt=(0,P.Z)(Ue,2),nt=mt[0],ct=mt[1],Ne=(0,f.useState)(""),at=(0,P.Z)(Ne,2),ht=at[0],gt=at[1],yt=(0,f.useState)([]),Se=(0,P.Z)(yt,2),M=Se[0],ce=Se[1],x=(0,f.useState)(""),d=(0,P.Z)(x,2),y=d[0],H=d[1],Me=(0,f.useState)(!0),Le=(0,P.Z)(Me,2),Ve=Le[0],st=Le[1],he=u.Z.useWatch("project_id",_),it=u.Z.useWatch("product_id",_),L=f.useMemo(function(){return T.length?Object.prototype.toString.call(it)!=="[object Number]"?[]:T.filter(function(b){var E=b.product_id;return E===it}):[]},[T,it]);f.useEffect(function(){if(he)for(var b=T.length,E=0;E<b;E++){var $=T[E],A=$.id,re=$.product_version;A===he&&_.setFieldValue("product_version",re)}},[he,T]);var Lt=function(){var b=(0,Y.Z)((0,D.Z)().mark(function E($){var A,re;return(0,D.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.prev=0,k.next=3,(0,p.Wt)((0,S.Z)({ws_id:w},$));case 3:A=k.sent,A.code===200?(re=A.data||[],ce(re.filter(function(dt){return dt.enable}))):B.default.error(A.msg||l({id:"request.failed"})),k.next=10;break;case 7:k.prev=7,k.t0=k.catch(0),console.log(k.t0);case 10:case"end":return k.stop()}},E,null,[[0,7]])}));return function($){return b.apply(this,arguments)}}();(0,f.useEffect)(function(){O&&Lt({})},[O]);var Zt=function(){try{var E,$=_.getFieldsValue(),A=!1;(E=Object.keys($))===null||E===void 0||E.forEach(function(re){!$[re]&&re!=="baseline_id"&&re!=="ip"&&(A=!0)}),st(A)}catch(re){st(!0)}};(0,f.useEffect)(function(){return window.addEventListener("click",Zt),function(){window.removeEventListener("click",Zt)}},[]);var Et=function(){Ge(""),ct(""),gt(""),ce([]),H("")},Tt=function(){Et(),_.resetFields(),v.callback({title:""})},$t=function(){_.validateFields().then(function(){var E=(0,Y.Z)((0,D.Z)().mark(function $(A){var re,jt,k,dt,Rt;return(0,D.Z)().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(re=A.product_version,re.trim()){lt.next=4;break}return _.setFields([{name:"product_version",value:null,errors:[l({id:"upload.list.Drawer.product_version.message"})]}]),lt.abrupt("return");case 4:return Ie(!0),jt=(0,S.Z)((0,S.Z)({ws_id:w,server_type:ue,test_type:nt},A),{},{product_version:re.trim()}),lt.next=8,De(jt);case 8:k=lt.sent,dt=k.code,Rt=k.msg,Ie(!1),dt===200?(B.default.success(l({id:"request.create.success"})),Et(),_.resetFields(),v.callback({title:"ok"})):B.default.error(Rt||l({id:"request.create.failed"}));case 13:case"end":return lt.stop()}},$)}));return function($){return E.apply(this,arguments)}}()).catch(function(){Ie(!1)})},Bt=function(){_.setFieldsValue({project_id:void 0})},Wt=function(){_.setFieldsValue({project_id:void 0}),Zt()},Ft=function(E){H(E),_.setFieldsValue({baseline_id:void 0});var $=M.filter(function(dt){return dt.id===E});if($.length){var A=$[0],re=A.server_type,jt=A.test_type,k=A.has_baseline;Ge(re),ct(jt),gt(k)}},Ut=function(){H(""),_.setFieldsValue({baseline_id:void 0}),Zt()},bt=l({id:"please.select"});return(0,t.jsx)(Te.Z,{title:(0,t.jsx)(i._H,{id:"upload.list.Drawer.title"}),width:460,open:O,maskClosable:!te,onCancel:te?function(){}:Tt,className:ke().drawerWarper,footer:(0,t.jsx)("div",{style:{textAlign:"right"},children:(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)(Q.Z,{onClick:Tt,disabled:te,children:(0,t.jsx)(i._H,{id:"operation.cancel"})}),(0,t.jsx)(Q.Z,{onClick:$t,type:"primary",disabled:Ve||te,children:(0,t.jsx)(i._H,{id:"operation.confirm"})})]})}),children:(0,t.jsxs)("div",{className:ke().contentWarper,ref:g,children:[(0,t.jsx)(e.Z,{message:(0,t.jsx)(i._H,{id:"upload.list.Drawer.upload.Alert"}),type:"info",showIcon:!0,style:{marginBottom:20,padding:"4px 15px"}}),(0,t.jsx)(m.Z,{spinning:te,children:(0,t.jsxs)(u.Z,{form:_,layout:"vertical",children:[(0,t.jsx)(u.Z.Item,{label:(0,t.jsx)(i._H,{id:"upload.list.Drawer.product"}),name:"product_id",rules:[{required:!0,message:bt}],children:(0,t.jsx)(n.Z,{allowClear:!0,style:{width:"100%"},placeholder:(0,t.jsx)(i._H,{id:"upload.list.Drawer.product.placeholder"}),getPopupContainer:function(E){return E.parentNode},onChange:Bt,onClear:Wt,autoFocus:!0,showSearch:!0,filterOption:function(E,$){return $.label.toLowerCase().indexOf(E.toLowerCase())>=0},options:ee==null?void 0:ee.map(function(b){return{value:b.id,label:b.name}})})}),(0,t.jsx)(u.Z.Item,{label:(0,t.jsx)(i._H,{id:"upload.list.Drawer.project"}),name:"project_id",rules:[{required:!0,message:bt}],children:(0,t.jsx)(n.Z,{placeholder:(0,t.jsx)(i._H,{id:"upload.list.Drawer.project.placeholder"}),getPopupContainer:function(E){return E.parentNode},disabled:!it||!(L!=null&&L.length),showSearch:!0,filterOption:function(E,$){return $.label.toLowerCase().indexOf(E.toLowerCase())>=0},options:L==null?void 0:L.map(function(b){return{value:b.id,label:b.name}})})}),(0,t.jsx)(u.Z.Item,{label:l({id:"upload.list.Drawer.product_version"}),name:"product_version",rules:[{required:!0,message:l({id:"upload.list.Drawer.product_version.message"})}],children:(0,t.jsx)(o.Z,{placeholder:l({id:"upload.list.Drawer.product_version.placeholder"}),disabled:!he,allowClear:!0})}),(0,t.jsx)(u.Z.Item,{label:(0,t.jsx)(i._H,{id:"upload.list.Drawer.job_type"}),name:"job_type_id",rules:[{required:!0,message:bt}],children:(0,t.jsx)(n.Z,{allowClear:!0,placeholder:(0,t.jsx)(i._H,{id:"upload.list.Drawer.job_type.placeholder"}),getPopupContainer:function(E){return E.parentNode},onChange:Ft,onClear:Ut,showSearch:!0,filterOption:function(E,$){var A;return((A=$.search)===null||A===void 0?void 0:A.toLowerCase().indexOf(E.toLowerCase()))>=0},options:M==null?void 0:M.map(function(b){return{value:b.id,search:b.name,label:(0,t.jsxs)(Pe.Z,{justify:"space-between",children:[(0,t.jsx)("span",{children:b.name}),(0,t.jsxs)("span",{children:[(0,ne.lN)(b.test_type,l)," | ",(0,ne.a5)(b.server_type,l)]})]})}})})}),ht?(0,t.jsx)(u.Z.Item,{label:(0,t.jsx)(i._H,{id:"upload.list.Drawer.baseline"}),name:"baseline_id",rules:[{required:!1,message:bt}],children:(0,t.jsx)(n.Z,{allowClear:!0,placeholder:(0,t.jsx)(i._H,{id:"upload.list.Drawer.baseline.placeholder"}),getPopupContainer:function(E){return E.parentNode},disabled:!y||!(z!=null&&z.length),showSearch:!0,filterOption:function(E,$){return $.label.toLowerCase().indexOf(E.toLowerCase())>=0},options:z==null?void 0:z.map(function(b){return{label:b.name,value:b.id}})})}):null,(0,t.jsx)(u.Z.Item,{label:(0,t.jsx)(i._H,{id:"upload.list.Drawer.ip"}),name:"ip",rules:[{required:!1}],children:(0,t.jsx)(o.Z,{placeholder:l({id:"upload.list.Drawer.ip.placeholder"})})}),(0,t.jsx)(u.Z.Item,{label:(0,t.jsx)(i._H,{id:"upload.list.Drawer.result"}),name:"file",rules:[{required:!0,message:l({id:"upload.list.Drawer.upload.message"})}],extra:l({id:"upload.list.Drawer.upload.supportText"})+": .tar\u3001.tar.gz",children:(0,t.jsx)(ft,{callback:Zt})})]})})]})})}),qe=ze,wt=r(6130),et=r(93299),Pt=r(44851),Ot=r.n(Pt),xt=r(20662),Dt=r(72100),zt=["code","msg","total"],_t=(0,f.forwardRef)(function(v,g){var j=(0,i.YB)(),l=j.formatMessage,N=(0,ye.UO)(),w=N.ws_id,O=f.useState({data:[],total:0,page_num:1,page_size:20}),z=(0,P.Z)(O,2),T=z[0],ee=z[1],tt=f.useState(!1),se=(0,P.Z)(tt,2),_=se[0],be=se[1],_e=(0,i.md)(),te={page_num:1,page_size:20,ws_id:w},Ie=f.useState(te),rt=(0,P.Z)(Ie,2),I=rt[0],ue=rt[1],Ge=(0,i.QT)(function(){return(0,xt.YK)({ws_id:w,page_size:999})},{initialData:[]}),Ue=Ge.data,mt=(0,i.QT)(function(){return(0,xt.VX)({ws_id:w,page_size:999})},{initialData:[]}),nt=mt.data,ct=(0,i.QT)(function(){return(0,Dt.bU)({ws_id:w})},{initialData:[]}),Ne=ct.data,at=function(){var x=(0,Y.Z)((0,D.Z)().mark(function d(){var y,H,Me,Le,Ve,st,he=arguments;return(0,D.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return y=he.length>0&&he[0]!==void 0?he[0]:I,v.loadingCallback({loading:!0}),L.prev=2,L.next=5,Ze(y);case 5:if(L.t0=L.sent,L.t0){L.next=8;break}L.t0={};case 8:H=L.t0,Me=H.code,Le=H.msg,Ve=H.total,st=(0,xe.Z)(H,zt),Me===200?(ee((0,S.Z)((0,S.Z)({},st),{},{total:Ve})),v.refreshCallback(Ve)):B.default.error(Le||l({id:"request.failed"})),v.loadingCallback({loading:!1}),L.next=20;break;case 17:L.prev=17,L.t1=L.catch(2),v.loadingCallback({loading:!1});case 20:case"end":return L.stop()}},d,null,[[2,17]])}));return function(){return x.apply(this,arguments)}}(),ht=function(d){pe({pk:d.id}).then(function(y){if(y.code===200){B.default.success(l({id:"request.delete.success"}));var H=T.page_num,Me=T.page_size,Le=T.total,Ve=Le===void 0?0:Le,st=Ve%Me==1,he=Math.floor(Ve/Me);st&&he&&he+1<=H?ue(function(it){return(0,S.Z)((0,S.Z)({},it),{},{page_num:he})}):at()}else B.default.error(y.msg||l({id:"request.delete.failed"}))}).catch(function(y){console.log(y)})};(0,f.useEffect)(function(){at()},[I]),(0,f.useImperativeHandle)(g,function(){return{showModal:function(){be(!0)}}});var gt=function(d){var y=d.title;y==="ok"&&ue(te),be(!1)},yt=function(d,y){ue(function(H){return(0,S.Z)((0,S.Z)({},H),{},{page_num:d,page_size:y})})},Se=function(d){var y=d.content,H=y===void 0?"":y;return(0,t.jsx)(X.Z,{placement:"top",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i._H,{id:"upload.list.table.state.question"}),H]}),children:(0,t.jsx)(We.Z,{style:{color:"rgba(0, 0, 0, 0.55)"}})})},M=function(d){var y=d.title,H=y===void 0?"":y,Me=d.content,Le=Me===void 0?"":Me;switch(H){case"file":return(0,t.jsx)("span",{style:{color:"#649FF6",fontFamily:"PingFangSC-Semibold"},children:"Upload"});case"running":return(0,t.jsx)("span",{style:{color:"#649FF6",fontFamily:"PingFangSC-Semibold"},children:"Upload"});case"success":return(0,t.jsx)("span",{style:{color:"#81BF84",fontFamily:"PingFangSC-Semibold"},children:"Success"});case"fail":return(0,t.jsxs)("span",{style:{color:"#C84C5A",fontFamily:"PingFangSC-Semibold"},children:["Fail ",(0,t.jsx)(Se,{content:Le})]});default:return(0,t.jsx)(t.Fragment,{children:"-"})}},ce=[(0,S.Z)((0,S.Z)({title:(0,t.jsx)(i._H,{id:"upload.list.table.product"}),dataIndex:"product_name",ellipsis:{showTitle:!1}},(0,et.Ht)(I,ue,nt==null?void 0:nt.map(function(x){return{name:x.name,value:x.id}}),"product_id")),{},{render:function(d,y){return(0,t.jsx)(wt.K,{ellipsis:{tooltip:y==null?void 0:y.product_name},children:(0,t.jsx)(Ot(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[(I==null?void 0:I.product_name)||""],autoEscape:!0,textToHighlight:y==null?void 0:y.product_name})})}}),(0,S.Z)((0,S.Z)({title:(0,t.jsx)(i._H,{id:"upload.list.table.project"}),dataIndex:"project_name",ellipsis:{showTitle:!1}},(0,et.Ht)(I,ue,Ue==null?void 0:Ue.map(function(x){return{name:x.name,value:x.id}}),"project_id")),{},{render:function(d){return(0,t.jsx)(wt.K,{ellipsis:{tooltip:!0},children:d})}}),(0,S.Z)((0,S.Z)({title:(0,t.jsx)(i._H,{id:"upload.list.table.state"}),dataIndex:"state"},(0,et.Ht)(I,ue,[{name:"Upload",value:"running"},{name:"Success",value:"success"},{name:"Fail",value:"fail"}],"state")),{},{render:function(d,y){return(0,t.jsx)(M,{title:d,content:y.state_desc})}}),(0,S.Z)((0,S.Z)({title:(0,t.jsx)(i._H,{id:"upload.list.table.testType"}),dataIndex:"test_type"},(0,et.Ht)(I,ue,ne.oQ.map(function(x){return{name:l({id:x.value}),value:x.value}}),"test_type")),{},{render:function(d){return(0,t.jsx)("span",{children:ne.oQ.filter(function(y){return y.value==d}).map(function(y){return l({id:y.value})})})}}),(0,S.Z)((0,S.Z)({title:(0,t.jsx)(i._H,{id:"upload.list.table.baseline"}),dataIndex:"baseline_name",ellipsis:{showTitle:!1}},(0,et.Ht)(I,ue,Ne==null?void 0:Ne.map(function(x){return{name:x.name,value:x.id}}),"baseline_id")),{},{render:function(d){return(0,t.jsx)(wt.K,{ellipsis:{tooltip:!0},children:d})}}),(0,S.Z)((0,S.Z)({title:(0,t.jsx)(i._H,{id:"upload.list.table.uploader"}),dataIndex:"uploader"},(0,et.ln)(I,ue,"uploader")),{},{ellipsis:!0,render:function(d){return(0,t.jsx)("span",{children:d||"-"})}}),(0,S.Z)((0,S.Z)({title:(0,t.jsx)(i._H,{id:"upload.list.table.date"}),dataIndex:"gmt_created",ellipsis:{showTitle:!1}},(0,et.hC)([I==null?void 0:I.start_time,I==null?void 0:I.end_time],function(x){ue(function(d){return(0,S.Z)((0,S.Z)({},d),{},{page_num:1},x)})})),{},{render:function(d){return(0,t.jsx)("span",{children:d||"-"})}}),{title:(0,t.jsx)(i._H,{id:"Table.columns.operation"}),ellipsis:{showTitle:!1},width:180,fixed:"right",key:"operation",render:function(d,y){return(0,t.jsx)(Z.Z,{children:["file","running"].includes(y.state)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{style:{opacity:.25},children:(0,t.jsx)(i._H,{id:"operation.view"})}),(0,t.jsx)("span",{style:{opacity:.25},children:(0,t.jsx)(i._H,{id:"operation.download"})})]}):(0,t.jsxs)(t.Fragment,{children:[y.state!=="fail"?(0,t.jsx)("a",{href:y.job_link,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(i._H,{id:"operation.view"})}):(0,t.jsx)("span",{style:{opacity:.25},children:(0,t.jsx)(i._H,{id:"operation.view"})}),(0,t.jsx)(i.Nv,{accessible:_e.WsTourist(),children:(0,t.jsx)(i.Nv,{accessible:_e.WsMemberOperateSelf(y.creator),fallback:(0,t.jsxs)(Z.Z,{children:[(0,t.jsx)("a",{onClick:function(){return(0,ne.WR)()},children:(0,t.jsx)(i._H,{id:"operation.download"})}),(0,t.jsx)("a",{onClick:function(){return(0,ne.WR)()},children:(0,t.jsx)(i._H,{id:"operation.delete"})})]}),children:(0,t.jsxs)(Z.Z,{children:[y.state!=="fail"?(0,t.jsx)("a",{href:y.file_link,target:"_blank",rel:"noreferrer",children:(0,t.jsx)(i._H,{id:"operation.download"})}):(0,t.jsx)("span",{style:{opacity:.25},children:(0,t.jsx)(i._H,{id:"operation.download"})}),(0,t.jsx)(G.Z,{placement:"topRight",title:(0,t.jsx)(i._H,{id:"delete.prompt"}),onConfirm:function(){return ht(y)},okText:(0,t.jsx)(i._H,{id:"operation.confirm"}),cancelText:(0,t.jsx)(i._H,{id:"operation.cancel"}),children:(0,t.jsx)("a",{children:(0,t.jsx)(i._H,{id:"operation.delete"})})})]})})})]})})}}];return(0,t.jsxs)("div",{children:[(0,t.jsx)(Ee.Z,{loading:!1,columns:ce,name:"ws-offline-upload",refreshDeps:[_e,I,Ue,Ne],total:(T==null?void 0:T.total)||0,page:(T==null?void 0:T.page_num)||te.page_num,pageSize:(T==null?void 0:T.page_size)||te.page_size,dataSource:(T==null?void 0:T.data)||[],handlePage:yt}),(0,t.jsx)(qe,{visible:_,callback:gt,baselines:Ne,products:nt,projects:Ue})]})}),It=r(8316),vt=r.n(It),Mt=function(v){var g=(0,i.YB)(),j=g.formatMessage,l=v.match.params.ws_id,N=(0,f.useState)(!0),w=(0,P.Z)(N,2),O=w[0],z=w[1],T=(0,f.useState)("record"),ee=(0,P.Z)(T,2),tt=ee[0],se=ee[1],_=(0,f.useState)(0),be=(0,P.Z)(_,2),_e=be[0],te=be[1],Ie=(0,f.useRef)(null),rt=(0,i.tT)("@@initialState"),I=rt.initialState,ue=rt.setInitialState,Ge=I.authList,Ue=(0,i.md)(),mt=function(){var Se=(0,Y.Z)((0,D.Z)().mark(function M(){var ce;return(0,D.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,R({});case 3:if(d.t0=d.sent,d.t0){d.next=6;break}d.t0={};case 6:ce=d.t0,ce.code===200?te(ce.data||0):B.default.error(ce.msg||j({id:"request.failed"})),d.next=13;break;case 10:d.prev=10,d.t1=d.catch(0),console.log(d.t1);case 13:case"end":return d.stop()}},M,null,[[0,10]])}));return function(){return Se.apply(this,arguments)}}(),nt=function(M){se(M)},ct=function(M){var ce=M.loading;z(ce)},Ne=function(M){M!==_e&&te(M)},at=function(){var M;(M=Ie.current)===null||M===void 0||M.showModal()},ht=[{name:j({id:"TestUpload.tab.record"}),key:"record"}],gt=function(M){var ce={backgroundColor:"#E6F7FF",color:"#1890FF",marginTop:-3},x={backgroundColor:"#0000000a",color:"#000",marginTop:-3};return tt===M?ce:x},yt=(0,t.jsx)(i.Nv,{accessible:Ue.IsWsSetting(),children:(0,t.jsx)(Q.Z,{type:"primary",onClick:at,children:(0,t.jsx)(i._H,{id:"TestUpload.tab.tabBarExtraContent.upload"})})});return(0,t.jsxs)("div",{className:vt().TestUpload_root,children:[!O&&!(Ge!=null&&Ge.user_id)?(0,t.jsx)("div",{className:vt().not_logged_in,children:(0,t.jsx)(W.Z,{})}):null,(0,t.jsxs)("div",{className:vt().content_header,children:[(0,t.jsx)("div",{className:vt().item1,children:ht[0].name}),yt]}),(0,t.jsx)(m.Z,{spinning:O,children:(0,t.jsx)("div",{className:vt().content_table,children:(0,t.jsx)(_t,{ref:Ie,ws_id:l,loadingCallback:ct,refreshCallback:Ne})})})]})}},79390:function(ge,de,r){"use strict";r.d(de,{sL:function(){return o},ny:function(){return Pe},Fu:function(){return Oe}});var s=r(20418),m=r(39190),h=r(488),Q=r(26388),D=r(11407),$e=r(41604),B=r(2605),Y=r(74127),P=r(41428),f=r(22374),i=r(48434),W=r(97939),Be=r(99648),G=r(52454),Qe=["width","onResizeStart","onResize","onResizeStop","resize"],Z=["columns","name","onColumnsChange"],we,X,S,xe=W.ZP.div(we||(we=(0,P.Z)([`
    position: relative;
    width: 100%;
`]))),ye=W.ZP.div.attrs(function(a){return{style:{left:a.left,height:a==null?void 0:a.height}}})(X||(X=(0,P.Z)([`
    width: 0px;
    position: absolute;
    left: 0;
    top: 0;
    border-left: 1px dashed #d9d9d9;
    z-index: 99;
`]))),We=(0,W.ZP)(i.Resizable)(S||(S=(0,P.Z)([`
    user-select: none;
    &::before {
        position: absolute;
        top: 50%;
        right: 0;
        width: 1px;
        height: 1.6em;
        background-color: rgba(0,0,0,.06);
        transform: translateY(-50%);
        transition: background-color .3s;
        content: "";
    }
    
    &:last-child::before {
        display: none;
    }

    .react-resizable {
        position: relative;
        background-clip: padding-box;
    }
    
    .react-resizable-handle {
        position: absolute;
        width: 10px;
        height: 100%;
        bottom: 0;
        right: -5px;
        cursor: `,`;
        background-image:none;
        z-index: 1;
    }
`])),function(a){var n=a.resize;return n?"col-resize":"default"}),Ee=function(n){var c=n.width,e=n.onResizeStart,C=n.onResize,u=n.onResizeStop,p=n.resize,R=(0,h.Z)(n,Qe);return(0,G.jsx)(We,(0,s.Z)((0,s.Z)({width:c||100,height:0,draggableOpts:{enableUserSelectHack:!1},onResizeStart:e,onResize:C,onResizeStop:u,resize:p?1:0},R),{},{children:(0,G.jsx)("th",(0,s.Z)({},R))}))},ne=function(n){var c=n.columns,e=c===void 0?[]:c,C=n.name,u=n.onColumnsChange,p=(0,h.Z)(n,Z),R=f.useState(0),K=(0,m.Z)(R,2),Ze=K[0],ae=K[1],pe=f.useState(0),J=(0,m.Z)(pe,2),De=J[0],V=J[1],He=f.useState(!1),je=(0,m.Z)(He,2),Ae=je[0],fe=je[1],ie=f.useRef(null),q=(0,Be.Z)(ie),pt=function(F){return function(me,le){var oe;if((0,Y.Z)(le),!!e[F].ellipsis){var Xe=me.clientX,U=Xe-((oe=ie.current)===null||oe===void 0?void 0:oe.getBoundingClientRect().x);V(U),ae(U),fe(!0)}}},Ce=function(){return function(F){var me,le=F.clientX,oe=le-((me=ie.current)===null||me===void 0?void 0:me.getBoundingClientRect().x);ae(oe)}},Ct=function(F){return function(me,le){var oe,Xe=le.size,U=me.clientX,ot=U-((oe=ie.current)===null||oe===void 0?void 0:oe.getBoundingClientRect().x),Ke=(0,B.Z)(e);if(Ke[F].ellipsis){var t=Xe.width+=ot-De,Je=Ke[F],ut=Je.dataIndex,ft=Je.key;t>20&&(Ke[F]=(0,s.Z)((0,s.Z)({},Ke[F]),{},{width:t}),C&&Oe(C,ut||ft,t),u==null||u())}ae(0),V(0),fe(!1)}},Ye=f.useMemo(function(){return e.reduce(function(ve,F){return F.width?ve+=F==null?void 0:F.width:ve},0)},[e]);return(0,G.jsxs)(xe,{ref:ie,className:"resize-table-wrapper",children:[(0,G.jsx)($e.Z,(0,s.Z)((0,s.Z)({},p),{},{components:{header:{cell:Ee}},scroll:(n==null?void 0:n.scroll)||{x:Ye||(q==null?void 0:q.width)},columns:e.filter(Boolean).map(function(ve,F){return(0,s.Z)((0,s.Z)({},ve),{},{onHeaderCell:function(le){return{resize:!!ve.ellipsis,width:le.width,onResizeStart:pt(F),onResize:Ce(),onResizeStop:Ct(F)}}})})})),Ae&&(0,G.jsx)(ye,{height:q==null?void 0:q.height,left:Ze||De})]})},Fe=ne,Te=["name","columns","refreshDeps","onColumnsChange"],Re="umi_locale",Pe=function(n,c){var e=localStorage.getItem(n),C=localStorage.getItem(Re)||"zh-CN";if(!!e)return JSON.parse(e)["".concat(C,"-").concat(c)]},Oe=function(n,c,e){var C=localStorage.getItem(n),u=localStorage.getItem(Re)||"zh-CN",p=(0,Q.Z)({},"".concat(u,"-").concat(c),e);C?localStorage.setItem(n,JSON.stringify(Object.assign(JSON.parse(C),p))):localStorage.setItem(n,JSON.stringify(p))},o=function(n){var c=n.name,e=n.columns,C=n.refreshDeps,u=C===void 0?[]:C,p=n.onColumnsChange,R=(0,h.Z)(n,Te),K=f.useState([]),Ze=(0,m.Z)(K,2),ae=Ze[0],pe=Ze[1],J=function(){return(e==null?void 0:e.filter(Boolean).map(function(V){var He=V.dataIndex,je=V.key,Ae=V.width,fe=He||je,ie=Pe(c,fe);!ie&&Ae&&Oe(c,fe,Ae);var q=ie||Ae;return q&&(V.width=q),V}))||[]};return f.useEffect(function(){pe(J())},u),(0,G.jsx)(Fe,(0,s.Z)({name:c,columns:ae,setColumns:pe,size:"small",onColumnsChange:function(){p==null||p(),pe(J())}},R))}},61674:function(ge,de,r){"use strict";r.d(de,{Z:function(){return n}});var s=r(29700),m=r(85628),h=r(77335),Q=r(5888),D=r(38755),$e=r(11273),B=r(90770),Y=r(53770),P=r(13598),f=r(46601),i=r(25407),W=r(51767),Be=r(68591),G=r.n(Be),Qe=r(51572),Z=r(22374),we=r(53532),X=r(24875),S=r(83325),xe=r(52318),ye=r(31279),We=r(31762),Ee=r(51129),ne=function(c){(0,We.Z)(C,c);var e=(0,Ee.Z)(C);function C(){var u;return(0,xe.Z)(this,C),u=e.apply(this,arguments),u.state={error:void 0,info:{componentStack:""}},u}return(0,ye.Z)(C,[{key:"componentDidCatch",value:function(p,R){this.setState({error:p,info:R})}},{key:"render",value:function(){var p=this.props,R=p.message,K=p.description,Ze=p.children,ae=this.state,pe=ae.error,J=ae.info,De=J&&J.componentStack?J.componentStack:null,V=typeof R=="undefined"?(pe||"").toString():R,He=typeof K=="undefined"?De:K;return pe?Z.createElement(n,{type:"error",message:V,description:Z.createElement("pre",null,He)}):Ze}}]),C}(Z.Component),Fe=ne,Te=function(c,e){var C={};for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&e.indexOf(u)<0&&(C[u]=c[u]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,u=Object.getOwnPropertySymbols(c);p<u.length;p++)e.indexOf(u[p])<0&&Object.prototype.propertyIsEnumerable.call(c,u[p])&&(C[u[p]]=c[u[p]]);return C},Re={success:Q.Z,info:i.Z,error:$e.Z,warning:P.Z},Pe={success:D.Z,info:W.Z,error:B.Z,warning:f.Z},Oe=function(e){var C=e.description,u=e.icon,p=e.prefixCls,R=e.type,K=(C?Pe:Re)[R]||null;return u?(0,S.wm)(u,Z.createElement("span",{className:"".concat(p,"-icon")},u),function(){return{className:G()("".concat(p,"-icon"),(0,h.Z)({},u.props.className,u.props.className))}}):Z.createElement(K,{className:"".concat(p,"-icon")})},o=function(e){var C=e.isClosable,u=e.closeText,p=e.prefixCls,R=e.closeIcon,K=e.handleClose;return C?Z.createElement("button",{type:"button",onClick:K,className:"".concat(p,"-close-icon"),tabIndex:0},u?Z.createElement("span",{className:"".concat(p,"-close-text")},u):R):null},a=function(e){var C,u=e.description,p=e.prefixCls,R=e.message,K=e.banner,Ze=e.className,ae=Ze===void 0?"":Ze,pe=e.style,J=e.onMouseEnter,De=e.onMouseLeave,V=e.onClick,He=e.afterClose,je=e.showIcon,Ae=e.closable,fe=e.closeText,ie=e.closeIcon,q=ie===void 0?Z.createElement(Y.Z,null):ie,pt=e.action,Ce=Te(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),Ct=Z.useState(!1),Ye=(0,m.Z)(Ct,2),ve=Ye[0],F=Ye[1],me=Z.useRef(),le=Z.useContext(we.E_),oe=le.getPrefixCls,Xe=le.direction,U=oe("alert",p),ot=function(ze){var qe;F(!0),(qe=Ce.onClose)===null||qe===void 0||qe.call(Ce,ze)},Ke=function(){var ze=Ce.type;return ze!==void 0?ze:K?"warning":"info"},t=fe?!0:Ae,Je=Ke(),ut=K&&je===void 0?!0:je,ft=G()(U,"".concat(U,"-").concat(Je),(C={},(0,h.Z)(C,"".concat(U,"-with-description"),!!u),(0,h.Z)(C,"".concat(U,"-no-icon"),!ut),(0,h.Z)(C,"".concat(U,"-banner"),!!K),(0,h.Z)(C,"".concat(U,"-rtl"),Xe==="rtl"),C),ae),St=(0,X.Z)(Ce);return Z.createElement(Qe.Z,{visible:!ve,motionName:"".concat(U,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(ze){return{maxHeight:ze.offsetHeight}},onLeaveEnd:He},function(ke){var ze=ke.className,qe=ke.style;return Z.createElement("div",(0,s.Z)({ref:me,"data-show":!ve,className:G()(ft,ze),style:(0,s.Z)((0,s.Z)({},pe),qe),onMouseEnter:J,onMouseLeave:De,onClick:V,role:"alert"},St),ut?Z.createElement(Oe,{description:u,icon:Ce.icon,prefixCls:U,type:Je}):null,Z.createElement("div",{className:"".concat(U,"-content")},R?Z.createElement("div",{className:"".concat(U,"-message")},R):null,u?Z.createElement("div",{className:"".concat(U,"-description")},u):null),pt?Z.createElement("div",{className:"".concat(U,"-action")},pt):null,Z.createElement(o,{isClosable:!!t,closeText:fe,prefixCls:U,closeIcon:q,handleClose:ot}))})};a.ErrorBoundary=Fe;var n=a}}]);
