(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[8088],{70213:function(J,P,s){"use strict";s.d(P,{Z:function(){return Q}});var E=s(28991),b=s(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"},L=R,I=s(27029),$=function(D,U){return b.createElement(I.Z,(0,E.Z)((0,E.Z)({},D),{},{ref:U,icon:L}))},M=b.forwardRef($),Q=M},33378:function(J){J.exports={suite_nav_bar:"suite_nav_bar___1kCBN",suite_left_wrapper:"suite_left_wrapper___3Itn5",suite_right_wrapper:"suite_right_wrapper___2hUvd",left_table_style:"left_table_style___FA4-R",right_table_style:"right_table_style___1igwV",search_input_style:"search_input_style___2HChI",tooltipCss:"tooltipCss___1kzGl"}},99254:function(J,P,s){"use strict";var E=s(20310),b=s(12788),R=s(53308),L=s(85893),I,$=b.ZP.div(I||(I=(0,E.Z)([`
    background:#fff!important;
    h1, h2, h3, h4, h5, h6 , p { margin : 0 ; }
    h1 { font-size:32px; }
    h2 { font-size:24px; }
    h3 { font-size:18.72px; }
    h4 { font-size:16px; }
    h5 { font-size:13.28px; }
    h6 { font-size:12px; }
    p , code , li , th , tr { color : #333; }
    ul { list-style-type: disc; }
    ol { list-style-type: decimal; }
    ul ul { list-style-type: circle; }
    ul ul ul { list-style-type: square; }
    table th, table tr , table td {
        border: 1px solid #dfe2e5;
        padding: 6px 13px;
    }
    table thead th { background-color: #F8F8F8; }
    table thead tr { background-color: #ffffff; }
    table tr:nth-child(2n) { background-color: #f8f8f8; }
    code, pre { background-color: #f9f9f9; }
    pre { padding : 8px }
`]))),M=function(W){var D=W.code;return D?(0,L.jsx)($,{dangerouslySetInnerHTML:{__html:R.TU.parse(D)}}):(0,L.jsx)(L.Fragment,{})};P.Z=M},54194:function(J,P,s){"use strict";s.r(P),s.d(P,{default:function(){return Ht}});var E=s(24793),b=s(97183),R=s(13062),L=s(71230),I=s(47673),$=s(4107),M=s(43358),Q=s(34041),W=s(20228),D=s(11382),U=s(66456),A=s(79764),se=s(64896),q=s(4191),ie=s(22385),ee=s(89456),te=s(91220),S=s(34792),g=s(48086),w=s(86582),n=s(11849),v=s(39428),x=s(3182),An=s(71194),be=s(50146),Fn=s(402),N=s(97272),Rn=s(49111),B=s(19650),Ln=s(57663),K=s(71577),_=s(2824),d=s(67294),Ae=s(20009),y=s(16917),Fe=s(28991),gt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},yt=gt,Zt=s(27029),Ct=function(p,o){return d.createElement(Zt.Z,(0,Fe.Z)((0,Fe.Z)({},p),{},{ref:o,icon:yt}))},St=d.forwardRef(Ct),ve=St,xt=s(68628),ne=s(70213),Re=s(68002),jt=s(76570),wt=s(57119),Le,Ie,_t=["svgRef","title"];function le(){return le=Object.assign?Object.assign.bind():function(h){for(var p=1;p<arguments.length;p++){var o=arguments[p];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(h[f]=o[f])}return h},le.apply(this,arguments)}function Et(h,p){if(h==null)return{};var o=Tt(h,p),f,c;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);for(c=0;c<m.length;c++)f=m[c],!(p.indexOf(f)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,f)||(o[f]=h[f]))}return o}function Tt(h,p){if(h==null)return{};var o={},f=Object.keys(h),c,m;for(m=0;m<f.length;m++)c=f[m],!(p.indexOf(c)>=0)&&(o[c]=h[c]);return o}var bt=function(p){var o=p.svgRef,f=p.title,c=Et(p,_t);return d.createElement("svg",le({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:o},c),f?d.createElement("title",null,f):null,Le||(Le=d.createElement("desc",null,"Created with Sketch.")),Ie||(Ie=d.createElement("g",{id:"ws-\\u7528\\u4F8B\\u7BA1\\u7406",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},d.createElement("g",{id:"4-\\u589E\\u5220\\u754C\\u9762-\\u5E38\\u89C4",transform:"translate(-565.000000, -445.000000)"},d.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(550.000000, 85.000000)"},d.createElement("g",{id:"\\u8868\\u683C",transform:"translate(0.000000, 63.000000)"},d.createElement("g",{id:"\\u5185\\u5BB9"},d.createElement("g",{transform:"translate(15.000000, 0.000000)"},d.createElement("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(0.000000, 76.000000)"},d.createElement("g",{id:"\\u6DFB\\u52A0",transform:"translate(0.000000, 221.000000)"},d.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),d.createElement("path",{d:"M8,0 C3.5816,0 0,3.5816 0,8 C0,12.4184 3.5816,16 8,16 C12.4184,16 16,12.4184 16,8 C16,3.5816 12.4184,0 8,0 Z",id:"\\u5F62\\u72B6",fill:"#1890FF",fillRule:"nonzero"}),d.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#FFFFFF",x:5,y:5,width:6,height:6})))))))))))},At=d.forwardRef(function(h,p){return d.createElement(bt,le({svgRef:p},h))}),In=s.p+"static/un_full.b387639e.svg",Oe=s(24480),Ft=function(){var h=(0,x.Z)((0,v.Z)().mark(function p(o){return(0,v.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.WY)("/api/case/test_suite/",{params:o}));case 1:case"end":return c.stop()}},p)}));return function(o){return h.apply(this,arguments)}}();function Rt(h){return me.apply(this,arguments)}function me(){return me=(0,x.Z)((0,v.Z)().mark(function h(p){return(0,v.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,y.WY)("/api/case/ws_case/confirm/",{data:p,method:"post"}));case 1:case"end":return f.stop()}},h)})),me.apply(this,arguments)}function Lt(h){return ge.apply(this,arguments)}function ge(){return ge=(0,x.Z)((0,v.Z)().mark(function h(p){return(0,v.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,y.WY)("/api/case/workspace/case/",{params:p}));case 1:case"end":return f.stop()}},h)})),ge.apply(this,arguments)}var On=null,It=function(){var h=(0,x.Z)((0,v.Z)().mark(function p(o){return(0,v.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.WY)("/api/case/workspace/case/batch/add/",{method:"post",data:o}));case 1:case"end":return c.stop()}},p)}));return function(o){return h.apply(this,arguments)}}(),ye=s(81629),Ot=s(33378),V=s.n(Ot),Pt=s(96486),Pe=s(99254),Mt=s(60035),a=s(85893),Me=function(p){return p.reduce(function(o,f){return o.concat(f.test_case_list.map(function(c){return c.id}))},[]).sort(function(o,f){return o-f})},Dt=d.forwardRef(function(h,p){var o=h.onSave,f=h.btnLoad,c=(0,Ae.UO)(),m=c.ws_id,Ze=c.test_type,ue=d.useState(!1),F=(0,_.Z)(ue,2),z=F[0],oe=F[1];d.useImperativeHandle(p,function(){return{show:function(){oe(!0)}}});var Y=function(){oe(!1)};return(0,a.jsx)(be.Z,{title:"\u63D0\u793A",width:600,open:z,destroyOnClose:!0,centered:!0,onCancel:Y,maskClosable:!1,footer:(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(K.Z,{onClick:function(){Y(),y.m8.push("/ws/".concat(m,"/test_suite?test_type=").concat(Ze))},children:"\u4E0D\u4FDD\u5B58"}),(0,a.jsx)(K.Z,{type:"primary",onClick:function(){return o==null?void 0:o(Y)},loading:f,children:"\u4FDD\u5B58"})]}),children:(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(xt.Z,{style:{color:"#FFA400"}}),(0,a.jsx)(N.Z.Text,{children:"\u7528\u4F8B\u6709\u53D8\u52A8\uFF0C\u662F\u5426\u4FDD\u5B58\uFF1F"})]})})}),kt=function(){var p=(0,y.YB)(),o=p.formatMessage,f=(0,Ae.UO)(),c=f.ws_id,m=f.test_type,Ze=(0,d.useState)([]),ue=(0,_.Z)(Ze,2),F=ue[0],z=ue[1],oe=(0,d.useState)(!0),Y=(0,_.Z)(oe,2),ae=Y[0],Wt=Y[1],Bt=(0,d.useState)(!1),De=(0,_.Z)(Bt,2),de=De[0],ke=De[1],zt=(0,d.useState)([]),He=(0,_.Z)(zt,2),G=He[0],k=He[1],$t=(0,d.useState)({domain:"",visible_ws_id:c,test_type:m,name:"",scope:"brief_case"}),We=(0,_.Z)($t,2),X=We[0],Be=We[1],Ut=(0,d.useState)([]),ze=(0,_.Z)(Ut,2),$e=ze[0],Ce=ze[1],Nt=(0,d.useState)(!1),Ue=(0,_.Z)(Nt,2),Kt=Ue[0],ce=Ue[1],Vt=(0,d.useState)(!0),Ne=(0,_.Z)(Vt,2),Yt=Ne[0],Ke=Ne[1],Gt=(0,d.useState)([]),Ve=(0,_.Z)(Gt,2),Xt=Ve[0],Jt=Ve[1],Qt=(0,d.useState)(""),Ye=(0,_.Z)(Qt,2),qt=Ye[0],en=Ye[1],tn=(0,d.useState)(""),Ge=(0,_.Z)(tn,2),Xe=Ge[0],nn=Ge[1],an=(0,d.useState)("suite"),Je=(0,_.Z)(an,2),Se=Je[0],Qe=Je[1],rn=(0,d.useState)(!1),qe=(0,_.Z)(rn,2),sn=qe[0],et=qe[1],ln=(0,d.useState)(!0),tt=(0,_.Z)(ln,2),un=tt[0],nt=tt[1],on=d.useState([]),at=(0,_.Z)(on,2),rt=at[0],dn=at[1],cn=d.useState([]),st=(0,_.Z)(cn,2),xe=st[0],fn=st[1],it=d.useRef(null),pn=(0,Mt.CR)(),hn=pn.height,vn=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(){var t,r;return(0,v.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,ye.R2)();case 2:t=l.sent,r=t.data,Jt(r);case 5:case"end":return l.stop()}},e)}));return function(){return u.apply(this,arguments)}}(),re=null;(0,d.useEffect)(function(){return vn(),function(){clearTimeout(re)}},[]);var mn=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(){var t,r,i,l,Z,j,T,O;return(0,v.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(t=F,r=[],Ke(!0),!(F.length===0&&c&&ae)){C.next=17;break}if(nt(!0),m!=="business"){C.next=11;break}return C.next=8,(0,ye.Ux)({ws_id:c,scope:"brief"});case 8:C.t0=C.sent,C.next=14;break;case 11:return C.next=13,Lt({ws_id:c,test_type:m,scope:"brief_case",page_size:100});case 13:C.t0=C.sent;case 14:i=C.t0,l=i.data,t=l;case 17:if(Z=X.domain,j=X.name,m!=="business"){C.next=24;break}return C.next=21,(0,ye.Vz)({domain:Z,name:j});case 21:C.t1=C.sent,C.next=27;break;case 24:return C.next=26,Ft(X);case 26:C.t1=C.sent;case 27:T=C.t1,O=T.data,t.length>0?r=O.map(function(H){for(var En=function(Tn){var Ee=t[Tn];if(H.id===Ee.id){if(Ee.test_case_list.length>0){var pe=0,Te=H.test_case_list;return Te=Te.map(function(he){return Ee.test_case_list.forEach(function(bn){bn.id===he.id&&(he=(0,n.Z)((0,n.Z)({},he),{},{isAdd:!0}),pe++)}),he}),pe===H.test_case_list.length&&(pe="all"),{v:(0,n.Z)((0,n.Z)({},H),{},{hasAdd:!0,addCaseCount:pe,test_case_list:Te})}}return{v:(0,n.Z)((0,n.Z)({},H),{},{hasAdd:!0,addCaseCount:"all"})}}},_e=0;_e<t.length;_e++){var mt=En(_e);if(typeof mt=="object")return mt.v}return(0,n.Z)((0,n.Z)({},H),{},{addCaseCount:0,hasAdd:!1})}):r=O.map(function(H){return(0,n.Z)((0,n.Z)({},H),{},{hadAdd:!1,addCaseCount:0})}),fe(r,t),Wt(!1),k(r),fn(r),dn(Me(t)),Ke(!1),nt(!1);case 37:case"end":return C.stop()}},e)}));return function(){return u.apply(this,arguments)}}();(0,d.useEffect)(function(){mn()},[X]);var lt=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(t){return(0,v.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:Ce([+t.id]);case 1:case"end":return i.stop()}},e)}));return function(t){return u.apply(this,arguments)}}();(0,d.useEffect)(function(){return function(){clearTimeout(re)}},[]);var gn=function(){k(xe),fe(xe,xe.reduce(function(e,t){var r=t.test_case_list,i=r==null?void 0:r.reduce(function(l,Z){return rt.includes(Z.id)?l.concat(Z):l},[]);return i&&i.length>0?e.concat((0,n.Z)((0,n.Z)({},t),{},{test_case_list:i})):e},[]))},ut=function(){var e=function(){return Be((0,n.Z)((0,n.Z)({},X),{},{name:Xe}))};re&&clearTimeout(re),re=setTimeout(e,300)},yn=function(e){Be((0,n.Z)((0,n.Z)({},X),{},{domain:e})),en(e)},ot=function(e,t){if(ce(!0),!e.isAdd){var r=0,i=t.hasAdd,l=[],Z=t.test_case_list.map(function(T){if(T.isAdd)return r++,l.push(T),T;if(T.id===e.id){i=!0,r++;var O=(0,n.Z)((0,n.Z)({},T),{},{isAdd:!0});return l.push(O),O}return T});r===t.test_case_list.length&&(r="all");var j=G.map(function(T){return T.id===t.id?(0,n.Z)((0,n.Z)({},T),{},{test_case_list:Z,hasAdd:i,addCaseCount:r}):T});k(j),fe(j)}},dt=function(e){ce(!0);var t=G.map(function(r){if(r.id===e.id)if(r.test_case_list&&r.test_case_list.length>0){var i=r.test_case_list.map(function(l){return(0,n.Z)((0,n.Z)({},l),{},{isAdd:!0})});return(0,n.Z)((0,n.Z)({},r),{},{addCaseCount:"all",hasAdd:!0,test_case_list:i})}else return(0,n.Z)((0,n.Z)({},r),{},{addCaseCount:"all",hasAdd:!0});return r});k(t),fe(t)},Zn=function(e,t){Qe("conf"),ce(!1),k(G.map(function(i){var l=0;if(i.id===e.id){var Z=i.test_case_list.map(function(j){return j.id===t.id?(0,n.Z)((0,n.Z)({},j),{},{isAdd:!1}):(j.isAdd&&l++,j)});return l===0?(0,n.Z)((0,n.Z)({},i),{},{addCaseCount:l,hasAdd:!1,test_case_list:Z}):(0,n.Z)((0,n.Z)({},i),{},{addCaseCount:l,test_case_list:Z})}return i}));var r=F.map(function(i){if(i.id===e.id){var l=i.test_case_list.filter(function(Z){return Z.id!==t.id});i.test_case_list=l}return i});r=r.filter(function(i){return i&&i.test_case_list.length}),z(r)},Cn=function(e){Qe("suite"),ce(!1),k(G.map(function(r){if(r.id===e.id){if(r.test_case_list&&r.test_case_list.length>0){var i=r.test_case_list.map(function(l){return(0,n.Z)((0,n.Z)({},l),{},{isAdd:!1})});return(0,n.Z)((0,n.Z)({},r),{},{hasAdd:!1,addCaseCount:0,test_case_list:i})}return(0,n.Z)((0,n.Z)({},r),{},{hasAdd:!1,addCaseCount:0})}return r}));var t=F.filter(function(r){return r&&r.id!==e.id});z(t)},je=(0,d.useMemo)(function(){var u=[];return F.forEach(function(e){var t;e.test_case_list&&e.test_case_list.length>0&&(u=(t=u).concat.apply(t,(0,w.Z)(e.test_case_list.map(function(r){return r.id}))))}),u.toString()},[F]),we=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(t){var r;return(0,v.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(ke(!0),!c){l.next=6;break}return l.next=4,It({case_id_list:je,ws_id:c,suite_id_list:"",test_type:m});case 4:r=l.sent,r.code===200?(ke(!1),g.default.success(o({id:"operation.success"})),t&&Object.prototype.toString.call(t)==="[object Function]"&&t(),y.m8.push("/ws/".concat(c,"/test_suite?test_type=").concat(m))):g.default.error(o({id:"operation.failed"}));case 6:case"end":return l.stop()}},e)}));return function(t){return u.apply(this,arguments)}}(),ct=function(){et(!1)},Sn=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(){var t;return(0,v.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,Oe.MR)({test_type:m,name:Se,id:je});case 2:t=i.sent,t&&window.open("/ws/".concat(c,"/refenerce/1/?pk=").concat(t));case 4:case"end":return i.stop()}},e)}));return function(){return u.apply(this,arguments)}}(),ft=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(t){var r;return(0,v.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!Kt){l.next=4;break}we(t),l.next=8;break;case 4:return l.next=6,Rt({flag:"pass",ws_id:c,suite_id_list:"",case_id_list:je,test_type:m});case 6:r=l.sent,r.code==200?et(!0):we(t);case 8:case"end":return l.stop()}},e)}));return function(t){return u.apply(this,arguments)}}(),xn=function(){if(rt.toString()!==Me(F).toString()){var e;(e=it.current)===null||e===void 0||e.show();return}y.m8.push("/ws/".concat(c,"/test_suite?test_type=").concat(m))},fe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,r=[];e.forEach(function(l){if(l.addCaseCount==="all")r.push(l);else if(l.addCaseCount){var Z=[],j=(0,te.Z)(l.test_case_list),T;try{for(j.s();!(T=j.n()).done;){var O=T.value;O.isAdd&&Z.push(O)}}catch(vt){j.e(vt)}finally{j.f()}r.push((0,n.Z)((0,n.Z)({},l),{},{test_case_list:Z}))}});var i=(0,Pt.unionBy)(r,t,"id");z(i)},pt=F,ht={ellipsis:{showTitle:!1},render:function(e){return e&&e!=="[]"?(0,a.jsx)(ee.Z,{placement:e&&e.length>100?"left":"top",title:e&&e!=="[]"?e:"-",children:(0,a.jsx)("span",{children:e&&e!=="[]"?e:"-"})}):(0,a.jsx)("span",{children:"-"})}},jn=function(){var e=G.map(function(t){return(0,n.Z)((0,n.Z)({},t),{},{hasAdd:!0,addCaseCount:"all",test_case_list:t.test_case_list.map(function(r){return(0,n.Z)((0,n.Z)({},r),{},{isAdd:!0})})})});k(e),z(e)},wn=function(){k(function(e){return e.map(function(t){if(t.test_case_list&&t.test_case_list.length>0){var r=t.test_case_list.map(function(i){return(0,n.Z)((0,n.Z)({},i),{},{isAdd:!1})});return(0,n.Z)((0,n.Z)({},t),{},{hasAdd:!1,addCaseCount:0,test_case_list:r})}return(0,n.Z)((0,n.Z)({},t),{},{hasAdd:!1,addCaseCount:0})})}),z([])},_n=(0,d.useMemo)(function(){return m==="business"?(0,a.jsx)(y._H,{id:"suite.business"}):m==="functional"?(0,a.jsx)(y._H,{id:"suite.functional"}):(0,a.jsx)(y._H,{id:"suite.performance"})},[m]);return(0,a.jsxs)(b.Z.Content,{style:{height:hn,overflow:"hidden"},children:[(0,a.jsx)(q.Z,{className:V().suite_nav_bar,title:(0,a.jsx)(y._H,{id:"test.suite.manage"}),onBack:xn,extra:(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(K.Z,{onClick:gn,children:(0,a.jsx)(y._H,{id:"suite.recovery"})}),(0,a.jsx)(K.Z,{type:"primary",onClick:function(){return ft()},disabled:de,loading:de,children:(0,a.jsx)(y._H,{id:"operation.save"})})]})}),(0,a.jsx)(b.Z,{style:{height:"calc(100% - 50px)"},children:(0,a.jsxs)(L.Z,{style:{padding:20,height:"100%",background:"#f5f5f5"},children:[(0,a.jsxs)("div",{className:V().suite_left_wrapper,style:{height:innerHeight-50-40},children:[(0,a.jsx)(q.Z,{title:(0,a.jsx)(y._H,{id:"suite.added"})}),(0,a.jsx)(D.Z,{spinning:un,children:pt.length===0?(0,a.jsxs)("div",{style:{textAlign:"center",marginTop:192},children:[(0,a.jsxs)(N.Z.Text,{children:[(0,a.jsx)(y._H,{id:"suite.click.right"}),"\xA0"]}),(0,a.jsx)(ne.Z,{style:{color:"#1890ff"}}),(0,a.jsx)(N.Z.Text,{children:(0,a.jsx)(y._H,{id:"suite.add.to.workspace"})})]}):(0,a.jsx)(A.Z,{size:"small",className:V().right_table_style,scroll:{y:innerHeight-90-72-39},columns:[A.Z.SELECTION_COLUMN,A.Z.EXPAND_COLUMN,{title:"Test Suite",dataIndex:"name"}],rowSelection:{columnWidth:24,columnTitle:(0,a.jsx)(ve,{style:{color:"red"},onClick:function(){return wn()}}),renderCell:function(e,t){return(0,a.jsx)(ve,{style:{color:"red"},onClick:function(){return Cn(t)}})}},dataSource:pt,expandable:{columnWidth:24,onExpand:function(e,t){return e?lt(t):Ce([])},expandedRowKeys:$e,expandedRowRender:function(e){return(0,a.jsx)(A.Z,{locale:{emptyText:(0,a.jsx)(y._H,{id:"suite.no.data"})},size:"small",columns:[{render:function(r){return(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(ve,{style:{color:"red"},onClick:function(){return Zn(e,r)}}),(0,a.jsx)(N.Z.Text,{children:r.name})]})}}],rowKey:"id",showHeader:!1,pagination:!1,dataSource:e.test_case_list||[]})},expandIcon:function(e){var t=e.expanded,r=e.onExpand,i=e.record;return(0,a.jsx)(Re.Z,{rotate:t?90:0,onClick:function(Z){return r(i,Z)}})}},rowKey:"id",pagination:!1})})]}),(0,a.jsxs)("div",{className:V().suite_right_wrapper,style:{height:innerHeight-50-40},children:[(0,a.jsx)(q.Z,{title:_n,extra:(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(Q.Z,{value:qt,onSelect:yn,style:{width:148},filterOption:function(e,t){return t.label.toLowerCase().indexOf(e.toLowerCase())>=0},allowClear:!0,showSearch:!0,options:[{value:"",label:o({id:"suite.all.domain"})}].concat(Xt.map(function(u){return{value:u.id,label:u.name}}))}),(0,a.jsxs)("div",{style:{display:"flex",alignItems:"start",justifyContent:"center"},children:[(0,a.jsx)($.Z,{style:{width:160,height:32},allowClear:!0,value:Xe,onChange:function(e){var t=e.target;return nn(t.value)},onPressEnter:ut,placeholder:o({id:"suite.search.TestSuites"})}),(0,a.jsx)("span",{className:V().search_input_style,onClick:ut,children:(0,a.jsx)(jt.Z,{})})]})]})}),(0,a.jsx)(A.Z,{rowKey:"id",loading:Yt,columns:m==="business"?[A.Z.SELECTION_COLUMN,A.Z.EXPAND_COLUMN,{title:"Test Suite",dataIndex:"name"},{title:o({id:"suite.business_name"}),dataIndex:"business_name"},{title:o({id:"suite.test_type"}),dataIndex:"test_type",render:function(e){return(0,a.jsx)(a.Fragment,{children:Oe.oQ.map(function(t){return t.value===e?o({id:t.value}):""})})}}]:[A.Z.SELECTION_COLUMN,A.Z.EXPAND_COLUMN,{title:"Test Suite",dataIndex:"name"},(0,n.Z)({title:o({id:"suite.var"}),dataIndex:"var",width:180},ht),{title:o({id:"suite.description"}),dataIndex:"doc",ellipsis:{showTitle:!1},width:200,render:function(e,t){var r=t.doc,i=t.description,l=r||i;return l?(0,a.jsx)(ee.Z,{placement:"leftTop",overlayInnerStyle:{width:450,height:300,overflow:"auto"},color:"#fff",title:(0,a.jsx)(Pe.Z,{code:l}),children:l}):"-"}}],size:"small",className:V().left_table_style,dataSource:G,pagination:!1,scroll:{y:innerHeight-90-72-39},rowSelection:{columnTitle:(0,a.jsx)(ne.Z,{style:{color:"#1890ff",cursor:"pointer"},onClick:function(){return jn()}}),columnWidth:24,renderCell:function(e,t){var r=t.hasAdd,i=t.addCaseCount,l="#1890ff";return i==="all"&&(l="#eee"),r&&i!=="all"?(0,a.jsx)(At,{onClick:function(){return dt(t)},style:{fontSize:14,width:14,height:14,cursor:"pointer"}}):(0,a.jsx)(ne.Z,{style:{color:l},onClick:function(){return dt(t)}})}},expandable:{columnWidth:24,expandedRowKeys:$e,onExpand:function(e,t){return e?lt(t):Ce([])},expandedRowRender:function(e){return(0,a.jsx)(A.Z,{size:"small",rowKey:"id",locale:{emptyText:(0,a.jsx)(y._H,{id:"suite.no.data"})},columns:m==="business"?[{render:function(r){return(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(ne.Z,{style:{color:r.isAdd?"#eee":"#1890ff",cursor:"pointer"},onClick:function(){return ot(r,e)}}),(0,a.jsx)(N.Z.Text,{children:r.name})]})}}]:[{render:function(r){return(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(ne.Z,{style:{color:r.isAdd?"#eee":"#1890ff",cursor:"pointer"},onClick:function(){return ot(r,e)}}),(0,a.jsx)(N.Z.Text,{children:r.name})]})}},(0,n.Z)({title:o({id:"suite.var"}),dataIndex:"var",width:180},ht),{dataIndex:"doc",ellipsis:!0,width:200,render:function(r,i){var l=i.doc,Z=i.description,j=l||Z;return j?(0,a.jsx)(ee.Z,{placement:"leftTop",overlayInnerStyle:{width:450,height:300,overflow:"auto"},color:"#fff",title:(0,a.jsx)(Pe.Z,{code:j}),children:j}):"-"}}],dataSource:e.test_case_list,showHeader:!1,pagination:!1})},expandIcon:function(e){var t=e.expanded,r=e.onExpand,i=e.record;return(0,a.jsx)(Re.Z,{rotate:t?90:0,style:{cursor:"pointer"},onClick:function(Z){return r(i,Z)}})}}})]})]})}),(0,a.jsxs)(be.Z,{title:(0,a.jsx)(y._H,{id:"delete.tips"}),centered:!0,open:sn,onCancel:ct,footer:[(0,a.jsx)(K.Z,{onClick:we,loading:de,children:(0,a.jsx)(y._H,{id:"operation.confirm.delete"})},"submit"),(0,a.jsx)(K.Z,{type:"primary",onClick:ct,children:(0,a.jsx)(y._H,{id:"operation.cancel"})},"back")],width:600,maskClosable:!1,children:[(0,a.jsxs)("div",{style:{color:"red",marginBottom:5},children:[(0,a.jsx)(wt.Z,{style:{marginRight:4}}),o({id:"suite.please.delete.carefully"},{data:Se==="suite"?"Suite":"Conf"})]}),(0,a.jsx)("div",{style:{color:"rgba(0,0,0,0.45)",marginBottom:5},children:o({id:"suite.delete.influence.range"},{data:Se==="suite"?"Suite":"Conf"})}),(0,a.jsx)("div",{style:{color:"#1890FF",cursor:"pointer"},onClick:Sn,children:(0,a.jsx)(y._H,{id:"suite.view.reference.details"})})]}),(0,a.jsx)(Dt,{ref:it,onSave:ft,btnLoad:de})]})},Ht=kt},81629:function(J,P,s){"use strict";s.d(P,{J1:function(){return L},R2:function(){return D},p4:function(){return A},Vz:function(){return q},Ux:function(){return ee}});var E=s(39428),b=s(3182),R=s(16917);function L(S){return I.apply(this,arguments)}function I(){return I=(0,b.Z)((0,E.Z)().mark(function S(g){return(0,E.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,R.WY)("/api/case/workspace/case/",{params:g}));case 1:case"end":return n.stop()}},S)})),I.apply(this,arguments)}function $(S){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function S(g){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/auth/user/",{params:g}));case 1:case"end":return n.stop()}},S)})),M.apply(this,arguments)}function Q(S){return W.apply(this,arguments)}function W(){return W=_asyncToGenerator(_regeneratorRuntime().mark(function S(g){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/case/workspace/has_record/",{params:g}));case 1:case"end":return n.stop()}},S)})),W.apply(this,arguments)}function D(){return U.apply(this,arguments)}function U(){return U=(0,b.Z)((0,E.Z)().mark(function S(){var g,w=arguments;return(0,E.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return g=w.length>0&&w[0]!==void 0?w[0]:{page_size:100},v.abrupt("return",(0,R.WY)("/api/case/test_domain/",{params:g}));case 2:case"end":return v.stop()}},S)})),U.apply(this,arguments)}function A(S){return se.apply(this,arguments)}function se(){return se=(0,b.Z)((0,E.Z)().mark(function S(g){var w,n;return(0,E.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:w={};for(n in g)(g[n]||g[n]===0)&&(w[n]=g[n]);return x.abrupt("return",(0,R.WY)("/api/case/workspace/business/brief/",{method:"GET",params:w}));case 3:case"end":return x.stop()}},S)})),se.apply(this,arguments)}function q(S){return ie.apply(this,arguments)}function ie(){return ie=(0,b.Z)((0,E.Z)().mark(function S(g){var w,n;return(0,E.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:w={};for(n in g)(g[n]||g[n]===0)&&(w[n]=g[n]);return x.abrupt("return",(0,R.WY)("/api/case/business/brief/",{method:"GET",params:w}));case 3:case"end":return x.stop()}},S)})),ie.apply(this,arguments)}function ee(S){return te.apply(this,arguments)}function te(){return te=(0,b.Z)((0,E.Z)().mark(function S(g){return(0,E.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,R.WY)("/api/case/workspace/business/brief/",{method:"GET",params:g}));case 1:case"end":return n.stop()}},S)})),te.apply(this,arguments)}}}]);
