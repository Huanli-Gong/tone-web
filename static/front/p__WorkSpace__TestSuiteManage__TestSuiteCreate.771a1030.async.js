(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[8088],{85311:function(X,P,s){"use strict";s.d(P,{Z:function(){return D}});var _=s(45972),A=s(22374),L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"},R=L,O=s(25078),M=function(k,W){return A.createElement(O.Z,(0,_.Z)((0,_.Z)({},k),{},{ref:W,icon:R}))};M.displayName="PlusCircleFilled";var D=A.forwardRef(M)},59185:function(X){X.exports={suite_nav_bar:"suite_nav_bar___1kCBN",suite_left_wrapper:"suite_left_wrapper___3Itn5",suite_right_wrapper:"suite_right_wrapper___2hUvd",left_table_style:"left_table_style___FA4-R",right_table_style:"right_table_style___1igwV",search_input_style:"search_input_style___2HChI",tooltipCss:"tooltipCss___1kzGl"}},53536:function(X,P,s){"use strict";var _=s(41428),A=s(97939),L=s(44541),R=s(52454),O,M=A.ZP.div(O||(O=(0,_.Z)([`
    background:#fff!important;
    h1, h2, h3, h4, h5, h6 , p { margin : 0 ; }
    h1 { font-size:32px; }
    h2 { font-size:24px; }
    h3 { font-size:18.72px; }
    h4 { font-size:16px; }
    h5 { font-size:13.28px; }
    h6 { font-size:12px; }
    p , code , li , th , tr { color : #333; }
    ul { list-style-type: disc; }
    ol { list-style-type: decimal; }
    ul ul { list-style-type: circle; }
    ul ul ul { list-style-type: square; }
    table th, table tr , table td {
        border: 1px solid #dfe2e5;
        padding: 6px 13px;
    }
    table thead th { background-color: #F8F8F8; }
    table thead tr { background-color: #ffffff; }
    table tr:nth-child(2n) { background-color: #f8f8f8; }
    code, pre { background-color: #f9f9f9; }
    pre { padding : 8px }
`]))),D=function(k){var W=k.code;return W?(0,R.jsx)(M,{dangerouslySetInnerHTML:{__html:L.TU.parse(W)}}):(0,R.jsx)(R.Fragment,{})};P.Z=D},23115:function(X,P,s){"use strict";s.r(P),s.d(P,{default:function(){return kt}});var _=s(16832),A=s(69827),L=s(14320),R=s(53479),O=s(20693),M=s(3278),D=s(69230),re=s(33821),k=s(67448),W=s(47548),ae=s(11407),b=s(41604),se=s(92784),J=s(31544),ie=s(79625),Q=s(96584),q=s(64974),S=s(81138),g=s(96146),w=s(2605),n=s(20418),v=s(35832),x=s(32326),An=s(67515),Ae=s(41083),bn=s(31650),$=s(25100),Fn=s(57359),U=s(34423),Ln=s(46721),N=s(94867),E=s(39190),d=s(22374),be=s(24812),y=s(22812),Fe=s(45972),yt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"}}]},name:"minus-circle",theme:"filled"},Zt=yt,Ct=s(25078),Le=function(p,o){return d.createElement(Ct.Z,(0,Fe.Z)((0,Fe.Z)({},p),{},{ref:o,icon:Zt}))};Le.displayName="MinusCircleFilled";var ve=d.forwardRef(Le),St=s(51767),ee=s(85311),Re=s(81343),xt=s(2514),jt=s(46601),Oe,Ie,_t=["svgRef","title"];function le(){return le=Object.assign?Object.assign.bind():function(h){for(var p=1;p<arguments.length;p++){var o=arguments[p];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(h[f]=o[f])}return h},le.apply(this,arguments)}function wt(h,p){if(h==null)return{};var o=Et(h,p),f,c;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);for(c=0;c<m.length;c++)f=m[c],!(p.indexOf(f)>=0)&&(!Object.prototype.propertyIsEnumerable.call(h,f)||(o[f]=h[f]))}return o}function Et(h,p){if(h==null)return{};var o={},f=Object.keys(h),c,m;for(m=0;m<f.length;m++)c=f[m],!(p.indexOf(c)>=0)&&(o[c]=h[c]);return o}var Tt=function(p){var o=p.svgRef,f=p.title,c=wt(p,_t);return d.createElement("svg",le({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:o},c),f?d.createElement("title",null,f):null,Oe||(Oe=d.createElement("desc",null,"Created with Sketch.")),Ie||(Ie=d.createElement("g",{id:"ws-\\u7528\\u4F8B\\u7BA1\\u7406",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},d.createElement("g",{id:"4-\\u589E\\u5220\\u754C\\u9762-\\u5E38\\u89C4",transform:"translate(-565.000000, -445.000000)"},d.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(550.000000, 85.000000)"},d.createElement("g",{id:"\\u8868\\u683C",transform:"translate(0.000000, 63.000000)"},d.createElement("g",{id:"\\u5185\\u5BB9"},d.createElement("g",{transform:"translate(15.000000, 0.000000)"},d.createElement("g",{id:"\\u7F16\\u7EC4-2",transform:"translate(0.000000, 76.000000)"},d.createElement("g",{id:"\\u6DFB\\u52A0",transform:"translate(0.000000, 221.000000)"},d.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),d.createElement("path",{d:"M8,0 C3.5816,0 0,3.5816 0,8 C0,12.4184 3.5816,16 8,16 C12.4184,16 16,12.4184 16,8 C16,3.5816 12.4184,0 8,0 Z",id:"\\u5F62\\u72B6",fill:"#1890FF",fillRule:"nonzero"}),d.createElement("rect",{id:"\\u77E9\\u5F62",fill:"#FFFFFF",x:5,y:5,width:6,height:6})))))))))))},At=d.forwardRef(function(h,p){return d.createElement(Tt,le({svgRef:p},h))}),Rn=s.p+"static/un_full.952e0751.svg",Pe=s(39935),bt=function(){var h=(0,x.Z)((0,v.Z)().mark(function p(o){return(0,v.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.WY)("/api/case/test_suite/",{params:o}));case 1:case"end":return c.stop()}},p)}));return function(o){return h.apply(this,arguments)}}();function Ft(h){return me.apply(this,arguments)}function me(){return me=(0,x.Z)((0,v.Z)().mark(function h(p){return(0,v.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,y.WY)("/api/case/ws_case/confirm/",{data:p,method:"post"}));case 1:case"end":return f.stop()}},h)})),me.apply(this,arguments)}function Lt(h){return ge.apply(this,arguments)}function ge(){return ge=(0,x.Z)((0,v.Z)().mark(function h(p){return(0,v.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,y.WY)("/api/case/workspace/case/",{params:p}));case 1:case"end":return f.stop()}},h)})),ge.apply(this,arguments)}var On=null,Rt=function(){var h=(0,x.Z)((0,v.Z)().mark(function p(o){return(0,v.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,y.WY)("/api/case/workspace/case/batch/add/",{method:"post",data:o}));case 1:case"end":return c.stop()}},p)}));return function(o){return h.apply(this,arguments)}}(),ye=s(25578),Ot=s(59185),K=s.n(Ot),It=s(97207),Me=s(53536),Pt=s(526),r=s(52454),De=function(p){return p.reduce(function(o,f){return o.concat(f.test_case_list.map(function(c){return c.id}))},[]).sort(function(o,f){return o-f})},Mt=d.forwardRef(function(h,p){var o=h.onSave,f=h.btnLoad,c=(0,be.UO)(),m=c.ws_id,Ze=c.test_type,ue=d.useState(!1),F=(0,E.Z)(ue,2),z=F[0],oe=F[1];d.useImperativeHandle(p,function(){return{show:function(){oe(!0)}}});var V=function(){oe(!1)};return(0,r.jsx)(Ae.Z,{title:"\u63D0\u793A",width:600,open:z,destroyOnClose:!0,centered:!0,onCancel:V,maskClosable:!1,footer:(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(N.Z,{onClick:function(){V(),y.m8.push("/ws/".concat(m,"/test_suite?test_type=").concat(Ze))},children:"\u4E0D\u4FDD\u5B58"}),(0,r.jsx)(N.Z,{type:"primary",onClick:function(){return o==null?void 0:o(V)},loading:f,children:"\u4FDD\u5B58"})]}),children:(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(St.Z,{style:{color:"#FFA400"}}),(0,r.jsx)($.Z.Text,{children:"\u7528\u4F8B\u6709\u53D8\u52A8\uFF0C\u662F\u5426\u4FDD\u5B58\uFF1F"})]})})}),Dt=function(){var p=(0,y.YB)(),o=p.formatMessage,f=(0,be.UO)(),c=f.ws_id,m=f.test_type,Ze=(0,d.useState)([]),ue=(0,E.Z)(Ze,2),F=ue[0],z=ue[1],oe=(0,d.useState)(!0),V=(0,E.Z)(oe,2),te=V[0],Wt=V[1],Ht=(0,d.useState)(!1),ke=(0,E.Z)(Ht,2),de=ke[0],We=ke[1],Bt=(0,d.useState)([]),He=(0,E.Z)(Bt,2),Y=He[0],H=He[1],Ut=(0,d.useState)({domain:"",visible_ws_id:c,test_type:m,name:"",scope:"brief_case"}),Be=(0,E.Z)(Ut,2),G=Be[0],Ue=Be[1],zt=(0,d.useState)([]),ze=(0,E.Z)(zt,2),$e=ze[0],Ce=ze[1],$t=(0,d.useState)(!1),Ne=(0,E.Z)($t,2),Nt=Ne[0],ce=Ne[1],Kt=(0,d.useState)(!0),Ke=(0,E.Z)(Kt,2),Vt=Ke[0],Ve=Ke[1],Yt=(0,d.useState)([]),Ye=(0,E.Z)(Yt,2),Gt=Ye[0],Xt=Ye[1],Jt=(0,d.useState)(""),Ge=(0,E.Z)(Jt,2),Qt=Ge[0],qt=Ge[1],en=(0,d.useState)(""),Xe=(0,E.Z)(en,2),Je=Xe[0],tn=Xe[1],nn=(0,d.useState)("suite"),Qe=(0,E.Z)(nn,2),Se=Qe[0],qe=Qe[1],rn=(0,d.useState)(!1),et=(0,E.Z)(rn,2),an=et[0],tt=et[1],sn=(0,d.useState)(!0),nt=(0,E.Z)(sn,2),ln=nt[0],rt=nt[1],un=d.useState([]),at=(0,E.Z)(un,2),st=at[0],on=at[1],dn=d.useState([]),it=(0,E.Z)(dn,2),xe=it[0],cn=it[1],lt=d.useRef(null),fn=(0,Pt.CR)(),pn=fn.height,hn=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(){var t,a;return(0,v.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,ye.R2)();case 2:t=l.sent,a=t.data,Xt(a);case 5:case"end":return l.stop()}},e)}));return function(){return u.apply(this,arguments)}}(),ne=null;(0,d.useEffect)(function(){return hn(),function(){clearTimeout(ne)}},[]);var vn=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(){var t,a,i,l,Z,j,T,I;return(0,v.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(t=F,a=[],Ve(!0),!(F.length===0&&c&&te)){C.next=17;break}if(rt(!0),m!=="business"){C.next=11;break}return C.next=8,(0,ye.Ux)({ws_id:c,scope:"brief"});case 8:C.t0=C.sent,C.next=14;break;case 11:return C.next=13,Lt({ws_id:c,test_type:m,scope:"brief_case",page_size:100});case 13:C.t0=C.sent;case 14:i=C.t0,l=i.data,t=l;case 17:if(Z=G.domain,j=G.name,m!=="business"){C.next=24;break}return C.next=21,(0,ye.Vz)({domain:Z,name:j});case 21:C.t1=C.sent,C.next=27;break;case 24:return C.next=26,bt(G);case 26:C.t1=C.sent;case 27:T=C.t1,I=T.data,t.length>0?a=I.map(function(B){for(var wn=function(En){var Ee=t[En];if(B.id===Ee.id){if(Ee.test_case_list.length>0){var pe=0,Te=B.test_case_list;return Te=Te.map(function(he){return Ee.test_case_list.forEach(function(Tn){Tn.id===he.id&&(he=(0,n.Z)((0,n.Z)({},he),{},{isAdd:!0}),pe++)}),he}),pe===B.test_case_list.length&&(pe="all"),{v:(0,n.Z)((0,n.Z)({},B),{},{hasAdd:!0,addCaseCount:pe,test_case_list:Te})}}return{v:(0,n.Z)((0,n.Z)({},B),{},{hasAdd:!0,addCaseCount:"all"})}}},we=0;we<t.length;we++){var gt=wn(we);if(typeof gt=="object")return gt.v}return(0,n.Z)((0,n.Z)({},B),{},{addCaseCount:0,hasAdd:!1})}):a=I.map(function(B){return(0,n.Z)((0,n.Z)({},B),{},{hadAdd:!1,addCaseCount:0})}),fe(a,t),Wt(!1),H(a),cn(a),on(De(t)),Ve(!1),rt(!1);case 37:case"end":return C.stop()}},e)}));return function(){return u.apply(this,arguments)}}();(0,d.useEffect)(function(){vn()},[G]);var ut=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(t){return(0,v.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:Ce([+t.id]);case 1:case"end":return i.stop()}},e)}));return function(t){return u.apply(this,arguments)}}();(0,d.useEffect)(function(){return function(){clearTimeout(ne)}},[]);var mn=function(){H(xe),fe(xe,xe.reduce(function(e,t){var a=t.test_case_list,i=a==null?void 0:a.reduce(function(l,Z){return st.includes(Z.id)?l.concat(Z):l},[]);return i&&i.length>0?e.concat((0,n.Z)((0,n.Z)({},t),{},{test_case_list:i})):e},[]))},ot=function(){var e=function(){return Ue((0,n.Z)((0,n.Z)({},G),{},{name:Je}))};ne&&clearTimeout(ne),ne=setTimeout(e,300)},gn=function(e){Ue((0,n.Z)((0,n.Z)({},G),{},{domain:e})),qt(e)},dt=function(e,t){if(ce(!0),!e.isAdd){var a=0,i=t.hasAdd,l=[],Z=t.test_case_list.map(function(T){if(T.isAdd)return a++,l.push(T),T;if(T.id===e.id){i=!0,a++;var I=(0,n.Z)((0,n.Z)({},T),{},{isAdd:!0});return l.push(I),I}return T});a===t.test_case_list.length&&(a="all");var j=Y.map(function(T){return T.id===t.id?(0,n.Z)((0,n.Z)({},T),{},{test_case_list:Z,hasAdd:i,addCaseCount:a}):T});H(j),fe(j)}},ct=function(e){ce(!0);var t=Y.map(function(a){if(a.id===e.id)if(a.test_case_list&&a.test_case_list.length>0){var i=a.test_case_list.map(function(l){return(0,n.Z)((0,n.Z)({},l),{},{isAdd:!0})});return(0,n.Z)((0,n.Z)({},a),{},{addCaseCount:"all",hasAdd:!0,test_case_list:i})}else return(0,n.Z)((0,n.Z)({},a),{},{addCaseCount:"all",hasAdd:!0});return a});H(t),fe(t)},yn=function(e,t){qe("conf"),ce(!1),H(Y.map(function(i){var l=0;if(i.id===e.id){var Z=i.test_case_list.map(function(j){return j.id===t.id?(0,n.Z)((0,n.Z)({},j),{},{isAdd:!1}):(j.isAdd&&l++,j)});return l===0?(0,n.Z)((0,n.Z)({},i),{},{addCaseCount:l,hasAdd:!1,test_case_list:Z}):(0,n.Z)((0,n.Z)({},i),{},{addCaseCount:l,test_case_list:Z})}return i}));var a=F.map(function(i){if(i.id===e.id){var l=i.test_case_list.filter(function(Z){return Z.id!==t.id});i.test_case_list=l}return i});a=a.filter(function(i){return i&&i.test_case_list.length}),z(a)},Zn=function(e){qe("suite"),ce(!1),H(Y.map(function(a){if(a.id===e.id){if(a.test_case_list&&a.test_case_list.length>0){var i=a.test_case_list.map(function(l){return(0,n.Z)((0,n.Z)({},l),{},{isAdd:!1})});return(0,n.Z)((0,n.Z)({},a),{},{hasAdd:!1,addCaseCount:0,test_case_list:i})}return(0,n.Z)((0,n.Z)({},a),{},{hasAdd:!1,addCaseCount:0})}return a}));var t=F.filter(function(a){return a&&a.id!==e.id});z(t)},je=(0,d.useMemo)(function(){var u=[];return F.forEach(function(e){var t;e.test_case_list&&e.test_case_list.length>0&&(u=(t=u).concat.apply(t,(0,w.Z)(e.test_case_list.map(function(a){return a.id}))))}),u.toString()},[F]),_e=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(t){var a;return(0,v.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(We(!0),!c){l.next=6;break}return l.next=4,Rt({case_id_list:je,ws_id:c,suite_id_list:"",test_type:m});case 4:a=l.sent,a.code===200?(We(!1),g.default.success(o({id:"operation.success"})),t&&Object.prototype.toString.call(t)==="[object Function]"&&t(),y.m8.push("/ws/".concat(c,"/test_suite?test_type=").concat(m))):g.default.error(o({id:"operation.failed"}));case 6:case"end":return l.stop()}},e)}));return function(t){return u.apply(this,arguments)}}(),ft=function(){tt(!1)},Cn=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(){var t;return(0,v.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,Pe.MR)({test_type:m,name:Se,id:je});case 2:t=i.sent,t&&window.open("/ws/".concat(c,"/refenerce/1/?pk=").concat(t));case 4:case"end":return i.stop()}},e)}));return function(){return u.apply(this,arguments)}}(),pt=function(){var u=(0,x.Z)((0,v.Z)().mark(function e(t){var a;return(0,v.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!Nt){l.next=4;break}_e(t),l.next=8;break;case 4:return l.next=6,Ft({flag:"pass",ws_id:c,suite_id_list:"",case_id_list:je,test_type:m});case 6:a=l.sent,a.code==200?tt(!0):_e(t);case 8:case"end":return l.stop()}},e)}));return function(t){return u.apply(this,arguments)}}(),Sn=function(){if(st.toString()!==De(F).toString()){var e;(e=lt.current)===null||e===void 0||e.show();return}y.m8.push("/ws/".concat(c,"/test_suite?test_type=").concat(m))},fe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,a=[];e.forEach(function(l){if(l.addCaseCount==="all")a.push(l);else if(l.addCaseCount){var Z=[],j=(0,q.Z)(l.test_case_list),T;try{for(j.s();!(T=j.n()).done;){var I=T.value;I.isAdd&&Z.push(I)}}catch(mt){j.e(mt)}finally{j.f()}a.push((0,n.Z)((0,n.Z)({},l),{},{test_case_list:Z}))}});var i=(0,It.unionBy)(a,t,"id");z(i)},ht=F,vt={ellipsis:{showTitle:!1},render:function(e){return e&&e!=="[]"?(0,r.jsx)(Q.Z,{placement:e&&e.length>100?"left":"top",title:e&&e!=="[]"?e:"-",children:(0,r.jsx)("span",{children:e&&e!=="[]"?e:"-"})}):(0,r.jsx)("span",{children:"-"})}},xn=function(){var e=Y.map(function(t){return(0,n.Z)((0,n.Z)({},t),{},{hasAdd:!0,addCaseCount:"all",test_case_list:t.test_case_list.map(function(a){return(0,n.Z)((0,n.Z)({},a),{},{isAdd:!0})})})});H(e),z(e)},jn=function(){H(function(e){return e.map(function(t){if(t.test_case_list&&t.test_case_list.length>0){var a=t.test_case_list.map(function(i){return(0,n.Z)((0,n.Z)({},i),{},{isAdd:!1})});return(0,n.Z)((0,n.Z)({},t),{},{hasAdd:!1,addCaseCount:0,test_case_list:a})}return(0,n.Z)((0,n.Z)({},t),{},{hasAdd:!1,addCaseCount:0})})}),z([])},_n=(0,d.useMemo)(function(){return m==="business"?(0,r.jsx)(y._H,{id:"suite.business"}):m==="functional"?(0,r.jsx)(y._H,{id:"suite.functional"}):(0,r.jsx)(y._H,{id:"suite.performance"})},[m]);return(0,r.jsxs)(A.Z.Content,{style:{height:pn,overflow:"hidden"},children:[(0,r.jsx)(J.Z,{className:K().suite_nav_bar,title:(0,r.jsx)(y._H,{id:"test.suite.manage"}),onBack:Sn,extra:(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(N.Z,{onClick:mn,children:(0,r.jsx)(y._H,{id:"suite.recovery"})}),(0,r.jsx)(N.Z,{type:"primary",onClick:function(){return pt()},disabled:de,loading:de,children:(0,r.jsx)(y._H,{id:"operation.save"})})]})}),(0,r.jsx)(A.Z,{style:{height:"calc(100% - 50px)"},children:(0,r.jsxs)(R.Z,{style:{padding:20,height:"100%",background:"#f5f5f5"},children:[(0,r.jsxs)("div",{className:K().suite_left_wrapper,style:{height:innerHeight-50-40},children:[(0,r.jsx)(J.Z,{title:(0,r.jsx)(y._H,{id:"suite.added"})}),(0,r.jsx)(W.Z,{spinning:ln,children:ht.length===0?(0,r.jsxs)("div",{style:{textAlign:"center",marginTop:192},children:[(0,r.jsxs)($.Z.Text,{children:[(0,r.jsx)(y._H,{id:"suite.click.right"}),"\xA0"]}),(0,r.jsx)(ee.Z,{style:{color:"#1890ff"}}),(0,r.jsx)($.Z.Text,{children:(0,r.jsx)(y._H,{id:"suite.add.to.workspace"})})]}):(0,r.jsx)(b.Z,{size:"small",className:K().right_table_style,scroll:{y:innerHeight-90-72-39},columns:[b.Z.SELECTION_COLUMN,b.Z.EXPAND_COLUMN,{title:"Test Suite",dataIndex:"name"}],rowSelection:{columnWidth:24,columnTitle:(0,r.jsx)(ve,{style:{color:"red"},onClick:function(){return jn()}}),renderCell:function(e,t){return(0,r.jsx)(ve,{style:{color:"red"},onClick:function(){return Zn(t)}})}},dataSource:ht,expandable:{columnWidth:24,onExpand:function(e,t){return e?ut(t):Ce([])},expandedRowKeys:$e,expandedRowRender:function(e){return(0,r.jsx)(b.Z,{locale:{emptyText:(0,r.jsx)(y._H,{id:"suite.no.data"})},size:"small",columns:[{render:function(a){return(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(ve,{style:{color:"red"},onClick:function(){return yn(e,a)}}),(0,r.jsx)($.Z.Text,{children:a.name})]})}}],rowKey:"id",showHeader:!1,pagination:!1,dataSource:e.test_case_list||[]})},expandIcon:function(e){var t=e.expanded,a=e.onExpand,i=e.record;return(0,r.jsx)(Re.Z,{rotate:t?90:0,onClick:function(Z){return a(i,Z)}})}},rowKey:"id",pagination:!1})})]}),(0,r.jsxs)("div",{className:K().suite_right_wrapper,style:{height:innerHeight-50-40},children:[(0,r.jsx)(J.Z,{title:_n,extra:(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(re.Z,{value:Qt,onSelect:gn,style:{width:148},filterOption:function(e,t){return t.label.toLowerCase().indexOf(e.toLowerCase())>=0},allowClear:!0,showSearch:!0,options:[{value:"",label:o({id:"suite.all.domain"})}].concat(Gt.map(function(u){return{value:u.id,label:u.name}}))}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"start",justifyContent:"center"},children:[(0,r.jsx)(M.Z,{style:{width:160,height:32},allowClear:!0,value:Je,onChange:function(e){var t=e.target;return tn(t.value)},onPressEnter:ot,placeholder:o({id:"suite.search.TestSuites"})}),(0,r.jsx)("span",{className:K().search_input_style,onClick:ot,children:(0,r.jsx)(xt.Z,{})})]})]})}),(0,r.jsx)(b.Z,{rowKey:"id",loading:Vt,columns:m==="business"?[b.Z.SELECTION_COLUMN,b.Z.EXPAND_COLUMN,{title:"Test Suite",dataIndex:"name"},{title:o({id:"suite.business_name"}),dataIndex:"business_name"},{title:o({id:"suite.test_type"}),dataIndex:"test_type",render:function(e){return(0,r.jsx)(r.Fragment,{children:Pe.oQ.map(function(t){return t.value===e?o({id:t.value}):""})})}}]:[b.Z.SELECTION_COLUMN,b.Z.EXPAND_COLUMN,{title:"Test Suite",dataIndex:"name"},(0,n.Z)({title:o({id:"suite.var"}),dataIndex:"var",width:180},vt),{title:o({id:"suite.description"}),dataIndex:"doc",ellipsis:{showTitle:!1},width:200,render:function(e,t){var a=t.doc,i=t.description,l=a||i;return l?(0,r.jsx)(Q.Z,{placement:"leftTop",overlayInnerStyle:{width:450,height:300,overflow:"auto"},color:"#fff",title:(0,r.jsx)(Me.Z,{code:l}),children:l}):"-"}}],size:"small",className:K().left_table_style,dataSource:Y,pagination:!1,scroll:{y:innerHeight-90-72-39},rowSelection:{columnTitle:(0,r.jsx)(ee.Z,{style:{color:"#1890ff",cursor:"pointer"},onClick:function(){return xn()}}),columnWidth:24,renderCell:function(e,t){var a=t.hasAdd,i=t.addCaseCount,l="#1890ff";return i==="all"&&(l="#eee"),a&&i!=="all"?(0,r.jsx)(At,{onClick:function(){return ct(t)},style:{fontSize:14,width:14,height:14,cursor:"pointer"}}):(0,r.jsx)(ee.Z,{style:{color:l},onClick:function(){return ct(t)}})}},expandable:{columnWidth:24,expandedRowKeys:$e,onExpand:function(e,t){return e?ut(t):Ce([])},expandedRowRender:function(e){return(0,r.jsx)(b.Z,{size:"small",rowKey:"id",locale:{emptyText:(0,r.jsx)(y._H,{id:"suite.no.data"})},columns:m==="business"?[{render:function(a){return(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(ee.Z,{style:{color:a.isAdd?"#eee":"#1890ff",cursor:"pointer"},onClick:function(){return dt(a,e)}}),(0,r.jsx)($.Z.Text,{children:a.name})]})}}]:[{render:function(a){return(0,r.jsxs)(U.Z,{children:[(0,r.jsx)(ee.Z,{style:{color:a.isAdd?"#eee":"#1890ff",cursor:"pointer"},onClick:function(){return dt(a,e)}}),(0,r.jsx)($.Z.Text,{children:a.name})]})}},(0,n.Z)({title:o({id:"suite.var"}),dataIndex:"var",width:180},vt),{dataIndex:"doc",ellipsis:!0,width:200,render:function(a,i){var l=i.doc,Z=i.description,j=l||Z;return j?(0,r.jsx)(Q.Z,{placement:"leftTop",overlayInnerStyle:{width:450,height:300,overflow:"auto"},color:"#fff",title:(0,r.jsx)(Me.Z,{code:j}),children:j}):"-"}}],dataSource:e.test_case_list,showHeader:!1,pagination:!1})},expandIcon:function(e){var t=e.expanded,a=e.onExpand,i=e.record;return(0,r.jsx)(Re.Z,{rotate:t?90:0,style:{cursor:"pointer"},onClick:function(Z){return a(i,Z)}})}}})]})]})}),(0,r.jsxs)(Ae.Z,{title:(0,r.jsx)(y._H,{id:"delete.tips"}),centered:!0,open:an,onCancel:ft,footer:[(0,r.jsx)(N.Z,{onClick:_e,loading:de,children:(0,r.jsx)(y._H,{id:"operation.confirm.delete"})},"submit"),(0,r.jsx)(N.Z,{type:"primary",onClick:ft,children:(0,r.jsx)(y._H,{id:"operation.cancel"})},"back")],width:600,maskClosable:!1,children:[(0,r.jsxs)("div",{style:{color:"red",marginBottom:5},children:[(0,r.jsx)(jt.Z,{style:{marginRight:4}}),o({id:"suite.please.delete.carefully"},{data:Se==="suite"?"Suite":"Conf"})]}),(0,r.jsx)("div",{style:{color:"rgba(0,0,0,0.45)",marginBottom:5},children:o({id:"suite.delete.influence.range"},{data:Se==="suite"?"Suite":"Conf"})}),(0,r.jsx)("div",{style:{color:"#1890FF",cursor:"pointer"},onClick:Cn,children:(0,r.jsx)(y._H,{id:"suite.view.reference.details"})})]}),(0,r.jsx)(Mt,{ref:lt,onSave:pt,btnLoad:de})]})},kt=Dt},25578:function(X,P,s){"use strict";s.d(P,{J1:function(){return R},fP:function(){return M},R2:function(){return W},p4:function(){return b},Vz:function(){return J},Ux:function(){return Q}});var _=s(35832),A=s(32326),L=s(22812);function R(S){return O.apply(this,arguments)}function O(){return O=(0,A.Z)((0,_.Z)().mark(function S(g){return(0,_.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,L.WY)("/api/case/workspace/case/",{params:g}));case 1:case"end":return n.stop()}},S)})),O.apply(this,arguments)}function M(S){return D.apply(this,arguments)}function D(){return D=(0,A.Z)((0,_.Z)().mark(function S(g){return(0,_.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,L.WY)("/api/auth/user/",{params:g}));case 1:case"end":return n.stop()}},S)})),D.apply(this,arguments)}function re(S){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function S(g){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/case/workspace/has_record/",{params:g}));case 1:case"end":return n.stop()}},S)})),k.apply(this,arguments)}function W(){return ae.apply(this,arguments)}function ae(){return ae=(0,A.Z)((0,_.Z)().mark(function S(){var g,w=arguments;return(0,_.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return g=w.length>0&&w[0]!==void 0?w[0]:{page_size:100},v.abrupt("return",(0,L.WY)("/api/case/test_domain/",{params:g}));case 2:case"end":return v.stop()}},S)})),ae.apply(this,arguments)}function b(S){return se.apply(this,arguments)}function se(){return se=(0,A.Z)((0,_.Z)().mark(function S(g){var w,n;return(0,_.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:w={};for(n in g)(g[n]||g[n]===0)&&(w[n]=g[n]);return x.abrupt("return",(0,L.WY)("/api/case/workspace/business/brief/",{method:"GET",params:w}));case 3:case"end":return x.stop()}},S)})),se.apply(this,arguments)}function J(S){return ie.apply(this,arguments)}function ie(){return ie=(0,A.Z)((0,_.Z)().mark(function S(g){var w,n;return(0,_.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:w={};for(n in g)(g[n]||g[n]===0)&&(w[n]=g[n]);return x.abrupt("return",(0,L.WY)("/api/case/business/brief/",{method:"GET",params:w}));case 3:case"end":return x.stop()}},S)})),ie.apply(this,arguments)}function Q(S){return q.apply(this,arguments)}function q(){return q=(0,A.Z)((0,_.Z)().mark(function S(g){return(0,_.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,L.WY)("/api/case/workspace/business/brief/",{method:"GET",params:g}));case 1:case"end":return n.stop()}},S)})),q.apply(this,arguments)}}}]);
