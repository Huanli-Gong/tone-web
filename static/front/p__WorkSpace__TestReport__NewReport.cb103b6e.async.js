(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[9522],{49648:function(Tr,Rt,f){"use strict";f.r(Rt),f.d(Rt,{default:function(){return kn}});var V=f(20228),je=f(11382),ce=f(57663),_t=f(71577),Xt=f(89032),st=f(15746),qt=f(34792),it=f(48086),re=f(2824),er=f(49111),Xe=f(19650),tr=f(36017),Ct=f(35247),Pe=f(39428),qe=f(3182),rr=f(13062),Ie=f(71230),at=f(20310),r=f(67294),wt,Pt=["svgRef","title"];function ct(){return ct=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=a[o])}return c},ct.apply(this,arguments)}function Tt(c,t){if(c==null)return{};var a=kt(c,t),o,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);for(s=0;s<u.length;s++)o=u[s],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,o)||(a[o]=c[o]))}return a}function kt(c,t){if(c==null)return{};var a={},o=Object.keys(c),s,u;for(u=0;u<o.length;u++)s=o[u],!(t.indexOf(s)>=0)&&(a[s]=c[s]);return a}var At=function(t){var a=t.svgRef,o=t.title,s=Tt(t,Pt);return r.createElement("svg",ct({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:a},s),o?r.createElement("title",null,o):null,wt||(wt=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"31.\\u81EA\\u5B9A\\u4E49-\\u5B8C\\u6210\\u72B6\\u6001",transform:"translate(-22.000000, -223.000000)",fill:"#000000",fillRule:"nonzero"},r.createElement("g",{id:"Group-19",transform:"translate(0.000000, 48.000000)"},r.createElement("g",{id:"Group-5",transform:"translate(20.000000, 170.000000)"},r.createElement("g",{id:"\\u7F16\\u8F91",transform:"translate(0.000000, 3.000000)"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("g",{id:"Group",transform:"translate(2.000000, 2.000000)"},r.createElement("path",{d:"M10.9395833,4.99699511 C10.9395833,4.65949511 10.69375,4.38657844 10.3895833,4.38657844 C10.0854167,4.38657844 9.83958333,4.65949511 9.83958333,4.99699511 L9.83958333,10.0032451 C9.83958333,10.2657451 9.6875,10.7532451 9.47708333,10.7532451 L1.5375,10.7532451 C1.32708333,10.7532451 1.09583333,10.2657451 1.09583333,10.0032451 L1.09583333,2.76366177 C1.09583333,2.50116177 1.30208333,2.00949511 1.5125,2.00949511 L5.47083333,2.00949511 C5.775,2.00949511 6.02083333,1.85949511 6.02083333,1.52407844 C6.02083333,1.18657844 5.775,0.913661773 5.47083333,0.913661773 L0.96875,0.913661773 C0.435416667,0.913661773 -2.4158453e-13,1.45949511 -2.4158453e-13,2.12407844 L-2.4158453e-13,10.6344951 C-2.4158453e-13,11.3011618 0.435416667,11.8449118 0.96875,11.8449118 L9.96666667,11.8449118 C10.5,11.8449118 10.9354167,11.2990784 10.9354167,10.6344951 L10.9354167,5.06991177 C10.9395833,5.04699511 10.9395833,5.02199511 10.9395833,4.99699511 Z",id:"Path"}),r.createElement("path",{d:"M4.90416667,5.29491177 L2.7375,5.29491177 C2.43541667,5.29491177 2.1875,5.04699511 2.1875,4.74491177 C2.1875,4.44282844 2.43541667,4.19491177 2.7375,4.19491177 L4.90416667,4.19491177 C5.20625,4.19491177 5.4541797,4.44282844 5.4541797,4.74491177 C5.45625,5.04699511 5.20833333,5.29491177 4.90416667,5.29491177 Z M8.20416667,8.56991177 L2.72083333,8.56991177 C2.42083333,8.56991177 2.175,8.32407844 2.175,8.02407844 C2.175,7.72407844 2.42083333,7.47824511 2.72083333,7.47824511 L8.20208333,7.47824511 C8.50208333,7.47824511 8.74792981,7.72407844 8.74792981,8.02407844 C8.75,8.32407844 8.50416667,8.56991177 8.20416667,8.56991177 L8.20416667,8.56991177 Z M6.49166667,5.38657844 C6.25,5.20741177 6.2,4.86366177 6.37916667,4.62199511 L9.65416667,0.219911773 C9.83333333,-0.0217548933 10.1770833,-0.0717548933 10.41875,0.107411773 C10.6604167,0.28657844 10.7104167,0.63032844 10.53125,0.871995107 L7.25625,5.27407844 C7.07708333,5.51574511 6.73333333,5.56574511 6.49166667,5.38657844 L6.49166667,5.38657844 Z",id:"Shape"})))))))))},Gt=r.forwardRef(function(c,t){return r.createElement(At,ct({svgRef:t},c))}),nr=f.p+"static/icon_edit.21a80f50.svg",Dt,It=["svgRef","title"];function dt(){return dt=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=a[o])}return c},dt.apply(this,arguments)}function Bt(c,t){if(c==null)return{};var a=Ft(c,t),o,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);for(s=0;s<u.length;s++)o=u[s],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,o)||(a[o]=c[o]))}return a}function Ft(c,t){if(c==null)return{};var a={},o=Object.keys(c),s,u;for(u=0;u<o.length;u++)s=o[u],!(t.indexOf(s)>=0)&&(a[s]=c[s]);return a}var Mt=function(t){var a=t.svgRef,o=t.title,s=Bt(t,It);return r.createElement("svg",dt({width:"11px",height:"12px",viewBox:"0 0 11 12",ref:a},s),o?r.createElement("title",null,o):null,Dt||(Dt=r.createElement("g",{id:"\\u62A5\\u544A",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"31.\\u81EA\\u5B9A\\u4E49-\\u5B8C\\u6210\\u72B6\\u6001",transform:"translate(-22.000000, -223.000000)",fill:"#ccc",fillRule:"nonzero"},r.createElement("g",{id:"Group-19",transform:"translate(0.000000, 48.000000)"},r.createElement("g",{id:"Group-5",transform:"translate(20.000000, 170.000000)"},r.createElement("g",{id:"\\u7F16\\u8F91",transform:"translate(0.000000, 3.000000)"},r.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("g",{id:"Group",transform:"translate(2.000000, 2.000000)"},r.createElement("path",{d:"M10.9395833,4.99699511 C10.9395833,4.65949511 10.69375,4.38657844 10.3895833,4.38657844 C10.0854167,4.38657844 9.83958333,4.65949511 9.83958333,4.99699511 L9.83958333,10.0032451 C9.83958333,10.2657451 9.6875,10.7532451 9.47708333,10.7532451 L1.5375,10.7532451 C1.32708333,10.7532451 1.09583333,10.2657451 1.09583333,10.0032451 L1.09583333,2.76366177 C1.09583333,2.50116177 1.30208333,2.00949511 1.5125,2.00949511 L5.47083333,2.00949511 C5.775,2.00949511 6.02083333,1.85949511 6.02083333,1.52407844 C6.02083333,1.18657844 5.775,0.913661773 5.47083333,0.913661773 L0.96875,0.913661773 C0.435416667,0.913661773 -2.4158453e-13,1.45949511 -2.4158453e-13,2.12407844 L-2.4158453e-13,10.6344951 C-2.4158453e-13,11.3011618 0.435416667,11.8449118 0.96875,11.8449118 L9.96666667,11.8449118 C10.5,11.8449118 10.9354167,11.2990784 10.9354167,10.6344951 L10.9354167,5.06991177 C10.9395833,5.04699511 10.9395833,5.02199511 10.9395833,4.99699511 Z",id:"Path"}),r.createElement("path",{d:"M4.90416667,5.29491177 L2.7375,5.29491177 C2.43541667,5.29491177 2.1875,5.04699511 2.1875,4.74491177 C2.1875,4.44282844 2.43541667,4.19491177 2.7375,4.19491177 L4.90416667,4.19491177 C5.20625,4.19491177 5.4541797,4.44282844 5.4541797,4.74491177 C5.45625,5.04699511 5.20833333,5.29491177 4.90416667,5.29491177 Z M8.20416667,8.56991177 L2.72083333,8.56991177 C2.42083333,8.56991177 2.175,8.32407844 2.175,8.02407844 C2.175,7.72407844 2.42083333,7.47824511 2.72083333,7.47824511 L8.20208333,7.47824511 C8.50208333,7.47824511 8.74792981,7.72407844 8.74792981,8.02407844 C8.75,8.32407844 8.50416667,8.56991177 8.20416667,8.56991177 L8.20416667,8.56991177 Z M6.49166667,5.38657844 C6.25,5.20741177 6.2,4.86366177 6.37916667,4.62199511 L9.65416667,0.219911773 C9.83333333,-0.0217548933 10.1770833,-0.0717548933 10.41875,0.107411773 C10.6604167,0.28657844 10.7104167,0.63032844 10.53125,0.871995107 L7.25625,5.27407844 C7.07708333,5.51574511 6.73333333,5.56574511 6.49166667,5.38657844 L6.49166667,5.38657844 Z",id:"Shape"})))))))))},Kt=r.forwardRef(function(c,t){return r.createElement(Mt,dt({svgRef:t},c))}),N=f.p+"static/iconEdit.c0a2cef6.svg",g=f(54732),n=f(11849),i=f(16917),l=f(74379),ar=f(38648),Gn=f(402),Ye=f(97272),In=f(47673),$t=f(4107),Wt=f(8212),Je=f(20009),lt=f(24480),ft=f(12788),Et=f(96486),be=f.n(Et),ut=f(50310),e=f(85893),or,kr=$t.Z.TextArea,sr=(0,ft.ZP)(kr)(or||(or=(0,at.Z)([`
    width: 100%;
`]))),pt=function(t){var a=t.name,o=t.style,s=t.space,u=s===void 0?"0px":s,w=t.fontStyle,d=w===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:w,y=t.defaultHolder,C=t.btn,G=C===void 0?!1:C,v=t.isInput,X=v===void 0?!1:v,Q=t.onOk,U=(0,i.YB)(),J=U.formatMessage,F=(0,r.useState)(a),H=(0,re.Z)(F,2),E=H[0],T=H[1];r.useEffect(function(){T(a)},[a,G,X]);var Y=function(k){return be().isNull(k)||be().isUndefined(k)?J({id:"report.not.filled.in"}):k};return G?X?(0,e.jsx)($t.Z,{autoComplete:"off",size:"small",placeholder:y,style:(0,n.Z)({padding:"6px 8px 6px 8px",width:"93%"},d),value:E,onChange:function(k){T(k.target.value),Q(k.target.value)}}):(0,e.jsx)("div",{style:{marginBottom:u},children:(0,e.jsx)(sr,{autoComplete:"off",size:"small",placeholder:y,style:(0,n.Z)({padding:"10px"},d),value:E,onChange:function(k){T(k.target.value),Q(k.target.value)}})}):X?(0,e.jsx)(Ye.Z.Text,{style:d,children:Y(E)}):(0,e.jsx)("div",{style:(0,n.Z)({width:"100%"},o),children:(0,e.jsx)(Ye.Z.Text,{style:d,children:Y(E)})})},jt=function(t){var a=t.saveData,o=t.style,s=t.field,u=t.space,w=u===void 0?"0px":u,d=t.fontStyle,y=d===void 0?{fontSize:14,fontFamily:"PingFangSC-Regular",color:"rgba(0,0,0,0.65)",whiteSpace:"pre-wrap"}:d,C=t.defaultHolder,G=t.creator,v=(0,i.md)(),X=(0,i.YB)(),Q=X.formatMessage,U=(0,Je.UO)(),J=U.share_id,F=(0,r.useState)(!1),H=(0,re.Z)(F,2),E=H[0],T=H[1],Y=(0,r.useState)(""),M=(0,re.Z)(Y,2),k=M[0],te=M[1];(0,r.useEffect)(function(){te(s==="custom"?a.test_conclusion.custom:s==="text"?a.test_env.text:a[s])},[]);var j=function(D){ar.default.success({message:"".concat(D),placement:"bottomRight"})},m=function(D){var z={description:Q({id:"report.description.save"}),test_background:Q({id:"report.test_background.save"}),test_method:Q({id:"report.test_method.save"}),custom:Q({id:"report.test_conclusion.save"}),text:Q({id:"report.text.save"})};return z[D]},_=function(){var b=(0,qe.Z)((0,Pe.Z)().mark(function D(){var z,I,L,x,q;return(0,Pe.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return z=a.id,I={report_id:z},s==="custom"?I.test_conclusion={custom:k}:s==="text"?I.test_env={text:k}:I[s]=k,O.next=5,(0,ut.nP)(I);case 5:L=O.sent,x=L.code,q=L.msg,x===200?(j(m(s)),T(!1)):it.default.error(q);case 9:case"end":return O.stop()}},D)}));return function(){return b.apply(this,arguments)}}(),S=function(D){return be().isNull(D)||be().isUndefined(D)?(0,e.jsx)(i._H,{id:"report.not.filled"}):D};return E?(0,e.jsx)("div",{style:{marginBottom:w},children:(0,e.jsx)(sr,{autoComplete:"off",size:"small",placeholder:C,style:(0,n.Z)({padding:"10px"},y),value:k,onChange:function(D){return te(D.target.value)},onBlur:_})}):(0,e.jsxs)("div",{style:(0,n.Z)({width:"100%"},o),children:[(0,e.jsx)(Ye.Z.Text,{style:y,children:S(k)}),!J&&(0,e.jsx)(i.Nv,{accessible:v.WsTourist()&&v.WsMemberOperateSelf(G),fallback:(0,e.jsx)(Wt.Z,{onClick:function(){return(0,lt.WR)()},style:{paddingLeft:10}}),children:(0,e.jsx)(Wt.Z,{style:{paddingLeft:10},onClick:function(){return T(!0)}})})]})},ir=function(t){var a=t.placeholder,o=t.value,s=t.report_id,u=t.item_name,w=t.item_id,d=t.default_state,y=d===void 0?!1:d,C=t.title,G=(0,i.YB)(),v=(0,Je.UO)(),X=v.share_id,Q=r.useState(y),U=(0,re.Z)(Q,2),J=U[0],F=U[1],H=r.useState(o),E=(0,re.Z)(H,2),T=E[0],Y=E[1],M=function(){var k=(0,qe.Z)((0,Pe.Z)().mark(function te(){var j,m,_;return(0,Pe.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,ut.MC)({report_id:s,item_name:u,item_id:w,desc:T});case 2:if(j=b.sent,m=j.code,_=j.msg,m===200){b.next=7;break}return b.abrupt("return",it.default.error(_));case 7:ar.default.success({message:"".concat(C).concat(G.formatMessage({id:"report.group.desc.save.ok"})),placement:"bottomRight"}),y||F(!1);case 9:case"end":return b.stop()}},te)}));return function(){return k.apply(this,arguments)}}();return J?(0,e.jsx)(Ie.Z,{style:{paddingLeft:36,paddingRight:36,marginTop:10},children:(0,e.jsx)($t.Z.TextArea,{allowClear:!0,autoComplete:"off",size:"small",autoSize:{minRows:3,maxRows:6},value:T,onChange:function(te){var j=te.target;return Y(j==null?void 0:j.value)},placeholder:a,onBlur:M})}):(0,e.jsxs)(Ie.Z,{style:{paddingLeft:16,paddingRight:16,marginTop:10},align:"middle",children:[(0,e.jsx)("span",{style:{display:"inline-block",marginRight:10},children:T||"-"}),!X&&(0,e.jsx)(Wt.Z,{onClick:function(){return F(!0)}})]})},et=f(43387),p=f(13538),lr,ur=ft.ZP.span(lr||(lr=(0,at.Z)([`
    color:rgba(0,0,0,0.45);
    font-size:14px;
`]))),Ar=function(){var t=(0,i.YB)(),a=t.formatMessage,o=(0,r.useContext)(et.G),s=o.btnState,u=o.obj,w=o.setObj,d=o.saveReportData,y=o.btnConfirm,C=o.creator,G=function(X,Q){u[Q]=X,w((0,n.Z)({},u))};return(0,e.jsxs)(p.KP,{children:[(0,e.jsx)(pt,{name:d==null?void 0:d.name,btn:s,btnConfirm:y,defaultHolder:a({id:"report.please.enter.name"}),space:"14px",style:{lineHeight:"40px",marginBottom:8},fontStyle:{fontSize:32,color:"rgba(0,0,0,0.85)",fontFamily:"PingFangSC-Semibold",whiteSpace:"pre-wrap"},onOk:function(X){return G(X,"name")}}),d!=null&&d.id?(0,e.jsx)(jt,{saveData:d,field:"description",style:{marginBottom:8},defaultHolder:a({id:"report.please.enter.desc"}),creator:C}):(0,e.jsx)(pt,{name:d==null?void 0:d.description,btn:s,defaultHolder:a({id:"report.please.enter.desc"}),btnConfirm:y,style:{marginBottom:8},fontStyle:{fontSize:14,color:"rgba(0,0,0,0.85)",fontFamily:"PingFangSC-Regular",whiteSpace:"pre-line"},onOk:function(X){return G(X,"description")}}),!s&&(0,e.jsx)(Ie.Z,{children:(0,e.jsxs)(Xe.Z,{children:[(0,e.jsxs)(ur,{children:[(0,e.jsx)(i._H,{id:"report.columns.creator"}),"\xA0",d==null?void 0:d.creator_name]}),(0,e.jsxs)(ur,{children:[(0,e.jsx)(i._H,{id:"report.columns.gmt_created"}),"\xA0",d==null?void 0:d.gmt_created]})]})})]})},Gr=(0,r.memo)(Ar),Ir=function(){var t,a=(0,i.YB)(),o=a.formatMessage,s=(0,r.useContext)(et.G),u=s.btnState,w=s.obj,d=s.setObj,y=s.saveReportData,C=s.summaryData,G=s.btnConfirm,v=s.domainResult,X=s.creator,Q=function(J,F){if(F=="custom"){if(C&&C!==void 0){var H=be().cloneDeep(C);H[F]=J,w.test_conclusion=H}}else w[F]=J;d((0,n.Z)({},w))};return(0,e.jsxs)(e.Fragment,{children:[((v==null?void 0:v.is_default)||!(v!=null&&v.is_default)&&(v==null?void 0:v.need_test_background))&&(0,e.jsxs)(p.KP,{id:"need_test_background",className:"position_mark",children:[(0,e.jsxs)(p.DK,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(i._H,{id:"report.test.background"})]}),y!=null&&y.id?(0,e.jsx)(jt,{saveData:y,field:"test_background",defaultHolder:o({id:"report.please.enter.background"}),creator:X}):(0,e.jsx)(pt,{name:(y==null?void 0:y.test_background)||(v==null?void 0:v.background_desc),btnConfirm:G,defaultHolder:o({id:"report.please.enter.background"}),btn:u,onOk:function(J){return Q(J,"test_background")}})]}),((v==null?void 0:v.is_default)||!(v!=null&&v.is_default)&&(v==null?void 0:v.need_test_method))&&(0,e.jsxs)(p.KP,{id:"need_test_method",className:"position_mark",children:[(0,e.jsxs)(p.DK,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(i._H,{id:"report.test.method"})]}),y!=null&&y.id?(0,e.jsx)(jt,{saveData:y,field:"test_method",defaultHolder:o({id:"report.please.enter.method"}),creator:X}):(0,e.jsx)(pt,{name:(y==null?void 0:y.test_method)||(v==null?void 0:v.test_method_desc),defaultHolder:o({id:"report.please.enter.method"}),btn:u,btnConfirm:G,onOk:function(J){return Q(J,"test_method")}})]}),((v==null?void 0:v.is_default)||!(v!=null&&v.is_default)&&(v==null?void 0:v.need_test_conclusion))&&(0,e.jsxs)(p.KP,{id:"need_test_conclusion",className:"position_mark",children:[(0,e.jsxs)(p.DK,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(i._H,{id:"report.test.conclusion"})]}),y!=null&&y.id?(0,e.jsx)(jt,{saveData:y,field:"custom",defaultHolder:o({id:"report.please.enter.conclusion"}),creator:X}):(0,e.jsx)(pt,{name:(y==null||(t=y.test_conclusion)===null||t===void 0?void 0:t.custom)||(v==null?void 0:v.test_conclusion_desc),btn:u,defaultHolder:o({id:"report.please.enter.conclusion"}),btnConfirm:G,onOk:function(J){return Q(J,"custom")}})]})]})},Br=(0,r.memo)(Ir),Bn=f(22385),Yt=f(89456),Fr=f(56304),Mr=f(80272),vt=f(14552),mt=function(t){return t==0?0:(0,Et.isNaN)(t)||(0,Et.isUndefined)(t)?"-":t},cr=function(t){var a=t.logoData,o=t.groupLen;return Array.isArray(a)&&!!a.length?(0,e.jsxs)(p.x4,{children:[(0,e.jsx)(p.vk,{gLen:o,children:(0,e.jsx)(i._H,{id:"performance.test"})}),a.map(function(s,u){var w=s.perf_data||s,d=w.perfAll,y=w.increase,C=w.decline;return(0,e.jsx)(p.b1,{gLen:o,children:(0,e.jsxs)("div",{style:{display:"flex",margin:"18px 0"},children:[(0,e.jsxs)(p.cL,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(i._H,{id:"report.all"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"all",children:mt(d)})]}),(0,e.jsxs)(p.cL,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(i._H,{id:"report.increase"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"up",children:mt(y)})]}),(0,e.jsxs)(p.cL,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(i._H,{id:"report.decline"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"down",children:mt(C)})]})]})},u)})]}):(0,e.jsx)(e.Fragment,{})},dr=function(t){var a=t.logoData,o=t.groupLen;return Array.isArray(a)&&!!a.length?(0,e.jsxs)(p.x4,{children:[(0,e.jsx)(p.b_,{gLen:o,children:(0,e.jsx)(i._H,{id:"functional.test"})}),a.map(function(s,u){var w=s.func_data||s,d=w.funcAll,y=w.success,C=w.fail;return(0,e.jsx)(p.ef,{gLen:o,children:(0,e.jsxs)("div",{style:{display:"flex",margin:"18px 0"},children:[(0,e.jsxs)(p.cL,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(i._H,{id:"report.all"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"all",children:mt(d)})]}),(0,e.jsxs)(p.cL,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(i._H,{id:"report.success"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"up",children:mt(y)})]}),(0,e.jsxs)(p.cL,{children:[(0,e.jsx)("i",{className:"logo",children:(0,e.jsx)(i._H,{id:"report.fail"})}),(0,e.jsx)("br",{}),(0,e.jsx)("b",{className:"down",children:mt(C)})]})]})},u)})]}):(0,e.jsx)(e.Fragment,{})},Kr=function(){var t=(0,r.useContext)(et.G),a=t.logoData,o=t.envData,s=t.domainResult,u=t.groupLen,w=t.baselineGroupIndex,d=(0,r.useMemo)(function(){var C,G=0;return a.length>1&&(G=w===0?1:0),JSON.stringify((C=a[G])===null||C===void 0?void 0:C.perf_data)!=="{}"},[a,w]),y=(0,r.useMemo)(function(){var C;return JSON.stringify((C=a[w])===null||C===void 0?void 0:C.func_data)!=="{}"},[a,w]);return(0,e.jsxs)(p.KP,{style:{width:u>3?u*390:1200},id:"need_test_summary",className:"position_mark",children:[(0,e.jsxs)(p.DK,{children:[(0,e.jsx)("span",{className:"line"}),"Summary"]}),(0,e.jsxs)(p.ER,{children:[(0,e.jsxs)(p.ZA,{children:[(0,e.jsx)(p.pF,{gLen:u,children:(0,e.jsx)(i._H,{id:"report.comparison.group.name"})}),Array.isArray(o)&&!!o.length&&o.map(function(C,G){return(0,e.jsxs)(p.sK,{gLen:u,children:[(0,e.jsxs)(Xe.Z,{children:[C.is_group&&(0,e.jsx)(Yt.Z,{title:(0,e.jsx)(i._H,{id:"report.benchmark.group"}),children:(0,e.jsx)(Fr.r,{style:{marginRight:4,marginTop:17,width:10,height:14}})}),C.is_baseline?(0,e.jsxs)(Yt.Z,{title:(0,e.jsx)(i._H,{id:"report.baseline.group"}),children:[(0,e.jsx)(Mr.r,{style:{marginRight:4,marginTop:17,width:10,height:14}}),(0,e.jsx)(Ye.Z.Text,{children:(0,e.jsx)(i._H,{id:"report.test.baseline"})})]}):null]}),(0,e.jsx)(vt.Z,{title:C.tag})]},G)})]}),s.is_default&&d&&(0,e.jsx)(cr,{groupLen:u,logoData:a}),!s.is_default&&s.need_perf_data&&d&&(0,e.jsx)(cr,{groupLen:u,logoData:a}),s.is_default&&y&&(0,e.jsx)(dr,{groupLen:u,logoData:a}),!s.is_default&&s.need_func_data&&y&&(0,e.jsx)(dr,{groupLen:u,logoData:a})]})]})},fr=(0,r.memo)(Kr),Jt=f(66886),$r=f(49301),Wr=function(){var t,a,o=(0,i.YB)(),s=o.formatMessage,u=(0,r.useContext)(et.G),w=u.btnState,d=u.saveReportData,y=u.obj,C=u.setObj,G=u.envData,v=u.compareGroupData,X=u.baselineGroupIndex,Q=u.environmentResult,U=u.routeName,J=u.btnConfirm,F=u.groupLen,H=u.domainResult,E=u.creator,T=function(M,k){if(Q&&JSON.stringify(Q)!=="{}"){if(be().isUndefined(v))y.test_env={text:M};else{var te=be().cloneDeep(Q);te[k]=M,te.base_group=v.base_group,te.compare_groups=v.compare_groups,U!=="Report"&&(te.base_index=X),y.test_env=te}C((0,n.Z)({},y))}};return(0,e.jsxs)(p.KP,{style:{width:F>3?F*390:1200},id:"need_test_env",className:"position_mark",children:[(0,e.jsxs)(p.DK,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(i._H,{id:"report.test.env"})]}),((H==null?void 0:H.is_default)||!(H!=null&&H.is_default)&&(H==null?void 0:H.need_env_description))&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.$w,{children:(0,e.jsx)(i._H,{id:"report.env.description"})}),d!=null&&d.id?(0,e.jsx)(jt,{saveData:d,field:"text",defaultHolder:s({id:"report.please.enter.description"}),creator:E}):(0,e.jsx)(pt,{name:(d==null||(t=d.test_env)===null||t===void 0?void 0:t.text)||(H==null?void 0:H.env_description_desc),btnConfirm:J,defaultHolder:s({id:"report.please.enter.description"}),btn:w,onOk:function(M){return T(M,"text")}})]}),!!(H!=null&&(a=H.server_info_config)!==null&&a!==void 0&&a.length)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.$w,{style:{margin:"17px 0 14px 0"},children:(0,e.jsx)(i._H,{id:"report.server.env"})}),(0,e.jsxs)(p.HA,{children:[(0,e.jsx)(p.i1,{children:(0,e.jsx)(i._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(Jt.Z,{envData:G,group:F})]}),(0,e.jsx)($r.c,{envData:G,environmentResult:Q,group:F})]})]})},pr=(0,r.memo)(Wr),Fn=f(13254),ot=f(14277),Mn=f(62350),yt=f(24565),vr,Yr=["svgRef","title"];function Lt(){return Lt=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=a[o])}return c},Lt.apply(this,arguments)}function Jr(c,t){if(c==null)return{};var a=zr(c,t),o,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);for(s=0;s<u.length;s++)o=u[s],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,o)||(a[o]=c[o]))}return a}function zr(c,t){if(c==null)return{};var a={},o=Object.keys(c),s,u;for(u=0;u<o.length;u++)s=o[u],!(t.indexOf(s)>=0)&&(a[s]=c[s]);return a}var Vr=function(t){var a=t.svgRef,o=t.title,s=Jr(t,Yr);return r.createElement("svg",Lt({width:"14px",height:"12px",viewBox:"0 0 14 12",ref:a},s),o?r.createElement("title",null,o):null,vr||(vr=r.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u677F-\\u6DFB\\u52A0\\u9879/\\u7EC4",transform:"translate(-304.000000, -727.000000)",fill:"#000000",fillRule:"nonzero"},r.createElement("g",{id:"Group-16\\u5907\\u4EFD",transform:"translate(220.000000, 379.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4\\u5907\\u4EFD",transform:"translate(20.000000, 64.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4-10\\u5907\\u4EFD",transform:"translate(48.000000, 269.000000)"},r.createElement("g",{id:"\\u7F16\\u7EC4",transform:"translate(15.000000, 13.000000)"},r.createElement("rect",{id:"\\u77E9\\u5F62",opacity:0,x:0,y:0,width:16,height:16}),r.createElement("path",{d:"M14.5,6.9375 L12.8125,6.9375 L12.8125,5.1625 C12.8125,4.8859375 12.5890625,4.6625 12.3125,4.6625 L7.390625,4.6625 L5.5578125,2.909375 C5.534375,2.8875 5.503125,2.875 5.471875,2.875 L1.5,2.875 C1.2234375,2.875 1,3.0984375 1,3.375 L1,12.625 C1,12.9015625 1.2234375,13.125 1.5,13.125 L12.40625,13.125 C12.609375,13.125 12.79375,13.0015625 12.8703125,12.8125 L14.9640625,7.625 C14.9875,7.565625 15,7.5015625 15,7.4375 C15,7.1609375 14.7765625,6.9375 14.5,6.9375 Z M2.125,4 L5.0703125,4 L6.9390625,5.7875 L11.6875,5.7875 L11.6875,6.9375 L3.71875,6.9375 C3.515625,6.9375 3.33125,7.0609375 3.2546875,7.25 L2.125,10.05 L2.125,4 Z M12.0515625,12 L2.484375,12 L4.0984375,8 L13.6671875,8 L12.0515625,12 Z",id:"\\u5F62\\u72B6",fillOpacity:.85})))))))))},mr=r.forwardRef(function(c,t){return r.createElement(Vr,Lt({svgRef:t},c))}),Kn=f.p+"static/TestGroup.5c6f5d84.svg",hr=f(63880),Ot=f(69569),rt=f(45490),Ur=function(){var t=(0,r.useContext)(et.G),a=t.setObj,o=t.domainResult,s=t.btnState,u=t.isOldReport,w=t.saveReportData,d=t.routeName,y=(0,Je.UO)(),C=y.report_id,G=(0,i.YB)(),v=(0,r.useMemo)(function(){if(Array.isArray(o.func_item))return be().cloneDeep(o.func_item)},[o]),X=(0,r.useState)([]),Q=(0,re.Z)(X,2),U=Q[0],J=Q[1];(0,r.useEffect)(function(){J(v)},[v]);var F=function(T,Y,M){J((0,rt.SR)(U,T,Y,M))};(0,r.useEffect)(function(){if(U.length){var E=[];U.map(function(T,Y){if(T.is_group)T.list.map(function(k,te){var j=(0,rt.og)(k,Y,te,"group",u);E.push({name:"".concat(T.name,":").concat(k.name),suite_list:j})});else{var M=(0,rt.og)(T,Y,0,"item",u);E.push({name:T.name,suite_list:M})}}),a(function(T){return T.test_item.func_data=E,T})}},[U]);var H=function(T){var Y,M=w.func_desc||[],k=(Y=M.filter(function(te){return te.name===T}).filter(Boolean))===null||Y===void 0?void 0:Y[0];return k};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(p.Xb,{id:"func_item",className:"position_mark",children:(0,e.jsx)(i._H,{id:"functional.test"})}),(0,e.jsx)(p.Rr,{children:Object.prototype.toString.call(U)==="[object Array]"&&(U==null?void 0:U.length)>0?U.map(function(E){var T,Y=H(E.name);return(0,e.jsx)("div",{children:E.is_group?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.iY,{id:"func_item-".concat(E.rowKey),className:"position_mark",children:[(0,e.jsx)(mr,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(p.jI,{children:(0,e.jsx)(Ot.i,{name:E.name,rowKey:E.rowKey,btn:s,dataSource:U,setDataSource:J})}),s&&(0,e.jsx)(yt.Z,{title:(0,e.jsx)(i._H,{id:"delete.prompt"}),onConfirm:function(){return F("item",E.name,E.rowKey)},cancelText:(0,e.jsx)(i._H,{id:"operation.cancel"}),okText:(0,e.jsx)(i._H,{id:"operation.delete"}),children:(0,e.jsx)(p.dg,{})})]}),((Y==null?void 0:Y.desc)||d==="EditReport")&&(0,e.jsx)(ir,{default_state:d==="EditReport",title:E.name,value:Y==null?void 0:Y.desc,report_id:C,item_id:Y==null?void 0:Y.item_id,item_name:E.name,placeholder:G.formatMessage({id:"report.group.desc.placeholder"})}),(T=E.list)===null||T===void 0?void 0:T.map(function(M,k){return(0,e.jsx)("div",{children:(0,e.jsx)(hr.Z,{child:M,name:"group",id:M.rowKey,dataSource:U,setDataSource:J,onDelete:F})},M==null?void 0:M.rowKey)})]}):(0,e.jsx)(hr.Z,{child:E,name:"item",id:E.rowKey,dataSource:U,setDataSource:J,onDelete:F})},E==null?void 0:E.rowKey)}):(0,e.jsx)(ot.Z,{image:ot.Z.PRESENTED_IMAGE_SIMPLE})})]})},gr=(0,r.memo)(Ur),$n=f(43358),xr=f(34041),Qr=f(30061),Xr=f(62774),qr=f(71287),en=f(21118),tn=f(59954),rn=f(76161),nn=f(56079),an=f(95545),on=f(1870),zt=f(60035),Zt=f(39954),_r=f(50238),ht=xr.Z.Option,sn=function(t){return new Map([["decline",0],["increase",1],["normal",2],["invalid",3],["na",4]]).get(t)||5},ln=function(t){return function(a,o){return a[t]-o[t]}},un=function(t){var a=(0,i.YB)(),o=a.formatMessage,s=(0,r.useRef)(),u=(0,Je.UO)(),w=u.share_id,d=(0,Je.TH)(),y=d.pathname,C=t.child,G=t.name,v=t.btn,X=t.id,Q=t.onDelete,U=t.dataSource,J=t.setDataSource,F=(0,r.useContext)(et.G),H=F.btnState,E=F.allGroupData,T=F.baselineGroupIndex,Y=F.domainResult,M=F.environmentResult,k=F.groupLen,te=F.wsId,j=F.isOldReport,m=!!~(y==null?void 0:y.indexOf("/edit")),_=(0,r.useState)("all"),S=(0,re.Z)(_,2),b=S[0],D=S[1],z=(0,r.useState)("1"),I=(0,re.Z)(z,2),L=I[0],x=I[1],q=(0,r.useState)({}),P=(0,re.Z)(q,2),O=P[0],Z=P[1],de=r.useState([]),we=(0,re.Z)(de,2),Re=we[0],Te=we[1],Me=(0,r.useMemo)(function(){return T===-1?0:T},[T]);(0,r.useEffect)(function(){var ie,K=j?(0,rt.id)(be().cloneDeep(C),Me):C;Z(v?K:(0,n.Z)((0,n.Z)({},C),{},{list:(ie=C.list)===null||ie===void 0?void 0:ie.map(function(pe){return(0,n.Z)((0,n.Z)({},pe),{},{chartType:L})})}))},[C,v]);var ze=function(K){D(K);var pe=j?(0,rt.id)(be().cloneDeep(C),Me):be().cloneDeep(C);if(K==="all")Z(pe);else{var oe=pe.list.map(function(h){var R=h.conf_list.map(function($){return(0,n.Z)((0,n.Z)({},$),{},{metric_list:$.metric_list.filter(function(W){return(0,rn.w)(W.compare_data,K)})})});return(0,n.Z)((0,n.Z)({},h),{},{conf_list:R})}),A=(0,n.Z)((0,n.Z)({},pe),{},{list:oe});Z(A)}},Be=function(K){var pe=K.conf,oe=K.cid,A=K.name;return(0,e.jsx)(yt.Z,{title:(0,e.jsx)(i._H,{id:"delete.prompt"}),onConfirm:function(){return He(A,pe,oe)},cancelText:(0,e.jsx)(i._H,{id:"operation.cancel"}),okText:(0,e.jsx)(i._H,{id:"operation.delete"}),children:H&&(0,e.jsxs)(p.Hy,{empty:!0,children:[(0,e.jsx)(Qr.r,{className:"remove"}),(0,e.jsx)(Xr.r,{className:"remove_active"})]})})},He=function(K,pe,oe){J((0,rt.E5)(U,K,pe,oe))},Ce=function(){var K=(0,i.Kd)()==="en-US";return(0,e.jsx)(p.JI,{children:(0,e.jsx)(Xe.Z,{children:v&&(0,e.jsxs)(Xe.Z,{children:[(0,e.jsxs)(Ye.Z.Text,{children:[(0,e.jsx)(i._H,{id:"report.filter"}),": "]}),(0,e.jsxs)(xr.Z,{defaultValue:"all",style:{width:K?336:200},value:b,onSelect:ze,getPopupContainer:function(oe){return oe.parentNode},children:[(0,e.jsx)(ht,{value:"all",children:(0,e.jsx)(i._H,{id:"report.all.s"})}),(0,e.jsx)(ht,{value:"invalid",children:(0,e.jsx)(i._H,{id:"report.invalid"})}),(0,e.jsx)(ht,{value:"volatility",title:o({id:"report.volatility"}),children:(0,e.jsx)(i._H,{id:"report.volatility"})}),(0,e.jsx)(ht,{value:"increase",children:(0,e.jsx)(i._H,{id:"report.increase"})}),(0,e.jsx)(ht,{value:"decline",children:(0,e.jsx)(i._H,{id:"report.decline"})}),(0,e.jsx)(ht,{value:"normal",children:(0,e.jsx)(i._H,{id:"report.normal"})})]})]})})})},ve=function(K,pe,oe){var A;s.current=oe;var h=[];Te(h.concat(pe.conf_id));var R=(0,n.Z)((0,n.Z)({},pe),{},{metric_list:(A=pe.metric_list)===null||A===void 0?void 0:A.reduce(function($,W){var le;return $.concat((0,n.Z)((0,n.Z)({},W),{},{sortNum:sn((le=W.compare_data[oe])===null||le===void 0?void 0:le.compare_result)}))},[]).sort(ln("sortNum"))});Z(function($){return(0,n.Z)((0,n.Z)({},$),{},{list:$.list.map(function(W){return W.suite_id===K.suite_id?(0,n.Z)((0,n.Z)({},K),{},{conf_list:K.conf_list.map(function(le){return le.conf_id===pe.conf_id?R:le})}):W})})})},De=function(K){var pe=[],oe=(K==null?void 0:K.conf_source)||K;E==null||E.map(function(R,$){pe.push((K.conf_compare_data||K.compare_conf_list)[$])}),pe.splice(Me,0,oe);var A=K.conf_compare_data||K.compare_conf_list,h=j?pe:A;return h.map(function(R,$){return R?(0,e.jsx)(p.r0,{gLen:k,btnState:H,children:!w&&!(0,lt.cO)(R)?(0,e.jsx)(zt.zA,{ws_id:te,job_id:(R==null?void 0:R.obj_id)||R}):(0,e.jsx)("div",{style:{height:38}})},R==null?void 0:R.obj_id):(0,e.jsx)(e.Fragment,{})})},Ne=(0,r.useContext)(et.G),Ve=Ne.containerRef,fe=(0,_r.Z)(Ve),Ue=function(){return Array.isArray(O.list)&&!!O.list.length?O.list.map(function(K,pe){return(0,e.jsxs)(p.gb,{children:[(0,e.jsxs)(p.yO,{children:[(0,e.jsx)(Ye.Z.Text,{style:{display:"inline-block",textIndent:(fe==null?void 0:fe.left)>50?(fe==null?void 0:fe.left)-50:0},children:K.suite_name}),H&&(0,e.jsx)(yt.Z,{title:(0,e.jsx)(i._H,{id:"delete.prompt"}),onConfirm:function(){return He("suite",K,pe)},cancelText:(0,e.jsx)(i._H,{id:"operation.cancel"}),okText:(0,e.jsx)(i._H,{id:"operation.delete"}),children:(0,e.jsx)(p.dg,{})}),(0,e.jsx)(an.Z,{btn:v,isReport:!0,obj:O,suiteId:K.suite_id,setPerData:Z,chartType:L,setChartType:x})]}),(0,e.jsxs)(p.uP,{children:[!Y.is_default&&(0,e.jsx)(p.VK,{children:[["need_test_env","test_env","env"],["need_test_description","test_description","description"],["need_test_conclusion","test_conclusion","conclusion"]].map(function(oe){var A=(0,re.Z)(oe,3),h=A[0],R=A[1],$=A[2];if(!!Y.perf_conf&&!!Y.perf_conf[h]&&!(!m&&!K[R]))return(0,e.jsxs)(p.hV,{children:[(0,e.jsx)(p.HQ,{children:(0,e.jsx)(i._H,{id:"report.test.".concat($)})}),(0,e.jsx)(p.QK,{children:(0,e.jsx)(Ot.u,{name:K[R],field:R,suite:K,creator:Y==null?void 0:Y.creator})})]},h)})}),v?K.conf_list&&!!K.conf_list.length?K.conf_list.map(function(oe,A){return(0,e.jsxs)("div",{children:[(0,e.jsxs)(p.h$,{children:[(0,e.jsx)(p.h,{gLen:k,style:{marginLeft:H?39:0},children:(0,e.jsx)(i._H,{id:"report.conf/metric"})}),E==null?void 0:E.map(function(h,R){return(0,e.jsx)(p.iM,{gLen:k,btnState:H,children:R!==T?(0,e.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,e.jsx)(vt.Z,{title:h.product_version||h.tag,children:(0,e.jsx)(Ye.Z.Text,{style:{color:"rgba(0,0,0,0.45)"},children:h.product_version||h.tag})}),(0,e.jsxs)(p.Qz,{children:[(0,e.jsx)(i._H,{id:"report.comparison/tracking.results"}),(0,e.jsx)("span",{onClick:function(){return ve(K,oe,R)},style:{margin:"0 5px 0 3px",verticalAlign:"middle",cursor:"pointer"},children:Re.includes(oe.conf_id)&&s.current===R?(0,e.jsx)(tn.r,{}):(0,e.jsx)(en.r,{})}),(0,e.jsx)(Yt.Z,{color:"#fff",overlayStyle:{minWidth:350},title:(0,e.jsxs)("span",{style:{color:"rgba(0,0,0,0.65)"},children:[(0,e.jsx)(i._H,{id:"report.performance.test.and.baseGroup"}),(0,e.jsx)("br",{}),(0,e.jsx)(i._H,{id:"report.rules.as.follows"}),"\uFF1A",(0,e.jsx)("br",{}),(0,e.jsx)(i._H,{id:"report.decline"}),">",(0,e.jsx)(i._H,{id:"report.increase"}),">",(0,e.jsx)(i._H,{id:"report.little.fluctuation"}),">",(0,e.jsx)(i._H,{id:"report.invalid"})]}),children:(0,e.jsx)(on.Z,{})})]})]}):(0,e.jsx)(vt.Z,{title:h.product_version||h.tag,children:(0,e.jsx)(Ye.Z.Text,{style:{color:"rgba(0,0,0,0.45)"},children:h.product_version||h.tag})})},h==null?void 0:h.tag)})]}),(0,e.jsxs)("div",{style:{border:"1px solid rgba(0,0,0,0.10)"},children:[(0,e.jsxs)(p.TG,{children:[(0,e.jsx)(Be,{name:"conf",conf:oe,cid:A}),(0,e.jsx)(p.j3,{gLen:k,children:(0,e.jsx)(vt.Z,{title:oe.conf_name})}),De(oe)]}),oe.metric_list.map(function(h,R){var $;return(0,e.jsxs)(p.WF,{children:[(0,e.jsx)(Be,{name:"metric",conf:h,cid:oe.conf_id}),(0,e.jsx)(p.KW,{gLen:k,children:(0,e.jsxs)(Ie.Z,{justify:"space-between",children:[(0,e.jsx)(st.Z,{span:16,children:(0,e.jsx)(Ie.Z,{justify:"start",children:(0,e.jsx)(vt.Z,{title:"".concat(h.metric).concat(h.unit?"("+h.unit+")":""),children:(0,e.jsxs)(Ye.Z.Text,{style:{color:"rgba(0,0,0,0.65)"},children:[h.metric,h.unit&&(0,e.jsxs)("span",{children:["(",h.unit,")"]})]})})})}),(0,e.jsx)(st.Z,{span:8,children:(0,e.jsx)(Ie.Z,{justify:"end",children:(0,e.jsxs)(p.Qz,{children:["(","".concat((0,Zt.gt)(h.cv_threshold),"/").concat((0,Zt.gt)(h.cmp_threshold)),")"]})})})]})}),Array.isArray(h.compare_data)&&!!h.compare_data.length&&(($=h.compare_data)===null||$===void 0?void 0:$.slice(0,k).map(function(W,le){return(0,e.jsx)(p.LQ,{gLen:k,btnState:H,children:(0,e.jsxs)(Ie.Z,{justify:"space-between",children:[(0,e.jsx)(st.Z,{span:W&&W.compare_result?12:20,children:(0,e.jsx)(Ie.Z,{justify:"start",children:(0,e.jsx)(vt.Z,{title:!W||JSON.stringify(W)==="{}"?"-":"".concat(W.test_value,"\xB1").concat(W.cv_value),width:210,children:(0,e.jsx)(Ye.Z.Text,{style:{color:"rgba(0,0,0,0.65)"},children:!W||JSON.stringify(W)==="{}"?"-":W.test_value&&"".concat(W.test_value,"\xB1").concat(W.cv_value)})})})}),W&&W.compare_result&&(0,e.jsx)(st.Z,{span:12,children:(0,e.jsx)(Ie.Z,{justify:"end",children:(0,e.jsxs)(p.Qz,{children:[(0,e.jsx)("span",{className:(0,Zt.B1)(W.compare_result),children:W.compare_value||"-"}),(0,e.jsx)("span",{className:(0,Zt.B1)(W.compare_result),style:{padding:" 0px 9px "},children:(0,Zt.PV)(W.compare_result)})]})})})]})},le)}))]},h.metric)})]})]},oe==null?void 0:oe.conf_id)}):(0,e.jsx)(ot.Z,{image:ot.Z.PRESENTED_IMAGE_SIMPLE}):(0,e.jsx)(nn.Z,(0,n.Z)((0,n.Z)({},K),{},{envData:M,base_index:T}))]})]},K.suite_id)}):(0,e.jsx)(ot.Z,{image:ot.Z.PRESENTED_IMAGE_SIMPLE})};return(0,e.jsxs)("div",{children:[(0,e.jsxs)(p.Gh,{id:"perf_item-".concat(X),className:"position_mark",isGroup:G==="group",children:[(0,e.jsx)(qr.r,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(p.jI,{children:(0,e.jsx)(Ot.i,{name:O.name,rowKey:O.rowKey,btn:H,dataSource:U,setDataSource:J})}),(0,e.jsx)(yt.Z,{title:(0,e.jsx)(i._H,{id:"delete.prompt"}),onConfirm:function(){return Q(G,O.name,O.rowKey)},cancelText:(0,e.jsx)(i._H,{id:"operation.cancel"}),okText:(0,e.jsx)(i._H,{id:"operation.delete"}),children:H&&(0,e.jsx)(p.dg,{})}),!H&&(0,e.jsx)(Ce,{})]}),JSON.stringify(O)!=="{}"&&Ue()]})},jr=(0,r.memo)(un),yr,cn=ft.ZP.div(yr||(yr=(0,at.Z)([`
    background: #fff;
    position: fixed;
    /* top: 57px; */
    top: `,`px;
    height: 50px;
    border: 1px solid rgba(0,0,0,0.10);
    z-index: 5;
    width:`,`px;
    transform:translateY(`,`px);
`])),function(c){var t=c.top;return t||0},function(c){var t=c.width;return t||0},function(c){var t=c.y;return t||0}),dn=function(t){var a=t.groupRowRef,o=t.parentDom,s=t.groupLen,u=t.envData,w=(0,_r.Z)(document.querySelector("#report-body-container")),d=w.top,y=a.current,C=o.current;if(!y&&!C)return(0,e.jsx)(e.Fragment,{});var G=C.offsetTop||0,v=y==null?void 0:y.offsetWidth,X=d>G+y.offsetTop;return X?(0,e.jsx)(cn,{width:v,top:50,children:(0,e.jsx)(p.ER,{style:{border:"none",paddingLeft:34,paddingRight:31},children:(0,e.jsxs)(p.ZA,{children:[(0,e.jsx)(p.Ll,{gLen:s,children:(0,e.jsx)(i._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(Jt.Z,{envData:u,group:s,isData:!0})]})})}):(0,e.jsx)(e.Fragment,{})},fn=function(t){var a=(0,r.useContext)(et.G),o=a.btnState,s=a.obj,u=a.setObj,w=a.envData,d=a.domainResult,y=a.groupLen,C=a.isOldReport,G=a.routeName,v=a.saveReportData,X=(0,Je.UO)(),Q=X.report_id,U=(0,i.YB)(),J=(0,r.useRef)(null),F=(0,r.useRef)(null),H=(0,r.useState)(""),E=(0,re.Z)(H,2),T=E[0],Y=E[1],M=(0,r.useState)(!1),k=(0,re.Z)(M,2),te=k[0],j=k[1],m=(0,r.useState)([]),_=(0,re.Z)(m,2),S=_[0],b=_[1],D=(0,r.useMemo)(function(){var x;return j(((x=d.perf_conf)===null||x===void 0?void 0:x.show_type)==="list"),Array.isArray(d.perf_item)?d.perf_item:[]},[d]),z=function(){j(!te)};(0,r.useEffect)(function(){Y(te?"chart":"table")},[te]),(0,r.useEffect)(function(){b(D)},[D]);var I=function(q,P,O){b((0,rt.SR)(S,q,P,O))};(0,r.useEffect)(function(){if(S&&!!S.length){var x=[];S.map(function(q,P){if(q.is_group){var O;(O=q.list)===null||O===void 0||O.map(function(de,we){var Re=(0,rt.og)(de,P,we,"group",C);x.push({name:"".concat(q.name,":").concat(de.name),suite_list:Re})})}else{var Z=(0,rt.og)(q,P,0,"item",C);x.push({name:q.name,suite_list:Z})}}),u(function(q){return q.test_item.perf_data=x,q})}},[S]);var L=function(q){var P,O=v.perf_desc||[],Z=(P=O.filter(function(de){return de.name===q}).filter(Boolean))===null||P===void 0?void 0:P[0];return Z};return(0,e.jsxs)(p.KP,{id:"test_data",className:"position_mark",style:{width:y>3?y*390:1200,position:"relative"},ref:J,children:[(0,e.jsxs)(p.DK,{children:[(0,e.jsx)("span",{className:"line"}),(0,e.jsx)(i._H,{id:"report.test.data"})]}),(0,e.jsx)(p.ER,{ref:F,style:{paddingLeft:34,paddingRight:31},children:(0,e.jsxs)(p.ZA,{children:[(0,e.jsx)(p.Ll,{gLen:y,children:(0,e.jsx)(i._H,{id:"report.comparison.group.name"})}),(0,e.jsx)(Jt.Z,{envData:w,group:y,isData:!0})]})}),(0,e.jsx)(dn,{groupRowRef:F,parentDom:J,envData:w,groupLen:y}),(d.is_default||!d.is_default&&d.need_perf_data)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ie.Z,{justify:"space-between",children:[(0,e.jsx)(p.Xb,{id:"perf_item",className:"position_mark",children:(0,e.jsx)(i._H,{id:"performance.test"})}),(0,e.jsx)(_t.Z,{onClick:z,style:{marginTop:12},children:T==="chart"?(0,e.jsx)(i._H,{id:"report.chart.btn"}):(0,e.jsx)(i._H,{id:"report.table.btn"})})]}),(0,e.jsx)(p.Rr,{children:Array.isArray(S)&&!!S.length?S==null?void 0:S.map(function(x,q){var P,O=L(x.name);return(0,e.jsx)("div",{children:x.is_group?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.iY,{id:"pref_item-".concat(x.rowKey),className:"position_mark",children:[(0,e.jsx)(mr,{style:{marginLeft:12,verticalAlign:"middle"}}),(0,e.jsx)(p.jI,{children:(0,e.jsx)(Ot.i,{name:x.name,rowKey:x.rowKey,btn:o,dataSource:S,setDataSource:b})}),(0,e.jsx)(yt.Z,{title:(0,e.jsx)(i._H,{id:"delete.prompt"}),onConfirm:function(){return I("item",x.name,x.rowKey)},cancelText:(0,e.jsx)(i._H,{id:"operation.cancel"}),okText:(0,e.jsx)(i._H,{id:"operation.delete"}),children:o&&(0,e.jsx)(p.dg,{})})]}),((O==null?void 0:O.desc)||G==="EditReport")&&(0,e.jsx)(ir,{default_state:G==="EditReport",title:x.name,value:O==null?void 0:O.desc,report_id:Q,item_id:O==null?void 0:O.item_id,item_name:x.name,placeholder:U.formatMessage({id:"report.group.desc.placeholder"})}),(P=x.list)===null||P===void 0?void 0:P.map(function(Z,de){return(0,e.jsx)("div",{children:(0,e.jsx)(jr,{child:Z,name:"group",btn:te,id:Z.rowKey,dataSource:S,setDataSource:b,onDelete:I})},Z==null?void 0:Z.rowKey)})]}):(0,e.jsx)(jr,{child:x,name:"item",btn:te,id:x.rowKey,dataSource:S,setDataSource:b,onDelete:I})},x==null?void 0:x.rowKey)}):(0,e.jsx)(ot.Z,{image:ot.Z.PRESENTED_IMAGE_SIMPLE})})]}),d.is_default&&(0,e.jsx)(gr,{}),!d.is_default&&d.need_func_data&&(0,e.jsx)(gr,{})]})},pn=(0,r.memo)(fn),Wn=f(32157),vn=f(45742),Zr,Sr,br,mn=["svgRef","title"];function Nt(){return Nt=Object.assign?Object.assign.bind():function(c){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=a[o])}return c},Nt.apply(this,arguments)}function hn(c,t){if(c==null)return{};var a=gn(c,t),o,s;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(c);for(s=0;s<u.length;s++)o=u[s],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,o)||(a[o]=c[o]))}return a}function gn(c,t){if(c==null)return{};var a={},o=Object.keys(c),s,u;for(u=0;u<o.length;u++)s=o[u],!(t.indexOf(s)>=0)&&(a[s]=c[s]);return a}var xn=function(t){var a=t.svgRef,o=t.title,s=hn(t,mn);return r.createElement("svg",Nt({width:"20px",height:"78px",viewBox:"0 0 20 78",ref:a},s),o===void 0?Zr||(Zr=r.createElement("title",null,"\u5C55\u5F00")):o?r.createElement("title",null,o):null,Sr||(Sr=r.createElement("defs",null,r.createElement("path",{d:"M1.23076923,4.48717949 L12,0 L12,0 L12,70 L1.23076923,65.5128205 C0.485475353,65.2022814 -2.76958888e-15,64.4740684 0,63.6666667 L0,6.33333333 C-3.20922796e-16,5.52593163 0.485475353,4.7977186 1.23076923,4.48717949 Z",id:"path-1"}),r.createElement("filter",{x:"-50.0%",y:"-8.6%",width:"200.0%",height:"117.1%",filterUnits:"objectBoundingBox",id:"filter-2"},r.createElement("feOffset",{dx:0,dy:0,in:"SourceAlpha",result:"shadowOffsetOuter1"}),r.createElement("feGaussianBlur",{stdDeviation:2,in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),r.createElement("feColorMatrix",{values:"0 0 0 0 0.833106884   0 0 0 0 0.82924932   0 0 0 0 0.82924932  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})))),br||(br=r.createElement("g",{id:"\\u9875\\u9762-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"\\u65B0\\u5EFA\\u62A5\\u544A\\u6A21\\u7248-\\u76EE\\u5F55\\u9ED8\\u8BA4\\u5C55\\u5F00",transform:"translate(-195.000000, -56.000000)",fillRule:"nonzero"},r.createElement("g",{id:"Group-5",transform:"translate(0.000000, 50.000000)"},r.createElement("g",{id:"\\u5C55\\u5F00",transform:"translate(205.000000, 45.000000) scale(-1, 1) translate(-205.000000, -45.000000) translate(199.000000, 10.000000)"},r.createElement("use",{fill:"black",fillOpacity:1,filter:"url(#filter-2)",xlinkHref:"#path-1"}),r.createElement("use",{fill:"#FFFFFF",xlinkHref:"#path-1"})))))))},_n=r.forwardRef(function(c,t){return r.createElement(xn,Nt({svgRef:t},c))}),Yn=f.p+"static/collapsed.241631ac.svg",jn=f(8812),yn=f(67724),Zn=f(10746),Sn=function(){var t=(0,i.YB)(),a=t.formatMessage,o=(0,r.useContext)(et.G),s=o.domainResult,u=o.collapsed,w=o.setDomainResult,d=o.setCollapsed,y=(0,r.useState)(3),C=(0,re.Z)(y,2),G=C[0],v=C[1],X=function j(m,_,S,b){var D=S.dragOverGapTop,z=S.dragOverGapBottom;if(_.key===S.key)return S.is_group?D?m.concat(b,_):z?m.concat((0,n.Z)((0,n.Z)({},_),{},{children:_.children.concat(b)})):m.concat(_,b):D?m.concat(b,_):m.concat(_,b);if(_.is_group){var I=_.list.reduce(function(L,x){return j(L,x,S,b)},[]);return m.concat((0,n.Z)((0,n.Z)({},_),{},{children:I}))}return m.concat(_)},Q=function j(m,_){return m.is_group?{name:m.title,rowkey:"".concat(_),is_group:m.is_group,list:m.children.map(function(S,b){return j(S,"".concat(_,"-").concat(b))})}:{name:m.title,rowkey:"".concat(_),list:m.list}},U=function j(m){return m.reduce(function(_,S){return S.children&&S.children.length>0?_.concat(S.key,[].concat(j(S.children))):_.concat(S.key)},[])},J=function j(m,_,S,b){return m.is_group?(0,n.Z)((0,n.Z)({},m),{},{title:m.name,name:_,key:"".concat(b,"-").concat(S),allowDrop:!0,children:m.list.map(function(D,z){return j(D,_,z,"".concat(b,"-").concat(S))})}):(0,n.Z)((0,n.Z)({},m),{},{title:m.name,key:"".concat(b,"-").concat(S),name:_})},F=(0,r.useMemo)(function(){var j=["perf_item","func_item"];return j.map(function(m){var _=a(m==="perf_item"?{id:"performance.test"}:{id:"functional.test"}),S=m==="perf_item"?"need_perf_data":"need_func_data";if(s[m]&&s[S]){var b=s[m].map(function(z,I){return J(z,m,I,I+"")}),D=U(b);return{treeData:b,expandkeys:D,name:_,id:m,show:s[S]}}return{treeData:[],expandkeys:[],name:_,id:m,show:s[S]}})},[s]),H=(0,r.useMemo)(function(){var j=[];return s.need_test_background&&j.push("need_test_background"),s.need_test_method&&j.push("need_test_method"),s.need_test_conclusion&&j.push("need_test_conclusion"),s.need_test_summary&&j.push("need_test_summary"),(s.need_test_env||s.need_env_description)&&j.push("need_test_env"),(s.need_perf_data||s.need_func_data)&&j.push("test_data"),j},[s]),E=function j(m,_,S){if(_.key===S.key)return m;if(_.is_group){var b=_.children.reduce(function(D,z){return j(D,z,S)},[]);return m.concat((0,n.Z)((0,n.Z)({},_),{},{children:b,list:b}),[])}return m.concat(_)},T=function(m){var _=m.event,S=m.node,b=m.dragNode,D=m.dragNodesKeys;F.forEach(function(z){if(z.id===S.name){var I=z.treeData.reduce(function(q,P){return E(q,P,b)},[]),L=I.reduce(function(q,P){return X(q,P,S,b)},[]),x=L.map(function(q,P){return Q(q,"".concat(P))});w((0,Zn.ZP)(s,function(q){q[S.name]=x}))}})},Y=function(m){var _={need_test_background:a({id:"report.test.background"}),need_test_method:a({id:"report.test.method"}),need_test_conclusion:a({id:"report.test.conclusion"}),need_test_summary:"Summary",need_test_env:a({id:"report.test.env"}),test_data:a({id:"report.test.data"})};return _[m]},M=(0,Et.throttle)(function(j){var m=j.target.scrollTop,_=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),S=document.querySelectorAll(".position_mark");if(m<120){for(var b=0;b<_.length;b++)_[b].classList.remove("toc-selected");v(void 0)}else for(var D=0;D<S.length;D++){var z,I=document.querySelector("#".concat(S[D].id)),L=document.querySelector("#left_".concat(S[D].id));if((I==null||(z=I.offsetParent)===null||z===void 0?void 0:z.offsetTop)===0){if((I==null?void 0:I.offsetTop)-1<=m){for(var x=0;x<_.length;x++){var q;(q=_[x])===null||q===void 0||q.classList.remove("toc-selected")}L==null||L.classList.add("toc-selected"),v(L==null?void 0:L.offsetTop)}}else{var P;if((I==null||(P=I.offsetParent)===null||P===void 0?void 0:P.offsetTop)+(I==null?void 0:I.offsetTop)-52<=m){for(var O,Z,de,we=0;we<_.length;we++){var Re;(Re=_[we])===null||Re===void 0||Re.classList.remove("toc-selected")}L==null||L.classList.add("toc-selected");var Te=L==null?void 0:L.id.substring(5,14),Me=((O=document.querySelector("#left_".concat(Te)))===null||O===void 0?void 0:O.offsetTop)||0,ze=((Z=document.querySelector("#left_tree_".concat(Te)))===null||Z===void 0?void 0:Z.offsetTop)||0;if((L==null||(de=L.attributes.class)===null||de===void 0?void 0:de.nodeValue)=="toc-selected")if((L==null?void 0:L.id)==="left_perf_item"||(L==null?void 0:L.id)==="left_func_item")v(Me);else{var Be=L.offsetParent.offsetTop;v(ze+Be)}else{var He,Ce,ve,De=(L==null||(He=L.children[0])===null||He===void 0||(Ce=He.children[0])===null||Ce===void 0||(ve=Ce.offsetParent)===null||ve===void 0?void 0:ve.offsetTop)||0;v(ze+De)}}}}},200);(0,r.useEffect)(function(){return window.addEventListener("scroll",M,!0),function(){window.removeEventListener("scroll",M,!0)}},[]);var k=function(m){for(var _,S=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),b=0;b<S.length;b++)S[b].classList.remove("toc-selected");var D=document.querySelector("#left_".concat(m));if(D==null||D.classList.add("toc-selected"),v(D==null?void 0:D.offsetTop),(_=document.querySelector("#".concat(m)))===null||_===void 0||_.scrollIntoView(),(D==null?void 0:D.id)==="left_perf_item"||(D==null?void 0:D.id)==="left_func_item"){var z;(z=document.querySelector("#report-body-container"))===null||z===void 0||z.scrollBy({top:-52})}},te=function(m,_){for(var S,b,D,z,I=document.querySelectorAll(".spaceWarpper .ant-space-item .markSpace span"),L=0;L<I.length;L++)I[L].classList.remove("toc-selected");var x=_.node,q=x.rowKey,P=x.name,O="".concat(P,"-").concat(q),Z=document.querySelector("#left_".concat(O));Z.classList.add("toc-selected");var de=_==null||(S=_.nativeEvent)===null||S===void 0?void 0:S.target,we=document.querySelector("#left_tree_".concat(x.name)).offsetTop;if((de==null||(b=de.attributes.class)===null||b===void 0?void 0:b.nodeValue)=="toc-selected"){var Re=de.offsetParent.offsetTop;v(we+Re)}else{var Te=de.children[0].children[0].offsetParent.offsetTop;v(we+Te)}(D=document.querySelector("#".concat(O)))===null||D===void 0||D.scrollIntoView(),(z=document.querySelector("#report-body-container"))===null||z===void 0||z.scrollBy({top:-52})};return(0,e.jsxs)(p.gm,{collapsed:u,children:[(0,e.jsxs)(p.LX,{onClick:function(){return d(!u)},children:[(0,e.jsx)(_n,{}),(0,e.jsx)(p.TZ,{children:u?(0,e.jsx)(jn.Z,{title:a({id:"operation.expand"})}):(0,e.jsx)(yn.Z,{title:a({id:"operation.collapse"})})})]}),(0,e.jsxs)(p.Z7,{children:[(0,e.jsx)(p.v1,{children:(0,e.jsx)(Ye.Z.Text,{strong:!0,children:(0,e.jsx)(i._H,{id:"report.catalogue"})})}),(0,e.jsxs)(Ie.Z,{style:{position:"relative",paddingLeft:13,borderLeft:"1px solid #e5e5e5"},id:"left-catalog-wrapper",children:[G>0&&(0,e.jsx)(p._J,{count:G,children:(0,e.jsx)(p.eG,{})}),(0,e.jsxs)(Xe.Z,{direction:"vertical",style:{width:"100%"},className:"spaceWarpper",children:[H.map(function(j,m){return(0,e.jsx)("div",{className:"markSpace",children:(0,e.jsx)("span",{onClick:function(){return k(j)},id:"left_".concat(j),style:{cursor:"pointer"},children:Y(j)})},j+m)}),F.map(function(j,m){return j.show?(0,e.jsxs)(p.qu,{className:"markSpace",children:[(0,e.jsx)("span",{onClick:function(S){return k(j.id)},id:"left_".concat(j.id),style:{cursor:"pointer"},children:j.name}),(0,e.jsx)(p.qu,{id:"left_tree_".concat(j.id),style:{marginTop:j.treeData.length>0?8:0},children:(0,e.jsx)(vn.Z,{treeData:j.treeData,onDrop:T,draggable:!0,switcherIcon:(0,e.jsx)(e.Fragment,{}),blockNode:!0,titleRender:function(S){return(0,e.jsx)("span",{id:"left_".concat(S.name,"-").concat(S.rowKey),children:S.title})},expandedKeys:j.expandkeys,onSelect:te})})]},m):null})]})]})]})]})},bn=(0,r.memo)(Sn),Rr=f(38924),Rn=f(51017),Cn=function(t){var a=(0,r.useState)([]),o=(0,re.Z)(a,2),s=o[0],u=o[1],w=(0,r.useState)(!0),d=(0,re.Z)(w,2),y=d[0],C=d[1],G=(0,r.useState)([]),v=(0,re.Z)(G,2),X=v[0],Q=v[1],U=(0,r.useState)(1),J=(0,re.Z)(U,2),F=J[0],H=J[1],E=r.useState({}),T=(0,re.Z)(E,2),Y=T[0],M=T[1],k={need_test_suite_description:!0,need_test_env:!0,need_test_description:!0,need_test_conclusion:!0,show_type:"list",test_data:!1},te=(0,r.useState)({func_data_result:[],perf_data_result:[]}),j=(0,re.Z)(te,2),m=j[0],_=j[1],S=(0,r.useState)({name:"",is_default:!1,need_test_background:!0,need_test_method:!0,need_test_summary:!0,need_test_conclusion:!0,need_test_env:!0,need_env_description:!0,need_func_data:!1,need_perf_data:!1,description:"",perf_conf:k,func_conf:k,perf_item:[],func_item:[]}),b=(0,re.Z)(S,2),D=b[0],z=b[1],I=(0,Je.UO)(),L=I.ws_id,x=t.history.location.state,q=x.environmentResult,P=q===void 0?{}:q,O=x.baselineGroupIndex,Z=O===void 0?0:O,de=x.allGroupData,we=de===void 0?[]:de,Re=x.testDataParam,Te=Re===void 0?{}:Re,Me=x.compareGroupData,ze=Me===void 0?{}:Me,Be=x.domainGroupResult,He=Be===void 0?{}:Be,Ce=x.saveReportData,ve=Ce===void 0?{}:Ce,De=function(){var A=(0,qe.Z)((0,Pe.Z)().mark(function h(R){var $;return(0,Pe.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,Rn.on)(R);case 2:return $=le.sent,le.abrupt("return",$);case 4:case"end":return le.stop()}},h)}));return function(R){return A.apply(this,arguments)}}(),Ne=function(){var A=(0,qe.Z)((0,Pe.Z)().mark(function h(R){var $,W,le,ge,Fe;return(0,Pe.Z)().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:C(!0),$=R.perf_suite_dic,W=R.func_suite_dic,le=[],ge=[],$&&JSON.stringify($)!=="{}"&&(le=(0,Rr.$7)($)),W&&JSON.stringify(W)!=="{}"&&(ge=(0,Rr.$7)(W)),Fe=[],Fe=le.concat(ge),H(Fe.length),Fe.map(function(tt,nt){return De(tt).then(function(Ee){if(Ee.code===200&&(C(!1),Ee.data.test_type==="functional"&&(m.func_data_result=m.func_data_result.concat(Ee.data)),Ee.data.test_type==="performance"&&(m.perf_data_result=m.perf_data_result.concat(Ee.data))),_((0,n.Z)({},m)),Ee.code!==200){it.default.error(Ee.msg);return}})});case 10:case"end":return $e.stop()}},h)}));return function(R){return A.apply(this,arguments)}}();(0,r.useEffect)(function(){JSON.stringify(Te)!=="{}"&&Ne(Te)},[Te]);var Ve=(0,r.useMemo)(function(){var A=m.func_data_result,h=m.perf_data_result,R=h.length,$=A.length;return R+$},[m]),fe=function(){var A=(0,qe.Z)((0,Pe.Z)().mark(function h(){var R,$,W;return(0,Pe.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,(0,ut.PL)({id:ve.template,ws_id:L});case 2:if(R=ge.sent,$=R.data,W=R.code,W===200){ge.next=7;break}return ge.abrupt("return");case 7:M($);case 8:case"end":return ge.stop()}},h)}));return function(){return A.apply(this,arguments)}}();r.useEffect(function(){ve.template&&fe()},[]);var Ue=(0,r.useMemo)(function(){return ve.is_default},[ve]);(0,r.useEffect)(function(){var A=m.func_data_result,h=m.perf_data_result;if(Ue){var R=new Object,$=[],W=[];Object.keys(He).forEach(function(xt,_e){var B=He[xt];xt=="functional"?Object.keys(B).forEach(function(ke){var We=B[ke],Ae=[];Object.keys(We).forEach(function(Le){var ue=We[Le];Ae.push({test_suite_id:Le,case_source:ue})}),$.push({name:ke,list:Ae})}):Object.keys(B).forEach(function(ke){var We=B[ke],Ae=[];Object.keys(We).forEach(function(Le){var ue=We[Le];Ae.push({test_suite_id:Le,case_source:ue})}),W.push({name:ke,list:Ae})})}),R.func_item=$,R.perf_item=W;var le=[],ge=[];if(JSON.stringify(R)!=="{}"){if(R.perf_item&&!!R.perf_item.length&&h.length)for(var Fe=function(_e,B){if(_e[B].is_group){for(var ke=[],We=function(ye,xe){for(var ne=[],me=[],he=function(Oe,Ge){h.map(function(Se,Ht){Number(Se.suite_id)==Number(Oe[Ge].test_suite_id)&&ne.push((0,n.Z)((0,n.Z)({},Se),{},{test_suite_description:Oe[Ge].test_tool,rowKey:"".concat(B,"-").concat(xe,"-").concat(Ge)}))}),Oe[Ge].case_source.map(function(Se){me.push(Se.test_conf_id||Se)})},Ze=ye[xe].list,se=0;se<Ze.length;se++)he(Ze,se);for(var ee=0;ee<ne.length;ee++)ne[ee].conf_list=ne[ee].conf_list.filter(function(ae,Oe){return me.includes(Number(ae.conf_id))});ke.push({name:ye[xe].name,rowKey:"".concat(B,"-").concat(xe),list:ne})},Ae=_e[B].list,Le=0;Le<Ae.length;Le++)We(Ae,Le);le.push({name:_e[B].name,rowKey:"".concat(B),is_group:!0,list:ke})}else(function(){for(var ue=[],ye=[],xe=function(se,ee){h.map(function(ae,Oe){ae.suite_id==se[ee].test_suite_id&&ue.push((0,n.Z)((0,n.Z)({},ae),{},{test_suite_description:se[ee].test_tool,rowKey:"".concat(B,"-").concat(ee)}))}),se[ee].case_source.map(function(ae){ye.push(ae.test_conf_id||ae)})},ne=_e[B].list,me=0;me<ne.length;me++)xe(ne,me);for(var he=0;he<ue.length;he++)ue[he].conf_list=ue[he].conf_list.filter(function(Ze,se){return ye.includes(Number(Ze.conf_id))});le.push({name:_e[B].name,rowKey:"".concat(B),list:ue})})()},Ke=R.perf_item,$e=0;$e<Ke.length;$e++)Fe(Ke,$e);if(R.func_item&&!!R.func_item.length&&A.length)for(var tt=function(_e,B){if(_e[B].is_group){for(var ke=[],We=function(ye,xe){for(var ne=[],me=[],he=function(Oe,Ge){A.map(function(Se,Ht){Number(Se.suite_id)===Number(Oe[Ge].test_suite_id)&&ne.push((0,n.Z)((0,n.Z)({},Se),{},{rowKey:"".concat(B,"-").concat(Ge)}))}),Oe[Ge].case_source.map(function(Se){me.push(Se.test_conf_id||Se)})},Ze=ye[xe].list,se=0;se<Ze.length;se++)he(Ze,se);for(var ee=0;ee<ne.length;ee++)ne[ee].conf_list=ne[ee].conf_list.filter(function(ae,Oe){return me.includes(Number(ae.conf_id))});ke.push({name:ye[xe].name,rowKey:"".concat(B,"-").concat(xe),list:ne})},Ae=_e[B].list,Le=0;Le<Ae.length;Le++)We(Ae,Le);ge.push({name:_e[B].name,rowKey:"".concat(B),is_group:!0,list:ke})}else(function(){for(var ue=[],ye=[],xe=function(se,ee){A.map(function(ae,Oe){Number(ae.suite_id)===Number(se[ee].test_suite_id)&&ue.push((0,n.Z)((0,n.Z)({},ae),{},{rowKey:"".concat(B,"-").concat(ee)}))}),se[ee].case_source.map(function(ae){ye.push(ae.test_conf_id||ae)})},ne=_e[B].list,me=0;me<ne.length;me++)xe(ne,me);for(var he=0;he<ue.length;he++)ue[he].conf_list=ue[he].conf_list.filter(function(Ze,se){return ye.includes(Number(Ze.conf_id))});ge.push({name:_e[B].name,rowKey:"".concat(B),list:ue})})()},nt=R.func_item,Ee=0;Ee<nt.length;Ee++)tt(nt,Ee);z((0,n.Z)((0,n.Z)({},D),{},{is_default:!0,perf_item:le,func_item:ge})),C(!1)}}else{var St=[],gt=[],Qe=Y;if(JSON.stringify(Qe)!=="{}"){if(Qe.perf_item&&!!Qe.perf_item.length)for(var Vt=function(_e,B){if(_e[B].is_group){for(var ke=[],We=function(ye,xe){for(var ne=[],me=[],he=function(Oe,Ge){h==null||h.map(function(Se,Ht){Number(Se.suite_id)==Number(Oe[Ge].test_suite_id)&&ne.push((0,n.Z)((0,n.Z)({},Se),{},{test_suite_description:Oe[Ge].test_tool,test_env:"",test_description:"",test_conclusion:"",rowKey:"".concat(B,"-").concat(xe,"-").concat(Ht)}))}),Oe[Ge].case_source.map(function(Se){me.push(Se.test_conf_id||Se)})},Ze=ye[xe].list,se=0;se<Ze.length;se++)he(Ze,se);for(var ee=0;ee<ne.length;ee++)ne[ee].conf_list=ne[ee].conf_list.filter(function(ae,Oe){return me.includes(Number(ae.conf_id))});ke.push({name:ye[xe].name,rowKey:"".concat(B,"-").concat(xe),list:ne})},Ae=_e[B].list,Le=0;Le<Ae.length;Le++)We(Ae,Le);St.push({name:_e[B].name,rowKey:"".concat(B),is_group:!0,list:ke})}else(function(){for(var ue=[],ye=[],xe=function(se,ee){h==null||h.map(function(ae,Oe){ae.suite_id==se[ee].test_suite_id&&ue.push((0,n.Z)((0,n.Z)({},ae),{},{test_suite_description:se[ee].test_tool,rowKey:"".concat(B,"-").concat(ee)}))}),se[ee].case_source.map(function(ae){ye.push(ae.test_conf_id||ae)})},ne=_e[B].list,me=0;me<ne.length;me++)xe(ne,me);for(var he=0;he<ue.length;he++)ue[he].conf_list=ue[he].conf_list.filter(function(Ze,se){return ye.includes(Number(Ze.conf_id))});St.push({name:_e[B].name,rowKey:"".concat(B),list:ue})})()},bt=Qe.perf_item,Ut=0;Ut<bt.length;Ut++)Vt(bt,Ut);if(Qe.func_item&&!!Qe.func_item.length)for(var An=function(_e,B){if(_e[B].is_group){for(var ke=[],We=function(ye,xe){for(var ne=[],me=[],he=function(Oe,Ge){A==null||A.map(function(Se,Ht){Number(Se.suite_id)===Number(Oe[Ge].test_suite_id)&&ne.push((0,n.Z)((0,n.Z)({},Se),{},{rowKey:"".concat(B,"-").concat(Ge)}))}),Oe[Ge].case_source.map(function(Se){me.push(Se.test_conf_id||Se)})},Ze=ye[xe].list,se=0;se<Ze.length;se++)he(Ze,se);for(var ee=0;ee<ne.length;ee++)ne[ee].conf_list=ne[ee].conf_list.filter(function(ae,Oe){return me.includes(Number(ae.conf_id))});ke.push({name:ye[xe].name,rowKey:"".concat(B,"-").concat(xe),list:ne})},Ae=_e[B].list,Le=0;Le<Ae.length;Le++)We(Ae,Le);gt.push({name:_e[B].name,rowKey:"".concat(B),is_group:!0,list:ke})}else(function(){for(var ue=[],ye=[],xe=function(se,ee){A==null||A.map(function(ae,Oe){Number(ae.suite_id)===Number(se[ee].test_suite_id)&&ue.push((0,n.Z)((0,n.Z)({},ae),{},{rowKey:"".concat(B,"-").concat(ee)}))}),se[ee].case_source.map(function(ae){ye.push(ae.test_conf_id||ae)})},ne=_e[B].list,me=0;me<ne.length;me++)xe(ne,me);for(var he=0;he<ue.length;he++)ue[he].conf_list=ue[he].conf_list.filter(function(Ze,se){return ye.includes(Number(Ze.conf_id))});gt.push({name:_e[B].name,rowKey:"".concat(B),list:ue})})()},Pr=Qe.func_item,Qt=0;Qt<Pr.length;Qt++)An(Pr,Qt);z((0,n.Z)((0,n.Z)({},Qe),{},{perf_item:St,func_item:gt})),C(!1)}}},[He,Ue,m,Y]);var ie=function(h,R,$,W){return h.reduce(function(le,ge){return ge[R].reduce(function(Fe,Ke,$e){if(W===$e)for(var tt in Ke)Fe[tt]+=Ke[tt];return Fe},$)},$)},K=(0,r.useMemo)(function(){var A=P.compare_groups,h=m.func_data_result,R=m.perf_data_result,$=A.reduce(function(ge,Fe,Ke){var $e=Fe.tag,tt=Fe.is_job,nt={tag:$e,is_job:tt,func_data:{},perf_data:{}};if(h&&!!h.length){var Ee=ie(h,"compare_count",{all_case:0,success_case:0,fail_case:0},Ke);nt.func_data={funcAll:Ee==null?void 0:Ee.all_case,success:Ee==null?void 0:Ee.success_case,fail:Ee==null?void 0:Ee.fail_case}}if(R&&!!R.length){var St=R.reduce(function(Qe,Vt){var bt=Vt.base_count.all;return bt?Qe+bt:Qe},0),gt=ie(R,"compare_count",{all:0,decline:0,increase:0},Ke);nt.perf_data={perfAll:St,decline:gt.decline,increase:gt.increase}}return ge.concat(nt)},[]),W={},le={tag:P.base_group.tag,is_job:1,func_data:{},perf_data:{}};return h&&!!h.length&&(le=(0,n.Z)((0,n.Z)({},le),{},{func_data:(0,n.Z)({},h.reduce(function(ge,Fe){var Ke=Fe.base_count,$e=Ke.all_case,tt=Ke.success_case,nt=Ke.fail_case;return{funcAll:ge.funcAll+$e,success:ge.success+tt,fail:ge.fail+nt}},{funcAll:0,success:0,fail:0}))})),W.custom="-",W.summary={base_group:le,compare_groups:$},W},[P,m]);(0,r.useMemo)(function(){var A=be().cloneDeep(K),h=A==null?void 0:A.summary.compare_groups,R=A==null?void 0:A.summary.base_group;h.splice(Z,0,R),u(h)},[K]),(0,r.useMemo)(function(){var A=be().cloneDeep(P),h=A.compare_groups,R=A.base_group;h.splice(Z,0,R),h.length>1&&Z!==-1&&(h[Z].is_group=!0),Q(h)},[P]);var pe=(0,r.useMemo)(function(){return we.filter(function(A){return A.members.length>0})},[we]),oe=(0,r.useMemo)(function(){return Ve!==F},[Ve,F]);return{environmentResult:P,allGroupData:pe,baselineGroupIndex:Z===-1?0:Z,compareResult:m,compareGroupData:ze,domainGroupResult:He,logoData:s,envData:X,summaryData:K,domainResult:D,setDomainResult:z,loading:y,saveReportData:ve,isFlag:oe}},Cr=function(t,a){var o=[];return Object.keys(t).map(function(s,u){var w;return o.push({name:s,rowKey:"".concat(a,"-").concat(u),list:(w=t[s])===null||w===void 0?void 0:w.map(function(d,y){return(0,n.Z)((0,n.Z)({},d),{},{rowKey:"".concat(a,"-").concat(u,"-").concat(y)})})})}),o},wn=function(){var t=(0,r.useState)(!0),a=(0,re.Z)(t,2),o=a[0],s=a[1],u=(0,r.useState)({}),w=(0,re.Z)(u,2),d=w[0],y=w[1],C=(0,r.useState)([]),G=(0,re.Z)(C,2),v=G[0],X=G[1],Q=(0,r.useState)(0),U=(0,re.Z)(Q,2),J=U[0],F=U[1],H=(0,r.useState)(),E=(0,re.Z)(H,2),T=E[0],Y=E[1],M=(0,r.useState)({}),k=(0,re.Z)(M,2),te=k[0],j=k[1],m=(0,Je.UO)(),_=m.report_id,S=m.share_id,b=m.ws_id,D=function(){var P=(0,qe.Z)((0,Pe.Z)().mark(function O(){var Z,de,we,Re,Te,Me,ze,Be,He,Ce,ve,De,Ne,Ve,fe,Ue,ie,K,pe,oe;return(0,Pe.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s(!0),h.next=3,(0,ut.AX)({report_id:_,share_id:S});case 3:if(Z=h.sent,de=Z.code,we=Z.msg,Re=Z.data,de===200){h.next=10;break}return(0,lt.EV)(de,we),h.abrupt("return",(0,lt.CT)(404));case 10:if(y(Re),Te=Re.tmpl_id,Me=Re.creator,ze=Re.template_detail,Y(Me),Be=ze,!(!Be||JSON.stringify(Be)==="{}")){h.next=22;break}if(Object.prototype.toString.call(Te)!=="[object Number]"){h.next=22;break}return h.next=18,(0,ut.PL)({id:Te,ws_id:b,share_id:S});case 18:He=h.sent,Ce=He.data,ve=He.code,ve===200&&(Be=Ce);case 22:if(De=[],Ne=[],Ve=Re.test_item,fe=Ve.perf_data,Ue=Ve.func_data,JSON.stringify(fe)!=="{}"&&Object.keys(fe).map(function(R,$){if(be().isArray(fe[R])){var W;De.push({name:R,rowKey:$,list:(W=fe[R])===null||W===void 0?void 0:W.map(function(le,ge){return(0,n.Z)((0,n.Z)({},le),{},{rowKey:"".concat($,"-").concat(ge)})})})}else De.push({name:R,rowKey:$,is_group:!0,list:Cr(fe[R],$)})}),JSON.stringify(Ue)!=="{}"&&Object.keys(Ue).map(function(R,$){be().isArray(Ue[R])?Ne.push({name:R,rowKey:$,list:Ue[R]}):Ne.push({name:R,rowKey:$,is_group:!0,list:Cr(Ue[R],$)})}),j((0,n.Z)((0,n.Z)({},Be),{},{perf_item:De,func_item:Ne})),ie=JSON.parse(Re.test_env),ie){for(K=ie==null?void 0:ie.compare_groups,pe=[],oe=0;oe<K.length;oe++)pe.push(K[oe]);pe.splice(ie==null?void 0:ie.base_index,0,ie==null?void 0:ie.base_group),X(pe),F((ie==null?void 0:ie.base_index)===void 0?0:ie==null?void 0:ie.base_index)}s(!1);case 31:case"end":return h.stop()}},O)}));return function(){return P.apply(this,arguments)}}();(0,r.useEffect)(function(){D()},[]);var z,I;d&&JSON.stringify(d)!=="{}"&&(z=JSON.parse(d.test_conclusion),I=JSON.parse(d.test_env));var L=(0,n.Z)((0,n.Z)({},d),{},{template:d==null?void 0:d.tmpl_id,test_conclusion:z,test_env:I}),x=(0,r.useMemo)(function(){if(z&&JSON.stringify(z)!=="{}"){var P=be().cloneDeep(z),O=P==null?void 0:P.summary.compare_groups,Z=P==null?void 0:P.summary.base_group;return O.splice(J,0,Z),O}},[z]),q=(0,r.useMemo)(function(){if(I&&JSON.stringify(I)!=="{}"){var P,O,Z=be().cloneDeep(I);((P=I)===null||P===void 0||(O=P.compare_groups)===null||O===void 0?void 0:O.length)>0&&(Z.base_group.is_group=!0);var de=Z==null?void 0:Z.compare_groups,we=Z==null?void 0:Z.base_group;return de.splice(J,0,we),de}},[I]);return{environmentResult:I,allGroupData:v,baselineGroupIndex:J,logoData:x,envData:q,summaryData:z,domainResult:te,setDomainResult:j,loading:o,saveReportData:L,wsId:d==null?void 0:d.ws_id,queryReport:D,creator:T}},Jn=f(20136),Dn=f(55241),zn=f(88983),wr=f(47933),Dr,Er=ft.ZP.div(Dr||(Dr=(0,at.Z)([`
    display: flex;
    flex-direction: column;
    gap: `,`px;
`])),function(c){var t=c.gap;return t||10}),En=function(t){var a=t.onCopy,o=t.children,s=t.list,u=r.useState(1),w=(0,re.Z)(u,2),d=w[0],y=w[1];return(0,e.jsx)(Dn.Z,{placement:"bottomRight",destroyTooltipOnHide:!0,title:(0,e.jsx)(i._H,{id:"analysis.share_link"}),content:(0,e.jsxs)(Er,{children:[(0,e.jsx)(Ye.Z.Text,{strong:!0,children:(0,e.jsx)(i._H,{id:"analysis.share_link.desc"})}),(0,e.jsx)(wr.ZP.Group,{value:d,defaultValue:1,onChange:function(G){var v;return y(G==null||(v=G.target)===null||v===void 0?void 0:v.value)},children:(0,e.jsx)(Er,{children:s.map(function(C){return(0,e.jsx)("div",{children:(0,e.jsx)(wr.ZP,{value:C.value,children:C.label})},C.value)})})}),(0,e.jsx)(_t.Z,{onClick:function(){return a(d)},children:(0,e.jsx)(i._H,{id:"ws.test.job.copy.link"})})]}),children:o})},Ln=En,On=f(4424),Lr,Or,Nr=ft.ZP.span(Lr||(Lr=(0,at.Z)([`
    &:hover {
        .ant-space-item {
            color: #1890FF;

            path {
                fill: #1890FF;
            }
        }
    }
`]))),Nn=(0,ft.ZP)(Ie.Z)(Or||(Or=(0,at.Z)([`
    height: 50px;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    backgroundColor: #fff;
    paddingRight: 20;
    boxShadow: 0 0 10px 0 rgba(0,0,0,0.06)
`]))),Hn=function(t){var a=t.saveReportData,o=t.routeName,s=t.creator,u=(0,Je.UO)(),w=u.report_id,d=u.ws_id,y=(0,i.YB)(),C=y.formatMessage,G=(0,Je.TH)(),v=G.pathname,X=(0,i.md)(),Q=(0,zt.oM)(C({id:"report.link.copied.successfully"})),U=function(){var J=(0,qe.Z)((0,Pe.Z)().mark(function F(H){var E,T;return(0,Pe.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(H!==1){M.next=4;break}Q(location.origin+"/ws/".concat(d,"/test_report/").concat(w,"/share")),M.next=9;break;case 4:return M.next=6,(0,On.Et)({report_id:w,ws_id:d});case 6:E=M.sent,T=E.data,Q(location.origin+"/share/report/".concat(T));case 9:case"end":return M.stop()}},F)}));return function(H){return J.apply(this,arguments)}}();return(0,e.jsxs)(Ie.Z,{justify:"space-between",align:"middle",style:{height:50},children:[(0,e.jsxs)(p.I$,{children:[(0,e.jsx)(Ct.Z.Item,{children:(0,e.jsx)(p.qO,{onClick:function(){return i.m8.push("/ws/".concat(d,"/test_report"))},children:(0,e.jsx)(i._H,{id:"report.test.report"})})}),(0,e.jsx)(Ct.Z.Item,{children:(0,e.jsx)(p.z$,{onClick:function(){return i.m8.go(0)},children:(a==null?void 0:a.name)||"-"})})]}),!["EditReport","CreateReport"].includes(o)&&(0,e.jsxs)(Xe.Z,{children:[(0,e.jsx)(Ln,{list:[{value:1,label:C({id:"analysis.share_link.radio1"})},{value:2,label:C({id:"analysis.share_link.radio2"})}],onCopy:U,children:(0,e.jsx)(Nr,{children:(0,e.jsxs)(Xe.Z,{size:4,style:{cursor:"pointer"},align:"center",children:[(0,e.jsx)(g.r,{}),(0,e.jsx)(i._H,{id:"operation.share"})]})})}),!["ShareReport","share_report"].includes(o)&&(0,e.jsx)(i.Nv,{accessible:X.WsTourist()&&X.WsMemberOperateSelf(s),fallback:(0,e.jsx)("span",{onClick:function(){return(0,lt.WR)()},children:(0,e.jsxs)(Xe.Z,{size:4,align:"center",children:[(0,e.jsx)(Kt,{}),(0,e.jsx)(i._H,{id:"operation.edit"})]})}),children:(0,e.jsx)(Nr,{style:{cursor:"pointer"},onClick:function(){var F=v.lastIndexOf("/")===v.length-1?"edit":"/edit";i.m8.push("".concat(v).concat(v!=="EditReport"?F:""))},children:(0,e.jsxs)(Xe.Z,{size:4,align:"center",children:[(0,e.jsx)(Gt,{}),(0,e.jsx)(i._H,{id:"operation.edit"})]})})})]})]})},Hr=["background_desc","test_method_desc"],Pn=["test_background","test_method","custom"],Tn=function(t){var a=(0,i.YB)(),o=a.formatMessage,s=(0,Je.UO)(),u=s.ws_id,w=t.route.name,d=(0,r.useState)(w==="EditReport"),y=(0,re.Z)(d,2),C=y[0],G=y[1],v=(0,r.useState)(!1),X=(0,re.Z)(v,2),Q=X[0],U=X[1],J=(0,r.useState)(!1),F=(0,re.Z)(J,2),H=F[0],E=F[1],T=(0,zt.CR)(),Y=T.height,M=(0,r.useRef)(null),k=(0,r.useState)({test_item:{func_data:[],perf_data:[]}}),te=(0,re.Z)(k,2),j=te[0],m=te[1],_=["Report","EditReport","ShareReport","share_report"].includes(w)?wn():Cn(t),S=_.environmentResult,b=_.allGroupData,D=_.baselineGroupIndex,z=_.logoData,I=_.envData,L=_.summaryData,x=_.domainResult,q=_.compareGroupData,P=_.setDomainResult,O=_.loading,Z=_.saveReportData,de=_.wsId,we=_.queryReport,Re=_.isFlag,Te=_.creator,Me=b==null?void 0:b.length;r.useEffect(function(){window.document.title="".concat(Z.name||""," - T-one")},[Z.name]),(0,r.useEffect)(function(){["Report","share_report","ShareReport"].includes(w)?G(!1):(G(!0),m(function(Ce){return Ce.test_env=S,Ce}))},[S]),r.useEffect(function(){Z!=null&&Z.id||L&&L!==void 0&&JSON.stringify(x)!=="{}"&&m(function(Ce){return Pn.forEach(function(ve,De){if(ve==="custom"){if(L&&L!==void 0){var Ne;L[ve]=(Z==null||(Ne=Z.test_conclusion)===null||Ne===void 0?void 0:Ne.custom)||(x==null?void 0:x.test_conclusion_desc),Ce.test_conclusion=L}}else(!Ce[ve]&&Z!==null&&Z!==void 0&&Z[ve]||x!=null&&x[Hr[De]])&&(Ce[ve]=(Z==null?void 0:Z[ve])||(x==null?void 0:x[Hr[De]]))}),Ce})},[Z,x,L]);var ze=function(){var ve=[];return be().isArray(b)&&(ve=be().reduce(b,function(De,Ne){var Ve=be().isArray(be().get(Ne,"members"))?be().get(Ne,"members"):[];return Ve.forEach(function(fe){fe&&fe.id&&De.push(fe.id)}),De},[])),ve},Be=function(){var Ce=(0,qe.Z)((0,Pe.Z)().mark(function ve(){var De,Ne;return(0,Pe.Z)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(U(!0),j.product_version=Z.productVersion,j.project_id=Z.project,j.report_source="job",j.tmpl_id=Z.template,j.ws_id=u,j.job_li=ze(),Object.prototype.toString.call(D)==="[object Number]"&&(j.test_env.base_index=D),!Z.id){fe.next=17;break}return j.report_id=Z.id,delete j.test_env.text,fe.next=13,(0,ut.Me)(j);case 13:De=fe.sent,De.code===200?(it.default.success(o({id:"report.update.report.succeeded"})),we(),i.m8.push("/ws/".concat(u,"/test_report/").concat(Z.id))):(0,lt.EV)(De.code,De.msg),fe.next=22;break;case 17:return j.name||(j.name=Z.name),fe.next=20,(0,ut.iE)(j);case 20:Ne=fe.sent,Ne.code===200?(it.default.success(o({id:"report.saved.successfully"})),i.m8.push("/ws/".concat(u,"/test_report?t=list"))):(0,lt.EV)(Ne.code,Ne.msg);case 22:U(!1);case 23:case"end":return fe.stop()}},ve)}));return function(){return Ce.apply(this,arguments)}}(),He=r.useRef(null);return(0,e.jsx)(et.G.Provider,{value:{btnState:C,obj:j,saveReportData:Z,allGroupData:b,compareGroupData:q,logoData:z,envData:I,routeName:w,btnConfirm:Q,baselineGroupIndex:D,domainResult:x,setDomainResult:P,summaryData:L,environmentResult:S,collapsed:H,groupLen:Me,bodyRef:M,wsId:de,creator:Te,isOldReport:Z==null?void 0:Z.old_report,setCollapsed:E,setObj:m,containerRef:He},children:(0,e.jsx)(je.Z,{spinning:O,children:(0,e.jsxs)(p.ec,{height:Y-50,style:{paddingBottom:["EditReport","CreateReport"].includes(w)?50:0},children:[(0,e.jsx)(bn,{}),(0,e.jsx)(p._r,{id:"report-body-container",ref:He,collapsed:H,children:(0,e.jsxs)(p.Mz,{ref:M,children:[(0,e.jsxs)(st.Z,{span:24,children:[!["share_report","ShareReport"].includes(w)&&(0,e.jsx)(Hn,{saveReportData:Z,routeName:w,creator:Te}),(0,e.jsx)(Gr,{}),(0,e.jsx)(Br,{}),(0,e.jsxs)("div",{style:{width:1200},children:[(x==null?void 0:x.is_default)&&(0,e.jsx)(fr,{}),(x==null?void 0:x.is_default)&&(0,e.jsx)(pr,{}),!(x!=null&&x.is_default)&&(x==null?void 0:x.need_test_summary)&&(0,e.jsx)(fr,{}),!(x!=null&&x.is_default)&&(x==null?void 0:x.need_test_env)&&(0,e.jsx)(pr,{}),(0,e.jsx)(pn,{})]})]}),["EditReport","CreateReport"].includes(w)&&(0,e.jsx)(Nn,{align:"middle",justify:"end",children:(0,e.jsx)(_t.Z,{type:"primary",disabled:Q,onClick:Be,loading:Re,children:Z!=null&&Z.id?(0,e.jsx)(i._H,{id:"operation.update"}):(0,e.jsx)(i._H,{id:"operation.save"})})})]})})]})})})},kn=Tn},4424:function(Tr,Rt,f){"use strict";f.d(Rt,{xO:function(){return _t},EF:function(){return Xt},Q7:function(){return st},_x:function(){return qt},Zx:function(){return it},XJ:function(){return re},yH:function(){return er},Cl:function(){return tr},bU:function(){return Ct},Tm:function(){return qe},FJ:function(){return rr},_f:function(){return Ie},tV:function(){return at},_U:function(){return r},ED:function(){return wt},Xc:function(){return Pt},DH:function(){return ct},em:function(){return Tt},f7:function(){return kt},Po:function(){return At},EG:function(){return Gt},sG:function(){return nr},kv:function(){return Dt},dy:function(){return It},kg:function(){return dt},K0:function(){return Bt},_N:function(){return Ft},$Y:function(){return Mt},Et:function(){return Kt}});var V=f(39428),je=f(3182),ce=f(16917),_t=function(g){return(0,ce.WY)("/api/job/test/summary/",{params:g})},Xt=function(g){return(0,ce.WY)("/api/job/test/result/",{params:g})},st=function(g){return(0,ce.WY)("/api/job/test/conf/result/",{params:g})},qt=function(g){return(0,ce.WY)("/api/job/test/case/result/",{params:g})},it=function(g){return(0,ce.WY)("/api/job/test/case/performance/result/",{params:g})},re=function(g){return(0,ce.WY)("/api/job/test/case/file/",{params:g})},er=function(g){return(0,ce.WY)("/api/job/test/case/version/",{params:g})},Xe=function(g){return request("/api/job/test/process/",{params:g})},tr=function(g){return(0,ce.WY)("/api/job/test/config/",{params:g})},Ct=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/baseline/list/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Pe=null,qe=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/baseline/perf/add_one/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),rr=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/baseline/perf/batch_add/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Ie=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/baseline/funcs/detail/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),at=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test/editor/note/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),r=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/tag/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),wt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/tag/relation/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Pt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test/editor/state/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),ct=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test/process/test_prepare/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Tt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/sys/chats/query/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),kt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test/process/build/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),At=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test/process/suite/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Gt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test/process/case/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),nr=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/baseline/perf/contrast/",{data:n,method:"post"}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Dt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test/process/monitor/job/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),It=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/test_server/machine_fault/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),dt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/server/get_ssh_link/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Bt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/server/agent_task_info/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Ft=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/download/query/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Mt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/job/download/",{params:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}(),Kt=function(){var N=(0,je.Z)((0,V.Z)().mark(function g(n){return(0,V.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,ce.WY)("/api/auth/share/",{method:"post",data:n}));case 1:case"end":return l.stop()}},g)}));return function(n){return N.apply(this,arguments)}}()}}]);
