(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[8511,2485],{96791:function(V){V.exports={job_test_form:"job_test_form___9jbiJ",save_template:"save_template___1y982",table_question_tooltip:"table_question_tooltip___3qPEG"}},87415:function(V,T,e){"use strict";e.d(T,{mQ:function(){return h},gM:function(){return a},nU:function(){return d}});var f=e(58024),C=e(91894),P=e(20310),p=e(12788),F,y,M,b,h=(0,p.ZP)(C.Z)(F||(F=(0,P.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .common_pagination { padding-bottom:0 ;}
`]))),a=(0,p.ZP)(h)(y||(y=(0,P.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`]))),o=(0,p.ZP)(C.Z)(M||(M=(0,P.Z)([`
    border:none !important;
    .ant-card-head {
        min-height: 48px;
        padding: 0 32px;
        .ant-tabs-tab { min-height : 48px; }
        .ant-card-head-title{
            padding: 0;
        }
        .ant-card-extra {
            padding: 0;
        }
    }
    .ant-card-body{
        padding: 24px 24px 24px 0px;
    }
    .common_pagination { padding-bottom:0 ;}
`]))),d=(0,p.ZP)(o)(b||(b=(0,P.Z)([`
    border:none!important;
    .ant-card-head .ant-card-head-wrapper { min-height:48px; }
    .ant-card-head-title { font-weight: normal; font-size:14px;}
    .commom_pagination { margin-bottom:0 ;}
    .ant-tabs-nav { margin : 0 ;}
    .ant-spin-nested-loading > div > .ant-spin {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
`])))},13438:function(V,T,e){"use strict";var f=e(13062),C=e(71230),P=e(49111),p=e(19650),F=e(402),y=e(97272),M=e(11849),b=e(9715),h=e(20526),a=e(47673),o=e(4107),d=e(19273),l=e(39428),_=e(3182),W=e(67294),B=e(73171),Z=e(49101),L=e(16917),Y=e(20009),u=e(53909),s=e(85893),t=function(G){var I=(0,L.YB)(),q=G.disabled,N=G.form,Q=(0,Y.TH)(),i=Q.pathname;return(0,s.jsx)(h.Z.Item,(0,M.Z)((0,M.Z)({label:I.formatMessage({id:"kernel.kernel_packages.label"}),required:!0},G),{},{children:(0,s.jsx)(h.Z.List,{name:"kernel_packages",initialValue:[""],rules:[{validator:function(){var E=(0,_.Z)((0,l.Z)().mark(function O(){return(0,l.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",Promise.resolve());case 1:case"end":return S.stop()}},O)}));function m(){return E.apply(this,arguments)}return m}()}],children:function(m,O,D){var S=O.add,ee=O.remove;return(0,d.Z)(D),(0,s.jsxs)(C.Z,{style:{flexDirection:"column",gap:8,width:"100%"},children:[m.map(function(ue,K){return(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(h.Z.Item,(0,M.Z)((0,M.Z)({},ue),{},{rules:[{required:!0,message:I.formatMessage({id:"kernel.kernel_packages".concat(K!==0?".other":"",".rules.empty")})}],children:(0,s.jsx)(o.Z,{disabled:q,style:{width:"100%"},allowClear:!0,placeholder:I.formatMessage({id:"kernel.kernel_packages".concat(K!==0?".other":"",".placeholder")})})})),!q&&K!==0&&m.length>1?(0,s.jsx)(B.Z,{style:{position:"absolute",right:0,top:0,transform:"translate(150%,60%)"},onClick:function(){return ee(ue.name)}}):null,!!~i.indexOf("/test_result/")&&(0,s.jsx)(u.db,{style:{right:-20},onCopy:function(){var J;return N==null||(J=N.getFieldValue("kernel_packages"))===null||J===void 0?void 0:J[K]}})]},K)}),!q&&(0,s.jsx)(y.Z.Link,{onClick:function(){return S()},children:(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(Z.Z,{}),(0,s.jsx)(y.Z.Link,{children:I.formatMessage({id:"kernel.kernel_packages.add"})})]})})]})}})}))};T.Z=t},78265:function(V,T,e){"use strict";e.r(T),e.d(T,{default:function(){return Ae}});var f=e(20228),C=e(11382),P=e(66456),p=e(79764),F=e(49111),y=e(19650),M=e(62350),b=e(24565),h=e(57663),a=e(71577),o=e(54029),d=e(79166),l=e(402),_=e(97272),W=e(34792),B=e(48086),Z=e(11849),L=e(39428),Y=e(3182),u=e(2824),s=e(67294),t=e(16917),$=e(45680),G=e(86213),I=e(78037),q=e(57338),N=e(440),Q=e(13062),i=e(71230),E=e(89032),m=e(15746),O=e(88983),D=e(47933),S=e(47673),ee=e(4107),ue=e(9715),K=e(20526),Pe=e(20310),J=e(24480),Ie=e(13438),Ke=e(12788),n=e(85893),Le,Re=(0,Ke.ZP)(K.Z)(Le||(Le=(0,Pe.Z)([`
    .ant-form-item {
        margin-bottom: 8px;
    }
`]))),be=(0,s.forwardRef)(function(Oe,ne){var X=Oe.confirm,Ce=(0,t.YB)(),k=Ce.formatMessage,Me=K.Z.useForm(),Ze=(0,u.Z)(Me,1),w=Ze[0],_e=(0,s.useState)(!1),ce=(0,u.Z)(_e,2),me=ce[0],ae=ce[1],ve=(0,s.useState)(!1),fe=(0,u.Z)(ve,2),pe=fe[0],ge=fe[1],he=(0,s.useState)("new"),re=(0,u.Z)(he,2),Ee=re[0],se=re[1],De=(0,s.useState)({}),le=(0,u.Z)(De,2),x=le[0],A=le[1];(0,s.useImperativeHandle)(ne,function(){return{show:function(z,R){ae(!0),z&&se(z),R!=null&&R.id&&(A(R),w.setFieldsValue(R))}}});var oe=function(){ae(!1),w.resetFields(),A({})},xe=function(z,R){z===200?(X==null||X(),ae(!1),w.resetFields(),A({}),B.default.success(k({id:"operation.success"}))):(0,J.EV)(z,R)},Te=function(){w.validateFields().then(function(){var z=(0,Y.Z)((0,L.Z)().mark(function R(je){var c,r,g,v,U,H;return(0,L.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(ge(!0),!(x!=null&&x.id)){j.next=10;break}return j.next=4,(0,$.Zy)((0,Z.Z)({kernel_id:x.id},je));case 4:c=j.sent,r=c.code,g=c.msg,xe(r,g),j.next=16;break;case 10:return j.next=12,(0,$.cR)(je);case 12:v=j.sent,U=v.code,H=v.msg,xe(U,H);case 16:ge(!1);case 17:case"end":return j.stop()}},R)}));return function(R){return z.apply(this,arguments)}}())};return(0,n.jsx)(N.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,n.jsx)(t._H,{id:"kernel.".concat(Ee,".kernel")}),visible:me,onClose:oe,forceRender:!0,destroyOnClose:!0,footer:(0,n.jsx)("div",{style:{textAlign:"right"},children:(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(a.Z,{onClick:oe,children:(0,n.jsx)(t._H,{id:"operation.cancel"})}),(0,n.jsx)(a.Z,{type:"primary",disabled:pe,onClick:Te,children:Ee.indexOf("new")>-1?(0,n.jsx)(t._H,{id:"operation.ok"}):(0,n.jsx)(t._H,{id:"operation.update"})})]})}),children:(0,n.jsx)(i.Z,{children:(0,n.jsx)(m.Z,{span:23,children:(0,n.jsxs)(Re,{form:w,layout:"vertical",children:[(0,n.jsx)(K.Z.Item,{rules:[{required:!0,message:k({id:"kernel.version.message"})},{pattern:/^[A-Za-z0-9\._-]{1,64}$/g,message:k({id:"please.enter.message64"})}],label:(0,n.jsx)(t._H,{id:"kernel.version"}),name:"version",children:(0,n.jsx)(ee.Z,{autoComplete:"off",placeholder:k({id:"please.enter"})})}),(0,n.jsx)(Ie.Z,{}),(0,n.jsx)(K.Z.Item,{label:(0,n.jsx)(t._H,{id:"kernel.remarks"}),name:"description",children:(0,n.jsx)(ee.Z.TextArea,{placeholder:k({id:"please.enter"})})}),(0,n.jsx)(K.Z.Item,{initialValue:!0,label:(0,n.jsx)(t._H,{id:"kernel.version.type"}),name:"release",children:(0,n.jsxs)(D.ZP.Group,{children:[(0,n.jsx)(D.ZP,{value:!0,children:(0,n.jsx)(t._H,{id:"kernel.release.version"})}),(0,n.jsx)(D.ZP,{value:!1,children:(0,n.jsx)(t._H,{id:"kernel.temporary.version"})})]})}),(0,n.jsx)(K.Z.Item,{initialValue:!0,label:(0,n.jsx)(t._H,{id:"kernel.is_enable"}),name:"enable",children:(0,n.jsxs)(D.ZP.Group,{children:[(0,n.jsx)(D.ZP,{value:!0,children:(0,n.jsx)(t._H,{id:"kernel.enable"})}),(0,n.jsx)(D.ZP,{value:!1,children:(0,n.jsx)(t._H,{id:"kernel.stop"})})]})})]})})})})}),We=e(87415),ye=e(10753),Ae=function(){var Oe=(0,t.YB)(),ne=Oe.formatMessage,X=(0,t.Kd)()==="en-US",Ce=(0,s.useState)([]),k=(0,u.Z)(Ce,2),Me=k[0],Ze=k[1],w=(0,s.useState)(!0),_e=(0,u.Z)(w,2),ce=_e[0],me=_e[1],ae=(0,s.useState)(new Date().getTime()),ve=(0,u.Z)(ae,2),fe=ve[0],pe=ve[1],ge=(0,s.useState)(0),he=(0,u.Z)(ge,2),re=he[0],Ee=he[1],se=(0,s.useRef)(null),De=(0,s.useState)({page_num:1,page_size:10}),le=(0,u.Z)(De,2),x=le[0],A=le[1],oe=function(){var c=(0,Y.Z)((0,L.Z)().mark(function r(){var g,v,U,H,te;return(0,L.Z)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return me(!0),de.next=3,(0,$.ZP)(x);case 3:g=de.sent,v=g.code,U=g.data,H=g.msg,te=g.total,v===200?(Ze(U),Ee(te)):(0,J.EV)(v,H),me(!1);case 10:case"end":return de.stop()}},r)}));return function(){return c.apply(this,arguments)}}(),xe=function(){var c=(0,Y.Z)((0,L.Z)().mark(function r(g){var v,U,H;return(0,L.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,(0,$.Kc)({kernel_id:g.id});case 2:v=j.sent,U=v.code,H=v.msg,U===200?(A((0,Z.Z)((0,Z.Z)({},x),{},{page_num:Math.ceil((re-1)/x.page_size)||1})),pe(new Date().getTime()),B.default.success(ne({id:"operation.success"}))):(0,J.EV)(U,H);case 6:case"end":return j.stop()}},r)}));return function(g){return c.apply(this,arguments)}}(),Te=function(r){se.current.show("edit",r)},ie=function(){se.current.show("new")},z=function(){pe(new Date().getTime())},R=(0,L.Z)().mark(function c(r){return(0,L.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return B.default.loading({content:ne({id:"operation.synchronizing"})}),v.next=3,(0,$.sP)({version_list:[r]});case 3:case"end":return v.stop()}},c)}),je=[(0,Z.Z)({title:(0,n.jsx)(t._H,{id:"kernel.version"}),dataIndex:"version",ellipsis:{showTitle:!1},render:function(r){return(0,n.jsx)(ye.K,{ellipsis:{tooltip:!0},children:r||"-"})}},(0,I.QT)(x,A,"version")),(0,Z.Z)({title:(0,n.jsx)(t._H,{id:"kernel.version.type"}),dataIndex:"release",width:X?160:100,render:function(r){return(0,n.jsx)(d.Z,{status:r?"success":"error",text:(0,n.jsx)(_.Z.Text,{children:r?(0,n.jsx)(t._H,{id:"kernel.release.version"}):(0,n.jsx)(t._H,{id:"kernel.temporary.version"})})})}},(0,I.KW)(x,A,[{name:(0,n.jsx)(t._H,{id:"kernel.release.version"}),value:"True"},{name:(0,n.jsx)(t._H,{id:"kernel.temporary.version"}),value:"False"}],"release")),(0,Z.Z)({title:(0,n.jsx)(t._H,{id:"kernel.enabling.condition"}),dataIndex:"enable",width:100,render:function(r){return(0,n.jsx)(d.Z,{status:r?"success":"error",text:(0,n.jsx)(_.Z.Text,{children:r?(0,n.jsx)(t._H,{id:"kernel.enable"}):(0,n.jsx)(t._H,{id:"kernel.stop"})})})}},(0,I.KW)(x,A,[{name:(0,n.jsx)(t._H,{id:"kernel.enable"}),value:"True"},{name:(0,n.jsx)(t._H,{id:"kernel.stop"}),value:"False"}],"enable")),{title:(0,n.jsx)(t._H,{id:"kernel.gmt_created"}),width:170,dataIndex:"gmt_created"},{title:(0,n.jsx)(t._H,{id:"kernel.gmt_modified"}),width:170,dataIndex:"gmt_modified"},(0,Z.Z)({title:(0,n.jsx)(t._H,{id:"kernel.creator"}),dataIndex:"creator_name"},(0,I.ln)(x,A,"creator")),(0,Z.Z)((0,Z.Z)({title:(0,n.jsx)(t._H,{id:"kernel.update_user"}),dataIndex:"update_user"},(0,I.ln)(x,A,"update_user")),{},{render:function(r){return(0,n.jsx)(ye.K,{ellipsis:{tooltip:!0},children:r||"-"})}}),{title:(0,n.jsx)(t._H,{id:"kernel.desc"}),dataIndex:"description",ellipsis:{showTitle:!1},render:function(r){return(0,n.jsx)(ye.K,{ellipsis:{tooltip:!0},children:r||"-"})}},{title:(0,n.jsx)(t._H,{id:"Table.columns.operation"}),width:X?190:150,fixed:"right",render:function(r){return(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(a.Z,{style:{padding:0},size:"small",type:"link",onClick:function(){var v=R(r.version),U=v.next();U.value.then(function(H){B.default.destroy();var te=H.code;te!=200?B.default.warning(ne({id:"request.synchronize.failed"})):B.default.success(ne({id:"request.synchronize.success"})),oe()})},children:(0,n.jsx)(t._H,{id:"operation.synchronize"})}),(0,n.jsx)(a.Z,{size:"small",style:{padding:0},type:"link",onClick:function(){return Te(r)},children:(0,n.jsx)(t._H,{id:"operation.edit"})}),(0,n.jsx)(b.Z,{title:(0,n.jsx)(t._H,{id:"delete.prompt"}),onConfirm:function(){return xe(r)},okText:(0,n.jsx)(t._H,{id:"operation.confirm"}),cancelText:(0,n.jsx)(t._H,{id:"operation.cancel"}),children:(0,n.jsx)(_.Z.Text,{style:{color:"#1890FF",cursor:"pointer"},children:(0,n.jsx)(t._H,{id:"operation.delete"})})})]})}}];return(0,s.useEffect)(function(){oe()},[fe,x]),(0,n.jsxs)(We.gM,{title:(0,n.jsx)(t._H,{id:"kernel.manage"}),extra:(0,n.jsx)(a.Z,{type:"primary",onClick:ie,children:(0,n.jsx)(t._H,{id:"kernel.new.kernel"})}),children:[(0,n.jsxs)(C.Z,{spinning:ce,children:[(0,n.jsx)(p.Z,{columns:je,dataSource:Me,pagination:!1,rowKey:"id",size:"small",scroll:X?{x:1370}:void 0}),(0,n.jsx)(G.Z,{pageSize:x.page_size,currentPage:x.page_num,total:re,onPageChange:function(r,g){return A({page_size:g,page_num:r})}})]}),(0,n.jsx)(be,{ref:se,confirm:z})]})}},45680:function(V,T,e){"use strict";e.d(T,{ZP:function(){return p},cR:function(){return F},Zy:function(){return y},Kc:function(){return M},sP:function(){return b}});var f=e(39428),C=e(3182),P=e(16917),p=function(a){return(0,P.WY)("/api/sys/kernel/",{params:a})},F=function(a){return(0,P.WY)("/api/sys/kernel/",{method:"post",data:a})},y=function(a){return(0,P.WY)("/api/sys/kernel/",{method:"put",data:a})},M=function(a){return(0,P.WY)("/api/sys/kernel/",{method:"delete",data:a})},b=function(){var h=(0,C.Z)((0,f.Z)().mark(function a(o){return(0,f.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,P.WY)("/api/sys/sync_kernel/",{method:"post",data:o}));case 1:case"end":return l.stop()}},a)}));return function(o){return h.apply(this,arguments)}}()},53909:function(V,T,e){"use strict";e.d(T,{lR:function(){return $},db:function(){return G},fD:function(){return I},O6:function(){return q},zW:function(){return N}});var f=e(49111),C=e(19650),P=e(22385),p=e(89456),F=e(71153),y=e(60331),M=e(402),b=e(97272),h=e(20310),a=e(67294),o=e(1870),d=e(94184),l=e.n(d),_=e(96791),W=e.n(_),B=e(12788),Z=e(41623),L=e(60035),Y=e(16917),u=e(85893),s,t=(0,B.ZP)(b.Z.Link)(s||(s=(0,h.Z)([`
    position: absolute;
    right: 5px;
    top: 2px;
    &:hover {
        svg path{
            fill: #1890ff;
        }
    }
`]))),$=function(i){var E,m,O=i.label,D=i.closable,S=i.onClose,ee=i.value;return(0,u.jsx)(y.Z,{color:(E=O.props)===null||E===void 0?void 0:E.color,closable:D,onClose:S,style:{marginRight:3},children:((m=O.props)===null||m===void 0?void 0:m.children)||ee})},G=function(i){var E=i.onCopy,m=i.style,O=(0,Y.YB)(),D=(0,L.oM)(O.formatMessage({id:"request.copy.success"}));return(0,u.jsx)(t,{onClick:function(){return D(E==null?void 0:E())},style:m||{},children:(0,u.jsx)(Z.r,{})})},I=function(i){var E=i.title,m=i.desc,O=i.className;return(0,u.jsxs)(C.Z,{children:[(0,u.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:E}),(0,u.jsx)(p.Z,{overlayClassName:l()(W().table_question_tooltip,O),placement:"bottom",arrowPointAtCenter:!0,title:m,color:"#fff",children:(0,u.jsx)(o.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})})]})},q=function(i){if(i&&JSON.stringify(i)!=="{}"){for(var E=Object.keys(i),m=0,O=E.length;m<O;m++)if(i[E[m]].length>1)return!0}return!1},N=function(i){return i&&typeof+i=="number"?parseInt(i)+"":""}},41623:function(V,T,e){"use strict";e.d(T,{r:function(){return b}});var f=e(67294),C,P=["svgRef","title"];function p(){return p=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var d=arguments[o];for(var l in d)Object.prototype.hasOwnProperty.call(d,l)&&(a[l]=d[l])}return a},p.apply(this,arguments)}function F(a,o){if(a==null)return{};var d=y(a,o),l,_;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(a);for(_=0;_<W.length;_++)l=W[_],!(o.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,l)||(d[l]=a[l]))}return d}function y(a,o){if(a==null)return{};var d={},l=Object.keys(a),_,W;for(W=0;W<l.length;W++)_=l[W],!(o.indexOf(_)>=0)&&(d[_]=a[_]);return d}var M=function(o){var d=o.svgRef,l=o.title,_=F(o,P);return f.createElement("svg",p({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:d},_),l?f.createElement("title",null,l):null,C||(C=f.createElement("g",{id:"\\u5206\\u6790",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},f.createElement("g",{id:"0.\\u6027\\u80FD-\\u5185\\u7F51-\\u9009\\u62E9\\u6807\\u7B7E",transform:"translate(-1194.000000, -133.000000)",fill:"#000000"},f.createElement("g",{id:"Group-21",transform:"translate(20.000000, 110.000000)"},f.createElement("g",{id:"\\u94FE\\u63A5",transform:"translate(1172.000000, 21.000000)"},f.createElement("rect",{id:"Rectangle",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),f.createElement("path",{d:"M11.91,7.92 C11.7153722,8.09503346 11.4186893,8.09033311 11.2297039,7.90922206 C11.0407184,7.72811102 11.0234032,7.43189657 11.19,7.23 L12.06,6.32 C12.709515,5.51696592 12.6264975,4.34816777 11.87,3.645 C11.115,2.86 10,2.79 9.37,3.45 L6.94,6 C6.29048502,6.80303408 6.37350246,7.97183223 7.13,8.675 C7.3238618,8.87001873 7.3238618,9.18498127 7.13,9.38 C7.0361167,9.47465633 6.90831877,9.52789916 6.775,9.52789916 C6.64168123,9.52789916 6.5138833,9.47465633 6.42,9.38 C5.29380253,8.29148422 5.21051969,6.51405308 6.23,5.325 L8.66,2.79 C9.705,1.7 11.48,1.79 12.61,2.99 C13.7040886,4.07696429 13.7802373,5.82185565 12.785,7 L11.91,7.92 Z M3.59,8.08 C3.78462784,7.90496654 4.0813107,7.90966689 4.27029614,8.09077794 C4.45928159,8.27188898 4.47659677,8.56810343 4.31,8.77 L3.44,9.68 C2.79048502,10.4830341 2.87350246,11.6518322 3.63,12.355 C4.385,13.14 5.5,13.21 6.13,12.55 L8.56,10 C9.20951498,9.19696592 9.12649754,8.02816777 8.37,7.325 C8.1761382,7.12998127 8.1761382,6.81501873 8.37,6.62 C8.4638833,6.52534367 8.59168123,6.47210084 8.725,6.47210084 C8.85831877,6.47210084 8.9861167,6.52534367 9.08,6.62 C10.2061975,7.70851578 10.2894803,9.48594692 9.27,10.675 L6.84,13.21 C5.795,14.3 4.02,14.21 2.89,13.01 C1.79591137,11.9230357 1.71976275,10.1781444 2.715,9 L3.59,8.08 Z",id:"Shape",fillOpacity:.65})))))))},b=f.forwardRef(function(a,o){return f.createElement(M,p({svgRef:o},a))}),h=e.p+"static/icon_link.e1b9133e.svg"}}]);
