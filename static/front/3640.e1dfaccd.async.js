var Oi=Object.prototype.hasOwnProperty;var wi=Object.getOwnPropertySymbols,xi=Object.prototype.propertyIsEnumerable;var ve=Object.assign;var vi=(cn,kt)=>{var Re={};for(var x in cn)Oi.call(cn,x)&&kt.indexOf(x)<0&&(Re[x]=cn[x]);if(cn!=null&&wi)for(var x of wi(cn))kt.indexOf(x)<0&&xi.call(cn,x)&&(Re[x]=cn[x]);return Re};(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[3640],{57154:function(cn,kt,Re){"use strict";Re.d(kt,{ML:function(){return we},hj:function(){return vt},vc:function(){return xt},NB:function(){return Et},DK:function(){return gt},nU:function(){return s},XP:function(){return ht},N2:function(){return jt},b5:function(){return _n},qv:function(){return or},u9:function(){return $r},QC:function(){return Zr},Nl:function(){return C},Jo:function(){return Er},tI:function(){return Wr},Cf:function(){return ct},K9:function(){return lt},P1:function(){return be},x2:function(){return ze},DS:function(){return Kt},zK:function(){return $t},S0:function(){return At}});var x=Re(66961),Se=Re(66237),me=Re(49034),fe=Re(72883),de=Re(12112);const qe=(d,t)=>d.selection.empty?!1:(t&&t(d.tr.deleteSelection().scrollIntoView()),!0);function $e(d,t){let{$cursor:e}=d.selection;return!e||(t?!t.endOfTextblock("backward",d):e.parentOffset>0)?null:e}const Ue=(d,t,e)=>{let n=$e(d,e);if(!n)return!1;let r=it(n);if(!r){let o=n.blockRange(),a=o&&(0,de.k9)(o);return a==null?!1:(t&&t(d.tr.lift(o,a).scrollIntoView()),!0)}let i=r.nodeBefore;if(!i.type.spec.isolating&&ne(d,r,t))return!0;if(n.parent.content.size==0&&(rt(i,"end")||x.qv.isSelectable(i))){let o=(0,de.dR)(d.doc,n.before(),n.after(),fe.p2.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=d.tr.step(o);a.setSelection(rt(i,"end")?x.Y1.findFrom(a.doc.resolve(a.mapping.map(r.pos,-1)),-1):x.qv.create(a.doc,r.pos-i.nodeSize)),t(a.scrollIntoView())}return!0}}return i.isAtom&&r.depth==n.depth-1?(t&&t(d.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},Ce=(d,t,e)=>{let n=$e(d,e);if(!n)return!1;let r=it(n);return r?Ye(d,r,t):!1},Pe=(d,t,e)=>{let n=ot(d,e);if(!n)return!1;let r=Me(n);return r?Ye(d,r,t):!1};function Ye(d,t,e){let n=t.nodeBefore,r=n,i=t.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let S=r.lastChild;if(!S)return!1;r=S}let o=t.nodeAfter,a=o,f=t.pos+1;for(;!a.isTextblock;f++){if(a.type.spec.isolating)return!1;let S=a.firstChild;if(!S)return!1;a=S}let g=replaceStep(d.doc,i,f,Slice.empty);if(!g||g.from!=i||g instanceof ReplaceStep&&g.slice.size>=f-i)return!1;if(e){let S=d.tr.step(g);S.setSelection(TextSelection.create(S.doc,i)),e(S.scrollIntoView())}return!0}function rt(d,t,e=!1){for(let n=d;n;n=t=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(e&&n.childCount!=1)return!1}return!1}const ft=(d,t,e)=>{let{$head:n,empty:r}=d.selection,i=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("backward",d):n.parentOffset>0)return!1;i=it(n)}let o=i&&i.nodeBefore;return!o||!x.qv.isSelectable(o)?!1:(t&&t(d.tr.setSelection(x.qv.create(d.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function it(d){if(!d.parent.type.spec.isolating)for(let t=d.depth-1;t>=0;t--){if(d.index(t)>0)return d.doc.resolve(d.before(t+1));if(d.node(t).type.spec.isolating)break}return null}function ot(d,t){let{$cursor:e}=d.selection;return!e||(t?!t.endOfTextblock("forward",d):e.parentOffset<e.parent.content.size)?null:e}const bt=(d,t,e)=>{let n=ot(d,e);if(!n)return!1;let r=Me(n);if(!r)return!1;let i=r.nodeAfter;if(ne(d,r,t))return!0;if(n.parent.content.size==0&&(rt(i,"start")||x.qv.isSelectable(i))){let o=(0,de.dR)(d.doc,n.before(),n.after(),fe.p2.empty);if(o&&o.slice.size<o.to-o.from){if(t){let a=d.tr.step(o);a.setSelection(rt(i,"start")?x.Y1.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):x.qv.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return i.isAtom&&r.depth==n.depth-1?(t&&t(d.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},dt=(d,t,e)=>{let{$head:n,empty:r}=d.selection,i=n;if(!r)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("forward",d):n.parentOffset<n.parent.content.size)return!1;i=Me(n)}let o=i&&i.nodeAfter;return!o||!x.qv.isSelectable(o)?!1:(t&&t(d.tr.setSelection(x.qv.create(d.doc,i.pos)).scrollIntoView()),!0)};function Me(d){if(!d.parent.type.spec.isolating)for(let t=d.depth-1;t>=0;t--){let e=d.node(t);if(d.index(t)+1<e.childCount)return d.doc.resolve(d.after(t+1));if(e.type.spec.isolating)break}return null}const Oe=(d,t)=>{let e=d.selection,n=e instanceof x.qv,r;if(n){if(e.node.isTextblock||!(0,de.Mn)(d.doc,e.from))return!1;r=e.from}else if(r=(0,de.GJ)(d.doc,e.from,-1),r==null)return!1;if(t){let i=d.tr.join(r);n&&i.setSelection(x.qv.create(i.doc,r-d.doc.resolve(r).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},Je=(d,t)=>{let e=d.selection,n;if(e instanceof x.qv){if(e.node.isTextblock||!(0,de.Mn)(d.doc,e.to))return!1;n=e.to}else if(n=(0,de.GJ)(d.doc,e.to,1),n==null)return!1;return t&&t(d.tr.join(n).scrollIntoView()),!0},Ve=(d,t)=>{let{$from:e,$to:n}=d.selection,r=e.blockRange(n),i=r&&(0,de.k9)(r);return i==null?!1:(t&&t(d.tr.lift(r,i).scrollIntoView()),!0)},G=(d,t)=>{let{$head:e,$anchor:n}=d.selection;return!e.parent.type.spec.code||!e.sameParent(n)?!1:(t&&t(d.tr.insertText(`
`).scrollIntoView()),!0)};function xe(d){for(let t=0;t<d.edgeCount;t++){let{type:e}=d.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const Ke=(d,t)=>{let{$head:e,$anchor:n}=d.selection;if(!e.parent.type.spec.code||!e.sameParent(n))return!1;let r=e.node(-1),i=e.indexAfter(-1),o=xe(r.contentMatchAt(i));if(!o||!r.canReplaceWith(i,i,o))return!1;if(t){let a=e.after(),f=d.tr.replaceWith(a,a,o.createAndFill());f.setSelection(x.Y1.near(f.doc.resolve(a),1)),t(f.scrollIntoView())}return!0},yt=(d,t)=>{let e=d.selection,{$from:n,$to:r}=e;if(e instanceof x.C1||n.parent.inlineContent||r.parent.inlineContent)return!1;let i=xe(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let o=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,a=d.tr.insert(o,i.createAndFill());a.setSelection(x.Bs.create(a.doc,o+1)),t(a.scrollIntoView())}return!0},et=(d,t)=>{let{$cursor:e}=d.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let i=e.before();if((0,de.Ax)(d.doc,i))return t&&t(d.tr.split(i).scrollIntoView()),!0}let n=e.blockRange(),r=n&&(0,de.k9)(n);return r==null?!1:(t&&t(d.tr.lift(n,r).scrollIntoView()),!0)};function Ut(d){return(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof x.qv&&t.selection.node.isBlock)return!n.parentOffset||!(0,de.Ax)(t.doc,n.pos)?!1:(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){let i=r.parentOffset==r.parent.content.size,o=t.tr;(t.selection instanceof x.Bs||t.selection instanceof x.C1)&&o.deleteSelection();let a=n.depth==0?null:xe(n.node(-1).contentMatchAt(n.indexAfter(-1))),f=d&&d(r.parent,i),g=f?[f]:i&&a?[{type:a}]:void 0,S=(0,de.Ax)(o.doc,o.mapping.map(n.pos),1,g);if(!g&&!S&&(0,de.Ax)(o.doc,o.mapping.map(n.pos),1,a?[{type:a}]:void 0)&&(a&&(g=[{type:a}]),S=!0),S&&(o.split(o.mapping.map(n.pos),1,g),!i&&!n.parentOffset&&n.parent.type!=a)){let k=o.mapping.map(n.before()),z=o.doc.resolve(k);a&&n.node(-1).canReplaceWith(z.index(),z.index()+1,a)&&o.setNodeMarkup(o.mapping.map(n.before()),a)}e(o.scrollIntoView())}return!0}}const Nt=Ut(),Ft=(d,t)=>Nt(d,t&&(e=>{let n=d.storedMarks||d.selection.$to.parentOffset&&d.selection.$from.marks();n&&e.ensureMarks(n),t(e)})),Ne=(d,t)=>{let{$from:e,to:n}=d.selection,r,i=e.sharedDepth(n);return i==0?!1:(r=e.before(i),t&&t(d.tr.setSelection(x.qv.create(d.doc,r))),!0)},U=(d,t)=>(t&&t(d.tr.setSelection(new x.C1(d.doc))),!0);function X(d,t,e){let n=t.nodeBefore,r=t.nodeAfter,i=t.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&t.parent.canReplace(i-1,i)?(e&&e(d.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(r.isTextblock||(0,de.Mn)(d.doc,t.pos))?!1:(e&&e(d.tr.clearIncompatible(t.pos,n.type,n.contentMatchAt(n.childCount)).join(t.pos).scrollIntoView()),!0)}function ne(d,t,e){let n=t.nodeBefore,r=t.nodeAfter,i,o;if(n.type.spec.isolating||r.type.spec.isolating)return!1;if(X(d,t,e))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(i=(o=n.contentMatchAt(n.childCount)).findWrapping(r.type))&&o.matchType(i[0]||r.type).validEnd){if(e){let k=t.pos+r.nodeSize,z=fe.HY.empty;for(let ie=i.length-1;ie>=0;ie--)z=fe.HY.from(i[ie].create(null,z));z=fe.HY.from(n.copy(z));let Y=d.tr.step(new de.FC(t.pos-1,k,t.pos,k,new fe.p2(z,1,0),i.length,!0)),j=k+2*i.length;(0,de.Mn)(Y.doc,j)&&Y.join(j),e(Y.scrollIntoView())}return!0}let f=x.Y1.findFrom(t,1),g=f&&f.$from.blockRange(f.$to),S=g&&(0,de.k9)(g);if(S!=null&&S>=t.depth)return e&&e(d.tr.lift(g,S).scrollIntoView()),!0;if(a&&rt(r,"start",!0)&&rt(n,"end")){let k=n,z=[];for(;z.push(k),!k.isTextblock;)k=k.lastChild;let Y=r,j=1;for(;!Y.isTextblock;Y=Y.firstChild)j++;if(k.canReplace(k.childCount,k.childCount,Y.content)){if(e){let ie=fe.HY.empty;for(let Ge=z.length-1;Ge>=0;Ge--)ie=fe.HY.from(z[Ge].copy(ie));let Ae=d.tr.step(new de.FC(t.pos-z.length,t.pos+r.nodeSize,t.pos+j,t.pos+r.nodeSize-j,new fe.p2(ie,z.length,0),0,!0));e(Ae.scrollIntoView())}return!0}}return!1}function ke(d){return function(t,e){let n=t.selection,r=d<0?n.$from:n.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(e&&e(t.tr.setSelection(x.Bs.create(t.doc,d<0?r.start(i):r.end(i)))),!0):!1}}const We=ke(-1),st=ke(1);function Bt(d,t=null){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i),a=o&&(0,de.nd)(o,d,t);return a?(n&&n(e.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Lt(d,t=null){return function(e,n){let r=!1;for(let i=0;i<e.selection.ranges.length&&!r;i++){let{$from:{pos:o},$to:{pos:a}}=e.selection.ranges[i];e.doc.nodesBetween(o,a,(f,g)=>{if(r)return!1;if(!(!f.isTextblock||f.hasMarkup(d,t)))if(f.type==d)r=!0;else{let S=e.doc.resolve(g),k=S.index();r=S.parent.canReplaceWith(k,k+1,d)}})}if(!r)return!1;if(n){let i=e.tr;for(let o=0;o<e.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:f}}=e.selection.ranges[o];i.setBlockType(a,f,d,t)}n(i.scrollIntoView())}return!0}}function Ct(d,t,e){for(let n=0;n<t.length;n++){let{$from:r,$to:i}=t[n],o=r.depth==0?d.inlineContent&&d.type.allowsMarkType(e):!1;if(d.nodesBetween(r.pos,i.pos,a=>{if(o)return!1;o=a.inlineContent&&a.type.allowsMarkType(e)}),o)return!0}return!1}function Tt(d,t=null){return function(e,n){let{empty:r,$cursor:i,ranges:o}=e.selection;if(r&&!i||!Ct(e.doc,o,d))return!1;if(n)if(i)d.isInSet(e.storedMarks||i.marks())?n(e.tr.removeStoredMark(d)):n(e.tr.addStoredMark(d.create(t)));else{let a=!1,f=e.tr;for(let g=0;!a&&g<o.length;g++){let{$from:S,$to:k}=o[g];a=e.doc.rangeHasMark(S.pos,k.pos,d)}for(let g=0;g<o.length;g++){let{$from:S,$to:k}=o[g];if(a)f.removeMark(S.pos,k.pos,d);else{let z=S.pos,Y=k.pos,j=S.nodeAfter,ie=k.nodeBefore,Ae=j&&j.isText?/^\s*/.exec(j.text)[0].length:0,Ge=ie&&ie.isText?/\s*$/.exec(ie.text)[0].length:0;z+Ae<Y&&(z+=Ae,Y-=Ge),f.addMark(z,Y,d.create(t))}}n(f.scrollIntoView())}return!0}}function En(d,t){return e=>{if(!e.isGeneric)return d(e);let n=[];for(let i=0;i<e.mapping.maps.length;i++){let o=e.mapping.maps[i];for(let a=0;a<n.length;a++)n[a]=o.map(n[a]);o.forEach((a,f,g,S)=>n.push(g,S))}let r=[];for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1],f=e.doc.resolve(o),g=f.sharedDepth(a),S=f.node(g);for(let k=f.indexAfter(g),z=f.after(g+1);z<=a;++k){let Y=S.maybeChild(k);if(!Y)break;if(k&&r.indexOf(z)==-1){let j=S.child(k-1);j.type==Y.type&&t(j,Y)&&r.push(z)}z+=Y.nodeSize}}r.sort((i,o)=>i-o);for(let i=r.length-1;i>=0;i--)canJoin(e.doc,r[i])&&e.join(r[i]);d(e)}}function On(d,t){let e=Array.isArray(t)?n=>t.indexOf(n.type.name)>-1:t;return(n,r,i)=>d(n,r&&En(r,e),i)}function Sn(...d){return function(t,e,n){for(let r=0;r<d.length;r++)if(d[r](t,e,n))return!0;return!1}}let Nn=Sn(qe,Ue,ft),tn=Sn(qe,bt,dt);const Tn={Enter:Sn(G,yt,et,Nt),"Mod-Enter":Ke,Backspace:Nn,"Mod-Backspace":Nn,"Shift-Backspace":Nn,Delete:tn,"Mod-Delete":tn,"Mod-a":U},bn={"Ctrl-h":Tn.Backspace,"Alt-Backspace":Tn["Mod-Backspace"],"Ctrl-d":Tn.Delete,"Ctrl-Alt-Backspace":Tn["Mod-Delete"],"Alt-Delete":Tn["Mod-Delete"],"Alt-d":Tn["Mod-Delete"],"Ctrl-a":We,"Ctrl-e":st};for(let d in Tn)bn[d]=Tn[d];const un=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,Fn=null,kn=["ol",0],dn=["ul",0],rn=["li",0],xn={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(d){return{order:d.hasAttribute("start")?+d.getAttribute("start"):1}}}],toDOM(d){return d.attrs.order==1?kn:["ol",{start:d.attrs.order},0]}},fn={parseDOM:[{tag:"ul"}],toDOM(){return dn}},Cn={parseDOM:[{tag:"li"}],toDOM(){return rn},defining:!0};function wn(d,t){let e={};for(let n in d)e[n]=d[n];for(let n in t)e[n]=t[n];return e}function Vn(d,t,e){return d.append({ordered_list:wn(xn,{content:"list_item+",group:e}),bullet_list:wn(fn,{content:"list_item+",group:e}),list_item:wn(Cn,{content:t})})}function Yn(d,t=null){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i),a=!1,f=o;if(!o)return!1;if(o.depth>=2&&r.node(o.depth-1).type.compatibleContent(d)&&o.startIndex==0){if(r.index(o.depth-1)==0)return!1;let S=e.doc.resolve(o.start-2);f=new fe.Ts(S,S,o.depth),o.endIndex<o.parent.childCount&&(o=new fe.Ts(r,e.doc.resolve(i.end(o.depth)),o.depth)),a=!0}let g=(0,de.nd)(f,d,t,o);return g?(n&&n(pn(e.tr,o,g,a,d).scrollIntoView()),!0):!1}}function pn(d,t,e,n,r){let i=fe.HY.empty;for(let S=e.length-1;S>=0;S--)i=fe.HY.from(e[S].type.create(e[S].attrs,i));d.step(new de.FC(t.start-(n?2:0),t.end,t.start,t.end,new fe.p2(i,0,0),e.length,!0));let o=0;for(let S=0;S<e.length;S++)e[S].type==r&&(o=S+1);let a=e.length-o,f=t.start+e.length-(n?2:0),g=t.parent;for(let S=t.startIndex,k=t.endIndex,z=!0;S<k;S++,z=!1)!z&&(0,de.Ax)(d.doc,f,a)&&(d.split(f,a),f+=2*a),f+=g.child(S).nodeSize;return d}function $n(d){return function(t,e){let{$from:n,$to:r,node:i}=t.selection;if(i&&i.isBlock||n.depth<2||!n.sameParent(r))return!1;let o=n.node(-1);if(o.type!=d)return!1;if(n.parent.content.size==0&&n.node(-1).childCount==n.indexAfter(-1)){if(n.depth==3||n.node(-3).type!=d||n.index(-2)!=n.node(-2).childCount-1)return!1;if(e){let S=Fragment.empty,k=n.index(-1)?1:n.index(-2)?2:3;for(let Ae=n.depth-k;Ae>=n.depth-3;Ae--)S=Fragment.from(n.node(Ae).copy(S));let z=n.indexAfter(-1)<n.node(-2).childCount?1:n.indexAfter(-2)<n.node(-3).childCount?2:3;S=S.append(Fragment.from(d.createAndFill()));let Y=n.before(n.depth-(k-1)),j=t.tr.replace(Y,n.after(-z),new Slice(S,4-k,0)),ie=-1;j.doc.nodesBetween(Y,j.doc.content.size,(Ae,Ge)=>{if(ie>-1)return!1;Ae.isTextblock&&Ae.content.size==0&&(ie=Ge+1)}),ie>-1&&j.setSelection(Selection.near(j.doc.resolve(ie))),e(j.scrollIntoView())}return!0}let a=r.pos==n.end()?o.contentMatchAt(0).defaultType:null,f=t.tr.delete(n.pos,r.pos),g=a?[null,{type:a}]:void 0;return canSplit(f.doc,n.pos,2,g)?(e&&e(f.split(n.pos,2,g).scrollIntoView()),!0):!1}}function zn(d){return function(t,e){let{$from:n,$to:r}=t.selection,i=n.blockRange(r,o=>o.childCount>0&&o.firstChild.type==d);return i?e?n.node(i.depth-1).type==d?Mn(t,e,d,i):vn(t,e,i):!0:!1}}function Mn(d,t,e,n){let r=d.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(r.step(new de.FC(i-1,o,i,o,new fe.p2(fe.HY.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new fe.Ts(r.doc.resolve(n.$from.pos),r.doc.resolve(o),n.depth));const a=(0,de.k9)(n);if(a==null)return!1;r.lift(n,a);let f=r.mapping.map(i,-1)-1;return(0,de.Mn)(r.doc,f)&&r.join(f),t(r.scrollIntoView()),!0}function vn(d,t,e){let n=d.tr,r=e.parent;for(let Y=e.end,j=e.endIndex-1,ie=e.startIndex;j>ie;j--)Y-=r.child(j).nodeSize,n.delete(Y-1,Y+1);let i=n.doc.resolve(e.start),o=i.nodeAfter;if(n.mapping.map(e.end)!=e.start+i.nodeAfter.nodeSize)return!1;let a=e.startIndex==0,f=e.endIndex==r.childCount,g=i.node(-1),S=i.index(-1);if(!g.canReplace(S+(a?0:1),S+1,o.content.append(f?fe.HY.empty:fe.HY.from(r))))return!1;let k=i.pos,z=k+o.nodeSize;return n.step(new de.FC(k-(a?1:0),z+(f?1:0),k+1,z-1,new fe.p2((a?fe.HY.empty:fe.HY.from(r.copy(fe.HY.empty))).append(f?fe.HY.empty:fe.HY.from(r.copy(fe.HY.empty))),a?0:1,f?0:1),a?0:1)),t(n.scrollIntoView()),!0}function An(d){return function(t,e){let{$from:n,$to:r}=t.selection,i=n.blockRange(r,g=>g.childCount>0&&g.firstChild.type==d);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let a=i.parent,f=a.child(o-1);if(f.type!=d)return!1;if(e){let g=f.lastChild&&f.lastChild.type==a.type,S=fe.HY.from(g?d.create():null),k=new fe.p2(fe.HY.from(d.create(null,fe.HY.from(a.type.create(null,S)))),g?3:1,0),z=i.start,Y=i.end;e(t.tr.step(new de.FC(z-(g?3:1),Y,z,Y,k,1,!0)).scrollIntoView())}return!0}}function oe(d){const{state:t,transaction:e}=d;let{selection:n}=e,{doc:r}=e,{storedMarks:i}=e;return ve(ve({},t),{apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return n},get doc(){return r},get tr(){return n=e.selection,r=e.doc,i=e.storedMarks,e}})}class E{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([a,f])=>[a,(...S)=>{const k=f(...S)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),k}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,a=[],f=!!t,g=t||i.tr,S=()=>(!f&&e&&!g.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(g),a.every(z=>z===!0)),k=ve(ve({},Object.fromEntries(Object.entries(n).map(([z,Y])=>[z,(...ie)=>{const Ae=this.buildProps(g,e),Ge=Y(...ie)(Ae);return a.push(Ge),k}]))),{run:S});return k}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r),a=Object.fromEntries(Object.entries(e).map(([f,g])=>[f,(...S)=>g(...S)(ve(ve({},o),{dispatch:void 0}))]));return ve(ve({},a),{chain:()=>this.createChain(i,r)})}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r;i.storedMarks&&t.setStoredMarks(i.storedMarks);const a={tr:t,editor:r,view:o,state:oe({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([f,g])=>[f,(...S)=>g(...S)(a)]))}};return a}}class _{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function C(d,t,e){return d.config[t]===void 0&&d.parent?C(d.parent,t,e):typeof d.config[t]=="function"?d.config[t].bind(ve(ve({},e),{parent:d.parent?C(d.parent,t,e):null})):d.config[t]}function $(d){const t=d.filter(r=>r.type==="extension"),e=d.filter(r=>r.type==="node"),n=d.filter(r=>r.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:n}}function ee(d){const t=[],{nodeExtensions:e,markExtensions:n}=$(d),r=[...e,...n],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return d.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},f=C(o,"addGlobalAttributes",a);if(!f)return;f().forEach(S=>{S.types.forEach(k=>{Object.entries(S.attributes).forEach(([z,Y])=>{t.push({type:k,name:z,attribute:ve(ve({},i),Y)})})})})}),r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},f=C(o,"addAttributes",a);if(!f)return;const g=f();Object.entries(g).forEach(([S,k])=>{const z=ve(ve({},i),k);typeof(z==null?void 0:z.default)=="function"&&(z.default=z.default()),(z==null?void 0:z.isRequired)&&(z==null?void 0:z.default)===void 0&&delete z.default,t.push({type:o.name,name:S,attribute:z})})}),t}function J(d,t){if(typeof d=="string"){if(!t.nodes[d])throw Error(`There is no node type named '${d}'. Maybe you forgot to add the extension?`);return t.nodes[d]}return d}function be(...d){return d.filter(t=>!!t).reduce((t,e)=>{const n=ve({},t);return Object.entries(e).forEach(([r,i])=>{if(!n[r]){n[r]=i;return}r==="class"?n[r]=[n[r],i].join(" "):r==="style"?n[r]=[n[r],i].join("; "):n[r]=i}),n},{})}function Ie(d,t){return t.filter(e=>e.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(d.attrs)||{}:{[e.name]:d.attrs[e.name]}).reduce((e,n)=>be(e,n),{})}function D(d){return typeof d=="function"}function s(d,t=void 0,...e){return D(d)?t?d.bind(t)(...e):d(...e):d}function l(d={}){return Object.keys(d).length===0&&d.constructor===Object}function y(d){return typeof d!="string"?d:d.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(d):d==="true"?!0:d==="false"?!1:d}function M(d,t){return d.style?d:ve(ve({},d),{getAttrs:e=>{const n=d.getAttrs?d.getAttrs(e):d.attrs;if(n===!1)return!1;const r=t.reduce((i,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(e):y(e.getAttribute(o.name));return a==null?i:ve(ve({},i),{[o.name]:a})},{});return ve(ve({},n),r)}})}function A(d){return Object.fromEntries(Object.entries(d).filter(([t,e])=>t==="attrs"&&l(e)?!1:e!=null))}function F(d,t){var e;const n=ee(d),{nodeExtensions:r,markExtensions:i}=$(d),o=(e=r.find(g=>C(g,"topNode")))===null||e===void 0?void 0:e.name,a=Object.fromEntries(r.map(g=>{const S=n.filter(Ge=>Ge.type===g.name),k={name:g.name,options:g.options,storage:g.storage,editor:t},z=d.reduce((Ge,Dt)=>{const mn=C(Dt,"extendNodeSchema",k);return ve(ve({},Ge),mn?mn(g):{})},{}),Y=A(ve(ve({},z),{content:s(C(g,"content",k)),marks:s(C(g,"marks",k)),group:s(C(g,"group",k)),inline:s(C(g,"inline",k)),atom:s(C(g,"atom",k)),selectable:s(C(g,"selectable",k)),draggable:s(C(g,"draggable",k)),code:s(C(g,"code",k)),defining:s(C(g,"defining",k)),isolating:s(C(g,"isolating",k)),attrs:Object.fromEntries(S.map(Ge=>{var Dt;return[Ge.name,{default:(Dt=Ge==null?void 0:Ge.attribute)===null||Dt===void 0?void 0:Dt.default}]}))})),j=s(C(g,"parseHTML",k));j&&(Y.parseDOM=j.map(Ge=>M(Ge,S)));const ie=C(g,"renderHTML",k);ie&&(Y.toDOM=Ge=>ie({node:Ge,HTMLAttributes:Ie(Ge,S)}));const Ae=C(g,"renderText",k);return Ae&&(Y.toText=Ae),[g.name,Y]})),f=Object.fromEntries(i.map(g=>{const S=n.filter(Ae=>Ae.type===g.name),k={name:g.name,options:g.options,storage:g.storage,editor:t},z=d.reduce((Ae,Ge)=>{const Dt=C(Ge,"extendMarkSchema",k);return ve(ve({},Ae),Dt?Dt(g):{})},{}),Y=A(ve(ve({},z),{inclusive:s(C(g,"inclusive",k)),excludes:s(C(g,"excludes",k)),group:s(C(g,"group",k)),spanning:s(C(g,"spanning",k)),code:s(C(g,"code",k)),attrs:Object.fromEntries(S.map(Ae=>{var Ge;return[Ae.name,{default:(Ge=Ae==null?void 0:Ae.attribute)===null||Ge===void 0?void 0:Ge.default}]}))})),j=s(C(g,"parseHTML",k));j&&(Y.parseDOM=j.map(Ae=>M(Ae,S)));const ie=C(g,"renderHTML",k);return ie&&(Y.toDOM=Ae=>ie({mark:Ae,HTMLAttributes:Ie(Ae,S)})),[g.name,Y]}));return new fe.V_({topNode:o,nodes:a,marks:f})}function Q(d,t){return t.nodes[d]||t.marks[d]||null}function ge(d,t){return Array.isArray(t)?t.some(e=>(typeof e=="string"?e:e.name)===d.name):t}const at=(d,t=500)=>{let e="";const n=d.parentOffset;return d.parent.nodesBetween(Math.max(0,n-t),n,(r,i,o,a)=>{var f,g;e+=(((g=(f=r.type.spec).toText)===null||g===void 0?void 0:g.call(f,{node:r,pos:i,parent:o,index:a}))||r.textContent||"%leaf%").slice(0,Math.max(0,n-i))}),e};function L(d){return Object.prototype.toString.call(d)==="[object RegExp]"}class B{constructor(t){this.find=t.find,this.handler=t.handler}}const q=(d,t)=>{if(L(t))return t.exec(d);const e=t(d);if(!e)return null;const n=[e.text];return n.index=e.index,n.input=d,n.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(e.replaceWith)),n};function le(d){var t;const{editor:e,from:n,to:r,text:i,rules:o,plugin:a}=d,{view:f}=e;if(f.composing)return!1;const g=f.state.doc.resolve(n);if(g.parent.type.spec.code||!!((t=g.nodeBefore||g.nodeAfter)===null||t===void 0?void 0:t.marks.find(z=>z.type.spec.code)))return!1;let S=!1;const k=at(g)+i;return o.forEach(z=>{if(S)return;const Y=q(k,z.find);if(!Y)return;const j=f.state.tr,ie=oe({state:f.state,transaction:j}),Ae={from:n-(Y[0].length-i.length),to:r},{commands:Ge,chain:Dt,can:mn}=new E({editor:e,state:ie});z.handler({state:ie,range:Ae,match:Y,commands:Ge,chain:Dt,can:mn})===null||!j.steps.length||(j.setMeta(a,{transform:j,from:n,to:r,text:i}),f.dispatch(j),S=!0)}),S}function ae(d){const{editor:t,rules:e}=d,n=new x.Sy({state:{init(){return null},apply(r,i){const o=r.getMeta(n);return o||(r.selectionSet||r.docChanged?null:i)}},props:{handleTextInput(r,i,o,a){return le({editor:t,from:i,to:o,text:a,rules:e,plugin:n})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&le({editor:t,from:i.pos,to:i.pos,text:"",rules:e,plugin:n})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?le({editor:t,from:o.pos,to:o.pos,text:`
`,rules:e,plugin:n}):!1}},isInputRules:!0});return n}function De(d){return typeof d=="number"}class Be{constructor(t){this.find=t.find,this.handler=t.handler}}const tt=(d,t)=>{if(L(t))return[...d.matchAll(t)];const e=t(d);return e?e.map(n=>{const r=[n.text];return r.index=n.index,r.input=d,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(n.replaceWith)),r}):[]};function It(d){const{editor:t,state:e,from:n,to:r,rule:i}=d,{commands:o,chain:a,can:f}=new E({editor:t,state:e}),g=[];return e.doc.nodesBetween(n,r,(k,z)=>{if(!k.isTextblock||k.type.spec.code)return;const Y=Math.max(n,z),j=Math.min(r,z+k.content.size),ie=k.textBetween(Y-z,j-z,void 0,"\uFFFC");tt(ie,i.find).forEach(Ge=>{if(Ge.index===void 0)return;const Dt=Y+Ge.index+1,mn=Dt+Ge[0].length,Pn={from:e.tr.mapping.map(Dt),to:e.tr.mapping.map(mn)},Ln=i.handler({state:e,range:Pn,match:Ge,commands:o,chain:a,can:f});g.push(Ln)})}),g.every(k=>k!==null)}function qt(d){const{editor:t,rules:e}=d;let n=null,r=!1,i=!1;return e.map(a=>new x.Sy({view(f){const g=S=>{var k;n=((k=f.dom.parentElement)===null||k===void 0?void 0:k.contains(S.target))?f.dom.parentElement:null};return window.addEventListener("dragstart",g),{destroy(){window.removeEventListener("dragstart",g)}}},props:{handleDOMEvents:{drop:f=>(i=n===f.dom.parentElement,!1),paste:(f,g)=>{var S;const k=(S=g.clipboardData)===null||S===void 0?void 0:S.getData("text/html");return r=!!(k==null?void 0:k.includes("data-pm-slice")),!1}}},appendTransaction:(f,g,S)=>{const k=f[0],z=k.getMeta("uiEvent")==="paste"&&!r,Y=k.getMeta("uiEvent")==="drop"&&!i;if(!z&&!Y)return;const j=g.doc.content.findDiffStart(S.doc.content),ie=g.doc.content.findDiffEnd(S.doc.content);if(!De(j)||!ie||j===ie.b)return;const Ae=S.tr,Ge=oe({state:S,transaction:Ae});if(!(!It({editor:t,state:Ge,from:Math.max(j-1,0),to:ie.b-1,rule:a})||!Ae.steps.length))return Ae}}))}function Gt(d){const t=d.filter((e,n)=>d.indexOf(e)!==n);return[...new Set(t)]}class K{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=K.resolve(t),this.schema=F(this.extensions,e),this.extensions.forEach(n=>{var r;this.editor.extensionStorage[n.name]=n.storage;const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Q(n.name,this.schema)};n.type==="mark"&&((r=s(C(n,"keepOnSplit",i)))!==null&&r!==void 0?r:!0)&&this.splittableMarks.push(n.name);const o=C(n,"onBeforeCreate",i);o&&this.editor.on("beforeCreate",o);const a=C(n,"onCreate",i);a&&this.editor.on("create",a);const f=C(n,"onUpdate",i);f&&this.editor.on("update",f);const g=C(n,"onSelectionUpdate",i);g&&this.editor.on("selectionUpdate",g);const S=C(n,"onTransaction",i);S&&this.editor.on("transaction",S);const k=C(n,"onFocus",i);k&&this.editor.on("focus",k);const z=C(n,"onBlur",i);z&&this.editor.on("blur",z);const Y=C(n,"onDestroy",i);Y&&this.editor.on("destroy",Y)})}static resolve(t){const e=K.sort(K.flatten(t)),n=Gt(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=C(e,"addExtensions",n);return r?[e,...this.flatten(r())]:e}).flat(10)}static sort(t){const e=100;return t.sort((n,r)=>{const i=C(n,"priority")||e,o=C(r,"priority")||e;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Q(e.name,this.schema)},r=C(e,"addCommands",n);return r?ve(ve({},t),r()):t},{})}get plugins(){const{editor:t}=this,e=K.sort([...this.extensions].reverse()),n=[],r=[],i=e.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:t,type:Q(o.name,this.schema)},f=[],g=C(o,"addKeyboardShortcuts",a);let S={};if(o.type==="mark"&&o.config.exitable&&(S.ArrowRight=()=>xt.handleExit({editor:t,mark:o})),g){const ie=Object.fromEntries(Object.entries(g()).map(([Ae,Ge])=>[Ae,()=>Ge({editor:t})]));S=ve(ve({},S),ie)}const k=(0,me.h)(S);f.push(k);const z=C(o,"addInputRules",a);ge(o,t.options.enableInputRules)&&z&&n.push(...z());const Y=C(o,"addPasteRules",a);ge(o,t.options.enablePasteRules)&&Y&&r.push(...Y());const j=C(o,"addProseMirrorPlugins",a);if(j){const ie=j();f.push(...ie)}return f}).flat();return[ae({editor:t,rules:n}),...qt({editor:t,rules:r}),...i]}get attributes(){return ee(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=$(this.extensions);return Object.fromEntries(e.filter(n=>!!C(n,"addNodeView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),i={name:n.name,options:n.options,storage:n.storage,editor:t,type:J(n.name,this.schema)},o=C(n,"addNodeView",i);if(!o)return[];const a=(f,g,S,k)=>{const z=Ie(f,r);return o()({editor:t,node:f,getPos:S,decorations:k,HTMLAttributes:z,extension:n})};return[n.name,a]}))}}function se(d){return Object.prototype.toString.call(d).slice(8,-1)}function Te(d){return se(d)!=="Object"?!1:d.constructor===Object&&Object.getPrototypeOf(d)===Object.prototype}function pt(d,t){const e=ve({},d);return Te(d)&&Te(t)&&Object.keys(t).forEach(n=>{Te(t[n])?n in d?e[n]=pt(d[n],t[n]):Object.assign(e,{[n]:t[n]}):Object.assign(e,{[n]:t[n]})}),e}class vt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ve(ve({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=s(C(this,"addOptions",{name:this.name}))),this.storage=s(C(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new vt(t)}configure(t={}){const e=this.extend();return e.options=pt(this.options,t),e.storage=s(C(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new vt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=s(C(e,"addOptions",{name:e.name})),e.storage=s(C(e,"addStorage",{name:e.name,options:e.options})),e}}function zt(d,t,e){const{from:n,to:r}=t,{blockSeparator:i=`

`,textSerializers:o={}}=e||{};let a="",f=!0;return d.nodesBetween(n,r,(g,S,k,z)=>{var Y;const j=o==null?void 0:o[g.type.name];j?(g.isBlock&&!f&&(a+=i,f=!0),k&&(a+=j({node:g,pos:S,parent:k,index:z,range:t}))):g.isText?(a+=(Y=g==null?void 0:g.text)===null||Y===void 0?void 0:Y.slice(Math.max(n,S)-S,r-S),f=!1):g.isBlock&&!f&&(a+=i,f=!0)}),a}function nt(d){return Object.fromEntries(Object.entries(d.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}const ye=vt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new x.Sy({key:new x.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:d}=this,{state:t,schema:e}=d,{doc:n,selection:r}=t,{ranges:i}=r,o=Math.min(...i.map(S=>S.$from.pos)),a=Math.max(...i.map(S=>S.$to.pos)),f=nt(e);return zt(n,{from:o,to:a},{textSerializers:f})}}})]}}),Rt=()=>({editor:d,view:t})=>(requestAnimationFrame(()=>{var e;d.isDestroyed||(t.dom.blur(),(e=window==null?void 0:window.getSelection())===null||e===void 0||e.removeAllRanges())}),!0),hn=(d=!1)=>({commands:t})=>t.setContent("",d),yn=()=>({state:d,tr:t,dispatch:e})=>{const{selection:n}=t,{ranges:r}=n;return e&&r.forEach(({$from:i,$to:o})=>{d.doc.nodesBetween(i.pos,o.pos,(a,f)=>{if(a.type.isText)return;const{doc:g,mapping:S}=t,k=g.resolve(S.map(f)),z=g.resolve(S.map(f+a.nodeSize)),Y=k.blockRange(z);if(!Y)return;const j=(0,de.k9)(Y);if(a.type.isTextblock){const{defaultType:ie}=k.parent.contentMatchAt(k.index());t.setNodeMarkup(Y.start,ie)}(j||j===0)&&t.lift(Y,j)})}),!0},Jn=d=>t=>d(t),Wn=()=>({state:d,dispatch:t})=>yt(d,t),In=()=>({tr:d,dispatch:t})=>{const{selection:e}=d,n=e.$anchor.node();if(n.content.size>0)return!1;const r=d.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===n.type){if(t){const a=r.before(i),f=r.after(i);d.delete(a,f).scrollIntoView()}return!0}return!1},sr=d=>({tr:t,state:e,dispatch:n})=>{const r=J(d,e.schema),i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r){if(n){const f=i.before(o),g=i.after(o);t.delete(f,g).scrollIntoView()}return!0}return!1},Qn=d=>({tr:t,dispatch:e})=>{const{from:n,to:r}=d;return e&&t.delete(n,r),!0},qn=()=>({state:d,dispatch:t})=>qe(d,t),ar=()=>({commands:d})=>d.keyboardShortcut("Enter"),ir=()=>({state:d,dispatch:t})=>Ke(d,t);function rr(d,t,e={strict:!0}){const n=Object.keys(t);return n.length?n.every(r=>e.strict?t[r]===d[r]:L(t[r])?t[r].test(d[r]):t[r]===d[r]):!0}function h(d,t,e={}){return d.find(n=>n.type===t&&rr(n.attrs,e))}function c(d,t,e={}){return!!h(d,t,e)}function m(d,t,e={}){if(!d||!t)return;let n=d.parent.childAfter(d.parentOffset);if(d.parentOffset===n.offset&&n.offset!==0&&(n=d.parent.childBefore(d.parentOffset)),!n.node)return;const r=h([...n.node.marks],t,e);if(!r)return;let i=n.index,o=d.start()+n.offset,a=i+1,f=o+n.node.nodeSize;for(h([...n.node.marks],t,e);i>0&&r.isInSet(d.parent.child(i-1).marks);)i-=1,o-=d.parent.child(i).nodeSize;for(;a<d.parent.childCount&&c([...d.parent.child(a).marks],t,e);)f+=d.parent.child(a).nodeSize,a+=1;return{from:o,to:f}}function p(d,t){if(typeof d=="string"){if(!t.marks[d])throw Error(`There is no mark type named '${d}'. Maybe you forgot to add the extension?`);return t.marks[d]}return d}const v=(d,t={})=>({tr:e,state:n,dispatch:r})=>{const i=p(d,n.schema),{doc:o,selection:a}=e,{$from:f,from:g,to:S}=a;if(r){const k=m(f,i,t);if(k&&k.from<=g&&k.to>=S){const z=x.Bs.create(o,k.from,k.to);e.setSelection(z)}}return!0},N=d=>t=>{const e=typeof d=="function"?d(t):d;for(let n=0;n<e.length;n+=1)if(e[n](t))return!0;return!1};function R(d){return d instanceof x.Bs}function u(d=0,t=0,e=0){return Math.min(Math.max(d,t),e)}function b(d,t=null){if(!t)return null;const e=x.Y1.atStart(d),n=x.Y1.atEnd(d);if(t==="start"||t===!0)return e;if(t==="end")return n;const r=e.from,i=n.to;return t==="all"?x.Bs.create(d,u(0,r,i),u(d.content.size,r,i)):x.Bs.create(d,u(t,r,i),u(t,r,i))}function O(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const P=(d=null,t={})=>({editor:e,view:n,tr:r,dispatch:i})=>{t=ve({scrollIntoView:!0},t);const o=()=>{O()&&n.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(n.focus(),(t==null?void 0:t.scrollIntoView)&&e.commands.scrollIntoView())})};if(n.hasFocus()&&d===null||d===!1)return!0;if(i&&d===null&&!R(e.state.selection))return o(),!0;const a=b(r.doc,d)||e.state.selection,f=e.state.selection.eq(a);return i&&(f||r.setSelection(a),f&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},W=(d,t)=>e=>d.every((n,r)=>t(n,ve(ve({},e),{index:r}))),H=(d,t)=>({tr:e,commands:n})=>n.insertContentAt({from:e.selection.from,to:e.selection.to},d,t);function V(d){const t=`<body>${d}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function Z(d,t,e){if(e=ve({slice:!0,parseOptions:{}},e),typeof d=="object"&&d!==null)try{return Array.isArray(d)&&d.length>0?fe.HY.fromArray(d.map(n=>t.nodeFromJSON(n))):t.nodeFromJSON(d)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",d,"Error:",n),Z("",t,e)}if(typeof d=="string"){const n=fe.aw.fromSchema(t);return e.slice?n.parseSlice(V(d),e.parseOptions).content:n.parse(V(d),e.parseOptions)}return Z("",t,e)}function pe(d,t,e){const n=d.steps.length-1;if(n<t)return;const r=d.steps[n];if(!(r instanceof de.Pu||r instanceof de.FC))return;const i=d.mapping.maps[n];let o=0;i.forEach((a,f,g,S)=>{o===0&&(o=S)}),d.setSelection(x.Y1.near(d.doc.resolve(o),e))}const ue=d=>d.toString().startsWith("<"),Fe=(d,t,e)=>({tr:n,dispatch:r,editor:i})=>{if(r){e=ve({parseOptions:{},updateSelection:!0},e);const o=Z(t,i.schema,{parseOptions:ve({preserveWhitespace:"full"},e.parseOptions)});if(o.toString()==="<>")return!0;let{from:a,to:f}=typeof d=="number"?{from:d,to:d}:d,g=!0,S=!0;if((ue(o)?o:[o]).forEach(z=>{z.check(),g=g?z.isText&&z.marks.length===0:!1,S=S?z.isBlock:!1}),a===f&&S){const{parent:z}=n.doc.resolve(a);z.isTextblock&&!z.type.spec.code&&!z.childCount&&(a-=1,f+=1)}g?Array.isArray(t)?n.insertText(t.map(z=>z.text||"").join(""),a,f):typeof t=="object"&&!!t&&!!t.text?n.insertText(t.text,a,f):n.insertText(t,a,f):n.replaceWith(a,f,o),e.updateSelection&&pe(n,n.steps.length-1,-1)}return!0},je=()=>({state:d,dispatch:t})=>Oe(d,t),He=()=>({state:d,dispatch:t})=>Je(d,t),Xe=()=>({state:d,dispatch:t})=>Ue(d,t),mt=()=>({state:d,dispatch:t})=>bt(d,t);function _t(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function Ze(d){const t=d.split(/-(?!$)/);let e=t[t.length-1];e==="Space"&&(e=" ");let n,r,i,o;for(let a=0;a<t.length-1;a+=1){const f=t[a];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))n=!0;else if(/^(c|ctrl|control)$/i.test(f))r=!0;else if(/^s(hift)?$/i.test(f))i=!0;else if(/^mod$/i.test(f))O()||_t()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return n&&(e=`Alt-${e}`),r&&(e=`Ctrl-${e}`),o&&(e=`Meta-${e}`),i&&(e=`Shift-${e}`),e}const Ot=d=>({editor:t,view:e,tr:n,dispatch:r})=>{const i=Ze(d).split(/-(?!$)/),o=i.find(g=>!["Alt","Ctrl","Meta","Shift"].includes(g)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),f=t.captureTransaction(()=>{e.someProp("handleKeyDown",g=>g(e,a))});return f==null||f.steps.forEach(g=>{const S=g.map(n.mapping);S&&r&&n.maybeStep(S)}),!0};function Xt(d,t,e={}){const{from:n,to:r,empty:i}=d.selection,o=t?J(t,d.schema):null,a=[];d.doc.nodesBetween(n,r,(k,z)=>{if(k.isText)return;const Y=Math.max(n,z),j=Math.min(r,z+k.nodeSize);a.push({node:k,from:Y,to:j})});const f=r-n,g=a.filter(k=>o?o.name===k.node.type.name:!0).filter(k=>rr(k.node.attrs,e,{strict:!1}));return i?!!g.length:g.reduce((k,z)=>k+z.to-z.from,0)>=f}const Qt=(d,t={})=>({state:e,dispatch:n})=>{const r=J(d,e.schema);return Xt(e,r,t)?Ve(e,n):!1},Vt=()=>({state:d,dispatch:t})=>et(d,t),on=d=>({state:t,dispatch:e})=>{const n=J(d,t.schema);return zn(n)(t,e)},an=()=>({state:d,dispatch:t})=>G(d,t);function Yt(d,t){return t.nodes[d]?"node":t.marks[d]?"mark":null}function Jt(d,t){const e=typeof t=="string"?[t]:t;return Object.keys(d).reduce((n,r)=>(e.includes(r)||(n[r]=d[r]),n),{})}const nn=(d,t)=>({tr:e,state:n,dispatch:r})=>{let i=null,o=null;const a=Yt(typeof d=="string"?d:d.name,n.schema);return a?(a==="node"&&(i=J(d,n.schema)),a==="mark"&&(o=p(d,n.schema)),r&&e.selection.ranges.forEach(f=>{n.doc.nodesBetween(f.$from.pos,f.$to.pos,(g,S)=>{i&&i===g.type&&e.setNodeMarkup(S,void 0,Jt(g.attrs,t)),o&&g.marks.length&&g.marks.forEach(k=>{o===k.type&&e.addMark(S,S+g.nodeSize,o.create(Jt(k.attrs,t)))})})}),!0):!1},Mt=()=>({tr:d,dispatch:t})=>(t&&d.scrollIntoView(),!0),Gn=()=>({tr:d,commands:t})=>t.setTextSelection({from:0,to:d.doc.content.size}),sn=()=>({state:d,dispatch:t})=>ft(d,t),wt=()=>({state:d,dispatch:t})=>dt(d,t),Hn=()=>({state:d,dispatch:t})=>Ne(d,t),Kn=()=>({state:d,dispatch:t})=>st(d,t),jn=()=>({state:d,dispatch:t})=>We(d,t);function ln(d,t,e={}){return Z(d,t,{slice:!1,parseOptions:e})}const Qe=(d,t=!1,e={})=>({tr:n,editor:r,dispatch:i})=>{const{doc:o}=n,a=ln(d,r.schema,e);return i&&n.replaceWith(0,o.content.size,a).setMeta("preventUpdate",!t),!0};function ht(d,t){const e=new de.wx(d);return t.forEach(n=>{n.steps.forEach(r=>{e.step(r)})}),e}function Ht(d){for(let t=0;t<d.edgeCount;t+=1){const{type:e}=d.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function jt(d,t){const e=[];return d.descendants((n,r)=>{t(n)&&e.push({node:n,pos:r})}),e}function _n(d,t,e){const n=[];return d.nodesBetween(t.from,t.to,(r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function or(d,t){for(let e=d.depth;e>0;e-=1){const n=d.node(e);if(t(n))return{pos:e>0?d.before(e):0,start:d.start(e),depth:e,node:n}}}function pr(d){return t=>or(t.$from,d)}function dr(d,t){const e=fe.PW.fromSchema(t).serializeFragment(d),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(e),r.innerHTML}function Or(d,t){const e=K.resolve(d);return F(e,t)}function Ur(d,t){const e=Or(t),n=Node$1.fromJSON(e,d);return dr(n.content,e)}function Lr(d,t){const e=Or(t),n=V(d);return DOMParser.fromSchema(e).parse(n).toJSON()}function Dn(d,t){const e={from:0,to:d.content.size};return zt(d,e,t)}function wr(d,t,e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{},i=Or(t),o=Node$1.fromJSON(i,d);return Dn(o,{blockSeparator:n,textSerializers:ve(ve({},nt(i)),r)})}function Er(d,t){const e=p(t,d.schema),{from:n,to:r,empty:i}=d.selection,o=[];i?(d.storedMarks&&o.push(...d.storedMarks),o.push(...d.selection.$head.marks())):d.doc.nodesBetween(n,r,f=>{o.push(...f.marks)});const a=o.find(f=>f.type.name===e.name);return a?ve({},a.attrs):{}}function er(d,t){const e=J(t,d.schema),{from:n,to:r}=d.selection,i=[];d.doc.nodesBetween(n,r,a=>{i.push(a)});const o=i.reverse().find(a=>a.type.name===e.name);return o?ve({},o.attrs):{}}function $r(d,t){const e=Yt(typeof t=="string"?t:t.name,d.schema);return e==="node"?er(d,t):e==="mark"?Er(d,t):{}}function Kr(d,t=JSON.stringify){const e={};return d.filter(n=>{const r=t(n);return Object.prototype.hasOwnProperty.call(e,r)?!1:e[r]=!0})}function Pr(d){const t=Kr(d);return t.length===1?t:t.filter((e,n)=>!t.filter((i,o)=>o!==n).some(i=>e.oldRange.from>=i.oldRange.from&&e.oldRange.to<=i.oldRange.to&&e.newRange.from>=i.newRange.from&&e.newRange.to<=i.newRange.to))}function Zr(d){const{mapping:t,steps:e}=d,n=[];return t.maps.forEach((r,i)=>{const o=[];if(r.ranges.length)r.forEach((a,f)=>{o.push({from:a,to:f})});else{const{from:a,to:f}=e[i];if(a===void 0||f===void 0)return;o.push({from:a,to:f})}o.forEach(({from:a,to:f})=>{const g=t.slice(i).map(a,-1),S=t.slice(i).map(f),k=t.invert().map(g,-1),z=t.invert().map(S);n.push({oldRange:{from:k,to:z},newRange:{from:g,to:S}})})}),Pr(n)}function Sr(d,t=0){const n=d.type===d.type.schema.topNodeType?0:1,r=t,i=r+d.nodeSize,o=d.marks.map(g=>{const S={type:g.type.name};return Object.keys(g.attrs).length&&(S.attrs=ve({},g.attrs)),S}),a=ve({},d.attrs),f={type:d.type.name,from:r,to:i};return Object.keys(a).length&&(f.attrs=a),o.length&&(f.marks=o),d.content.childCount&&(f.content=[],d.forEach((g,S)=>{var k;(k=f.content)===null||k===void 0||k.push(Sr(g,t+S+n))})),d.text&&(f.text=d.text),f}function Wr(d,t,e){const n=[];return d===t?e.resolve(d).marks().forEach(r=>{const i=e.resolve(d-1),o=m(i,r.type);!o||n.push(ve({mark:r},o))}):e.nodesBetween(d,t,(r,i)=>{n.push(...r.marks.map(o=>({from:i,to:i+r.nodeSize,mark:o})))}),n}function hr(d,t,e){return Object.fromEntries(Object.entries(e).filter(([n])=>{const r=d.find(i=>i.type===t&&i.name===n);return r?r.attribute.keepOnSplit:!1}))}function kr(d,t,e={}){const{empty:n,ranges:r}=d.selection,i=t?p(t,d.schema):null;if(n)return!!(d.storedMarks||d.selection.$from.marks()).filter(k=>i?i.name===k.type.name:!0).find(k=>rr(k.attrs,e,{strict:!1}));let o=0;const a=[];if(r.forEach(({$from:k,$to:z})=>{const Y=k.pos,j=z.pos;d.doc.nodesBetween(Y,j,(ie,Ae)=>{if(!ie.isText&&!ie.marks.length)return;const Ge=Math.max(Y,Ae),Dt=Math.min(j,Ae+ie.nodeSize);o+=Dt-Ge,a.push(...ie.marks.map(Pn=>({mark:Pn,from:Ge,to:Dt})))})}),o===0)return!1;const f=a.filter(k=>i?i.name===k.mark.type.name:!0).filter(k=>rr(k.mark.attrs,e,{strict:!1})).reduce((k,z)=>k+z.to-z.from,0),g=a.filter(k=>i?k.mark.type!==i&&k.mark.type.excludes(i):!0).reduce((k,z)=>k+z.to-z.from,0);return(f>0?f+g:f)>=o}function Vr(d,t,e={}){if(!t)return Xt(d,null,e)||kr(d,null,e);const n=Yt(t,d.schema);return n==="node"?Xt(d,t,e):n==="mark"?kr(d,t,e):!1}function gr(d,t){const{nodeExtensions:e}=$(t),n=e.find(o=>o.name===d);if(!n)return!1;const r={name:n.name,options:n.options,storage:n.storage},i=s(C(n,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function xr(d){var t;const e=(t=d.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),n=d.toJSON();return JSON.stringify(e)===JSON.stringify(n)}function Yr(d){return d instanceof NodeSelection}function Ar(d,t,e){const n=0,r=d.state.doc.content.size,i=u(t,n,r),o=u(e,n,r),a=d.coordsAtPos(i),f=d.coordsAtPos(o,-1),g=Math.min(a.top,f.top),S=Math.max(a.bottom,f.bottom),k=Math.min(a.left,f.left),z=Math.max(a.right,f.right),Y=z-k,j=S-g,Ge={top:g,bottom:S,left:k,right:z,width:Y,height:j,x:k,y:g};return ve(ve({},Ge),{toJSON:()=>Ge})}function vr(d,t,e){var n;const{selection:r}=t;let i=null;if(R(r)&&(i=r.$cursor),i){const a=(n=d.storedMarks)!==null&&n!==void 0?n:i.marks();return!!e.isInSet(a)||!a.some(f=>f.type.excludes(e))}const{ranges:o}=r;return o.some(({$from:a,$to:f})=>{let g=a.depth===0?d.doc.inlineContent&&d.doc.type.allowsMarkType(e):!1;return d.doc.nodesBetween(a.pos,f.pos,(S,k,z)=>{if(g)return!1;if(S.isInline){const Y=!z||z.type.allowsMarkType(e),j=!!e.isInSet(S.marks)||!S.marks.some(ie=>ie.type.excludes(e));g=Y&&j}return!g}),g})}const lr=(d,t={})=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=e,{empty:o,ranges:a}=i,f=p(d,n.schema);if(r)if(o){const g=Er(n,f);e.addStoredMark(f.create(ve(ve({},g),t)))}else a.forEach(g=>{const S=g.$from.pos,k=g.$to.pos;n.doc.nodesBetween(S,k,(z,Y)=>{const j=Math.max(Y,S),ie=Math.min(Y+z.nodeSize,k);z.marks.find(Ge=>Ge.type===f)?z.marks.forEach(Ge=>{f===Ge.type&&e.addMark(j,ie,f.create(ve(ve({},Ge.attrs),t)))}):e.addMark(j,ie,f.create(t))})});return vr(n,e,f)},Br=(d,t)=>({tr:e})=>(e.setMeta(d,t),!0),Zn=(d,t={})=>({state:e,dispatch:n,chain:r})=>{const i=J(d,e.schema);return i.isTextblock?r().command(({commands:o})=>Lt(i,t)(e)?!0:o.clearNodes()).command(({state:o})=>Lt(i,t)(o,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Mr=d=>({tr:t,dispatch:e})=>{if(e){const{doc:n}=t,r=u(d,0,n.content.size),i=x.qv.create(n,r);t.setSelection(i)}return!0},br=d=>({tr:t,dispatch:e})=>{if(e){const{doc:n}=t,{from:r,to:i}=typeof d=="number"?{from:d,to:d}:d,o=x.Bs.atStart(n).from,a=x.Bs.atEnd(n).to,f=u(r,o,a),g=u(i,o,a),S=x.Bs.create(n,f,g);t.setSelection(S)}return!0},Xn=d=>({state:t,dispatch:e})=>{const n=J(d,t.schema);return An(n)(t,e)};function tr(d,t){const e=d.storedMarks||d.selection.$to.parentOffset&&d.selection.$from.marks();if(e){const n=e.filter(r=>t==null?void 0:t.includes(r.type.name));d.tr.ensureMarks(n)}}const yr=({keepMarks:d=!0}={})=>({tr:t,state:e,dispatch:n,editor:r})=>{const{selection:i,doc:o}=t,{$from:a,$to:f}=i,g=r.extensionManager.attributes,S=hr(g,a.node().type.name,a.node().attrs);if(i instanceof x.qv&&i.node.isBlock)return!a.parentOffset||!(0,de.Ax)(o,a.pos)?!1:(n&&(d&&tr(e,r.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(n){const k=f.parentOffset===f.parent.content.size;i instanceof x.Bs&&t.deleteSelection();const z=a.depth===0?void 0:Ht(a.node(-1).contentMatchAt(a.indexAfter(-1)));let Y=k&&z?[{type:z,attrs:S}]:void 0,j=(0,de.Ax)(t.doc,t.mapping.map(a.pos),1,Y);if(!Y&&!j&&(0,de.Ax)(t.doc,t.mapping.map(a.pos),1,z?[{type:z}]:void 0)&&(j=!0,Y=z?[{type:z,attrs:S}]:void 0),j&&(t.split(t.mapping.map(a.pos),1,Y),z&&!k&&!a.parentOffset&&a.parent.type!==z)){const ie=t.mapping.map(a.before()),Ae=t.doc.resolve(ie);a.node(-1).canReplaceWith(Ae.index(),Ae.index()+1,z)&&t.setNodeMarkup(t.mapping.map(a.before()),z)}d&&tr(e,r.extensionManager.splittableMarks),t.scrollIntoView()}return!0},ai=d=>({tr:t,state:e,dispatch:n,editor:r})=>{var i;const o=J(d,e.schema),{$from:a,$to:f}=e.selection,g=e.selection.node;if(g&&g.isBlock||a.depth<2||!a.sameParent(f))return!1;const S=a.node(-1);if(S.type!==o)return!1;const k=r.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==o||a.index(-2)!==a.node(-2).childCount-1)return!1;if(n){let Ae=fe.HY.empty;const Ge=a.index(-1)?1:a.index(-2)?2:3;for(let nr=a.depth-Ge;nr>=a.depth-3;nr-=1)Ae=fe.HY.from(a.node(nr).copy(Ae));const Dt=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,mn=hr(k,a.node().type.name,a.node().attrs),Pn=((i=o.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(mn))||void 0;Ae=Ae.append(fe.HY.from(o.createAndFill(null,Pn)||void 0));const Ln=a.before(a.depth-(Ge-1));t.replace(Ln,a.after(-Dt),new fe.p2(Ae,4-Ge,0));let Bn=-1;t.doc.nodesBetween(Ln,t.doc.content.size,(nr,cr)=>{if(Bn>-1)return!1;nr.isTextblock&&nr.content.size===0&&(Bn=cr+1)}),Bn>-1&&t.setSelection(x.Bs.near(t.doc.resolve(Bn))),t.scrollIntoView()}return!0}const z=f.pos===a.end()?S.contentMatchAt(0).defaultType:null,Y=hr(k,S.type.name,S.attrs),j=hr(k,a.node().type.name,a.node().attrs);t.delete(a.pos,f.pos);const ie=z?[{type:o,attrs:Y},{type:z,attrs:j}]:[{type:o,attrs:Y}];if(!(0,de.Ax)(t.doc,a.pos,2))return!1;if(n){const{selection:Ae,storedMarks:Ge}=e,{splittableMarks:Dt}=r.extensionManager,mn=Ge||Ae.$to.parentOffset&&Ae.$from.marks();if(t.split(a.pos,2,ie).scrollIntoView(),!mn||!n)return!0;const Pn=mn.filter(Ln=>Dt.includes(Ln.type.name));t.ensureMarks(Pn)}return!0},Rr=(d,t)=>{const e=pr(o=>o.type===t)(d.selection);if(!e)return!0;const n=d.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(n===void 0)return!0;const r=d.doc.nodeAt(n);return e.node.type===(r==null?void 0:r.type)&&(0,de.Mn)(d.doc,e.pos)&&d.join(e.pos),!0},Nr=(d,t)=>{const e=pr(o=>o.type===t)(d.selection);if(!e)return!0;const n=d.doc.resolve(e.start).after(e.depth);if(n===void 0)return!0;const r=d.doc.nodeAt(n);return e.node.type===(r==null?void 0:r.type)&&(0,de.Mn)(d.doc,n)&&d.join(n),!0};var ni=Object.freeze({__proto__:null,blur:Rt,clearContent:hn,clearNodes:yn,command:Jn,createParagraphNear:Wn,deleteCurrentNode:In,deleteNode:sr,deleteRange:Qn,deleteSelection:qn,enter:ar,exitCode:ir,extendMarkRange:v,first:N,focus:P,forEach:W,insertContent:H,insertContentAt:Fe,joinUp:je,joinDown:He,joinBackward:Xe,joinForward:mt,keyboardShortcut:Ot,lift:Qt,liftEmptyBlock:Vt,liftListItem:on,newlineInCode:an,resetAttributes:nn,scrollIntoView:Mt,selectAll:Gn,selectNodeBackward:sn,selectNodeForward:wt,selectParentNode:Hn,selectTextblockEnd:Kn,selectTextblockStart:jn,setContent:Qe,setMark:lr,setMeta:Br,setNode:Zn,setNodeSelection:Mr,setTextSelection:br,sinkListItem:Xn,splitBlock:yr,splitListItem:ai,toggleList:(d,t,e,n={})=>({editor:r,tr:i,state:o,dispatch:a,chain:f,commands:g,can:S})=>{const{extensions:k,splittableMarks:z}=r.extensionManager,Y=J(d,o.schema),j=J(t,o.schema),{selection:ie,storedMarks:Ae}=o,{$from:Ge,$to:Dt}=ie,mn=Ge.blockRange(Dt),Pn=Ae||ie.$to.parentOffset&&ie.$from.marks();if(!mn)return!1;const Ln=pr(Bn=>gr(Bn.type.name,k))(ie);if(mn.depth>=1&&Ln&&mn.depth-Ln.depth<=1){if(Ln.node.type===Y)return g.liftListItem(j);if(gr(Ln.node.type.name,k)&&Y.validContent(Ln.node.content)&&a)return f().command(()=>(i.setNodeMarkup(Ln.pos,Y),!0)).command(()=>Rr(i,Y)).command(()=>Nr(i,Y)).run()}return!e||!Pn||!a?f().command(()=>S().wrapInList(Y,n)?!0:g.clearNodes()).wrapInList(Y,n).command(()=>Rr(i,Y)).command(()=>Nr(i,Y)).run():f().command(()=>{const Bn=S().wrapInList(Y,n),nr=Pn.filter(cr=>z.includes(cr.type.name));return i.ensureMarks(nr),Bn?!0:g.clearNodes()}).wrapInList(Y,n).command(()=>Rr(i,Y)).command(()=>Nr(i,Y)).run()},toggleMark:(d,t={},e={})=>({state:n,commands:r})=>{const{extendEmptyMarkRange:i=!1}=e,o=p(d,n.schema);return kr(n,o,t)?r.unsetMark(o,{extendEmptyMarkRange:i}):r.setMark(o,t)},toggleNode:(d,t,e={})=>({state:n,commands:r})=>{const i=J(d,n.schema),o=J(t,n.schema);return Xt(n,i,e)?r.setNode(o):r.setNode(i,e)},toggleWrap:(d,t={})=>({state:e,commands:n})=>{const r=J(d,e.schema);return Xt(e,r,t)?n.lift(r):n.wrapIn(r,t)},undoInputRule:()=>({state:d,dispatch:t})=>{const e=d.plugins;for(let n=0;n<e.length;n+=1){const r=e[n];let i;if(r.spec.isInputRules&&(i=r.getState(d))){if(t){const o=d.tr,a=i.transform;for(let f=a.steps.length-1;f>=0;f-=1)o.step(a.steps[f].invert(a.docs[f]));if(i.text){const f=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,d.schema.text(i.text,f))}else o.delete(i.from,i.to)}return!0}}return!1},unsetAllMarks:()=>({tr:d,dispatch:t})=>{const{selection:e}=d,{empty:n,ranges:r}=e;return n||t&&r.forEach(i=>{d.removeMark(i.$from.pos,i.$to.pos)}),!0},unsetMark:(d,t={})=>({tr:e,state:n,dispatch:r})=>{var i;const{extendEmptyMarkRange:o=!1}=t,{selection:a}=e,f=p(d,n.schema),{$from:g,empty:S,ranges:k}=a;if(!r)return!0;if(S&&o){let{from:z,to:Y}=a;const j=(i=g.marks().find(Ae=>Ae.type===f))===null||i===void 0?void 0:i.attrs,ie=m(g,f,j);ie&&(z=ie.from,Y=ie.to),e.removeMark(z,Y,f)}else k.forEach(z=>{e.removeMark(z.$from.pos,z.$to.pos,f)});return e.removeStoredMark(f),!0},updateAttributes:(d,t={})=>({tr:e,state:n,dispatch:r})=>{let i=null,o=null;const a=Yt(typeof d=="string"?d:d.name,n.schema);return a?(a==="node"&&(i=J(d,n.schema)),a==="mark"&&(o=p(d,n.schema)),r&&e.selection.ranges.forEach(f=>{const g=f.$from.pos,S=f.$to.pos;n.doc.nodesBetween(g,S,(k,z)=>{i&&i===k.type&&e.setNodeMarkup(z,void 0,ve(ve({},k.attrs),t)),o&&k.marks.length&&k.marks.forEach(Y=>{if(o===Y.type){const j=Math.max(z,g),ie=Math.min(z+k.nodeSize,S);e.addMark(j,ie,o.create(ve(ve({},Y.attrs),t)))}})})}),!0):!1},wrapIn:(d,t={})=>({state:e,dispatch:n})=>{const r=J(d,e.schema);return Bt(r,t)(e,n)},wrapInList:(d,t={})=>({state:e,dispatch:n})=>{const r=J(d,e.schema);return Yn(r,t)(e,n)}});const w=vt.create({name:"commands",addCommands(){return ve({},ni)}}),T=vt.create({name:"editable",addProseMirrorPlugins(){return[new x.Sy({key:new x.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),I=vt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:d}=this;return[new x.Sy({key:new x.H$("focusEvents"),props:{handleDOMEvents:{focus:(t,e)=>{d.isFocused=!0;const n=d.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,e)=>{d.isFocused=!1;const n=d.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}}),re=vt.create({name:"keymap",addKeyboardShortcuts(){const d=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:f,doc:g}=a,{empty:S,$anchor:k}=f,{pos:z,parent:Y}=k,j=x.Y1.atStart(g).from===z;return!S||!j||!Y.type.isTextblock||Y.textContent.length?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:d,"Mod-Backspace":d,"Shift-Backspace":d,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r=ve({},n),i=ve(ve({},n),{"Ctrl-h":d,"Alt-Backspace":d,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return O()||_t()?i:r},addProseMirrorPlugins(){return[new x.Sy({key:new x.H$("clearDocument"),appendTransaction:(d,t,e)=>{if(!(d.some(j=>j.docChanged)&&!t.doc.eq(e.doc)))return;const{empty:r,from:i,to:o}=t.selection,a=x.Y1.atStart(t.doc).from,f=x.Y1.atEnd(t.doc).to;if(r||!(i===a&&o===f)||!(e.doc.textBetween(0,e.doc.content.size," "," ").length===0))return;const k=e.tr,z=oe({state:e,transaction:k}),{commands:Y}=new E({editor:this.editor,state:z});if(Y.clearNodes(),!!k.steps.length)return k}})]}}),ce=vt.create({name:"tabindex",addProseMirrorPlugins(){return[new x.Sy({key:new x.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var he=Object.freeze({__proto__:null,ClipboardTextSerializer:ye,Commands:w,Editable:T,FocusEvents:I,Keymap:re,Tabindex:ce});const Ee=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function _e(d,t){const e=document.querySelector("style[data-tiptap-style]");if(e!==null)return e;const n=document.createElement("style");return t&&n.setAttribute("nonce",t),n.setAttribute("data-tiptap-style",""),n.innerHTML=d,document.getElementsByTagName("head")[0].appendChild(n),n}class we extends _{constructor(t={}){super();this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=_e(Ee,this.options.injectNonce))}setOptions(t={}){this.options=ve(ve({},this.options),t),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=D(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e=typeof t=="string"?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(r=>!r.key.startsWith(e))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(he):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n==null?void 0:n.type));this.extensionManager=new K(e,this)}createCommandManager(){this.commandManager=new E({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=ln(this.options.content,this.schema,this.options.parseOptions),e=b(t,this.options.autofocus);this.view=new Se.tk(this.options.element,ve(ve({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:x.yy.create({doc:t,selection:e||void 0})}));const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),i=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),i&&this.emit("blur",{editor:this,event:i.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return $r(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return Vr(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return dr(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return Dn(this.state.doc,{blockSeparator:e,textSerializers:ve(ve({},nt(this.schema)),n)})}get isEmpty(){return xr(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!((t=this.view)===null||t===void 0?void 0:t.docView)}}function ct(d){return new B({find:d.find,handler:({state:t,range:e,match:n})=>{const r=s(d.getAttributes,void 0,n);if(r===!1||r===null)return null;const{tr:i}=t,o=n[n.length-1],a=n[0];let f=e.to;if(o){const g=a.search(/\S/),S=e.from+a.indexOf(o),k=S+o.length;if(Wr(e.from,e.to,t.doc).filter(Y=>Y.mark.type.excluded.find(ie=>ie===d.type&&ie!==Y.mark.type)).filter(Y=>Y.to>S).length)return null;k<e.to&&i.delete(k,e.to),S>e.from&&i.delete(e.from+g,S),f=e.from+g+o.length,i.addMark(e.from+g,f,d.type.create(r||{})),i.removeStoredMark(d.type)}}})}function ze(d){return new B({find:d.find,handler:({state:t,range:e,match:n})=>{const r=s(d.getAttributes,void 0,n)||{},{tr:i}=t,o=e.from;let a=e.to;if(n[1]){const f=n[0].lastIndexOf(n[1]);let g=o+f;g>a?g=a:a=g+n[1].length;const S=n[0][n[0].length-1];i.insertText(S,o+n[0].length-1),i.replaceWith(g,a,d.type.create(r))}else n[0]&&i.replaceWith(o,a,d.type.create(r))}})}function $t(d){return new B({find:d.find,handler:({state:t,range:e,match:n})=>{const r=t.doc.resolve(e.from),i=s(d.getAttributes,void 0,n)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),d.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,d.type,i)}})}function Kt(d){return new B({find:d.find,handler:({state:t,range:e,match:n})=>{let r=d.replace,i=e.from;const o=e.to;if(n[1]){const a=n[0].lastIndexOf(n[1]);r+=n[0].slice(a+n[1].length),i+=a;const f=i-o;f>0&&(r=n[0].slice(a-f,a)+r,i=o)}t.tr.insertText(r,i,o)}})}function At(d){return new B({find:d.find,handler:({state:t,range:e,match:n,chain:r})=>{const i=s(d.getAttributes,void 0,n)||{},o=t.tr.delete(e.from,e.to),f=o.doc.resolve(e.from).blockRange(),g=f&&(0,de.nd)(f,d.type,i);if(!g)return null;if(o.wrap(f,g),d.keepMarks&&d.editor){const{selection:k,storedMarks:z}=t,{splittableMarks:Y}=d.editor.extensionManager,j=z||k.$to.parentOffset&&k.$from.marks();if(j){const ie=j.filter(Ae=>Y.includes(Ae.type.name));o.ensureMarks(ie)}}if(d.keepAttributes){const k=d.type.name==="bulletList"||d.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(k,i).run()}const S=o.doc.resolve(e.from-1).nodeBefore;S&&S.type===d.type&&(0,de.Mn)(o.doc,e.from-1)&&(!d.joinPredicate||d.joinPredicate(n,S))&&o.join(e.from-1)}})}class xt{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ve(ve({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=s(C(this,"addOptions",{name:this.name}))),this.storage=s(C(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new xt(t)}configure(t={}){const e=this.extend();return e.options=pt(this.options,t),e.storage=s(C(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new xt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=s(C(e,"addOptions",{name:e.name})),e.storage=s(C(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:n}=t.state,r=t.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(g=>(g==null?void 0:g.type.name)===e.name))return!1;const f=o.find(g=>(g==null?void 0:g.type.name)===e.name);return f&&n.removeStoredMark(f),n.insertText(" ",r.pos),t.view.dispatch(n),!0}return!1}}class Et{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ve(ve({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=s(C(this,"addOptions",{name:this.name}))),this.storage=s(C(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Et(t)}configure(t={}){const e=this.extend();return e.options=pt(this.options,t),e.storage=s(C(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Et(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=s(C(e,"addOptions",{name:e.name})),e.storage=s(C(e,"addStorage",{name:e.name,options:e.options})),e}}class gt{constructor(t,e,n){this.isDragging=!1,this.component=t,this.editor=e.editor,this.options=ve({stopEvent:null,ignoreMutation:null},n),this.extension=e.extension,this.node=e.node,this.decorations=e.decorations,this.getPos=e.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var e,n,r,i,o,a,f;const{view:g}=this.editor,S=t.target,k=S.nodeType===3?(e=S.parentElement)===null||e===void 0?void 0:e.closest("[data-drag-handle]"):S.closest("[data-drag-handle]");if(!this.dom||((n=this.contentDOM)===null||n===void 0?void 0:n.contains(S))||!k)return;let z=0,Y=0;if(this.dom!==k){const Ae=this.dom.getBoundingClientRect(),Ge=k.getBoundingClientRect(),Dt=(r=t.offsetX)!==null&&r!==void 0?r:(i=t.nativeEvent)===null||i===void 0?void 0:i.offsetX,mn=(o=t.offsetY)!==null&&o!==void 0?o:(a=t.nativeEvent)===null||a===void 0?void 0:a.offsetY;z=Ge.x-Ae.x+Dt,Y=Ge.y-Ae.y+mn}(f=t.dataTransfer)===null||f===void 0||f.setDragImage(this.dom,z,Y);const j=x.qv.create(g.state.doc,this.getPos()),ie=g.state.tr.setSelection(j);g.dispatch(ie)}stopEvent(t){var e;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const n=t.target;if(!(this.dom.contains(n)&&!((e=this.contentDOM)===null||e===void 0?void 0:e.contains(n))))return!1;const i=t.type.startsWith("drag"),o=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!i)return!0;const{isEditable:f}=this.editor,{isDragging:g}=this,S=!!this.node.type.spec.draggable,k=x.qv.isSelectable(this.node),z=t.type==="copy",Y=t.type==="paste",j=t.type==="cut",ie=t.type==="mousedown";if(!S&&k&&i&&t.preventDefault(),S&&i&&!g)return t.preventDefault(),!1;if(S&&f&&!g&&ie){const Ae=n.closest("[data-drag-handle]");Ae&&(this.dom===Ae||this.dom.contains(Ae))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(g||o||z||Y||j||ie&&k)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&O()&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(n=>n.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:e})=>{const n=this.getPos();return e.setNodeMarkup(n,void 0,ve(ve({},this.node.attrs),t)),!0})}deleteNode(){const t=this.getPos(),e=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:e})}}function lt(d){return new Be({find:d.find,handler:({state:t,range:e,match:n})=>{const r=s(d.getAttributes,void 0,n);if(r===!1||r===null)return null;const{tr:i}=t,o=n[n.length-1],a=n[0];let f=e.to;if(o){const g=a.search(/\S/),S=e.from+a.indexOf(o),k=S+o.length;if(Wr(e.from,e.to,t.doc).filter(Y=>Y.mark.type.excluded.find(ie=>ie===d.type&&ie!==Y.mark.type)).filter(Y=>Y.to>S).length)return null;k<e.to&&i.delete(k,e.to),S>e.from&&i.delete(e.from+g,S),f=e.from+g+o.length,i.addMark(e.from+g,f,d.type.create(r||{})),i.removeStoredMark(d.type)}}})}function Wt(d){return d.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Zt(d){return typeof d=="string"}function te(d){return new Be({find:d.find,handler({match:t,chain:e,range:n}){const r=s(d.getAttributes,void 0,t);if(r===!1||r===null)return null;t.input&&e().deleteRange(n).insertContentAt(n.from,{type:d.type.name,attrs:r})}})}function St(d){return new Be({find:d.find,handler:({state:t,range:e,match:n})=>{let r=d.replace,i=e.from;const o=e.to;if(n[1]){const a=n[0].lastIndexOf(n[1]);r+=n[0].slice(a+n[1].length),i+=a;const f=i-o;f>0&&(r=n[0].slice(a-f,a)+r,i=o)}t.tr.insertText(r,i,o)}})}class ut{constructor(t){this.transaction=t,this.currentStep=this.transaction.steps.length}map(t){let e=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((r,i)=>{const o=i.getMap().mapResult(r);return o.deleted&&(e=!0),o.pos},t),deleted:e}}}},60048:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Gt}});var x=Re(67369),Se=Re(57154),me=Re(66961),fe=Re(66237),de={exports:{}};function qe(K){return K instanceof Map?K.clear=K.delete=K.set=function(){throw new Error("map is read-only")}:K instanceof Set&&(K.add=K.clear=K.delete=function(){throw new Error("set is read-only")}),Object.freeze(K),Object.getOwnPropertyNames(K).forEach(function(se){var Te=K[se];typeof Te=="object"&&!Object.isFrozen(Te)&&qe(Te)}),K}de.exports=qe,de.exports.default=qe;class $e{constructor(se){se.data===void 0&&(se.data={}),this.data=se.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Ue(K){return K.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Ce(K,...se){const Te=Object.create(null);for(const pt in K)Te[pt]=K[pt];return se.forEach(function(pt){for(const vt in pt)Te[vt]=pt[vt]}),Te}const Pe="</span>",Ye=K=>!!K.scope||K.sublanguage&&K.language,rt=(K,{prefix:se})=>{if(K.includes(".")){const Te=K.split(".");return[`${se}${Te.shift()}`,...Te.map((pt,vt)=>`${pt}${"_".repeat(vt+1)}`)].join(" ")}return`${se}${K}`};class ft{constructor(se,Te){this.buffer="",this.classPrefix=Te.classPrefix,se.walk(this)}addText(se){this.buffer+=Ue(se)}openNode(se){if(!Ye(se))return;let Te="";se.sublanguage?Te=`language-${se.language}`:Te=rt(se.scope,{prefix:this.classPrefix}),this.span(Te)}closeNode(se){!Ye(se)||(this.buffer+=Pe)}value(){return this.buffer}span(se){this.buffer+=`<span class="${se}">`}}const it=(K={})=>{const se={children:[]};return Object.assign(se,K),se};class ot{constructor(){this.rootNode=it(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(se){this.top.children.push(se)}openNode(se){const Te=it({scope:se});this.add(Te),this.stack.push(Te)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(se){return this.constructor._walk(se,this.rootNode)}static _walk(se,Te){return typeof Te=="string"?se.addText(Te):Te.children&&(se.openNode(Te),Te.children.forEach(pt=>this._walk(se,pt)),se.closeNode(Te)),se}static _collapse(se){typeof se!="string"&&(!se.children||(se.children.every(Te=>typeof Te=="string")?se.children=[se.children.join("")]:se.children.forEach(Te=>{ot._collapse(Te)})))}}class bt extends ot{constructor(se){super();this.options=se}addKeyword(se,Te){se!==""&&(this.openNode(Te),this.addText(se),this.closeNode())}addText(se){se!==""&&this.add(se)}addSublanguage(se,Te){const pt=se.root;pt.sublanguage=!0,pt.language=Te,this.add(pt)}toHTML(){return new ft(this,this.options).value()}finalize(){return!0}}function dt(K){return K?typeof K=="string"?K:K.source:null}function Me(K){return Ve("(?=",K,")")}function Oe(K){return Ve("(?:",K,")*")}function Je(K){return Ve("(?:",K,")?")}function Ve(...K){return K.map(Te=>dt(Te)).join("")}function G(K){const se=K[K.length-1];return typeof se=="object"&&se.constructor===Object?(K.splice(K.length-1,1),se):{}}function xe(...K){const se=G(K);return"("+(se.capture?"":"?:")+K.map(pt=>dt(pt)).join("|")+")"}function Ke(K){return new RegExp(K.toString()+"|").exec("").length-1}function yt(K,se){const Te=K&&K.exec(se);return Te&&Te.index===0}const et=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Ut(K,{joinWith:se}){let Te=0;return K.map(pt=>{Te+=1;const vt=Te;let zt=dt(pt),nt="";for(;zt.length>0;){const ye=et.exec(zt);if(!ye){nt+=zt;break}nt+=zt.substring(0,ye.index),zt=zt.substring(ye.index+ye[0].length),ye[0][0]==="\\"&&ye[1]?nt+="\\"+String(Number(ye[1])+vt):(nt+=ye[0],ye[0]==="("&&Te++)}return nt}).map(pt=>`(${pt})`).join(se)}const Nt=/\b\B/,Ft="[a-zA-Z]\\w*",Ne="[a-zA-Z_]\\w*",U="\\b\\d+(\\.\\d+)?",X="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ne="\\b(0b[01]+)",ke="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",We=(K={})=>{const se=/^#![ ]*\//;return K.binary&&(K.begin=Ve(se,/.*\b/,K.binary,/\b.*/)),Ce({scope:"meta",begin:se,end:/$/,relevance:0,"on:begin":(Te,pt)=>{Te.index!==0&&pt.ignoreMatch()}},K)},st={begin:"\\\\[\\s\\S]",relevance:0},Bt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[st]},Lt={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[st]},Ct={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Tt=function(K,se,Te={}){const pt=Ce({scope:"comment",begin:K,end:se,contains:[]},Te);pt.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const vt=xe("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return pt.contains.push({begin:Ve(/[ ]+/,"(",vt,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),pt},En=Tt("//","$"),On=Tt("/\\*","\\*/"),Sn=Tt("#","$"),Nn={scope:"number",begin:U,relevance:0},tn={scope:"number",begin:X,relevance:0},Tn={scope:"number",begin:ne,relevance:0},bn={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[st,{begin:/\[/,end:/\]/,relevance:0,contains:[st]}]}]},un={scope:"title",begin:Ft,relevance:0},Fn={scope:"title",begin:Ne,relevance:0},kn={begin:"\\.\\s*"+Ne,relevance:0};var rn=Object.freeze({__proto__:null,MATCH_NOTHING_RE:Nt,IDENT_RE:Ft,UNDERSCORE_IDENT_RE:Ne,NUMBER_RE:U,C_NUMBER_RE:X,BINARY_NUMBER_RE:ne,RE_STARTERS_RE:ke,SHEBANG:We,BACKSLASH_ESCAPE:st,APOS_STRING_MODE:Bt,QUOTE_STRING_MODE:Lt,PHRASAL_WORDS_MODE:Ct,COMMENT:Tt,C_LINE_COMMENT_MODE:En,C_BLOCK_COMMENT_MODE:On,HASH_COMMENT_MODE:Sn,NUMBER_MODE:Nn,C_NUMBER_MODE:tn,BINARY_NUMBER_MODE:Tn,REGEXP_MODE:bn,TITLE_MODE:un,UNDERSCORE_TITLE_MODE:Fn,METHOD_GUARD:kn,END_SAME_AS_BEGIN:function(K){return Object.assign(K,{"on:begin":(se,Te)=>{Te.data._beginMatch=se[1]},"on:end":(se,Te)=>{Te.data._beginMatch!==se[1]&&Te.ignoreMatch()}})}});function xn(K,se){K.input[K.index-1]==="."&&se.ignoreMatch()}function fn(K,se){K.className!==void 0&&(K.scope=K.className,delete K.className)}function Cn(K,se){!se||!K.beginKeywords||(K.begin="\\b("+K.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",K.__beforeBegin=xn,K.keywords=K.keywords||K.beginKeywords,delete K.beginKeywords,K.relevance===void 0&&(K.relevance=0))}function wn(K,se){!Array.isArray(K.illegal)||(K.illegal=xe(...K.illegal))}function Vn(K,se){if(!!K.match){if(K.begin||K.end)throw new Error("begin & end are not supported with match");K.begin=K.match,delete K.match}}function Yn(K,se){K.relevance===void 0&&(K.relevance=1)}const pn=(K,se)=>{if(!K.beforeMatch)return;if(K.starts)throw new Error("beforeMatch cannot be used with starts");const Te=Object.assign({},K);Object.keys(K).forEach(pt=>{delete K[pt]}),K.keywords=Te.keywords,K.begin=Ve(Te.beforeMatch,Me(Te.begin)),K.starts={relevance:0,contains:[Object.assign(Te,{endsParent:!0})]},K.relevance=0,delete Te.beforeMatch},$n=["of","and","for","in","not","or","if","then","parent","list","value"],zn="keyword";function Mn(K,se,Te=zn){const pt=Object.create(null);return typeof K=="string"?vt(Te,K.split(" ")):Array.isArray(K)?vt(Te,K):Object.keys(K).forEach(function(zt){Object.assign(pt,Mn(K[zt],se,zt))}),pt;function vt(zt,nt){se&&(nt=nt.map(ye=>ye.toLowerCase())),nt.forEach(function(ye){const Rt=ye.split("|");pt[Rt[0]]=[zt,vn(Rt[0],Rt[1])]})}}function vn(K,se){return se?Number(se):An(K)?0:1}function An(K){return $n.includes(K.toLowerCase())}const oe={},E=K=>{console.error(K)},_=(K,...se)=>{console.log(`WARN: ${K}`,...se)},C=(K,se)=>{oe[`${K}/${se}`]||(console.log(`Deprecated as of ${K}. ${se}`),oe[`${K}/${se}`]=!0)},$=new Error;function ee(K,se,{key:Te}){let pt=0;const vt=K[Te],zt={},nt={};for(let ye=1;ye<=se.length;ye++)nt[ye+pt]=vt[ye],zt[ye+pt]=!0,pt+=Ke(se[ye-1]);K[Te]=nt,K[Te]._emit=zt,K[Te]._multi=!0}function J(K){if(!!Array.isArray(K.begin)){if(K.skip||K.excludeBegin||K.returnBegin)throw E("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),$;if(typeof K.beginScope!="object"||K.beginScope===null)throw E("beginScope must be object"),$;ee(K,K.begin,{key:"beginScope"}),K.begin=Ut(K.begin,{joinWith:""})}}function be(K){if(!!Array.isArray(K.end)){if(K.skip||K.excludeEnd||K.returnEnd)throw E("skip, excludeEnd, returnEnd not compatible with endScope: {}"),$;if(typeof K.endScope!="object"||K.endScope===null)throw E("endScope must be object"),$;ee(K,K.end,{key:"endScope"}),K.end=Ut(K.end,{joinWith:""})}}function Ie(K){K.scope&&typeof K.scope=="object"&&K.scope!==null&&(K.beginScope=K.scope,delete K.scope)}function D(K){Ie(K),typeof K.beginScope=="string"&&(K.beginScope={_wrap:K.beginScope}),typeof K.endScope=="string"&&(K.endScope={_wrap:K.endScope}),J(K),be(K)}function s(K){function se(nt,ye){return new RegExp(dt(nt),"m"+(K.case_insensitive?"i":"")+(K.unicodeRegex?"u":"")+(ye?"g":""))}class Te{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(ye,Rt){Rt.position=this.position++,this.matchIndexes[this.matchAt]=Rt,this.regexes.push([Rt,ye]),this.matchAt+=Ke(ye)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const ye=this.regexes.map(Rt=>Rt[1]);this.matcherRe=se(Ut(ye,{joinWith:"|"}),!0),this.lastIndex=0}exec(ye){this.matcherRe.lastIndex=this.lastIndex;const Rt=this.matcherRe.exec(ye);if(!Rt)return null;const hn=Rt.findIndex((Jn,Wn)=>Wn>0&&Jn!==void 0),yn=this.matchIndexes[hn];return Rt.splice(0,hn),Object.assign(Rt,yn)}}class pt{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(ye){if(this.multiRegexes[ye])return this.multiRegexes[ye];const Rt=new Te;return this.rules.slice(ye).forEach(([hn,yn])=>Rt.addRule(hn,yn)),Rt.compile(),this.multiRegexes[ye]=Rt,Rt}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(ye,Rt){this.rules.push([ye,Rt]),Rt.type==="begin"&&this.count++}exec(ye){const Rt=this.getMatcher(this.regexIndex);Rt.lastIndex=this.lastIndex;let hn=Rt.exec(ye);if(this.resumingScanAtSamePosition()&&!(hn&&hn.index===this.lastIndex)){const yn=this.getMatcher(0);yn.lastIndex=this.lastIndex+1,hn=yn.exec(ye)}return hn&&(this.regexIndex+=hn.position+1,this.regexIndex===this.count&&this.considerAll()),hn}}function vt(nt){const ye=new pt;return nt.contains.forEach(Rt=>ye.addRule(Rt.begin,{rule:Rt,type:"begin"})),nt.terminatorEnd&&ye.addRule(nt.terminatorEnd,{type:"end"}),nt.illegal&&ye.addRule(nt.illegal,{type:"illegal"}),ye}function zt(nt,ye){const Rt=nt;if(nt.isCompiled)return Rt;[fn,Vn,D,pn].forEach(yn=>yn(nt,ye)),K.compilerExtensions.forEach(yn=>yn(nt,ye)),nt.__beforeBegin=null,[Cn,wn,Yn].forEach(yn=>yn(nt,ye)),nt.isCompiled=!0;let hn=null;return typeof nt.keywords=="object"&&nt.keywords.$pattern&&(nt.keywords=Object.assign({},nt.keywords),hn=nt.keywords.$pattern,delete nt.keywords.$pattern),hn=hn||/\w+/,nt.keywords&&(nt.keywords=Mn(nt.keywords,K.case_insensitive)),Rt.keywordPatternRe=se(hn,!0),ye&&(nt.begin||(nt.begin=/\B|\b/),Rt.beginRe=se(Rt.begin),!nt.end&&!nt.endsWithParent&&(nt.end=/\B|\b/),nt.end&&(Rt.endRe=se(Rt.end)),Rt.terminatorEnd=dt(Rt.end)||"",nt.endsWithParent&&ye.terminatorEnd&&(Rt.terminatorEnd+=(nt.end?"|":"")+ye.terminatorEnd)),nt.illegal&&(Rt.illegalRe=se(nt.illegal)),nt.contains||(nt.contains=[]),nt.contains=[].concat(...nt.contains.map(function(yn){return y(yn==="self"?nt:yn)})),nt.contains.forEach(function(yn){zt(yn,Rt)}),nt.starts&&zt(nt.starts,ye),Rt.matcher=vt(Rt),Rt}if(K.compilerExtensions||(K.compilerExtensions=[]),K.contains&&K.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return K.classNameAliases=Ce(K.classNameAliases||{}),zt(K)}function l(K){return K?K.endsWithParent||l(K.starts):!1}function y(K){return K.variants&&!K.cachedVariants&&(K.cachedVariants=K.variants.map(function(se){return Ce(K,{variants:null},se)})),K.cachedVariants?K.cachedVariants:l(K)?Ce(K,{starts:K.starts?Ce(K.starts):null}):Object.isFrozen(K)?Ce(K):K}var M="11.6.0";class A extends Error{constructor(se,Te){super(se);this.name="HTMLInjectionError",this.html=Te}}const F=Ue,Q=Ce,ge=Symbol("nomatch"),at=7;var B=function(K){const se=Object.create(null),Te=Object.create(null),pt=[];let vt=!0;const zt="Could not find the language '{}', did you forget to load/include a language module?",nt={disableAutodetect:!0,name:"Plain text",contains:[]};let ye={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:bt};function Rt(H){return ye.noHighlightRe.test(H)}function hn(H){let V=H.className+" ";V+=H.parentNode?H.parentNode.className:"";const Z=ye.languageDetectRe.exec(V);if(Z){const pe=N(Z[1]);return pe||(_(zt.replace("{}",Z[1])),_("Falling back to no-highlight mode for this block.",H)),pe?Z[1]:"no-highlight"}return V.split(/\s+/).find(pe=>Rt(pe)||N(pe))}function yn(H,V,Z){let pe="",ue="";typeof V=="object"?(pe=H,Z=V.ignoreIllegals,ue=V.language):(C("10.7.0","highlight(lang, code, ...args) has been deprecated."),C("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ue=H,pe=V),Z===void 0&&(Z=!0);const Fe={code:pe,language:ue};P("before:highlight",Fe);const je=Fe.result?Fe.result:Jn(Fe.language,Fe.code,Z);return je.code=Fe.code,P("after:highlight",je),je}function Jn(H,V,Z,pe){const ue=Object.create(null);function Fe(Qe,ht){return Qe.keywords[ht]}function je(){if(!Mt.keywords){sn.addText(wt);return}let Qe=0;Mt.keywordPatternRe.lastIndex=0;let ht=Mt.keywordPatternRe.exec(wt),Ht="";for(;ht;){Ht+=wt.substring(Qe,ht.index);const jt=Yt.case_insensitive?ht[0].toLowerCase():ht[0],_n=Fe(Mt,jt);if(_n){const[or,pr]=_n;if(sn.addText(Ht),Ht="",ue[jt]=(ue[jt]||0)+1,ue[jt]<=at&&(Hn+=pr),or.startsWith("_"))Ht+=ht[0];else{const dr=Yt.classNameAliases[or]||or;sn.addKeyword(ht[0],dr)}}else Ht+=ht[0];Qe=Mt.keywordPatternRe.lastIndex,ht=Mt.keywordPatternRe.exec(wt)}Ht+=wt.substring(Qe),sn.addText(Ht)}function He(){if(wt==="")return;let Qe=null;if(typeof Mt.subLanguage=="string"){if(!se[Mt.subLanguage]){sn.addText(wt);return}Qe=Jn(Mt.subLanguage,wt,!0,Gn[Mt.subLanguage]),Gn[Mt.subLanguage]=Qe._top}else Qe=In(wt,Mt.subLanguage.length?Mt.subLanguage:null);Mt.relevance>0&&(Hn+=Qe.relevance),sn.addSublanguage(Qe._emitter,Qe.language)}function Xe(){Mt.subLanguage!=null?He():je(),wt=""}function mt(Qe,ht){let Ht=1;const jt=ht.length-1;for(;Ht<=jt;){if(!Qe._emit[Ht]){Ht++;continue}const _n=Yt.classNameAliases[Qe[Ht]]||Qe[Ht],or=ht[Ht];_n?sn.addKeyword(or,_n):(wt=or,je(),wt=""),Ht++}}function _t(Qe,ht){return Qe.scope&&typeof Qe.scope=="string"&&sn.openNode(Yt.classNameAliases[Qe.scope]||Qe.scope),Qe.beginScope&&(Qe.beginScope._wrap?(sn.addKeyword(wt,Yt.classNameAliases[Qe.beginScope._wrap]||Qe.beginScope._wrap),wt=""):Qe.beginScope._multi&&(mt(Qe.beginScope,ht),wt="")),Mt=Object.create(Qe,{parent:{value:Mt}}),Mt}function Ze(Qe,ht,Ht){let jt=yt(Qe.endRe,Ht);if(jt){if(Qe["on:end"]){const _n=new $e(Qe);Qe["on:end"](ht,_n),_n.isMatchIgnored&&(jt=!1)}if(jt){for(;Qe.endsParent&&Qe.parent;)Qe=Qe.parent;return Qe}}if(Qe.endsWithParent)return Ze(Qe.parent,ht,Ht)}function Ot(Qe){return Mt.matcher.regexIndex===0?(wt+=Qe[0],1):(ln=!0,0)}function Xt(Qe){const ht=Qe[0],Ht=Qe.rule,jt=new $e(Ht),_n=[Ht.__beforeBegin,Ht["on:begin"]];for(const or of _n)if(!!or&&(or(Qe,jt),jt.isMatchIgnored))return Ot(ht);return Ht.skip?wt+=ht:(Ht.excludeBegin&&(wt+=ht),Xe(),!Ht.returnBegin&&!Ht.excludeBegin&&(wt=ht)),_t(Ht,Qe),Ht.returnBegin?0:ht.length}function Qt(Qe){const ht=Qe[0],Ht=V.substring(Qe.index),jt=Ze(Mt,Qe,Ht);if(!jt)return ge;const _n=Mt;Mt.endScope&&Mt.endScope._wrap?(Xe(),sn.addKeyword(ht,Mt.endScope._wrap)):Mt.endScope&&Mt.endScope._multi?(Xe(),mt(Mt.endScope,Qe)):_n.skip?wt+=ht:(_n.returnEnd||_n.excludeEnd||(wt+=ht),Xe(),_n.excludeEnd&&(wt=ht));do Mt.scope&&sn.closeNode(),!Mt.skip&&!Mt.subLanguage&&(Hn+=Mt.relevance),Mt=Mt.parent;while(Mt!==jt.parent);return jt.starts&&_t(jt.starts,Qe),_n.returnEnd?0:ht.length}function Vt(){const Qe=[];for(let ht=Mt;ht!==Yt;ht=ht.parent)ht.scope&&Qe.unshift(ht.scope);Qe.forEach(ht=>sn.openNode(ht))}let on={};function an(Qe,ht){const Ht=ht&&ht[0];if(wt+=Qe,Ht==null)return Xe(),0;if(on.type==="begin"&&ht.type==="end"&&on.index===ht.index&&Ht===""){if(wt+=V.slice(ht.index,ht.index+1),!vt){const jt=new Error(`0 width match regex (${H})`);throw jt.languageName=H,jt.badRule=on.rule,jt}return 1}if(on=ht,ht.type==="begin")return Xt(ht);if(ht.type==="illegal"&&!Z){const jt=new Error('Illegal lexeme "'+Ht+'" for mode "'+(Mt.scope||"<unnamed>")+'"');throw jt.mode=Mt,jt}else if(ht.type==="end"){const jt=Qt(ht);if(jt!==ge)return jt}if(ht.type==="illegal"&&Ht==="")return 1;if(jn>1e5&&jn>ht.index*3)throw new Error("potential infinite loop, way more iterations than matches");return wt+=Ht,Ht.length}const Yt=N(H);if(!Yt)throw E(zt.replace("{}",H)),new Error('Unknown language: "'+H+'"');const Jt=s(Yt);let nn="",Mt=pe||Jt;const Gn={},sn=new ye.__emitter(ye);Vt();let wt="",Hn=0,Kn=0,jn=0,ln=!1;try{for(Mt.matcher.considerAll();;){jn++,ln?ln=!1:Mt.matcher.considerAll(),Mt.matcher.lastIndex=Kn;const Qe=Mt.matcher.exec(V);if(!Qe)break;const ht=V.substring(Kn,Qe.index),Ht=an(ht,Qe);Kn=Qe.index+Ht}return an(V.substring(Kn)),sn.closeAllNodes(),sn.finalize(),nn=sn.toHTML(),{language:H,value:nn,relevance:Hn,illegal:!1,_emitter:sn,_top:Mt}}catch(Qe){if(Qe.message&&Qe.message.includes("Illegal"))return{language:H,value:F(V),illegal:!0,relevance:0,_illegalBy:{message:Qe.message,index:Kn,context:V.slice(Kn-100,Kn+100),mode:Qe.mode,resultSoFar:nn},_emitter:sn};if(vt)return{language:H,value:F(V),illegal:!1,relevance:0,errorRaised:Qe,_emitter:sn,_top:Mt};throw Qe}}function Wn(H){const V={value:F(H),illegal:!1,relevance:0,_top:nt,_emitter:new ye.__emitter(ye)};return V._emitter.addText(H),V}function In(H,V){V=V||ye.languages||Object.keys(se);const Z=Wn(H),pe=V.filter(N).filter(u).map(Xe=>Jn(Xe,H,!1));pe.unshift(Z);const ue=pe.sort((Xe,mt)=>{if(Xe.relevance!==mt.relevance)return mt.relevance-Xe.relevance;if(Xe.language&&mt.language){if(N(Xe.language).supersetOf===mt.language)return 1;if(N(mt.language).supersetOf===Xe.language)return-1}return 0}),[Fe,je]=ue,He=Fe;return He.secondBest=je,He}function sr(H,V,Z){const pe=V&&Te[V]||Z;H.classList.add("hljs"),H.classList.add(`language-${pe}`)}function Qn(H){let V=null;const Z=hn(H);if(Rt(Z))return;if(P("before:highlightElement",{el:H,language:Z}),H.children.length>0&&(ye.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(H)),ye.throwUnescapedHTML))throw new A("One of your code blocks includes unescaped HTML.",H.innerHTML);V=H;const pe=V.textContent,ue=Z?yn(pe,{language:Z,ignoreIllegals:!0}):In(pe);H.innerHTML=ue.value,sr(H,Z,ue.language),H.result={language:ue.language,re:ue.relevance,relevance:ue.relevance},ue.secondBest&&(H.secondBest={language:ue.secondBest.language,relevance:ue.secondBest.relevance}),P("after:highlightElement",{el:H,result:ue,text:pe})}function qn(H){ye=Q(ye,H)}const ar=()=>{h(),C("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function ir(){h(),C("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let rr=!1;function h(){if(document.readyState==="loading"){rr=!0;return}document.querySelectorAll(ye.cssSelector).forEach(Qn)}function c(){rr&&h()}typeof window!="undefined"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",c,!1);function m(H,V){let Z=null;try{Z=V(K)}catch(pe){if(E("Language definition for '{}' could not be registered.".replace("{}",H)),vt)E(pe);else throw pe;Z=nt}Z.name||(Z.name=H),se[H]=Z,Z.rawDefinition=V.bind(null,K),Z.aliases&&R(Z.aliases,{languageName:H})}function p(H){delete se[H];for(const V of Object.keys(Te))Te[V]===H&&delete Te[V]}function v(){return Object.keys(se)}function N(H){return H=(H||"").toLowerCase(),se[H]||se[Te[H]]}function R(H,{languageName:V}){typeof H=="string"&&(H=[H]),H.forEach(Z=>{Te[Z.toLowerCase()]=V})}function u(H){const V=N(H);return V&&!V.disableAutodetect}function b(H){H["before:highlightBlock"]&&!H["before:highlightElement"]&&(H["before:highlightElement"]=V=>{H["before:highlightBlock"](Object.assign({block:V.el},V))}),H["after:highlightBlock"]&&!H["after:highlightElement"]&&(H["after:highlightElement"]=V=>{H["after:highlightBlock"](Object.assign({block:V.el},V))})}function O(H){b(H),pt.push(H)}function P(H,V){const Z=H;pt.forEach(function(pe){pe[Z]&&pe[Z](V)})}function W(H){return C("10.7.0","highlightBlock will be removed entirely in v12.0"),C("10.7.0","Please use highlightElement now."),Qn(H)}Object.assign(K,{highlight:yn,highlightAuto:In,highlightAll:h,highlightElement:Qn,highlightBlock:W,configure:qn,initHighlighting:ar,initHighlightingOnLoad:ir,registerLanguage:m,unregisterLanguage:p,listLanguages:v,getLanguage:N,registerAliases:R,autoDetection:u,inherit:Q,addPlugin:O}),K.debugMode=function(){vt=!1},K.safeMode=function(){vt=!0},K.versionString=M,K.regex={concat:Ve,lookahead:Me,either:xe,optional:Je,anyNumberOfTimes:Oe};for(const H in rn)typeof rn[H]=="object"&&de.exports(rn[H]);return Object.assign(K,rn),K}({}),q=B;B.HighlightJS=B,B.default=B;var le=q;function ae(K,se=[]){return K.map(Te=>{const pt=[...se,...Te.properties?Te.properties.className:[]];return Te.children?ae(Te.children,pt):{text:Te.value,classes:pt}}).flat()}function De(K){return K.value||K.children||[]}function Be(K){return Boolean(le.getLanguage(K))}function tt({doc:K,name:se,lowlight:Te,defaultLanguage:pt}){const vt=[];return(0,Se.N2)(K,zt=>zt.type.name===se).forEach(zt=>{let nt=zt.pos+1;const ye=zt.node.attrs.language||pt,Rt=Te.listLanguages(),hn=ye&&(Rt.includes(ye)||Be(ye))?De(Te.highlight(ye,zt.node.textContent)):De(Te.highlightAuto(zt.node.textContent));ae(hn).forEach(yn=>{const Jn=nt+yn.text.length;if(yn.classes.length){const Wn=fe.p.inline(nt,Jn,{class:yn.classes.join(" ")});vt.push(Wn)}nt=Jn})}),fe.EH.create(K,vt)}function It(K){return typeof K=="function"}function qt({name:K,lowlight:se,defaultLanguage:Te}){if(!["highlight","highlightAuto","listLanguages"].every(vt=>It(se[vt])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const pt=new me.Sy({key:new me.H$("lowlight"),state:{init:(vt,{doc:zt})=>tt({doc:zt,name:K,lowlight:se,defaultLanguage:Te}),apply:(vt,zt,nt,ye)=>{const Rt=nt.selection.$head.parent.type.name,hn=ye.selection.$head.parent.type.name,yn=(0,Se.N2)(nt.doc,Wn=>Wn.type.name===K),Jn=(0,Se.N2)(ye.doc,Wn=>Wn.type.name===K);return vt.docChanged&&([Rt,hn].includes(K)||Jn.length!==yn.length||vt.steps.some(Wn=>Wn.from!==void 0&&Wn.to!==void 0&&yn.some(In=>In.pos>=Wn.from&&In.pos+In.node.nodeSize<=Wn.to)))?tt({doc:vt.doc,name:K,lowlight:se,defaultLanguage:Te}):zt.map(vt.mapping,vt.doc)}},props:{decorations(vt){return pt.getState(vt)}}});return pt}const Gt=x.ZP.extend({addOptions(){var K;return ve(ve({},(K=this.parent)===null||K===void 0?void 0:K.call(this)),{lowlight:{},defaultLanguage:null})},addProseMirrorPlugins(){var K;return[...((K=this.parent)===null||K===void 0?void 0:K.call(this))||[],qt({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}})},67369:function(cn,kt,Re){"use strict";Re.d(kt,{dn:function(){return de},ZP:function(){return de}});var x=Re(57154),Se=Re(66961);const me=/^```([a-z]+)?[\s\n]$/,fe=/^~~~([a-z]+)?[\s\n]$/,de=x.NB.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:qe=>{var $e;const{languageClassPrefix:Ue}=this.options,Ye=[...(($e=qe.firstElementChild)===null||$e===void 0?void 0:$e.classList)||[]].filter(rt=>rt.startsWith(Ue)).map(rt=>rt.replace(Ue,""))[0];return Ye||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:qe,HTMLAttributes:$e}){return["pre",(0,x.P1)(this.options.HTMLAttributes,$e),["code",{class:qe.attrs.language?this.options.languageClassPrefix+qe.attrs.language:null},0]]},addCommands(){return{setCodeBlock:qe=>({commands:$e})=>$e.setNode(this.name,qe),toggleCodeBlock:qe=>({commands:$e})=>$e.toggleNode(this.name,"paragraph",qe)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:qe,$anchor:$e}=this.editor.state.selection,Ue=$e.pos===1;return!qe||$e.parent.type.name!==this.name?!1:Ue||!$e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:qe})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:$e}=qe,{selection:Ue}=$e,{$from:Ce,empty:Pe}=Ue;if(!Pe||Ce.parent.type!==this.type)return!1;const Ye=Ce.parentOffset===Ce.parent.nodeSize-2,rt=Ce.parent.textContent.endsWith(`

`);return!Ye||!rt?!1:qe.chain().command(({tr:ft})=>(ft.delete(Ce.pos-2,Ce.pos),!0)).exitCode().run()},ArrowDown:({editor:qe})=>{if(!this.options.exitOnArrowDown)return!1;const{state:$e}=qe,{selection:Ue,doc:Ce}=$e,{$from:Pe,empty:Ye}=Ue;if(!Ye||Pe.parent.type!==this.type||!(Pe.parentOffset===Pe.parent.nodeSize-2))return!1;const ft=Pe.after();return ft===void 0||Ce.nodeAt(ft)?!1:qe.commands.exitCode()}}},addInputRules(){return[(0,x.zK)({find:me,type:this.type,getAttributes:qe=>({language:qe[1]})}),(0,x.zK)({find:fe,type:this.type,getAttributes:qe=>({language:qe[1]})})]},addProseMirrorPlugins(){return[new Se.Sy({key:new Se.H$("codeBlockVSCodeHandler"),props:{handlePaste:(qe,$e)=>{if(!$e.clipboardData||this.editor.isActive(this.type.name))return!1;const Ue=$e.clipboardData.getData("text/plain"),Ce=$e.clipboardData.getData("vscode-editor-data"),Pe=Ce?JSON.parse(Ce):void 0,Ye=Pe==null?void 0:Pe.mode;if(!Ue||!Ye)return!1;const{tr:rt}=qe.state;return rt.replaceSelectionWith(this.type.create({language:Ye})),rt.setSelection(Se.Bs.near(rt.doc.resolve(Math.max(0,rt.selection.from-2)))),rt.insertText(Ue.replace(/\r\n?/g,`
`)),rt.setMeta("paste",!0),qe.dispatch(rt),!0}}})]}})},46636:function(cn,kt,Re){"use strict";Re.d(kt,{I:function(){return me}});var x=Re(62389),Se=Re(57154);const me=Se.hj.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:fe=>{var de;return(de=fe.style.color)===null||de===void 0?void 0:de.replace(/['"]+/g,"")},renderHTML:fe=>fe.color?{style:`color: ${fe.color}`}:{}}}}]},addCommands(){return{setColor:fe=>({chain:de})=>de().setMark("textStyle",{color:fe}).run(),unsetColor:()=>({chain:fe})=>fe().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}})},91271:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return me}});var x=Re(62389),Se=Re(57154);const me=Se.hj.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:fe=>{var de;return(de=fe.style.fontFamily)===null||de===void 0?void 0:de.replace(/['"]+/g,"")},renderHTML:fe=>fe.fontFamily?{style:`font-family: ${fe.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:fe=>({chain:de})=>de().setMark("textStyle",{fontFamily:fe}).run(),unsetFontFamily:()=>({chain:fe})=>fe().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}})},97437:function(cn,kt,Re){"use strict";Re.d(kt,{ZP:function(){return fe}});var x=Re(57154);const Se=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,me=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,fe=x.vc.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:de=>de.getAttribute("data-color")||de.style.backgroundColor,renderHTML:de=>de.color?{"data-color":de.color,style:`background-color: ${de.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:de}){return["mark",(0,x.P1)(this.options.HTMLAttributes,de),0]},addCommands(){return{setHighlight:de=>({commands:qe})=>qe.setMark(this.name,de),toggleHighlight:de=>({commands:qe})=>qe.toggleMark(this.name,de),unsetHighlight:()=>({commands:de})=>de.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[(0,x.Cf)({find:Se,type:this.type})]},addPasteRules(){return[(0,x.K9)({find:me,type:this.type})]}})},28343:function(cn,kt,Re){"use strict";Re.d(kt,{ZP:function(){return me}});var x=Re(57154);const Se=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,me=x.NB.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:fe}){return["img",(0,x.P1)(this.options.HTMLAttributes,fe)]},addCommands(){return{setImage:fe=>({commands:de})=>de.insertContent({type:this.name,attrs:fe})}},addInputRules(){return[(0,x.x2)({find:Se,type:this.type,getAttributes:fe=>{const[,,de,qe,$e]=fe;return{src:qe,alt:de,title:$e}}})]}})},45616:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return h}});var x=Re(57154);const Se="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",me="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",fe=(c,m)=>{for(const p in m)c[p]=m[p];return c},de="numeric",qe="ascii",$e="alpha",Ue="asciinumeric",Ce="alphanumeric",Pe="domain",Ye="emoji",rt="scheme",ft="slashscheme",it="whitespace";function ot(c,m){return c in m||(m[c]=[]),m[c]}function bt(c,m,p){m[de]&&(m[Ue]=!0,m[Ce]=!0),m[qe]&&(m[Ue]=!0,m[$e]=!0),m[Ue]&&(m[Ce]=!0),m[$e]&&(m[Ce]=!0),m[Ce]&&(m[Pe]=!0),m[Ye]&&(m[Pe]=!0);for(const v in m){const N=ot(v,p);N.indexOf(c)<0&&N.push(c)}}function dt(c,m){const p={};for(const v in m)m[v].indexOf(c)>=0&&(p[v]=!0);return p}function Me(c){c===void 0&&(c=null),this.j={},this.jr=[],this.jd=null,this.t=c}Me.groups={},Me.prototype={accepts(){return!!this.t},go(c){const m=this,p=m.j[c];if(p)return p;for(let v=0;v<m.jr.length;v++){const N=m.jr[v][0],R=m.jr[v][1];if(R&&N.test(c))return R}return m.jd},has(c,m){return m===void 0&&(m=!1),m?c in this.j:!!this.go(c)},ta(c,m,p,v){for(let N=0;N<c.length;N++)this.tt(c[N],m,p,v)},tr(c,m,p,v){v=v||Me.groups;let N;return m&&m.j?N=m:(N=new Me(m),p&&v&&bt(m,p,v)),this.jr.push([c,N]),N},ts(c,m,p,v){let N=this;const R=c.length;if(!R)return N;for(let u=0;u<R-1;u++)N=N.tt(c[u]);return N.tt(c[R-1],m,p,v)},tt(c,m,p,v){v=v||Me.groups;const N=this;if(m&&m.j)return N.j[c]=m,m;const R=m;let u,b=N.go(c);if(b?(u=new Me,fe(u.j,b.j),u.jr.push.apply(u.jr,b.jr),u.jd=b.jd,u.t=b.t):u=new Me,R){if(v)if(u.t&&typeof u.t=="string"){const O=fe(dt(u.t,v),p);bt(R,O,v)}else p&&bt(R,p,v);u.t=R}return N.j[c]=u,u}};const Oe=(c,m,p,v,N)=>c.ta(m,p,v,N),Je=(c,m,p,v,N)=>c.tr(m,p,v,N),Ve=(c,m,p,v,N)=>c.ts(m,p,v,N),G=(c,m,p,v,N)=>c.tt(m,p,v,N),xe="WORD",Ke="UWORD",yt="LOCALHOST",et="TLD",Ut="UTLD",Nt="SCHEME",Ft="SLASH_SCHEME",Ne="NUM",U="WS",X="NL",ne="OPENBRACE",ke="OPENBRACKET",We="OPENANGLEBRACKET",st="OPENPAREN",Bt="CLOSEBRACE",Lt="CLOSEBRACKET",Ct="CLOSEANGLEBRACKET",Tt="CLOSEPAREN",En="AMPERSAND",On="APOSTROPHE",Sn="ASTERISK",Nn="AT",tn="BACKSLASH",Tn="BACKTICK",bn="CARET",un="COLON",Fn="COMMA",kn="DOLLAR",dn="DOT",rn="EQUALS",xn="EXCLAMATION",fn="HYPHEN",Cn="PERCENT",wn="PIPE",Vn="PLUS",Yn="POUND",pn="QUERY",$n="QUOTE",zn="SEMI",Mn="SLASH",vn="TILDE",An="UNDERSCORE",oe="EMOJI",E="SYM";var _=Object.freeze({__proto__:null,WORD:xe,UWORD:Ke,LOCALHOST:yt,TLD:et,UTLD:Ut,SCHEME:Nt,SLASH_SCHEME:Ft,NUM:Ne,WS:U,NL:X,OPENBRACE:ne,OPENBRACKET:ke,OPENANGLEBRACKET:We,OPENPAREN:st,CLOSEBRACE:Bt,CLOSEBRACKET:Lt,CLOSEANGLEBRACKET:Ct,CLOSEPAREN:Tt,AMPERSAND:En,APOSTROPHE:On,ASTERISK:Sn,AT:Nn,BACKSLASH:tn,BACKTICK:Tn,CARET:bn,COLON:un,COMMA:Fn,DOLLAR:kn,DOT:dn,EQUALS:rn,EXCLAMATION:xn,HYPHEN:fn,PERCENT:Cn,PIPE:wn,PLUS:Vn,POUND:Yn,QUERY:pn,QUOTE:$n,SEMI:zn,SLASH:Mn,TILDE:vn,UNDERSCORE:An,EMOJI:oe,SYM:E});const C=/[a-z]/,$=/\p{L}/u,ee=/\p{Emoji}/u,J=/\ufe0f/,be=/\d/,Ie=/\s/;var D=Object.freeze({__proto__:null,ASCII_LETTER:C,LETTER:$,EMOJI:ee,EMOJI_VARIATION:J,DIGIT:be,SPACE:Ie});const s=`
`,l="\uFE0F",y="\u200D";let M=null,A=null;function F(c){c===void 0&&(c=[]);const m={};Me.groups=m;const p=new Me;M==null&&(M=L(Se)),A==null&&(A=L(me)),G(p,"'",On),G(p,"{",ne),G(p,"[",ke),G(p,"<",We),G(p,"(",st),G(p,"}",Bt),G(p,"]",Lt),G(p,">",Ct),G(p,")",Tt),G(p,"&",En),G(p,"*",Sn),G(p,"@",Nn),G(p,"`",Tn),G(p,"^",bn),G(p,":",un),G(p,",",Fn),G(p,"$",kn),G(p,".",dn),G(p,"=",rn),G(p,"!",xn),G(p,"-",fn),G(p,"%",Cn),G(p,"|",wn),G(p,"+",Vn),G(p,"#",Yn),G(p,"?",pn),G(p,'"',$n),G(p,"/",Mn),G(p,";",zn),G(p,"~",vn),G(p,"_",An),G(p,"\\",tn);const v=Je(p,be,Ne,{[de]:!0});Je(v,be,v);const N=Je(p,C,xe,{[qe]:!0});Je(N,C,N);const R=Je(p,$,Ke,{[$e]:!0});Je(R,C),Je(R,$,R);const u=Je(p,Ie,U,{[it]:!0});G(p,s,X,{[it]:!0}),G(u,s),Je(u,Ie,u);const b=Je(p,ee,oe,{[Ye]:!0});Je(b,ee,b),G(b,l,b);const O=G(b,y);Je(O,ee,b);const P=[[C,N]],W=[[C,null],[$,R]];for(let H=0;H<M.length;H++)at(p,M[H],et,xe,P);for(let H=0;H<A.length;H++)at(p,A[H],Ut,Ke,W);bt(et,{tld:!0,ascii:!0},m),bt(Ut,{utld:!0,alpha:!0},m),at(p,"file",Nt,xe,P),at(p,"mailto",Nt,xe,P),at(p,"http",Ft,xe,P),at(p,"https",Ft,xe,P),at(p,"ftp",Ft,xe,P),at(p,"ftps",Ft,xe,P),bt(Nt,{scheme:!0,ascii:!0},m),bt(Ft,{slashscheme:!0,ascii:!0},m),c=c.sort((H,V)=>H[0]>V[0]?1:-1);for(let H=0;H<c.length;H++){const V=c[H][0],pe=c[H][1]?{[rt]:!0}:{[ft]:!0};V.indexOf("-")>=0?pe[Pe]=!0:C.test(V)?be.test(V)?pe[Ue]=!0:pe[qe]=!0:pe[de]=!0,Ve(p,V,V,pe)}return Ve(p,"localhost",yt,{ascii:!0}),p.jd=new Me(E),{start:p,tokens:fe({groups:m},_)}}function Q(c,m){const p=ge(m.replace(/[A-Z]/g,b=>b.toLowerCase())),v=p.length,N=[];let R=0,u=0;for(;u<v;){let b=c,O=null,P=0,W=null,H=-1,V=-1;for(;u<v&&(O=b.go(p[u]));)b=O,b.accepts()?(H=0,V=0,W=b):H>=0&&(H+=p[u].length,V++),P+=p[u].length,R+=p[u].length,u++;R-=H,u-=V,P-=H,N.push({t:W.t,v:m.slice(R-P,R),s:R-P,e:R})}return N}function ge(c){const m=[],p=c.length;let v=0;for(;v<p;){let N=c.charCodeAt(v),R,u=N<55296||N>56319||v+1===p||(R=c.charCodeAt(v+1))<56320||R>57343?c[v]:c.slice(v,v+2);m.push(u),v+=u.length}return m}function at(c,m,p,v,N){let R;const u=m.length;for(let b=0;b<u-1;b++){const O=m[b];c.j[O]?R=c.j[O]:(R=new Me(v),R.jr=N.slice(),c.j[O]=R),c=R}return R=new Me(p),R.jr=N.slice(),c.j[m[u-1]]=R,R}function L(c){const m=[],p=[];let v=0,N="0123456789";for(;v<c.length;){let R=0;for(;N.indexOf(c[v+R])>=0;)R++;if(R>0){m.push(p.join(""));for(let u=parseInt(c.substring(v,v+R),10);u>0;u--)p.pop();v+=R}else p.push(c[v]),v++}return m}const B={defaultProtocol:"http",events:null,format:le,formatHref:le,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:Infinity,className:null,attributes:null,ignoreTags:[],render:null};function q(c,m){m===void 0&&(m=null);let p=fe({},B);c&&(p=fe(p,c instanceof q?c.o:c));const v=p.ignoreTags,N=[];for(let R=0;R<v.length;R++)N.push(v[R].toUpperCase());this.o=p,m&&(this.defaultRender=m),this.ignoreTags=N}q.prototype={o:B,ignoreTags:[],defaultRender(c){return c},check(c){return this.get("validate",c.toString(),c)},get(c,m,p){const v=m!=null;let N=this.o[c];return N&&(typeof N=="object"?(N=p.t in N?N[p.t]:B[c],typeof N=="function"&&v&&(N=N(m,p))):typeof N=="function"&&v&&(N=N(m,p.t,p)),N)},getObj(c,m,p){let v=this.o[c];return typeof v=="function"&&m!=null&&(v=v(m,p.t,p)),v},render(c){const m=c.render(this);return(this.get("render",null,c)||this.defaultRender)(m,c.t,c)}};function le(c){return c}var ae=Object.freeze({__proto__:null,defaults:B,Options:q,assign:fe});function De(c,m){this.t="token",this.v=c,this.tk=m}De.prototype={isLink:!1,toString(){return this.v},toHref(c){return this.toString()},toFormattedString(c){const m=this.toString(),p=c.get("truncate",m,this),v=c.get("format",m,this);return p&&v.length>p?v.substring(0,p)+"\u2026":v},toFormattedHref(c){return c.get("formatHref",this.toHref(c.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(c){return c===void 0&&(c=B.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(c),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(c){return{type:this.t,value:this.toFormattedString(c),isLink:this.isLink,href:this.toFormattedHref(c),start:this.startIndex(),end:this.endIndex()}},validate(c){return c.get("validate",this.toString(),this)},render(c){const m=this,p=this.toHref(c.get("defaultProtocol")),v=c.get("formatHref",p,this),N=c.get("tagName",p,m),R=this.toFormattedString(c),u={},b=c.get("className",p,m),O=c.get("target",p,m),P=c.get("rel",p,m),W=c.getObj("attributes",p,m),H=c.getObj("events",p,m);return u.href=v,b&&(u.class=b),O&&(u.target=O),P&&(u.rel=P),W&&fe(u,W),{tagName:N,attributes:u,content:R,eventListeners:H}}};function Be(c,m){class p extends De{constructor(N,R){super(N,R);this.t=c}}for(const v in m)p.prototype[v]=m[v];return p.t=c,p}const tt=Be("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),It=Be("text"),qt=Be("nl"),Gt=Be("url",{isLink:!0,toHref(c){return c===void 0&&(c=B.defaultProtocol),this.hasProtocol()?this.v:`${c}://${this.v}`},hasProtocol(){const c=this.tk;return c.length>=2&&c[0].t!==yt&&c[1].t===un}});var K=Object.freeze({__proto__:null,MultiToken:De,Base:De,createTokenClass:Be,Email:tt,Text:It,Nl:qt,Url:Gt});const se=c=>new Me(c);function Te(c){let{groups:m}=c;const p=m.domain.concat([En,Sn,Nn,tn,Tn,bn,kn,rn,fn,Ne,Cn,wn,Vn,Yn,Mn,E,vn,An]),v=[On,Ct,Bt,Lt,Tt,un,Fn,dn,xn,We,ne,ke,st,pn,$n,zn],N=[En,On,Sn,tn,Tn,bn,Bt,kn,rn,fn,ne,Cn,wn,Vn,Yn,pn,Mn,E,vn,An],R=se(),u=G(R,vn);Oe(u,N,u),Oe(u,m.domain,u);const b=se(),O=se(),P=se();Oe(R,m.domain,b),Oe(R,m.scheme,O),Oe(R,m.slashscheme,P),Oe(b,N,u),Oe(b,m.domain,b);const W=G(b,Nn);G(u,Nn,W),G(O,Nn,W),G(P,Nn,W);const H=G(u,dn);Oe(H,N,u),Oe(H,m.domain,u);const V=se();Oe(W,m.domain,V),Oe(V,m.domain,V);const Z=G(V,dn);Oe(Z,m.domain,V);const pe=se(tt);Oe(Z,m.tld,pe),Oe(Z,m.utld,pe),G(W,yt,pe);const ue=G(V,fn);Oe(ue,m.domain,V),Oe(pe,m.domain,V),G(pe,dn,Z),G(pe,fn,ue);const Fe=G(pe,un);Oe(Fe,m.numeric,tt);const je=G(b,fn),He=G(b,dn);Oe(je,m.domain,b),Oe(He,N,u),Oe(He,m.domain,b);const Xe=se(Gt);Oe(He,m.tld,Xe),Oe(He,m.utld,Xe),Oe(Xe,m.domain,b),Oe(Xe,N,u),G(Xe,dn,He),G(Xe,fn,je),G(Xe,Nn,W);const mt=G(Xe,un),_t=se(Gt);Oe(mt,m.numeric,_t);const Ze=se(Gt),Ot=se();Oe(Ze,p,Ze),Oe(Ze,v,Ot),Oe(Ot,p,Ze),Oe(Ot,v,Ot),G(Xe,Mn,Ze),G(_t,Mn,Ze);const Xt=G(O,un),Qt=G(P,un),Vt=G(Qt,Mn),on=G(Vt,Mn);Oe(O,m.domain,b),G(O,dn,He),G(O,fn,je),Oe(P,m.domain,b),G(P,dn,He),G(P,fn,je),Oe(Xt,m.domain,Ze),G(Xt,Mn,Ze),Oe(on,m.domain,Ze),Oe(on,p,Ze),G(on,Mn,Ze);const an=G(Ze,ne),Yt=G(Ze,ke),Jt=G(Ze,We),nn=G(Ze,st);G(Ot,ne,an),G(Ot,ke,Yt),G(Ot,We,Jt),G(Ot,st,nn),G(an,Bt,Ze),G(Yt,Lt,Ze),G(Jt,Ct,Ze),G(nn,Tt,Ze),G(an,Bt,Ze);const Mt=se(Gt),Gn=se(Gt),sn=se(Gt),wt=se(Gt);Oe(an,p,Mt),Oe(Yt,p,Gn),Oe(Jt,p,sn),Oe(nn,p,wt);const Hn=se(),Kn=se(),jn=se(),ln=se();return Oe(an,v),Oe(Yt,v),Oe(Jt,v),Oe(nn,v),Oe(Mt,p,Mt),Oe(Gn,p,Gn),Oe(sn,p,sn),Oe(wt,p,wt),Oe(Mt,v,Mt),Oe(Gn,v,Gn),Oe(sn,v,sn),Oe(wt,v,wt),Oe(Hn,p,Hn),Oe(Kn,p,Gn),Oe(jn,p,sn),Oe(ln,p,wt),Oe(Hn,v,Hn),Oe(Kn,v,Kn),Oe(jn,v,jn),Oe(ln,v,ln),G(Gn,Lt,Ze),G(sn,Ct,Ze),G(wt,Tt,Ze),G(Mt,Bt,Ze),G(Kn,Lt,Ze),G(jn,Ct,Ze),G(ln,Tt,Ze),G(Hn,Tt,Ze),G(R,yt,Xe),G(R,X,qt),{start:R,tokens:_}}function pt(c,m,p){let v=p.length,N=0,R=[],u=[];for(;N<v;){let b=c,O=null,P=null,W=0,H=null,V=-1;for(;N<v&&!(O=b.go(p[N].t));)u.push(p[N++]);for(;N<v&&(P=O||b.go(p[N].t));)O=null,b=P,b.accepts()?(V=0,H=b):V>=0&&V++,N++,W++;if(V<0)N-=W,N<v&&(u.push(p[N]),N++);else{u.length>0&&(R.push(vt(It,m,u)),u=[]),N-=V,W-=V;const Z=H.t,pe=p.slice(N-W,N);R.push(vt(Z,m,pe))}}return u.length>0&&R.push(vt(It,m,u)),R}function vt(c,m,p){const v=p[0].s,N=p[p.length-1].e,R=m.slice(v,N);return new c(R,p)}const zt=typeof console!="undefined"&&console&&console.warn||(()=>{}),nt="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ye={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Rt(){Me.groups={},ye.scanner=null,ye.parser=null,ye.tokenQueue=[],ye.pluginQueue=[],ye.customSchemes=[],ye.initialized=!1}function hn(c,m){if(typeof m!="function")throw new Error(`linkifyjs: Invalid token plugin ${m} (expects function)`);for(let p=0;p<ye.tokenQueue.length;p++)if(c===ye.tokenQueue[p][0]){zt(`linkifyjs: token plugin "${c}" already registered - will be overwritten`),ye.tokenQueue[p]=[c,m];return}ye.tokenQueue.push([c,m]),ye.initialized&&zt(`linkifyjs: already initialized - will not register token plugin "${c}" ${nt}`)}function yn(c,m){if(typeof m!="function")throw new Error(`linkifyjs: Invalid plugin ${m} (expects function)`);for(let p=0;p<ye.pluginQueue.length;p++)if(c===ye.pluginQueue[p][0]){zt(`linkifyjs: plugin "${c}" already registered - will be overwritten`),ye.pluginQueue[p]=[c,m];return}ye.pluginQueue.push([c,m]),ye.initialized&&zt(`linkifyjs: already initialized - will not register plugin "${c}" ${nt}`)}function Jn(c,m){if(m===void 0&&(m=!1),ye.initialized&&zt(`linkifyjs: already initialized - will not register custom scheme "${c}" ${nt}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(c))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);ye.customSchemes.push([c,m])}function Wn(){ye.scanner=F(ye.customSchemes);for(let c=0;c<ye.tokenQueue.length;c++)ye.tokenQueue[c][1]({scanner:ye.scanner});ye.parser=Te(ye.scanner.tokens);for(let c=0;c<ye.pluginQueue.length;c++)ye.pluginQueue[c][1]({scanner:ye.scanner,parser:ye.parser});ye.initialized=!0}function In(c){return ye.initialized||Wn(),pt(ye.parser.start,c,Q(ye.scanner.start,c))}function sr(c,m,p){if(m===void 0&&(m=null),p===void 0&&(p=null),m&&typeof m=="object"){if(p)throw Error(`linkifyjs: Invalid link type ${m}; must be a string`);p=m,m=null}const v=new q(p),N=In(c),R=[];for(let u=0;u<N.length;u++){const b=N[u];b.isLink&&(!m||b.t===m)&&R.push(b.toFormattedObject(v))}return R}function Qn(c,m){m===void 0&&(m=null);const p=In(c);return p.length===1&&p[0].isLink&&(!m||p[0].t===m)}var qn=Re(66961);function ar(c){return new qn.Sy({key:new qn.H$("autolink"),appendTransaction:(m,p,v)=>{const N=m.some(W=>W.docChanged)&&!p.doc.eq(v.doc),R=m.some(W=>W.getMeta("preventAutolink"));if(!N||R)return;const{tr:u}=v,b=(0,x.XP)(p.doc,[...m]),{mapping:O}=b;if((0,x.QC)(b).forEach(({oldRange:W,newRange:H})=>{(0,x.tI)(W.from,W.to,p.doc).filter(ue=>ue.mark.type===c.type).forEach(ue=>{const Fe=O.map(ue.from),je=O.map(ue.to),He=(0,x.tI)(Fe,je,v.doc).filter(Xt=>Xt.mark.type===c.type);if(!He.length)return;const Xe=He[0],mt=p.doc.textBetween(ue.from,ue.to,void 0," "),_t=v.doc.textBetween(Xe.from,Xe.to,void 0," "),Ze=Qn(mt),Ot=Qn(_t);Ze&&!Ot&&u.removeMark(Xe.from,Xe.to,c.type)});const V=(0,x.b5)(v.doc,H,ue=>ue.isTextblock);let Z,pe;if(V.length>1?(Z=V[0],pe=v.doc.textBetween(Z.pos,Z.pos+Z.node.nodeSize,void 0," ")):V.length&&v.doc.textBetween(H.from,H.to," "," ").endsWith(" ")&&(Z=V[0],pe=v.doc.textBetween(Z.pos,H.to,void 0," ")),Z&&pe){const ue=pe.split(" ").filter(He=>He!=="");if(ue.length<=0)return!1;const Fe=ue[ue.length-1],je=Z.pos+pe.lastIndexOf(Fe);if(!Fe)return!1;sr(Fe).filter(He=>He.isLink).filter(He=>c.validate?c.validate(He.value):!0).map(He=>ve(ve({},He),{from:je+He.start+1,to:je+He.end+1})).forEach(He=>{u.addMark(He.from,He.to,c.type.create({href:He.href}))})}}),!!u.steps.length)return u}})}function ir(c){return new qn.Sy({key:new qn.H$("handleClickLink"),props:{handleClick:(m,p,v)=>{var N,R,u;if(v.button!==0)return!1;const b=(0,x.u9)(m.state,c.type.name),O=(N=v.target)===null||N===void 0?void 0:N.closest("a"),P=(R=O==null?void 0:O.href)!==null&&R!==void 0?R:b.href,W=(u=O==null?void 0:O.target)!==null&&u!==void 0?u:b.target;return O&&P?(window.open(P,W),!0):!1}}})}function rr(c){return new qn.Sy({key:new qn.H$("handlePasteLink"),props:{handlePaste:(m,p,v)=>{const{state:N}=m,{selection:R}=N,{empty:u}=R;if(u)return!1;let b="";v.content.forEach(P=>{b+=P.textContent});const O=sr(b).find(P=>P.isLink&&P.value===b);return!b||!O?!1:(c.editor.commands.setMark(c.type,{href:O.href}),!0)}}})}const h=x.vc.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(c=>{if(typeof c=="string"){Jn(c);return}Jn(c.scheme,c.optionalSlashes)})},onDestroy(){Rt()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:c}){return["a",(0,x.P1)(this.options.HTMLAttributes,c),0]},addCommands(){return{setLink:c=>({chain:m})=>m().setMark(this.name,c).setMeta("preventAutolink",!0).run(),toggleLink:c=>({chain:m})=>m().toggleMark(this.name,c,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:c})=>c().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,x.K9)({find:c=>sr(c).filter(m=>this.options.validate?this.options.validate(m.value):!0).filter(m=>m.isLink).map(m=>({text:m.value,index:m.start,data:m})),type:this.type,getAttributes:c=>{var m;return{href:(m=c.data)===null||m===void 0?void 0:m.href}}})]},addProseMirrorPlugins(){const c=[];return this.options.autolink&&c.push(ar({type:this.type,validate:this.options.validate})),this.options.openOnClick&&c.push(ir({type:this.type})),this.options.linkOnPaste&&c.push(rr({editor:this.editor,type:this.type})),c}})},35790:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return fe}});var x=Re(57154),Se=Re(66961),me=Re(66237);const fe=x.hj.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Se.Sy({key:new Se.H$("placeholder"),props:{decorations:({doc:de,selection:qe})=>{const $e=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:Ue}=qe,Ce=[];if(!$e)return null;const Pe=de.type.createAndFill(),Ye=(Pe==null?void 0:Pe.sameMarkup(de))&&Pe.content.findDiffStart(de.content)===null;return de.descendants((rt,ft)=>{const it=Ue>=ft&&Ue<=ft+rt.nodeSize,ot=!rt.isLeaf&&!rt.childCount;if((it||!this.options.showOnlyCurrent)&&ot){const bt=[this.options.emptyNodeClass];Ye&&bt.push(this.options.emptyEditorClass);const dt=me.p.node(ft,ft+rt.nodeSize,{class:bt.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:rt,pos:ft,hasAnchor:it}):this.options.placeholder});Ce.push(dt)}return this.options.includeChildren}),me.EH.create(de,Ce)}}})]}})},29275:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.vc.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(me){return me!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:me}){return["sub",(0,x.P1)(this.options.HTMLAttributes,me),0]},addCommands(){return{setSubscript:()=>({commands:me})=>me.setMark(this.name),toggleSubscript:()=>({commands:me})=>me.toggleMark(this.name),unsetSubscript:()=>({commands:me})=>me.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}})},43571:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.vc.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(me){return me!=="super"?!1:null}}]},renderHTML({HTMLAttributes:me}){return["sup",(0,x.P1)(this.options.HTMLAttributes,me),0]},addCommands(){return{setSuperscript:()=>({commands:me})=>me.setMark(this.name),toggleSuperscript:()=>({commands:me})=>me.toggleMark(this.name),unsetSuperscript:()=>({commands:me})=>me.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}})},7446:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.NB.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:me=>{const fe=me.getAttribute("colwidth");return fe?[parseInt(fe,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:me}){return["td",(0,x.P1)(this.options.HTMLAttributes,me),0]}})},76625:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.NB.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:me=>{const fe=me.getAttribute("colwidth");return fe?[parseInt(fe,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:me}){return["th",(0,x.P1)(this.options.HTMLAttributes,me),0]}})},92688:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.NB.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:me}){return["tr",(0,x.P1)(this.options.HTMLAttributes,me),0]}})},64839:function(cn,kt,Re){"use strict";Re.d(kt,{ZP:function(){return rr}});var x=Re(57154),Se=Re(66961),me=Re(72883),fe=Re(66237),de=Re(49034),qe=Re(12112),$e,Ue;if(typeof WeakMap!="undefined"){let h=new WeakMap;$e=c=>h.get(c),Ue=(c,m)=>(h.set(c,m),m)}else{const h=[],c=10;let m=0;$e=p=>{for(let v=0;v<h.length;v+=2)if(h[v]==p)return h[v+1]},Ue=(p,v)=>(m==c&&(m=0),h[m++]=p,h[m++]=v)}var Ce=class{constructor(h,c,m,p){this.width=h,this.height=c,this.map=m,this.problems=p}findCell(h){for(let c=0;c<this.map.length;c++){const m=this.map[c];if(m!=h)continue;const p=c%this.width,v=c/this.width|0;let N=p+1,R=v+1;for(let u=1;N<this.width&&this.map[c+u]==m;u++)N++;for(let u=1;R<this.height&&this.map[c+this.width*u]==m;u++)R++;return{left:p,top:v,right:N,bottom:R}}throw new RangeError(`No cell with offset ${h} found`)}colCount(h){for(let c=0;c<this.map.length;c++)if(this.map[c]==h)return c%this.width;throw new RangeError(`No cell with offset ${h} found`)}nextCell(h,c,m){const{left:p,right:v,top:N,bottom:R}=this.findCell(h);return c=="horiz"?(m<0?p==0:v==this.width)?null:this.map[N*this.width+(m<0?p-1:v)]:(m<0?N==0:R==this.height)?null:this.map[p+this.width*(m<0?N-1:R)]}rectBetween(h,c){const{left:m,right:p,top:v,bottom:N}=this.findCell(h),{left:R,right:u,top:b,bottom:O}=this.findCell(c);return{left:Math.min(m,R),top:Math.min(v,b),right:Math.max(p,u),bottom:Math.max(N,O)}}cellsInRect(h){const c=[],m={};for(let p=h.top;p<h.bottom;p++)for(let v=h.left;v<h.right;v++){const N=p*this.width+v,R=this.map[N];m[R]||(m[R]=!0,!(v==h.left&&v&&this.map[N-1]==R||p==h.top&&p&&this.map[N-this.width]==R)&&c.push(R))}return c}positionAt(h,c,m){for(let p=0,v=0;;p++){const N=v+m.child(p).nodeSize;if(p==h){let R=c+h*this.width;const u=(h+1)*this.width;for(;R<u&&this.map[R]<v;)R++;return R==u?N-1:this.map[R]}v=N}}static get(h){return $e(h)||Ue(h,Pe(h))}};function Pe(h){if(h.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+h.type.name);const c=Ye(h),m=h.childCount,p=[];let v=0,N=null;const R=[];for(let O=0,P=c*m;O<P;O++)p[O]=0;for(let O=0,P=0;O<m;O++){const W=h.child(O);P++;for(let Z=0;;Z++){for(;v<p.length&&p[v]!=0;)v++;if(Z==W.childCount)break;const pe=W.child(Z),{colspan:ue,rowspan:Fe,colwidth:je}=pe.attrs;for(let He=0;He<Fe;He++){if(He+O>=m){(N||(N=[])).push({type:"overlong_rowspan",pos:P,n:Fe-He});break}const Xe=v+He*c;for(let mt=0;mt<ue;mt++){p[Xe+mt]==0?p[Xe+mt]=P:(N||(N=[])).push({type:"collision",row:O,pos:P,n:ue-mt});const _t=je&&je[mt];if(_t){const Ze=(Xe+mt)%c*2,Ot=R[Ze];Ot==null||Ot!=_t&&R[Ze+1]==1?(R[Ze]=_t,R[Ze+1]=1):Ot==_t&&R[Ze+1]++}}}v+=ue,P+=pe.nodeSize}const H=(O+1)*c;let V=0;for(;v<H;)p[v++]==0&&V++;V&&(N||(N=[])).push({type:"missing",row:O,n:V}),P++}const u=new Ce(c,m,p,N);let b=!1;for(let O=0;!b&&O<R.length;O+=2)R[O]!=null&&R[O+1]<m&&(b=!0);return b&&rt(u,R,h),u}function Ye(h){let c=-1,m=!1;for(let p=0;p<h.childCount;p++){const v=h.child(p);let N=0;if(m)for(let R=0;R<p;R++){const u=h.child(R);for(let b=0;b<u.childCount;b++){const O=u.child(b);R+O.attrs.rowspan>p&&(N+=O.attrs.colspan)}}for(let R=0;R<v.childCount;R++){const u=v.child(R);N+=u.attrs.colspan,u.attrs.rowspan>1&&(m=!0)}c==-1?c=N:c!=N&&(c=Math.max(c,N))}return c}function rt(h,c,m){h.problems||(h.problems=[]);const p={};for(let v=0;v<h.map.length;v++){const N=h.map[v];if(p[N])continue;p[N]=!0;const R=m.nodeAt(N);if(!R)throw new RangeError(`No cell with offset ${N} found`);let u=null;const b=R.attrs;for(let O=0;O<b.colspan;O++){const P=(v+O)%h.width,W=c[P*2];W!=null&&(!b.colwidth||b.colwidth[O]!=W)&&((u||(u=ft(b)))[O]=W)}u&&h.problems.unshift({type:"colwidth mismatch",pos:N,colwidth:u})}}function ft(h){if(h.colwidth)return h.colwidth.slice();const c=[];for(let m=0;m<h.colspan;m++)c.push(0);return c}function it(h,c){if(typeof h=="string")return{};const m=h.getAttribute("data-colwidth"),p=m&&/^\d+(,\d+)*$/.test(m)?m.split(",").map(R=>Number(R)):null,v=Number(h.getAttribute("colspan")||1),N={colspan:v,rowspan:Number(h.getAttribute("rowspan")||1),colwidth:p&&p.length==v?p:null};for(const R in c){const u=c[R].getFromDOM,b=u&&u(h);b!=null&&(N[R]=b)}return N}function ot(h,c){const m={};h.attrs.colspan!=1&&(m.colspan=h.attrs.colspan),h.attrs.rowspan!=1&&(m.rowspan=h.attrs.rowspan),h.attrs.colwidth&&(m["data-colwidth"]=h.attrs.colwidth.join(","));for(const p in c){const v=c[p].setDOMAttr;v&&v(h.attrs[p],m)}return m}function bt(h){const c=h.cellAttributes||{},m={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const p in c)m[p]={default:c[p].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:h.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:h.cellContent,attrs:m,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:p=>it(p,c)}],toDOM(p){return["td",ot(p,c),0]}},table_header:{content:h.cellContent,attrs:m,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:p=>it(p,c)}],toDOM(p){return["th",ot(p,c),0]}}}}function dt(h){let c=h.cached.tableNodeTypes;if(!c){c=h.cached.tableNodeTypes={};for(const m in h.nodes){const p=h.nodes[m],v=p.spec.tableRole;v&&(c[v]=p)}}return c}var Me=new Se.H$("selectingCells");function Oe(h){for(let c=h.depth-1;c>0;c--)if(h.node(c).type.spec.tableRole=="row")return h.node(0).resolve(h.before(c+1));return null}function Je(h){for(let c=h.depth;c>0;c--){const m=h.node(c).type.spec.tableRole;if(m==="cell"||m==="header_cell")return h.node(c)}return null}function Ve(h){const c=h.selection.$head;for(let m=c.depth;m>0;m--)if(c.node(m).type.spec.tableRole=="row")return!0;return!1}function G(h){const c=h.selection;if("$anchorCell"in c&&c.$anchorCell)return c.$anchorCell.pos>c.$headCell.pos?c.$anchorCell:c.$headCell;if("node"in c&&c.node&&c.node.type.spec.tableRole=="cell")return c.$anchor;const m=Oe(c.$head)||xe(c.$head);if(m)return m;throw new RangeError(`No cell found around position ${c.head}`)}function xe(h){for(let c=h.nodeAfter,m=h.pos;c;c=c.firstChild,m++){const p=c.type.spec.tableRole;if(p=="cell"||p=="header_cell")return h.doc.resolve(m)}for(let c=h.nodeBefore,m=h.pos;c;c=c.lastChild,m--){const p=c.type.spec.tableRole;if(p=="cell"||p=="header_cell")return h.doc.resolve(m-c.nodeSize)}}function Ke(h){return h.parent.type.spec.tableRole=="row"&&!!h.nodeAfter}function yt(h){return h.node(0).resolve(h.pos+h.nodeAfter.nodeSize)}function et(h,c){return h.depth==c.depth&&h.pos>=c.start(-1)&&h.pos<=c.end(-1)}function Ut(h){return Ce.get(h.node(-1)).findCell(h.pos-h.start(-1))}function Nt(h){return Ce.get(h.node(-1)).colCount(h.pos-h.start(-1))}function Ft(h,c,m){const p=h.node(-1),v=Ce.get(p),N=h.start(-1),R=v.nextCell(h.pos-N,c,m);return R==null?null:h.node(0).resolve(N+R)}function Ne(h,c,m=1){const p=ve(ve({},h),{colspan:h.colspan-m});return p.colwidth&&(p.colwidth=p.colwidth.slice(),p.colwidth.splice(c,m),p.colwidth.some(v=>v>0)||(p.colwidth=null)),p}function U(h,c,m=1){const p=ve(ve({},h),{colspan:h.colspan+m});if(p.colwidth){p.colwidth=p.colwidth.slice();for(let v=0;v<m;v++)p.colwidth.splice(c,0,0)}return p}function X(h,c,m){const p=dt(c.type.schema).header_cell;for(let v=0;v<h.height;v++)if(c.nodeAt(h.map[m+v*h.width]).type!=p)return!1;return!0}var ne=class extends Se.Y1{constructor(h,c=h){const m=h.node(-1),p=Ce.get(m),v=h.start(-1),N=p.rectBetween(h.pos-v,c.pos-v),R=h.node(0),u=p.cellsInRect(N).filter(O=>O!=c.pos-v);u.unshift(c.pos-v);const b=u.map(O=>{const P=m.nodeAt(O);if(!P)throw RangeError(`No cell with offset ${O} found`);const W=v+O+1;return new Se.xm(R.resolve(W),R.resolve(W+P.content.size))});super(b[0].$from,b[0].$to,b);this.$anchorCell=h,this.$headCell=c}map(h,c){const m=h.resolve(c.map(this.$anchorCell.pos)),p=h.resolve(c.map(this.$headCell.pos));if(Ke(m)&&Ke(p)&&et(m,p)){const v=this.$anchorCell.node(-1)!=m.node(-1);return v&&this.isRowSelection()?ne.rowSelection(m,p):v&&this.isColSelection()?ne.colSelection(m,p):new ne(m,p)}return Se.Bs.between(m,p)}content(){const h=this.$anchorCell.node(-1),c=Ce.get(h),m=this.$anchorCell.start(-1),p=c.rectBetween(this.$anchorCell.pos-m,this.$headCell.pos-m),v={},N=[];for(let u=p.top;u<p.bottom;u++){const b=[];for(let O=u*c.width+p.left,P=p.left;P<p.right;P++,O++){const W=c.map[O];if(v[W])continue;v[W]=!0;const H=c.findCell(W);let V=h.nodeAt(W);if(!V)throw RangeError(`No cell with offset ${W} found`);const Z=p.left-H.left,pe=H.right-p.right;if(Z>0||pe>0){let ue=V.attrs;if(Z>0&&(ue=Ne(ue,0,Z)),pe>0&&(ue=Ne(ue,ue.colspan-pe,pe)),H.left<p.left){if(V=V.type.createAndFill(ue),!V)throw RangeError(`Could not create cell with attrs ${JSON.stringify(ue)}`)}else V=V.type.create(ue,V.content)}if(H.top<p.top||H.bottom>p.bottom){const ue=ve(ve({},V.attrs),{rowspan:Math.min(H.bottom,p.bottom)-Math.max(H.top,p.top)});H.top<p.top?V=V.type.createAndFill(ue):V=V.type.create(ue,V.content)}b.push(V)}N.push(h.child(u).copy(me.HY.from(b)))}const R=this.isColSelection()&&this.isRowSelection()?h:N;return new me.p2(me.HY.from(R),1,1)}replace(h,c=me.p2.empty){const m=h.steps.length,p=this.ranges;for(let N=0;N<p.length;N++){const{$from:R,$to:u}=p[N],b=h.mapping.slice(m);h.replace(b.map(R.pos),b.map(u.pos),N?me.p2.empty:c)}const v=Se.Y1.findFrom(h.doc.resolve(h.mapping.slice(m).map(this.to)),-1);v&&h.setSelection(v)}replaceWith(h,c){this.replace(h,new me.p2(me.HY.from(c),0,0))}forEachCell(h){const c=this.$anchorCell.node(-1),m=Ce.get(c),p=this.$anchorCell.start(-1),v=m.cellsInRect(m.rectBetween(this.$anchorCell.pos-p,this.$headCell.pos-p));for(let N=0;N<v.length;N++)h(c.nodeAt(v[N]),p+v[N])}isColSelection(){const h=this.$anchorCell.index(-1),c=this.$headCell.index(-1);if(Math.min(h,c)>0)return!1;const m=h+this.$anchorCell.nodeAfter.attrs.rowspan,p=c+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(m,p)==this.$headCell.node(-1).childCount}static colSelection(h,c=h){const m=h.node(-1),p=Ce.get(m),v=h.start(-1),N=p.findCell(h.pos-v),R=p.findCell(c.pos-v),u=h.node(0);return N.top<=R.top?(N.top>0&&(h=u.resolve(v+p.map[N.left])),R.bottom<p.height&&(c=u.resolve(v+p.map[p.width*(p.height-1)+R.right-1]))):(R.top>0&&(c=u.resolve(v+p.map[R.left])),N.bottom<p.height&&(h=u.resolve(v+p.map[p.width*(p.height-1)+N.right-1]))),new ne(h,c)}isRowSelection(){const h=this.$anchorCell.node(-1),c=Ce.get(h),m=this.$anchorCell.start(-1),p=c.colCount(this.$anchorCell.pos-m),v=c.colCount(this.$headCell.pos-m);if(Math.min(p,v)>0)return!1;const N=p+this.$anchorCell.nodeAfter.attrs.colspan,R=v+this.$headCell.nodeAfter.attrs.colspan;return Math.max(N,R)==c.width}eq(h){return h instanceof ne&&h.$anchorCell.pos==this.$anchorCell.pos&&h.$headCell.pos==this.$headCell.pos}static rowSelection(h,c=h){const m=h.node(-1),p=Ce.get(m),v=h.start(-1),N=p.findCell(h.pos-v),R=p.findCell(c.pos-v),u=h.node(0);return N.left<=R.left?(N.left>0&&(h=u.resolve(v+p.map[N.top*p.width])),R.right<p.width&&(c=u.resolve(v+p.map[p.width*(R.top+1)-1]))):(R.left>0&&(c=u.resolve(v+p.map[R.top*p.width])),N.right<p.width&&(h=u.resolve(v+p.map[p.width*(N.top+1)-1]))),new ne(h,c)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(h,c){return new ne(h.resolve(c.anchor),h.resolve(c.head))}static create(h,c,m=c){return new ne(h.resolve(c),h.resolve(m))}getBookmark(){return new ke(this.$anchorCell.pos,this.$headCell.pos)}};ne.prototype.visible=!1,Se.Y1.jsonID("cell",ne);var ke=class{constructor(h,c){this.anchor=h,this.head=c}map(h){return new ke(h.map(this.anchor),h.map(this.head))}resolve(h){const c=h.resolve(this.anchor),m=h.resolve(this.head);return c.parent.type.spec.tableRole=="row"&&m.parent.type.spec.tableRole=="row"&&c.index()<c.parent.childCount&&m.index()<m.parent.childCount&&et(c,m)?new ne(c,m):Se.Y1.near(m,1)}};function We(h){if(!(h.selection instanceof ne))return null;const c=[];return h.selection.forEachCell((m,p)=>{c.push(fe.p.node(p,p+m.nodeSize,{class:"selectedCell"}))}),fe.EH.create(h.doc,c)}function st({$from:h,$to:c}){if(h.pos==c.pos||h.pos<h.pos-6)return!1;let m=h.pos,p=c.pos,v=h.depth;for(;v>=0&&!(h.after(v+1)<h.end(v));v--,m++);for(let N=c.depth;N>=0&&!(c.before(N+1)>c.start(N));N--,p--);return m==p&&/row|table/.test(h.node(v).type.spec.tableRole)}function Bt({$from:h,$to:c}){let m,p;for(let v=h.depth;v>0;v--){const N=h.node(v);if(N.type.spec.tableRole==="cell"||N.type.spec.tableRole==="header_cell"){m=N;break}}for(let v=c.depth;v>0;v--){const N=c.node(v);if(N.type.spec.tableRole==="cell"||N.type.spec.tableRole==="header_cell"){p=N;break}}return m!==p&&c.parentOffset===0}function Lt(h,c,m){const p=(c||h).selection,v=(c||h).doc;let N,R;if(p instanceof Se.qv&&(R=p.node.type.spec.tableRole)){if(R=="cell"||R=="header_cell")N=ne.create(v,p.from);else if(R=="row"){const u=v.resolve(p.from+1);N=ne.rowSelection(u,u)}else if(!m){const u=Ce.get(p.node),b=p.from+1,O=b+u.map[u.width*u.height-1];N=ne.create(v,b+1,O)}}else p instanceof Se.Bs&&st(p)?N=Se.Bs.create(v,p.from):p instanceof Se.Bs&&Bt(p)&&(N=Se.Bs.create(v,p.$from.start(),p.$from.end()));return N&&(c||(c=h.tr)).setSelection(N),c}var Ct=new Se.H$("fix-tables");function Tt(h,c,m,p){const v=h.childCount,N=c.childCount;e:for(let R=0,u=0;R<N;R++){const b=c.child(R);for(let O=u,P=Math.min(v,R+3);O<P;O++)if(h.child(O)==b){u=O+1,m+=b.nodeSize;continue e}p(b,m),u<v&&h.child(u).sameMarkup(b)?Tt(h.child(u),b,m+1,p):b.nodesBetween(0,b.content.size,p,m+1),m+=b.nodeSize}}function En(h,c){let m;const p=(v,N)=>{v.type.spec.tableRole=="table"&&(m=On(h,v,N,m))};return c?c.doc!=h.doc&&Tt(c.doc,h.doc,0,p):h.doc.descendants(p),m}function On(h,c,m,p){const v=Ce.get(c);if(!v.problems)return p;p||(p=h.tr);const N=[];for(let b=0;b<v.height;b++)N.push(0);for(let b=0;b<v.problems.length;b++){const O=v.problems[b];if(O.type=="collision"){const P=c.nodeAt(O.pos);if(!P)continue;const W=P.attrs;for(let H=0;H<W.rowspan;H++)N[O.row+H]+=O.n;p.setNodeMarkup(p.mapping.map(m+1+O.pos),null,Ne(W,W.colspan-O.n,O.n))}else if(O.type=="missing")N[O.row]+=O.n;else if(O.type=="overlong_rowspan"){const P=c.nodeAt(O.pos);if(!P)continue;p.setNodeMarkup(p.mapping.map(m+1+O.pos),null,ve(ve({},P.attrs),{rowspan:P.attrs.rowspan-O.n}))}else if(O.type=="colwidth mismatch"){const P=c.nodeAt(O.pos);if(!P)continue;p.setNodeMarkup(p.mapping.map(m+1+O.pos),null,ve(ve({},P.attrs),{colwidth:O.colwidth}))}}let R,u;for(let b=0;b<N.length;b++)N[b]&&(R==null&&(R=b),u=b);for(let b=0,O=m+1;b<v.height;b++){const P=c.child(b),W=O+P.nodeSize,H=N[b];if(H>0){let V="cell";P.firstChild&&(V=P.firstChild.type.spec.tableRole);const Z=[];for(let ue=0;ue<H;ue++){const Fe=dt(h.schema)[V].createAndFill();Fe&&Z.push(Fe)}const pe=(b==0||R==b-1)&&u==b?O+1:W-1;p.insert(p.mapping.map(pe),Z)}O=W}return p.setMeta(Ct,{fixTables:!0})}function Sn(h){if(!h.size)return null;let{content:c,openStart:m,openEnd:p}=h;for(;c.childCount==1&&(m>0&&p>0||c.child(0).type.spec.tableRole=="table");)m--,p--,c=c.child(0).content;const v=c.child(0),N=v.type.spec.tableRole,R=v.type.schema,u=[];if(N=="row")for(let b=0;b<c.childCount;b++){let O=c.child(b).content;const P=b?0:Math.max(0,m-1),W=b<c.childCount-1?0:Math.max(0,p-1);(P||W)&&(O=tn(dt(R).row,new me.p2(O,P,W)).content),u.push(O)}else if(N=="cell"||N=="header_cell")u.push(m||p?tn(dt(R).row,new me.p2(c,m,p)).content:c);else return null;return Nn(R,u)}function Nn(h,c){const m=[];for(let v=0;v<c.length;v++){const N=c[v];for(let R=N.childCount-1;R>=0;R--){const{rowspan:u,colspan:b}=N.child(R).attrs;for(let O=v;O<v+u;O++)m[O]=(m[O]||0)+b}}let p=0;for(let v=0;v<m.length;v++)p=Math.max(p,m[v]);for(let v=0;v<m.length;v++)if(v>=c.length&&c.push(me.HY.empty),m[v]<p){const N=dt(h).cell.createAndFill(),R=[];for(let u=m[v];u<p;u++)R.push(N);c[v]=c[v].append(me.HY.from(R))}return{height:c.length,width:p,rows:c}}function tn(h,c){const m=h.createAndFill();return new qe.wx(m).replace(0,m.content.size,c).doc}function Tn({width:h,height:c,rows:m},p,v){if(h!=p){const N=[],R=[];for(let u=0;u<m.length;u++){const b=m[u],O=[];for(let P=N[u]||0,W=0;P<p;W++){let H=b.child(W%b.childCount);P+H.attrs.colspan>p&&(H=H.type.createChecked(Ne(H.attrs,H.attrs.colspan,P+H.attrs.colspan-p),H.content)),O.push(H),P+=H.attrs.colspan;for(let V=1;V<H.attrs.rowspan;V++)N[u+V]=(N[u+V]||0)+H.attrs.colspan}R.push(me.HY.from(O))}m=R,h=p}if(c!=v){const N=[];for(let R=0,u=0;R<v;R++,u++){const b=[],O=m[u%c];for(let P=0;P<O.childCount;P++){let W=O.child(P);R+W.attrs.rowspan>v&&(W=W.type.create(ve(ve({},W.attrs),{rowspan:Math.max(1,v-W.attrs.rowspan)}),W.content)),b.push(W)}N.push(me.HY.from(b))}m=N,c=v}return{width:h,height:c,rows:m}}function bn(h,c,m,p,v,N,R){const u=h.doc.type.schema,b=dt(u);let O,P;if(v>c.width)for(let W=0,H=0;W<c.height;W++){const V=m.child(W);H+=V.nodeSize;const Z=[];let pe;V.lastChild==null||V.lastChild.type==b.cell?pe=O||(O=b.cell.createAndFill()):pe=P||(P=b.header_cell.createAndFill());for(let ue=c.width;ue<v;ue++)Z.push(pe);h.insert(h.mapping.slice(R).map(H-1+p),Z)}if(N>c.height){const W=[];for(let Z=0,pe=(c.height-1)*c.width;Z<Math.max(c.width,v);Z++){const ue=Z>=c.width?!1:m.nodeAt(c.map[pe+Z]).type==b.header_cell;W.push(ue?P||(P=b.header_cell.createAndFill()):O||(O=b.cell.createAndFill()))}const H=b.row.create(null,me.HY.from(W)),V=[];for(let Z=c.height;Z<N;Z++)V.push(H);h.insert(h.mapping.slice(R).map(p+m.nodeSize-2),V)}return!!(O||P)}function un(h,c,m,p,v,N,R,u){if(R==0||R==c.height)return!1;let b=!1;for(let O=v;O<N;O++){const P=R*c.width+O,W=c.map[P];if(c.map[P-c.width]==W){b=!0;const H=m.nodeAt(W),{top:V,left:Z}=c.findCell(W);h.setNodeMarkup(h.mapping.slice(u).map(W+p),null,ve(ve({},H.attrs),{rowspan:R-V})),h.insert(h.mapping.slice(u).map(c.positionAt(R,Z,m)),H.type.createAndFill(ve(ve({},H.attrs),{rowspan:V+H.attrs.rowspan-R}))),O+=H.attrs.colspan-1}}return b}function Fn(h,c,m,p,v,N,R,u){if(R==0||R==c.width)return!1;let b=!1;for(let O=v;O<N;O++){const P=O*c.width+R,W=c.map[P];if(c.map[P-1]==W){b=!0;const H=m.nodeAt(W),V=c.colCount(W),Z=h.mapping.slice(u).map(W+p);h.setNodeMarkup(Z,null,Ne(H.attrs,R-V,H.attrs.colspan-(R-V))),h.insert(Z+H.nodeSize,H.type.createAndFill(Ne(H.attrs,0,R-V))),O+=H.attrs.rowspan-1}}return b}function kn(h,c,m,p,v){let N=m?h.doc.nodeAt(m-1):h.doc;if(!N)throw new Error("No table found");let R=Ce.get(N);const{top:u,left:b}=p,O=b+v.width,P=u+v.height,W=h.tr;let H=0;function V(){if(N=m?W.doc.nodeAt(m-1):W.doc,!N)throw new Error("No table found");R=Ce.get(N),H=W.mapping.maps.length}bn(W,R,N,m,O,P,H)&&V(),un(W,R,N,m,b,O,u,H)&&V(),un(W,R,N,m,b,O,P,H)&&V(),Fn(W,R,N,m,u,P,b,H)&&V(),Fn(W,R,N,m,u,P,O,H)&&V();for(let Z=u;Z<P;Z++){const pe=R.positionAt(Z,b,N),ue=R.positionAt(Z,O,N);W.replace(W.mapping.slice(H).map(pe+m),W.mapping.slice(H).map(ue+m),new me.p2(v.rows[Z-u],0,0))}V(),W.setSelection(new ne(W.doc.resolve(m+R.positionAt(u,b,N)),W.doc.resolve(m+R.positionAt(P-1,O-1,N)))),c(W)}var dn=(0,de.$)({ArrowLeft:xn("horiz",-1),ArrowRight:xn("horiz",1),ArrowUp:xn("vert",-1),ArrowDown:xn("vert",1),"Shift-ArrowLeft":fn("horiz",-1),"Shift-ArrowRight":fn("horiz",1),"Shift-ArrowUp":fn("vert",-1),"Shift-ArrowDown":fn("vert",1),Backspace:Cn,"Mod-Backspace":Cn,Delete:Cn,"Mod-Delete":Cn});function rn(h,c,m){return m.eq(h.selection)?!1:(c&&c(h.tr.setSelection(m).scrollIntoView()),!0)}function xn(h,c){return(m,p,v)=>{if(!v)return!1;const N=m.selection;if(N instanceof ne)return rn(m,p,Se.Y1.near(N.$headCell,c));if(h!="horiz"&&!N.empty)return!1;const R=pn(v,h,c);if(R==null)return!1;if(h=="horiz")return rn(m,p,Se.Y1.near(m.doc.resolve(N.head+c),c));{const u=m.doc.resolve(R),b=Ft(u,h,c);let O;return b?O=Se.Y1.near(b,1):c<0?O=Se.Y1.near(m.doc.resolve(u.before(-1)),-1):O=Se.Y1.near(m.doc.resolve(u.after(-1)),1),rn(m,p,O)}}}function fn(h,c){return(m,p,v)=>{if(!v)return!1;const N=m.selection;let R;if(N instanceof ne)R=N;else{const b=pn(v,h,c);if(b==null)return!1;R=new ne(m.doc.resolve(b))}const u=Ft(R.$headCell,h,c);return u?rn(m,p,new ne(R.$anchorCell,u)):!1}}function Cn(h,c){const m=h.selection;if(!(m instanceof ne))return!1;if(c){const p=h.tr,v=dt(h.schema).cell.createAndFill().content;m.forEachCell((N,R)=>{N.content.eq(v)||p.replace(p.mapping.map(R+1),p.mapping.map(R+N.nodeSize-1),new me.p2(v,0,0))}),p.docChanged&&c(p)}return!0}function wn(h,c){const m=h.state.doc,p=Oe(m.resolve(c));return p?(h.dispatch(h.state.tr.setSelection(new ne(p))),!0):!1}function Vn(h,c,m){if(!Ve(h.state))return!1;let p=Sn(m);const v=h.state.selection;if(v instanceof ne){p||(p={width:1,height:1,rows:[me.HY.from(tn(dt(h.state.schema).cell,m))]});const N=v.$anchorCell.node(-1),R=v.$anchorCell.start(-1),u=Ce.get(N).rectBetween(v.$anchorCell.pos-R,v.$headCell.pos-R);return p=Tn(p,u.right-u.left,u.bottom-u.top),kn(h.state,h.dispatch,R,u,p),!0}else if(p){const N=G(h.state),R=N.start(-1);return kn(h.state,h.dispatch,R,Ce.get(N.node(-1)).findCell(N.pos-R),p),!0}else return!1}function Yn(h,c){var m;if(c.ctrlKey||c.metaKey)return;const p=$n(h,c.target);let v;if(c.shiftKey&&h.state.selection instanceof ne)N(h.state.selection.$anchorCell,c),c.preventDefault();else if(c.shiftKey&&p&&(v=Oe(h.state.selection.$anchor))!=null&&((m=zn(h,c))==null?void 0:m.pos)!=v.pos)N(v,c),c.preventDefault();else if(!p)return;function N(b,O){let P=zn(h,O);const W=Me.getState(h.state)==null;if(!P||!et(b,P))if(W)P=b;else return;const H=new ne(b,P);if(W||!h.state.selection.eq(H)){const V=h.state.tr.setSelection(H);W&&V.setMeta(Me,b.pos),h.dispatch(V)}}function R(){h.root.removeEventListener("mouseup",R),h.root.removeEventListener("dragstart",R),h.root.removeEventListener("mousemove",u),Me.getState(h.state)!=null&&h.dispatch(h.state.tr.setMeta(Me,-1))}function u(b){const O=b,P=Me.getState(h.state);let W;if(P!=null)W=h.state.doc.resolve(P);else if($n(h,O.target)!=p&&(W=zn(h,c),!W))return R();W&&N(W,O)}h.root.addEventListener("mouseup",R),h.root.addEventListener("dragstart",R),h.root.addEventListener("mousemove",u)}function pn(h,c,m){if(!(h.state.selection instanceof Se.Bs))return null;const{$head:p}=h.state.selection;for(let v=p.depth-1;v>=0;v--){const N=p.node(v);if((m<0?p.index(v):p.indexAfter(v))!=(m<0?0:N.childCount))return null;if(N.type.spec.tableRole=="cell"||N.type.spec.tableRole=="header_cell"){const u=p.before(v),b=c=="vert"?m>0?"down":"up":m>0?"right":"left";return h.endOfTextblock(b)?u:null}}return null}function $n(h,c){for(;c&&c!=h.dom;c=c.parentNode)if(c.nodeName=="TD"||c.nodeName=="TH")return c;return null}function zn(h,c){const m=h.posAtCoords({left:c.clientX,top:c.clientY});return m&&m?Oe(h.state.doc.resolve(m.pos)):null}var Mn=class{constructor(h,c){this.node=h,this.cellMinWidth=c,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),vn(h,this.colgroup,this.table,c),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(h){return h.type!=this.node.type?!1:(this.node=h,vn(h,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(h){return h.type=="attributes"&&(h.target==this.table||this.colgroup.contains(h.target))}};function vn(h,c,m,p,v,N){var R;let u=0,b=!0,O=c.firstChild;const P=h.firstChild;if(!!P){for(let W=0,H=0;W<P.childCount;W++){const{colspan:V,colwidth:Z}=P.child(W).attrs;for(let pe=0;pe<V;pe++,H++){const ue=v==H?N:Z&&Z[pe],Fe=ue?ue+"px":"";u+=ue||p,ue||(b=!1),O?(O.style.width!=Fe&&(O.style.width=Fe),O=O.nextSibling):c.appendChild(document.createElement("col")).style.width=Fe}}for(;O;){const W=O.nextSibling;(R=O.parentNode)==null||R.removeChild(O),O=W}b?(m.style.width=u+"px",m.style.minWidth=""):(m.style.width="",m.style.minWidth=u+"px")}}var An=new Se.H$("tableColumnResizing");function oe({handleWidth:h=5,cellMinWidth:c=25,View:m=Mn,lastColumnResizable:p=!0}={}){const v=new Se.Sy({key:An,state:{init(N,R){return v.spec.props.nodeViews[dt(R.schema).table.name]=(u,b)=>new m(u,c,b),new E(-1,!1)},apply(N,R){return R.apply(N)}},props:{attributes:N=>{const R=An.getState(N);return R&&R.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(N,R)=>{_(N,R,h,c,p)},mouseleave:N=>{C(N)},mousedown:(N,R)=>{$(N,R,c)}},decorations:N=>{const R=An.getState(N);if(R&&R.activeHandle>-1)return M(N,R.activeHandle)},nodeViews:{}}});return v}var E=class{constructor(h,c){this.activeHandle=h,this.dragging=c}apply(h){const c=this,m=h.getMeta(An);if(m&&m.setHandle!=null)return new E(m.setHandle,!1);if(m&&m.setDragging!==void 0)return new E(c.activeHandle,m.setDragging);if(c.activeHandle>-1&&h.docChanged){let p=h.mapping.map(c.activeHandle,-1);return Ke(h.doc.resolve(p))||(p=-1),new E(p,c.dragging)}return c}};function _(h,c,m,p,v){const N=An.getState(h.state);if(!!N&&!N.dragging){const R=J(c.target);let u=-1;if(R){const{left:b,right:O}=R.getBoundingClientRect();c.clientX-b<=m?u=be(h,c,"left"):O-c.clientX<=m&&(u=be(h,c,"right"))}if(u!=N.activeHandle){if(!v&&u!==-1){const b=h.state.doc.resolve(u),O=b.node(-1),P=Ce.get(O),W=b.start(-1);if(P.colCount(b.pos-W)+b.nodeAfter.attrs.colspan-1==P.width-1)return}D(h,u)}}}function C(h){const c=An.getState(h.state);c&&c.activeHandle>-1&&!c.dragging&&D(h,-1)}function $(h,c,m){const p=An.getState(h.state);if(!p||p.activeHandle==-1||p.dragging)return!1;const v=h.state.doc.nodeAt(p.activeHandle),N=ee(h,p.activeHandle,v.attrs);h.dispatch(h.state.tr.setMeta(An,{setDragging:{startX:c.clientX,startWidth:N}}));function R(b){window.removeEventListener("mouseup",R),window.removeEventListener("mousemove",u);const O=An.getState(h.state);(O==null?void 0:O.dragging)&&(s(h,O.activeHandle,Ie(O.dragging,b,m)),h.dispatch(h.state.tr.setMeta(An,{setDragging:null})))}function u(b){if(!b.which)return R(b);const O=An.getState(h.state);if(!!O&&O.dragging){const P=Ie(O.dragging,b,m);l(h,O.activeHandle,P,m)}}return window.addEventListener("mouseup",R),window.addEventListener("mousemove",u),c.preventDefault(),!0}function ee(h,c,{colspan:m,colwidth:p}){const v=p&&p[p.length-1];if(v)return v;const N=h.domAtPos(c);let u=N.node.childNodes[N.offset].offsetWidth,b=m;if(p)for(let O=0;O<m;O++)p[O]&&(u-=p[O],b--);return u/b}function J(h){for(;h&&h.nodeName!="TD"&&h.nodeName!="TH";)h=h.classList&&h.classList.contains("ProseMirror")?null:h.parentNode;return h}function be(h,c,m){const p=h.posAtCoords({left:c.clientX,top:c.clientY});if(!p)return-1;const{pos:v}=p,N=Oe(h.state.doc.resolve(v));if(!N)return-1;if(m=="right")return N.pos;const R=Ce.get(N.node(-1)),u=N.start(-1),b=R.map.indexOf(N.pos-u);return b%R.width==0?-1:u+R.map[b-1]}function Ie(h,c,m){const p=c.clientX-h.startX;return Math.max(m,h.startWidth+p)}function D(h,c){h.dispatch(h.state.tr.setMeta(An,{setHandle:c}))}function s(h,c,m){const p=h.state.doc.resolve(c),v=p.node(-1),N=Ce.get(v),R=p.start(-1),u=N.colCount(p.pos-R)+p.nodeAfter.attrs.colspan-1,b=h.state.tr;for(let O=0;O<N.height;O++){const P=O*N.width+u;if(O&&N.map[P]==N.map[P-N.width])continue;const W=N.map[P],H=v.nodeAt(W).attrs,V=H.colspan==1?0:u-N.colCount(W);if(H.colwidth&&H.colwidth[V]==m)continue;const Z=H.colwidth?H.colwidth.slice():y(H.colspan);Z[V]=m,b.setNodeMarkup(R+W,null,ve(ve({},H),{colwidth:Z}))}b.docChanged&&h.dispatch(b)}function l(h,c,m,p){const v=h.state.doc.resolve(c),N=v.node(-1),R=v.start(-1),u=Ce.get(N).colCount(v.pos-R)+v.nodeAfter.attrs.colspan-1;let b=h.domAtPos(v.start(-1)).node;for(;b&&b.nodeName!="TABLE";)b=b.parentNode;!b||vn(N,b.firstChild,b,p,u,m)}function y(h){return Array(h).fill(0)}function M(h,c){const m=[],p=h.doc.resolve(c),v=p.node(-1);if(!v)return fe.EH.empty;const N=Ce.get(v),R=p.start(-1),u=N.colCount(p.pos-R)+p.nodeAfter.attrs.colspan;for(let b=0;b<N.height;b++){const O=u+b*N.width-1;if((u==N.width||N.map[O]!=N.map[O+1])&&(b==0||N.map[O-1]!=N.map[O-1-N.width])){const P=N.map[O],W=R+P+v.nodeAt(P).nodeSize-1,H=document.createElement("div");H.className="column-resize-handle",m.push(fe.p.widget(W,H))}}return fe.EH.create(h.doc,m)}function A(h){const c=h.selection,m=G(h),p=m.node(-1),v=m.start(-1),N=Ce.get(p),R=c instanceof ne?N.rectBetween(c.$anchorCell.pos-v,c.$headCell.pos-v):N.findCell(m.pos-v);return ve(ve({},R),{tableStart:v,map:N,table:p})}function F(h,{map:c,tableStart:m,table:p},v){let N=v>0?-1:0;X(c,p,v+N)&&(N=v==0||v==c.width?null:0);for(let R=0;R<c.height;R++){const u=R*c.width+v;if(v>0&&v<c.width&&c.map[u-1]==c.map[u]){const b=c.map[u],O=p.nodeAt(b);h.setNodeMarkup(h.mapping.map(m+b),null,U(O.attrs,v-c.colCount(b))),R+=O.attrs.rowspan-1}else{const b=N==null?dt(p.type.schema).cell:p.nodeAt(c.map[u+N]).type,O=c.positionAt(R,v,p);h.insert(h.mapping.map(m+O),b.createAndFill())}}return h}function Q(h,c){if(!Ve(h))return!1;if(c){const m=A(h);c(F(h.tr,m,m.left))}return!0}function ge(h,c){if(!Ve(h))return!1;if(c){const m=A(h);c(F(h.tr,m,m.right))}return!0}function at(h,{map:c,table:m,tableStart:p},v){const N=h.mapping.maps.length;for(let R=0;R<c.height;){const u=R*c.width+v,b=c.map[u],O=m.nodeAt(b),P=O.attrs;if(v>0&&c.map[u-1]==b||v<c.width-1&&c.map[u+1]==b)h.setNodeMarkup(h.mapping.slice(N).map(p+b),null,Ne(P,v-c.colCount(b)));else{const W=h.mapping.slice(N).map(p+b);h.delete(W,W+O.nodeSize)}R+=P.rowspan}}function L(h,c){if(!Ve(h))return!1;if(c){const m=A(h),p=h.tr;if(m.left==0&&m.right==m.map.width)return!1;for(let v=m.right-1;at(p,m,v),v!=m.left;v--){const N=m.tableStart?p.doc.nodeAt(m.tableStart-1):p.doc;if(!N)throw RangeError("No table found");m.table=N,m.map=Ce.get(N)}c(p)}return!0}function B(h,c,m){var p;const v=dt(c.type.schema).header_cell;for(let N=0;N<h.width;N++)if(((p=c.nodeAt(h.map[N+m*h.width]))==null?void 0:p.type)!=v)return!1;return!0}function q(h,{map:c,tableStart:m,table:p},v){var N;let R=m;for(let O=0;O<v;O++)R+=p.child(O).nodeSize;const u=[];let b=v>0?-1:0;B(c,p,v+b)&&(b=v==0||v==c.height?null:0);for(let O=0,P=c.width*v;O<c.width;O++,P++)if(v>0&&v<c.height&&c.map[P]==c.map[P-c.width]){const W=c.map[P],H=p.nodeAt(W).attrs;h.setNodeMarkup(m+W,null,ve(ve({},H),{rowspan:H.rowspan+1})),O+=H.colspan-1}else{const W=b==null?dt(p.type.schema).cell:(N=p.nodeAt(c.map[P+b*c.width]))==null?void 0:N.type,H=W==null?void 0:W.createAndFill();H&&u.push(H)}return h.insert(R,dt(p.type.schema).row.create(null,u)),h}function le(h,c){if(!Ve(h))return!1;if(c){const m=A(h);c(q(h.tr,m,m.top))}return!0}function ae(h,c){if(!Ve(h))return!1;if(c){const m=A(h);c(q(h.tr,m,m.bottom))}return!0}function De(h,{map:c,table:m,tableStart:p},v){let N=0;for(let b=0;b<v;b++)N+=m.child(b).nodeSize;const R=N+m.child(v).nodeSize,u=h.mapping.maps.length;h.delete(N+p,R+p);for(let b=0,O=v*c.width;b<c.width;b++,O++){const P=c.map[O];if(v>0&&P==c.map[O-c.width]){const W=m.nodeAt(P).attrs;h.setNodeMarkup(h.mapping.slice(u).map(P+p),null,ve(ve({},W),{rowspan:W.rowspan-1})),b+=W.colspan-1}else if(v<c.width&&P==c.map[O+c.width]){const W=m.nodeAt(P),H=W.attrs,V=W.type.create(ve(ve({},H),{rowspan:W.attrs.rowspan-1}),W.content),Z=c.positionAt(v+1,b,m);h.insert(h.mapping.slice(u).map(p+Z),V),b+=H.colspan-1}}}function Be(h,c){if(!Ve(h))return!1;if(c){const m=A(h),p=h.tr;if(m.top==0&&m.bottom==m.map.height)return!1;for(let v=m.bottom-1;De(p,m,v),v!=m.top;v--){const N=m.tableStart?p.doc.nodeAt(m.tableStart-1):p.doc;if(!N)throw RangeError("No table found");m.table=N,m.map=Ce.get(m.table)}c(p)}return!0}function tt(h){const c=h.content;return c.childCount==1&&c.child(0).isTextblock&&c.child(0).childCount==0}function It({width:h,height:c,map:m},p){let v=p.top*h+p.left,N=v,R=(p.bottom-1)*h+p.left,u=v+(p.right-p.left-1);for(let b=p.top;b<p.bottom;b++){if(p.left>0&&m[N]==m[N-1]||p.right<h&&m[u]==m[u+1])return!0;N+=h,u+=h}for(let b=p.left;b<p.right;b++){if(p.top>0&&m[v]==m[v-h]||p.bottom<c&&m[R]==m[R+h])return!0;v++,R++}return!1}function qt(h,c){const m=h.selection;if(!(m instanceof ne)||m.$anchorCell.pos==m.$headCell.pos)return!1;const p=A(h),{map:v}=p;if(It(v,p))return!1;if(c){const N=h.tr,R={};let u=me.HY.empty,b,O;for(let P=p.top;P<p.bottom;P++)for(let W=p.left;W<p.right;W++){const H=v.map[P*v.width+W],V=p.table.nodeAt(H);if(!(R[H]||!V))if(R[H]=!0,b==null)b=H,O=V;else{tt(V)||(u=u.append(V.content));const Z=N.mapping.map(H+p.tableStart);N.delete(Z,Z+V.nodeSize)}}if(b==null||O==null)return!0;if(N.setNodeMarkup(b+p.tableStart,null,ve(ve({},U(O.attrs,O.attrs.colspan,p.right-p.left-O.attrs.colspan)),{rowspan:p.bottom-p.top})),u.size){const P=b+1+O.content.size,W=tt(O)?b+1:P;N.replaceWith(W+p.tableStart,P+p.tableStart,u)}N.setSelection(new ne(N.doc.resolve(b+p.tableStart))),c(N)}return!0}function Gt(h,c){const m=dt(h.schema);return K(({node:p})=>m[p.type.spec.tableRole])(h,c)}function K(h){return(c,m)=>{var p;const v=c.selection;let N,R;if(v instanceof ne){if(v.$anchorCell.pos!=v.$headCell.pos)return!1;N=v.$anchorCell.nodeAfter,R=v.$anchorCell.pos}else{if(N=Je(v.$from),!N)return!1;R=(p=Oe(v.$from))==null?void 0:p.pos}if(N==null||R==null||N.attrs.colspan==1&&N.attrs.rowspan==1)return!1;if(m){let u=N.attrs;const b=[],O=u.colwidth;u.rowspan>1&&(u=ve(ve({},u),{rowspan:1})),u.colspan>1&&(u=ve(ve({},u),{colspan:1}));const P=A(c),W=c.tr;for(let V=0;V<P.right-P.left;V++)b.push(O?ve(ve({},u),{colwidth:O&&O[V]?[O[V]]:null}):u);let H;for(let V=P.top;V<P.bottom;V++){let Z=P.map.positionAt(V,P.left,P.table);V==P.top&&(Z+=N.nodeSize);for(let pe=P.left,ue=0;pe<P.right;pe++,ue++)pe==P.left&&V==P.top||W.insert(H=W.mapping.map(Z+P.tableStart,1),h({node:N,row:V,col:pe}).createAndFill(b[ue]))}W.setNodeMarkup(R,h({node:N,row:P.top,col:P.left}),b[0]),v instanceof ne&&W.setSelection(new ne(W.doc.resolve(v.$anchorCell.pos),H?W.doc.resolve(H):void 0)),m(W)}return!0}}function se(h,c){return function(m,p){if(!Ve(m))return!1;const v=G(m);if(v.nodeAfter.attrs[h]===c)return!1;if(p){const N=m.tr;m.selection instanceof ne?m.selection.forEachCell((R,u)=>{R.attrs[h]!==c&&N.setNodeMarkup(u,null,ve(ve({},R.attrs),{[h]:c}))}):N.setNodeMarkup(v.pos,null,ve(ve({},v.nodeAfter.attrs),{[h]:c})),p(N)}return!0}}function Te(h){return function(c,m){if(!Ve(c))return!1;if(m){const p=dt(c.schema),v=A(c),N=c.tr,R=v.map.cellsInRect(h=="column"?{left:v.left,top:0,right:v.right,bottom:v.map.height}:h=="row"?{left:0,top:v.top,right:v.map.width,bottom:v.bottom}:v),u=R.map(b=>v.table.nodeAt(b));for(let b=0;b<R.length;b++)u[b].type==p.header_cell&&N.setNodeMarkup(v.tableStart+R[b],p.cell,u[b].attrs);if(N.steps.length==0)for(let b=0;b<R.length;b++)N.setNodeMarkup(v.tableStart+R[b],p.header_cell,u[b].attrs);m(N)}return!0}}function pt(h,c,m){const p=c.map.cellsInRect({left:0,top:0,right:h=="row"?c.map.width:1,bottom:h=="column"?c.map.height:1});for(let v=0;v<p.length;v++){const N=c.table.nodeAt(p[v]);if(N&&N.type!==m.header_cell)return!1}return!0}function vt(h,c){return c=c||{useDeprecatedLogic:!1},c.useDeprecatedLogic?Te(h):function(m,p){if(!Ve(m))return!1;if(p){const v=dt(m.schema),N=A(m),R=m.tr,u=pt("row",N,v),b=pt("column",N,v),P=(h==="column"?u:h==="row"?b:!1)?1:0,W=h=="column"?{left:0,top:P,right:1,bottom:N.map.height}:h=="row"?{left:P,top:0,right:N.map.width,bottom:1}:N,H=h=="column"?b?v.cell:v.header_cell:h=="row"?u?v.cell:v.header_cell:v.cell;N.map.cellsInRect(W).forEach(V=>{const Z=V+N.tableStart,pe=R.doc.nodeAt(Z);pe&&R.setNodeMarkup(Z,H,pe.attrs)}),p(R)}return!0}}var zt=vt("row",{useDeprecatedLogic:!0}),nt=vt("column",{useDeprecatedLogic:!0}),ye=vt("cell",{useDeprecatedLogic:!0});function Rt(h,c){if(c<0){const m=h.nodeBefore;if(m)return h.pos-m.nodeSize;for(let p=h.index(-1)-1,v=h.before();p>=0;p--){const N=h.node(-1).child(p),R=N.lastChild;if(R)return v-1-R.nodeSize;v-=N.nodeSize}}else{if(h.index()<h.parent.childCount-1)return h.pos+h.nodeAfter.nodeSize;const m=h.node(-1);for(let p=h.indexAfter(-1),v=h.after();p<m.childCount;p++){const N=m.child(p);if(N.childCount)return v+1;v+=N.nodeSize}}return null}function hn(h){return function(c,m){if(!Ve(c))return!1;const p=Rt(G(c),h);if(p==null)return!1;if(m){const v=c.doc.resolve(p);m(c.tr.setSelection(Se.Bs.between(v,yt(v))).scrollIntoView())}return!0}}function yn(h,c){const m=h.selection.$anchor;for(let p=m.depth;p>0;p--)if(m.node(p).type.spec.tableRole=="table")return c&&c(h.tr.delete(m.before(p),m.after(p)).scrollIntoView()),!0;return!1}function Jn({allowTableNodeSelection:h=!1}={}){return new Se.Sy({key:Me,state:{init(){return null},apply(c,m){const p=c.getMeta(Me);if(p!=null)return p==-1?null:p;if(m==null||!c.docChanged)return m;const{deleted:v,pos:N}=c.mapping.mapResult(m);return v?null:N}},props:{decorations:We,handleDOMEvents:{mousedown:Yn},createSelectionBetween(c){return Me.getState(c.state)!=null?c.state.selection:null},handleTripleClick:wn,handleKeyDown:dn,handlePaste:Vn},appendTransaction(c,m,p){return Lt(p,En(p,m),h)}})}function Wn(h,c,m,p,v,N){let R=0,u=!0,b=c.firstChild;const O=h.firstChild;for(let P=0,W=0;P<O.childCount;P+=1){const{colspan:H,colwidth:V}=O.child(P).attrs;for(let Z=0;Z<H;Z+=1,W+=1){const pe=v===W?N:V&&V[Z],ue=pe?`${pe}px`:"";R+=pe||p,pe||(u=!1),b?(b.style.width!==ue&&(b.style.width=ue),b=b.nextSibling):c.appendChild(document.createElement("col")).style.width=ue}}for(;b;){const P=b.nextSibling;b.parentNode.removeChild(b),b=P}u?(m.style.width=`${R}px`,m.style.minWidth=""):(m.style.width="",m.style.minWidth=`${R}px`)}class In{constructor(c,m){this.node=c,this.cellMinWidth=m,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Wn(c,this.colgroup,this.table,m),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(c){return c.type!==this.node.type?!1:(this.node=c,Wn(c,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(c){return c.type==="attributes"&&(c.target===this.table||this.colgroup.contains(c.target))}}function sr(h,c){return c?h.createChecked(null,c):h.createAndFill()}function Qn(h){if(h.cached.tableNodeTypes)return h.cached.tableNodeTypes;const c={};return Object.keys(h.nodes).forEach(m=>{const p=h.nodes[m];p.spec.tableRole&&(c[p.spec.tableRole]=p)}),h.cached.tableNodeTypes=c,c}function qn(h,c,m,p,v){const N=Qn(h),R=[],u=[];for(let O=0;O<m;O+=1){const P=sr(N.cell,v);if(P&&u.push(P),p){const W=sr(N.header_cell,v);W&&R.push(W)}}const b=[];for(let O=0;O<c;O+=1)b.push(N.row.createChecked(null,p&&O===0?R:u));return N.table.createChecked(null,b)}function ar(h){return h instanceof ne}const ir=({editor:h})=>{const{selection:c}=h.state;if(!ar(c))return!1;let m=0;const p=(0,x.qv)(c.ranges[0].$from,N=>N.type.name==="table");return p==null||p.node.descendants(N=>{if(N.type.name==="table")return!1;["tableCell","tableHeader"].includes(N.type.name)&&(m+=1)}),m===c.ranges.length?(h.commands.deleteTable(),!0):!1},rr=x.NB.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:In,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({HTMLAttributes:h}){return["table",(0,x.P1)(this.options.HTMLAttributes,h),["tbody",0]]},addCommands(){return{insertTable:({rows:h=3,cols:c=3,withHeaderRow:m=!0}={})=>({tr:p,dispatch:v,editor:N})=>{const R=qn(N.schema,h,c,m);if(v){const u=p.selection.anchor+1;p.replaceSelectionWith(R).scrollIntoView().setSelection(Se.Bs.near(p.doc.resolve(u)))}return!0},addColumnBefore:()=>({state:h,dispatch:c})=>Q(h,c),addColumnAfter:()=>({state:h,dispatch:c})=>ge(h,c),deleteColumn:()=>({state:h,dispatch:c})=>L(h,c),addRowBefore:()=>({state:h,dispatch:c})=>le(h,c),addRowAfter:()=>({state:h,dispatch:c})=>ae(h,c),deleteRow:()=>({state:h,dispatch:c})=>Be(h,c),deleteTable:()=>({state:h,dispatch:c})=>yn(h,c),mergeCells:()=>({state:h,dispatch:c})=>qt(h,c),splitCell:()=>({state:h,dispatch:c})=>Gt(h,c),toggleHeaderColumn:()=>({state:h,dispatch:c})=>vt("column")(h,c),toggleHeaderRow:()=>({state:h,dispatch:c})=>vt("row")(h,c),toggleHeaderCell:()=>({state:h,dispatch:c})=>ye(h,c),mergeOrSplit:()=>({state:h,dispatch:c})=>qt(h,c)?!0:Gt(h,c),setCellAttribute:(h,c)=>({state:m,dispatch:p})=>se(h,c)(m,p),goToNextCell:()=>({state:h,dispatch:c})=>hn(1)(h,c),goToPreviousCell:()=>({state:h,dispatch:c})=>hn(-1)(h,c),fixTables:()=>({state:h,dispatch:c})=>(c&&En(h),!0),setCellSelection:h=>({tr:c,dispatch:m})=>{if(m){const p=ne.create(c.doc,h.anchorCell,h.headCell);c.setSelection(p)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:ir,"Mod-Backspace":ir,Delete:ir,"Mod-Delete":ir}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[oe({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Jn({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(h){const c={name:h.name,options:h.options,storage:h.storage};return{tableRole:(0,x.nU)((0,x.Nl)(h,"tableRole",c))}}})},58351:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.hj.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:me=>me.style.textAlign||this.options.defaultAlignment,renderHTML:me=>me.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${me.textAlign}`}}}}]},addCommands(){return{setTextAlign:me=>({commands:fe})=>this.options.alignments.includes(me)?this.options.types.every(de=>fe.updateAttributes(de,{textAlign:me})):!1,unsetTextAlign:()=>({commands:me})=>this.options.types.every(fe=>me.resetAttributes(fe,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}})},62389:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:me=>me.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:me}){return["span",(0,x.P1)(this.options.HTMLAttributes,me),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:me,commands:fe})=>{const de=(0,x.Jo)(me,this.type);return Object.entries(de).some(([,$e])=>!!$e)?!0:fe.unsetMark(this.name)}}}})},62562:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Se}});var x=Re(57154);const Se=x.vc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:me=>me.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:me}){return["u",(0,x.P1)(this.options.HTMLAttributes,me),0]},addCommands(){return{setUnderline:()=>({commands:me})=>me.setMark(this.name),toggleUnderline:()=>({commands:me})=>me.toggleMark(this.name),unsetUnderline:()=>({commands:me})=>me.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}})},16159:function(cn,kt,Re){"use strict";Re.d(kt,{kg:function(){return Ue},ms:function(){return rt},T5:function(){return ft},fW:function(){return Me},jE:function(){return Je}});var x=Re(22374),Se=Re(57154),me=Re(55653);const fe=Ve=>{const[G,xe]=useState(null);return useEffect(()=>{if(!G||Ve.editor.isDestroyed)return;const{pluginKey:Ke="bubbleMenu",editor:yt,tippyOptions:et={},updateDelay:Ut,shouldShow:Nt=null}=Ve,Ft=BubbleMenuPlugin({updateDelay:Ut,editor:yt,element:G,pluginKey:Ke,shouldShow:Nt,tippyOptions:et});return yt.registerPlugin(Ft),()=>yt.unregisterPlugin(Ke)},[Ve.editor,G]),React.createElement("div",{ref:xe,className:Ve.className,style:{visibility:"hidden"}},Ve.children)};class de extends Se.ML{constructor(){super(...arguments);this.contentComponent=null}}const qe=({renderers:Ve})=>x.createElement(x.Fragment,null,Object.entries(Ve).map(([G,xe])=>me.createPortal(xe.reactElement,xe.element,G)));class $e extends x.Component{constructor(G){super(G);this.editorContentRef=x.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:G}=this.props;if(G&&G.options.element){if(G.contentComponent)return;const xe=this.editorContentRef.current;xe.append(...G.options.element.childNodes),G.setOptions({element:xe}),G.contentComponent=this,G.createNodeViews(),this.initialized=!0}}maybeFlushSync(G){this.initialized?(0,me.flushSync)(G):G()}setRenderer(G,xe){this.maybeFlushSync(()=>{this.setState(({renderers:Ke})=>({renderers:ve(ve({},Ke),{[G]:xe})}))})}removeRenderer(G){this.maybeFlushSync(()=>{this.setState(({renderers:xe})=>{const Ke=ve({},xe);return delete Ke[G],{renderers:Ke}})})}componentWillUnmount(){const{editor:G}=this.props;if(!G||(this.initialized=!1,G.isDestroyed||G.view.setProps({nodeViews:{}}),G.contentComponent=null,!G.options.element.firstChild))return;const xe=document.createElement("div");xe.append(...G.options.element.childNodes),G.setOptions({element:xe})}render(){const Ke=this.props,{editor:G}=Ke,xe=vi(Ke,["editor"]);return x.createElement(x.Fragment,null,x.createElement("div",ve({ref:this.editorContentRef},xe)),x.createElement(qe,{renderers:this.state.renderers}))}}const Ue=x.memo($e),Ce=Ve=>{const[G,xe]=useState(null);return useEffect(()=>{if(!G||Ve.editor.isDestroyed)return;const{pluginKey:Ke="floatingMenu",editor:yt,tippyOptions:et={},shouldShow:Ut=null}=Ve,Nt=FloatingMenuPlugin({pluginKey:Ke,editor:yt,element:G,tippyOptions:et,shouldShow:Ut});return yt.registerPlugin(Nt),()=>yt.unregisterPlugin(Ke)},[Ve.editor,G]),React.createElement("div",{ref:xe,className:Ve.className,style:{visibility:"hidden"}},Ve.children)},Pe=(0,x.createContext)({onDragStart:void 0}),Ye=()=>(0,x.useContext)(Pe),rt=Ve=>{const G=Ve.as||"div",{nodeViewContentRef:xe}=Ye();return x.createElement(G,ve(ve({},Ve),{ref:xe,"data-node-view-content":"",style:ve({whiteSpace:"pre-wrap"},Ve.style)}))},ft=x.forwardRef((Ve,G)=>{const{onDragStart:xe}=Ye(),Ke=Ve.as||"div";return x.createElement(Ke,ve(ve({},Ve),{ref:G,"data-node-view-wrapper":"",onDragStart:xe,style:ve({whiteSpace:"normal"},Ve.style)}))});function it(Ve){return!!(typeof Ve=="function"&&Ve.prototype&&Ve.prototype.isReactComponent)}function ot(Ve){var G;return typeof Ve=="object"&&((G=Ve.$$typeof)===null||G===void 0?void 0:G.toString())==="Symbol(react.forward_ref)"}class bt{constructor(G,{editor:xe,props:Ke={},as:yt="div",className:et="",attrs:Ut}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=G,this.editor=xe,this.props=Ke,this.element=document.createElement(yt),this.element.classList.add("react-renderer"),et&&this.element.classList.add(...et.split(" ")),Ut&&Object.keys(Ut).forEach(Nt=>{this.element.setAttribute(Nt,Ut[Nt])}),this.render()}render(){var G,xe;const Ke=this.component,yt=this.props;(it(Ke)||ot(Ke))&&(yt.ref=et=>{this.ref=et}),this.reactElement=x.createElement(Ke,ve({},yt)),(xe=(G=this.editor)===null||G===void 0?void 0:G.contentComponent)===null||xe===void 0||xe.setRenderer(this.id,this)}updateProps(G={}){this.props=ve(ve({},this.props),G),this.render()}destroy(){var G,xe;(xe=(G=this.editor)===null||G===void 0?void 0:G.contentComponent)===null||xe===void 0||xe.removeRenderer(this.id)}}class dt extends Se.DK{mount(){const G={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(et={})=>this.updateAttributes(et),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const et=Ut=>Ut.charAt(0).toUpperCase()+Ut.substring(1);this.component.displayName=et(this.extension.name)}const xe=et=>{const Ut=this.component,Nt=this.onDragStart.bind(this),Ft=Ne=>{Ne&&this.contentDOMElement&&Ne.firstChild!==this.contentDOMElement&&Ne.appendChild(this.contentDOMElement)};return x.createElement(x.Fragment,null,x.createElement(Pe.Provider,{value:{onDragStart:Nt,nodeViewContentRef:Ft}},x.createElement(Ut,ve({},et))))};xe.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let Ke=this.node.isInline?"span":"div";this.options.as&&(Ke=this.options.as);const{className:yt=""}=this.options;this.renderer=new bt(xe,{editor:this.editor,props:G,as:Ke,className:`node-${this.node.type.name} ${yt}`.trim(),attrs:this.options.attrs})}get dom(){var G;if(this.renderer.element.firstElementChild&&!((G=this.renderer.element.firstElementChild)===null||G===void 0?void 0:G.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(G,xe){const Ke=yt=>{this.renderer.updateProps(yt)};if(G.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const yt=this.node,et=this.decorations;return this.node=G,this.decorations=xe,this.options.update({oldNode:yt,oldDecorations:et,newNode:G,newDecorations:xe,updateProps:()=>Ke({node:G,decorations:xe})})}return G===this.node&&this.decorations===xe||(this.node=G,this.decorations=xe,Ke({node:G,decorations:xe})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function Me(Ve,G){return xe=>xe.editor.contentComponent?new dt(Ve,xe,G):{}}function Oe(){const[,Ve]=(0,x.useState)(0);return()=>Ve(G=>G+1)}const Je=(Ve={},G=[])=>{const[xe,Ke]=(0,x.useState)(null),yt=Oe(),{onBeforeCreate:et,onBlur:Ut,onCreate:Nt,onDestroy:Ft,onFocus:Ne,onSelectionUpdate:U,onTransaction:X,onUpdate:ne}=Ve,ke=(0,x.useRef)(et),We=(0,x.useRef)(Ut),st=(0,x.useRef)(Nt),Bt=(0,x.useRef)(Ft),Lt=(0,x.useRef)(Ne),Ct=(0,x.useRef)(U),Tt=(0,x.useRef)(X),En=(0,x.useRef)(ne);return(0,x.useEffect)(()=>{!xe||(et&&(xe.off("beforeCreate",ke.current),xe.on("beforeCreate",et),ke.current=et),Ut&&(xe.off("blur",We.current),xe.on("blur",Ut),We.current=Ut),Nt&&(xe.off("create",st.current),xe.on("create",Nt),st.current=Nt),Ft&&(xe.off("destroy",Bt.current),xe.on("destroy",Ft),Bt.current=Ft),Ne&&(xe.off("focus",Lt.current),xe.on("focus",Ne),Lt.current=Ne),U&&(xe.off("selectionUpdate",Ct.current),xe.on("selectionUpdate",U),Ct.current=U),X&&(xe.off("transaction",Tt.current),xe.on("transaction",X),Tt.current=X),ne&&(xe.off("update",En.current),xe.on("update",ne),En.current=ne))},[et,Ut,Nt,Ft,Ne,U,X,ne,xe]),(0,x.useEffect)(()=>{let On=!0;const Sn=new de(Ve);return Ke(Sn),Sn.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{On&&yt()})})}),()=>{Sn.destroy(),On=!1}},G),xe}},92412:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return at}});var x=Re(57154);const Se=/^\s*>\s$/,me=x.NB.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:L}){return["blockquote",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setBlockquote:()=>({commands:L})=>L.wrapIn(this.name),toggleBlockquote:()=>({commands:L})=>L.toggleWrap(this.name),unsetBlockquote:()=>({commands:L})=>L.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,x.S0)({find:Se,type:this.type})]}}),fe=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,de=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,qe=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,$e=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Ue=x.vc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:L=>L.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:L=>/^(bold(er)?|[5-9]\d{2,})$/.test(L)&&null}]},renderHTML({HTMLAttributes:L}){return["strong",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setBold:()=>({commands:L})=>L.setMark(this.name),toggleBold:()=>({commands:L})=>L.toggleMark(this.name),unsetBold:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,x.Cf)({find:fe,type:this.type}),(0,x.Cf)({find:qe,type:this.type})]},addPasteRules(){return[(0,x.K9)({find:de,type:this.type}),(0,x.K9)({find:$e,type:this.type})]}}),Ce=x.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:L}){return["li",(0,x.P1)(this.options.HTMLAttributes,L),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Pe=x.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:L=>L.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:L}){return["span",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:L,commands:B})=>{const q=(0,x.Jo)(L,this.type);return Object.entries(q).some(([,ae])=>!!ae)?!0:B.unsetMark(this.name)}}}}),Ye=/^\s*([-+*])\s$/,rt=x.NB.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:L}){return["ul",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{toggleBulletList:()=>({commands:L,chain:B})=>this.options.keepAttributes?B().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ce.name,this.editor.getAttributes(Pe.name)).run():L.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let L=(0,x.S0)({find:Ye,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(L=(0,x.S0)({find:Ye,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Pe.name),editor:this.editor})),[L]}}),ft=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,it=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,ot=x.vc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:L}){return["code",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setCode:()=>({commands:L})=>L.setMark(this.name),toggleCode:()=>({commands:L})=>L.toggleMark(this.name),unsetCode:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,x.Cf)({find:ft,type:this.type})]},addPasteRules(){return[(0,x.K9)({find:it,type:this.type})]}});var bt=Re(67369);const dt=x.NB.create({name:"doc",topNode:!0,content:"block+"});var Me=Re(66961),Oe=Re(12112);function Je(L={}){return new Me.Sy({view(B){return new Ve(B,L)}})}class Ve{constructor(B,q){var le;this.editorView=B,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(le=q.width)!==null&&le!==void 0?le:1,this.color=q.color===!1?void 0:q.color||"black",this.class=q.class,this.handlers=["dragover","dragend","drop","dragleave"].map(ae=>{let De=Be=>{this[ae](Be)};return B.dom.addEventListener(ae,De),{name:ae,handler:De}})}destroy(){this.handlers.forEach(({name:B,handler:q})=>this.editorView.dom.removeEventListener(B,q))}update(B,q){this.cursorPos!=null&&q.doc!=B.state.doc&&(this.cursorPos>B.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(B){B!=this.cursorPos&&(this.cursorPos=B,B==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let B=this.editorView.state.doc.resolve(this.cursorPos),q=!B.parent.inlineContent,le;if(q){let tt=B.nodeBefore,It=B.nodeAfter;if(tt||It){let qt=this.editorView.nodeDOM(this.cursorPos-(tt?tt.nodeSize:0));if(qt){let Gt=qt.getBoundingClientRect(),K=tt?Gt.bottom:Gt.top;tt&&It&&(K=(K+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),le={left:Gt.left,right:Gt.right,top:K-this.width/2,bottom:K+this.width/2}}}}if(!le){let tt=this.editorView.coordsAtPos(this.cursorPos);le={left:tt.left-this.width/2,right:tt.left+this.width/2,top:tt.top,bottom:tt.bottom}}let ae=this.editorView.dom.offsetParent;this.element||(this.element=ae.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",q),this.element.classList.toggle("prosemirror-dropcursor-inline",!q);let De,Be;if(!ae||ae==document.body&&getComputedStyle(ae).position=="static")De=-pageXOffset,Be=-pageYOffset;else{let tt=ae.getBoundingClientRect();De=tt.left-ae.scrollLeft,Be=tt.top-ae.scrollTop}this.element.style.left=le.left-De+"px",this.element.style.top=le.top-Be+"px",this.element.style.width=le.right-le.left+"px",this.element.style.height=le.bottom-le.top+"px"}scheduleRemoval(B){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),B)}dragover(B){if(!this.editorView.editable)return;let q=this.editorView.posAtCoords({left:B.clientX,top:B.clientY}),le=q&&q.inside>=0&&this.editorView.state.doc.nodeAt(q.inside),ae=le&&le.type.spec.disableDropCursor,De=typeof ae=="function"?ae(this.editorView,q,B):ae;if(q&&!De){let Be=q.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let tt=(0,Oe.nj)(this.editorView.state.doc,Be,this.editorView.dragging.slice);tt!=null&&(Be=tt)}this.setCursor(Be),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(B){(B.target==this.editorView.dom||!this.editorView.dom.contains(B.relatedTarget))&&this.setCursor(null)}}const G=x.hj.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Je(this.options)]}});var xe=Re(49034),Ke=Re(72883),yt=Re(66237);class et extends Me.Y1{constructor(B){super(B,B)}map(B,q){let le=B.resolve(q.map(this.head));return et.valid(le)?new et(le):Me.Y1.near(le)}content(){return Ke.p2.empty}eq(B){return B instanceof et&&B.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(B,q){if(typeof q.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new et(B.resolve(q.pos))}getBookmark(){return new Ut(this.anchor)}static valid(B){let q=B.parent;if(q.isTextblock||!Nt(B)||!Ft(B))return!1;let le=q.type.spec.allowGapCursor;if(le!=null)return le;let ae=q.contentMatchAt(B.index()).defaultType;return ae&&ae.isTextblock}static findGapCursorFrom(B,q,le=!1){e:for(;;){if(!le&&et.valid(B))return B;let ae=B.pos,De=null;for(let Be=B.depth;;Be--){let tt=B.node(Be);if(q>0?B.indexAfter(Be)<tt.childCount:B.index(Be)>0){De=tt.child(q>0?B.indexAfter(Be):B.index(Be)-1);break}else if(Be==0)return null;ae+=q;let It=B.doc.resolve(ae);if(et.valid(It))return It}for(;;){let Be=q>0?De.firstChild:De.lastChild;if(!Be){if(De.isAtom&&!De.isText&&!Me.qv.isSelectable(De)){B=B.doc.resolve(ae+De.nodeSize*q),le=!1;continue e}break}De=Be,ae+=q;let tt=B.doc.resolve(ae);if(et.valid(tt))return tt}return null}}}et.prototype.visible=!1,et.findFrom=et.findGapCursorFrom,Me.Y1.jsonID("gapcursor",et);class Ut{constructor(B){this.pos=B}map(B){return new Ut(B.map(this.pos))}resolve(B){let q=B.resolve(this.pos);return et.valid(q)?new et(q):Me.Y1.near(q)}}function Nt(L){for(let B=L.depth;B>=0;B--){let q=L.index(B),le=L.node(B);if(q==0){if(le.type.spec.isolating)return!0;continue}for(let ae=le.child(q-1);;ae=ae.lastChild){if(ae.childCount==0&&!ae.inlineContent||ae.isAtom||ae.type.spec.isolating)return!0;if(ae.inlineContent)return!1}}return!0}function Ft(L){for(let B=L.depth;B>=0;B--){let q=L.indexAfter(B),le=L.node(B);if(q==le.childCount){if(le.type.spec.isolating)return!0;continue}for(let ae=le.child(q);;ae=ae.firstChild){if(ae.childCount==0&&!ae.inlineContent||ae.isAtom||ae.type.spec.isolating)return!0;if(ae.inlineContent)return!1}}return!0}function Ne(){return new Me.Sy({props:{decorations:We,createSelectionBetween(L,B,q){return B.pos==q.pos&&et.valid(q)?new et(q):null},handleClick:ne,handleKeyDown:U,handleDOMEvents:{beforeinput:ke}}})}const U=(0,xe.$)({ArrowLeft:X("horiz",-1),ArrowRight:X("horiz",1),ArrowUp:X("vert",-1),ArrowDown:X("vert",1)});function X(L,B){const q=L=="vert"?B>0?"down":"up":B>0?"right":"left";return function(le,ae,De){let Be=le.selection,tt=B>0?Be.$to:Be.$from,It=Be.empty;if(Be instanceof Me.Bs){if(!De.endOfTextblock(q)||tt.depth==0)return!1;It=!1,tt=le.doc.resolve(B>0?tt.after():tt.before())}let qt=et.findGapCursorFrom(tt,B,It);return qt?(ae&&ae(le.tr.setSelection(new et(qt))),!0):!1}}function ne(L,B,q){if(!L||!L.editable)return!1;let le=L.state.doc.resolve(B);if(!et.valid(le))return!1;let ae=L.posAtCoords({left:q.clientX,top:q.clientY});return ae&&ae.inside>-1&&Me.qv.isSelectable(L.state.doc.nodeAt(ae.inside))?!1:(L.dispatch(L.state.tr.setSelection(new et(le))),!0)}function ke(L,B){if(B.inputType!="insertCompositionText"||!(L.state.selection instanceof et))return!1;let{$from:q}=L.state.selection,le=q.parent.contentMatchAt(q.index()).findWrapping(L.state.schema.nodes.text);if(!le)return!1;let ae=Ke.HY.empty;for(let Be=le.length-1;Be>=0;Be--)ae=Ke.HY.from(le[Be].createAndFill(null,ae));let De=L.state.tr.replace(q.pos,q.pos,new Ke.p2(ae,0,0));return De.setSelection(Me.Bs.near(De.doc.resolve(q.pos+1))),L.dispatch(De),!1}function We(L){if(!(L.selection instanceof et))return null;let B=document.createElement("div");return B.className="ProseMirror-gapcursor",yt.EH.create(L.doc,[yt.p.widget(L.selection.head,B,{key:"gapcursor"})])}const st=x.hj.create({name:"gapCursor",addProseMirrorPlugins(){return[Ne()]},extendNodeSchema(L){var B;const q={name:L.name,options:L.options,storage:L.storage};return{allowGapCursor:(B=(0,x.nU)((0,x.Nl)(L,"allowGapCursor",q)))!==null&&B!==void 0?B:null}}}),Bt=x.NB.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:L}){return["br",(0,x.P1)(this.options.HTMLAttributes,L)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:L,chain:B,state:q,editor:le})=>L.first([()=>L.exitCode(),()=>L.command(()=>{const{selection:ae,storedMarks:De}=q;if(ae.$from.parent.type.spec.isolating)return!1;const{keepMarks:Be}=this.options,{splittableMarks:tt}=le.extensionManager,It=De||ae.$to.parentOffset&&ae.$from.marks();return B().insertContent({type:this.name}).command(({tr:qt,dispatch:Gt})=>{if(Gt&&It&&Be){const K=It.filter(se=>tt.includes(se.type.name));qt.ensureMarks(K)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Lt=x.NB.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(L=>({tag:`h${L}`,attrs:{level:L}}))},renderHTML({node:L,HTMLAttributes:B}){return[`h${this.options.levels.includes(L.attrs.level)?L.attrs.level:this.options.levels[0]}`,(0,x.P1)(this.options.HTMLAttributes,B),0]},addCommands(){return{setHeading:L=>({commands:B})=>this.options.levels.includes(L.level)?B.setNode(this.name,L):!1,toggleHeading:L=>({commands:B})=>this.options.levels.includes(L.level)?B.toggleNode(this.name,"paragraph",L):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((L,B)=>ve(ve({},L),{[`Mod-Alt-${B}`]:()=>this.editor.commands.toggleHeading({level:B})}),{})},addInputRules(){return this.options.levels.map(L=>(0,x.zK)({find:new RegExp(`^(#{1,${L}})\\s$`),type:this.type,getAttributes:{level:L}}))}});var Ct=200,Tt=function(){};Tt.prototype.append=function(B){return B.length?(B=Tt.from(B),!this.length&&B||B.length<Ct&&this.leafAppend(B)||this.length<Ct&&B.leafPrepend(this)||this.appendInner(B)):this},Tt.prototype.prepend=function(B){return B.length?Tt.from(B).append(this):this},Tt.prototype.appendInner=function(B){return new On(this,B)},Tt.prototype.slice=function(B,q){return B===void 0&&(B=0),q===void 0&&(q=this.length),B>=q?Tt.empty:this.sliceInner(Math.max(0,B),Math.min(this.length,q))},Tt.prototype.get=function(B){if(!(B<0||B>=this.length))return this.getInner(B)},Tt.prototype.forEach=function(B,q,le){q===void 0&&(q=0),le===void 0&&(le=this.length),q<=le?this.forEachInner(B,q,le,0):this.forEachInvertedInner(B,q,le,0)},Tt.prototype.map=function(B,q,le){q===void 0&&(q=0),le===void 0&&(le=this.length);var ae=[];return this.forEach(function(De,Be){return ae.push(B(De,Be))},q,le),ae},Tt.from=function(B){return B instanceof Tt?B:B&&B.length?new En(B):Tt.empty};var En=function(L){function B(le){L.call(this),this.values=le}L&&(B.__proto__=L),B.prototype=Object.create(L&&L.prototype),B.prototype.constructor=B;var q={length:{configurable:!0},depth:{configurable:!0}};return B.prototype.flatten=function(){return this.values},B.prototype.sliceInner=function(ae,De){return ae==0&&De==this.length?this:new B(this.values.slice(ae,De))},B.prototype.getInner=function(ae){return this.values[ae]},B.prototype.forEachInner=function(ae,De,Be,tt){for(var It=De;It<Be;It++)if(ae(this.values[It],tt+It)===!1)return!1},B.prototype.forEachInvertedInner=function(ae,De,Be,tt){for(var It=De-1;It>=Be;It--)if(ae(this.values[It],tt+It)===!1)return!1},B.prototype.leafAppend=function(ae){if(this.length+ae.length<=Ct)return new B(this.values.concat(ae.flatten()))},B.prototype.leafPrepend=function(ae){if(this.length+ae.length<=Ct)return new B(ae.flatten().concat(this.values))},q.length.get=function(){return this.values.length},q.depth.get=function(){return 0},Object.defineProperties(B.prototype,q),B}(Tt);Tt.empty=new En([]);var On=function(L){function B(q,le){L.call(this),this.left=q,this.right=le,this.length=q.length+le.length,this.depth=Math.max(q.depth,le.depth)+1}return L&&(B.__proto__=L),B.prototype=Object.create(L&&L.prototype),B.prototype.constructor=B,B.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},B.prototype.getInner=function(le){return le<this.left.length?this.left.get(le):this.right.get(le-this.left.length)},B.prototype.forEachInner=function(le,ae,De,Be){var tt=this.left.length;if(ae<tt&&this.left.forEachInner(le,ae,Math.min(De,tt),Be)===!1||De>tt&&this.right.forEachInner(le,Math.max(ae-tt,0),Math.min(this.length,De)-tt,Be+tt)===!1)return!1},B.prototype.forEachInvertedInner=function(le,ae,De,Be){var tt=this.left.length;if(ae>tt&&this.right.forEachInvertedInner(le,ae-tt,Math.max(De,tt)-tt,Be+tt)===!1||De<tt&&this.left.forEachInvertedInner(le,Math.min(ae,tt),De,Be)===!1)return!1},B.prototype.sliceInner=function(le,ae){if(le==0&&ae==this.length)return this;var De=this.left.length;return ae<=De?this.left.slice(le,ae):le>=De?this.right.slice(le-De,ae-De):this.left.slice(le,De).append(this.right.slice(0,ae-De))},B.prototype.leafAppend=function(le){var ae=this.right.leafAppend(le);if(ae)return new B(this.left,ae)},B.prototype.leafPrepend=function(le){var ae=this.left.leafPrepend(le);if(ae)return new B(ae,this.right)},B.prototype.appendInner=function(le){return this.left.depth>=Math.max(this.right.depth,le.depth)+1?new B(this.left,new B(this.right,le)):new B(this,le)},B}(Tt),Sn=Tt;const Nn=500;class tn{constructor(B,q){this.items=B,this.eventCount=q}popEvent(B,q){if(this.eventCount==0)return null;let le=this.items.length;for(;;le--)if(this.items.get(le-1).selection){--le;break}let ae,De;q&&(ae=this.remapping(le,this.items.length),De=ae.maps.length);let Be=B.tr,tt,It,qt=[],Gt=[];return this.items.forEach((K,se)=>{if(!K.step){ae||(ae=this.remapping(le,se+1),De=ae.maps.length),De--,Gt.push(K);return}if(ae){Gt.push(new bn(K.map));let Te=K.step.map(ae.slice(De)),pt;Te&&Be.maybeStep(Te).doc&&(pt=Be.mapping.maps[Be.mapping.maps.length-1],qt.push(new bn(pt,void 0,void 0,qt.length+Gt.length))),De--,pt&&ae.appendMap(pt,De)}else Be.maybeStep(K.step);if(K.selection)return tt=ae?K.selection.map(ae.slice(De)):K.selection,It=new tn(this.items.slice(0,le).append(Gt.reverse().concat(qt)),this.eventCount-1),!1},this.items.length,0),{remaining:It,transform:Be,selection:tt}}addTransform(B,q,le,ae){let De=[],Be=this.eventCount,tt=this.items,It=!ae&&tt.length?tt.get(tt.length-1):null;for(let Gt=0;Gt<B.steps.length;Gt++){let K=B.steps[Gt].invert(B.docs[Gt]),se=new bn(B.mapping.maps[Gt],K,q),Te;(Te=It&&It.merge(se))&&(se=Te,Gt?De.pop():tt=tt.slice(0,tt.length-1)),De.push(se),q&&(Be++,q=void 0),ae||(It=se)}let qt=Be-le.depth;return qt>Fn&&(tt=Tn(tt,qt),Be-=qt),new tn(tt.append(De),Be)}remapping(B,q){let le=new Oe.vs;return this.items.forEach((ae,De)=>{let Be=ae.mirrorOffset!=null&&De-ae.mirrorOffset>=B?le.maps.length-ae.mirrorOffset:void 0;le.appendMap(ae.map,Be)},B,q),le}addMaps(B){return this.eventCount==0?this:new tn(this.items.append(B.map(q=>new bn(q))),this.eventCount)}rebased(B,q){if(!this.eventCount)return this;let le=[],ae=Math.max(0,this.items.length-q),De=B.mapping,Be=B.steps.length,tt=this.eventCount;this.items.forEach(se=>{se.selection&&tt--},ae);let It=q;this.items.forEach(se=>{let Te=De.getMirror(--It);if(Te==null)return;Be=Math.min(Be,Te);let pt=De.maps[Te];if(se.step){let vt=B.steps[Te].invert(B.docs[Te]),zt=se.selection&&se.selection.map(De.slice(It+1,Te));zt&&tt++,le.push(new bn(pt,vt,zt))}else le.push(new bn(pt))},ae);let qt=[];for(let se=q;se<Be;se++)qt.push(new bn(De.maps[se]));let Gt=this.items.slice(0,ae).append(qt).append(le),K=new tn(Gt,tt);return K.emptyItemCount()>Nn&&(K=K.compress(this.items.length-le.length)),K}emptyItemCount(){let B=0;return this.items.forEach(q=>{q.step||B++}),B}compress(B=this.items.length){let q=this.remapping(0,B),le=q.maps.length,ae=[],De=0;return this.items.forEach((Be,tt)=>{if(tt>=B)ae.push(Be),Be.selection&&De++;else if(Be.step){let It=Be.step.map(q.slice(le)),qt=It&&It.getMap();if(le--,qt&&q.appendMap(qt,le),It){let Gt=Be.selection&&Be.selection.map(q.slice(le));Gt&&De++;let K=new bn(qt.invert(),It,Gt),se,Te=ae.length-1;(se=ae.length&&ae[Te].merge(K))?ae[Te]=se:ae.push(K)}}else Be.map&&le--},this.items.length,0),new tn(Sn.from(ae.reverse()),De)}}tn.empty=new tn(Sn.empty,0);function Tn(L,B){let q;return L.forEach((le,ae)=>{if(le.selection&&B--==0)return q=ae,!1}),L.slice(q)}class bn{constructor(B,q,le,ae){this.map=B,this.step=q,this.selection=le,this.mirrorOffset=ae}merge(B){if(this.step&&B.step&&!B.selection){let q=B.step.merge(this.step);if(q)return new bn(q.getMap().invert(),q,this.selection)}}}class un{constructor(B,q,le,ae,De){this.done=B,this.undone=q,this.prevRanges=le,this.prevTime=ae,this.prevComposition=De}}const Fn=20;function kn(L,B,q,le){let ae=q.getMeta(pn),De;if(ae)return ae.historyState;q.getMeta($n)&&(L=new un(L.done,L.undone,null,0,-1));let Be=q.getMeta("appendedTransaction");if(q.steps.length==0)return L;if(Be&&Be.getMeta(pn))return Be.getMeta(pn).redo?new un(L.done.addTransform(q,void 0,le,Vn(B)),L.undone,rn(q.mapping.maps[q.steps.length-1]),L.prevTime,L.prevComposition):new un(L.done,L.undone.addTransform(q,void 0,le,Vn(B)),null,L.prevTime,L.prevComposition);if(q.getMeta("addToHistory")!==!1&&!(Be&&Be.getMeta("addToHistory")===!1)){let tt=q.getMeta("composition"),It=L.prevTime==0||!Be&&L.prevComposition!=tt&&(L.prevTime<(q.time||0)-le.newGroupDelay||!dn(q,L.prevRanges)),qt=Be?xn(L.prevRanges,q.mapping):rn(q.mapping.maps[q.steps.length-1]);return new un(L.done.addTransform(q,It?B.selection.getBookmark():void 0,le,Vn(B)),tn.empty,qt,q.time,tt==null?L.prevComposition:tt)}else return(De=q.getMeta("rebased"))?new un(L.done.rebased(q,De),L.undone.rebased(q,De),xn(L.prevRanges,q.mapping),L.prevTime,L.prevComposition):new un(L.done.addMaps(q.mapping.maps),L.undone.addMaps(q.mapping.maps),xn(L.prevRanges,q.mapping),L.prevTime,L.prevComposition)}function dn(L,B){if(!B)return!1;if(!L.docChanged)return!0;let q=!1;return L.mapping.maps[0].forEach((le,ae)=>{for(let De=0;De<B.length;De+=2)le<=B[De+1]&&ae>=B[De]&&(q=!0)}),q}function rn(L){let B=[];return L.forEach((q,le,ae,De)=>B.push(ae,De)),B}function xn(L,B){if(!L)return null;let q=[];for(let le=0;le<L.length;le+=2){let ae=B.map(L[le],1),De=B.map(L[le+1],-1);ae<=De&&q.push(ae,De)}return q}function fn(L,B,q,le){let ae=Vn(B),De=pn.get(B).spec.config,Be=(le?L.undone:L.done).popEvent(B,ae);if(!Be)return;let tt=Be.selection.resolve(Be.transform.doc),It=(le?L.done:L.undone).addTransform(Be.transform,B.selection.getBookmark(),De,ae),qt=new un(le?It:Be.remaining,le?Be.remaining:It,null,0,-1);q(Be.transform.setSelection(tt).setMeta(pn,{redo:le,historyState:qt}).scrollIntoView())}let Cn=!1,wn=null;function Vn(L){let B=L.plugins;if(wn!=B){Cn=!1,wn=B;for(let q=0;q<B.length;q++)if(B[q].spec.historyPreserveItems){Cn=!0;break}}return Cn}function Yn(L){return L.setMeta($n,!0)}const pn=new Me.H$("history"),$n=new Me.H$("closeHistory");function zn(L={}){return L={depth:L.depth||100,newGroupDelay:L.newGroupDelay||500},new Me.Sy({key:pn,state:{init(){return new un(tn.empty,tn.empty,null,0,-1)},apply(B,q,le){return kn(q,le,B,L)}},config:L,props:{handleDOMEvents:{beforeinput(B,q){let le=q.inputType,ae=le=="historyUndo"?Mn:le=="historyRedo"?vn:null;return ae?(q.preventDefault(),ae(B.state,B.dispatch)):!1}}}})}const Mn=(L,B)=>{let q=pn.getState(L);return!q||q.done.eventCount==0?!1:(B&&fn(q,L,B,!1),!0)},vn=(L,B)=>{let q=pn.getState(L);return!q||q.undone.eventCount==0?!1:(B&&fn(q,L,B,!0),!0)};function An(L){let B=pn.getState(L);return B?B.done.eventCount:0}function oe(L){let B=pn.getState(L);return B?B.undone.eventCount:0}const E=x.hj.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:L,dispatch:B})=>Mn(L,B),redo:()=>({state:L,dispatch:B})=>vn(L,B)}},addProseMirrorPlugins(){return[zn(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),_=x.NB.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:L}){return["hr",(0,x.P1)(this.options.HTMLAttributes,L)]},addCommands(){return{setHorizontalRule:()=>({chain:L})=>L().insertContent({type:this.name}).command(({tr:B,dispatch:q})=>{var le;if(q){const{$to:ae}=B.selection,De=ae.end();if(ae.nodeAfter)B.setSelection(Me.Bs.create(B.doc,ae.pos));else{const Be=(le=ae.parent.type.contentMatch.defaultType)===null||le===void 0?void 0:le.create();Be&&(B.insert(De,Be),B.setSelection(Me.Bs.create(B.doc,De)))}B.scrollIntoView()}return!0}).run()}},addInputRules(){return[(0,x.x2)({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),C=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,$=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,ee=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,J=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,be=x.vc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:L=>L.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:L}){return["em",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setItalic:()=>({commands:L})=>L.setMark(this.name),toggleItalic:()=>({commands:L})=>L.toggleMark(this.name),unsetItalic:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,x.Cf)({find:C,type:this.type}),(0,x.Cf)({find:ee,type:this.type})]},addPasteRules(){return[(0,x.K9)({find:$,type:this.type}),(0,x.K9)({find:J,type:this.type})]}}),Ie=x.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:L}){return["li",(0,x.P1)(this.options.HTMLAttributes,L),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),D=x.NB.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:L}){return["li",(0,x.P1)(this.options.HTMLAttributes,L),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),s=x.vc.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:L=>L.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:L}){return["span",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:L,commands:B})=>{const q=(0,x.Jo)(L,this.type);return Object.entries(q).some(([,ae])=>!!ae)?!0:B.unsetMark(this.name)}}}}),l=/^(\d+)\.\s$/,y=x.NB.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:L=>L.hasAttribute("start")?parseInt(L.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:L}){const{start:B}=L,q=vi(L,["start"]);return B===1?["ol",(0,x.P1)(this.options.HTMLAttributes,q),0]:["ol",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{toggleOrderedList:()=>({commands:L,chain:B})=>this.options.keepAttributes?B().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(D.name,this.editor.getAttributes(s.name)).run():L.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let L=(0,x.S0)({find:l,type:this.type,getAttributes:B=>({start:+B[1]}),joinPredicate:(B,q)=>q.childCount+q.attrs.start===+B[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(L=(0,x.S0)({find:l,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:B=>ve({start:+B[1]},this.editor.getAttributes(s.name)),joinPredicate:(B,q)=>q.childCount+q.attrs.start===+B[1],editor:this.editor})),[L]}}),M=x.NB.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:L}){return["p",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setParagraph:()=>({commands:L})=>L.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),A=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,F=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Q=x.vc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:L=>L.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:L}){return["s",(0,x.P1)(this.options.HTMLAttributes,L),0]},addCommands(){return{setStrike:()=>({commands:L})=>L.setMark(this.name),toggleStrike:()=>({commands:L})=>L.toggleMark(this.name),unsetStrike:()=>({commands:L})=>L.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,x.Cf)({find:A,type:this.type})]},addPasteRules(){return[(0,x.K9)({find:F,type:this.type})]}}),ge=x.NB.create({name:"text",group:"inline"}),at=x.hj.create({name:"starterKit",addExtensions(){var L,B,q,le,ae,De,Be,tt,It,qt,Gt,K,se,Te,pt,vt,zt,nt;const ye=[];return this.options.blockquote!==!1&&ye.push(me.configure((L=this.options)===null||L===void 0?void 0:L.blockquote)),this.options.bold!==!1&&ye.push(Ue.configure((B=this.options)===null||B===void 0?void 0:B.bold)),this.options.bulletList!==!1&&ye.push(rt.configure((q=this.options)===null||q===void 0?void 0:q.bulletList)),this.options.code!==!1&&ye.push(ot.configure((le=this.options)===null||le===void 0?void 0:le.code)),this.options.codeBlock!==!1&&ye.push(bt.dn.configure((ae=this.options)===null||ae===void 0?void 0:ae.codeBlock)),this.options.document!==!1&&ye.push(dt.configure((De=this.options)===null||De===void 0?void 0:De.document)),this.options.dropcursor!==!1&&ye.push(G.configure((Be=this.options)===null||Be===void 0?void 0:Be.dropcursor)),this.options.gapcursor!==!1&&ye.push(st.configure((tt=this.options)===null||tt===void 0?void 0:tt.gapcursor)),this.options.hardBreak!==!1&&ye.push(Bt.configure((It=this.options)===null||It===void 0?void 0:It.hardBreak)),this.options.heading!==!1&&ye.push(Lt.configure((qt=this.options)===null||qt===void 0?void 0:qt.heading)),this.options.history!==!1&&ye.push(E.configure((Gt=this.options)===null||Gt===void 0?void 0:Gt.history)),this.options.horizontalRule!==!1&&ye.push(_.configure((K=this.options)===null||K===void 0?void 0:K.horizontalRule)),this.options.italic!==!1&&ye.push(be.configure((se=this.options)===null||se===void 0?void 0:se.italic)),this.options.listItem!==!1&&ye.push(Ie.configure((Te=this.options)===null||Te===void 0?void 0:Te.listItem)),this.options.orderedList!==!1&&ye.push(y.configure((pt=this.options)===null||pt===void 0?void 0:pt.orderedList)),this.options.paragraph!==!1&&ye.push(M.configure((vt=this.options)===null||vt===void 0?void 0:vt.paragraph)),this.options.strike!==!1&&ye.push(Q.configure((zt=this.options)===null||zt===void 0?void 0:zt.strike)),this.options.text!==!1&&ye.push(ge.configure((nt=this.options)===null||nt===void 0?void 0:nt.text)),ye}})},82728:function(){},89689:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return fe}});var x=Re(22374),Se=Re(23101),me="click";function fe(de,qe,$e){$e===void 0&&($e=me);var Ue=(0,x.useRef)(de);Ue.current=de,(0,x.useEffect)(function(){var Ce=function(Ye){var rt=Array.isArray(qe)?qe:[qe];rt.some(function(ft){var it=(0,Se.n)(ft);return!it||(it==null?void 0:it.contains(Ye.target))})||Ue.current(Ye)};return document.addEventListener($e,Ce),function(){document.removeEventListener($e,Ce)}},[qe,$e])}},90993:function(cn){(function(){var kt;kt=cn.exports=Se,kt.format=Se,kt.vsprintf=x,typeof console!="undefined"&&typeof console.log=="function"&&(kt.printf=Re);function Re(){console.log(Se.apply(null,arguments))}function x(me,fe){return Se.apply(null,[me].concat(fe))}function Se(me){for(var fe=1,de=[].slice.call(arguments),qe=0,$e=me.length,Ue="",Ce,Pe=!1,Ye,rt,ft=!1,it,ot=function(){return de[fe++]},bt=function(){for(var dt="";/\d/.test(me[qe]);)dt+=me[qe++],Ce=me[qe];return dt.length>0?parseInt(dt):null};qe<$e;++qe)if(Ce=me[qe],Pe)switch(Pe=!1,Ce=="."?(ft=!1,Ce=me[++qe]):Ce=="0"&&me[qe+1]=="."?(ft=!0,qe+=2,Ce=me[qe]):ft=!0,it=bt(),Ce){case"b":Ue+=parseInt(ot(),10).toString(2);break;case"c":Ye=ot(),typeof Ye=="string"||Ye instanceof String?Ue+=Ye:Ue+=String.fromCharCode(parseInt(Ye,10));break;case"d":Ue+=parseInt(ot(),10);break;case"f":rt=String(parseFloat(ot()).toFixed(it||6)),Ue+=ft?rt:rt.replace(/^0/,"");break;case"j":Ue+=JSON.stringify(ot());break;case"o":Ue+="0"+parseInt(ot(),10).toString(8);break;case"s":Ue+=ot();break;case"x":Ue+="0x"+parseInt(ot(),10).toString(16);break;case"X":Ue+="0x"+parseInt(ot(),10).toString(16).toUpperCase();break;default:Ue+=Ce;break}else Ce==="%"?Pe=!0:Ue+=Ce;return Ue}})()},53291:function(cn,kt,Re){"use strict";Re.d(kt,{$:function(){return R}});function x(u){const b=u.regex,O=u.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),P="decltype\\(auto\\)",W="[a-zA-Z_]\\w*::",H="<[^<>]+>",V="(?!struct)("+P+"|"+b.optional(W)+"[a-zA-Z_]\\w*"+b.optional(H)+")",Z={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},pe="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",ue={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[u.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+pe+"|.)",end:"'",illegal:"."},u.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},Fe={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},je={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},u.inherit(ue,{className:"string"}),{className:"string",begin:/<.*?>/},O,u.C_BLOCK_COMMENT_MODE]},He={className:"title",begin:b.optional(W)+u.IDENT_RE,relevance:0},Xe=b.optional(W)+u.IDENT_RE+"\\s*\\(",mt=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],_t=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],Ze=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],Ot=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],Vt={type:_t,keyword:mt,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:Ze},on={className:"function.dispatch",relevance:0,keywords:{_hint:Ot},begin:b.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,u.IDENT_RE,b.lookahead(/(<[^<>]+>|)\s*\(/))},an=[on,je,Z,O,u.C_BLOCK_COMMENT_MODE,Fe,ue],Yt={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:Vt,contains:an.concat([{begin:/\(/,end:/\)/,keywords:Vt,contains:an.concat(["self"]),relevance:0}]),relevance:0},Jt={className:"function",begin:"("+V+"[\\*&\\s]+)+"+Xe,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:Vt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:P,keywords:Vt,relevance:0},{begin:Xe,returnBegin:!0,contains:[He],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[ue,Fe]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:Vt,relevance:0,contains:[O,u.C_BLOCK_COMMENT_MODE,ue,Fe,Z,{begin:/\(/,end:/\)/,keywords:Vt,relevance:0,contains:["self",O,u.C_BLOCK_COMMENT_MODE,ue,Fe,Z]}]},Z,O,u.C_BLOCK_COMMENT_MODE,je]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:Vt,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(Yt,Jt,on,an,[je,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:Vt,contains:["self",Z]},{begin:u.IDENT_RE+"::",keywords:Vt},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Se(u){const b={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},O=x(u),P=O.keywords;return P.type=[...P.type,...b.type],P.literal=[...P.literal,...b.literal],P.built_in=[...P.built_in,...b.built_in],P._hints=b._hints,O.name="Arduino",O.aliases=["ino"],O.supersetOf="cpp",O}function me(u){const b=u.regex,O={},P={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[O]}]};Object.assign(O,{className:"variable",variants:[{begin:b.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},P]});const W={className:"subst",begin:/\$\(/,end:/\)/,contains:[u.BACKSLASH_ESCAPE]},H={begin:/<<-?\s*(?=\w+)/,starts:{contains:[u.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},V={className:"string",begin:/"/,end:/"/,contains:[u.BACKSLASH_ESCAPE,O,W]};W.contains.push(V);const Z={className:"",begin:/\\"/},pe={className:"string",begin:/'/,end:/'/},ue={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},u.NUMBER_MODE,O]},Fe=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],je=u.SHEBANG({binary:`(${Fe.join("|")})`,relevance:10}),He={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[u.inherit(u.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},Xe=["if","then","else","elif","fi","for","while","in","do","done","case","esac","function"],mt=["true","false"],_t={match:/(\/[a-z._-]+)+/},Ze=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],Ot=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],Xt=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],Qt=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:Xe,literal:mt,built_in:[...Ze,...Ot,"set","shopt",...Xt,...Qt]},contains:[je,u.SHEBANG(),He,ue,u.HASH_COMMENT_MODE,H,_t,V,Z,pe,O]}}function fe(u){const b=u.regex,O=u.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),P="decltype\\(auto\\)",W="[a-zA-Z_]\\w*::",H="<[^<>]+>",V="("+P+"|"+b.optional(W)+"[a-zA-Z_]\\w*"+b.optional(H)+")",Z={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},pe="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",ue={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[u.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+pe+"|.)",end:"'",illegal:"."},u.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},Fe={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},je={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},u.inherit(ue,{className:"string"}),{className:"string",begin:/<.*?>/},O,u.C_BLOCK_COMMENT_MODE]},He={className:"title",begin:b.optional(W)+u.IDENT_RE,relevance:0},Xe=b.optional(W)+u.IDENT_RE+"\\s*\\(",Ze={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},Ot=[je,Z,O,u.C_BLOCK_COMMENT_MODE,Fe,ue],Xt={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:Ze,contains:Ot.concat([{begin:/\(/,end:/\)/,keywords:Ze,contains:Ot.concat(["self"]),relevance:0}]),relevance:0},Qt={begin:"("+V+"[\\*&\\s]+)+"+Xe,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:Ze,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:P,keywords:Ze,relevance:0},{begin:Xe,returnBegin:!0,contains:[u.inherit(He,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:Ze,relevance:0,contains:[O,u.C_BLOCK_COMMENT_MODE,ue,Fe,Z,{begin:/\(/,end:/\)/,keywords:Ze,relevance:0,contains:["self",O,u.C_BLOCK_COMMENT_MODE,ue,Fe,Z]}]},Z,O,u.C_BLOCK_COMMENT_MODE,je]};return{name:"C",aliases:["h"],keywords:Ze,disableAutodetect:!0,illegal:"</",contains:[].concat(Xt,Qt,Ot,[je,{begin:u.IDENT_RE+"::",keywords:Ze},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},u.TITLE_MODE]}]),exports:{preprocessor:je,strings:ue,keywords:Ze}}}function de(u){const b=u.regex,O=u.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),P="decltype\\(auto\\)",W="[a-zA-Z_]\\w*::",H="<[^<>]+>",V="(?!struct)("+P+"|"+b.optional(W)+"[a-zA-Z_]\\w*"+b.optional(H)+")",Z={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},pe="\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)",ue={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[u.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+pe+"|.)",end:"'",illegal:"."},u.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},Fe={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},je={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},u.inherit(ue,{className:"string"}),{className:"string",begin:/<.*?>/},O,u.C_BLOCK_COMMENT_MODE]},He={className:"title",begin:b.optional(W)+u.IDENT_RE,relevance:0},Xe=b.optional(W)+u.IDENT_RE+"\\s*\\(",mt=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],_t=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],Ze=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],Ot=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],Vt={type:_t,keyword:mt,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:Ze},on={className:"function.dispatch",relevance:0,keywords:{_hint:Ot},begin:b.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,u.IDENT_RE,b.lookahead(/(<[^<>]+>|)\s*\(/))},an=[on,je,Z,O,u.C_BLOCK_COMMENT_MODE,Fe,ue],Yt={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:Vt,contains:an.concat([{begin:/\(/,end:/\)/,keywords:Vt,contains:an.concat(["self"]),relevance:0}]),relevance:0},Jt={className:"function",begin:"("+V+"[\\*&\\s]+)+"+Xe,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:Vt,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:P,keywords:Vt,relevance:0},{begin:Xe,returnBegin:!0,contains:[He],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[ue,Fe]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:Vt,relevance:0,contains:[O,u.C_BLOCK_COMMENT_MODE,ue,Fe,Z,{begin:/\(/,end:/\)/,keywords:Vt,relevance:0,contains:["self",O,u.C_BLOCK_COMMENT_MODE,ue,Fe,Z]}]},Z,O,u.C_BLOCK_COMMENT_MODE,je]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:Vt,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(Yt,Jt,on,an,[je,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:Vt,contains:["self",Z]},{begin:u.IDENT_RE+"::",keywords:Vt},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function qe(u){const b=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],O=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],P=["default","false","null","true"],W=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],H=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],V={keyword:W.concat(H),built_in:b,literal:P},Z=u.inherit(u.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),pe={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},ue={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},Fe=u.inherit(ue,{illegal:/\n/}),je={className:"subst",begin:/\{/,end:/\}/,keywords:V},He=u.inherit(je,{illegal:/\n/}),Xe={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},u.BACKSLASH_ESCAPE,He]},mt={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},je]},_t=u.inherit(mt,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},He]});je.contains=[mt,Xe,ue,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,pe,u.C_BLOCK_COMMENT_MODE],He.contains=[_t,Xe,Fe,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,pe,u.inherit(u.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const Ze={variants:[mt,Xe,ue,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},Ot={begin:"<",end:">",contains:[{beginKeywords:"in out"},Z]},Xt=u.IDENT_RE+"(<"+u.IDENT_RE+"(\\s*,\\s*"+u.IDENT_RE+")*>)?(\\[\\])?",Qt={begin:"@"+u.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:V,illegal:/::/,contains:[u.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},Ze,pe,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},Z,Ot,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[Z,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[Z,Ot,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+Xt+"\\s+)+"+u.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:V,contains:[{beginKeywords:O.join(" "),relevance:0},{begin:u.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[u.TITLE_MODE,Ot],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:V,relevance:0,contains:[Ze,pe,u.C_BLOCK_COMMENT_MODE]},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},Qt]}}const $e=u=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:u.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:u.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Ue=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Ce=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Pe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Ye=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],rt=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function ft(u){const b=u.regex,O=$e(u),P={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},W="and or not only",H=/@-?\w[\w]*(-\w+)*/,V="[a-zA-Z-][a-zA-Z0-9_-]*",Z=[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[O.BLOCK_COMMENT,P,O.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+V,relevance:0},O.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Pe.join("|")+")"},{begin:":(:)?("+Ye.join("|")+")"}]},O.CSS_VARIABLE,{className:"attribute",begin:"\\b("+rt.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[O.BLOCK_COMMENT,O.HEXCOLOR,O.IMPORTANT,O.CSS_NUMBER_MODE,...Z,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...Z,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},O.FUNCTION_DISPATCH]},{begin:b.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:H},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:W,attribute:Ce.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...Z,O.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Ue.join("|")+")\\b"}]}}function it(u){const b=u.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:b.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:b.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function ot(u){const H={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:H,illegal:"</",contains:[u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,{className:"string",variants:[u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:u.C_NUMBER_RE+"[i]",relevance:1},u.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[u.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:H,illegal:/["']/}]}]}}function bt(u){const b=u.regex,O=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[u.HASH_COMMENT_MODE,u.QUOTE_STRING_MODE,u.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:b.concat(O,b.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function dt(u){const b=u.regex,O={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:u.NUMBER_RE}]},P=u.COMMENT();P.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const W={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},H={className:"literal",begin:/\bon|off|true|false|yes|no\b/},V={className:"string",contains:[u.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},Z={begin:/\[/,end:/\]/,contains:[P,H,W,V,O,"self"],relevance:0},pe=/[A-Za-z0-9_-]+/,ue=/"(\\"|[^"])*"/,Fe=/'[^']*'/,je=b.either(pe,ue,Fe),He=b.concat(je,"(\\s*\\.\\s*",je,")*",b.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[P,{className:"section",begin:/\[+/,end:/\]+/},{begin:He,className:"attr",starts:{end:/$/,contains:[P,Z,H,W,V,O]}}]}}var Me="[0-9](_*[0-9])*",Oe=`\\.(${Me})`,Je="[0-9a-fA-F](_*[0-9a-fA-F])*",Ve={className:"number",variants:[{begin:`(\\b(${Me})((${Oe})|\\.)?|(${Oe}))[eE][+-]?(${Me})[fFdD]?\\b`},{begin:`\\b(${Me})((${Oe})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Oe})[fFdD]?\\b`},{begin:`\\b(${Me})[fFdD]\\b`},{begin:`\\b0[xX]((${Je})\\.?|(${Je})?\\.(${Je}))[pP][+-]?(${Me})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Je})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function G(u,b,O){return O===-1?"":u.replace(b,P=>G(u,b,O-1))}function xe(u){const b=u.regex,O="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",P=O+G("(?:<"+O+"~~~(?:\\s*,\\s*"+O+"~~~)*>)?",/~~~/g,2),pe={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},ue={className:"meta",begin:"@"+O,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},Fe={className:"params",begin:/\(/,end:/\)/,keywords:pe,relevance:0,contains:[u.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:pe,illegal:/<\/|#/,contains:[u.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[u.BACKSLASH_ESCAPE]},u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,O],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[b.concat(/(?!else)/,O),/\s+/,O,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,O],className:{1:"keyword",3:"title.class"},contains:[Fe,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+P+"\\s+)",u.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:pe,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:pe,relevance:0,contains:[ue,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,Ve,u.C_BLOCK_COMMENT_MODE]},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},Ve,ue]}}const Ke="[A-Za-z$_][0-9A-Za-z$_]*",yt=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],et=["true","false","null","undefined","NaN","Infinity"],Ut=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Nt=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Ft=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ne=["arguments","this","super","console","window","document","localStorage","module","global"],U=[].concat(Ft,Ut,Nt);function X(u){const b=u.regex,O=(ln,{after:Qe})=>{const ht="</"+ln[0].slice(1);return ln.input.indexOf(ht,Qe)!==-1},P=Ke,W={begin:"<>",end:"</>"},H=/<[A-Za-z0-9\\._:-]+\s*\/>/,V={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ln,Qe)=>{const ht=ln[0].length+ln.index,Ht=ln.input[ht];if(Ht==="<"||Ht===","){Qe.ignoreMatch();return}Ht===">"&&(O(ln,{after:ht})||Qe.ignoreMatch());let jt;const _n=ln.input.substring(ht);if(jt=_n.match(/^\s*=/)){Qe.ignoreMatch();return}if((jt=_n.match(/^\s+extends\s+/))&&jt.index===0){Qe.ignoreMatch();return}}},Z={$pattern:Ke,keyword:yt,literal:et,built_in:U,"variable.language":Ne},pe="[0-9](_?[0-9])*",ue=`\\.(${pe})`,Fe="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",je={className:"number",variants:[{begin:`(\\b(${Fe})((${ue})|\\.)?|(${ue}))[eE][+-]?(${pe})\\b`},{begin:`\\b(${Fe})\\b((${ue})\\b|\\.)?|(${ue})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},He={className:"subst",begin:"\\$\\{",end:"\\}",keywords:Z,contains:[]},Xe={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[u.BACKSLASH_ESCAPE,He],subLanguage:"xml"}},mt={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[u.BACKSLASH_ESCAPE,He],subLanguage:"css"}},_t={className:"string",begin:"`",end:"`",contains:[u.BACKSLASH_ESCAPE,He]},Ze=u.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:P+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),Ot={className:"comment",variants:[Ze,u.C_BLOCK_COMMENT_MODE,u.C_LINE_COMMENT_MODE]},Xt=[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,Xe,mt,_t,{match:/\$\d+/},je];He.contains=Xt.concat({begin:/\{/,end:/\}/,keywords:Z,contains:["self"].concat(Xt)});const Qt=[].concat(Ot,He.contains),Vt=Qt.concat([{begin:/\(/,end:/\)/,keywords:Z,contains:["self"].concat(Qt)}]),on={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Z,contains:Vt},an={variants:[{match:[/class/,/\s+/,P,/\s+/,/extends/,/\s+/,b.concat(P,"(",b.concat(/\./,P),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,P],scope:{1:"keyword",3:"title.class"}}]},Yt={relevance:0,match:b.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...Ut,...Nt]}},Jt={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},nn={variants:[{match:[/function/,/\s+/,P,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[on],illegal:/%/},Mt={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Gn(ln){return b.concat("(?!",ln.join("|"),")")}const sn={match:b.concat(/\b/,Gn([...Ft,"super","import"]),P,b.lookahead(/\(/)),className:"title.function",relevance:0},wt={begin:b.concat(/\./,b.lookahead(b.concat(P,/(?![0-9A-Za-z$_(])/))),end:P,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Hn={match:[/get|set/,/\s+/,P,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},on]},Kn="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+u.UNDERSCORE_IDENT_RE+")\\s*=>",jn={match:[/const|var|let/,/\s+/,P,/\s*/,/=\s*/,/(async\s*)?/,b.lookahead(Kn)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[on]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:Z,exports:{PARAMS_CONTAINS:Vt,CLASS_REFERENCE:Yt},illegal:/#(?![$_A-z])/,contains:[u.SHEBANG({label:"shebang",binary:"node",relevance:5}),Jt,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,Xe,mt,_t,Ot,{match:/\$\d+/},je,Yt,{className:"attr",begin:P+b.lookahead(":"),relevance:0},jn,{begin:"("+u.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[Ot,u.REGEXP_MODE,{className:"function",begin:Kn,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:u.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Z,contains:Vt}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:W.begin,end:W.end},{match:H},{begin:V.begin,"on:begin":V.isTrulyOpeningTag,end:V.end}],subLanguage:"xml",contains:[{begin:V.begin,end:V.end,skip:!0,contains:["self"]}]}]},nn,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+u.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[on,u.inherit(u.TITLE_MODE,{begin:P,className:"title.function"})]},{match:/\.\.\./,relevance:0},wt,{match:"\\$"+P,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[on]},sn,Mt,an,Hn,{match:/\$[(.]/}]}}function ne(u){const b={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},O={match:/[{}[\],:]/,className:"punctuation",relevance:0},P=["true","false","null"],W={scope:"literal",beginKeywords:P.join(" ")};return{name:"JSON",keywords:{literal:P},contains:[b,O,u.QUOTE_STRING_MODE,W,u.C_NUMBER_MODE,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var ke="[0-9](_*[0-9])*",We=`\\.(${ke})`,st="[0-9a-fA-F](_*[0-9a-fA-F])*",Bt={className:"number",variants:[{begin:`(\\b(${ke})((${We})|\\.)?|(${We}))[eE][+-]?(${ke})[fFdD]?\\b`},{begin:`\\b(${ke})((${We})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${We})[fFdD]?\\b`},{begin:`\\b(${ke})[fFdD]\\b`},{begin:`\\b0[xX]((${st})\\.?|(${st})?\\.(${st}))[pP][+-]?(${ke})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${st})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Lt(u){const b={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},O={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},P={className:"symbol",begin:u.UNDERSCORE_IDENT_RE+"@"},W={className:"subst",begin:/\$\{/,end:/\}/,contains:[u.C_NUMBER_MODE]},H={className:"variable",begin:"\\$"+u.UNDERSCORE_IDENT_RE},V={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[H,W]},{begin:"'",end:"'",illegal:/\n/,contains:[u.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[u.BACKSLASH_ESCAPE,H,W]}]};W.contains.push(V);const Z={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+u.UNDERSCORE_IDENT_RE+")?"},pe={className:"meta",begin:"@"+u.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[u.inherit(V,{className:"string"}),"self"]}]},ue=Bt,Fe=u.COMMENT("/\\*","\\*/",{contains:[u.C_BLOCK_COMMENT_MODE]}),je={variants:[{className:"type",begin:u.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},He=je;return He.variants[1].contains=[je],je.variants[1].contains=[He],{name:"Kotlin",aliases:["kt","kts"],keywords:b,contains:[u.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),u.C_LINE_COMMENT_MODE,Fe,O,P,Z,pe,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:b,relevance:5,contains:[{begin:u.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[u.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:b,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[je,u.C_LINE_COMMENT_MODE,Fe],relevance:0},u.C_LINE_COMMENT_MODE,Fe,Z,pe,V,u.C_NUMBER_MODE]},Fe]},{begin:[/class|interface|trait/,/\s+/,u.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},u.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},Z,pe]},V,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},ue]}}const Ct=u=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:u.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:u.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),Tt=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],En=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],On=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Sn=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Nn=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),tn=On.concat(Sn);function Tn(u){const b=Ct(u),O=tn,P="and or not only",W="[\\w-]+",H="("+W+"|@\\{"+W+"\\})",V=[],Z=[],pe=function(Qt){return{className:"string",begin:"~?"+Qt+".*?"+Qt}},ue=function(Qt,Vt,on){return{className:Qt,begin:Vt,relevance:on}},Fe={$pattern:/[a-z-]+/,keyword:P,attribute:En.join(" ")},je={begin:"\\(",end:"\\)",contains:Z,keywords:Fe,relevance:0};Z.push(u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,pe("'"),pe('"'),b.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},b.HEXCOLOR,je,ue("variable","@@?"+W,10),ue("variable","@\\{"+W+"\\}"),ue("built_in","~?`[^`]*?`"),{className:"attribute",begin:W+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},b.IMPORTANT,{beginKeywords:"and not"},b.FUNCTION_DISPATCH);const He=Z.concat({begin:/\{/,end:/\}/,contains:V}),Xe={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(Z)},mt={begin:H+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},b.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Nn.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:Z}}]},_t={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:Fe,returnEnd:!0,contains:Z,relevance:0}},Ze={className:"variable",variants:[{begin:"@"+W+"\\s*:",relevance:15},{begin:"@"+W}],starts:{end:"[;}]",returnEnd:!0,contains:He}},Ot={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:H,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,Xe,ue("keyword","all\\b"),ue("variable","@\\{"+W+"\\}"),{begin:"\\b("+Tt.join("|")+")\\b",className:"selector-tag"},b.CSS_NUMBER_MODE,ue("selector-tag",H,0),ue("selector-id","#"+H),ue("selector-class","\\."+H,0),ue("selector-tag","&",0),b.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+On.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Sn.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:He},{begin:"!important"},b.FUNCTION_DISPATCH]},Xt={begin:W+`:(:)?(${O.join("|")})`,returnBegin:!0,contains:[Ot]};return V.push(u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,_t,Ze,Xt,mt,Ot,Xe,b.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:V}}function bn(u){const b="\\[=*\\[",O="\\]=*\\]",P={begin:b,end:O,contains:["self"]},W=[u.COMMENT("--(?!"+b+")","$"),u.COMMENT("--"+b,O,{contains:[P],relevance:10})];return{name:"Lua",keywords:{$pattern:u.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:W.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[u.inherit(u.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:W}].concat(W)},u.C_NUMBER_MODE,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,{className:"string",begin:b,end:O,contains:[P],relevance:5}])}}function un(u){const b={className:"variable",variants:[{begin:"\\$\\("+u.UNDERSCORE_IDENT_RE+"\\)",contains:[u.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},O={className:"string",begin:/"/,end:/"/,contains:[u.BACKSLASH_ESCAPE,b]},P={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[b]},W={begin:"^"+u.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},H={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},V={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[b]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[u.HASH_COMMENT_MODE,b,O,P,W,H,V]}}function Fn(u){const b=u.regex,O={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},P={begin:"^[-\\*]{3,}",end:"$"},W={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},H={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},V={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},Z=/[A-Za-z][A-Za-z0-9+.-]*/,pe={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:b.concat(/\[.+?\]\(/,Z,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},ue={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},Fe={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},je=u.inherit(ue,{contains:[]}),He=u.inherit(Fe,{contains:[]});ue.contains.push(He),Fe.contains.push(je);let Xe=[O,pe];return[ue,Fe,je,He].forEach(Ze=>{Ze.contains=Ze.contains.concat(Xe)}),Xe=Xe.concat(ue,Fe),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:Xe},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:Xe}]}]},O,H,ue,Fe,{className:"quote",begin:"^>\\s+",contains:Xe,end:"$"},W,P,pe,V]}}function kn(u){const b={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},O=/[a-zA-Z@][a-zA-Z0-9_]*/,Z={"variable.language":["this","super"],$pattern:O,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},pe={$pattern:O,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:Z,illegal:"</",contains:[b,u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,u.C_NUMBER_MODE,u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[u.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},u.inherit(u.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+pe.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:pe,contains:[u.UNDERSCORE_TITLE_MODE]},{begin:"\\."+u.UNDERSCORE_IDENT_RE,relevance:0}]}}function dn(u){const b=u.regex,O=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],P=/[dualxmsipngr]{0,12}/,W={$pattern:/[\w.]+/,keyword:O.join(" ")},H={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:W},V={begin:/->\{/,end:/\}/},Z={variants:[{begin:/\$\d/},{begin:b.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},pe=[u.BACKSLASH_ESCAPE,H,Z],ue=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],Fe=(Xe,mt,_t="\\1")=>{const Ze=_t==="\\1"?_t:b.concat(_t,mt);return b.concat(b.concat("(?:",Xe,")"),mt,/(?:\\.|[^\\\/])*?/,Ze,/(?:\\.|[^\\\/])*?/,_t,P)},je=(Xe,mt,_t)=>b.concat(b.concat("(?:",Xe,")"),mt,/(?:\\.|[^\\\/])*?/,_t,P),He=[Z,u.HASH_COMMENT_MODE,u.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),V,{className:"string",contains:pe,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[u.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[u.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+u.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[u.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:Fe("s|tr|y",b.either(...ue,{capture:!0}))},{begin:Fe("s|tr|y","\\(","\\)")},{begin:Fe("s|tr|y","\\[","\\]")},{begin:Fe("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:je("(?:m|qr)?",/\//,/\//)},{begin:je("m|qr",b.either(...ue,{capture:!0}),/\1/)},{begin:je("m|qr",/\(/,/\)/)},{begin:je("m|qr",/\[/,/\]/)},{begin:je("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[u.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return H.contains=He,V.contains=He,{name:"Perl",aliases:["pl","pm"],keywords:W,contains:He}}function rn(u){const b=u.regex,O=/(?![A-Za-z0-9])(?![$])/,P=b.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,O),W=b.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,O),H={scope:"variable",match:"\\$+"+P},V={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},Z={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},pe=u.inherit(u.APOS_STRING_MODE,{illegal:null}),ue=u.inherit(u.QUOTE_STRING_MODE,{illegal:null,contains:u.QUOTE_STRING_MODE.contains.concat(Z)}),Fe=u.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:u.QUOTE_STRING_MODE.contains.concat(Z)}),je=`[ 	
]`,He={scope:"string",variants:[ue,pe,Fe]},Xe={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},mt=["false","null","true"],_t=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],Ze=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],Xt={keyword:_t,literal:(sn=>{const wt=[];return sn.forEach(Hn=>{wt.push(Hn),Hn.toLowerCase()===Hn?wt.push(Hn.toUpperCase()):wt.push(Hn.toLowerCase())}),wt})(mt),built_in:Ze},Qt=sn=>sn.map(wt=>wt.replace(/\|\d+$/,"")),Vt={variants:[{match:[/new/,b.concat(je,"+"),b.concat("(?!",Qt(Ze).join("\\b|"),"\\b)"),W],scope:{1:"keyword",4:"title.class"}}]},on=b.concat(P,"\\b(?!\\()"),an={variants:[{match:[b.concat(/::/,b.lookahead(/(?!class\b)/)),on],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[W,b.concat(/::/,b.lookahead(/(?!class\b)/)),on],scope:{1:"title.class",3:"variable.constant"}},{match:[W,b.concat("::",b.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[W,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},Yt={scope:"attr",match:b.concat(P,b.lookahead(":"),b.lookahead(/(?!::)/))},Jt={relevance:0,begin:/\(/,end:/\)/,keywords:Xt,contains:[Yt,H,an,u.C_BLOCK_COMMENT_MODE,He,Xe,Vt]},nn={relevance:0,match:[/\b/,b.concat("(?!fn\\b|function\\b|",Qt(_t).join("\\b|"),"|",Qt(Ze).join("\\b|"),"\\b)"),P,b.concat(je,"*"),b.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Jt]};Jt.contains.push(nn);const Mt=[Yt,an,u.C_BLOCK_COMMENT_MODE,He,Xe,Vt],Gn={begin:b.concat(/#\[\s*/,W),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:mt,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:mt,keyword:["new","array"]},contains:["self",...Mt]},...Mt,{scope:"meta",match:W}]};return{case_insensitive:!1,keywords:Xt,contains:[Gn,u.HASH_COMMENT_MODE,u.COMMENT("//","$"),u.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:u.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},V,{scope:"variable.language",match:/\$this\b/},H,nn,an,{match:[/const/,/\s/,P],scope:{1:"keyword",3:"variable.constant"}},Vt,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},u.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:Xt,contains:["self",H,an,u.C_BLOCK_COMMENT_MODE,He,Xe]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},u.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[u.inherit(u.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},u.UNDERSCORE_TITLE_MODE]},He,Xe]}}function xn(u){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},u.inherit(u.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),u.inherit(u.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function fn(u){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Cn(u){const b=u.regex,O=/[\p{XID_Start}_]\p{XID_Continue}*/u,P=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],Z={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:P,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},pe={className:"meta",begin:/^(>>>|\.\.\.) /},ue={className:"subst",begin:/\{/,end:/\}/,keywords:Z,illegal:/#/},Fe={begin:/\{\{/,relevance:0},je={className:"string",contains:[u.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[u.BACKSLASH_ESCAPE,pe],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[u.BACKSLASH_ESCAPE,pe],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[u.BACKSLASH_ESCAPE,pe,Fe,ue]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[u.BACKSLASH_ESCAPE,pe,Fe,ue]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[u.BACKSLASH_ESCAPE,Fe,ue]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[u.BACKSLASH_ESCAPE,Fe,ue]},u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},He="[0-9](_?[0-9])*",Xe=`(\\b(${He}))?\\.(${He})|\\b(${He})\\.`,mt=`\\b|${P.join("|")}`,_t={className:"number",relevance:0,variants:[{begin:`(\\b(${He})|(${Xe}))[eE][+-]?(${He})[jJ]?(?=${mt})`},{begin:`(${Xe})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${mt})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${mt})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${mt})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${mt})`},{begin:`\\b(${He})[jJ](?=${mt})`}]},Ze={className:"comment",begin:b.lookahead(/# type:/),end:/$/,keywords:Z,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},Ot={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Z,contains:["self",pe,_t,je,u.HASH_COMMENT_MODE]}]};return ue.contains=[je,_t,pe],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:Z,illegal:/(<\/|->|\?)|=>/,contains:[pe,_t,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},je,Ze,u.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,O],scope:{1:"keyword",3:"title.function"},contains:[Ot]},{variants:[{match:[/\bclass/,/\s+/,O,/\s*/,/\(\s*/,O,/\s*\)/]},{match:[/\bclass/,/\s+/,O]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[_t,Ot,je]}]}}function wn(u){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Vn(u){const b=u.regex,O=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,P=b.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),W=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,H=b.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:O,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[u.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:b.lookahead(b.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:O},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),u.HASH_COMMENT_MODE,{scope:"string",contains:[u.BACKSLASH_ESCAPE],variants:[u.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),u.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),u.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),u.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),u.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),u.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[W,P]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,P]},{scope:{1:"punctuation",2:"number"},match:[H,P]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,P]}]},{scope:{3:"operator"},match:[O,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:W},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:H},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function Yn(u){const b=u.regex,O="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",P=b.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),W=b.concat(P,/(::\w+)*/),V={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},Z={className:"doctag",begin:"@[A-Za-z]+"},pe={begin:"#<",end:">"},ue=[u.COMMENT("#","$",{contains:[Z]}),u.COMMENT("^=begin","^=end",{contains:[Z],relevance:10}),u.COMMENT("^__END__",u.MATCH_NOTHING_RE)],Fe={className:"subst",begin:/#\{/,end:/\}/,keywords:V},je={className:"string",contains:[u.BACKSLASH_ESCAPE,Fe],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:b.concat(/<<[-~]?'?/,b.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[u.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[u.BACKSLASH_ESCAPE,Fe]})]}]},He="[1-9](_?[0-9])*|0",Xe="[0-9](_?[0-9])*",mt={className:"number",relevance:0,variants:[{begin:`\\b(${He})(\\.(${Xe}))?([eE][+-]?(${Xe})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},_t={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:V}]},an=[je,{variants:[{match:[/class\s+/,W,/\s+<\s+/,W]},{match:[/\b(class|module)\s+/,W]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:V},{match:[/(include|extend)\s+/,W],scope:{2:"title.class"},keywords:V},{relevance:0,match:[W,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:P,scope:"title.class"},{match:[/def/,/\s+/,O],scope:{1:"keyword",3:"title.function"},contains:[_t]},{begin:u.IDENT_RE+"::"},{className:"symbol",begin:u.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[je,{begin:O}],relevance:0},mt,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:V},{begin:"("+u.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[u.BACKSLASH_ESCAPE,Fe],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(pe,ue),relevance:0}].concat(pe,ue);Fe.contains=an,_t.contains=an;const Yt="[>?]>",Jt="[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]",nn="(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>",Mt=[{begin:/^\s*=>/,starts:{end:"$",contains:an}},{className:"meta.prompt",begin:"^("+Yt+"|"+Jt+"|"+nn+")(?=[ ])",starts:{end:"$",keywords:V,contains:an}}];return ue.unshift(pe),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:V,illegal:/\/\*/,contains:[u.SHEBANG({binary:"ruby"})].concat(Mt).concat(ue).concat(an)}}function pn(u){const b=u.regex,O={className:"title.function.invoke",relevance:0,begin:b.concat(/\b/,/(?!let\b)/,u.IDENT_RE,b.lookahead(/\s*\(/))},P="([ui](8|16|32|64|128|size)|f(32|64))?",W=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],H=["true","false","Some","None","Ok","Err"],V=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],Z=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:u.IDENT_RE+"!?",type:Z,keyword:W,literal:H,built_in:V},illegal:"</",contains:[u.C_LINE_COMMENT_MODE,u.COMMENT("/\\*","\\*/",{contains:["self"]}),u.inherit(u.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+P},{begin:"\\b0o([0-7_]+)"+P},{begin:"\\b0x([A-Fa-f0-9_]+)"+P},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+P}],relevance:0},{begin:[/fn/,/\s+/,u.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,u.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,u.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,u.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,u.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:u.IDENT_RE+"::",keywords:{keyword:"Self",built_in:V,type:Z}},{className:"punctuation",begin:"->"},O]}}const $n=u=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:u.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:u.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}}),zn=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Mn=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],vn=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],An=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],oe=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function E(u){const b=$n(u),O=An,P=vn,W="@[a-z-]+",H="and or not only",Z={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[u.C_LINE_COMMENT_MODE,u.C_BLOCK_COMMENT_MODE,b.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},b.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+zn.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+P.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+O.join("|")+")"},Z,{begin:/\(/,end:/\)/,contains:[b.CSS_NUMBER_MODE]},b.CSS_VARIABLE,{className:"attribute",begin:"\\b("+oe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[b.BLOCK_COMMENT,Z,b.HEXCOLOR,b.CSS_NUMBER_MODE,u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,b.IMPORTANT,b.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:W,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:H,attribute:Mn.join(" ")},contains:[{begin:W,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},Z,u.QUOTE_STRING_MODE,u.APOS_STRING_MODE,b.HEXCOLOR,b.CSS_NUMBER_MODE]},b.FUNCTION_DISPATCH]}}function _(u){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function C(u){const b=u.regex,O=u.COMMENT("--","$"),P={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},W={begin:/"/,end:/"/,contains:[{begin:/""/}]},H=["true","false","unknown"],V=["double precision","large object","with timezone","without timezone"],Z=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],pe=["add","asc","collation","desc","final","first","last","view"],ue=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],Fe=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],je=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],He=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],Xe=Fe,mt=[...ue,...pe].filter(Qt=>!Fe.includes(Qt)),_t={className:"variable",begin:/@[a-z0-9]+/},Ze={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},Ot={begin:b.concat(/\b/,b.either(...Xe),/\s*\(/),relevance:0,keywords:{built_in:Xe}};function Xt(Qt,{exceptions:Vt,when:on}={}){const an=on;return Vt=Vt||[],Qt.map(Yt=>Yt.match(/\|\d+$/)||Vt.includes(Yt)?Yt:an(Yt)?`${Yt}|0`:Yt)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:Xt(mt,{when:Qt=>Qt.length<3}),literal:H,type:Z,built_in:je},contains:[{begin:b.either(...He),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:mt.concat(He),literal:H,type:Z}},{className:"type",begin:b.either(...V)},Ot,_t,P,W,u.C_NUMBER_MODE,u.C_BLOCK_COMMENT_MODE,O,Ze]}}function $(u){return u?typeof u=="string"?u:u.source:null}function ee(u){return J("(?=",u,")")}function J(...u){return u.map(O=>$(O)).join("")}function be(u){const b=u[u.length-1];return typeof b=="object"&&b.constructor===Object?(u.splice(u.length-1,1),b):{}}function Ie(...u){const b=be(u);return"("+(b.capture?"":"?:")+u.map(P=>$(P)).join("|")+")"}const D=u=>J(/\b/,u,/\w$/.test(u)?/\b/:/\B/),s=["Protocol","Type"].map(D),l=["init","self"].map(D),y=["Any","Self"],M=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],A=["false","nil","true"],F=["assignment","associativity","higherThan","left","lowerThan","none","right"],Q=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],ge=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],at=Ie(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),L=Ie(at,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),B=J(at,L,"*"),q=Ie(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),le=Ie(q,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),ae=J(q,le,"*"),De=J(/[A-Z]/,le,"*"),Be=["autoclosure",J(/convention\(/,Ie("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",J(/objc\(/,ae,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],tt=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function It(u){const b={match:/\s+/,relevance:0},O=u.COMMENT("/\\*","\\*/",{contains:["self"]}),P=[u.C_LINE_COMMENT_MODE,O],W={match:[/\./,Ie(...s,...l)],className:{2:"keyword"}},H={match:J(/\./,Ie(...M)),relevance:0},V=M.filter(Dn=>typeof Dn=="string").concat(["_|0"]),Z=M.filter(Dn=>typeof Dn!="string").concat(y).map(D),pe={variants:[{className:"keyword",match:Ie(...Z,...l)}]},ue={$pattern:Ie(/\b\w+/,/#\w+/),keyword:V.concat(Q),literal:A},Fe=[W,H,pe],je={match:J(/\./,Ie(...ge)),relevance:0},He={className:"built_in",match:J(/\b/,Ie(...ge),/(?=\()/)},Xe=[je,He],mt={match:/->/,relevance:0},_t={className:"operator",relevance:0,variants:[{match:B},{match:`\\.(\\.|${L})+`}]},Ze=[mt,_t],Ot="([0-9]_*)+",Xt="([0-9a-fA-F]_*)+",Qt={className:"number",relevance:0,variants:[{match:`\\b(${Ot})(\\.(${Ot}))?([eE][+-]?(${Ot}))?\\b`},{match:`\\b0x(${Xt})(\\.(${Xt}))?([pP][+-]?(${Ot}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},Vt=(Dn="")=>({className:"subst",variants:[{match:J(/\\/,Dn,/[0\\tnr"']/)},{match:J(/\\/,Dn,/u\{[0-9a-fA-F]{1,8}\}/)}]}),on=(Dn="")=>({className:"subst",match:J(/\\/,Dn,/[\t ]*(?:[\r\n]|\r\n)/)}),an=(Dn="")=>({className:"subst",label:"interpol",begin:J(/\\/,Dn,/\(/),end:/\)/}),Yt=(Dn="")=>({begin:J(Dn,/"""/),end:J(/"""/,Dn),contains:[Vt(Dn),on(Dn),an(Dn)]}),Jt=(Dn="")=>({begin:J(Dn,/"/),end:J(/"/,Dn),contains:[Vt(Dn),an(Dn)]}),nn={className:"string",variants:[Yt(),Yt("#"),Yt("##"),Yt("###"),Jt(),Jt("#"),Jt("##"),Jt("###")]},Mt={match:J(/`/,ae,/`/)},Gn={className:"variable",match:/\$\d+/},sn={className:"variable",match:`\\$${le}+`},wt=[Mt,Gn,sn],Hn={match:/(@|#(un)?)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:tt,contains:[...Ze,Qt,nn]}]}},Kn={className:"keyword",match:J(/@/,Ie(...Be))},jn={className:"meta",match:J(/@/,ae)},ln=[Hn,Kn,jn],Qe={match:ee(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:J(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,le,"+")},{className:"type",match:De,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:J(/\s+&\s+/,ee(De)),relevance:0}]},ht={begin:/</,end:/>/,keywords:ue,contains:[...P,...Fe,...ln,mt,Qe]};Qe.contains.push(ht);const Ht={match:J(ae,/\s*:/),keywords:"_|0",relevance:0},jt={begin:/\(/,end:/\)/,relevance:0,keywords:ue,contains:["self",Ht,...P,...Fe,...Xe,...Ze,Qt,nn,...wt,...ln,Qe]},_n={begin:/</,end:/>/,contains:[...P,Qe]},or={begin:Ie(ee(J(ae,/\s*:/)),ee(J(ae,/\s+/,ae,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:ae}]},pr={begin:/\(/,end:/\)/,keywords:ue,contains:[or,...P,...Fe,...Ze,Qt,nn,...ln,Qe,jt],endsParent:!0,illegal:/["']/},dr={match:[/func/,/\s+/,Ie(Mt.match,ae,B)],className:{1:"keyword",3:"title.function"},contains:[_n,pr,b],illegal:[/\[/,/%/]},Or={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[_n,pr,b],illegal:/\[|%/},Ur={match:[/operator/,/\s+/,B],className:{1:"keyword",3:"title"}},Lr={begin:[/precedencegroup/,/\s+/,De],className:{1:"keyword",3:"title"},contains:[Qe],keywords:[...F,...A],end:/}/};for(const Dn of nn.variants){const wr=Dn.contains.find(er=>er.label==="interpol");wr.keywords=ue;const Er=[...Fe,...Xe,...Ze,Qt,nn,...wt];wr.contains=[...Er,{begin:/\(/,end:/\)/,contains:["self",...Er]}]}return{name:"Swift",keywords:ue,contains:[...P,dr,Or,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:ue,contains:[u.inherit(u.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...Fe]},Ur,Lr,{beginKeywords:"import",end:/$/,contains:[...P],relevance:0},...Fe,...Xe,...Ze,Qt,nn,...wt,...ln,Qe,jt]}}const qt="[A-Za-z$_][0-9A-Za-z$_]*",Gt=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],K=["true","false","null","undefined","NaN","Infinity"],se=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],Te=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],pt=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],vt=["arguments","this","super","console","window","document","localStorage","module","global"],zt=[].concat(pt,se,Te);function nt(u){const b=u.regex,O=(ln,{after:Qe})=>{const ht="</"+ln[0].slice(1);return ln.input.indexOf(ht,Qe)!==-1},P=qt,W={begin:"<>",end:"</>"},H=/<[A-Za-z0-9\\._:-]+\s*\/>/,V={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ln,Qe)=>{const ht=ln[0].length+ln.index,Ht=ln.input[ht];if(Ht==="<"||Ht===","){Qe.ignoreMatch();return}Ht===">"&&(O(ln,{after:ht})||Qe.ignoreMatch());let jt;const _n=ln.input.substring(ht);if(jt=_n.match(/^\s*=/)){Qe.ignoreMatch();return}if((jt=_n.match(/^\s+extends\s+/))&&jt.index===0){Qe.ignoreMatch();return}}},Z={$pattern:qt,keyword:Gt,literal:K,built_in:zt,"variable.language":vt},pe="[0-9](_?[0-9])*",ue=`\\.(${pe})`,Fe="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",je={className:"number",variants:[{begin:`(\\b(${Fe})((${ue})|\\.)?|(${ue}))[eE][+-]?(${pe})\\b`},{begin:`\\b(${Fe})\\b((${ue})\\b|\\.)?|(${ue})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},He={className:"subst",begin:"\\$\\{",end:"\\}",keywords:Z,contains:[]},Xe={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[u.BACKSLASH_ESCAPE,He],subLanguage:"xml"}},mt={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[u.BACKSLASH_ESCAPE,He],subLanguage:"css"}},_t={className:"string",begin:"`",end:"`",contains:[u.BACKSLASH_ESCAPE,He]},Ze=u.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:P+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),Ot={className:"comment",variants:[Ze,u.C_BLOCK_COMMENT_MODE,u.C_LINE_COMMENT_MODE]},Xt=[u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,Xe,mt,_t,{match:/\$\d+/},je];He.contains=Xt.concat({begin:/\{/,end:/\}/,keywords:Z,contains:["self"].concat(Xt)});const Qt=[].concat(Ot,He.contains),Vt=Qt.concat([{begin:/\(/,end:/\)/,keywords:Z,contains:["self"].concat(Qt)}]),on={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Z,contains:Vt},an={variants:[{match:[/class/,/\s+/,P,/\s+/,/extends/,/\s+/,b.concat(P,"(",b.concat(/\./,P),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,P],scope:{1:"keyword",3:"title.class"}}]},Yt={relevance:0,match:b.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...se,...Te]}},Jt={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},nn={variants:[{match:[/function/,/\s+/,P,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[on],illegal:/%/},Mt={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Gn(ln){return b.concat("(?!",ln.join("|"),")")}const sn={match:b.concat(/\b/,Gn([...pt,"super","import"]),P,b.lookahead(/\(/)),className:"title.function",relevance:0},wt={begin:b.concat(/\./,b.lookahead(b.concat(P,/(?![0-9A-Za-z$_(])/))),end:P,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Hn={match:[/get|set/,/\s+/,P,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},on]},Kn="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+u.UNDERSCORE_IDENT_RE+")\\s*=>",jn={match:[/const|var|let/,/\s+/,P,/\s*/,/=\s*/,/(async\s*)?/,b.lookahead(Kn)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[on]};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:Z,exports:{PARAMS_CONTAINS:Vt,CLASS_REFERENCE:Yt},illegal:/#(?![$_A-z])/,contains:[u.SHEBANG({label:"shebang",binary:"node",relevance:5}),Jt,u.APOS_STRING_MODE,u.QUOTE_STRING_MODE,Xe,mt,_t,Ot,{match:/\$\d+/},je,Yt,{className:"attr",begin:P+b.lookahead(":"),relevance:0},jn,{begin:"("+u.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[Ot,u.REGEXP_MODE,{className:"function",begin:Kn,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:u.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:Z,contains:Vt}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:W.begin,end:W.end},{match:H},{begin:V.begin,"on:begin":V.isTrulyOpeningTag,end:V.end}],subLanguage:"xml",contains:[{begin:V.begin,end:V.end,skip:!0,contains:["self"]}]}]},nn,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+u.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[on,u.inherit(u.TITLE_MODE,{begin:P,className:"title.function"})]},{match:/\.\.\./,relevance:0},wt,{match:"\\$"+P,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[on]},sn,Mt,an,Hn,{match:/\$[(.]/}]}}function ye(u){const b=nt(u),O=qt,P=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],W={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[b.exports.CLASS_REFERENCE]},H={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:P},contains:[b.exports.CLASS_REFERENCE]},V={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},Z=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],pe={$pattern:qt,keyword:Gt.concat(Z),literal:K,built_in:zt.concat(P),"variable.language":vt},ue={className:"meta",begin:"@"+O},Fe=(He,Xe,mt)=>{const _t=He.contains.findIndex(Ze=>Ze.label===Xe);if(_t===-1)throw new Error("can not find mode to replace");He.contains.splice(_t,1,mt)};Object.assign(b.keywords,pe),b.exports.PARAMS_CONTAINS.push(ue),b.contains=b.contains.concat([ue,W,H]),Fe(b,"shebang",u.SHEBANG()),Fe(b,"use_strict",V);const je=b.contains.find(He=>He.label==="func.def");return je.relevance=0,Object.assign(b,{name:"TypeScript",aliases:["ts","tsx"]}),b}function Rt(u){const b=u.regex,O={className:"string",begin:/"(""|[^/n])"C\b/},P={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},W=/\d{1,2}\/\d{1,2}\/\d{4}/,H=/\d{4}-\d{1,2}-\d{1,2}/,V=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,Z=/\d{1,2}(:\d{1,2}){1,2}/,pe={className:"literal",variants:[{begin:b.concat(/# */,b.either(H,W),/ *#/)},{begin:b.concat(/# */,Z,/ *#/)},{begin:b.concat(/# */,V,/ *#/)},{begin:b.concat(/# */,b.either(H,W),/ +/,b.either(V,Z),/ *#/)}]},ue={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},Fe={className:"label",begin:/^\w+:/},je=u.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),He=u.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[O,P,pe,ue,Fe,je,He,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[He]}]}}function hn(u){u.regex;const b=u.COMMENT(/\(;/,/;\)/);b.contains.push("self");const O=u.COMMENT(/;;/,/$/),P=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],W={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},H={className:"variable",begin:/\$[\w_]+/},V={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},Z={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},pe={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},ue={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:P},contains:[O,b,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},H,V,W,u.QUOTE_STRING_MODE,pe,ue,Z]}}function yn(u){const b=u.regex,O=b.concat(/[\p{L}_]/u,b.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),P=/[\p{L}0-9._:-]+/u,W={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},H={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},V=u.inherit(H,{begin:/\(/,end:/\)/}),Z=u.inherit(u.APOS_STRING_MODE,{className:"string"}),pe=u.inherit(u.QUOTE_STRING_MODE,{className:"string"}),ue={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:P,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[W]},{begin:/'/,end:/'/,contains:[W]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[H,pe,Z,V,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[H,V,pe,Z]}]}]},u.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},W,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[pe]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[ue],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[ue],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:b.concat(/</,b.lookahead(b.concat(O,b.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:O,relevance:0,starts:ue}]},{className:"tag",begin:b.concat(/<\//,b.lookahead(b.concat(O,/>/))),contains:[{className:"name",begin:O,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function Jn(u){const b="true false yes no null",O="[\\w#;/?:@&=+$,.~*'()[\\]]+",P={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},W={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},H={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[u.BACKSLASH_ESCAPE,W]},V=u.inherit(H,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),Z="[0-9]{4}(-[0-9][0-9]){0,2}",pe="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",ue="(\\.[0-9]*)?",Fe="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",je={className:"number",begin:"\\b"+Z+pe+ue+Fe+"\\b"},He={end:",",endsWithParent:!0,excludeEnd:!0,keywords:b,relevance:0},Xe={begin:/\{/,end:/\}/,contains:[He],illegal:"\\n",relevance:0},mt={begin:"\\[",end:"\\]",contains:[He],illegal:"\\n",relevance:0},_t=[P,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+O},{className:"type",begin:"!<"+O+">"},{className:"type",begin:"!"+O},{className:"type",begin:"!!"+O},{className:"meta",begin:"&"+u.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+u.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},u.HASH_COMMENT_MODE,{beginKeywords:b,keywords:{literal:b}},je,{className:"number",begin:u.C_NUMBER_RE+"\\b",relevance:0},Xe,mt,H],Ze=[..._t];return Ze.pop(),Ze.push(V),He.contains=Ze,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:_t}}var Wn=Re(71070),In=Wn,sr=Re(90993);const Qn=Object.assign(qn(Error),{eval:qn(EvalError),range:qn(RangeError),reference:qn(ReferenceError),syntax:qn(SyntaxError),type:qn(TypeError),uri:qn(URIError)});function qn(u){return b.displayName=u.displayName||u.name,b;function b(O,...P){const W=O&&sr(O,...P);return new u(W)}}const ar={}.hasOwnProperty,ir="hljs-";function rr(u,b,O={}){let P=O.prefix;if(typeof u!="string")throw Qn("Expected `string` for name, got `%s`",u);if(!In.getLanguage(u))throw Qn("Unknown language: `%s` is not registered",u);if(typeof b!="string")throw Qn("Expected `string` for value, got `%s`",b);P==null&&(P=ir),In.configure({__emitter:N,classPrefix:P});const W=In.highlight(b,{language:u,ignoreIllegals:!0});if(In.configure({}),W.errorRaised)throw W.errorRaised;return W._emitter.root.data.language=W.language,W._emitter.root.data.relevance=W.relevance,W._emitter.root}function h(u,b={}){const O=b.subset||In.listLanguages();let P=b.prefix,W=-1,H={type:"root",data:{language:null,relevance:0},children:[]};if(P==null&&(P=ir),typeof u!="string")throw Qn("Expected `string` for value, got `%s`",u);for(;++W<O.length;){const V=O[W];if(!In.getLanguage(V))continue;const Z=rr(V,u,b);Z.data.relevance>H.data.relevance&&(H=Z)}return H}function c(u,b){In.registerLanguage(u,b)}const m=function(u,b){if(typeof u=="string")In.registerAliases(b,{languageName:u});else{let O;for(O in u)ar.call(u,O)&&In.registerAliases(u[O],{languageName:O})}};function p(u){return Boolean(In.getLanguage(u))}function v(){return In.listLanguages()}class N{constructor(b){this.options=b,this.root={type:"root",data:{language:null,relevance:0},children:[]},this.stack=[this.root]}addText(b){if(b==="")return;const O=this.stack[this.stack.length-1],P=O.children[O.children.length-1];P&&P.type==="text"?P.value+=b:O.children.push({type:"text",value:b})}addKeyword(b,O){this.openNode(O),this.addText(b),this.closeNode()}addSublanguage(b,O){const P=this.stack[this.stack.length-1],W=b.root.children;O?P.children.push({type:"element",tagName:"span",properties:{className:[O]},children:W}):P.children.push(...W)}openNode(b){const O=b.split(".").map((H,V)=>V?H+"_".repeat(V):this.options.classPrefix+H),P=this.stack[this.stack.length-1],W={type:"element",tagName:"span",properties:{className:O},children:[]};P.children.push(W),this.stack.push(W)}closeNode(){this.stack.pop()}closeAllNodes(){}finalize(){}toHTML(){return""}}const R={highlight:rr,highlightAuto:h,registerLanguage:c,registered:p,listLanguages:v,registerAlias:m};R.registerLanguage("arduino",Se),R.registerLanguage("bash",me),R.registerLanguage("c",fe),R.registerLanguage("cpp",de),R.registerLanguage("csharp",qe),R.registerLanguage("css",ft),R.registerLanguage("diff",it),R.registerLanguage("go",ot),R.registerLanguage("graphql",bt),R.registerLanguage("ini",dt),R.registerLanguage("java",xe),R.registerLanguage("javascript",X),R.registerLanguage("json",ne),R.registerLanguage("kotlin",Lt),R.registerLanguage("less",Tn),R.registerLanguage("lua",bn),R.registerLanguage("makefile",un),R.registerLanguage("markdown",Fn),R.registerLanguage("objectivec",kn),R.registerLanguage("perl",dn),R.registerLanguage("php",rn),R.registerLanguage("php-template",xn),R.registerLanguage("plaintext",fn),R.registerLanguage("python",Cn),R.registerLanguage("python-repl",wn),R.registerLanguage("r",Vn),R.registerLanguage("ruby",Yn),R.registerLanguage("rust",pn),R.registerLanguage("scss",E),R.registerLanguage("shell",_),R.registerLanguage("sql",C),R.registerLanguage("swift",It),R.registerLanguage("typescript",ye),R.registerLanguage("vbnet",Rt),R.registerLanguage("wasm",hn),R.registerLanguage("xml",yn),R.registerLanguage("yaml",Jn)},49034:function(cn,kt,Re){"use strict";Re.d(kt,{$:function(){return dt},h:function(){return bt}});for(var x={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Se={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},me=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),fe=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),de=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),qe=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$e=de||me&&+me[1]<57,Ue=0;Ue<10;Ue++)x[48+Ue]=x[96+Ue]=String(Ue);for(var Ue=1;Ue<=24;Ue++)x[Ue+111]="F"+Ue;for(var Ue=65;Ue<=90;Ue++)x[Ue]=String.fromCharCode(Ue+32),Se[Ue]=String.fromCharCode(Ue);for(var Ce in x)Se.hasOwnProperty(Ce)||(Se[Ce]=x[Ce]);function Pe(Me){var Oe=$e&&(Me.ctrlKey||Me.altKey||Me.metaKey)||qe&&Me.shiftKey&&Me.key&&Me.key.length==1||Me.key=="Unidentified",Je=!Oe&&Me.key||(Me.shiftKey?Se:x)[Me.keyCode]||Me.key||"Unidentified";return Je=="Esc"&&(Je="Escape"),Je=="Del"&&(Je="Delete"),Je=="Left"&&(Je="ArrowLeft"),Je=="Up"&&(Je="ArrowUp"),Je=="Right"&&(Je="ArrowRight"),Je=="Down"&&(Je="ArrowDown"),Je}var Ye=Re(66961);const rt=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function ft(Me){let Oe=Me.split(/-(?!$)/),Je=Oe[Oe.length-1];Je=="Space"&&(Je=" ");let Ve,G,xe,Ke;for(let yt=0;yt<Oe.length-1;yt++){let et=Oe[yt];if(/^(cmd|meta|m)$/i.test(et))Ke=!0;else if(/^a(lt)?$/i.test(et))Ve=!0;else if(/^(c|ctrl|control)$/i.test(et))G=!0;else if(/^s(hift)?$/i.test(et))xe=!0;else if(/^mod$/i.test(et))rt?Ke=!0:G=!0;else throw new Error("Unrecognized modifier name: "+et)}return Ve&&(Je="Alt-"+Je),G&&(Je="Ctrl-"+Je),Ke&&(Je="Meta-"+Je),xe&&(Je="Shift-"+Je),Je}function it(Me){let Oe=Object.create(null);for(let Je in Me)Oe[ft(Je)]=Me[Je];return Oe}function ot(Me,Oe,Je=!0){return Oe.altKey&&(Me="Alt-"+Me),Oe.ctrlKey&&(Me="Ctrl-"+Me),Oe.metaKey&&(Me="Meta-"+Me),Je&&Oe.shiftKey&&(Me="Shift-"+Me),Me}function bt(Me){return new Ye.Sy({props:{handleKeyDown:dt(Me)}})}function dt(Me){let Oe=it(Me);return function(Je,Ve){let G=Pe(Ve),xe,Ke=Oe[ot(G,Ve)];if(Ke&&Ke(Je.state,Je.dispatch,Je))return!0;if(G.length==1&&G!=" "){if(Ve.shiftKey){let yt=Oe[ot(G,Ve,!1)];if(yt&&yt(Je.state,Je.dispatch,Je))return!0}if((Ve.shiftKey||Ve.altKey||Ve.metaKey||G.charCodeAt(0)>127)&&(xe=x[Ve.keyCode])&&xe!=G){let yt=Oe[ot(xe,Ve)];if(yt&&yt(Je.state,Je.dispatch,Je))return!0}}return!1}}},72883:function(cn,kt,Re){"use strict";Re.d(kt,{aw:function(){return Cn},PW:function(){return J},HY:function(){return de},vc:function(){return Ce},ZU:function(){return rn},NB:function(){return Ne},Ts:function(){return Nt},e4:function(){return Pe},V_:function(){return xn},p2:function(){return Ye}});function x(D){this.content=D}x.prototype={constructor:x,find:function(D){for(var s=0;s<this.content.length;s+=2)if(this.content[s]===D)return s;return-1},get:function(D){var s=this.find(D);return s==-1?void 0:this.content[s+1]},update:function(D,s,l){var y=l&&l!=D?this.remove(l):this,M=y.find(D),A=y.content.slice();return M==-1?A.push(l||D,s):(A[M+1]=s,l&&(A[M]=l)),new x(A)},remove:function(D){var s=this.find(D);if(s==-1)return this;var l=this.content.slice();return l.splice(s,2),new x(l)},addToStart:function(D,s){return new x([D,s].concat(this.remove(D).content))},addToEnd:function(D,s){var l=this.remove(D).content.slice();return l.push(D,s),new x(l)},addBefore:function(D,s,l){var y=this.remove(s),M=y.content.slice(),A=y.find(D);return M.splice(A==-1?M.length:A,0,s,l),new x(M)},forEach:function(D){for(var s=0;s<this.content.length;s+=2)D(this.content[s],this.content[s+1])},prepend:function(D){return D=x.from(D),D.size?new x(D.content.concat(this.subtract(D).content)):this},append:function(D){return D=x.from(D),D.size?new x(this.subtract(D).content.concat(D.content)):this},subtract:function(D){var s=this;D=x.from(D);for(var l=0;l<D.content.length;l+=2)s=s.remove(D.content[l]);return s},toObject:function(){var D={};return this.forEach(function(s,l){D[s]=l}),D},get size(){return this.content.length>>1}},x.from=function(D){if(D instanceof x)return D;var s=[];if(D)for(var l in D)s.push(l,D[l]);return new x(s)};var Se=x;function me(D,s,l){for(let y=0;;y++){if(y==D.childCount||y==s.childCount)return D.childCount==s.childCount?null:l;let M=D.child(y),A=s.child(y);if(M==A){l+=M.nodeSize;continue}if(!M.sameMarkup(A))return l;if(M.isText&&M.text!=A.text){for(let F=0;M.text[F]==A.text[F];F++)l++;return l}if(M.content.size||A.content.size){let F=me(M.content,A.content,l+1);if(F!=null)return F}l+=M.nodeSize}}function fe(D,s,l,y){for(let M=D.childCount,A=s.childCount;;){if(M==0||A==0)return M==A?null:{a:l,b:y};let F=D.child(--M),Q=s.child(--A),ge=F.nodeSize;if(F==Q){l-=ge,y-=ge;continue}if(!F.sameMarkup(Q))return{a:l,b:y};if(F.isText&&F.text!=Q.text){let at=0,L=Math.min(F.text.length,Q.text.length);for(;at<L&&F.text[F.text.length-at-1]==Q.text[Q.text.length-at-1];)at++,l--,y--;return{a:l,b:y}}if(F.content.size||Q.content.size){let at=fe(F.content,Q.content,l-1,y-1);if(at)return at}l-=ge,y-=ge}}class de{constructor(s,l){if(this.content=s,this.size=l||0,l==null)for(let y=0;y<s.length;y++)this.size+=s[y].nodeSize}nodesBetween(s,l,y,M=0,A){for(let F=0,Q=0;Q<l;F++){let ge=this.content[F],at=Q+ge.nodeSize;if(at>s&&y(ge,M+Q,A||null,F)!==!1&&ge.content.size){let L=Q+1;ge.nodesBetween(Math.max(0,s-L),Math.min(ge.content.size,l-L),y,M+L)}Q=at}}descendants(s){this.nodesBetween(0,this.size,s)}textBetween(s,l,y,M){let A="",F=!0;return this.nodesBetween(s,l,(Q,ge)=>{Q.isText?(A+=Q.text.slice(Math.max(s,ge)-ge,l-ge),F=!y):Q.isLeaf?(M?A+=typeof M=="function"?M(Q):M:Q.type.spec.leafText&&(A+=Q.type.spec.leafText(Q)),F=!y):!F&&Q.isBlock&&(A+=y,F=!0)},0),A}append(s){if(!s.size)return this;if(!this.size)return s;let l=this.lastChild,y=s.firstChild,M=this.content.slice(),A=0;for(l.isText&&l.sameMarkup(y)&&(M[M.length-1]=l.withText(l.text+y.text),A=1);A<s.content.length;A++)M.push(s.content[A]);return new de(M,this.size+s.size)}cut(s,l=this.size){if(s==0&&l==this.size)return this;let y=[],M=0;if(l>s)for(let A=0,F=0;F<l;A++){let Q=this.content[A],ge=F+Q.nodeSize;ge>s&&((F<s||ge>l)&&(Q.isText?Q=Q.cut(Math.max(0,s-F),Math.min(Q.text.length,l-F)):Q=Q.cut(Math.max(0,s-F-1),Math.min(Q.content.size,l-F-1))),y.push(Q),M+=Q.nodeSize),F=ge}return new de(y,M)}cutByIndex(s,l){return s==l?de.empty:s==0&&l==this.content.length?this:new de(this.content.slice(s,l))}replaceChild(s,l){let y=this.content[s];if(y==l)return this;let M=this.content.slice(),A=this.size+l.nodeSize-y.nodeSize;return M[s]=l,new de(M,A)}addToStart(s){return new de([s].concat(this.content),this.size+s.nodeSize)}addToEnd(s){return new de(this.content.concat(s),this.size+s.nodeSize)}eq(s){if(this.content.length!=s.content.length)return!1;for(let l=0;l<this.content.length;l++)if(!this.content[l].eq(s.content[l]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(s){let l=this.content[s];if(!l)throw new RangeError("Index "+s+" out of range for "+this);return l}maybeChild(s){return this.content[s]||null}forEach(s){for(let l=0,y=0;l<this.content.length;l++){let M=this.content[l];s(M,y,l),y+=M.nodeSize}}findDiffStart(s,l=0){return me(this,s,l)}findDiffEnd(s,l=this.size,y=s.size){return fe(this,s,l,y)}findIndex(s,l=-1){if(s==0)return $e(0,s);if(s==this.size)return $e(this.content.length,s);if(s>this.size||s<0)throw new RangeError(`Position ${s} outside of fragment (${this})`);for(let y=0,M=0;;y++){let A=this.child(y),F=M+A.nodeSize;if(F>=s)return F==s||l>0?$e(y+1,F):$e(y,M);M=F}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(s=>s.toJSON()):null}static fromJSON(s,l){if(!l)return de.empty;if(!Array.isArray(l))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(l.map(s.nodeFromJSON))}static fromArray(s){if(!s.length)return de.empty;let l,y=0;for(let M=0;M<s.length;M++){let A=s[M];y+=A.nodeSize,M&&A.isText&&s[M-1].sameMarkup(A)?(l||(l=s.slice(0,M)),l[l.length-1]=A.withText(l[l.length-1].text+A.text)):l&&l.push(A)}return new de(l||s,y)}static from(s){if(!s)return de.empty;if(s instanceof de)return s;if(Array.isArray(s))return this.fromArray(s);if(s.attrs)return new de([s],s.nodeSize);throw new RangeError("Can not convert "+s+" to a Fragment"+(s.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const qe={index:0,offset:0};function $e(D,s){return qe.index=D,qe.offset=s,qe}function Ue(D,s){if(D===s)return!0;if(!(D&&typeof D=="object")||!(s&&typeof s=="object"))return!1;let l=Array.isArray(D);if(Array.isArray(s)!=l)return!1;if(l){if(D.length!=s.length)return!1;for(let y=0;y<D.length;y++)if(!Ue(D[y],s[y]))return!1}else{for(let y in D)if(!(y in s)||!Ue(D[y],s[y]))return!1;for(let y in s)if(!(y in D))return!1}return!0}class Ce{constructor(s,l){this.type=s,this.attrs=l}addToSet(s){let l,y=!1;for(let M=0;M<s.length;M++){let A=s[M];if(this.eq(A))return s;if(this.type.excludes(A.type))l||(l=s.slice(0,M));else{if(A.type.excludes(this.type))return s;!y&&A.type.rank>this.type.rank&&(l||(l=s.slice(0,M)),l.push(this),y=!0),l&&l.push(A)}}return l||(l=s.slice()),y||l.push(this),l}removeFromSet(s){for(let l=0;l<s.length;l++)if(this.eq(s[l]))return s.slice(0,l).concat(s.slice(l+1));return s}isInSet(s){for(let l=0;l<s.length;l++)if(this.eq(s[l]))return!0;return!1}eq(s){return this==s||this.type==s.type&&Ue(this.attrs,s.attrs)}toJSON(){let s={type:this.type.name};for(let l in this.attrs){s.attrs=this.attrs;break}return s}static fromJSON(s,l){if(!l)throw new RangeError("Invalid input for Mark.fromJSON");let y=s.marks[l.type];if(!y)throw new RangeError(`There is no mark type ${l.type} in this schema`);return y.create(l.attrs)}static sameSet(s,l){if(s==l)return!0;if(s.length!=l.length)return!1;for(let y=0;y<s.length;y++)if(!s[y].eq(l[y]))return!1;return!0}static setFrom(s){if(!s||Array.isArray(s)&&s.length==0)return Ce.none;if(s instanceof Ce)return[s];let l=s.slice();return l.sort((y,M)=>y.type.rank-M.type.rank),l}}Ce.none=[];class Pe extends Error{}class Ye{constructor(s,l,y){this.content=s,this.openStart=l,this.openEnd=y}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(s,l){let y=ft(this.content,s+this.openStart,l);return y&&new Ye(y,this.openStart,this.openEnd)}removeBetween(s,l){return new Ye(rt(this.content,s+this.openStart,l+this.openStart),this.openStart,this.openEnd)}eq(s){return this.content.eq(s.content)&&this.openStart==s.openStart&&this.openEnd==s.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let s={content:this.content.toJSON()};return this.openStart>0&&(s.openStart=this.openStart),this.openEnd>0&&(s.openEnd=this.openEnd),s}static fromJSON(s,l){if(!l)return Ye.empty;let y=l.openStart||0,M=l.openEnd||0;if(typeof y!="number"||typeof M!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ye(de.fromJSON(s,l.content),y,M)}static maxOpen(s,l=!0){let y=0,M=0;for(let A=s.firstChild;A&&!A.isLeaf&&(l||!A.type.spec.isolating);A=A.firstChild)y++;for(let A=s.lastChild;A&&!A.isLeaf&&(l||!A.type.spec.isolating);A=A.lastChild)M++;return new Ye(s,y,M)}}Ye.empty=new Ye(de.empty,0,0);function rt(D,s,l){let{index:y,offset:M}=D.findIndex(s),A=D.maybeChild(y),{index:F,offset:Q}=D.findIndex(l);if(M==s||A.isText){if(Q!=l&&!D.child(F).isText)throw new RangeError("Removing non-flat range");return D.cut(0,s).append(D.cut(l))}if(y!=F)throw new RangeError("Removing non-flat range");return D.replaceChild(y,A.copy(rt(A.content,s-M-1,l-M-1)))}function ft(D,s,l,y){let{index:M,offset:A}=D.findIndex(s),F=D.maybeChild(M);if(A==s||F.isText)return y&&!y.canReplace(M,M,l)?null:D.cut(0,s).append(l).append(D.cut(s));let Q=ft(F.content,s-A-1,l);return Q&&D.replaceChild(M,F.copy(Q))}function it(D,s,l){if(l.openStart>D.depth)throw new Pe("Inserted content deeper than insertion position");if(D.depth-l.openStart!=s.depth-l.openEnd)throw new Pe("Inconsistent open depths");return ot(D,s,l,0)}function ot(D,s,l,y){let M=D.index(y),A=D.node(y);if(M==s.index(y)&&y<D.depth-l.openStart){let F=ot(D,s,l,y+1);return A.copy(A.content.replaceChild(M,F))}else if(l.content.size)if(!l.openStart&&!l.openEnd&&D.depth==y&&s.depth==y){let F=D.parent,Q=F.content;return Je(F,Q.cut(0,D.parentOffset).append(l.content).append(Q.cut(s.parentOffset)))}else{let{start:F,end:Q}=xe(l,D);return Je(A,Ve(D,F,Q,s,y))}else return Je(A,G(D,s,y))}function bt(D,s){if(!s.type.compatibleContent(D.type))throw new Pe("Cannot join "+s.type.name+" onto "+D.type.name)}function dt(D,s,l){let y=D.node(l);return bt(y,s.node(l)),y}function Me(D,s){let l=s.length-1;l>=0&&D.isText&&D.sameMarkup(s[l])?s[l]=D.withText(s[l].text+D.text):s.push(D)}function Oe(D,s,l,y){let M=(s||D).node(l),A=0,F=s?s.index(l):M.childCount;D&&(A=D.index(l),D.depth>l?A++:D.textOffset&&(Me(D.nodeAfter,y),A++));for(let Q=A;Q<F;Q++)Me(M.child(Q),y);s&&s.depth==l&&s.textOffset&&Me(s.nodeBefore,y)}function Je(D,s){return D.type.checkContent(s),D.copy(s)}function Ve(D,s,l,y,M){let A=D.depth>M&&dt(D,s,M+1),F=y.depth>M&&dt(l,y,M+1),Q=[];return Oe(null,D,M,Q),A&&F&&s.index(M)==l.index(M)?(bt(A,F),Me(Je(A,Ve(D,s,l,y,M+1)),Q)):(A&&Me(Je(A,G(D,s,M+1)),Q),Oe(s,l,M,Q),F&&Me(Je(F,G(l,y,M+1)),Q)),Oe(y,null,M,Q),new de(Q)}function G(D,s,l){let y=[];if(Oe(null,D,l,y),D.depth>l){let M=dt(D,s,l+1);Me(Je(M,G(D,s,l+1)),y)}return Oe(s,null,l,y),new de(y)}function xe(D,s){let l=s.depth-D.openStart,M=s.node(l).copy(D.content);for(let A=l-1;A>=0;A--)M=s.node(A).copy(de.from(M));return{start:M.resolveNoCache(D.openStart+l),end:M.resolveNoCache(M.content.size-D.openEnd-l)}}class Ke{constructor(s,l,y){this.pos=s,this.path=l,this.parentOffset=y,this.depth=l.length/3-1}resolveDepth(s){return s==null?this.depth:s<0?this.depth+s:s}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(s){return this.path[this.resolveDepth(s)*3]}index(s){return this.path[this.resolveDepth(s)*3+1]}indexAfter(s){return s=this.resolveDepth(s),this.index(s)+(s==this.depth&&!this.textOffset?0:1)}start(s){return s=this.resolveDepth(s),s==0?0:this.path[s*3-1]+1}end(s){return s=this.resolveDepth(s),this.start(s)+this.node(s).content.size}before(s){if(s=this.resolveDepth(s),!s)throw new RangeError("There is no position before the top-level node");return s==this.depth+1?this.pos:this.path[s*3-1]}after(s){if(s=this.resolveDepth(s),!s)throw new RangeError("There is no position after the top-level node");return s==this.depth+1?this.pos:this.path[s*3-1]+this.path[s*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let s=this.parent,l=this.index(this.depth);if(l==s.childCount)return null;let y=this.pos-this.path[this.path.length-1],M=s.child(l);return y?s.child(l).cut(y):M}get nodeBefore(){let s=this.index(this.depth),l=this.pos-this.path[this.path.length-1];return l?this.parent.child(s).cut(0,l):s==0?null:this.parent.child(s-1)}posAtIndex(s,l){l=this.resolveDepth(l);let y=this.path[l*3],M=l==0?0:this.path[l*3-1]+1;for(let A=0;A<s;A++)M+=y.child(A).nodeSize;return M}marks(){let s=this.parent,l=this.index();if(s.content.size==0)return Ce.none;if(this.textOffset)return s.child(l).marks;let y=s.maybeChild(l-1),M=s.maybeChild(l);if(!y){let Q=y;y=M,M=Q}let A=y.marks;for(var F=0;F<A.length;F++)A[F].type.spec.inclusive===!1&&(!M||!A[F].isInSet(M.marks))&&(A=A[F--].removeFromSet(A));return A}marksAcross(s){let l=this.parent.maybeChild(this.index());if(!l||!l.isInline)return null;let y=l.marks,M=s.parent.maybeChild(s.index());for(var A=0;A<y.length;A++)y[A].type.spec.inclusive===!1&&(!M||!y[A].isInSet(M.marks))&&(y=y[A--].removeFromSet(y));return y}sharedDepth(s){for(let l=this.depth;l>0;l--)if(this.start(l)<=s&&this.end(l)>=s)return l;return 0}blockRange(s=this,l){if(s.pos<this.pos)return s.blockRange(this);for(let y=this.depth-(this.parent.inlineContent||this.pos==s.pos?1:0);y>=0;y--)if(s.pos<=this.end(y)&&(!l||l(this.node(y))))return new Nt(this,s,y);return null}sameParent(s){return this.pos-this.parentOffset==s.pos-s.parentOffset}max(s){return s.pos>this.pos?s:this}min(s){return s.pos<this.pos?s:this}toString(){let s="";for(let l=1;l<=this.depth;l++)s+=(s?"/":"")+this.node(l).type.name+"_"+this.index(l-1);return s+":"+this.parentOffset}static resolve(s,l){if(!(l>=0&&l<=s.content.size))throw new RangeError("Position "+l+" out of range");let y=[],M=0,A=l;for(let F=s;;){let{index:Q,offset:ge}=F.content.findIndex(A),at=A-ge;if(y.push(F,Q,M+ge),!at||(F=F.child(Q),F.isText))break;A=at-1,M+=ge+1}return new Ke(l,y,A)}static resolveCached(s,l){for(let M=0;M<yt.length;M++){let A=yt[M];if(A.pos==l&&A.doc==s)return A}let y=yt[et]=Ke.resolve(s,l);return et=(et+1)%Ut,y}}let yt=[],et=0,Ut=12;class Nt{constructor(s,l,y){this.$from=s,this.$to=l,this.depth=y}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Ft=Object.create(null);class Ne{constructor(s,l,y,M=Ce.none){this.type=s,this.attrs=l,this.marks=M,this.content=y||de.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(s){return this.content.child(s)}maybeChild(s){return this.content.maybeChild(s)}forEach(s){this.content.forEach(s)}nodesBetween(s,l,y,M=0){this.content.nodesBetween(s,l,y,M,this)}descendants(s){this.nodesBetween(0,this.content.size,s)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(s,l,y,M){return this.content.textBetween(s,l,y,M)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(s){return this==s||this.sameMarkup(s)&&this.content.eq(s.content)}sameMarkup(s){return this.hasMarkup(s.type,s.attrs,s.marks)}hasMarkup(s,l,y){return this.type==s&&Ue(this.attrs,l||s.defaultAttrs||Ft)&&Ce.sameSet(this.marks,y||Ce.none)}copy(s=null){return s==this.content?this:new Ne(this.type,this.attrs,s,this.marks)}mark(s){return s==this.marks?this:new Ne(this.type,this.attrs,this.content,s)}cut(s,l=this.content.size){return s==0&&l==this.content.size?this:this.copy(this.content.cut(s,l))}slice(s,l=this.content.size,y=!1){if(s==l)return Ye.empty;let M=this.resolve(s),A=this.resolve(l),F=y?0:M.sharedDepth(l),Q=M.start(F),at=M.node(F).content.cut(M.pos-Q,A.pos-Q);return new Ye(at,M.depth-F,A.depth-F)}replace(s,l,y){return it(this.resolve(s),this.resolve(l),y)}nodeAt(s){for(let l=this;;){let{index:y,offset:M}=l.content.findIndex(s);if(l=l.maybeChild(y),!l)return null;if(M==s||l.isText)return l;s-=M+1}}childAfter(s){let{index:l,offset:y}=this.content.findIndex(s);return{node:this.content.maybeChild(l),index:l,offset:y}}childBefore(s){if(s==0)return{node:null,index:0,offset:0};let{index:l,offset:y}=this.content.findIndex(s);if(y<s)return{node:this.content.child(l),index:l,offset:y};let M=this.content.child(l-1);return{node:M,index:l-1,offset:y-M.nodeSize}}resolve(s){return Ke.resolveCached(this,s)}resolveNoCache(s){return Ke.resolve(this,s)}rangeHasMark(s,l,y){let M=!1;return l>s&&this.nodesBetween(s,l,A=>(y.isInSet(A.marks)&&(M=!0),!M)),M}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let s=this.type.name;return this.content.size&&(s+="("+this.content.toStringInner()+")"),X(this.marks,s)}contentMatchAt(s){let l=this.type.contentMatch.matchFragment(this.content,0,s);if(!l)throw new Error("Called contentMatchAt on a node with invalid content");return l}canReplace(s,l,y=de.empty,M=0,A=y.childCount){let F=this.contentMatchAt(s).matchFragment(y,M,A),Q=F&&F.matchFragment(this.content,l);if(!Q||!Q.validEnd)return!1;for(let ge=M;ge<A;ge++)if(!this.type.allowsMarks(y.child(ge).marks))return!1;return!0}canReplaceWith(s,l,y,M){if(M&&!this.type.allowsMarks(M))return!1;let A=this.contentMatchAt(s).matchType(y),F=A&&A.matchFragment(this.content,l);return F?F.validEnd:!1}canAppend(s){return s.content.size?this.canReplace(this.childCount,this.childCount,s.content):this.type.compatibleContent(s.type)}check(){this.type.checkContent(this.content);let s=Ce.none;for(let l=0;l<this.marks.length;l++)s=this.marks[l].addToSet(s);if(!Ce.sameSet(s,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(l=>l.type.name)}`);this.content.forEach(l=>l.check())}toJSON(){let s={type:this.type.name};for(let l in this.attrs){s.attrs=this.attrs;break}return this.content.size&&(s.content=this.content.toJSON()),this.marks.length&&(s.marks=this.marks.map(l=>l.toJSON())),s}static fromJSON(s,l){if(!l)throw new RangeError("Invalid input for Node.fromJSON");let y=null;if(l.marks){if(!Array.isArray(l.marks))throw new RangeError("Invalid mark data for Node.fromJSON");y=l.marks.map(s.markFromJSON)}if(l.type=="text"){if(typeof l.text!="string")throw new RangeError("Invalid text node in JSON");return s.text(l.text,y)}let M=de.fromJSON(s,l.content);return s.nodeType(l.type).create(l.attrs,M,y)}}Ne.prototype.text=void 0;class U extends Ne{constructor(s,l,y,M){super(s,l,null,M);if(!y)throw new RangeError("Empty text nodes are not allowed");this.text=y}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):X(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(s,l){return this.text.slice(s,l)}get nodeSize(){return this.text.length}mark(s){return s==this.marks?this:new U(this.type,this.attrs,this.text,s)}withText(s){return s==this.text?this:new U(this.type,this.attrs,s,this.marks)}cut(s=0,l=this.text.length){return s==0&&l==this.text.length?this:this.withText(this.text.slice(s,l))}eq(s){return this.sameMarkup(s)&&this.text==s.text}toJSON(){let s=super.toJSON();return s.text=this.text,s}}function X(D,s){for(let l=D.length-1;l>=0;l--)s=D[l].type.name+"("+s+")";return s}class ne{constructor(s){this.validEnd=s,this.next=[],this.wrapCache=[]}static parse(s,l){let y=new ke(s,l);if(y.next==null)return ne.empty;let M=We(y);y.next&&y.err("Unexpected trailing text");let A=tn(On(M));return Tn(A,y),A}matchType(s){for(let l=0;l<this.next.length;l++)if(this.next[l].type==s)return this.next[l].next;return null}matchFragment(s,l=0,y=s.childCount){let M=this;for(let A=l;M&&A<y;A++)M=M.matchType(s.child(A).type);return M}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let s=0;s<this.next.length;s++){let{type:l}=this.next[s];if(!(l.isText||l.hasRequiredAttrs()))return l}return null}compatible(s){for(let l=0;l<this.next.length;l++)for(let y=0;y<s.next.length;y++)if(this.next[l].type==s.next[y].type)return!0;return!1}fillBefore(s,l=!1,y=0){let M=[this];function A(F,Q){let ge=F.matchFragment(s,y);if(ge&&(!l||ge.validEnd))return de.from(Q.map(at=>at.createAndFill()));for(let at=0;at<F.next.length;at++){let{type:L,next:B}=F.next[at];if(!(L.isText||L.hasRequiredAttrs())&&M.indexOf(B)==-1){M.push(B);let q=A(B,Q.concat(L));if(q)return q}}return null}return A(this,[])}findWrapping(s){for(let y=0;y<this.wrapCache.length;y+=2)if(this.wrapCache[y]==s)return this.wrapCache[y+1];let l=this.computeWrapping(s);return this.wrapCache.push(s,l),l}computeWrapping(s){let l=Object.create(null),y=[{match:this,type:null,via:null}];for(;y.length;){let M=y.shift(),A=M.match;if(A.matchType(s)){let F=[];for(let Q=M;Q.type;Q=Q.via)F.push(Q.type);return F.reverse()}for(let F=0;F<A.next.length;F++){let{type:Q,next:ge}=A.next[F];!Q.isLeaf&&!Q.hasRequiredAttrs()&&!(Q.name in l)&&(!M.type||ge.validEnd)&&(y.push({match:Q.contentMatch,type:Q,via:M}),l[Q.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(s){if(s>=this.next.length)throw new RangeError(`There's no ${s}th edge in this content match`);return this.next[s]}toString(){let s=[];function l(y){s.push(y);for(let M=0;M<y.next.length;M++)s.indexOf(y.next[M].next)==-1&&l(y.next[M].next)}return l(this),s.map((y,M)=>{let A=M+(y.validEnd?"*":" ")+" ";for(let F=0;F<y.next.length;F++)A+=(F?", ":"")+y.next[F].type.name+"->"+s.indexOf(y.next[F].next);return A}).join(`
`)}}ne.empty=new ne(!0);class ke{constructor(s,l){this.string=s,this.nodeTypes=l,this.inline=null,this.pos=0,this.tokens=s.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(s){return this.next==s&&(this.pos++||!0)}err(s){throw new SyntaxError(s+" (in content expression '"+this.string+"')")}}function We(D){let s=[];do s.push(st(D));while(D.eat("|"));return s.length==1?s[0]:{type:"choice",exprs:s}}function st(D){let s=[];do s.push(Bt(D));while(D.next&&D.next!=")"&&D.next!="|");return s.length==1?s[0]:{type:"seq",exprs:s}}function Bt(D){let s=En(D);for(;;)if(D.eat("+"))s={type:"plus",expr:s};else if(D.eat("*"))s={type:"star",expr:s};else if(D.eat("?"))s={type:"opt",expr:s};else if(D.eat("{"))s=Ct(D,s);else break;return s}function Lt(D){/\D/.test(D.next)&&D.err("Expected number, got '"+D.next+"'");let s=Number(D.next);return D.pos++,s}function Ct(D,s){let l=Lt(D),y=l;return D.eat(",")&&(D.next!="}"?y=Lt(D):y=-1),D.eat("}")||D.err("Unclosed braced range"),{type:"range",min:l,max:y,expr:s}}function Tt(D,s){let l=D.nodeTypes,y=l[s];if(y)return[y];let M=[];for(let A in l){let F=l[A];F.groups.indexOf(s)>-1&&M.push(F)}return M.length==0&&D.err("No node type or group '"+s+"' found"),M}function En(D){if(D.eat("(")){let s=We(D);return D.eat(")")||D.err("Missing closing paren"),s}else if(/\W/.test(D.next))D.err("Unexpected token '"+D.next+"'");else{let s=Tt(D,D.next).map(l=>(D.inline==null?D.inline=l.isInline:D.inline!=l.isInline&&D.err("Mixing inline and block content"),{type:"name",value:l}));return D.pos++,s.length==1?s[0]:{type:"choice",exprs:s}}}function On(D){let s=[[]];return M(A(D,0),l()),s;function l(){return s.push([])-1}function y(F,Q,ge){let at={term:ge,to:Q};return s[F].push(at),at}function M(F,Q){F.forEach(ge=>ge.to=Q)}function A(F,Q){if(F.type=="choice")return F.exprs.reduce((ge,at)=>ge.concat(A(at,Q)),[]);if(F.type=="seq")for(let ge=0;;ge++){let at=A(F.exprs[ge],Q);if(ge==F.exprs.length-1)return at;M(at,Q=l())}else if(F.type=="star"){let ge=l();return y(Q,ge),M(A(F.expr,ge),ge),[y(ge)]}else if(F.type=="plus"){let ge=l();return M(A(F.expr,Q),ge),M(A(F.expr,ge),ge),[y(ge)]}else{if(F.type=="opt")return[y(Q)].concat(A(F.expr,Q));if(F.type=="range"){let ge=Q;for(let at=0;at<F.min;at++){let L=l();M(A(F.expr,ge),L),ge=L}if(F.max==-1)M(A(F.expr,ge),ge);else for(let at=F.min;at<F.max;at++){let L=l();y(ge,L),M(A(F.expr,ge),L),ge=L}return[y(ge)]}else{if(F.type=="name")return[y(Q,void 0,F.value)];throw new Error("Unknown expr type")}}}}function Sn(D,s){return s-D}function Nn(D,s){let l=[];return y(s),l.sort(Sn);function y(M){let A=D[M];if(A.length==1&&!A[0].term)return y(A[0].to);l.push(M);for(let F=0;F<A.length;F++){let{term:Q,to:ge}=A[F];!Q&&l.indexOf(ge)==-1&&y(ge)}}}function tn(D){let s=Object.create(null);return l(Nn(D,0));function l(y){let M=[];y.forEach(F=>{D[F].forEach(({term:Q,to:ge})=>{if(!Q)return;let at;for(let L=0;L<M.length;L++)M[L][0]==Q&&(at=M[L][1]);Nn(D,ge).forEach(L=>{at||M.push([Q,at=[]]),at.indexOf(L)==-1&&at.push(L)})})});let A=s[y.join(",")]=new ne(y.indexOf(D.length-1)>-1);for(let F=0;F<M.length;F++){let Q=M[F][1].sort(Sn);A.next.push({type:M[F][0],next:s[Q.join(",")]||l(Q)})}return A}}function Tn(D,s){for(let l=0,y=[D];l<y.length;l++){let M=y[l],A=!M.validEnd,F=[];for(let Q=0;Q<M.next.length;Q++){let{type:ge,next:at}=M.next[Q];F.push(ge.name),A&&!(ge.isText||ge.hasRequiredAttrs())&&(A=!1),y.indexOf(at)==-1&&y.push(at)}A&&s.err("Only non-generatable nodes ("+F.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bn(D){let s=Object.create(null);for(let l in D){let y=D[l];if(!y.hasDefault)return null;s[l]=y.default}return s}function un(D,s){let l=Object.create(null);for(let y in D){let M=s&&s[y];if(M===void 0){let A=D[y];if(A.hasDefault)M=A.default;else throw new RangeError("No value supplied for attribute "+y)}l[y]=M}return l}function Fn(D){let s=Object.create(null);if(D)for(let l in D)s[l]=new dn(D[l]);return s}class kn{constructor(s,l,y){this.name=s,this.schema=l,this.spec=y,this.markSet=null,this.groups=y.group?y.group.split(" "):[],this.attrs=Fn(y.attrs),this.defaultAttrs=bn(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(y.inline||s=="text"),this.isText=s=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ne.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let s in this.attrs)if(this.attrs[s].isRequired)return!0;return!1}compatibleContent(s){return this==s||this.contentMatch.compatible(s.contentMatch)}computeAttrs(s){return!s&&this.defaultAttrs?this.defaultAttrs:un(this.attrs,s)}create(s=null,l,y){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ne(this,this.computeAttrs(s),de.from(l),Ce.setFrom(y))}createChecked(s=null,l,y){return l=de.from(l),this.checkContent(l),new Ne(this,this.computeAttrs(s),l,Ce.setFrom(y))}createAndFill(s=null,l,y){if(s=this.computeAttrs(s),l=de.from(l),l.size){let F=this.contentMatch.fillBefore(l);if(!F)return null;l=F.append(l)}let M=this.contentMatch.matchFragment(l),A=M&&M.fillBefore(de.empty,!0);return A?new Ne(this,s,l.append(A),Ce.setFrom(y)):null}validContent(s){let l=this.contentMatch.matchFragment(s);if(!l||!l.validEnd)return!1;for(let y=0;y<s.childCount;y++)if(!this.allowsMarks(s.child(y).marks))return!1;return!0}checkContent(s){if(!this.validContent(s))throw new RangeError(`Invalid content for node ${this.name}: ${s.toString().slice(0,50)}`)}allowsMarkType(s){return this.markSet==null||this.markSet.indexOf(s)>-1}allowsMarks(s){if(this.markSet==null)return!0;for(let l=0;l<s.length;l++)if(!this.allowsMarkType(s[l].type))return!1;return!0}allowedMarks(s){if(this.markSet==null)return s;let l;for(let y=0;y<s.length;y++)this.allowsMarkType(s[y].type)?l&&l.push(s[y]):l||(l=s.slice(0,y));return l?l.length?l:Ce.none:s}static compile(s,l){let y=Object.create(null);s.forEach((A,F)=>y[A]=new kn(A,l,F));let M=l.spec.topNode||"doc";if(!y[M])throw new RangeError("Schema is missing its top node type ('"+M+"')");if(!y.text)throw new RangeError("Every schema needs a 'text' type");for(let A in y.text.attrs)throw new RangeError("The text node type should not have attributes");return y}}class dn{constructor(s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default}get isRequired(){return!this.hasDefault}}class rn{constructor(s,l,y,M){this.name=s,this.rank=l,this.schema=y,this.spec=M,this.attrs=Fn(M.attrs),this.excluded=null;let A=bn(this.attrs);this.instance=A?new Ce(this,A):null}create(s=null){return!s&&this.instance?this.instance:new Ce(this,un(this.attrs,s))}static compile(s,l){let y=Object.create(null),M=0;return s.forEach((A,F)=>y[A]=new rn(A,M++,l,F)),y}removeFromSet(s){for(var l=0;l<s.length;l++)s[l].type==this&&(s=s.slice(0,l).concat(s.slice(l+1)),l--);return s}isInSet(s){for(let l=0;l<s.length;l++)if(s[l].type==this)return s[l]}excludes(s){return this.excluded.indexOf(s)>-1}}class xn{constructor(s){this.cached=Object.create(null);let l=this.spec={};for(let M in s)l[M]=s[M];l.nodes=Se.from(s.nodes),l.marks=Se.from(s.marks||{}),this.nodes=kn.compile(this.spec.nodes,this),this.marks=rn.compile(this.spec.marks,this);let y=Object.create(null);for(let M in this.nodes){if(M in this.marks)throw new RangeError(M+" can not be both a node and a mark");let A=this.nodes[M],F=A.spec.content||"",Q=A.spec.marks;A.contentMatch=y[F]||(y[F]=ne.parse(F,this.nodes)),A.inlineContent=A.contentMatch.inlineContent,A.markSet=Q=="_"?null:Q?fn(this,Q.split(" ")):Q==""||!A.inlineContent?[]:null}for(let M in this.marks){let A=this.marks[M],F=A.spec.excludes;A.excluded=F==null?[A]:F==""?[]:fn(this,F.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(s,l=null,y,M){if(typeof s=="string")s=this.nodeType(s);else if(s instanceof kn){if(s.schema!=this)throw new RangeError("Node type from different schema used ("+s.name+")")}else throw new RangeError("Invalid node type: "+s);return s.createChecked(l,y,M)}text(s,l){let y=this.nodes.text;return new U(y,y.defaultAttrs,s,Ce.setFrom(l))}mark(s,l){return typeof s=="string"&&(s=this.marks[s]),s.create(l)}nodeFromJSON(s){return Ne.fromJSON(this,s)}markFromJSON(s){return Ce.fromJSON(this,s)}nodeType(s){let l=this.nodes[s];if(!l)throw new RangeError("Unknown node type: "+s);return l}}function fn(D,s){let l=[];for(let y=0;y<s.length;y++){let M=s[y],A=D.marks[M],F=A;if(A)l.push(A);else for(let Q in D.marks){let ge=D.marks[Q];(M=="_"||ge.spec.group&&ge.spec.group.split(" ").indexOf(M)>-1)&&l.push(F=ge)}if(!F)throw new SyntaxError("Unknown mark type: '"+s[y]+"'")}return l}class Cn{constructor(s,l){this.schema=s,this.rules=l,this.tags=[],this.styles=[],l.forEach(y=>{y.tag?this.tags.push(y):y.style&&this.styles.push(y)}),this.normalizeLists=!this.tags.some(y=>{if(!/^(ul|ol)\b/.test(y.tag)||!y.node)return!1;let M=s.nodes[y.node];return M.contentMatch.matchType(M)})}parse(s,l={}){let y=new An(this,l,!1);return y.addAll(s,l.from,l.to),y.finish()}parseSlice(s,l={}){let y=new An(this,l,!0);return y.addAll(s,l.from,l.to),Ye.maxOpen(y.finish())}matchTag(s,l,y){for(let M=y?this.tags.indexOf(y)+1:0;M<this.tags.length;M++){let A=this.tags[M];if(E(s,A.tag)&&(A.namespace===void 0||s.namespaceURI==A.namespace)&&(!A.context||l.matchesContext(A.context))){if(A.getAttrs){let F=A.getAttrs(s);if(F===!1)continue;A.attrs=F||void 0}return A}}}matchStyle(s,l,y,M){for(let A=M?this.styles.indexOf(M)+1:0;A<this.styles.length;A++){let F=this.styles[A],Q=F.style;if(!(Q.indexOf(s)!=0||F.context&&!y.matchesContext(F.context)||Q.length>s.length&&(Q.charCodeAt(s.length)!=61||Q.slice(s.length+1)!=l))){if(F.getAttrs){let ge=F.getAttrs(l);if(ge===!1)continue;F.attrs=ge||void 0}return F}}}static schemaRules(s){let l=[];function y(M){let A=M.priority==null?50:M.priority,F=0;for(;F<l.length;F++){let Q=l[F];if((Q.priority==null?50:Q.priority)<A)break}l.splice(F,0,M)}for(let M in s.marks){let A=s.marks[M].spec.parseDOM;A&&A.forEach(F=>{y(F=C(F)),F.mark||F.ignore||F.clearMark||(F.mark=M)})}for(let M in s.nodes){let A=s.nodes[M].spec.parseDOM;A&&A.forEach(F=>{y(F=C(F)),F.node||F.ignore||F.mark||(F.node=M)})}return l}static fromSchema(s){return s.cached.domParser||(s.cached.domParser=new Cn(s,Cn.schemaRules(s)))}}const wn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Vn={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Yn={ol:!0,ul:!0},pn=1,$n=2,zn=4;function Mn(D,s,l){return s!=null?(s?pn:0)|(s==="full"?$n:0):D&&D.whitespace=="pre"?pn|$n:l&~zn}class vn{constructor(s,l,y,M,A,F,Q){this.type=s,this.attrs=l,this.marks=y,this.pendingMarks=M,this.solid=A,this.options=Q,this.content=[],this.activeMarks=Ce.none,this.stashMarks=[],this.match=F||(Q&zn?null:s.contentMatch)}findWrapping(s){if(!this.match){if(!this.type)return[];let l=this.type.contentMatch.fillBefore(de.from(s));if(l)this.match=this.type.contentMatch.matchFragment(l);else{let y=this.type.contentMatch,M;return(M=y.findWrapping(s.type))?(this.match=y,M):null}}return this.match.findWrapping(s.type)}finish(s){if(!(this.options&pn)){let y=this.content[this.content.length-1],M;if(y&&y.isText&&(M=/[ \t\r\n\u000c]+$/.exec(y.text))){let A=y;y.text.length==M[0].length?this.content.pop():this.content[this.content.length-1]=A.withText(A.text.slice(0,A.text.length-M[0].length))}}let l=de.from(this.content);return!s&&this.match&&(l=l.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,l,this.marks):l}popFromStashMark(s){for(let l=this.stashMarks.length-1;l>=0;l--)if(s.eq(this.stashMarks[l]))return this.stashMarks.splice(l,1)[0]}applyPending(s){for(let l=0,y=this.pendingMarks;l<y.length;l++){let M=y[l];(this.type?this.type.allowsMarkType(M.type):$(M.type,s))&&!M.isInSet(this.activeMarks)&&(this.activeMarks=M.addToSet(this.activeMarks),this.pendingMarks=M.removeFromSet(this.pendingMarks))}}inlineContext(s){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:s.parentNode&&!wn.hasOwnProperty(s.parentNode.nodeName.toLowerCase())}}class An{constructor(s,l,y){this.parser=s,this.options=l,this.isOpen=y,this.open=0;let M=l.topNode,A,F=Mn(null,l.preserveWhitespace,0)|(y?zn:0);M?A=new vn(M.type,M.attrs,Ce.none,Ce.none,!0,l.topMatch||M.type.contentMatch,F):y?A=new vn(null,null,Ce.none,Ce.none,!0,null,F):A=new vn(s.schema.topNodeType,null,Ce.none,Ce.none,!0,null,F),this.nodes=[A],this.find=l.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(s){if(s.nodeType==3)this.addTextNode(s);else if(s.nodeType==1){let l=s.getAttribute("style");if(!l)this.addElement(s);else{let y=this.readStyles(_(l));if(!y)return;let[M,A]=y,F=this.top;for(let Q=0;Q<A.length;Q++)this.removePendingMark(A[Q],F);for(let Q=0;Q<M.length;Q++)this.addPendingMark(M[Q]);this.addElement(s);for(let Q=0;Q<M.length;Q++)this.removePendingMark(M[Q],F);for(let Q=0;Q<A.length;Q++)this.addPendingMark(A[Q])}}}addTextNode(s){let l=s.nodeValue,y=this.top;if(y.options&$n||y.inlineContext(s)||/[^ \t\r\n\u000c]/.test(l)){if(y.options&pn)y.options&$n?l=l.replace(/\r\n?/g,`
`):l=l.replace(/\r?\n|\r/g," ");else if(l=l.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(l)&&this.open==this.nodes.length-1){let M=y.content[y.content.length-1],A=s.previousSibling;(!M||A&&A.nodeName=="BR"||M.isText&&/[ \t\r\n\u000c]$/.test(M.text))&&(l=l.slice(1))}l&&this.insertNode(this.parser.schema.text(l)),this.findInText(s)}else this.findInside(s)}addElement(s,l){let y=s.nodeName.toLowerCase(),M;Yn.hasOwnProperty(y)&&this.parser.normalizeLists&&oe(s);let A=this.options.ruleFromNode&&this.options.ruleFromNode(s)||(M=this.parser.matchTag(s,this,l));if(A?A.ignore:Vn.hasOwnProperty(y))this.findInside(s),this.ignoreFallback(s);else if(!A||A.skip||A.closeParent){A&&A.closeParent?this.open=Math.max(0,this.open-1):A&&A.skip.nodeType&&(s=A.skip);let F,Q=this.top,ge=this.needsBlock;if(wn.hasOwnProperty(y))Q.content.length&&Q.content[0].isInline&&this.open&&(this.open--,Q=this.top),F=!0,Q.type||(this.needsBlock=!0);else if(!s.firstChild){this.leafFallback(s);return}this.addAll(s),F&&this.sync(Q),this.needsBlock=ge}else this.addElementByRule(s,A,A.consuming===!1?M:void 0)}leafFallback(s){s.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(s.ownerDocument.createTextNode(`
`))}ignoreFallback(s){s.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(s){let l=Ce.none,y=Ce.none;for(let M=0;M<s.length;M+=2)for(let A=void 0;;){let F=this.parser.matchStyle(s[M],s[M+1],this,A);if(!F)break;if(F.ignore)return null;if(F.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(Q=>{F.clearMark(Q)&&(y=Q.addToSet(y))}):l=this.parser.schema.marks[F.mark].create(F.attrs).addToSet(l),F.consuming===!1)A=F;else break}return[l,y]}addElementByRule(s,l,y){let M,A,F;l.node?(A=this.parser.schema.nodes[l.node],A.isLeaf?this.insertNode(A.create(l.attrs))||this.leafFallback(s):M=this.enter(A,l.attrs||null,l.preserveWhitespace)):(F=this.parser.schema.marks[l.mark].create(l.attrs),this.addPendingMark(F));let Q=this.top;if(A&&A.isLeaf)this.findInside(s);else if(y)this.addElement(s,y);else if(l.getContent)this.findInside(s),l.getContent(s,this.parser.schema).forEach(ge=>this.insertNode(ge));else{let ge=s;typeof l.contentElement=="string"?ge=s.querySelector(l.contentElement):typeof l.contentElement=="function"?ge=l.contentElement(s):l.contentElement&&(ge=l.contentElement),this.findAround(s,ge,!0),this.addAll(ge)}M&&this.sync(Q)&&this.open--,F&&this.removePendingMark(F,Q)}addAll(s,l,y){let M=l||0;for(let A=l?s.childNodes[l]:s.firstChild,F=y==null?null:s.childNodes[y];A!=F;A=A.nextSibling,++M)this.findAtPoint(s,M),this.addDOM(A);this.findAtPoint(s,M)}findPlace(s){let l,y;for(let M=this.open;M>=0;M--){let A=this.nodes[M],F=A.findWrapping(s);if(F&&(!l||l.length>F.length)&&(l=F,y=A,!F.length)||A.solid)break}if(!l)return!1;this.sync(y);for(let M=0;M<l.length;M++)this.enterInner(l[M],null,!1);return!0}insertNode(s){if(s.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&this.enterInner(l)}if(this.findPlace(s)){this.closeExtra();let l=this.top;l.applyPending(s.type),l.match&&(l.match=l.match.matchType(s.type));let y=l.activeMarks;for(let M=0;M<s.marks.length;M++)(!l.type||l.type.allowsMarkType(s.marks[M].type))&&(y=s.marks[M].addToSet(y));return l.content.push(s.mark(y)),!0}return!1}enter(s,l,y){let M=this.findPlace(s.create(l));return M&&this.enterInner(s,l,!0,y),M}enterInner(s,l=null,y=!1,M){this.closeExtra();let A=this.top;A.applyPending(s),A.match=A.match&&A.match.matchType(s);let F=Mn(s,M,A.options);A.options&zn&&A.content.length==0&&(F|=zn),this.nodes.push(new vn(s,l,A.activeMarks,A.pendingMarks,y,null,F)),this.open++}closeExtra(s=!1){let l=this.nodes.length-1;if(l>this.open){for(;l>this.open;l--)this.nodes[l-1].content.push(this.nodes[l].finish(s));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(s){for(let l=this.open;l>=0;l--)if(this.nodes[l]==s)return this.open=l,!0;return!1}get currentPos(){this.closeExtra();let s=0;for(let l=this.open;l>=0;l--){let y=this.nodes[l].content;for(let M=y.length-1;M>=0;M--)s+=y[M].nodeSize;l&&s++}return s}findAtPoint(s,l){if(this.find)for(let y=0;y<this.find.length;y++)this.find[y].node==s&&this.find[y].offset==l&&(this.find[y].pos=this.currentPos)}findInside(s){if(this.find)for(let l=0;l<this.find.length;l++)this.find[l].pos==null&&s.nodeType==1&&s.contains(this.find[l].node)&&(this.find[l].pos=this.currentPos)}findAround(s,l,y){if(s!=l&&this.find)for(let M=0;M<this.find.length;M++)this.find[M].pos==null&&s.nodeType==1&&s.contains(this.find[M].node)&&l.compareDocumentPosition(this.find[M].node)&(y?2:4)&&(this.find[M].pos=this.currentPos)}findInText(s){if(this.find)for(let l=0;l<this.find.length;l++)this.find[l].node==s&&(this.find[l].pos=this.currentPos-(s.nodeValue.length-this.find[l].offset))}matchesContext(s){if(s.indexOf("|")>-1)return s.split(/\s*\|\s*/).some(this.matchesContext,this);let l=s.split("/"),y=this.options.context,M=!this.isOpen&&(!y||y.parent.type==this.nodes[0].type),A=-(y?y.depth+1:0)+(M?0:1),F=(Q,ge)=>{for(;Q>=0;Q--){let at=l[Q];if(at==""){if(Q==l.length-1||Q==0)continue;for(;ge>=A;ge--)if(F(Q-1,ge))return!0;return!1}else{let L=ge>0||ge==0&&M?this.nodes[ge].type:y&&ge>=A?y.node(ge-A).type:null;if(!L||L.name!=at&&L.groups.indexOf(at)==-1)return!1;ge--}}return!0};return F(l.length-1,this.open)}textblockFromContext(){let s=this.options.context;if(s)for(let l=s.depth;l>=0;l--){let y=s.node(l).contentMatchAt(s.indexAfter(l)).defaultType;if(y&&y.isTextblock&&y.defaultAttrs)return y}for(let l in this.parser.schema.nodes){let y=this.parser.schema.nodes[l];if(y.isTextblock&&y.defaultAttrs)return y}}addPendingMark(s){let l=ee(s,this.top.pendingMarks);l&&this.top.stashMarks.push(l),this.top.pendingMarks=s.addToSet(this.top.pendingMarks)}removePendingMark(s,l){for(let y=this.open;y>=0;y--){let M=this.nodes[y];if(M.pendingMarks.lastIndexOf(s)>-1)M.pendingMarks=s.removeFromSet(M.pendingMarks);else{M.activeMarks=s.removeFromSet(M.activeMarks);let F=M.popFromStashMark(s);F&&M.type&&M.type.allowsMarkType(F.type)&&(M.activeMarks=F.addToSet(M.activeMarks))}if(M==l)break}}}function oe(D){for(let s=D.firstChild,l=null;s;s=s.nextSibling){let y=s.nodeType==1?s.nodeName.toLowerCase():null;y&&Yn.hasOwnProperty(y)&&l?(l.appendChild(s),s=l):y=="li"?l=s:y&&(l=null)}}function E(D,s){return(D.matches||D.msMatchesSelector||D.webkitMatchesSelector||D.mozMatchesSelector).call(D,s)}function _(D){let s=/\s*([\w-]+)\s*:\s*([^;]+)/g,l,y=[];for(;l=s.exec(D);)y.push(l[1],l[2].trim());return y}function C(D){let s={};for(let l in D)s[l]=D[l];return s}function $(D,s){let l=s.schema.nodes;for(let y in l){let M=l[y];if(!M.allowsMarkType(D))continue;let A=[],F=Q=>{A.push(Q);for(let ge=0;ge<Q.edgeCount;ge++){let{type:at,next:L}=Q.edge(ge);if(at==s||A.indexOf(L)<0&&F(L))return!0}};if(F(M.contentMatch))return!0}}function ee(D,s){for(let l=0;l<s.length;l++)if(D.eq(s[l]))return s[l]}class J{constructor(s,l){this.nodes=s,this.marks=l}serializeFragment(s,l={},y){y||(y=Ie(l).createDocumentFragment());let M=y,A=[];return s.forEach(F=>{if(A.length||F.marks.length){let Q=0,ge=0;for(;Q<A.length&&ge<F.marks.length;){let at=F.marks[ge];if(!this.marks[at.type.name]){ge++;continue}if(!at.eq(A[Q][0])||at.type.spec.spanning===!1)break;Q++,ge++}for(;Q<A.length;)M=A.pop()[1];for(;ge<F.marks.length;){let at=F.marks[ge++],L=this.serializeMark(at,F.isInline,l);L&&(A.push([at,M]),M.appendChild(L.dom),M=L.contentDOM||L.dom)}}M.appendChild(this.serializeNodeInner(F,l))}),y}serializeNodeInner(s,l){let{dom:y,contentDOM:M}=J.renderSpec(Ie(l),this.nodes[s.type.name](s));if(M){if(s.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(s.content,l,M)}return y}serializeNode(s,l={}){let y=this.serializeNodeInner(s,l);for(let M=s.marks.length-1;M>=0;M--){let A=this.serializeMark(s.marks[M],s.isInline,l);A&&((A.contentDOM||A.dom).appendChild(y),y=A.dom)}return y}serializeMark(s,l,y={}){let M=this.marks[s.type.name];return M&&J.renderSpec(Ie(y),M(s,l))}static renderSpec(s,l,y=null){if(typeof l=="string")return{dom:s.createTextNode(l)};if(l.nodeType!=null)return{dom:l};if(l.dom&&l.dom.nodeType!=null)return l;let M=l[0],A=M.indexOf(" ");A>0&&(y=M.slice(0,A),M=M.slice(A+1));let F,Q=y?s.createElementNS(y,M):s.createElement(M),ge=l[1],at=1;if(ge&&typeof ge=="object"&&ge.nodeType==null&&!Array.isArray(ge)){at=2;for(let L in ge)if(ge[L]!=null){let B=L.indexOf(" ");B>0?Q.setAttributeNS(L.slice(0,B),L.slice(B+1),ge[L]):Q.setAttribute(L,ge[L])}}for(let L=at;L<l.length;L++){let B=l[L];if(B===0){if(L<l.length-1||L>at)throw new RangeError("Content hole must be the only child of its parent node");return{dom:Q,contentDOM:Q}}else{let{dom:q,contentDOM:le}=J.renderSpec(s,B,y);if(Q.appendChild(q),le){if(F)throw new RangeError("Multiple content holes");F=le}}}return{dom:Q,contentDOM:F}}static fromSchema(s){return s.cached.domSerializer||(s.cached.domSerializer=new J(this.nodesFromSchema(s),this.marksFromSchema(s)))}static nodesFromSchema(s){let l=be(s.nodes);return l.text||(l.text=y=>y.text),l}static marksFromSchema(s){return be(s.marks)}}function be(D){let s={};for(let l in D){let y=D[l].spec.toDOM;y&&(s[l]=y)}return s}function Ie(D){return D.document||window.document}},66961:function(cn,kt,Re){"use strict";Re.d(kt,{C1:function(){return rt},yy:function(){return Ke},qv:function(){return Pe},Sy:function(){return et},H$:function(){return Ft},Y1:function(){return fe},xm:function(){return de},Bs:function(){return Ue}});var x=Re(72883),Se=Re(12112);const me=Object.create(null);class fe{constructor(U,X,ne){this.$anchor=U,this.$head=X,this.ranges=ne||[new de(U.min(X),U.max(X))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let U=this.ranges;for(let X=0;X<U.length;X++)if(U[X].$from.pos!=U[X].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(U,X=x.p2.empty){let ne=X.content.lastChild,ke=null;for(let Bt=0;Bt<X.openEnd;Bt++)ke=ne,ne=ne.lastChild;let We=U.steps.length,st=this.ranges;for(let Bt=0;Bt<st.length;Bt++){let{$from:Lt,$to:Ct}=st[Bt],Tt=U.mapping.slice(We);U.replaceRange(Tt.map(Lt.pos),Tt.map(Ct.pos),Bt?x.p2.empty:X),Bt==0&&ot(U,We,(ne?ne.isInline:ke&&ke.isTextblock)?-1:1)}}replaceWith(U,X){let ne=U.steps.length,ke=this.ranges;for(let We=0;We<ke.length;We++){let{$from:st,$to:Bt}=ke[We],Lt=U.mapping.slice(ne),Ct=Lt.map(st.pos),Tt=Lt.map(Bt.pos);We?U.deleteRange(Ct,Tt):(U.replaceRangeWith(Ct,Tt,X),ot(U,ne,X.isInline?-1:1))}}static findFrom(U,X,ne=!1){let ke=U.parent.inlineContent?new Ue(U):it(U.node(0),U.parent,U.pos,U.index(),X,ne);if(ke)return ke;for(let We=U.depth-1;We>=0;We--){let st=X<0?it(U.node(0),U.node(We),U.before(We+1),U.index(We),X,ne):it(U.node(0),U.node(We),U.after(We+1),U.index(We)+1,X,ne);if(st)return st}return null}static near(U,X=1){return this.findFrom(U,X)||this.findFrom(U,-X)||new rt(U.node(0))}static atStart(U){return it(U,U,0,0,1)||new rt(U)}static atEnd(U){return it(U,U,U.content.size,U.childCount,-1)||new rt(U)}static fromJSON(U,X){if(!X||!X.type)throw new RangeError("Invalid input for Selection.fromJSON");let ne=me[X.type];if(!ne)throw new RangeError(`No selection type ${X.type} defined`);return ne.fromJSON(U,X)}static jsonID(U,X){if(U in me)throw new RangeError("Duplicate use of selection JSON ID "+U);return me[U]=X,X.prototype.jsonID=U,X}getBookmark(){return Ue.between(this.$anchor,this.$head).getBookmark()}}fe.prototype.visible=!0;class de{constructor(U,X){this.$from=U,this.$to=X}}let qe=!1;function $e(Ne){!qe&&!Ne.parent.inlineContent&&(qe=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+Ne.parent.type.name+")"))}class Ue extends fe{constructor(U,X=U){$e(U),$e(X),super(U,X)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(U,X){let ne=U.resolve(X.map(this.head));if(!ne.parent.inlineContent)return fe.near(ne);let ke=U.resolve(X.map(this.anchor));return new Ue(ke.parent.inlineContent?ke:ne,ne)}replace(U,X=x.p2.empty){if(super.replace(U,X),X==x.p2.empty){let ne=this.$from.marksAcross(this.$to);ne&&U.ensureMarks(ne)}}eq(U){return U instanceof Ue&&U.anchor==this.anchor&&U.head==this.head}getBookmark(){return new Ce(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(U,X){if(typeof X.anchor!="number"||typeof X.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ue(U.resolve(X.anchor),U.resolve(X.head))}static create(U,X,ne=X){let ke=U.resolve(X);return new this(ke,ne==X?ke:U.resolve(ne))}static between(U,X,ne){let ke=U.pos-X.pos;if((!ne||ke)&&(ne=ke>=0?1:-1),!X.parent.inlineContent){let We=fe.findFrom(X,ne,!0)||fe.findFrom(X,-ne,!0);if(We)X=We.$head;else return fe.near(X,ne)}return U.parent.inlineContent||(ke==0?U=X:(U=(fe.findFrom(U,-ne,!0)||fe.findFrom(U,ne,!0)).$anchor,U.pos<X.pos!=ke<0&&(U=X))),new Ue(U,X)}}fe.jsonID("text",Ue);class Ce{constructor(U,X){this.anchor=U,this.head=X}map(U){return new Ce(U.map(this.anchor),U.map(this.head))}resolve(U){return Ue.between(U.resolve(this.anchor),U.resolve(this.head))}}class Pe extends fe{constructor(U){let X=U.nodeAfter,ne=U.node(0).resolve(U.pos+X.nodeSize);super(U,ne);this.node=X}map(U,X){let{deleted:ne,pos:ke}=X.mapResult(this.anchor),We=U.resolve(ke);return ne?fe.near(We):new Pe(We)}content(){return new x.p2(x.HY.from(this.node),0,0)}eq(U){return U instanceof Pe&&U.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ye(this.anchor)}static fromJSON(U,X){if(typeof X.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pe(U.resolve(X.anchor))}static create(U,X){return new Pe(U.resolve(X))}static isSelectable(U){return!U.isText&&U.type.spec.selectable!==!1}}Pe.prototype.visible=!1,fe.jsonID("node",Pe);class Ye{constructor(U){this.anchor=U}map(U){let{deleted:X,pos:ne}=U.mapResult(this.anchor);return X?new Ce(ne,ne):new Ye(ne)}resolve(U){let X=U.resolve(this.anchor),ne=X.nodeAfter;return ne&&Pe.isSelectable(ne)?new Pe(X):fe.near(X)}}class rt extends fe{constructor(U){super(U.resolve(0),U.resolve(U.content.size))}replace(U,X=x.p2.empty){if(X==x.p2.empty){U.delete(0,U.doc.content.size);let ne=fe.atStart(U.doc);ne.eq(U.selection)||U.setSelection(ne)}else super.replace(U,X)}toJSON(){return{type:"all"}}static fromJSON(U){return new rt(U)}map(U){return new rt(U)}eq(U){return U instanceof rt}getBookmark(){return ft}}fe.jsonID("all",rt);const ft={map(){return this},resolve(Ne){return new rt(Ne)}};function it(Ne,U,X,ne,ke,We=!1){if(U.inlineContent)return Ue.create(Ne,X);for(let st=ne-(ke>0?0:1);ke>0?st<U.childCount:st>=0;st+=ke){let Bt=U.child(st);if(Bt.isAtom){if(!We&&Pe.isSelectable(Bt))return Pe.create(Ne,X-(ke<0?Bt.nodeSize:0))}else{let Lt=it(Ne,Bt,X+ke,ke<0?Bt.childCount:0,ke,We);if(Lt)return Lt}X+=Bt.nodeSize*ke}return null}function ot(Ne,U,X){let ne=Ne.steps.length-1;if(ne<U)return;let ke=Ne.steps[ne];if(!(ke instanceof Se.Pu||ke instanceof Se.FC))return;let We=Ne.mapping.maps[ne],st;We.forEach((Bt,Lt,Ct,Tt)=>{st==null&&(st=Tt)}),Ne.setSelection(fe.near(Ne.doc.resolve(st),X))}const bt=1,dt=2,Me=4;class Oe extends Se.wx{constructor(U){super(U.doc);this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=U.selection,this.storedMarks=U.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(U){if(U.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=U,this.curSelectionFor=this.steps.length,this.updated=(this.updated|bt)&~dt,this.storedMarks=null,this}get selectionSet(){return(this.updated&bt)>0}setStoredMarks(U){return this.storedMarks=U,this.updated|=dt,this}ensureMarks(U){return x.vc.sameSet(this.storedMarks||this.selection.$from.marks(),U)||this.setStoredMarks(U),this}addStoredMark(U){return this.ensureMarks(U.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(U){return this.ensureMarks(U.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&dt)>0}addStep(U,X){super.addStep(U,X),this.updated=this.updated&~dt,this.storedMarks=null}setTime(U){return this.time=U,this}replaceSelection(U){return this.selection.replace(this,U),this}replaceSelectionWith(U,X=!0){let ne=this.selection;return X&&(U=U.mark(this.storedMarks||(ne.empty?ne.$from.marks():ne.$from.marksAcross(ne.$to)||x.vc.none))),ne.replaceWith(this,U),this}deleteSelection(){return this.selection.replace(this),this}insertText(U,X,ne){let ke=this.doc.type.schema;if(X==null)return U?this.replaceSelectionWith(ke.text(U),!0):this.deleteSelection();{if(ne==null&&(ne=X),ne=ne==null?X:ne,!U)return this.deleteRange(X,ne);let We=this.storedMarks;if(!We){let st=this.doc.resolve(X);We=ne==X?st.marks():st.marksAcross(this.doc.resolve(ne))}return this.replaceRangeWith(X,ne,ke.text(U,We)),this.selection.empty||this.setSelection(fe.near(this.selection.$to)),this}}setMeta(U,X){return this.meta[typeof U=="string"?U:U.key]=X,this}getMeta(U){return this.meta[typeof U=="string"?U:U.key]}get isGeneric(){for(let U in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Me,this}get scrolledIntoView(){return(this.updated&Me)>0}}function Je(Ne,U){return!U||!Ne?Ne:Ne.bind(U)}class Ve{constructor(U,X,ne){this.name=U,this.init=Je(X.init,ne),this.apply=Je(X.apply,ne)}}const G=[new Ve("doc",{init(Ne){return Ne.doc||Ne.schema.topNodeType.createAndFill()},apply(Ne){return Ne.doc}}),new Ve("selection",{init(Ne,U){return Ne.selection||fe.atStart(U.doc)},apply(Ne){return Ne.selection}}),new Ve("storedMarks",{init(Ne){return Ne.storedMarks||null},apply(Ne,U,X,ne){return ne.selection.$cursor?Ne.storedMarks:null}}),new Ve("scrollToSelection",{init(){return 0},apply(Ne,U){return Ne.scrolledIntoView?U+1:U}})];class xe{constructor(U,X){this.schema=U,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=G.slice(),X&&X.forEach(ne=>{if(this.pluginsByKey[ne.key])throw new RangeError("Adding different instances of a keyed plugin ("+ne.key+")");this.plugins.push(ne),this.pluginsByKey[ne.key]=ne,ne.spec.state&&this.fields.push(new Ve(ne.key,ne.spec.state,ne))})}}class Ke{constructor(U){this.config=U}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(U){return this.applyTransaction(U).state}filterTransaction(U,X=-1){for(let ne=0;ne<this.config.plugins.length;ne++)if(ne!=X){let ke=this.config.plugins[ne];if(ke.spec.filterTransaction&&!ke.spec.filterTransaction.call(ke,U,this))return!1}return!0}applyTransaction(U){if(!this.filterTransaction(U))return{state:this,transactions:[]};let X=[U],ne=this.applyInner(U),ke=null;for(;;){let We=!1;for(let st=0;st<this.config.plugins.length;st++){let Bt=this.config.plugins[st];if(Bt.spec.appendTransaction){let Lt=ke?ke[st].n:0,Ct=ke?ke[st].state:this,Tt=Lt<X.length&&Bt.spec.appendTransaction.call(Bt,Lt?X.slice(Lt):X,Ct,ne);if(Tt&&ne.filterTransaction(Tt,st)){if(Tt.setMeta("appendedTransaction",U),!ke){ke=[];for(let En=0;En<this.config.plugins.length;En++)ke.push(En<st?{state:ne,n:X.length}:{state:this,n:0})}X.push(Tt),ne=ne.applyInner(Tt),We=!0}ke&&(ke[st]={state:ne,n:X.length})}}if(!We)return{state:ne,transactions:X}}}applyInner(U){if(!U.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let X=new Ke(this.config),ne=this.config.fields;for(let ke=0;ke<ne.length;ke++){let We=ne[ke];X[We.name]=We.apply(U,this[We.name],this,X)}return X}get tr(){return new Oe(this)}static create(U){let X=new xe(U.doc?U.doc.type.schema:U.schema,U.plugins),ne=new Ke(X);for(let ke=0;ke<X.fields.length;ke++)ne[X.fields[ke].name]=X.fields[ke].init(U,ne);return ne}reconfigure(U){let X=new xe(this.schema,U.plugins),ne=X.fields,ke=new Ke(X);for(let We=0;We<ne.length;We++){let st=ne[We].name;ke[st]=this.hasOwnProperty(st)?this[st]:ne[We].init(U,ke)}return ke}toJSON(U){let X={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(X.storedMarks=this.storedMarks.map(ne=>ne.toJSON())),U&&typeof U=="object")for(let ne in U){if(ne=="doc"||ne=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let ke=U[ne],We=ke.spec.state;We&&We.toJSON&&(X[ne]=We.toJSON.call(ke,this[ke.key]))}return X}static fromJSON(U,X,ne){if(!X)throw new RangeError("Invalid input for EditorState.fromJSON");if(!U.schema)throw new RangeError("Required config field 'schema' missing");let ke=new xe(U.schema,U.plugins),We=new Ke(ke);return ke.fields.forEach(st=>{if(st.name=="doc")We.doc=x.NB.fromJSON(U.schema,X.doc);else if(st.name=="selection")We.selection=fe.fromJSON(We.doc,X.selection);else if(st.name=="storedMarks")X.storedMarks&&(We.storedMarks=X.storedMarks.map(U.schema.markFromJSON));else{if(ne)for(let Bt in ne){let Lt=ne[Bt],Ct=Lt.spec.state;if(Lt.key==st.name&&Ct&&Ct.fromJSON&&Object.prototype.hasOwnProperty.call(X,Bt)){We[st.name]=Ct.fromJSON.call(Lt,U,X[Bt],We);return}}We[st.name]=st.init(U,We)}}),We}}function yt(Ne,U,X){for(let ne in Ne){let ke=Ne[ne];ke instanceof Function?ke=ke.bind(U):ne=="handleDOMEvents"&&(ke=yt(ke,U,{})),X[ne]=ke}return X}class et{constructor(U){this.spec=U,this.props={},U.props&&yt(U.props,this,this.props),this.key=U.key?U.key.key:Nt("plugin")}getState(U){return U[this.key]}}const Ut=Object.create(null);function Nt(Ne){return Ne in Ut?Ne+"$"+ ++Ut[Ne]:(Ut[Ne]=0,Ne+"$")}class Ft{constructor(U="key"){this.key=Nt(U)}get(U){return U.config.pluginsByKey[this.key]}getState(U){return U[this.key]}}},12112:function(cn,kt,Re){"use strict";Re.d(kt,{vs:function(){return ft},FC:function(){return xe},Pu:function(){return G},wx:function(){return An},Mn:function(){return En},Ax:function(){return Ct},nj:function(){return Tn},nd:function(){return U},GJ:function(){return Sn},k9:function(){return Ft},dR:function(){return bn}});var x=Re(72883);const Se=65535,me=Math.pow(2,16);function fe(oe,E){return oe+E*me}function de(oe){return oe&Se}function qe(oe){return(oe-(oe&Se))/me}const $e=1,Ue=2,Ce=4,Pe=8;class Ye{constructor(E,_,C){this.pos=E,this.delInfo=_,this.recover=C}get deleted(){return(this.delInfo&Pe)>0}get deletedBefore(){return(this.delInfo&($e|Ce))>0}get deletedAfter(){return(this.delInfo&(Ue|Ce))>0}get deletedAcross(){return(this.delInfo&Ce)>0}}class rt{constructor(E,_=!1){if(this.ranges=E,this.inverted=_,!E.length&&rt.empty)return rt.empty}recover(E){let _=0,C=de(E);if(!this.inverted)for(let $=0;$<C;$++)_+=this.ranges[$*3+2]-this.ranges[$*3+1];return this.ranges[C*3]+_+qe(E)}mapResult(E,_=1){return this._map(E,_,!1)}map(E,_=1){return this._map(E,_,!0)}_map(E,_,C){let $=0,ee=this.inverted?2:1,J=this.inverted?1:2;for(let be=0;be<this.ranges.length;be+=3){let Ie=this.ranges[be]-(this.inverted?$:0);if(Ie>E)break;let D=this.ranges[be+ee],s=this.ranges[be+J],l=Ie+D;if(E<=l){let y=D?E==Ie?-1:E==l?1:_:_,M=Ie+$+(y<0?0:s);if(C)return M;let A=E==(_<0?Ie:l)?null:fe(be/3,E-Ie),F=E==Ie?Ue:E==l?$e:Ce;return(_<0?E!=Ie:E!=l)&&(F|=Pe),new Ye(M,F,A)}$+=s-D}return C?E+$:new Ye(E+$,0,null)}touches(E,_){let C=0,$=de(_),ee=this.inverted?2:1,J=this.inverted?1:2;for(let be=0;be<this.ranges.length;be+=3){let Ie=this.ranges[be]-(this.inverted?C:0);if(Ie>E)break;let D=this.ranges[be+ee],s=Ie+D;if(E<=s&&be==$*3)return!0;C+=this.ranges[be+J]-D}return!1}forEach(E){let _=this.inverted?2:1,C=this.inverted?1:2;for(let $=0,ee=0;$<this.ranges.length;$+=3){let J=this.ranges[$],be=J-(this.inverted?ee:0),Ie=J+(this.inverted?0:ee),D=this.ranges[$+_],s=this.ranges[$+C];E(be,be+D,Ie,Ie+s),ee+=s-D}}invert(){return new rt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(E){return E==0?rt.empty:new rt(E<0?[0,-E,0]:[0,0,E])}}rt.empty=new rt([]);class ft{constructor(E=[],_,C=0,$=E.length){this.maps=E,this.mirror=_,this.from=C,this.to=$}slice(E=0,_=this.maps.length){return new ft(this.maps,this.mirror,E,_)}copy(){return new ft(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(E,_){this.to=this.maps.push(E),_!=null&&this.setMirror(this.maps.length-1,_)}appendMapping(E){for(let _=0,C=this.maps.length;_<E.maps.length;_++){let $=E.getMirror(_);this.appendMap(E.maps[_],$!=null&&$<_?C+$:void 0)}}getMirror(E){if(this.mirror){for(let _=0;_<this.mirror.length;_++)if(this.mirror[_]==E)return this.mirror[_+(_%2?-1:1)]}}setMirror(E,_){this.mirror||(this.mirror=[]),this.mirror.push(E,_)}appendMappingInverted(E){for(let _=E.maps.length-1,C=this.maps.length+E.maps.length;_>=0;_--){let $=E.getMirror(_);this.appendMap(E.maps[_].invert(),$!=null&&$>_?C-$-1:void 0)}}invert(){let E=new ft;return E.appendMappingInverted(this),E}map(E,_=1){if(this.mirror)return this._map(E,_,!0);for(let C=this.from;C<this.to;C++)E=this.maps[C].map(E,_);return E}mapResult(E,_=1){return this._map(E,_,!1)}_map(E,_,C){let $=0;for(let ee=this.from;ee<this.to;ee++){let J=this.maps[ee],be=J.mapResult(E,_);if(be.recover!=null){let Ie=this.getMirror(ee);if(Ie!=null&&Ie>ee&&Ie<this.to){ee=Ie,E=this.maps[Ie].recover(be.recover);continue}}$|=be.delInfo,E=be.pos}return C?E:new Ye(E,$,null)}}const it=Object.create(null);class ot{getMap(){return rt.empty}merge(E){return null}static fromJSON(E,_){if(!_||!_.stepType)throw new RangeError("Invalid input for Step.fromJSON");let C=it[_.stepType];if(!C)throw new RangeError(`No step type ${_.stepType} defined`);return C.fromJSON(E,_)}static jsonID(E,_){if(E in it)throw new RangeError("Duplicate use of step JSON ID "+E);return it[E]=_,_.prototype.jsonID=E,_}}class bt{constructor(E,_){this.doc=E,this.failed=_}static ok(E){return new bt(E,null)}static fail(E){return new bt(null,E)}static fromReplace(E,_,C,$){try{return bt.ok(E.replace(_,C,$))}catch(ee){if(ee instanceof x.e4)return bt.fail(ee.message);throw ee}}}function dt(oe,E,_){let C=[];for(let $=0;$<oe.childCount;$++){let ee=oe.child($);ee.content.size&&(ee=ee.copy(dt(ee.content,E,ee))),ee.isInline&&(ee=E(ee,_,$)),C.push(ee)}return x.HY.fromArray(C)}class Me extends ot{constructor(E,_,C){super();this.from=E,this.to=_,this.mark=C}apply(E){let _=E.slice(this.from,this.to),C=E.resolve(this.from),$=C.node(C.sharedDepth(this.to)),ee=new x.p2(dt(_.content,(J,be)=>!J.isAtom||!be.type.allowsMarkType(this.mark.type)?J:J.mark(this.mark.addToSet(J.marks)),$),_.openStart,_.openEnd);return bt.fromReplace(E,this.from,this.to,ee)}invert(){return new Oe(this.from,this.to,this.mark)}map(E){let _=E.mapResult(this.from,1),C=E.mapResult(this.to,-1);return _.deleted&&C.deleted||_.pos>=C.pos?null:new Me(_.pos,C.pos,this.mark)}merge(E){return E instanceof Me&&E.mark.eq(this.mark)&&this.from<=E.to&&this.to>=E.from?new Me(Math.min(this.from,E.from),Math.max(this.to,E.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(E,_){if(typeof _.from!="number"||typeof _.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Me(_.from,_.to,E.markFromJSON(_.mark))}}ot.jsonID("addMark",Me);class Oe extends ot{constructor(E,_,C){super();this.from=E,this.to=_,this.mark=C}apply(E){let _=E.slice(this.from,this.to),C=new x.p2(dt(_.content,$=>$.mark(this.mark.removeFromSet($.marks)),E),_.openStart,_.openEnd);return bt.fromReplace(E,this.from,this.to,C)}invert(){return new Me(this.from,this.to,this.mark)}map(E){let _=E.mapResult(this.from,1),C=E.mapResult(this.to,-1);return _.deleted&&C.deleted||_.pos>=C.pos?null:new Oe(_.pos,C.pos,this.mark)}merge(E){return E instanceof Oe&&E.mark.eq(this.mark)&&this.from<=E.to&&this.to>=E.from?new Oe(Math.min(this.from,E.from),Math.max(this.to,E.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(E,_){if(typeof _.from!="number"||typeof _.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Oe(_.from,_.to,E.markFromJSON(_.mark))}}ot.jsonID("removeMark",Oe);class Je extends ot{constructor(E,_){super();this.pos=E,this.mark=_}apply(E){let _=E.nodeAt(this.pos);if(!_)return bt.fail("No node at mark step's position");let C=_.type.create(_.attrs,null,this.mark.addToSet(_.marks));return bt.fromReplace(E,this.pos,this.pos+1,new x.p2(x.HY.from(C),0,_.isLeaf?0:1))}invert(E){let _=E.nodeAt(this.pos);if(_){let C=this.mark.addToSet(_.marks);if(C.length==_.marks.length){for(let $=0;$<_.marks.length;$++)if(!_.marks[$].isInSet(C))return new Je(this.pos,_.marks[$]);return new Je(this.pos,this.mark)}}return new Ve(this.pos,this.mark)}map(E){let _=E.mapResult(this.pos,1);return _.deletedAfter?null:new Je(_.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(E,_){if(typeof _.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Je(_.pos,E.markFromJSON(_.mark))}}ot.jsonID("addNodeMark",Je);class Ve extends ot{constructor(E,_){super();this.pos=E,this.mark=_}apply(E){let _=E.nodeAt(this.pos);if(!_)return bt.fail("No node at mark step's position");let C=_.type.create(_.attrs,null,this.mark.removeFromSet(_.marks));return bt.fromReplace(E,this.pos,this.pos+1,new x.p2(x.HY.from(C),0,_.isLeaf?0:1))}invert(E){let _=E.nodeAt(this.pos);return!_||!this.mark.isInSet(_.marks)?this:new Je(this.pos,this.mark)}map(E){let _=E.mapResult(this.pos,1);return _.deletedAfter?null:new Ve(_.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(E,_){if(typeof _.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ve(_.pos,E.markFromJSON(_.mark))}}ot.jsonID("removeNodeMark",Ve);class G extends ot{constructor(E,_,C,$=!1){super();this.from=E,this.to=_,this.slice=C,this.structure=$}apply(E){return this.structure&&Ke(E,this.from,this.to)?bt.fail("Structure replace would overwrite content"):bt.fromReplace(E,this.from,this.to,this.slice)}getMap(){return new rt([this.from,this.to-this.from,this.slice.size])}invert(E){return new G(this.from,this.from+this.slice.size,E.slice(this.from,this.to))}map(E){let _=E.mapResult(this.from,1),C=E.mapResult(this.to,-1);return _.deletedAcross&&C.deletedAcross?null:new G(_.pos,Math.max(_.pos,C.pos),this.slice)}merge(E){if(!(E instanceof G)||E.structure||this.structure)return null;if(this.from+this.slice.size==E.from&&!this.slice.openEnd&&!E.slice.openStart){let _=this.slice.size+E.slice.size==0?x.p2.empty:new x.p2(this.slice.content.append(E.slice.content),this.slice.openStart,E.slice.openEnd);return new G(this.from,this.to+(E.to-E.from),_,this.structure)}else if(E.to==this.from&&!this.slice.openStart&&!E.slice.openEnd){let _=this.slice.size+E.slice.size==0?x.p2.empty:new x.p2(E.slice.content.append(this.slice.content),E.slice.openStart,this.slice.openEnd);return new G(E.from,this.to,_,this.structure)}else return null}toJSON(){let E={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(E.slice=this.slice.toJSON()),this.structure&&(E.structure=!0),E}static fromJSON(E,_){if(typeof _.from!="number"||typeof _.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new G(_.from,_.to,x.p2.fromJSON(E,_.slice),!!_.structure)}}ot.jsonID("replace",G);class xe extends ot{constructor(E,_,C,$,ee,J,be=!1){super();this.from=E,this.to=_,this.gapFrom=C,this.gapTo=$,this.slice=ee,this.insert=J,this.structure=be}apply(E){if(this.structure&&(Ke(E,this.from,this.gapFrom)||Ke(E,this.gapTo,this.to)))return bt.fail("Structure gap-replace would overwrite content");let _=E.slice(this.gapFrom,this.gapTo);if(_.openStart||_.openEnd)return bt.fail("Gap is not a flat range");let C=this.slice.insertAt(this.insert,_.content);return C?bt.fromReplace(E,this.from,this.to,C):bt.fail("Content does not fit in gap")}getMap(){return new rt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(E){let _=this.gapTo-this.gapFrom;return new xe(this.from,this.from+this.slice.size+_,this.from+this.insert,this.from+this.insert+_,E.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(E){let _=E.mapResult(this.from,1),C=E.mapResult(this.to,-1),$=E.map(this.gapFrom,-1),ee=E.map(this.gapTo,1);return _.deletedAcross&&C.deletedAcross||$<_.pos||ee>C.pos?null:new xe(_.pos,C.pos,$,ee,this.slice,this.insert,this.structure)}toJSON(){let E={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(E.slice=this.slice.toJSON()),this.structure&&(E.structure=!0),E}static fromJSON(E,_){if(typeof _.from!="number"||typeof _.to!="number"||typeof _.gapFrom!="number"||typeof _.gapTo!="number"||typeof _.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new xe(_.from,_.to,_.gapFrom,_.gapTo,x.p2.fromJSON(E,_.slice),_.insert,!!_.structure)}}ot.jsonID("replaceAround",xe);function Ke(oe,E,_){let C=oe.resolve(E),$=_-E,ee=C.depth;for(;$>0&&ee>0&&C.indexAfter(ee)==C.node(ee).childCount;)ee--,$--;if($>0){let J=C.node(ee).maybeChild(C.indexAfter(ee));for(;$>0;){if(!J||J.isLeaf)return!0;J=J.firstChild,$--}}return!1}function yt(oe,E,_,C){let $=[],ee=[],J,be;oe.doc.nodesBetween(E,_,(Ie,D,s)=>{if(!Ie.isInline)return;let l=Ie.marks;if(!C.isInSet(l)&&s.type.allowsMarkType(C.type)){let y=Math.max(D,E),M=Math.min(D+Ie.nodeSize,_),A=C.addToSet(l);for(let F=0;F<l.length;F++)l[F].isInSet(A)||(J&&J.to==y&&J.mark.eq(l[F])?J.to=M:$.push(J=new Oe(y,M,l[F])));be&&be.to==y?be.to=M:ee.push(be=new Me(y,M,C))}}),$.forEach(Ie=>oe.step(Ie)),ee.forEach(Ie=>oe.step(Ie))}function et(oe,E,_,C){let $=[],ee=0;oe.doc.nodesBetween(E,_,(J,be)=>{if(!J.isInline)return;ee++;let Ie=null;if(C instanceof x.ZU){let D=J.marks,s;for(;s=C.isInSet(D);)(Ie||(Ie=[])).push(s),D=s.removeFromSet(D)}else C?C.isInSet(J.marks)&&(Ie=[C]):Ie=J.marks;if(Ie&&Ie.length){let D=Math.min(be+J.nodeSize,_);for(let s=0;s<Ie.length;s++){let l=Ie[s],y;for(let M=0;M<$.length;M++){let A=$[M];A.step==ee-1&&l.eq($[M].style)&&(y=A)}y?(y.to=D,y.step=ee):$.push({style:l,from:Math.max(be,E),to:D,step:ee})}}}),$.forEach(J=>oe.step(new Oe(J.from,J.to,J.style)))}function Ut(oe,E,_,C=_.contentMatch){let $=oe.doc.nodeAt(E),ee=[],J=E+1;for(let be=0;be<$.childCount;be++){let Ie=$.child(be),D=J+Ie.nodeSize,s=C.matchType(Ie.type);if(!s)ee.push(new G(J,D,x.p2.empty));else{C=s;for(let l=0;l<Ie.marks.length;l++)_.allowsMarkType(Ie.marks[l].type)||oe.step(new Oe(J,D,Ie.marks[l]))}J=D}if(!C.validEnd){let be=C.fillBefore(x.HY.empty,!0);oe.replace(J,J,new x.p2(be,0,0))}for(let be=ee.length-1;be>=0;be--)oe.step(ee[be])}function Nt(oe,E,_){return(E==0||oe.canReplace(E,oe.childCount))&&(_==oe.childCount||oe.canReplace(0,_))}function Ft(oe){let _=oe.parent.content.cutByIndex(oe.startIndex,oe.endIndex);for(let C=oe.depth;;--C){let $=oe.$from.node(C),ee=oe.$from.index(C),J=oe.$to.indexAfter(C);if(C<oe.depth&&$.canReplace(ee,J,_))return C;if(C==0||$.type.spec.isolating||!Nt($,ee,J))break}return null}function Ne(oe,E,_){let{$from:C,$to:$,depth:ee}=E,J=C.before(ee+1),be=$.after(ee+1),Ie=J,D=be,s=x.HY.empty,l=0;for(let A=ee,F=!1;A>_;A--)F||C.index(A)>0?(F=!0,s=x.HY.from(C.node(A).copy(s)),l++):Ie--;let y=x.HY.empty,M=0;for(let A=ee,F=!1;A>_;A--)F||$.after(A+1)<$.end(A)?(F=!0,y=x.HY.from($.node(A).copy(y)),M++):D++;oe.step(new xe(Ie,D,J,be,new x.p2(s.append(y),l,M),s.size-l,!0))}function U(oe,E,_=null,C=oe){let $=ne(oe,E),ee=$&&ke(C,E);return ee?$.map(X).concat({type:E,attrs:_}).concat(ee.map(X)):null}function X(oe){return{type:oe,attrs:null}}function ne(oe,E){let{parent:_,startIndex:C,endIndex:$}=oe,ee=_.contentMatchAt(C).findWrapping(E);if(!ee)return null;let J=ee.length?ee[0]:E;return _.canReplaceWith(C,$,J)?ee:null}function ke(oe,E){let{parent:_,startIndex:C,endIndex:$}=oe,ee=_.child(C),J=E.contentMatch.findWrapping(ee.type);if(!J)return null;let Ie=(J.length?J[J.length-1]:E).contentMatch;for(let D=C;Ie&&D<$;D++)Ie=Ie.matchType(_.child(D).type);return!Ie||!Ie.validEnd?null:J}function We(oe,E,_){let C=x.HY.empty;for(let J=_.length-1;J>=0;J--){if(C.size){let be=_[J].type.contentMatch.matchFragment(C);if(!be||!be.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}C=x.HY.from(_[J].type.create(_[J].attrs,C))}let $=E.start,ee=E.end;oe.step(new xe($,ee,$,ee,new x.p2(C,0,0),_.length,!0))}function st(oe,E,_,C,$){if(!C.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let ee=oe.steps.length;oe.doc.nodesBetween(E,_,(J,be)=>{if(J.isTextblock&&!J.hasMarkup(C,$)&&Bt(oe.doc,oe.mapping.slice(ee).map(be),C)){oe.clearIncompatible(oe.mapping.slice(ee).map(be,1),C);let Ie=oe.mapping.slice(ee),D=Ie.map(be,1),s=Ie.map(be+J.nodeSize,1);return oe.step(new xe(D,s,D+1,s-1,new x.p2(x.HY.from(C.create($,null,J.marks)),0,0),1,!0)),!1}})}function Bt(oe,E,_){let C=oe.resolve(E),$=C.index();return C.parent.canReplaceWith($,$+1,_)}function Lt(oe,E,_,C,$){let ee=oe.doc.nodeAt(E);if(!ee)throw new RangeError("No node at given position");_||(_=ee.type);let J=_.create(C,null,$||ee.marks);if(ee.isLeaf)return oe.replaceWith(E,E+ee.nodeSize,J);if(!_.validContent(ee.content))throw new RangeError("Invalid content for node type "+_.name);oe.step(new xe(E,E+ee.nodeSize,E+1,E+ee.nodeSize-1,new x.p2(x.HY.from(J),0,0),1,!0))}function Ct(oe,E,_=1,C){let $=oe.resolve(E),ee=$.depth-_,J=C&&C[C.length-1]||$.parent;if(ee<0||$.parent.type.spec.isolating||!$.parent.canReplace($.index(),$.parent.childCount)||!J.type.validContent($.parent.content.cutByIndex($.index(),$.parent.childCount)))return!1;for(let D=$.depth-1,s=_-2;D>ee;D--,s--){let l=$.node(D),y=$.index(D);if(l.type.spec.isolating)return!1;let M=l.content.cutByIndex(y,l.childCount),A=C&&C[s]||l;if(A!=l&&(M=M.replaceChild(0,A.type.create(A.attrs))),!l.canReplace(y+1,l.childCount)||!A.type.validContent(M))return!1}let be=$.indexAfter(ee),Ie=C&&C[0];return $.node(ee).canReplaceWith(be,be,Ie?Ie.type:$.node(ee+1).type)}function Tt(oe,E,_=1,C){let $=oe.doc.resolve(E),ee=x.HY.empty,J=x.HY.empty;for(let be=$.depth,Ie=$.depth-_,D=_-1;be>Ie;be--,D--){ee=x.HY.from($.node(be).copy(ee));let s=C&&C[D];J=x.HY.from(s?s.type.create(s.attrs,J):$.node(be).copy(J))}oe.step(new G(E,E,new x.p2(ee.append(J),_,_),!0))}function En(oe,E){let _=oe.resolve(E),C=_.index();return On(_.nodeBefore,_.nodeAfter)&&_.parent.canReplace(C,C+1)}function On(oe,E){return!!(oe&&E&&!oe.isLeaf&&oe.canAppend(E))}function Sn(oe,E,_=-1){let C=oe.resolve(E);for(let $=C.depth;;$--){let ee,J,be=C.index($);if($==C.depth?(ee=C.nodeBefore,J=C.nodeAfter):_>0?(ee=C.node($+1),be++,J=C.node($).maybeChild(be)):(ee=C.node($).maybeChild(be-1),J=C.node($+1)),ee&&!ee.isTextblock&&On(ee,J)&&C.node($).canReplace(be,be+1))return E;if($==0)break;E=_<0?C.before($):C.after($)}}function Nn(oe,E,_){let C=new G(E-_,E+_,x.p2.empty,!0);oe.step(C)}function tn(oe,E,_){let C=oe.resolve(E);if(C.parent.canReplaceWith(C.index(),C.index(),_))return E;if(C.parentOffset==0)for(let $=C.depth-1;$>=0;$--){let ee=C.index($);if(C.node($).canReplaceWith(ee,ee,_))return C.before($+1);if(ee>0)return null}if(C.parentOffset==C.parent.content.size)for(let $=C.depth-1;$>=0;$--){let ee=C.indexAfter($);if(C.node($).canReplaceWith(ee,ee,_))return C.after($+1);if(ee<C.node($).childCount)return null}return null}function Tn(oe,E,_){let C=oe.resolve(E);if(!_.content.size)return E;let $=_.content;for(let ee=0;ee<_.openStart;ee++)$=$.firstChild.content;for(let ee=1;ee<=(_.openStart==0&&_.size?2:1);ee++)for(let J=C.depth;J>=0;J--){let be=J==C.depth?0:C.pos<=(C.start(J+1)+C.end(J+1))/2?-1:1,Ie=C.index(J)+(be>0?1:0),D=C.node(J),s=!1;if(ee==1)s=D.canReplace(Ie,Ie,$);else{let l=D.contentMatchAt(Ie).findWrapping($.firstChild.type);s=l&&D.canReplaceWith(Ie,Ie,l[0])}if(s)return be==0?C.pos:be<0?C.before(J+1):C.after(J+1)}return null}function bn(oe,E,_=E,C=x.p2.empty){if(E==_&&!C.size)return null;let $=oe.resolve(E),ee=oe.resolve(_);return un($,ee,C)?new G(E,_,C):new Fn($,ee,C).fit()}function un(oe,E,_){return!_.openStart&&!_.openEnd&&oe.start()==E.start()&&oe.parent.canReplace(oe.index(),E.index(),_.content)}class Fn{constructor(E,_,C){this.$from=E,this.$to=_,this.unplaced=C,this.frontier=[],this.placed=x.HY.empty;for(let $=0;$<=E.depth;$++){let ee=E.node($);this.frontier.push({type:ee.type,match:ee.contentMatchAt(E.indexAfter($))})}for(let $=E.depth;$>0;$--)this.placed=x.HY.from(E.node($).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let D=this.findFittable();D?this.placeNodes(D):this.openMore()||this.dropNode()}let E=this.mustMoveInline(),_=this.placed.size-this.depth-this.$from.depth,C=this.$from,$=this.close(E<0?this.$to:C.doc.resolve(E));if(!$)return null;let ee=this.placed,J=C.depth,be=$.depth;for(;J&&be&&ee.childCount==1;)ee=ee.firstChild.content,J--,be--;let Ie=new x.p2(ee,J,be);return E>-1?new xe(C.pos,E,this.$to.pos,this.$to.end(),Ie,_):Ie.size||C.pos!=this.$to.pos?new G(C.pos,$.pos,Ie):null}findFittable(){let E=this.unplaced.openStart;for(let _=this.unplaced.content,C=0,$=this.unplaced.openEnd;C<E;C++){let ee=_.firstChild;if(_.childCount>1&&($=0),ee.type.spec.isolating&&$<=C){E=C;break}_=ee.content}for(let _=1;_<=2;_++)for(let C=_==1?E:this.unplaced.openStart;C>=0;C--){let $,ee=null;C?(ee=rn(this.unplaced.content,C-1).firstChild,$=ee.content):$=this.unplaced.content;let J=$.firstChild;for(let be=this.depth;be>=0;be--){let{type:Ie,match:D}=this.frontier[be],s,l=null;if(_==1&&(J?D.matchType(J.type)||(l=D.fillBefore(x.HY.from(J),!1)):ee&&Ie.compatibleContent(ee.type)))return{sliceDepth:C,frontierDepth:be,parent:ee,inject:l};if(_==2&&J&&(s=D.findWrapping(J.type)))return{sliceDepth:C,frontierDepth:be,parent:ee,wrap:s};if(ee&&D.matchType(ee.type))break}}}openMore(){let{content:E,openStart:_,openEnd:C}=this.unplaced,$=rn(E,_);return!$.childCount||$.firstChild.isLeaf?!1:(this.unplaced=new x.p2(E,_+1,Math.max(C,$.size+_>=E.size-C?_+1:0)),!0)}dropNode(){let{content:E,openStart:_,openEnd:C}=this.unplaced,$=rn(E,_);if($.childCount<=1&&_>0){let ee=E.size-_<=_+$.size;this.unplaced=new x.p2(kn(E,_-1,1),_-1,ee?_-1:C)}else this.unplaced=new x.p2(kn(E,_,1),_,C)}placeNodes({sliceDepth:E,frontierDepth:_,parent:C,inject:$,wrap:ee}){for(;this.depth>_;)this.closeFrontierNode();if(ee)for(let F=0;F<ee.length;F++)this.openFrontierNode(ee[F]);let J=this.unplaced,be=C?C.content:J.content,Ie=J.openStart-E,D=0,s=[],{match:l,type:y}=this.frontier[_];if($){for(let F=0;F<$.childCount;F++)s.push($.child(F));l=l.matchFragment($)}let M=be.size+E-(J.content.size-J.openEnd);for(;D<be.childCount;){let F=be.child(D),Q=l.matchType(F.type);if(!Q)break;D++,(D>1||Ie==0||F.content.size)&&(l=Q,s.push(xn(F.mark(y.allowedMarks(F.marks)),D==1?Ie:0,D==be.childCount?M:-1)))}let A=D==be.childCount;A||(M=-1),this.placed=dn(this.placed,_,x.HY.from(s)),this.frontier[_].match=l,A&&M<0&&C&&C.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let F=0,Q=be;F<M;F++){let ge=Q.lastChild;this.frontier.push({type:ge.type,match:ge.contentMatchAt(ge.childCount)}),Q=ge.content}this.unplaced=A?E==0?x.p2.empty:new x.p2(kn(J.content,E-1,1),E-1,M<0?J.openEnd:E-1):new x.p2(kn(J.content,E,D),J.openStart,J.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let E=this.frontier[this.depth],_;if(!E.type.isTextblock||!fn(this.$to,this.$to.depth,E.type,E.match,!1)||this.$to.depth==this.depth&&(_=this.findCloseLevel(this.$to))&&_.depth==this.depth)return-1;let{depth:C}=this.$to,$=this.$to.after(C);for(;C>1&&$==this.$to.end(--C);)++$;return $}findCloseLevel(E){e:for(let _=Math.min(this.depth,E.depth);_>=0;_--){let{match:C,type:$}=this.frontier[_],ee=_<E.depth&&E.end(_+1)==E.pos+(E.depth-(_+1)),J=fn(E,_,$,C,ee);if(!!J){for(let be=_-1;be>=0;be--){let{match:Ie,type:D}=this.frontier[be],s=fn(E,be,D,Ie,!0);if(!s||s.childCount)continue e}return{depth:_,fit:J,move:ee?E.doc.resolve(E.after(_+1)):E}}}}close(E){let _=this.findCloseLevel(E);if(!_)return null;for(;this.depth>_.depth;)this.closeFrontierNode();_.fit.childCount&&(this.placed=dn(this.placed,_.depth,_.fit)),E=_.move;for(let C=_.depth+1;C<=E.depth;C++){let $=E.node(C),ee=$.type.contentMatch.fillBefore($.content,!0,E.index(C));this.openFrontierNode($.type,$.attrs,ee)}return E}openFrontierNode(E,_=null,C){let $=this.frontier[this.depth];$.match=$.match.matchType(E),this.placed=dn(this.placed,this.depth,x.HY.from(E.create(_,C))),this.frontier.push({type:E,match:E.contentMatch})}closeFrontierNode(){let _=this.frontier.pop().match.fillBefore(x.HY.empty,!0);_.childCount&&(this.placed=dn(this.placed,this.frontier.length,_))}}function kn(oe,E,_){return E==0?oe.cutByIndex(_,oe.childCount):oe.replaceChild(0,oe.firstChild.copy(kn(oe.firstChild.content,E-1,_)))}function dn(oe,E,_){return E==0?oe.append(_):oe.replaceChild(oe.childCount-1,oe.lastChild.copy(dn(oe.lastChild.content,E-1,_)))}function rn(oe,E){for(let _=0;_<E;_++)oe=oe.firstChild.content;return oe}function xn(oe,E,_){if(E<=0)return oe;let C=oe.content;return E>1&&(C=C.replaceChild(0,xn(C.firstChild,E-1,C.childCount==1?_-1:0))),E>0&&(C=oe.type.contentMatch.fillBefore(C).append(C),_<=0&&(C=C.append(oe.type.contentMatch.matchFragment(C).fillBefore(x.HY.empty,!0)))),oe.copy(C)}function fn(oe,E,_,C,$){let ee=oe.node(E),J=$?oe.indexAfter(E):oe.index(E);if(J==ee.childCount&&!_.compatibleContent(ee.type))return null;let be=C.fillBefore(ee.content,!0,J);return be&&!Cn(_,ee.content,J)?be:null}function Cn(oe,E,_){for(let C=_;C<E.childCount;C++)if(!oe.allowsMarks(E.child(C).marks))return!0;return!1}function wn(oe){return oe.spec.defining||oe.spec.definingForContent}function Vn(oe,E,_,C){if(!C.size)return oe.deleteRange(E,_);let $=oe.doc.resolve(E),ee=oe.doc.resolve(_);if(un($,ee,C))return oe.step(new G(E,_,C));let J=zn($,oe.doc.resolve(_));J[J.length-1]==0&&J.pop();let be=-($.depth+1);J.unshift(be);for(let y=$.depth,M=$.pos-1;y>0;y--,M--){let A=$.node(y).type.spec;if(A.defining||A.definingAsContext||A.isolating)break;J.indexOf(y)>-1?be=y:$.before(y)==M&&J.splice(1,0,-y)}let Ie=J.indexOf(be),D=[],s=C.openStart;for(let y=C.content,M=0;;M++){let A=y.firstChild;if(D.push(A),M==C.openStart)break;y=A.content}for(let y=s-1;y>=0;y--){let M=D[y].type,A=wn(M);if(A&&$.node(Ie).type!=M)s=y;else if(A||!M.isTextblock)break}for(let y=C.openStart;y>=0;y--){let M=(y+s+1)%(C.openStart+1),A=D[M];if(!!A)for(let F=0;F<J.length;F++){let Q=J[(F+Ie)%J.length],ge=!0;Q<0&&(ge=!1,Q=-Q);let at=$.node(Q-1),L=$.index(Q-1);if(at.canReplaceWith(L,L,A.type,A.marks))return oe.replace($.before(Q),ge?ee.after(Q):_,new x.p2(Yn(C.content,0,C.openStart,M),M,C.openEnd))}}let l=oe.steps.length;for(let y=J.length-1;y>=0&&(oe.replace(E,_,C),!(oe.steps.length>l));y--){let M=J[y];M<0||(E=$.before(M),_=ee.after(M))}}function Yn(oe,E,_,C,$){if(E<_){let ee=oe.firstChild;oe=oe.replaceChild(0,ee.copy(Yn(ee.content,E+1,_,C,ee)))}if(E>C){let ee=$.contentMatchAt(0),J=ee.fillBefore(oe).append(oe);oe=J.append(ee.matchFragment(J).fillBefore(x.HY.empty,!0))}return oe}function pn(oe,E,_,C){if(!C.isInline&&E==_&&oe.doc.resolve(E).parent.content.size){let $=tn(oe.doc,E,C.type);$!=null&&(E=_=$)}oe.replaceRange(E,_,new x.p2(x.HY.from(C),0,0))}function $n(oe,E,_){let C=oe.doc.resolve(E),$=oe.doc.resolve(_),ee=zn(C,$);for(let J=0;J<ee.length;J++){let be=ee[J],Ie=J==ee.length-1;if(Ie&&be==0||C.node(be).type.contentMatch.validEnd)return oe.delete(C.start(be),$.end(be));if(be>0&&(Ie||C.node(be-1).canReplace(C.index(be-1),$.indexAfter(be-1))))return oe.delete(C.before(be),$.after(be))}for(let J=1;J<=C.depth&&J<=$.depth;J++)if(E-C.start(J)==C.depth-J&&_>C.end(J)&&$.end(J)-_!=$.depth-J)return oe.delete(C.before(J),_);oe.delete(E,_)}function zn(oe,E){let _=[],C=Math.min(oe.depth,E.depth);for(let $=C;$>=0;$--){let ee=oe.start($);if(ee<oe.pos-(oe.depth-$)||E.end($)>E.pos+(E.depth-$)||oe.node($).type.spec.isolating||E.node($).type.spec.isolating)break;(ee==E.start($)||$==oe.depth&&$==E.depth&&oe.parent.inlineContent&&E.parent.inlineContent&&$&&E.start($-1)==ee-1)&&_.push($)}return _}class Mn extends ot{constructor(E,_,C){super();this.pos=E,this.attr=_,this.value=C}apply(E){let _=E.nodeAt(this.pos);if(!_)return bt.fail("No node at attribute step's position");let C=Object.create(null);for(let ee in _.attrs)C[ee]=_.attrs[ee];C[this.attr]=this.value;let $=_.type.create(C,null,_.marks);return bt.fromReplace(E,this.pos,this.pos+1,new x.p2(x.HY.from($),0,_.isLeaf?0:1))}getMap(){return rt.empty}invert(E){return new Mn(this.pos,this.attr,E.nodeAt(this.pos).attrs[this.attr])}map(E){let _=E.mapResult(this.pos,1);return _.deletedAfter?null:new Mn(_.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(E,_){if(typeof _.pos!="number"||typeof _.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Mn(_.pos,_.attr,_.value)}}ot.jsonID("attr",Mn);let vn=class extends Error{};vn=function oe(E){let _=Error.call(this,E);return _.__proto__=oe.prototype,_},vn.prototype=Object.create(Error.prototype),vn.prototype.constructor=vn,vn.prototype.name="TransformError";class An{constructor(E){this.doc=E,this.steps=[],this.docs=[],this.mapping=new ft}get before(){return this.docs.length?this.docs[0]:this.doc}step(E){let _=this.maybeStep(E);if(_.failed)throw new vn(_.failed);return this}maybeStep(E){let _=E.apply(this.doc);return _.failed||this.addStep(E,_.doc),_}get docChanged(){return this.steps.length>0}addStep(E,_){this.docs.push(this.doc),this.steps.push(E),this.mapping.appendMap(E.getMap()),this.doc=_}replace(E,_=E,C=x.p2.empty){let $=bn(this.doc,E,_,C);return $&&this.step($),this}replaceWith(E,_,C){return this.replace(E,_,new x.p2(x.HY.from(C),0,0))}delete(E,_){return this.replace(E,_,x.p2.empty)}insert(E,_){return this.replaceWith(E,E,_)}replaceRange(E,_,C){return Vn(this,E,_,C),this}replaceRangeWith(E,_,C){return pn(this,E,_,C),this}deleteRange(E,_){return $n(this,E,_),this}lift(E,_){return Ne(this,E,_),this}join(E,_=1){return Nn(this,E,_),this}wrap(E,_){return We(this,E,_),this}setBlockType(E,_=E,C,$=null){return st(this,E,_,C,$),this}setNodeMarkup(E,_,C=null,$){return Lt(this,E,_,C,$),this}setNodeAttribute(E,_,C){return this.step(new Mn(E,_,C)),this}addNodeMark(E,_){return this.step(new Je(E,_)),this}removeNodeMark(E,_){if(!(_ instanceof x.vc)){let C=this.doc.nodeAt(E);if(!C)throw new RangeError("No node at position "+E);if(_=_.isInSet(C.marks),!_)return this}return this.step(new Ve(E,_)),this}split(E,_=1,C){return Tt(this,E,_,C),this}addMark(E,_,C){return yt(this,E,_,C),this}removeMark(E,_,C){return et(this,E,_,C),this}clearIncompatible(E,_,C){return Ut(this,E,_,C),this}}},66237:function(cn,kt,Re){"use strict";Re.d(kt,{p:function(){return Zn},EH:function(){return Xn},tk:function(){return gt}});var x=Re(66961),Se=Re(72883),me=Re(12112);const fe=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},de=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let qe=null;const $e=function(t,e,n){let r=qe||(qe=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},Ue=function(t,e,n,r){return n&&(Pe(t,e,n,r,-1)||Pe(t,e,n,r,1))},Ce=/^(img|br|input|textarea|hr)$/i;function Pe(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ye(t))){let o=t.parentNode;if(!o||o.nodeType!=1||ft(t)||Ce.test(t.nodeName)||t.contentEditable=="false")return!1;e=fe(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ye(t):0}else return!1}}function Ye(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function rt(t,e,n){for(let r=e==0,i=e==Ye(t);r||i;){if(t==n)return!0;let o=fe(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Ye(t)}}function ft(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const it=function(t){return t.focusNode&&Ue(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ot(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function bt(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function dt(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(r){}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Me=typeof navigator!="undefined"?navigator:null,Oe=typeof document!="undefined"?document:null,Je=Me&&Me.userAgent||"",Ve=/Edge\/(\d+)/.exec(Je),G=/MSIE \d/.exec(Je),xe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Je),Ke=!!(G||xe||Ve),yt=G?document.documentMode:xe?+xe[1]:Ve?+Ve[1]:0,et=!Ke&&/gecko\/(\d+)/i.test(Je);et&&+(/Firefox\/(\d+)/.exec(Je)||[0,0])[1];const Ut=!Ke&&/Chrome\/(\d+)/.exec(Je),Nt=!!Ut,Ft=Ut?+Ut[1]:0,Ne=!Ke&&!!Me&&/Apple Computer/.test(Me.vendor),U=Ne&&(/Mobile\/\w+/.test(Je)||!!Me&&Me.maxTouchPoints>2),X=U||(Me?/Mac/.test(Me.platform):!1),ne=Me?/Win/.test(Me.platform):!1,ke=/Android \d/.test(Je),We=!!Oe&&"webkitFontSmoothing"in Oe.documentElement.style,st=We?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Bt(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Lt(t,e){return typeof t=="number"?t:t[e]}function Ct(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Tt(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;a=de(a)){if(a.nodeType!=1)continue;let f=a,g=f==o.body,S=g?Bt(o):Ct(f),k=0,z=0;if(e.top<S.top+Lt(r,"top")?z=-(S.top-e.top+Lt(i,"top")):e.bottom>S.bottom-Lt(r,"bottom")&&(z=e.bottom-S.bottom+Lt(i,"bottom")),e.left<S.left+Lt(r,"left")?k=-(S.left-e.left+Lt(i,"left")):e.right>S.right-Lt(r,"right")&&(k=e.right-S.right+Lt(i,"right")),k||z)if(g)o.defaultView.scrollBy(k,z);else{let Y=f.scrollLeft,j=f.scrollTop;z&&(f.scrollTop+=z),k&&(f.scrollLeft+=k);let ie=f.scrollLeft-Y,Ae=f.scrollTop-j;e={left:e.left-ie,top:e.top-Ae,right:e.right-ie,bottom:e.bottom-Ae}}if(g)break}}function En(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let f=t.root.elementFromPoint(o,a);if(!f||f==t.dom||!t.dom.contains(f))continue;let g=f.getBoundingClientRect();if(g.top>=n-20){r=f,i=g.top;break}}return{refDOM:r,refTop:i,stack:On(t.dom)}}function On(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=de(r));return e}function Sn({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Nn(n,r==0?0:r-e)}function Nn(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let tn=null;function Tn(t){if(t.setActive)return t.setActive();if(tn)return t.focus(tn);let e=On(t);t.focus(tn==null?{get preventScroll(){return tn={preventScroll:!0},!0}}:void 0),tn||(tn=!1,Nn(e,0))}function bn(t,e){let n,r=2e8,i,o=0,a=e.top,f=e.top,g,S;for(let k=t.firstChild,z=0;k;k=k.nextSibling,z++){let Y;if(k.nodeType==1)Y=k.getClientRects();else if(k.nodeType==3)Y=$e(k).getClientRects();else continue;for(let j=0;j<Y.length;j++){let ie=Y[j];if(ie.top<=a&&ie.bottom>=f){a=Math.max(ie.bottom,a),f=Math.min(ie.top,f);let Ae=ie.left>e.left?ie.left-e.left:ie.right<e.left?e.left-ie.right:0;if(Ae<r){n=k,r=Ae,i=Ae&&n.nodeType==3?{left:ie.right<e.left?ie.right:ie.left,top:e.top}:e,k.nodeType==1&&Ae&&(o=z+(e.left>=(ie.left+ie.right)/2?1:0));continue}}else ie.top>e.top&&!g&&ie.left<=e.left&&ie.right>=e.left&&(g=k,S={left:Math.max(ie.left,Math.min(ie.right,e.left)),top:ie.top});!n&&(e.left>=ie.right&&e.top>=ie.top||e.left>=ie.left&&e.top>=ie.bottom)&&(o=z+1)}}return!n&&g&&(n=g,i=S,r=0),n&&n.nodeType==3?un(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:bn(n,i)}function un(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=wn(r,1);if(o.top!=o.bottom&&Fn(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Fn(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function kn(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function dn(t,e,n){let{node:r,offset:i}=bn(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function rn(t,e,n,r){let i=-1;for(let o=e,a=!1;o!=t.dom;){let f=t.docView.nearestDesc(o,!0);if(!f)return null;if(f.dom.nodeType==1&&(f.node.isBlock&&f.parent&&!a||!f.contentDOM)){let g=f.dom.getBoundingClientRect();if(f.node.isBlock&&f.parent&&!a&&(a=!0,g.left>r.left||g.top>r.top?i=f.posBefore:(g.right<r.left||g.bottom<r.top)&&(i=f.posAfter)),!f.contentDOM&&i<0)return(f.node.isBlock?r.top<(g.top+g.bottom)/2:r.left<(g.left+g.right)/2)?f.posBefore:f.posAfter}o=f.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function xn(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let a=t.childNodes[o];if(a.nodeType==1){let f=a.getClientRects();for(let g=0;g<f.length;g++){let S=f[g];if(Fn(e,S))return xn(a,e,S)}}if((o=(o+1)%r)==i)break}return t}function fn(t,e){let n=t.dom.ownerDocument,r,i=0,o=dt(n,e.left,e.top);o&&({node:r,offset:i}=o);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),f;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let S=t.dom.getBoundingClientRect();if(!Fn(e,S)||(a=xn(t.dom,e,S),!a))return null}if(Ne)for(let S=a;r&&S;S=de(S))S.draggable&&(r=void 0);if(a=kn(a,e),r){if(et&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let S=r.childNodes[i],k;S.nodeName=="IMG"&&(k=S.getBoundingClientRect()).right<=e.left&&k.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?f=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(f=rn(t,r,i,e))}f==null&&(f=dn(t,a,e));let g=t.docView.nearestDesc(a,!0);return{pos:f,inside:g?g.posAtStart-g.border:-1}}function Cn(t){return t.top<t.bottom||t.left<t.right}function wn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Cn(r))return r}return Array.prototype.find.call(n,Cn)||t.getBoundingClientRect()}const Vn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Yn(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=We||et;if(r.nodeType==3)if(a&&(Vn.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let g=wn($e(r,i,i),n);if(et&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let S=wn($e(r,i-1,i-1),-1);if(S.top==g.top){let k=wn($e(r,i,i+1),-1);if(k.top!=g.top)return pn(k,k.left<S.left)}}return g}else{let g=i,S=i,k=n<0?1:-1;return n<0&&!i?(S++,k=-1):n>=0&&i==r.nodeValue.length?(g--,k=1):n<0?g--:S++,pn(wn($e(r,g,S),k),k<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Ye(r))){let g=r.childNodes[i-1];if(g.nodeType==1)return $n(g.getBoundingClientRect(),!1)}if(o==null&&i<Ye(r)){let g=r.childNodes[i];if(g.nodeType==1)return $n(g.getBoundingClientRect(),!0)}return $n(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Ye(r))){let g=r.childNodes[i-1],S=g.nodeType==3?$e(g,Ye(g)-(a?0:1)):g.nodeType==1&&(g.nodeName!="BR"||!g.nextSibling)?g:null;if(S)return pn(wn(S,1),!1)}if(o==null&&i<Ye(r)){let g=r.childNodes[i];for(;g.pmViewDesc&&g.pmViewDesc.ignoreForCoords;)g=g.nextSibling;let S=g?g.nodeType==3?$e(g,0,a?0:1):g.nodeType==1?g:null:null;if(S)return pn(wn(S,-1),!0)}return pn(wn(r.nodeType==3?$e(r):r,-n),n>=0)}function pn(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function $n(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function zn(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Mn(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return zn(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let f=t.docView.nearestDesc(o,!0);if(!f)break;if(f.node.isBlock){o=f.contentDOM||f.dom;break}o=f.dom.parentNode}let a=Yn(t,i.pos,1);for(let f=o.firstChild;f;f=f.nextSibling){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=$e(f,0,f.nodeValue.length).getClientRects();else continue;for(let S=0;S<g.length;S++){let k=g[S];if(k.bottom>k.top+1&&(n=="up"?a.top-k.top>(k.bottom-a.top)*2:k.bottom-a.bottom>(a.bottom-k.top)*2))return!1}}return!0})}const vn=/[\u0590-\u08ac]/;function An(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,f=t.domSelection();return!vn.test(r.parent.textContent)||!f.modify?n=="left"||n=="backward"?o:a:zn(t,e,()=>{let{focusNode:g,focusOffset:S,anchorNode:k,anchorOffset:z}=t.domSelectionRange(),Y=f.caretBidiLevel;f.modify("move",n,"character");let j=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:ie,focusOffset:Ae}=t.domSelectionRange(),Ge=ie&&!j.contains(ie.nodeType==1?ie:ie.parentNode)||g==ie&&S==Ae;try{f.collapse(k,z),g&&(g!=k||S!=z)&&f.extend&&f.extend(g,S)}catch(Dt){}return Y!=null&&(f.caretBidiLevel=Y),Ge})}let oe=null,E=null,_=!1;function C(t,e,n){return oe==e&&E==n?_:(oe=e,E=n,_=n=="up"||n=="down"?Mn(t,e,n):An(t,e,n))}const $=0,ee=1,J=2,be=3;class Ie{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=$,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>fe(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],f=o+a.size;if(f>e||a instanceof F){i=e-o;break}o=f}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof D&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?fe(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?fe(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let a=r,f=0;;f++){let g=this.children[f],S=a+g.size;if(i==-1&&e<=S){let k=a+g.border;if(e>=k&&n<=S-g.border&&g.node&&g.contentDOM&&this.contentDOM.contains(g.contentDOM))return g.parseRange(e,n,k);e=a;for(let z=f;z>0;z--){let Y=this.children[z-1];if(Y.size&&Y.dom.parentNode==this.contentDOM&&!Y.emptyChildAt(1)){i=fe(Y.dom)+1;break}e-=Y.size}i==-1&&(i=0)}if(i>-1&&(S>n||f==this.children.length-1)){n=S;for(let k=f+1;k<this.children.length;k++){let z=this.children[k];if(z.size&&z.dom.parentNode==this.contentDOM&&!z.emptyChildAt(-1)){o=fe(z.dom);break}n+=z.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=S}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),a=Math.max(e,n);for(let Y=0,j=0;Y<this.children.length;Y++){let ie=this.children[Y],Ae=j+ie.size;if(o>j&&a<Ae)return ie.setSelection(e-j-ie.border,n-j-ie.border,r,i);j=Ae}let f=this.domFromPos(e,e?-1:1),g=n==e?f:this.domFromPos(n,n?-1:1),S=r.getSelection(),k=!1;if((et||Ne)&&e==n){let{node:Y,offset:j}=f;if(Y.nodeType==3)k=!!(j&&Y.nodeValue[j-1]==`
`);else{let ie=Y.childNodes[j-1];k=ie&&(ie.nodeName=="BR"||ie.contentEditable=="false")}}if(et&&S.focusNode&&S.focusNode!=g.node&&S.focusNode.nodeType==1){let Y=S.focusNode.childNodes[S.focusOffset];Y&&Y.contentEditable=="false"&&(i=!0)}if(!(i||k&&Ne)&&Ue(f.node,f.offset,S.anchorNode,S.anchorOffset)&&Ue(g.node,g.offset,S.focusNode,S.focusOffset))return;let z=!1;if((S.extend||e==n)&&!k){S.collapse(f.node,f.offset);try{e!=n&&S.extend(g.node,g.offset),z=!0}catch(Y){}}if(!z){if(e>n){let j=f;f=g,g=j}let Y=document.createRange();Y.setEnd(g.node,g.offset),Y.setStart(f.node,f.offset),S.removeAllRanges(),S.addRange(Y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],a=r+o.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let f=r+o.border,g=a-o.border;if(e>=f&&n<=g){this.dirty=e==r||n==a?J:ee,e==f&&n==g&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=be:o.markDirty(e-f,n-f);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?J:be}r=a}this.dirty=J}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?J:ee;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class D extends Ie{constructor(e,n,r,i){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let f=document.createElement("span");f.appendChild(a),a=f}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null);this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==$&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class s extends Ie{constructor(e,n,r,i){super(e,[],n,null);this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class l extends Ie{constructor(e,n,r,i){super(e,[],r,i);this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],a=o&&o(n,i,r);return(!a||!a.dom)&&(a=Se.PW.renderSpec(document,n.type.spec.toDOM(n,r))),new l(e,n,a.dom,a.contentDOM||a.dom)}parseRule(){return this.dirty&be||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=be&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=$){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$}}slice(e,n,r){let i=l.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=pt(o,n,a,r)),e>0&&(o=pt(o,0,e,r));for(let f=0;f<o.length;f++)o[f].parent=i;return i.children=o,i}}class y extends Ie{constructor(e,n,r,i,o,a,f,g,S){super(e,[],o,a);this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=f}static create(e,n,r,i,o,a){let f=o.nodeViews[n.type.name],g,S=f&&f(n,o,()=>{if(!g)return a;if(g.parent)return g.parent.posBeforeChild(g)},r,i),k=S&&S.dom,z=S&&S.contentDOM;if(n.isText){if(!k)k=document.createTextNode(n.text);else if(k.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else k||({dom:k,contentDOM:z}=Se.PW.renderSpec(document,n.type.spec.toDOM(n)));!z&&!n.isText&&k.nodeName!="BR"&&(k.hasAttribute("contenteditable")||(k.contentEditable="false"),n.type.spec.draggable&&(k.draggable=!0));let Y=k;return k=ae(k,r,n),S?g=new Q(e,n,r,i,k,z||null,Y,S,o,a+1):n.isText?new A(e,n,r,i,k,Y,o):new y(e,n,r,i,k,z||null,Y,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Se.HY.empty)}return e}matchesNode(e,n,r){return this.dirty==$&&e.eq(this.node)&&De(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,a=o&&o.pos>-1?o:null,f=o&&o.pos<0,g=new tt(this,a&&a.node,e);Gt(this.node,this.innerDeco,(S,k,z)=>{S.spec.marks?g.syncToMarks(S.spec.marks,r,e):S.type.side>=0&&!z&&g.syncToMarks(k==this.node.childCount?Se.vc.none:this.node.child(k).marks,r,e),g.placeWidget(S,e,i)},(S,k,z,Y)=>{g.syncToMarks(S.marks,r,e);let j;g.findNodeMatch(S,k,z,Y)||f&&e.state.selection.from>i&&e.state.selection.to<i+S.nodeSize&&(j=g.findIndexWithChild(o.node))>-1&&g.updateNodeAt(S,k,z,j,e)||g.updateNextNode(S,k,z,e,Y,i)||g.addNode(S,k,z,e,i),i+=S.nodeSize}),g.syncToMarks([],r,e),this.node.isTextblock&&g.addTextblockHacks(),g.destroyRest(),(g.changed||this.dirty==J)&&(a&&this.protectLocalComposition(e,a),ge(this.contentDOM,this.children,e),U&&K(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof x.Bs)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),a=se(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let f=a.nodeValue,g=Te(this.node.content,f,r-n,i-n);return g<0?null:{node:a,pos:g,text:f}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new s(this,o,n,i);e.input.compositionNodes.push(a),this.children=pt(this.children,r,r+i.length,e,a)}update(e,n,r,i){return this.dirty==be||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=$}updateOuterDeco(e){if(De(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=q(this.dom,this.nodeDOM,B(this.outerDeco,this.node,n),B(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function M(t,e,n,r,i){ae(r,e,t);let o=new y(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class A extends y{constructor(e,n,r,i,o,a,f){super(e,n,r,i,o,null,a,f,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==be||this.dirty!=$&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=$||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=$,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new A(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=be)}get domAtom(){return!1}}class F extends Ie{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==$&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Q extends y{constructor(e,n,r,i,o,a,f,g,S,k){super(e,n,r,i,o,a,f,S,k);this.spec=g}update(e,n,r,i){if(this.dirty==be)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ge(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],f=a.dom;if(f.parentNode==t){for(;f!=r;)r=Be(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(f,r);if(a instanceof l){let g=r?r.previousSibling:t.lastChild;ge(a.contentDOM,a.children,n),r=g?g.nextSibling:t.firstChild}}for(;r;)r=Be(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const at=function(t){t&&(this.nodeName=t)};at.prototype=Object.create(null);const L=[new at];function B(t,e,n){if(t.length==0)return L;let r=n?L[0]:new at,i=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(!!a){a.nodeName&&i.push(r=new at(a.nodeName));for(let f in a){let g=a[f];g!=null&&(n&&i.length==1&&i.push(r=new at(e.isInline?"span":"div")),f=="class"?r.class=(r.class?r.class+" ":"")+g:f=="style"?r.style=(r.style?r.style+";":"")+g:f!="nodeName"&&(r[f]=g))}}}return i}function q(t,e,n,r){if(n==L&&r==L)return e;let i=e;for(let o=0;o<r.length;o++){let a=r[o],f=n[o];if(o){let g;f&&f.nodeName==a.nodeName&&i!=t&&(g=i.parentNode)&&g.nodeName.toLowerCase()==a.nodeName||(g=document.createElement(a.nodeName),g.pmIsDeco=!0,g.appendChild(i),f=L[0]),i=g}le(i,f||L[0],a)}return i}function le(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function ae(t,e,n){return q(t,t,L,B(e,n,t.nodeType!=1))}function De(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Be(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class tt{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=It(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=$,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let f=-1;for(let g=this.index;g<Math.min(this.index+3,this.top.children.length);g++){let S=this.top.children[g];if(S.matchesMark(e[o])&&!this.isLocked(S.dom)){f=g;break}}if(f>-1)f>this.index&&(this.changed=!0,this.destroyBetween(this.index,f)),this.top=this.top.children[this.index];else{let g=l.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,g),this.top=g,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))o=this.top.children.indexOf(a,this.index);else for(let f=this.index,g=Math.min(this.top.children.length,f+5);f<g;f++){let S=this.top.children[f];if(S.matchesNode(e,n,r)&&!this.preMatch.matched.has(S)){o=f;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let a=this.top.children[i];return a.dirty==be&&a.dom==a.contentDOM&&(a.dirty=J),a.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,a){for(let f=this.index;f<this.top.children.length;f++){let g=this.top.children[f];if(g instanceof y){let S=this.preMatch.matched.get(g);if(S!=null&&S!=o)return!1;let k=g.dom,z,Y=this.isLocked(k)&&!(e.isText&&g.node&&g.node.isText&&g.nodeDOM.nodeValue==e.text&&g.dirty!=be&&De(n,g.outerDeco));if(!Y&&g.update(e,n,r,i))return this.destroyBetween(this.index,f),g.dom!=k&&(this.changed=!0),this.index++,!0;if(!Y&&(z=this.recreateWrapper(g,e,n,r,i,a)))return this.top.children[this.index]=z,z.dirty=J,z.updateChildren(i,a+1),z.dirty=$,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let f=y.create(this.top,n,r,i,o,a);if(!f.contentDOM)return null;f.children=e.children,e.children=[];for(let g of f.children)g.parent=f;return f}addNode(e,n,r,i,o){let a=y.create(this.top,e,n,r,i,o);a.contentDOM&&a.updateChildren(i,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new D(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof l;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof A)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ne||Nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new F(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function It(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,a=[];e:for(;i>0;){let f;for(;;)if(r){let S=n.children[r-1];if(S instanceof l)n=S,r=S.children.length;else{f=S,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let g=f.node;if(!!g){if(g!=t.child(i-1))break;--i,o.set(f,i),a.push(f)}}return{index:i,matched:o,matches:a.reverse()}}function qt(t,e){return t.type.side-e.type.side}function Gt(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let S=0;S<t.childCount;S++){let k=t.child(S);r(k,i,e.forChild(o,k),S),o+=k.nodeSize}return}let a=0,f=[],g=null;for(let S=0;;){if(a<i.length&&i[a].to==o){let ie=i[a++],Ae;for(;a<i.length&&i[a].to==o;)(Ae||(Ae=[ie])).push(i[a++]);if(Ae){Ae.sort(qt);for(let Ge=0;Ge<Ae.length;Ge++)n(Ae[Ge],S,!!g)}else n(ie,S,!!g)}let k,z;if(g)z=-1,k=g,g=null;else if(S<t.childCount)z=S,k=t.child(S++);else break;for(let ie=0;ie<f.length;ie++)f[ie].to<=o&&f.splice(ie--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)f.push(i[a++]);let Y=o+k.nodeSize;if(k.isText){let ie=Y;a<i.length&&i[a].from<ie&&(ie=i[a].from);for(let Ae=0;Ae<f.length;Ae++)f[Ae].to<ie&&(ie=f[Ae].to);ie<Y&&(g=k.cut(ie-o),k=k.cut(0,ie-o),Y=ie,z=-1)}let j=k.isInline&&!k.isLeaf?f.filter(ie=>!ie.inline):f.slice();r(k,j,e.forChild(o,k),z),o=Y}}function K(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function se(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Ye(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function Te(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let a=t.child(i++),f=o;if(o+=a.nodeSize,!a.isText)continue;let g=a.text;for(;i<t.childCount;){let S=t.child(i++);if(o+=S.nodeSize,!S.isText)break;g+=S.text}if(o>=n){let S=f<r?g.lastIndexOf(e,r-f-1):-1;if(S>=0&&S+e.length+f>=n)return f+S;if(n==r&&g.length>=r+e.length-f&&g.slice(r-f,r-f+e.length)==e)return r}}return-1}function pt(t,e,n,r,i){let o=[];for(let a=0,f=0;a<t.length;a++){let g=t[a],S=f,k=f+=g.size;S>=n||k<=e?o.push(g):(S<e&&o.push(g.slice(0,e-S,r)),i&&(o.push(i),i=void 0),k>n&&o.push(g.slice(n-S,g.size,r)))}return o}function vt(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let f=r.resolve(a),g,S;if(it(n)){for(g=f;i&&!i.node;)i=i.parent;let k=i.node;if(i&&k.isAtom&&x.qv.isSelectable(k)&&i.parent&&!(k.isInline&&rt(n.focusNode,n.focusOffset,i.dom))){let z=i.posBefore;S=new x.qv(a==z?f:r.resolve(z))}}else{let k=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(k<0)return null;g=r.resolve(k)}if(!S){let k=e=="pointer"||t.state.selection.head<f.pos&&!o?1:-1;S=Qn(t,g,f,k)}return S}function zt(t){return t.editable?t.hasFocus():ar(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function nt(t,e=!1){let n=t.state.selection;if(In(t,n),!!zt(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Nt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ue(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Wn(t);else{let{anchor:r,head:i}=n,o,a;ye&&!(n instanceof x.Bs)&&(n.$from.parent.inlineContent||(o=Rt(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=Rt(t,n.to))),t.docView.setSelection(r,i,t.root,e),ye&&(o&&yn(o),a&&yn(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Jn(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ye=Ne||Nt&&Ft<63;function Rt(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ne&&i&&i.contentEditable=="false")return hn(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return hn(i);if(o)return hn(o)}}function hn(t){return t.contentEditable="true",Ne&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function yn(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Jn(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!zt(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Wn(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,fe(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Ke&&yt<=11&&(r.disabled=!0,r.disabled=!1)}function In(t,e){if(e instanceof x.qv){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(sr(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else sr(t)}function sr(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Qn(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||x.Bs.between(e,n,r)}function qn(t){return t.editable&&!t.hasFocus()?!1:ar(t)}function ar(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch(n){return!1}}function ir(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ue(e.node,e.offset,n.anchorNode,n.anchorOffset)}function rr(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&x.Y1.findFrom(o,e)}function h(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function c(t,e,n){let r=t.state.selection;if(r instanceof x.Bs){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let i=rr(t.state,e);return i&&i instanceof x.qv?h(t,i):!1}else if(!(X&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,a;if(!o||o.isText)return!1;let f=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(a=t.docView.descAt(f))&&!a.contentDOM?x.qv.isSelectable(o)?h(t,new x.qv(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):We?h(t,new x.Bs(t.state.doc.resolve(e<0?f:f+o.nodeSize))):!1:!1}}else{if(r instanceof x.qv&&r.node.isInline)return h(t,new x.Bs(e>0?r.$to:r.$from));{let i=rr(t.state,e);return i?h(t,i):!1}}}function m(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function p(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function v(t,e){return e<0?N(t):R(t)}function N(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;for(et&&n.nodeType==1&&r<m(n)&&p(n.childNodes[r])&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let f=n.childNodes[r-1];if(p(f))i=n,o=--r;else if(f.nodeType==3)n=f,r=n.nodeValue.length;else break}}else{if(u(n))break;{let f=n.previousSibling;for(;f&&p(f);)i=n.parentNode,o=fe(f),f=f.previousSibling;if(f)n=f,r=m(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?b(t,n,r):i&&b(t,i,o)}function R(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=m(n),o,a;for(;;)if(r<i){if(n.nodeType!=1)break;let f=n.childNodes[r];if(p(f))o=n,a=++r;else break}else{if(u(n))break;{let f=n.nextSibling;for(;f&&p(f);)o=f.parentNode,a=fe(f)+1,f=f.nextSibling;if(f)n=f,r=0,i=m(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&b(t,o,a)}function u(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function b(t,e,n){let r=t.domSelection();if(it(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&nt(t)},50)}function O(t,e){let n=t.state.doc.resolve(e);if(!(Nt||ne)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>i.top&&a<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function P(t,e,n){let r=t.state.selection;if(r instanceof x.Bs&&!r.empty||n.indexOf("s")>-1||X&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=rr(t.state,e);if(a&&a instanceof x.qv)return h(t,a)}if(!i.parent.inlineContent){let a=e<0?i:o,f=r instanceof x.C1?x.Y1.near(a,e):x.Y1.findFrom(a,e);return f?h(t,f):!1}return!1}function W(t,e){if(!(t.state.selection instanceof x.Bs))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),t.dispatch(a),!0}return!1}function H(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function V(t){if(!Ne||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;H(t,r,"true"),setTimeout(()=>H(t,r,"false"),20)}return!1}function Z(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function pe(t,e){let n=e.keyCode,r=Z(e);if(n==8||X&&n==72&&r=="c")return W(t,-1)||v(t,-1);if(n==46||X&&n==68&&r=="c")return W(t,1)||v(t,1);if(n==13||n==27)return!0;if(n==37||X&&n==66&&r=="c"){let i=n==37?O(t,t.state.selection.from)=="ltr"?-1:1:-1;return c(t,i,r)||v(t,i)}else if(n==39||X&&n==70&&r=="c"){let i=n==39?O(t,t.state.selection.from)=="ltr"?1:-1:1;return c(t,i,r)||v(t,i)}else{if(n==38||X&&n==80&&r=="c")return P(t,-1,r)||v(t,-1);if(n==40||X&&n==78&&r=="c")return V(t)||P(t,1,r)||R(t);if(r==(X?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function ue(t,e){t.someProp("transformCopied",j=>{e=j(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let j=r.firstChild;n.push(j.type.name,j.attrs!=j.type.defaultAttrs?j.attrs:null),r=j.content}let a=t.someProp("clipboardSerializer")||Se.PW.fromSchema(t.state.schema),f=Vt(),g=f.createElement("div");g.appendChild(a.serializeFragment(r,{document:f}));let S=g.firstChild,k,z=0;for(;S&&S.nodeType==1&&(k=Xt[S.nodeName.toLowerCase()]);){for(let j=k.length-1;j>=0;j--){let ie=f.createElement(k[j]);for(;g.firstChild;)ie.appendChild(g.firstChild);g.appendChild(ie),z++}S=g.firstChild}S&&S.nodeType==1&&S.setAttribute("data-pm-slice",`${i} ${o}${z?` -${z}`:""} ${JSON.stringify(n)}`);let Y=t.someProp("clipboardTextSerializer",j=>j(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:g,text:Y}}function Fe(t,e,n,r,i){let o=i.parent.type.spec.code,a,f;if(!n&&!e)return null;let g=e&&(r||o||!n);if(g){if(t.someProp("transformPastedText",Y=>{e=Y(e,o||r,t)}),o)return e?new Se.p2(Se.HY.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Se.p2.empty;let z=t.someProp("clipboardTextParser",Y=>Y(e,i,r,t));if(z)f=z;else{let Y=i.marks(),{schema:j}=t.state,ie=Se.PW.fromSchema(j);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(Ae=>{let Ge=a.appendChild(document.createElement("p"));Ae&&Ge.appendChild(ie.serializeNode(j.text(Ae,Y)))})}}else t.someProp("transformPastedHTML",z=>{n=z(n,t)}),a=on(n),We&&an(a);let S=a&&a.querySelector("[data-pm-slice]"),k=S&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(S.getAttribute("data-pm-slice")||"");if(k&&k[3])for(let z=+k[3];z>0;z--){let Y=a.firstChild;for(;Y&&Y.nodeType!=1;)Y=Y.nextSibling;if(!Y)break;a=Y}if(f||(f=(t.someProp("clipboardParser")||t.someProp("domParser")||Se.aw.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(g||k),context:i,ruleFromNode(Y){return Y.nodeName=="BR"&&!Y.nextSibling&&Y.parentNode&&!je.test(Y.parentNode.nodeName)?{ignore:!0}:null}})),k)f=Yt(Ot(f,+k[1],+k[2]),k[4]);else if(f=Se.p2.maxOpen(He(f.content,i),!0),f.openStart||f.openEnd){let z=0,Y=0;for(let j=f.content.firstChild;z<f.openStart&&!j.type.spec.isolating;z++,j=j.firstChild);for(let j=f.content.lastChild;Y<f.openEnd&&!j.type.spec.isolating;Y++,j=j.lastChild);f=Ot(f,z,Y)}return t.someProp("transformPasted",z=>{f=z(f,t)}),f}const je=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function He(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(t.forEach(f=>{if(!a)return;let g=i.findWrapping(f.type),S;if(!g)return a=null;if(S=a.length&&o.length&&mt(g,o,f,a[a.length-1],0))a[a.length-1]=S;else{a.length&&(a[a.length-1]=_t(a[a.length-1],o.length));let k=Xe(f,g);a.push(k),i=i.matchType(k.type),o=g}}),a)return Se.HY.from(a)}return t}function Xe(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Se.HY.from(t));return t}function mt(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=mt(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Se.HY.from(Xe(n,t,i+1))))}}function _t(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,_t(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Se.HY.empty,!0);return t.copy(n.append(r))}function Ze(t,e,n,r,i,o){let a=e<0?t.firstChild:t.lastChild,f=a.content;return t.childCount>1&&(o=0),i<r-1&&(f=Ze(f,e,n,r,i+1,o)),i>=n&&(f=e<0?a.contentMatchAt(0).fillBefore(f,o<=i).append(f):f.append(a.contentMatchAt(a.childCount).fillBefore(Se.HY.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(f))}function Ot(t,e,n){return e<t.openStart&&(t=new Se.p2(Ze(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Se.p2(Ze(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Xt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Qt=null;function Vt(){return Qt||(Qt=document.implementation.createHTMLDocument("title"))}function on(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Vt().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Xt[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function an(t){let e=t.querySelectorAll(Nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Yt(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch(f){return t}let{content:i,openStart:o,openEnd:a}=t;for(let f=r.length-2;f>=0;f-=2){let g=n.nodes[r[f]];if(!g||g.hasRequiredAttrs())break;i=Se.HY.from(g.create(r[f+1],i)),o++,a++}return new Se.p2(i,o,a)}const Jt={},nn={},Mt={touchstart:!0,touchmove:!0};class Gn{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function sn(t){for(let e in Jt){let n=Jt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{ln(t,r)&&!jn(t,r)&&(t.editable||!(r.type in nn))&&n(t,r)},Mt[e]?{passive:!0}:void 0)}Ne&&t.dom.addEventListener("input",()=>null),Kn(t)}function wt(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Hn(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Kn(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>jn(t,r))})}function jn(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function ln(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Qe(t,e){!jn(t,e)&&Jt[e.type]&&(t.editable||!(e.type in nn))&&Jt[e.type](t,e)}nn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!er(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ke&&Nt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),U&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ot(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||pe(t,n)?n.preventDefault():wt(t,"key")},nn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)},nn.keypress=(t,e)=>{let n=e;if(er(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||X&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof x.Bs)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function ht(t){return{left:t.clientX,top:t.clientY}}function Ht(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function jt(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,f=>a>o.depth?f(t,n,o.nodeAfter,o.before(a),i,!0):f(t,n,o.node(a),o.before(a),i,!1)))return!0;return!1}function _n(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function or(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&x.qv.isSelectable(r)?(_n(t,new x.qv(n),"pointer"),!0):!1}function pr(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof x.qv&&(r=n.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let f=a>o.depth?o.nodeAfter:o.node(a);if(x.qv.isSelectable(f)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(a);break}}return i!=null?(_n(t,x.qv.create(t.state.doc,i),"pointer"),!0):!1}function dr(t,e,n,r,i){return jt(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?pr(t,n):or(t,n))}function Or(t,e,n,r){return jt(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Ur(t,e,n,r){return jt(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Lr(t,n,r)}function Lr(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(_n(t,x.Bs.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let a=o>i.depth?i.nodeAfter:i.node(o),f=i.before(o);if(a.inlineContent)_n(t,x.Bs.create(r,f+1,f+1+a.content.size),"pointer");else if(x.qv.isSelectable(a))_n(t,x.qv.create(r,f),"pointer");else continue;return!0}}function Dn(t){return Sr(t)}const wr=X?"metaKey":"ctrlKey";Jt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Dn(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&Ht(n,t.input.lastClick)&&!n[wr]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let a=t.posAtCoords(ht(n));!a||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Er(t,a,n,!!r)):(o=="doubleClick"?Or:Ur)(t,a.pos,a.inside,n)?n.preventDefault():wt(t,"pointer"))};class Er{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[wr],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{let k=e.state.doc.resolve(n.pos);o=k.parent,a=k.depth?k.before():0}const f=i?null:r.target,g=f?e.docView.nearestDesc(f,!0):null;this.target=g?g.dom:null;let{selection:S}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||S instanceof x.qv&&S.from<=a&&S.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&et&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>nt(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(ht(e))),this.updateAllowDefault(e),this.allowDefault||!n?wt(this.view,"pointer"):dr(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ne&&this.mightDrag&&!this.mightDrag.node.isAtom||Nt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(_n(this.view,x.Y1.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):wt(this.view,"pointer")}move(e){this.updateAllowDefault(e),wt(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Jt.touchstart=t=>{t.input.lastTouch=Date.now(),Dn(t),wt(t,"pointer")},Jt.touchmove=t=>{t.input.lastTouch=Date.now(),wt(t,"pointer")},Jt.contextmenu=t=>Dn(t);function er(t,e){return t.composing?!0:Ne&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const $r=ke?5e3:-1;nn.compositionstart=nn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Sr(t,!0),t.markCursor=null;else if(Sr(t),et&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){t.domSelection().collapse(a,a.nodeValue.length);break}else i=a,o=-1}}t.input.composing=!0}Kr(t,$r)},nn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionID++,Kr(t,20))};function Kr(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Sr(t),e))}function Pr(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Zr());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Zr(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Sr(t,e=!1){if(!(ke&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Pr(t),e||t.docView&&t.docView.dirty){let n=vt(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Wr(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const hr=Ke&&yt<15||U&&st<604;Jt.copy=nn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=hr?null:n.clipboardData,a=r.content(),{dom:f,text:g}=ue(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",f.innerHTML),o.setData("text/plain",g)):Wr(t,f),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function kr(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Vr(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?gr(t,r.value,null,t.input.shiftKey,e):gr(t,r.textContent,r.innerHTML,t.input.shiftKey,e)},50)}function gr(t,e,n,r,i){let o=Fe(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",g=>g(t,i,o||Se.p2.empty)))return!0;if(!o)return!1;let a=kr(o),f=a?t.state.tr.replaceSelectionWith(a,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(f.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}nn.paste=(t,e)=>{let n=e;if(t.composing&&!ke)return;let r=hr?null:n.clipboardData;r&&gr(t,r.getData("text/plain"),r.getData("text/html"),t.input.shiftKey,n)?n.preventDefault():Vr(t,n)};class xr{constructor(e,n){this.slice=e,this.move=n}}const Yr=X?"altKey":"ctrlKey";Jt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(ht(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof x.qv?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(x.qv.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let S=t.docView.nearestDesc(n.target,!0);S&&S.node.type.spec.draggable&&S!=t.docView&&t.dispatch(t.state.tr.setSelection(x.qv.create(t.state.doc,S.posBefore)))}}let a=t.state.selection.content(),{dom:f,text:g}=ue(t,a);n.dataTransfer.clearData(),n.dataTransfer.setData(hr?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",hr||n.dataTransfer.setData("text/plain",g),t.dragging=new xr(a,!n[Yr])},Jt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},nn.dragover=nn.dragenter=(t,e)=>e.preventDefault(),nn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(ht(n));if(!i)return;let o=t.state.doc.resolve(i.pos),a=r&&r.slice;a?t.someProp("transformPasted",ie=>{a=ie(a,t)}):a=Fe(t,n.dataTransfer.getData(hr?"Text":"text/plain"),hr?null:n.dataTransfer.getData("text/html"),!1,o);let f=!!(r&&!n[Yr]);if(t.someProp("handleDrop",ie=>ie(t,n,a||Se.p2.empty,f))){n.preventDefault();return}if(!a)return;n.preventDefault();let g=a?(0,me.nj)(t.state.doc,o.pos,a):o.pos;g==null&&(g=o.pos);let S=t.state.tr;f&&S.deleteSelection();let k=S.mapping.map(g),z=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,Y=S.doc;if(z?S.replaceRangeWith(k,k,a.content.firstChild):S.replaceRange(k,k,a),S.doc.eq(Y))return;let j=S.doc.resolve(k);if(z&&x.qv.isSelectable(a.content.firstChild)&&j.nodeAfter&&j.nodeAfter.sameMarkup(a.content.firstChild))S.setSelection(new x.qv(j));else{let ie=S.mapping.map(g);S.mapping.maps[S.mapping.maps.length-1].forEach((Ae,Ge,Dt,mn)=>ie=mn),S.setSelection(Qn(t,j,S.doc.resolve(ie)))}t.focus(),t.dispatch(S.setMeta("uiEvent","drop"))},Jt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&nt(t)},20))},Jt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},Jt.beforeinput=(t,e)=>{if(Nt&&ke&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ot(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in nn)Jt[t]=nn[t];function Ar(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class vr{constructor(e,n){this.toDOM=e,this.spec=n||br,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:a}=e.mapResult(n.from+i,this.side<0?-1:1);return a?null:new Zn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof vr&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ar(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class lr{constructor(e,n){this.attrs=e,this.spec=n||br}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new Zn(o,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof lr&&Ar(this.attrs,e.attrs)&&Ar(this.spec,e.spec)}static is(e){return e.type instanceof lr}destroy(){}}class Br{constructor(e,n){this.attrs=e,this.spec=n||br}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let a=e.mapResult(n.to+i,-1);return a.deleted||a.pos<=o.pos?null:new Zn(o.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Br&&Ar(this.attrs,e.attrs)&&Ar(this.spec,e.spec)}destroy(){}}class Zn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Zn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Zn(e,e,new vr(n,r))}static inline(e,n,r,i){return new Zn(e,n,new lr(r,i))}static node(e,n,r,i){return new Zn(e,n,new Br(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof lr}}const Mr=[],br={};class Xn{constructor(e,n){this.local=e.length?e:Mr,this.children=n.length?n:Mr}static create(e,n){return n.length?Fr(n,e,0,br):tr}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let a=0;a<this.local.length;a++){let f=this.local[a];f.from<=n&&f.to>=e&&(!o||o(f.spec))&&r.push(f.copy(f.from+i,f.to+i))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let f=this.children[a]+1;this.children[a+2].findInner(e-f,n-f,r,i+f,o)}}map(e,n,r){return this==tr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||br)}mapInner(e,n,r,i,o){let a;for(let f=0;f<this.local.length;f++){let g=this.local[f].map(e,r,i);g&&g.type.valid(n,g)?(a||(a=[])).push(g):o.onRemove&&o.onRemove(this.local[f].spec)}return this.children.length?ai(this.children,a||[],e,n,r,i,o):a?new Xn(a.sort(_r),Mr):tr}add(e,n){return n.length?this==tr?Xn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((f,g)=>{let S=g+r,k;if(!!(k=Ir(n,f,S))){for(i||(i=this.children.slice());o<i.length&&i[o]<g;)o+=3;i[o]==g?i[o+2]=i[o+2].addInner(f,k,S+1):i.splice(o,0,g,g+f.nodeSize,Fr(k,f,S+1,br)),o+=3}});let a=Rr(o?Gr(n):n,-r);for(let f=0;f<a.length;f++)a[f].type.valid(e,a[f])||a.splice(f--,1);return new Xn(a.length?this.local.concat(a).sort(_r):this.local,i||this.children)}remove(e){return e.length==0||this==tr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let a,f=r[o]+n,g=r[o+1]+n;for(let k=0,z;k<e.length;k++)(z=e[k])&&z.from>f&&z.to<g&&(e[k]=null,(a||(a=[])).push(z));if(!a)continue;r==this.children&&(r=this.children.slice());let S=r[o+2].removeInner(a,f+1);S!=tr?r[o+2]=S:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let f=0;f<i.length;f++)i[f].eq(a,n)&&(i==this.local&&(i=this.local.slice()),i.splice(f--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Xn(i,r):tr}forChild(e,n){if(this==tr)return this;if(n.isLeaf)return Xn.empty;let r,i;for(let f=0;f<this.children.length;f+=3)if(this.children[f]>=e){this.children[f]==e&&(r=this.children[f+2]);break}let o=e+1,a=o+n.content.size;for(let f=0;f<this.local.length;f++){let g=this.local[f];if(g.from<a&&g.to>o&&g.type instanceof lr){let S=Math.max(o,g.from)-o,k=Math.min(a,g.to)-o;S<k&&(i||(i=[])).push(g.copy(S,k))}}if(i){let f=new Xn(i.sort(_r),Mr);return r?new yr([f,r]):f}return r||tr}eq(e){if(this==e)return!0;if(!(e instanceof Xn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Xr(this.localsInner(e))}localsInner(e){if(this==tr)return Mr;if(e.inlineContent||!this.local.some(lr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof lr||n.push(this.local[r]);return n}}Xn.empty=new Xn([],[]),Xn.removeOverlap=Xr;const tr=Xn.empty;class yr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,br));return yr.from(r)}forChild(e,n){if(n.isLeaf)return Xn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=tr&&(o instanceof yr?r=r.concat(o.members):r.push(o))}return yr.from(r)}eq(e){if(!(e instanceof yr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?Xr(r?n:n.sort(_r)):Mr}static from(e){switch(e.length){case 0:return tr;case 1:return e[0];default:return new yr(e.every(n=>n instanceof Xn)?e:e.reduce((n,r)=>n.concat(r instanceof Xn?r:r.members),[]))}}}function ai(t,e,n,r,i,o,a){let f=t.slice();for(let S=0,k=o;S<n.maps.length;S++){let z=0;n.maps[S].forEach((Y,j,ie,Ae)=>{let Ge=Ae-ie-(j-Y);for(let Dt=0;Dt<f.length;Dt+=3){let mn=f[Dt+1];if(mn<0||Y>mn+k-z)continue;let Pn=f[Dt]+k-z;j>=Pn?f[Dt+1]=Y<=Pn?-2:-1:ie>=i&&Ge&&(f[Dt]+=Ge,f[Dt+1]+=Ge)}z+=Ge}),k=n.maps[S].map(k,-1)}let g=!1;for(let S=0;S<f.length;S+=3)if(f[S+1]<0){if(f[S+1]==-2){g=!0,f[S+1]=-1;continue}let k=n.map(t[S]+o),z=k-i;if(z<0||z>=r.content.size){g=!0;continue}let Y=n.map(t[S+1]+o,-1),j=Y-i,{index:ie,offset:Ae}=r.content.findIndex(z),Ge=r.maybeChild(ie);if(Ge&&Ae==z&&Ae+Ge.nodeSize==j){let Dt=f[S+2].mapInner(n,Ge,k+1,t[S]+o+1,a);Dt!=tr?(f[S]=z,f[S+1]=j,f[S+2]=Dt):(f[S+1]=-2,g=!0)}else g=!0}if(g){let S=Nr(f,t,e,n,i,o,a),k=Fr(S,r,0,a);e=k.local;for(let z=0;z<f.length;z+=3)f[z+1]<0&&(f.splice(z,3),z-=3);for(let z=0,Y=0;z<k.children.length;z+=3){let j=k.children[z];for(;Y<f.length&&f[Y]<j;)Y+=3;f.splice(Y,0,k.children[z],k.children[z+1],k.children[z+2])}}return new Xn(e.sort(_r),f)}function Rr(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Zn(i.from+e,i.to+e,i.type))}return n}function Nr(t,e,n,r,i,o,a){function f(g,S){for(let k=0;k<g.local.length;k++){let z=g.local[k].map(r,i,S);z?n.push(z):a.onRemove&&a.onRemove(g.local[k].spec)}for(let k=0;k<g.children.length;k+=3)f(g.children[k+2],g.children[k]+S+1)}for(let g=0;g<t.length;g+=3)t[g+1]==-1&&f(t[g+2],e[g]+o+1);return n}function Ir(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[o]=null);return i}function Gr(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Fr(t,e,n,r){let i=[],o=!1;e.forEach((f,g)=>{let S=Ir(t,f,g+n);if(S){o=!0;let k=Fr(S,f,n+g+1,r);k!=tr&&i.push(g,g+f.nodeSize,k)}});let a=Rr(o?Gr(t):t,-n).sort(_r);for(let f=0;f<a.length;f++)a[f].type.valid(e,a[f])||(r.onRemove&&r.onRemove(a[f].spec),a.splice(f--,1));return a.length||i.length?new Xn(a,i):tr}function _r(t,e){return t.from-e.from||t.to-e.to}function Xr(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Qr(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Qr(e,i,r.copy(o.from,r.to)));break}}}return e}function Qr(t,e,n){for(;e<t.length&&_r(n,t[e])>0;)e++;t.splice(e,0,n)}function ei(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=tr&&e.push(r)}),t.cursorWrapper&&e.push(Xn.create(t.state.doc,[t.cursorWrapper.deco])),yr.from(e)}const li={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},bi=Ke&&yt<=11;class ti{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ni{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ti,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Ke&&yt<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),bi&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,li)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!qn(this.view)){if(this.suppressingSelectionUpdates)return nt(this.view);if(Ke&&yt<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ue(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=de(o))n.add(o);for(let o=e.anchorNode;o;o=de(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&qn(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,f=!1,g=[];if(e.editable)for(let k=0;k<n.length;k++){let z=this.registerMutation(n[k],g);z&&(o=o<0?z.from:Math.min(z.from,o),a=a<0?z.to:Math.max(z.to,a),z.typeOver&&(f=!0))}if(et&&g.length>1){let k=g.filter(z=>z.nodeName=="BR");if(k.length==2){let z=k[0],Y=k[1];z.parentNode&&z.parentNode.parentNode==Y.parentNode?Y.remove():z.remove()}}let S=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&it(r)&&(S=vt(e))&&S.eq(x.Y1.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,nt(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,a),I(e)),this.handleDOMChange(o,a,f,g),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||nt(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let k=0;k<e.addedNodes.length;k++)n.push(e.addedNodes[k]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Ke&&yt<=11&&e.addedNodes.length)for(let k=0;k<e.addedNodes.length;k++){let{previousSibling:z,nextSibling:Y}=e.addedNodes[k];(!z||Array.prototype.indexOf.call(e.addedNodes,z)<0)&&(i=z),(!Y||Array.prototype.indexOf.call(e.addedNodes,Y)<0)&&(o=Y)}let a=i&&i.parentNode==e.target?fe(i)+1:0,f=r.localPosFromDOM(e.target,a,-1),g=o&&o.parentNode==e.target?fe(o):e.target.childNodes.length,S=r.localPosFromDOM(e.target,g,1);return{from:f,to:S}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let w=new WeakMap,T=!1;function I(t){if(!w.has(t)&&(w.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=et,T)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),T=!0}}function re(t){let e;function n(g){g.preventDefault(),g.stopImmediatePropagation(),e=g.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,f=t.domAtPos(t.state.selection.anchor);return Ue(f.node,f.offset,o,a)&&([r,i,o,a]=[o,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}function ce(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:a,to:f}=t.docView.parseRange(e,n),g=t.domSelectionRange(),S,k=g.anchorNode;if(k&&t.dom.contains(k.nodeType==1?k:k.parentNode)&&(S=[{node:k,offset:g.anchorOffset}],it(g)||S.push({node:g.focusNode,offset:g.focusOffset})),Nt&&t.input.lastKeyCode===8)for(let Ge=o;Ge>i;Ge--){let Dt=r.childNodes[Ge-1],mn=Dt.pmViewDesc;if(Dt.nodeName=="BR"&&!mn){o=Ge;break}if(!mn||mn.size)break}let z=t.state.doc,Y=t.someProp("domParser")||Se.aw.fromSchema(t.state.schema),j=z.resolve(a),ie=null,Ae=Y.parse(r,{topNode:j.parent,topMatch:j.parent.contentMatchAt(j.index()),topOpen:!0,from:i,to:o,preserveWhitespace:j.parent.type.whitespace=="pre"?"full":!0,findPositions:S,ruleFromNode:he,context:j});if(S&&S[0].pos!=null){let Ge=S[0].pos,Dt=S[1]&&S[1].pos;Dt==null&&(Dt=Ge),ie={anchor:Ge+a,head:Dt+a}}return{doc:Ae,sel:ie,from:a,to:f}}function he(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ne&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ne&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ee=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function _e(t,e,n,r,i){if(e<0){let gn=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,fr=vt(t,gn);if(fr&&!t.state.selection.eq(fr)){if(Nt&&ke&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",qr=>qr(t,ot(13,"Enter"))))return;let Tr=t.state.tr.setSelection(fr);gn=="pointer"?Tr.setMeta("pointer",!0):gn=="key"&&Tr.scrollIntoView(),t.composing&&Tr.setMeta("composition",t.input.compositionID),t.dispatch(Tr)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let f=t.state.selection,g=ce(t,e,n),S=t.state.doc,k=S.slice(g.from,g.to),z,Y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(z=t.state.selection.to,Y="end"):(z=t.state.selection.from,Y="start"),t.input.lastKeyCode=null;let j=Kt(k.content,g.doc.content,g.from,z,Y);if((U&&t.input.lastIOSEnter>Date.now()-225||ke)&&i.some(gn=>gn.nodeType==1&&!Ee.test(gn.nodeName))&&(!j||j.endA>=j.endB)&&t.someProp("handleKeyDown",gn=>gn(t,ot(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!j)if(r&&f instanceof x.Bs&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(g.sel&&g.sel.anchor!=g.sel.head))j={start:f.from,endA:f.to,endB:f.to};else{if(g.sel){let gn=we(t,t.state.doc,g.sel);if(gn&&!gn.eq(t.state.selection)){let fr=t.state.tr.setSelection(gn);t.composing&&fr.setMeta("composition",t.input.compositionID),t.dispatch(fr)}}return}if(Nt&&t.cursorWrapper&&g.sel&&g.sel.anchor==t.cursorWrapper.deco.from&&g.sel.head==g.sel.anchor){let gn=j.endB-j.start;g.sel={anchor:g.sel.anchor+gn,head:g.sel.anchor+gn}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&j.start==j.endB&&t.state.selection instanceof x.Bs&&(j.start>t.state.selection.from&&j.start<=t.state.selection.from+2&&t.state.selection.from>=g.from?j.start=t.state.selection.from:j.endA<t.state.selection.to&&j.endA>=t.state.selection.to-2&&t.state.selection.to<=g.to&&(j.endB+=t.state.selection.to-j.endA,j.endA=t.state.selection.to)),Ke&&yt<=11&&j.endB==j.start+1&&j.endA==j.start&&j.start>g.from&&g.doc.textBetween(j.start-g.from-1,j.start-g.from+1)==" \xA0"&&(j.start--,j.endA--,j.endB--);let ie=g.doc.resolveNoCache(j.start-g.from),Ae=g.doc.resolveNoCache(j.endB-g.from),Ge=S.resolve(j.start),Dt=ie.sameParent(Ae)&&ie.parent.inlineContent&&Ge.end()>=j.endA,mn;if((U&&t.input.lastIOSEnter>Date.now()-225&&(!Dt||i.some(gn=>gn.nodeName=="DIV"||gn.nodeName=="P"))||!Dt&&ie.pos<g.doc.content.size&&(mn=x.Y1.findFrom(g.doc.resolve(ie.pos+1),1,!0))&&mn.head==Ae.pos)&&t.someProp("handleKeyDown",gn=>gn(t,ot(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>j.start&&ze(S,j.start,j.endA,ie,Ae)&&t.someProp("handleKeyDown",gn=>gn(t,ot(8,"Backspace")))){ke&&Nt&&t.domObserver.suppressSelectionUpdates();return}Nt&&ke&&j.endB==j.start&&(t.input.lastAndroidDelete=Date.now()),ke&&!Dt&&ie.start()!=Ae.start()&&Ae.parentOffset==0&&ie.depth==Ae.depth&&g.sel&&g.sel.anchor==g.sel.head&&g.sel.head==j.endA&&(j.endB-=2,Ae=g.doc.resolveNoCache(j.endB-g.from),setTimeout(()=>{t.someProp("handleKeyDown",function(gn){return gn(t,ot(13,"Enter"))})},20));let Pn=j.start,Ln=j.endA,Bn,nr,cr;if(Dt){if(ie.pos==Ae.pos)Ke&&yt<=11&&ie.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>nt(t),20)),Bn=t.state.tr.delete(Pn,Ln),nr=S.resolve(j.start).marksAcross(S.resolve(j.endA));else if(j.endA==j.endB&&(cr=ct(ie.parent.content.cut(ie.parentOffset,Ae.parentOffset),Ge.parent.content.cut(Ge.parentOffset,j.endA-Ge.start()))))Bn=t.state.tr,cr.type=="add"?Bn.addMark(Pn,Ln,cr.mark):Bn.removeMark(Pn,Ln,cr.mark);else if(ie.parent.child(ie.index()).isText&&ie.index()==Ae.index()-(Ae.textOffset?0:1)){let gn=ie.parent.textBetween(ie.parentOffset,Ae.parentOffset);if(t.someProp("handleTextInput",fr=>fr(t,Pn,Ln,gn)))return;Bn=t.state.tr.insertText(gn,Pn,Ln)}}if(Bn||(Bn=t.state.tr.replace(Pn,Ln,g.doc.slice(j.start-g.from,j.endB-g.from))),g.sel){let gn=we(t,Bn.doc,g.sel);gn&&!(Nt&&ke&&t.composing&&gn.empty&&(j.start!=j.endB||t.input.lastAndroidDelete<Date.now()-100)&&(gn.head==Pn||gn.head==Bn.mapping.map(Ln)-1)||Ke&&gn.empty&&gn.head==Pn)&&Bn.setSelection(gn)}nr&&Bn.ensureMarks(nr),t.composing&&Bn.setMeta("composition",t.input.compositionID),t.dispatch(Bn.scrollIntoView())}function we(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Qn(t,e.resolve(n.anchor),e.resolve(n.head))}function ct(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,a,f,g;for(let k=0;k<r.length;k++)i=r[k].removeFromSet(i);for(let k=0;k<n.length;k++)o=n[k].removeFromSet(o);if(i.length==1&&o.length==0)f=i[0],a="add",g=k=>k.mark(f.addToSet(k.marks));else if(i.length==0&&o.length==1)f=o[0],a="remove",g=k=>k.mark(f.removeFromSet(k.marks));else return null;let S=[];for(let k=0;k<e.childCount;k++)S.push(g(e.child(k)));if(Se.HY.from(S).eq(t))return{mark:f,type:a}}function ze(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||$t(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve($t(o,!0,!0));return!a.parent.isTextblock||a.pos>n||$t(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function $t(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Kt(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a,b:f}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let g=Math.max(0,o-Math.min(a,f));r-=a+g-o}return a<o&&t.size<e.size?(o-=r<=o&&r>=a?o-r:0,f=o+(f-a),a=o):f<o&&(o-=r<=o&&r>=f?o-r:0,a=o+(a-f),f=o),{start:o,endA:a,endB:f}}const At=null,xt=null,Et=null;class gt{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Gn,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(d),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Zt(this),Wt(this),this.nodeViews=St(this),this.docView=M(this.state.doc,lt(this),ei(this),this.dom,this),this.domObserver=new ni(this,(r,i,o,a)=>_e(this,r,i,o,a)),this.domObserver.start(),sn(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Kn(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(d),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(Pr(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let Y=St(this);ut(Y,this.nodeViews)&&(this.nodeViews=Y,i=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Kn(this),this.editable=Zt(this),Wt(this);let f=ei(this),g=lt(this),S=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",k=i||!this.docView.matchesNode(e.doc,g,f);(k||!e.selection.eq(r.selection))&&(o=!0);let z=S=="preserve"&&o&&this.dom.style.overflowAnchor==null&&En(this);if(o){this.domObserver.stop();let Y=k&&(Ke||Nt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&te(r.selection,e.selection);if(k){let j=Nt?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,g,f,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=M(e.doc,g,f,this.dom,this)),j&&!this.trackWrites&&(Y=!0)}Y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ir(this))?nt(this,Y):(In(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),S=="reset"?this.dom.scrollTop=0:S=="to selection"?this.scrollToSelection():z&&Sn(z)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof x.qv){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Tt(this,n.getBoundingClientRect(),e)}else Tt(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let a=0;a<this.directPlugins.length;a++){let f=this.directPlugins[a].props[e];if(f!=null&&(i=n?n(f):f))return i}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let f=o[a].props[e];if(f!=null&&(i=n?n(f):f))return i}}hasFocus(){if(Ke){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Tn(this.dom),nt(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return fn(this,e)}coordsAtPos(e,n=1){return Yn(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return C(this,n||this.state,e)}pasteHTML(e,n){return gr(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return gr(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){!this.docView||(Hn(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ei(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Qe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Ne&&this.root.nodeType===11&&bt(this.dom.ownerDocument)==this.dom?re(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function lt(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Zn.node(0,t.state.doc.content.size,e)]}function Wt(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Zn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Zt(t){return!t.someProp("editable",e=>e(t.state)===!1)}function te(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function St(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function ut(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function d(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},69193:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return Ce}});let x=Pe=>typeof Pe=="object"&&Pe!=null&&Pe.nodeType===1,Se=(Pe,Ye)=>(!Ye||Pe!=="hidden")&&Pe!=="visible"&&Pe!=="clip",me=(Pe,Ye)=>{if(Pe.clientHeight<Pe.scrollHeight||Pe.clientWidth<Pe.scrollWidth){let rt=getComputedStyle(Pe,null);return Se(rt.overflowY,Ye)||Se(rt.overflowX,Ye)||(ft=>{let it=(ot=>{if(!ot.ownerDocument||!ot.ownerDocument.defaultView)return null;try{return ot.ownerDocument.defaultView.frameElement}catch(bt){return null}})(ft);return!!it&&(it.clientHeight<ft.scrollHeight||it.clientWidth<ft.scrollWidth)})(Pe)}return!1},fe=(Pe,Ye,rt,ft,it,ot,bt,dt)=>ot<Pe&&bt>Ye||ot>Pe&&bt<Ye?0:ot<=Pe&&dt<=rt||bt>=Ye&&dt>=rt?ot-Pe-ft:bt>Ye&&dt<rt||ot<Pe&&dt>rt?bt-Ye+it:0,de=Pe=>{let Ye=Pe.parentElement;return Ye==null?Pe.getRootNode().host||null:Ye},qe=(Pe,Ye)=>{var rt,ft,it,ot;if(typeof document=="undefined")return[];let{scrollMode:bt,block:dt,inline:Me,boundary:Oe,skipOverflowHiddenElements:Je}=Ye,Ve=typeof Oe=="function"?Oe:Lt=>Lt!==Oe;if(!x(Pe))throw new TypeError("Invalid target");let G=document.scrollingElement||document.documentElement,xe=[],Ke=Pe;for(;x(Ke)&&Ve(Ke);){if(Ke=de(Ke),Ke===G){xe.push(Ke);break}Ke!=null&&Ke===document.body&&me(Ke)&&!me(document.documentElement)||Ke!=null&&me(Ke,Je)&&xe.push(Ke)}let yt=(ft=(rt=window.visualViewport)==null?void 0:rt.width)!=null?ft:innerWidth,et=(ot=(it=window.visualViewport)==null?void 0:it.height)!=null?ot:innerHeight,{scrollX:Ut,scrollY:Nt}=window,{height:Ft,width:Ne,top:U,right:X,bottom:ne,left:ke}=Pe.getBoundingClientRect(),We=dt==="start"||dt==="nearest"?U:dt==="end"?ne:U+Ft/2,st=Me==="center"?ke+Ne/2:Me==="end"?X:ke,Bt=[];for(let Lt=0;Lt<xe.length;Lt++){let Ct=xe[Lt],{height:Tt,width:En,top:On,right:Sn,bottom:Nn,left:tn}=Ct.getBoundingClientRect();if(bt==="if-needed"&&U>=0&&ke>=0&&ne<=et&&X<=yt&&U>=On&&ne<=Nn&&ke>=tn&&X<=Sn)return Bt;let Tn=getComputedStyle(Ct),bn=parseInt(Tn.borderLeftWidth,10),un=parseInt(Tn.borderTopWidth,10),Fn=parseInt(Tn.borderRightWidth,10),kn=parseInt(Tn.borderBottomWidth,10),dn=0,rn=0,xn="offsetWidth"in Ct?Ct.offsetWidth-Ct.clientWidth-bn-Fn:0,fn="offsetHeight"in Ct?Ct.offsetHeight-Ct.clientHeight-un-kn:0,Cn="offsetWidth"in Ct?Ct.offsetWidth===0?0:En/Ct.offsetWidth:0,wn="offsetHeight"in Ct?Ct.offsetHeight===0?0:Tt/Ct.offsetHeight:0;if(G===Ct)dn=dt==="start"?We:dt==="end"?We-et:dt==="nearest"?fe(Nt,Nt+et,et,un,kn,Nt+We,Nt+We+Ft,Ft):We-et/2,rn=Me==="start"?st:Me==="center"?st-yt/2:Me==="end"?st-yt:fe(Ut,Ut+yt,yt,bn,Fn,Ut+st,Ut+st+Ne,Ne),dn=Math.max(0,dn+Nt),rn=Math.max(0,rn+Ut);else{dn=dt==="start"?We-On-un:dt==="end"?We-Nn+kn+fn:dt==="nearest"?fe(On,Nn,Tt,un,kn+fn,We,We+Ft,Ft):We-(On+Tt/2)+fn/2,rn=Me==="start"?st-tn-bn:Me==="center"?st-(tn+En/2)+xn/2:Me==="end"?st-Sn+Fn+xn:fe(tn,Sn,En,bn,Fn+xn,st,st+Ne,Ne);let{scrollLeft:Vn,scrollTop:Yn}=Ct;dn=Math.max(0,Math.min(Yn+dn/wn,Ct.scrollHeight-Tt/wn+fn)),rn=Math.max(0,Math.min(Vn+rn/Cn,Ct.scrollWidth-En/Cn+xn)),We+=Yn-dn,st+=Vn-rn}Bt.push({el:Ct,top:dn,left:rn})}return Bt},$e=Pe=>typeof Pe=="object"&&typeof Pe.behavior=="function",Ue=Pe=>Pe===!1?{block:"end",inline:"nearest"}:(Ye=>Ye===Object(Ye)&&Object.keys(Ye).length!==0)(Pe)?Pe:{block:"start",inline:"nearest"};function Ce(Pe,Ye){if(!Pe.isConnected||!Pe.ownerDocument.documentElement.contains(Pe))return;if($e(Ye))return Ye.behavior(qe(Pe,Ye));let rt=typeof Ye=="boolean"||Ye==null?void 0:Ye.behavior;for(let{el:ft,top:it,left:ot}of qe(Pe,Ue(Ye)))ft.scroll({top:it,left:ot,behavior:rt})}},20427:function(cn,kt,Re){"use strict";Re.d(kt,{ZP:function(){return ni}});function x(w){if(w==null)return window;if(w.toString()!=="[object Window]"){var T=w.ownerDocument;return T&&T.defaultView||window}return w}function Se(w){var T=x(w).Element;return w instanceof T||w instanceof Element}function me(w){var T=x(w).HTMLElement;return w instanceof T||w instanceof HTMLElement}function fe(w){if(typeof ShadowRoot=="undefined")return!1;var T=x(w).ShadowRoot;return w instanceof T||w instanceof ShadowRoot}var de=Math.max,qe=Math.min,$e=Math.round;function Ue(){var w=navigator.userAgentData;return w!=null&&w.brands&&Array.isArray(w.brands)?w.brands.map(function(T){return T.brand+"/"+T.version}).join(" "):navigator.userAgent}function Ce(){return!/^((?!chrome|android).)*safari/i.test(Ue())}function Pe(w,T,I){T===void 0&&(T=!1),I===void 0&&(I=!1);var re=w.getBoundingClientRect(),ce=1,he=1;T&&me(w)&&(ce=w.offsetWidth>0&&$e(re.width)/w.offsetWidth||1,he=w.offsetHeight>0&&$e(re.height)/w.offsetHeight||1);var Ee=Se(w)?x(w):window,_e=Ee.visualViewport,we=!Ce()&&I,ct=(re.left+(we&&_e?_e.offsetLeft:0))/ce,ze=(re.top+(we&&_e?_e.offsetTop:0))/he,$t=re.width/ce,Kt=re.height/he;return{width:$t,height:Kt,top:ze,right:ct+$t,bottom:ze+Kt,left:ct,x:ct,y:ze}}function Ye(w){var T=x(w),I=T.pageXOffset,re=T.pageYOffset;return{scrollLeft:I,scrollTop:re}}function rt(w){return{scrollLeft:w.scrollLeft,scrollTop:w.scrollTop}}function ft(w){return w===x(w)||!me(w)?Ye(w):rt(w)}function it(w){return w?(w.nodeName||"").toLowerCase():null}function ot(w){return((Se(w)?w.ownerDocument:w.document)||window.document).documentElement}function bt(w){return Pe(ot(w)).left+Ye(w).scrollLeft}function dt(w){return x(w).getComputedStyle(w)}function Me(w){var T=dt(w),I=T.overflow,re=T.overflowX,ce=T.overflowY;return/auto|scroll|overlay|hidden/.test(I+ce+re)}function Oe(w){var T=w.getBoundingClientRect(),I=$e(T.width)/w.offsetWidth||1,re=$e(T.height)/w.offsetHeight||1;return I!==1||re!==1}function Je(w,T,I){I===void 0&&(I=!1);var re=me(T),ce=me(T)&&Oe(T),he=ot(T),Ee=Pe(w,ce,I),_e={scrollLeft:0,scrollTop:0},we={x:0,y:0};return(re||!re&&!I)&&((it(T)!=="body"||Me(he))&&(_e=ft(T)),me(T)?(we=Pe(T,!0),we.x+=T.clientLeft,we.y+=T.clientTop):he&&(we.x=bt(he))),{x:Ee.left+_e.scrollLeft-we.x,y:Ee.top+_e.scrollTop-we.y,width:Ee.width,height:Ee.height}}function Ve(w){var T=Pe(w),I=w.offsetWidth,re=w.offsetHeight;return Math.abs(T.width-I)<=1&&(I=T.width),Math.abs(T.height-re)<=1&&(re=T.height),{x:w.offsetLeft,y:w.offsetTop,width:I,height:re}}function G(w){return it(w)==="html"?w:w.assignedSlot||w.parentNode||(fe(w)?w.host:null)||ot(w)}function xe(w){return["html","body","#document"].indexOf(it(w))>=0?w.ownerDocument.body:me(w)&&Me(w)?w:xe(G(w))}function Ke(w,T){var I;T===void 0&&(T=[]);var re=xe(w),ce=re===((I=w.ownerDocument)==null?void 0:I.body),he=x(re),Ee=ce?[he].concat(he.visualViewport||[],Me(re)?re:[]):re,_e=T.concat(Ee);return ce?_e:_e.concat(Ke(G(Ee)))}function yt(w){return["table","td","th"].indexOf(it(w))>=0}function et(w){return!me(w)||dt(w).position==="fixed"?null:w.offsetParent}function Ut(w){var T=/firefox/i.test(Ue()),I=/Trident/i.test(Ue());if(I&&me(w)){var re=dt(w);if(re.position==="fixed")return null}var ce=G(w);for(fe(ce)&&(ce=ce.host);me(ce)&&["html","body"].indexOf(it(ce))<0;){var he=dt(ce);if(he.transform!=="none"||he.perspective!=="none"||he.contain==="paint"||["transform","perspective"].indexOf(he.willChange)!==-1||T&&he.willChange==="filter"||T&&he.filter&&he.filter!=="none")return ce;ce=ce.parentNode}return null}function Nt(w){for(var T=x(w),I=et(w);I&&yt(I)&&dt(I).position==="static";)I=et(I);return I&&(it(I)==="html"||it(I)==="body"&&dt(I).position==="static")?T:I||Ut(w)||T}var Ft="top",Ne="bottom",U="right",X="left",ne="auto",ke=[Ft,Ne,U,X],We="start",st="end",Bt="clippingParents",Lt="viewport",Ct="popper",Tt="reference",En=ke.reduce(function(w,T){return w.concat([T+"-"+We,T+"-"+st])},[]),On=[].concat(ke,[ne]).reduce(function(w,T){return w.concat([T,T+"-"+We,T+"-"+st])},[]),Sn="beforeRead",Nn="read",tn="afterRead",Tn="beforeMain",bn="main",un="afterMain",Fn="beforeWrite",kn="write",dn="afterWrite",rn=[Sn,Nn,tn,Tn,bn,un,Fn,kn,dn];function xn(w){var T=new Map,I=new Set,re=[];w.forEach(function(he){T.set(he.name,he)});function ce(he){I.add(he.name);var Ee=[].concat(he.requires||[],he.requiresIfExists||[]);Ee.forEach(function(_e){if(!I.has(_e)){var we=T.get(_e);we&&ce(we)}}),re.push(he)}return w.forEach(function(he){I.has(he.name)||ce(he)}),re}function fn(w){var T=xn(w);return rn.reduce(function(I,re){return I.concat(T.filter(function(ce){return ce.phase===re}))},[])}function Cn(w){var T;return function(){return T||(T=new Promise(function(I){Promise.resolve().then(function(){T=void 0,I(w())})})),T}}function wn(w){var T=w.reduce(function(I,re){var ce=I[re.name];return I[re.name]=ce?Object.assign({},ce,re,{options:Object.assign({},ce.options,re.options),data:Object.assign({},ce.data,re.data)}):re,I},{});return Object.keys(T).map(function(I){return T[I]})}var Vn="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Yn="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",pn={placement:"bottom",modifiers:[],strategy:"absolute"};function $n(){for(var w=arguments.length,T=new Array(w),I=0;I<w;I++)T[I]=arguments[I];return!T.some(function(re){return!(re&&typeof re.getBoundingClientRect=="function")})}function zn(w){w===void 0&&(w={});var T=w,I=T.defaultModifiers,re=I===void 0?[]:I,ce=T.defaultOptions,he=ce===void 0?pn:ce;return function(_e,we,ct){ct===void 0&&(ct=he);var ze={placement:"bottom",orderedModifiers:[],options:Object.assign({},pn,he),modifiersData:{},elements:{reference:_e,popper:we},attributes:{},styles:{}},$t=[],Kt=!1,At={state:ze,setOptions:function(lt){var Wt=typeof lt=="function"?lt(ze.options):lt;Et(),ze.options=Object.assign({},he,ze.options,Wt),ze.scrollParents={reference:Se(_e)?Ke(_e):_e.contextElement?Ke(_e.contextElement):[],popper:Ke(we)};var Zt=fn(wn([].concat(re,ze.options.modifiers)));if(ze.orderedModifiers=Zt.filter(function(r){return r.enabled}),!1)var te,St,ut,d,t,e,n;return xt(),At.update()},forceUpdate:function(){if(!Kt){var lt=ze.elements,Wt=lt.reference,Zt=lt.popper;if(!!$n(Wt,Zt)){ze.rects={reference:Je(Wt,Nt(Zt),ze.options.strategy==="fixed"),popper:Ve(Zt)},ze.reset=!1,ze.placement=ze.options.placement,ze.orderedModifiers.forEach(function(r){return ze.modifiersData[r.name]=Object.assign({},r.data)});for(var te=0,St=0;St<ze.orderedModifiers.length;St++){if(ze.reset===!0){ze.reset=!1,St=-1;continue}var ut=ze.orderedModifiers[St],d=ut.fn,t=ut.options,e=t===void 0?{}:t,n=ut.name;typeof d=="function"&&(ze=d({state:ze,options:e,name:n,instance:At})||ze)}}}},update:Cn(function(){return new Promise(function(gt){At.forceUpdate(),gt(ze)})}),destroy:function(){Et(),Kt=!0}};if(!$n(_e,we))return At;At.setOptions(ct).then(function(gt){!Kt&&ct.onFirstUpdate&&ct.onFirstUpdate(gt)});function xt(){ze.orderedModifiers.forEach(function(gt){var lt=gt.name,Wt=gt.options,Zt=Wt===void 0?{}:Wt,te=gt.effect;if(typeof te=="function"){var St=te({state:ze,name:lt,instance:At,options:Zt}),ut=function(){};$t.push(St||ut)}})}function Et(){$t.forEach(function(gt){return gt()}),$t=[]}return At}}var Mn=null,vn={passive:!0};function An(w){var T=w.state,I=w.instance,re=w.options,ce=re.scroll,he=ce===void 0?!0:ce,Ee=re.resize,_e=Ee===void 0?!0:Ee,we=x(T.elements.popper),ct=[].concat(T.scrollParents.reference,T.scrollParents.popper);return he&&ct.forEach(function(ze){ze.addEventListener("scroll",I.update,vn)}),_e&&we.addEventListener("resize",I.update,vn),function(){he&&ct.forEach(function(ze){ze.removeEventListener("scroll",I.update,vn)}),_e&&we.removeEventListener("resize",I.update,vn)}}var oe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:An,data:{}};function E(w){return w.split("-")[0]}function _(w){return w.split("-")[1]}function C(w){return["top","bottom"].indexOf(w)>=0?"x":"y"}function $(w){var T=w.reference,I=w.element,re=w.placement,ce=re?E(re):null,he=re?_(re):null,Ee=T.x+T.width/2-I.width/2,_e=T.y+T.height/2-I.height/2,we;switch(ce){case Ft:we={x:Ee,y:T.y-I.height};break;case Ne:we={x:Ee,y:T.y+T.height};break;case U:we={x:T.x+T.width,y:_e};break;case X:we={x:T.x-I.width,y:_e};break;default:we={x:T.x,y:T.y}}var ct=ce?C(ce):null;if(ct!=null){var ze=ct==="y"?"height":"width";switch(he){case We:we[ct]=we[ct]-(T[ze]/2-I[ze]/2);break;case st:we[ct]=we[ct]+(T[ze]/2-I[ze]/2);break;default:}}return we}function ee(w){var T=w.state,I=w.name;T.modifiersData[I]=$({reference:T.rects.reference,element:T.rects.popper,strategy:"absolute",placement:T.placement})}var J={name:"popperOffsets",enabled:!0,phase:"read",fn:ee,data:{}},be={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ie(w,T){var I=w.x,re=w.y,ce=T.devicePixelRatio||1;return{x:$e(I*ce)/ce||0,y:$e(re*ce)/ce||0}}function D(w){var T,I=w.popper,re=w.popperRect,ce=w.placement,he=w.variation,Ee=w.offsets,_e=w.position,we=w.gpuAcceleration,ct=w.adaptive,ze=w.roundOffsets,$t=w.isFixed,Kt=Ee.x,At=Kt===void 0?0:Kt,xt=Ee.y,Et=xt===void 0?0:xt,gt=typeof ze=="function"?ze({x:At,y:Et}):{x:At,y:Et};At=gt.x,Et=gt.y;var lt=Ee.hasOwnProperty("x"),Wt=Ee.hasOwnProperty("y"),Zt=X,te=Ft,St=window;if(ct){var ut=Nt(I),d="clientHeight",t="clientWidth";if(ut===x(I)&&(ut=ot(I),dt(ut).position!=="static"&&_e==="absolute"&&(d="scrollHeight",t="scrollWidth")),ut=ut,ce===Ft||(ce===X||ce===U)&&he===st){te=Ne;var e=$t&&ut===St&&St.visualViewport?St.visualViewport.height:ut[d];Et-=e-re.height,Et*=we?1:-1}if(ce===X||(ce===Ft||ce===Ne)&&he===st){Zt=U;var n=$t&&ut===St&&St.visualViewport?St.visualViewport.width:ut[t];At-=n-re.width,At*=we?1:-1}}var r=Object.assign({position:_e},ct&&be),i=ze===!0?Ie({x:At,y:Et},x(I)):{x:At,y:Et};if(At=i.x,Et=i.y,we){var o;return Object.assign({},r,(o={},o[te]=Wt?"0":"",o[Zt]=lt?"0":"",o.transform=(St.devicePixelRatio||1)<=1?"translate("+At+"px, "+Et+"px)":"translate3d("+At+"px, "+Et+"px, 0)",o))}return Object.assign({},r,(T={},T[te]=Wt?Et+"px":"",T[Zt]=lt?At+"px":"",T.transform="",T))}function s(w){var T=w.state,I=w.options,re=I.gpuAcceleration,ce=re===void 0?!0:re,he=I.adaptive,Ee=he===void 0?!0:he,_e=I.roundOffsets,we=_e===void 0?!0:_e;if(!1)var ct;var ze={placement:E(T.placement),variation:_(T.placement),popper:T.elements.popper,popperRect:T.rects.popper,gpuAcceleration:ce,isFixed:T.options.strategy==="fixed"};T.modifiersData.popperOffsets!=null&&(T.styles.popper=Object.assign({},T.styles.popper,D(Object.assign({},ze,{offsets:T.modifiersData.popperOffsets,position:T.options.strategy,adaptive:Ee,roundOffsets:we})))),T.modifiersData.arrow!=null&&(T.styles.arrow=Object.assign({},T.styles.arrow,D(Object.assign({},ze,{offsets:T.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:we})))),T.attributes.popper=Object.assign({},T.attributes.popper,{"data-popper-placement":T.placement})}var l={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:s,data:{}};function y(w){var T=w.state;Object.keys(T.elements).forEach(function(I){var re=T.styles[I]||{},ce=T.attributes[I]||{},he=T.elements[I];!me(he)||!it(he)||(Object.assign(he.style,re),Object.keys(ce).forEach(function(Ee){var _e=ce[Ee];_e===!1?he.removeAttribute(Ee):he.setAttribute(Ee,_e===!0?"":_e)}))})}function M(w){var T=w.state,I={popper:{position:T.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(T.elements.popper.style,I.popper),T.styles=I,T.elements.arrow&&Object.assign(T.elements.arrow.style,I.arrow),function(){Object.keys(T.elements).forEach(function(re){var ce=T.elements[re],he=T.attributes[re]||{},Ee=Object.keys(T.styles.hasOwnProperty(re)?T.styles[re]:I[re]),_e=Ee.reduce(function(we,ct){return we[ct]="",we},{});!me(ce)||!it(ce)||(Object.assign(ce.style,_e),Object.keys(he).forEach(function(we){ce.removeAttribute(we)}))})}}var A={name:"applyStyles",enabled:!0,phase:"write",fn:y,effect:M,requires:["computeStyles"]};function F(w,T,I){var re=E(w),ce=[X,Ft].indexOf(re)>=0?-1:1,he=typeof I=="function"?I(Object.assign({},T,{placement:w})):I,Ee=he[0],_e=he[1];return Ee=Ee||0,_e=(_e||0)*ce,[X,U].indexOf(re)>=0?{x:_e,y:Ee}:{x:Ee,y:_e}}function Q(w){var T=w.state,I=w.options,re=w.name,ce=I.offset,he=ce===void 0?[0,0]:ce,Ee=On.reduce(function(ze,$t){return ze[$t]=F($t,T.rects,he),ze},{}),_e=Ee[T.placement],we=_e.x,ct=_e.y;T.modifiersData.popperOffsets!=null&&(T.modifiersData.popperOffsets.x+=we,T.modifiersData.popperOffsets.y+=ct),T.modifiersData[re]=Ee}var ge={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Q},at={left:"right",right:"left",bottom:"top",top:"bottom"};function L(w){return w.replace(/left|right|bottom|top/g,function(T){return at[T]})}var B={start:"end",end:"start"};function q(w){return w.replace(/start|end/g,function(T){return B[T]})}function le(w,T){var I=x(w),re=ot(w),ce=I.visualViewport,he=re.clientWidth,Ee=re.clientHeight,_e=0,we=0;if(ce){he=ce.width,Ee=ce.height;var ct=Ce();(ct||!ct&&T==="fixed")&&(_e=ce.offsetLeft,we=ce.offsetTop)}return{width:he,height:Ee,x:_e+bt(w),y:we}}function ae(w){var T,I=ot(w),re=Ye(w),ce=(T=w.ownerDocument)==null?void 0:T.body,he=de(I.scrollWidth,I.clientWidth,ce?ce.scrollWidth:0,ce?ce.clientWidth:0),Ee=de(I.scrollHeight,I.clientHeight,ce?ce.scrollHeight:0,ce?ce.clientHeight:0),_e=-re.scrollLeft+bt(w),we=-re.scrollTop;return dt(ce||I).direction==="rtl"&&(_e+=de(I.clientWidth,ce?ce.clientWidth:0)-he),{width:he,height:Ee,x:_e,y:we}}function De(w,T){var I=T.getRootNode&&T.getRootNode();if(w.contains(T))return!0;if(I&&fe(I)){var re=T;do{if(re&&w.isSameNode(re))return!0;re=re.parentNode||re.host}while(re)}return!1}function Be(w){return Object.assign({},w,{left:w.x,top:w.y,right:w.x+w.width,bottom:w.y+w.height})}function tt(w,T){var I=Pe(w,!1,T==="fixed");return I.top=I.top+w.clientTop,I.left=I.left+w.clientLeft,I.bottom=I.top+w.clientHeight,I.right=I.left+w.clientWidth,I.width=w.clientWidth,I.height=w.clientHeight,I.x=I.left,I.y=I.top,I}function It(w,T,I){return T===Lt?Be(le(w,I)):Se(T)?tt(T,I):Be(ae(ot(w)))}function qt(w){var T=Ke(G(w)),I=["absolute","fixed"].indexOf(dt(w).position)>=0,re=I&&me(w)?Nt(w):w;return Se(re)?T.filter(function(ce){return Se(ce)&&De(ce,re)&&it(ce)!=="body"}):[]}function Gt(w,T,I,re){var ce=T==="clippingParents"?qt(w):[].concat(T),he=[].concat(ce,[I]),Ee=he[0],_e=he.reduce(function(we,ct){var ze=It(w,ct,re);return we.top=de(ze.top,we.top),we.right=qe(ze.right,we.right),we.bottom=qe(ze.bottom,we.bottom),we.left=de(ze.left,we.left),we},It(w,Ee,re));return _e.width=_e.right-_e.left,_e.height=_e.bottom-_e.top,_e.x=_e.left,_e.y=_e.top,_e}function K(){return{top:0,right:0,bottom:0,left:0}}function se(w){return Object.assign({},K(),w)}function Te(w,T){return T.reduce(function(I,re){return I[re]=w,I},{})}function pt(w,T){T===void 0&&(T={});var I=T,re=I.placement,ce=re===void 0?w.placement:re,he=I.strategy,Ee=he===void 0?w.strategy:he,_e=I.boundary,we=_e===void 0?Bt:_e,ct=I.rootBoundary,ze=ct===void 0?Lt:ct,$t=I.elementContext,Kt=$t===void 0?Ct:$t,At=I.altBoundary,xt=At===void 0?!1:At,Et=I.padding,gt=Et===void 0?0:Et,lt=se(typeof gt!="number"?gt:Te(gt,ke)),Wt=Kt===Ct?Tt:Ct,Zt=w.rects.popper,te=w.elements[xt?Wt:Kt],St=Gt(Se(te)?te:te.contextElement||ot(w.elements.popper),we,ze,Ee),ut=Pe(w.elements.reference),d=$({reference:ut,element:Zt,strategy:"absolute",placement:ce}),t=Be(Object.assign({},Zt,d)),e=Kt===Ct?t:ut,n={top:St.top-e.top+lt.top,bottom:e.bottom-St.bottom+lt.bottom,left:St.left-e.left+lt.left,right:e.right-St.right+lt.right},r=w.modifiersData.offset;if(Kt===Ct&&r){var i=r[ce];Object.keys(n).forEach(function(o){var a=[U,Ne].indexOf(o)>=0?1:-1,f=[Ft,Ne].indexOf(o)>=0?"y":"x";n[o]+=i[f]*a})}return n}function vt(w,T){T===void 0&&(T={});var I=T,re=I.placement,ce=I.boundary,he=I.rootBoundary,Ee=I.padding,_e=I.flipVariations,we=I.allowedAutoPlacements,ct=we===void 0?On:we,ze=_(re),$t=ze?_e?En:En.filter(function(xt){return _(xt)===ze}):ke,Kt=$t.filter(function(xt){return ct.indexOf(xt)>=0});Kt.length===0&&(Kt=$t);var At=Kt.reduce(function(xt,Et){return xt[Et]=pt(w,{placement:Et,boundary:ce,rootBoundary:he,padding:Ee})[E(Et)],xt},{});return Object.keys(At).sort(function(xt,Et){return At[xt]-At[Et]})}function zt(w){if(E(w)===ne)return[];var T=L(w);return[q(w),T,q(T)]}function nt(w){var T=w.state,I=w.options,re=w.name;if(!T.modifiersData[re]._skip){for(var ce=I.mainAxis,he=ce===void 0?!0:ce,Ee=I.altAxis,_e=Ee===void 0?!0:Ee,we=I.fallbackPlacements,ct=I.padding,ze=I.boundary,$t=I.rootBoundary,Kt=I.altBoundary,At=I.flipVariations,xt=At===void 0?!0:At,Et=I.allowedAutoPlacements,gt=T.options.placement,lt=E(gt),Wt=lt===gt,Zt=we||(Wt||!xt?[L(gt)]:zt(gt)),te=[gt].concat(Zt).reduce(function(Ge,Dt){return Ge.concat(E(Dt)===ne?vt(T,{placement:Dt,boundary:ze,rootBoundary:$t,padding:ct,flipVariations:xt,allowedAutoPlacements:Et}):Dt)},[]),St=T.rects.reference,ut=T.rects.popper,d=new Map,t=!0,e=te[0],n=0;n<te.length;n++){var r=te[n],i=E(r),o=_(r)===We,a=[Ft,Ne].indexOf(i)>=0,f=a?"width":"height",g=pt(T,{placement:r,boundary:ze,rootBoundary:$t,altBoundary:Kt,padding:ct}),S=a?o?U:X:o?Ne:Ft;St[f]>ut[f]&&(S=L(S));var k=L(S),z=[];if(he&&z.push(g[i]<=0),_e&&z.push(g[S]<=0,g[k]<=0),z.every(function(Ge){return Ge})){e=r,t=!1;break}d.set(r,z)}if(t)for(var Y=xt?3:1,j=function(Dt){var mn=te.find(function(Pn){var Ln=d.get(Pn);if(Ln)return Ln.slice(0,Dt).every(function(Bn){return Bn})});if(mn)return e=mn,"break"},ie=Y;ie>0;ie--){var Ae=j(ie);if(Ae==="break")break}T.placement!==e&&(T.modifiersData[re]._skip=!0,T.placement=e,T.reset=!0)}}var ye={name:"flip",enabled:!0,phase:"main",fn:nt,requiresIfExists:["offset"],data:{_skip:!1}};function Rt(w){return w==="x"?"y":"x"}function hn(w,T,I){return de(w,qe(T,I))}function yn(w,T,I){var re=hn(w,T,I);return re>I?I:re}function Jn(w){var T=w.state,I=w.options,re=w.name,ce=I.mainAxis,he=ce===void 0?!0:ce,Ee=I.altAxis,_e=Ee===void 0?!1:Ee,we=I.boundary,ct=I.rootBoundary,ze=I.altBoundary,$t=I.padding,Kt=I.tether,At=Kt===void 0?!0:Kt,xt=I.tetherOffset,Et=xt===void 0?0:xt,gt=pt(T,{boundary:we,rootBoundary:ct,padding:$t,altBoundary:ze}),lt=E(T.placement),Wt=_(T.placement),Zt=!Wt,te=C(lt),St=Rt(te),ut=T.modifiersData.popperOffsets,d=T.rects.reference,t=T.rects.popper,e=typeof Et=="function"?Et(Object.assign({},T.rects,{placement:T.placement})):Et,n=typeof e=="number"?{mainAxis:e,altAxis:e}:Object.assign({mainAxis:0,altAxis:0},e),r=T.modifiersData.offset?T.modifiersData.offset[T.placement]:null,i={x:0,y:0};if(!!ut){if(he){var o,a=te==="y"?Ft:X,f=te==="y"?Ne:U,g=te==="y"?"height":"width",S=ut[te],k=S+gt[a],z=S-gt[f],Y=At?-t[g]/2:0,j=Wt===We?d[g]:t[g],ie=Wt===We?-t[g]:-d[g],Ae=T.elements.arrow,Ge=At&&Ae?Ve(Ae):{width:0,height:0},Dt=T.modifiersData["arrow#persistent"]?T.modifiersData["arrow#persistent"].padding:K(),mn=Dt[a],Pn=Dt[f],Ln=hn(0,d[g],Ge[g]),Bn=Zt?d[g]/2-Y-Ln-mn-n.mainAxis:j-Ln-mn-n.mainAxis,nr=Zt?-d[g]/2+Y+Ln+Pn+n.mainAxis:ie+Ln+Pn+n.mainAxis,cr=T.elements.arrow&&Nt(T.elements.arrow),gn=cr?te==="y"?cr.clientTop||0:cr.clientLeft||0:0,fr=(o=r==null?void 0:r[te])!=null?o:0,Tr=S+Bn-fr-gn,qr=S+nr-fr,ri=hn(At?qe(k,Tr):k,S,At?de(z,qr):z);ut[te]=ri,i[te]=ri-S}if(_e){var ii,ci=te==="x"?Ft:X,ui=te==="x"?Ne:U,Cr=ut[St],Dr=St==="y"?"height":"width",oi=Cr+gt[ci],zr=Cr-gt[ui],si=[Ft,X].indexOf(lt)!==-1,di=(ii=r==null?void 0:r[St])!=null?ii:0,fi=si?oi:Cr-d[Dr]-t[Dr]-di+n.altAxis,pi=si?Cr+d[Dr]+t[Dr]-di-n.altAxis:zr,hi=At&&si?yn(fi,Cr,pi):hn(At?fi:oi,Cr,At?pi:zr);ut[St]=hi,i[St]=hi-Cr}T.modifiersData[re]=i}}var Wn={name:"preventOverflow",enabled:!0,phase:"main",fn:Jn,requiresIfExists:["offset"]},In=function(T,I){return T=typeof T=="function"?T(Object.assign({},I.rects,{placement:I.placement})):T,se(typeof T!="number"?T:Te(T,ke))};function sr(w){var T,I=w.state,re=w.name,ce=w.options,he=I.elements.arrow,Ee=I.modifiersData.popperOffsets,_e=E(I.placement),we=C(_e),ct=[X,U].indexOf(_e)>=0,ze=ct?"height":"width";if(!(!he||!Ee)){var $t=In(ce.padding,I),Kt=Ve(he),At=we==="y"?Ft:X,xt=we==="y"?Ne:U,Et=I.rects.reference[ze]+I.rects.reference[we]-Ee[we]-I.rects.popper[ze],gt=Ee[we]-I.rects.reference[we],lt=Nt(he),Wt=lt?we==="y"?lt.clientHeight||0:lt.clientWidth||0:0,Zt=Et/2-gt/2,te=$t[At],St=Wt-Kt[ze]-$t[xt],ut=Wt/2-Kt[ze]/2+Zt,d=hn(te,ut,St),t=we;I.modifiersData[re]=(T={},T[t]=d,T.centerOffset=d-ut,T)}}function Qn(w){var T=w.state,I=w.options,re=I.element,ce=re===void 0?"[data-popper-arrow]":re;ce!=null&&(typeof ce=="string"&&(ce=T.elements.popper.querySelector(ce),!ce)||!De(T.elements.popper,ce)||(T.elements.arrow=ce))}var qn={name:"arrow",enabled:!0,phase:"main",fn:sr,effect:Qn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ar(w,T,I){return I===void 0&&(I={x:0,y:0}),{top:w.top-T.height-I.y,right:w.right-T.width+I.x,bottom:w.bottom-T.height+I.y,left:w.left-T.width-I.x}}function ir(w){return[Ft,U,Ne,X].some(function(T){return w[T]>=0})}function rr(w){var T=w.state,I=w.name,re=T.rects.reference,ce=T.rects.popper,he=T.modifiersData.preventOverflow,Ee=pt(T,{elementContext:"reference"}),_e=pt(T,{altBoundary:!0}),we=ar(Ee,re),ct=ar(_e,ce,he),ze=ir(we),$t=ir(ct);T.modifiersData[I]={referenceClippingOffsets:we,popperEscapeOffsets:ct,isReferenceHidden:ze,hasPopperEscaped:$t},T.attributes.popper=Object.assign({},T.attributes.popper,{"data-popper-reference-hidden":ze,"data-popper-escaped":$t})}var h={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rr},c=[oe,J,l,A,ge,ye,Wn,qn,h],m=zn({defaultModifiers:c}),p='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',v="tippy-box",N="tippy-content",R="tippy-backdrop",u="tippy-arrow",b="tippy-svg-arrow",O={passive:!0,capture:!0},P=function(){return document.body};function W(w,T){return{}.hasOwnProperty.call(w,T)}function H(w,T,I){if(Array.isArray(w)){var re=w[T];return re==null?Array.isArray(I)?I[T]:I:re}return w}function V(w,T){var I={}.toString.call(w);return I.indexOf("[object")===0&&I.indexOf(T+"]")>-1}function Z(w,T){return typeof w=="function"?w.apply(void 0,T):w}function pe(w,T){if(T===0)return w;var I;return function(re){clearTimeout(I),I=setTimeout(function(){w(re)},T)}}function ue(w,T){var I=Object.assign({},w);return T.forEach(function(re){delete I[re]}),I}function Fe(w){return w.split(/\s+/).filter(Boolean)}function je(w){return[].concat(w)}function He(w,T){w.indexOf(T)===-1&&w.push(T)}function Xe(w){return w.filter(function(T,I){return w.indexOf(T)===I})}function mt(w){return w.split("-")[0]}function _t(w){return[].slice.call(w)}function Ze(w){return Object.keys(w).reduce(function(T,I){return w[I]!==void 0&&(T[I]=w[I]),T},{})}function Ot(){return document.createElement("div")}function Xt(w){return["Element","Fragment"].some(function(T){return V(w,T)})}function Qt(w){return V(w,"NodeList")}function Vt(w){return V(w,"MouseEvent")}function on(w){return!!(w&&w._tippy&&w._tippy.reference===w)}function an(w){return Xt(w)?[w]:Qt(w)?_t(w):Array.isArray(w)?w:_t(document.querySelectorAll(w))}function Yt(w,T){w.forEach(function(I){I&&(I.style.transitionDuration=T+"ms")})}function Jt(w,T){w.forEach(function(I){I&&I.setAttribute("data-state",T)})}function nn(w){var T,I=je(w),re=I[0];return re!=null&&(T=re.ownerDocument)!=null&&T.body?re.ownerDocument:document}function Mt(w,T){var I=T.clientX,re=T.clientY;return w.every(function(ce){var he=ce.popperRect,Ee=ce.popperState,_e=ce.props,we=_e.interactiveBorder,ct=mt(Ee.placement),ze=Ee.modifiersData.offset;if(!ze)return!0;var $t=ct==="bottom"?ze.top.y:0,Kt=ct==="top"?ze.bottom.y:0,At=ct==="right"?ze.left.x:0,xt=ct==="left"?ze.right.x:0,Et=he.top-re+$t>we,gt=re-he.bottom-Kt>we,lt=he.left-I+At>we,Wt=I-he.right-xt>we;return Et||gt||lt||Wt})}function Gn(w,T,I){var re=T+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(ce){w[re](ce,I)})}function sn(w,T){for(var I=T;I;){var re;if(w.contains(I))return!0;I=I.getRootNode==null||(re=I.getRootNode())==null?void 0:re.host}return!1}var wt={isTouch:!1},Hn=0;function Kn(){wt.isTouch||(wt.isTouch=!0,window.performance&&document.addEventListener("mousemove",jn))}function jn(){var w=performance.now();w-Hn<20&&(wt.isTouch=!1,document.removeEventListener("mousemove",jn)),Hn=w}function ln(){var w=document.activeElement;if(on(w)){var T=w._tippy;w.blur&&!T.state.isVisible&&w.blur()}}function Qe(){document.addEventListener("touchstart",Kn,O),window.addEventListener("blur",ln)}var ht=typeof window!="undefined"&&typeof document!="undefined",Ht=ht?!!window.msCrypto:!1;function jt(w){var T=w==="destroy"?"n already-":" ";return[w+"() was called on a"+T+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function _n(w){var T=/[ \t]{2,}/g,I=/^[ \t]*/gm;return w.replace(T," ").replace(I,"").trim()}function or(w){return _n(`
  %ctippy.js

  %c`+_n(w)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function pr(w){return[or(w),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var dr;function Or(){dr=new Set}function Ur(w,T){if(w&&!dr.has(T)){var I;dr.add(T),(I=console).warn.apply(I,pr(T))}}function Lr(w,T){if(w&&!dr.has(T)){var I;dr.add(T),(I=console).error.apply(I,pr(T))}}function Dn(w){var T=!w,I=Object.prototype.toString.call(w)==="[object Object]"&&!w.addEventListener;Lr(T,["tippy() was passed","`"+String(w)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Lr(I,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var wr={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Er={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},er=Object.assign({appendTo:P,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},wr,Er),$r=Object.keys(er),Kr=function(T){var I=Object.keys(T);I.forEach(function(re){er[re]=T[re]})};function Pr(w){var T=w.plugins||[],I=T.reduce(function(re,ce){var he=ce.name,Ee=ce.defaultValue;if(he){var _e;re[he]=w[he]!==void 0?w[he]:(_e=er[he])!=null?_e:Ee}return re},{});return Object.assign({},w,I)}function Zr(w,T){var I=T?Object.keys(Pr(Object.assign({},er,{plugins:T}))):$r,re=I.reduce(function(ce,he){var Ee=(w.getAttribute("data-tippy-"+he)||"").trim();if(!Ee)return ce;if(he==="content")ce[he]=Ee;else try{ce[he]=JSON.parse(Ee)}catch(_e){ce[he]=Ee}return ce},{});return re}function Sr(w,T){var I=Object.assign({},T,{content:Z(T.content,[w])},T.ignoreAttributes?{}:Zr(w,T.plugins));return I.aria=Object.assign({},er.aria,I.aria),I.aria={expanded:I.aria.expanded==="auto"?T.interactive:I.aria.expanded,content:I.aria.content==="auto"?T.interactive?null:"describedby":I.aria.content},I}function Wr(w,T){w===void 0&&(w={}),T===void 0&&(T=[]);var I=Object.keys(w);I.forEach(function(re){var ce=ue(er,Object.keys(wr)),he=!W(ce,re);he&&(he=T.filter(function(Ee){return Ee.name===re}).length===0),Ur(he,["`"+re+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var hr=function(){return"innerHTML"};function kr(w,T){w[hr()]=T}function Vr(w){var T=Ot();return w===!0?T.className=u:(T.className=b,Xt(w)?T.appendChild(w):kr(T,w)),T}function gr(w,T){Xt(T.content)?(kr(w,""),w.appendChild(T.content)):typeof T.content!="function"&&(T.allowHTML?kr(w,T.content):w.textContent=T.content)}function xr(w){var T=w.firstElementChild,I=_t(T.children);return{box:T,content:I.find(function(re){return re.classList.contains(N)}),arrow:I.find(function(re){return re.classList.contains(u)||re.classList.contains(b)}),backdrop:I.find(function(re){return re.classList.contains(R)})}}function Yr(w){var T=Ot(),I=Ot();I.className=v,I.setAttribute("data-state","hidden"),I.setAttribute("tabindex","-1");var re=Ot();re.className=N,re.setAttribute("data-state","hidden"),gr(re,w.props),T.appendChild(I),I.appendChild(re),ce(w.props,w.props);function ce(he,Ee){var _e=xr(T),we=_e.box,ct=_e.content,ze=_e.arrow;Ee.theme?we.setAttribute("data-theme",Ee.theme):we.removeAttribute("data-theme"),typeof Ee.animation=="string"?we.setAttribute("data-animation",Ee.animation):we.removeAttribute("data-animation"),Ee.inertia?we.setAttribute("data-inertia",""):we.removeAttribute("data-inertia"),we.style.maxWidth=typeof Ee.maxWidth=="number"?Ee.maxWidth+"px":Ee.maxWidth,Ee.role?we.setAttribute("role",Ee.role):we.removeAttribute("role"),(he.content!==Ee.content||he.allowHTML!==Ee.allowHTML)&&gr(ct,w.props),Ee.arrow?ze?he.arrow!==Ee.arrow&&(we.removeChild(ze),we.appendChild(Vr(Ee.arrow))):we.appendChild(Vr(Ee.arrow)):ze&&we.removeChild(ze)}return{popper:T,onUpdate:ce}}Yr.$$tippy=!0;var Ar=1,vr=[],lr=[];function Br(w,T){var I=Sr(w,Object.assign({},er,Pr(Ze(T)))),re,ce,he,Ee=!1,_e=!1,we=!1,ct=!1,ze,$t,Kt,At=[],xt=pe(Tr,I.interactiveDebounce),Et,gt=Ar++,lt=null,Wt=Xe(I.plugins),Zt={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},te={id:gt,reference:w,popper:Ot(),popperInstance:lt,props:I,state:Zt,plugins:Wt,clearDelayTimeouts:fi,setProps:pi,setContent:hi,show:Si,hide:ki,hideWithInteractivity:Mi,enable:si,disable:di,unmount:Ni,destroy:Ti};if(!I.render)return te;var St=I.render(te),ut=St.popper,d=St.onUpdate;ut.setAttribute("data-tippy-root",""),ut.id="tippy-"+te.id,te.popper=ut,w._tippy=te,ut._tippy=te;var t=Wt.map(function(Le){return Le.fn(te)}),e=w.hasAttribute("aria-expanded");return cr(),Y(),S(),k("onCreate",[te]),I.showOnCreate&&oi(),ut.addEventListener("mouseenter",function(){te.props.interactive&&te.state.isVisible&&te.clearDelayTimeouts()}),ut.addEventListener("mouseleave",function(){te.props.interactive&&te.props.trigger.indexOf("mouseenter")>=0&&a().addEventListener("mousemove",xt)}),te;function n(){var Le=te.props.touch;return Array.isArray(Le)?Le:[Le,0]}function r(){return n()[0]==="hold"}function i(){var Le;return!!((Le=te.props.render)!=null&&Le.$$tippy)}function o(){return Et||w}function a(){var Le=o().parentNode;return Le?nn(Le):document}function f(){return xr(ut)}function g(Le){return te.state.isMounted&&!te.state.isVisible||wt.isTouch||ze&&ze.type==="focus"?0:H(te.props.delay,Le?0:1,er.delay)}function S(Le){Le===void 0&&(Le=!1),ut.style.pointerEvents=te.props.interactive&&!Le?"":"none",ut.style.zIndex=""+te.props.zIndex}function k(Le,Pt,en){if(en===void 0&&(en=!0),t.forEach(function(Rn){Rn[Le]&&Rn[Le].apply(Rn,Pt)}),en){var Un;(Un=te.props)[Le].apply(Un,Pt)}}function z(){var Le=te.props.aria;if(!!Le.content){var Pt="aria-"+Le.content,en=ut.id,Un=je(te.props.triggerTarget||w);Un.forEach(function(Rn){var ur=Rn.getAttribute(Pt);if(te.state.isVisible)Rn.setAttribute(Pt,ur?ur+" "+en:en);else{var mr=ur&&ur.replace(en,"").trim();mr?Rn.setAttribute(Pt,mr):Rn.removeAttribute(Pt)}})}}function Y(){if(!(e||!te.props.aria.expanded)){var Le=je(te.props.triggerTarget||w);Le.forEach(function(Pt){te.props.interactive?Pt.setAttribute("aria-expanded",te.state.isVisible&&Pt===o()?"true":"false"):Pt.removeAttribute("aria-expanded")})}}function j(){a().removeEventListener("mousemove",xt),vr=vr.filter(function(Le){return Le!==xt})}function ie(Le){if(!(wt.isTouch&&(we||Le.type==="mousedown"))){var Pt=Le.composedPath&&Le.composedPath()[0]||Le.target;if(!(te.props.interactive&&sn(ut,Pt))){if(je(te.props.triggerTarget||w).some(function(en){return sn(en,Pt)})){if(wt.isTouch||te.state.isVisible&&te.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[te,Le]);te.props.hideOnClick===!0&&(te.clearDelayTimeouts(),te.hide(),_e=!0,setTimeout(function(){_e=!1}),te.state.isMounted||mn())}}}function Ae(){we=!0}function Ge(){we=!1}function Dt(){var Le=a();Le.addEventListener("mousedown",ie,!0),Le.addEventListener("touchend",ie,O),Le.addEventListener("touchstart",Ge,O),Le.addEventListener("touchmove",Ae,O)}function mn(){var Le=a();Le.removeEventListener("mousedown",ie,!0),Le.removeEventListener("touchend",ie,O),Le.removeEventListener("touchstart",Ge,O),Le.removeEventListener("touchmove",Ae,O)}function Pn(Le,Pt){Bn(Le,function(){!te.state.isVisible&&ut.parentNode&&ut.parentNode.contains(ut)&&Pt()})}function Ln(Le,Pt){Bn(Le,Pt)}function Bn(Le,Pt){var en=f().box;function Un(Rn){Rn.target===en&&(Gn(en,"remove",Un),Pt())}if(Le===0)return Pt();Gn(en,"remove",$t),Gn(en,"add",Un),$t=Un}function nr(Le,Pt,en){en===void 0&&(en=!1);var Un=je(te.props.triggerTarget||w);Un.forEach(function(Rn){Rn.addEventListener(Le,Pt,en),At.push({node:Rn,eventType:Le,handler:Pt,options:en})})}function cr(){r()&&(nr("touchstart",fr,{passive:!0}),nr("touchend",qr,{passive:!0})),Fe(te.props.trigger).forEach(function(Le){if(Le!=="manual")switch(nr(Le,fr),Le){case"mouseenter":nr("mouseleave",qr);break;case"focus":nr(Ht?"focusout":"blur",ri);break;case"focusin":nr("focusout",ri);break}})}function gn(){At.forEach(function(Le){var Pt=Le.node,en=Le.eventType,Un=Le.handler,Rn=Le.options;Pt.removeEventListener(en,Un,Rn)}),At=[]}function fr(Le){var Pt,en=!1;if(!(!te.state.isEnabled||ii(Le)||_e)){var Un=((Pt=ze)==null?void 0:Pt.type)==="focus";ze=Le,Et=Le.currentTarget,Y(),!te.state.isVisible&&Vt(Le)&&vr.forEach(function(Rn){return Rn(Le)}),Le.type==="click"&&(te.props.trigger.indexOf("mouseenter")<0||Ee)&&te.props.hideOnClick!==!1&&te.state.isVisible?en=!0:oi(Le),Le.type==="click"&&(Ee=!en),en&&!Un&&zr(Le)}}function Tr(Le){var Pt=Le.target,en=o().contains(Pt)||ut.contains(Pt);if(!(Le.type==="mousemove"&&en)){var Un=Dr().concat(ut).map(function(Rn){var ur,mr=Rn._tippy,Jr=(ur=mr.popperInstance)==null?void 0:ur.state;return Jr?{popperRect:Rn.getBoundingClientRect(),popperState:Jr,props:I}:null}).filter(Boolean);Mt(Un,Le)&&(j(),zr(Le))}}function qr(Le){var Pt=ii(Le)||te.props.trigger.indexOf("click")>=0&&Ee;if(!Pt){if(te.props.interactive){te.hideWithInteractivity(Le);return}zr(Le)}}function ri(Le){te.props.trigger.indexOf("focusin")<0&&Le.target!==o()||te.props.interactive&&Le.relatedTarget&&ut.contains(Le.relatedTarget)||zr(Le)}function ii(Le){return wt.isTouch?r()!==Le.type.indexOf("touch")>=0:!1}function ci(){ui();var Le=te.props,Pt=Le.popperOptions,en=Le.placement,Un=Le.offset,Rn=Le.getReferenceClientRect,ur=Le.moveTransition,mr=i()?xr(ut).arrow:null,Jr=Rn?{getBoundingClientRect:Rn,contextElement:Rn.contextElement||o()}:w,_i={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(mi){var jr=mi.state;if(i()){var Ci=f(),Ei=Ci.box;["placement","reference-hidden","escaped"].forEach(function(gi){gi==="placement"?Ei.setAttribute("data-placement",jr.placement):jr.attributes.popper["data-popper-"+gi]?Ei.setAttribute("data-"+gi,""):Ei.removeAttribute("data-"+gi)}),jr.attributes.popper={}}}},Hr=[{name:"offset",options:{offset:Un}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ur}},_i];i()&&mr&&Hr.push({name:"arrow",options:{element:mr,padding:3}}),Hr.push.apply(Hr,(Pt==null?void 0:Pt.modifiers)||[]),te.popperInstance=m(Jr,ut,Object.assign({},Pt,{placement:en,onFirstUpdate:Kt,modifiers:Hr}))}function ui(){te.popperInstance&&(te.popperInstance.destroy(),te.popperInstance=null)}function Cr(){var Le=te.props.appendTo,Pt,en=o();te.props.interactive&&Le===P||Le==="parent"?Pt=en.parentNode:Pt=Z(Le,[en]),Pt.contains(ut)||Pt.appendChild(ut),te.state.isMounted=!0,ci()}function Dr(){return _t(ut.querySelectorAll("[data-tippy-root]"))}function oi(Le){te.clearDelayTimeouts(),Le&&k("onTrigger",[te,Le]),Dt();var Pt=g(!0),en=n(),Un=en[0],Rn=en[1];wt.isTouch&&Un==="hold"&&Rn&&(Pt=Rn),Pt?re=setTimeout(function(){te.show()},Pt):te.show()}function zr(Le){if(te.clearDelayTimeouts(),k("onUntrigger",[te,Le]),!te.state.isVisible){mn();return}if(!(te.props.trigger.indexOf("mouseenter")>=0&&te.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Le.type)>=0&&Ee)){var Pt=g(!1);Pt?ce=setTimeout(function(){te.state.isVisible&&te.hide()},Pt):he=requestAnimationFrame(function(){te.hide()})}}function si(){te.state.isEnabled=!0}function di(){te.hide(),te.state.isEnabled=!1}function fi(){clearTimeout(re),clearTimeout(ce),cancelAnimationFrame(he)}function pi(Le){if(!te.state.isDestroyed){k("onBeforeUpdate",[te,Le]),gn();var Pt=te.props,en=Sr(w,Object.assign({},Pt,Ze(Le),{ignoreAttributes:!0}));te.props=en,cr(),Pt.interactiveDebounce!==en.interactiveDebounce&&(j(),xt=pe(Tr,en.interactiveDebounce)),Pt.triggerTarget&&!en.triggerTarget?je(Pt.triggerTarget).forEach(function(Un){Un.removeAttribute("aria-expanded")}):en.triggerTarget&&w.removeAttribute("aria-expanded"),Y(),S(),d&&d(Pt,en),te.popperInstance&&(ci(),Dr().forEach(function(Un){requestAnimationFrame(Un._tippy.popperInstance.forceUpdate)})),k("onAfterUpdate",[te,Le])}}function hi(Le){te.setProps({content:Le})}function Si(){var Le=te.state.isVisible,Pt=te.state.isDestroyed,en=!te.state.isEnabled,Un=wt.isTouch&&!te.props.touch,Rn=H(te.props.duration,0,er.duration);if(!(Le||Pt||en||Un)&&!o().hasAttribute("disabled")&&(k("onShow",[te],!1),te.props.onShow(te)!==!1)){if(te.state.isVisible=!0,i()&&(ut.style.visibility="visible"),S(),Dt(),te.state.isMounted||(ut.style.transition="none"),i()){var ur=f(),mr=ur.box,Jr=ur.content;Yt([mr,Jr],0)}Kt=function(){var Hr;if(!(!te.state.isVisible||ct)){if(ct=!0,ut.offsetHeight,ut.style.transition=te.props.moveTransition,i()&&te.props.animation){var yi=f(),mi=yi.box,jr=yi.content;Yt([mi,jr],Rn),Jt([mi,jr],"visible")}z(),Y(),He(lr,te),(Hr=te.popperInstance)==null||Hr.forceUpdate(),k("onMount",[te]),te.props.animation&&i()&&Ln(Rn,function(){te.state.isShown=!0,k("onShown",[te])})}},Cr()}}function ki(){var Le=!te.state.isVisible,Pt=te.state.isDestroyed,en=!te.state.isEnabled,Un=H(te.props.duration,1,er.duration);if(!(Le||Pt||en)&&(k("onHide",[te],!1),te.props.onHide(te)!==!1)){if(te.state.isVisible=!1,te.state.isShown=!1,ct=!1,Ee=!1,i()&&(ut.style.visibility="hidden"),j(),mn(),S(!0),i()){var Rn=f(),ur=Rn.box,mr=Rn.content;te.props.animation&&(Yt([ur,mr],Un),Jt([ur,mr],"hidden"))}z(),Y(),te.props.animation?i()&&Pn(Un,te.unmount):te.unmount()}}function Mi(Le){a().addEventListener("mousemove",xt),He(vr,xt),xt(Le)}function Ni(){te.state.isVisible&&te.hide(),!!te.state.isMounted&&(ui(),Dr().forEach(function(Le){Le._tippy.unmount()}),ut.parentNode&&ut.parentNode.removeChild(ut),lr=lr.filter(function(Le){return Le!==te}),te.state.isMounted=!1,k("onHidden",[te]))}function Ti(){te.state.isDestroyed||(te.clearDelayTimeouts(),te.unmount(),gn(),delete w._tippy,te.state.isDestroyed=!0,k("onDestroy",[te]))}}function Zn(w,T){T===void 0&&(T={});var I=er.plugins.concat(T.plugins||[]);Qe();var re=Object.assign({},T,{plugins:I}),ce=an(w);if(!1)var he,Ee;var _e=ce.reduce(function(we,ct){var ze=ct&&Br(ct,re);return ze&&we.push(ze),we},[]);return Xt(w)?_e[0]:_e}Zn.defaultProps=er,Zn.setDefaultProps=Kr,Zn.currentInput=wt;var Mr=function(T){var I=T===void 0?{}:T,re=I.exclude,ce=I.duration;lr.forEach(function(he){var Ee=!1;if(re&&(Ee=on(re)?he.reference===re:he.popper===re.popper),!Ee){var _e=he.props.duration;he.setProps({duration:ce}),he.hide(),he.state.isDestroyed||he.setProps({duration:_e})}})},br=Object.assign({},A,{effect:function(T){var I=T.state,re={popper:{position:I.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(I.elements.popper.style,re.popper),I.styles=re,I.elements.arrow&&Object.assign(I.elements.arrow.style,re.arrow)}}),Xn=function(T,I){var re;I===void 0&&(I={});var ce=T,he=[],Ee=[],_e,we=I.overrides,ct=[],ze=!1;function $t(){Ee=ce.map(function(te){return je(te.props.triggerTarget||te.reference)}).reduce(function(te,St){return te.concat(St)},[])}function Kt(){he=ce.map(function(te){return te.reference})}function At(te){ce.forEach(function(St){te?St.enable():St.disable()})}function xt(te){return ce.map(function(St){var ut=St.setProps;return St.setProps=function(d){ut(d),St.reference===_e&&te.setProps(d)},function(){St.setProps=ut}})}function Et(te,St){var ut=Ee.indexOf(St);if(St!==_e){_e=St;var d=(we||[]).concat("content").reduce(function(t,e){return t[e]=ce[ut].props[e],t},{});te.setProps(Object.assign({},d,{getReferenceClientRect:typeof d.getReferenceClientRect=="function"?d.getReferenceClientRect:function(){var t;return(t=he[ut])==null?void 0:t.getBoundingClientRect()}}))}}At(!1),Kt(),$t();var gt={fn:function(){return{onDestroy:function(){At(!0)},onHidden:function(){_e=null},onClickOutside:function(ut){ut.props.showOnCreate&&!ze&&(ze=!0,_e=null)},onShow:function(ut){ut.props.showOnCreate&&!ze&&(ze=!0,Et(ut,he[0]))},onTrigger:function(ut,d){Et(ut,d.currentTarget)}}}},lt=Zn(Ot(),Object.assign({},ue(I,["overrides"]),{plugins:[gt].concat(I.plugins||[]),triggerTarget:Ee,popperOptions:Object.assign({},I.popperOptions,{modifiers:[].concat(((re=I.popperOptions)==null?void 0:re.modifiers)||[],[br])})})),Wt=lt.show;lt.show=function(te){if(Wt(),!_e&&te==null)return Et(lt,he[0]);if(!(_e&&te==null)){if(typeof te=="number")return he[te]&&Et(lt,he[te]);if(ce.indexOf(te)>=0){var St=te.reference;return Et(lt,St)}if(he.indexOf(te)>=0)return Et(lt,te)}},lt.showNext=function(){var te=he[0];if(!_e)return lt.show(0);var St=he.indexOf(_e);lt.show(he[St+1]||te)},lt.showPrevious=function(){var te=he[he.length-1];if(!_e)return lt.show(te);var St=he.indexOf(_e),ut=he[St-1]||te;lt.show(ut)};var Zt=lt.setProps;return lt.setProps=function(te){we=te.overrides||we,Zt(te)},lt.setInstances=function(te){At(!0),ct.forEach(function(St){return St()}),ce=te,At(!1),Kt(),$t(),ct=xt(lt),lt.setProps({triggerTarget:Ee})},ct=xt(lt),lt},tr={mouseover:"mouseenter",focusin:"focus",click:"click"};function yr(w,T){var I=[],re=[],ce=!1,he=T.target,Ee=ue(T,["target"]),_e=Object.assign({},Ee,{trigger:"manual",touch:!1}),we=Object.assign({touch:er.touch},Ee,{showOnCreate:!0}),ct=Zn(w,_e),ze=je(ct);function $t(gt){if(!(!gt.target||ce)){var lt=gt.target.closest(he);if(!!lt){var Wt=lt.getAttribute("data-tippy-trigger")||T.trigger||er.trigger;if(!lt._tippy&&!(gt.type==="touchstart"&&typeof we.touch=="boolean")&&!(gt.type!=="touchstart"&&Wt.indexOf(tr[gt.type])<0)){var Zt=Zn(lt,we);Zt&&(re=re.concat(Zt))}}}}function Kt(gt,lt,Wt,Zt){Zt===void 0&&(Zt=!1),gt.addEventListener(lt,Wt,Zt),I.push({node:gt,eventType:lt,handler:Wt,options:Zt})}function At(gt){var lt=gt.reference;Kt(lt,"touchstart",$t,O),Kt(lt,"mouseover",$t),Kt(lt,"focusin",$t),Kt(lt,"click",$t)}function xt(){I.forEach(function(gt){var lt=gt.node,Wt=gt.eventType,Zt=gt.handler,te=gt.options;lt.removeEventListener(Wt,Zt,te)}),I=[]}function Et(gt){var lt=gt.destroy,Wt=gt.enable,Zt=gt.disable;gt.destroy=function(te){te===void 0&&(te=!0),te&&re.forEach(function(St){St.destroy()}),re=[],xt(),lt()},gt.enable=function(){Wt(),re.forEach(function(te){return te.enable()}),ce=!1},gt.disable=function(){Zt(),re.forEach(function(te){return te.disable()}),ce=!0},At(gt)}return ze.forEach(Et),ct}var ai={name:"animateFill",defaultValue:!1,fn:function(T){var I;if(!((I=T.props.render)!=null&&I.$$tippy))return{};var re=xr(T.popper),ce=re.box,he=re.content,Ee=T.props.animateFill?Rr():null;return{onCreate:function(){Ee&&(ce.insertBefore(Ee,ce.firstElementChild),ce.setAttribute("data-animatefill",""),ce.style.overflow="hidden",T.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(Ee){var we=ce.style.transitionDuration,ct=Number(we.replace("ms",""));he.style.transitionDelay=Math.round(ct/10)+"ms",Ee.style.transitionDuration=we,Jt([Ee],"visible")}},onShow:function(){Ee&&(Ee.style.transitionDuration="0ms")},onHide:function(){Ee&&Jt([Ee],"hidden")}}}};function Rr(){var w=Ot();return w.className=R,Jt([w],"hidden"),w}var Nr={clientX:0,clientY:0},Ir=[];function Gr(w){var T=w.clientX,I=w.clientY;Nr={clientX:T,clientY:I}}function Fr(w){w.addEventListener("mousemove",Gr)}function _r(w){w.removeEventListener("mousemove",Gr)}var Xr={name:"followCursor",defaultValue:!1,fn:function(T){var I=T.reference,re=nn(T.props.triggerTarget||I),ce=!1,he=!1,Ee=!0,_e=T.props;function we(){return T.props.followCursor==="initial"&&T.state.isVisible}function ct(){re.addEventListener("mousemove",Kt)}function ze(){re.removeEventListener("mousemove",Kt)}function $t(){ce=!0,T.setProps({getReferenceClientRect:null}),ce=!1}function Kt(Et){var gt=Et.target?I.contains(Et.target):!0,lt=T.props.followCursor,Wt=Et.clientX,Zt=Et.clientY,te=I.getBoundingClientRect(),St=Wt-te.left,ut=Zt-te.top;(gt||!T.props.interactive)&&T.setProps({getReferenceClientRect:function(){var t=I.getBoundingClientRect(),e=Wt,n=Zt;lt==="initial"&&(e=t.left+St,n=t.top+ut);var r=lt==="horizontal"?t.top:n,i=lt==="vertical"?t.right:e,o=lt==="horizontal"?t.bottom:n,a=lt==="vertical"?t.left:e;return{width:i-a,height:o-r,top:r,right:i,bottom:o,left:a}}})}function At(){T.props.followCursor&&(Ir.push({instance:T,doc:re}),Fr(re))}function xt(){Ir=Ir.filter(function(Et){return Et.instance!==T}),Ir.filter(function(Et){return Et.doc===re}).length===0&&_r(re)}return{onCreate:At,onDestroy:xt,onBeforeUpdate:function(){_e=T.props},onAfterUpdate:function(gt,lt){var Wt=lt.followCursor;ce||Wt!==void 0&&_e.followCursor!==Wt&&(xt(),Wt?(At(),T.state.isMounted&&!he&&!we()&&ct()):(ze(),$t()))},onMount:function(){T.props.followCursor&&!he&&(Ee&&(Kt(Nr),Ee=!1),we()||ct())},onTrigger:function(gt,lt){Vt(lt)&&(Nr={clientX:lt.clientX,clientY:lt.clientY}),he=lt.type==="focus"},onHidden:function(){T.props.followCursor&&($t(),ze(),Ee=!0)}}}};function Qr(w,T){var I;return{popperOptions:Object.assign({},w.popperOptions,{modifiers:[].concat((((I=w.popperOptions)==null?void 0:I.modifiers)||[]).filter(function(re){var ce=re.name;return ce!==T.name}),[T])})}}var ei={name:"inlinePositioning",defaultValue:!1,fn:function(T){var I=T.reference;function re(){return!!T.props.inlinePositioning}var ce,he=-1,Ee=!1,_e=[],we={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(At){var xt=At.state;re()&&(_e.indexOf(xt.placement)!==-1&&(_e=[]),ce!==xt.placement&&_e.indexOf(xt.placement)===-1&&(_e.push(xt.placement),T.setProps({getReferenceClientRect:function(){return ct(xt.placement)}})),ce=xt.placement)}};function ct(Kt){return li(mt(Kt),I.getBoundingClientRect(),_t(I.getClientRects()),he)}function ze(Kt){Ee=!0,T.setProps(Kt),Ee=!1}function $t(){Ee||ze(Qr(T.props,we))}return{onCreate:$t,onAfterUpdate:$t,onTrigger:function(At,xt){if(Vt(xt)){var Et=_t(T.reference.getClientRects()),gt=Et.find(function(Wt){return Wt.left-2<=xt.clientX&&Wt.right+2>=xt.clientX&&Wt.top-2<=xt.clientY&&Wt.bottom+2>=xt.clientY}),lt=Et.indexOf(gt);he=lt>-1?lt:he}},onHidden:function(){he=-1}}}};function li(w,T,I,re){if(I.length<2||w===null)return T;if(I.length===2&&re>=0&&I[0].left>I[1].right)return I[re]||T;switch(w){case"top":case"bottom":{var ce=I[0],he=I[I.length-1],Ee=w==="top",_e=ce.top,we=he.bottom,ct=Ee?ce.left:he.left,ze=Ee?ce.right:he.right,$t=ze-ct,Kt=we-_e;return{top:_e,bottom:we,left:ct,right:ze,width:$t,height:Kt}}case"left":case"right":{var At=Math.min.apply(Math,I.map(function(ut){return ut.left})),xt=Math.max.apply(Math,I.map(function(ut){return ut.right})),Et=I.filter(function(ut){return w==="left"?ut.left===At:ut.right===xt}),gt=Et[0].top,lt=Et[Et.length-1].bottom,Wt=At,Zt=xt,te=Zt-Wt,St=lt-gt;return{top:gt,bottom:lt,left:Wt,right:Zt,width:te,height:St}}default:return T}}var bi={name:"sticky",defaultValue:!1,fn:function(T){var I=T.reference,re=T.popper;function ce(){return T.popperInstance?T.popperInstance.state.elements.reference:I}function he(ct){return T.props.sticky===!0||T.props.sticky===ct}var Ee=null,_e=null;function we(){var ct=he("reference")?ce().getBoundingClientRect():null,ze=he("popper")?re.getBoundingClientRect():null;(ct&&ti(Ee,ct)||ze&&ti(_e,ze))&&T.popperInstance&&T.popperInstance.update(),Ee=ct,_e=ze,T.state.isMounted&&requestAnimationFrame(we)}return{onMount:function(){T.props.sticky&&we()}}}};function ti(w,T){return w&&T?w.top!==T.top||w.right!==T.right||w.bottom!==T.bottom||w.left!==T.left:!0}Zn.setDefaultProps({render:Yr});var ni=Zn},27346:function(cn,kt,Re){"use strict";var x=Re(57154),Se=Re(62389),me=x.hj.create({name:"fontSize",addOptions:function(){return{types:["textStyle"]}},addGlobalAttributes:function(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:function(qe){return qe.style.fontSize.replace(/['"]+/g,"")},renderHTML:function(qe){return qe.fontSize?{style:"font-size: "+qe.fontSize}:{}}}}}]},addCommands:function(){return{setFontSize:function(qe){return function($e){var Ue=$e.chain;return Ue().setMark("textStyle",{fontSize:qe}).run()}},unsetFontSize:function(){return function(qe){var $e=qe.chain;return $e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}}});kt.Z=me},91959:function(cn,kt,Re){"use strict";Re.d(kt,{Z:function(){return rt}});var x,Se=new Uint8Array(16);function me(){if(!x&&(x=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(Se)}var fe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function de(ft){return typeof ft=="string"&&fe.test(ft)}for(var qe=de,$e=[],Ue=0;Ue<256;++Ue)$e.push((Ue+256).toString(16).substr(1));function Ce(ft){var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ot=($e[ft[it+0]]+$e[ft[it+1]]+$e[ft[it+2]]+$e[ft[it+3]]+"-"+$e[ft[it+4]]+$e[ft[it+5]]+"-"+$e[ft[it+6]]+$e[ft[it+7]]+"-"+$e[ft[it+8]]+$e[ft[it+9]]+"-"+$e[ft[it+10]]+$e[ft[it+11]]+$e[ft[it+12]]+$e[ft[it+13]]+$e[ft[it+14]]+$e[ft[it+15]]).toLowerCase();if(!qe(ot))throw TypeError("Stringified UUID is invalid");return ot}var Pe=Ce;function Ye(ft,it,ot){ft=ft||{};var bt=ft.random||(ft.rng||me)();if(bt[6]=bt[6]&15|64,bt[8]=bt[8]&63|128,it){ot=ot||0;for(var dt=0;dt<16;++dt)it[ot+dt]=bt[dt];return it}return Pe(bt)}var rt=Ye}}]);
