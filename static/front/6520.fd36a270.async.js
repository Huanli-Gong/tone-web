(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[6520],{28739:function(M,w,v){"use strict";v.d(w,{Jn:function(){return E},$7:function(){return j},wb:function(){return A},LN:function(){return Z}});var o=v(2605),d=v(39190),m=v(20418),L=v(22374),R=v(97207),b=v.n(R),O=function(l){var u=function(){var s=document.querySelector("#list_container table .ant-empty-normal");if(s){var c=l,f=(c-130)/2;s.style.margin="".concat(f,"px 0")}};return useEffect(function(){u()},[l]),useEffect(function(){return window.addEventListener("resize",u,!1),function(){window.removeEventListener("resize",u,!1)}},[]),""},T=function(l){var u=[];if(l.conf_dic){for(var p in l){var s=l[p].conf_dic;delete l[p].suite_id;for(var c in s){u.push(c);var f=s[c].base_obj_li;f=_.isArray(f)?f:[];var h=f.filter(function(e){return e&&e.isSelect}),i=1,r="";h.length&&(i=h[0].is_job,r=h[0].obj_id),!h.length&&f.length&&(i=f[0].is_job,r=f[0].obj_id);var n=s[c].compare_groups.map(function(e){if(!e||!e.length)return null;var a=e.filter(function(t){return _.get(t,"isSelect")});return a.length?{is_job:a[0].is_job,obj_id:a[0].obj_id}:{is_job:e[0].is_job,obj_id:e[0].obj_id}});s[c].is_job=i,s[c].obj_id=r,s[c].compare_objs=n,delete s[c].base_obj_li,delete s[c].conf_id}}return{suite_dic:l,confIdArr:u}}return{suite_dic:l,confIdArr:u}},D=function(l){return Object.values(l).map(function(u){return u.is_all?{suite_id:u.suite_id,is_all:u.is_all}:{suite_id:u.suite_id,is_all:u.is_all,conf_list:Object.keys(u.conf_dic).map(function(p){return Number(p)})}})},j=function(l){return Object.keys(l).map(function(u){var p=l[u],s=p.suite_name,c=p.suite_id,f=p.base_index,h=p.is_all,i=p.group_jobs,r=p.duplicate_data,n=p.conf_dic,e={async_request:"1",suite_id:c,suite_name:s,base_index:f,group_jobs:i,duplicate_data:r};return h?e=(0,m.Z)((0,m.Z)({},e),{},{is_all:1}):e=(0,m.Z)((0,m.Z)({},e),{},{is_all:0,conf_info:Object.values(n)}),e})},A=function(l,u,p,s,c){var f=b().cloneDeep(l),h=[];return u.forEach(function(i){var r=[];i.members?i.members.forEach(function(n){return r.push(n.id)}):r.push(i.id),r.length>0&&h.push({job_list:r,is_baseline:i.type==="baseline"?1:0})}),Object.values(f).forEach(function(i){if(i.base_index=p,i.group_jobs=h,i.duplicate_data=c,i.conf_dic){var r=[],n=Object.keys(i.conf_dic);n.forEach(function(e){s.includes(+e)||delete i.conf_dic[e],i.conf_dic[e]&&r.push(i.conf_dic[e])}),r.length?(i.is_all=0,i.conf_info=r):delete f[i.suite_id]}else s.includes(String(i.suite_id))?i.is_all=1:delete f[i.suite_id]}),f},Z=function(l){var u=b().cloneDeep(l),p=u.func_suite_dic||{},s=u.perf_suite_dic||{},c=[];return JSON.stringify(p)!=="{}"&&(c=c.concat(D(p))),JSON.stringify(s)!=="{}"&&(c=c.concat(D(s))),c},y=function(l){return Array.from(l).map(function(u){var p=(0,d.Z)(u,2),s=p[1];return s})},E=function(l){var u=new Map,p=new Map,s=[].concat((0,o.Z)(Object.values(l.func_suite_dic)),(0,o.Z)(Object.values(l.perf_suite_dic)));return s.forEach(function(c){c.group_jobs.forEach(function(f,h){var i=b().get(f,"job_list")||[];i.forEach(function(r){c.base_index===h?u.get(r)||u.set(r,{is_baseline:f.is_baseline,obj_id:r}):p.get(r)||p.set(r,{is_baseline:f.is_baseline,obj_id:r})})})}),{baseArr:y(u),compareArr:y(p)}}},992:function(M,w,v){"use strict";v.d(w,{MD:function(){return L},rj:function(){return R},in:function(){return b},vP:function(){return O},tp:function(){return T},iE:function(){return Z},PL:function(){return y},AX:function(){return E},Me:function(){return g},ow:function(){return c},nP:function(){return h}});var o=v(35832),d=v(32326),m=v(22812),L=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/list/",{params:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),R=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/copy/",{method:"post",data:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),b=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/detail/",{method:"delete",data:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),O=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{params:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),T=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{method:"delete",data:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),D=null,j=null,A=null,Z=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{method:"post",data:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),y=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/template/detail/",{params:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),E=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/detail/",{params:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}(),g=function(){var r=(0,d.Z)((0,o.Z)().mark(function n(e){return(0,o.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/report/test/report/",{method:"put",data:e}));case 1:case"end":return t.stop()}},n)}));return function(e){return r.apply(this,arguments)}}();function l(r){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/auth/user/",{params:n}));case 1:case"end":return a.stop()}},r)})),u.apply(this,arguments)}function p(r){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/job/result/compare/chart/",{data:n,method:"post"}));case 1:case"end":return a.stop()}},r)})),s.apply(this,arguments)}function c(r){return f.apply(this,arguments)}function f(){return f=(0,d.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.WY)("/api/report/test/report/item_suite/",{data:n,method:"post"}));case 1:case"end":return a.stop()}},r)})),f.apply(this,arguments)}function h(r){return i.apply(this,arguments)}function i(){return i=(0,d.Z)((0,o.Z)().mark(function r(n){return(0,o.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.WY)("/api/report/test/report/update_desc/",{data:n,method:"post"}));case 1:case"end":return a.stop()}},r)})),i.apply(this,arguments)}}}]);
