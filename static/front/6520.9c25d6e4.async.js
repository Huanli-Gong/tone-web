(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[6520],{28739:function(W,D,g){"use strict";g.d(D,{Jn:function(){return O},$7:function(){return M},wb:function(){return P},LN:function(){return L}});var s=g(2605),h=g(39190),d=g(20418),T=g(22374),Z=g(97207),w=g.n(Z),j=function(l){var u=function(){var o=document.querySelector("#list_container table .ant-empty-normal");if(o){var c=l,f=(c-130)/2;o.style.margin="".concat(f,"px 0")}};return useEffect(function(){u()},[l]),useEffect(function(){return window.addEventListener("resize",u,!1),function(){window.removeEventListener("resize",u,!1)}},[]),""},A=function(l){var u=[];if(l.conf_dic){for(var p in l){var o=l[p].conf_dic;delete l[p].suite_id;for(var c in o){u.push(c);var f=o[c].base_obj_li;f=_.isArray(f)?f:[];var v=f.filter(function(e){return e&&e.isSelect}),i=1,m="";v.length&&(i=v[0].is_job,m=v[0].obj_id),!v.length&&f.length&&(i=f[0].is_job,m=f[0].obj_id);var b=o[c].compare_groups.map(function(e){if(!e||!e.length)return null;var t=e.filter(function(n){return _.get(n,"isSelect")});return t.length?{is_job:t[0].is_job,obj_id:t[0].obj_id}:{is_job:e[0].is_job,obj_id:e[0].obj_id}});o[c].is_job=i,o[c].obj_id=m,o[c].compare_objs=b,delete o[c].base_obj_li,delete o[c].conf_id}}return{suite_dic:l,confIdArr:u}}return{suite_dic:l,confIdArr:u}},E=function(l){return Object.values(l).map(function(u){return u.is_all?{suite_id:u.suite_id,is_all:u.is_all}:{suite_id:u.suite_id,is_all:u.is_all,conf_list:Object.keys(u.conf_dic).map(function(p){return Number(p)})}})},M=function(l){return Object.keys(l).map(function(u){var p=l[u],o=p.suite_name,c=p.suite_id,f=p.base_index,v=p.is_all,i=p.group_jobs,m=p.duplicate_data,b=p.conf_dic,e={async_request:"1",suite_id:c,suite_name:o,base_index:f,group_jobs:i,duplicate_data:m};return v?e=(0,d.Z)((0,d.Z)({},e),{},{is_all:1}):e=(0,d.Z)((0,d.Z)({},e),{},{is_all:0,conf_info:Object.values(b)}),e})},P=function(l,u,p,o,c){var f=w().cloneDeep(l),v=[];return u.forEach(function(i){var m=[];i.members?i.members.forEach(function(b){return m.push(b.id)}):m.push(i.id),m.length>0&&v.push({job_list:m,is_baseline:i.type==="baseline"?1:0})}),Object.values(f).forEach(function(i){if(i.base_index=p,i.group_jobs=v,i.duplicate_data=c,i.conf_dic){var m=[],b=Object.keys(i.conf_dic);b.forEach(function(e){o.includes(+e)||delete i.conf_dic[e],i.conf_dic[e]&&m.push(i.conf_dic[e])}),m.length?(i.is_all=0,i.conf_info=m):delete f[i.suite_id]}else o.includes(String(i.suite_id))?i.is_all=1:delete f[i.suite_id]}),f},L=function(l){var u=w().cloneDeep(l),p=u.func_suite_dic||{},o=u.perf_suite_dic||{},c=[];return JSON.stringify(p)!=="{}"&&(c=c.concat(E(p))),JSON.stringify(o)!=="{}"&&(c=c.concat(E(o))),c},R=function(l){return Array.from(l).map(function(u){var p=(0,h.Z)(u,2),o=p[1];return o})},O=function(l){var u=new Map,p=new Map,o=[].concat((0,s.Z)(Object.values(l.func_suite_dic)),(0,s.Z)(Object.values(l.perf_suite_dic)));return o.forEach(function(c){c.group_jobs.forEach(function(f,v){var i=w().get(f,"job_list")||[];i.forEach(function(m){c.base_index===v?u.get(m)||u.set(m,{is_baseline:f.is_baseline,obj_id:m}):p.get(m)||p.set(m,{is_baseline:f.is_baseline,obj_id:m})})})}),{baseArr:R(u),compareArr:R(p)}}},992:function(W,D,g){"use strict";g.d(D,{MD:function(){return T},rj:function(){return Z},in:function(){return w},vP:function(){return j},tp:function(){return A},iE:function(){return L},PL:function(){return R},AX:function(){return O},Me:function(){return y},ow:function(){return c},nP:function(){return v},MC:function(){return m}});var s=g(35832),h=g(32326),d=g(22812),T=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/template/list/",{params:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/template/copy/",{method:"post",data:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),w=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/template/detail/",{method:"delete",data:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/test/report/",{params:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/test/report/",{method:"delete",data:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),E=null,M=null,P=null,L=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/test/report/",{method:"post",data:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),R=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/template/detail/",{params:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/test/report/detail/",{params:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,h.Z)((0,s.Z)().mark(function t(n){return(0,s.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,d.WY)("/api/report/test/report/",{method:"put",data:n}));case 1:case"end":return r.stop()}},t)}));return function(n){return e.apply(this,arguments)}}();function l(e){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/auth/user/",{params:t}));case 1:case"end":return a.stop()}},e)})),u.apply(this,arguments)}function p(e){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function e(t){return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/job/result/compare/chart/",{data:t,method:"post"}));case 1:case"end":return a.stop()}},e)})),o.apply(this,arguments)}function c(e){return f.apply(this,arguments)}function f(){return f=(0,h.Z)((0,s.Z)().mark(function e(t){return(0,s.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.WY)("/api/report/test/report/item_suite/",{data:t,method:"post"}));case 1:case"end":return a.stop()}},e)})),f.apply(this,arguments)}function v(e){return i.apply(this,arguments)}function i(){return i=(0,h.Z)((0,s.Z)().mark(function e(t){return(0,s.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.WY)("/api/report/test/report/update_desc/",{data:t,method:"post"}));case 1:case"end":return a.stop()}},e)})),i.apply(this,arguments)}function m(e){return b.apply(this,arguments)}function b(){return b=(0,h.Z)((0,s.Z)().mark(function e(t){return(0,s.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,d.WY)("/api/report/test/report/item/update_desc/",{method:"post",data:t}));case 1:case"end":return a.stop()}},e)})),b.apply(this,arguments)}}}]);
