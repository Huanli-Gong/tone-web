(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[171],{1977:function(fe,B,e){"use strict";e.d(B,{Z:function(){return d}});var F=e(28991),A=e(67294),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},b=w,J=e(27029),y=function(u,Z){return A.createElement(J.Z,(0,F.Z)((0,F.Z)({},u),{},{ref:Z,icon:b}))},o=A.forwardRef(y),d=o},77429:function(fe){fe.exports={test_result_name:"test_result_name___1RBzL",test_summary_item:"test_summary_item___3-Yoh",test_summary_item_right:"test_summary_item_right___2UQVi",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___2cRIc",test_summary_job:"test_summary_job___2a2-P",test_summary_row:"test_summary_row___1zXMg",detail_collection:"detail_collection___1_th-",offline_flag:"offline_flag___3BdpH",ellips_column_refclass:"ellips_column_refclass___30H4W",tag_popover_style:"tag_popover_style___1x8MG",table_question_tooltip:"table_question_tooltip___1Ur7e",join_baseline:"join_baseline___Jgafh",select_baseline:"select_baseline___2nHPA"}},99846:function(fe,B,e){"use strict";var F=e(13062),A=e(71230),w=e(13254),b=e(14277),J=e(67294),y=e(31911),o=e(85893),d=function(){return(0,o.jsx)(y.UK,{style:{width:"100%"},bordered:!1,children:(0,o.jsx)(A.Z,{style:{height:innerHeight-176-50-120},justify:"center",align:"middle",children:(0,o.jsx)(b.Z,{image:b.Z.PRESENTED_IMAGE_SIMPLE})})})};B.Z=d},14780:function(fe,B,e){"use strict";var F=e(20228),A=e(11382),w=e(20310),b=e(67294),J=e(12788),y=e(85893),o,d=J.ZP.div(o||(o=(0,w.Z)([`
    width: 100%;
    height: 100%;
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    z-index: 999;
    background-color: #fff;
    display: flex;
    justify-content: center;
    padding-top: 220px;
`]))),M=function(){return(0,y.jsx)(d,{children:(0,y.jsx)(A.Z,{})})};B.Z=M},65923:function(fe,B,e){"use strict";var F=e(13062),A=e(71230),w=e(49111),b=e(19650),J=e(402),y=e(97272),o=e(86582),d=e(93224),M=e(11849),u=e(2824),Z=e(16917),_e=e(20009),P=e(67294),C=e(21401),f=e(63132),ie=e(31911),D=e(7373),p=e(94080),me=e(33372),ce=e(24480),S=e(27807),i=e(85893),ve=["value"],G="path://M873,435C877.4182739257812,435,881,438.58172607421875,881,443C881,447.41827392578125,877.4182739257812,451,873,451C868.5817260742188,451,865,447.41827392578125,865,443C865,438.58172607421875,868.5817260742188,435,873,435ZM873,436C869.134033203125,436,866,439.1340026855469,866,443C866,446.8659973144531,869.134033203125,450,873,450C876.865966796875,450,880,446.8659973144531,880,443C880,439.1340026855469,876.865966796875,436,873,436ZM873,439C875.2091674804688,439,877,440.7908630371094,877,443C877,445.2091369628906,875.2091674804688,447,873,447C870.7908325195312,447,869,445.2091369628906,869,443C869,440.7908630371094,870.7908325195312,439,873,439Z",N=function(T){var r,g,n=T.fetchData,m=n===void 0?{}:n,O=T.setFetchData,v=T.provider_env,ae=T.valueChange,h=T.setLoading,E=(0,Z.YB)(),R=E.formatMessage,re=(0,_e.UO)(),I=re.ws_id,W=re.share_id,L=P.useRef(null),$=P.useState(void 0),X=(0,u.Z)($,2),Q=X[0],ee=X[1],te=function(ue){return new Map([[1,R({id:"analysis.wan"})],[2,R({id:"analysis.yi"})],[3,R({id:"analysis.zhao"})]]).get(ue)},se=(0,Z.QT)(function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;return(0,C.ie)(U)},{debounceInterval:200,refreshDeps:[m],ready:!!(m!=null&&m.metric),onSuccess:function(){h(!1)},onError:function(){h(!1)}}),z=se.data,le=se.mutate;P.useEffect(function(){if(!!z){var U=z.job_list;!U||ae==null||ae(U)}},[z]);var k=function(ue){var oe=ue.metric;O==null||O(function(V){return V.map(function(x){return x.key===(m==null?void 0:m.key)?(0,M.Z)((0,M.Z)({},x),{},{metric:oe}):x})}),oe.length===0&&le(null)},ne=P.useMemo(function(){var U;if(!!z){var ue=z.metric_map;return(U=Object.keys(ue))===null||U===void 0?void 0:U.reduce(function(oe,V){var x=ue[V],K=x.result_data,l=x.baseline_data,t=Object.entries(K).reduce(function(_,H){var q=(0,u.Z)(H,2),Y=q[0],c=q[1];if(c){var de=c.value,he=(0,d.Z)(c,ve),Ce=de?Number(Number(de).toFixed(2)):null;_.lineDatas.push((0,M.Z)((0,M.Z)({},he),{},{date:Y,baseline_data:l,value:Ce,symbol:de!=null&&de.note?G:void 0}))}else _.lineDatas.push({date:Y,value:null});return _.xAxis.includes(z)||_.xAxis.push(Y),_},{xAxis:[],lineDatas:[]}),a=t.xAxis,s=t.lineDatas;return oe.title.push({name:V,isBaseline:0}),oe.baseline.push({type:"line",name:V,symbol:"none",tooltip:{show:!1},lineStyle:{width:1,type:"dashed"},data:a==null?void 0:a.map(function(_){return{date:_,value:l.value}})}),oe.series.push({type:"line",name:V,showAllSymbol:!0,smooth:!0,symbolSize:8,connectNulls:!1,data:s}),oe.xAxis=Array.from(new Set(oe.xAxis.concat(a))),oe},{baseline:[],title:[],series:[],xAxis:[]})}},[z]);return P.useEffect(function(){if(!!L.current&&!!ne){var U=ne.xAxis,ue=ne.series,oe=ne.title,V=ne.baseline,x=f.init(L.current);return x.clear(),x.showLoading(),x.setOption({legend:{data:oe.map(function(K){return K.name}),show:!1},tooltip:{trigger:"item",axisPointer:{snap:!0,type:"cross"},enterable:!0,backgroundColor:"#fff",borderColor:"#fff",textStyle:{color:"rgba(0,0,0,0.65)",fontSize:14},extraCssText:"box-shadow: 0 2px 8px 0 rgba(0,0,0,0.15);border-radius: 2px;padding:12px;",formatter:function(l){var t=l.data||{},a=t.baseline_data,s=`<div style="margin-right:10px">
                            `.concat(l.marker," ").concat(l.name," ").concat(l.seriesName,`<br />
                            `).concat((0,D.fZ)("JobID",t==null?void 0:t.job_id,I),`
                            `).concat((0,D.d9)("commit",t==null?void 0:t.commit),`
                            `).concat((0,D.d9)("Avg",t==null?void 0:t.value),`
                            `).concat((0,D.d9)("CV",t==null?void 0:t.cv_value),`
                            `).concat((0,D.d9)(R({id:"analysis.baseline.value"}),(a==null?void 0:a.value)&&Number(a==null?void 0:a.value).toFixed(2)),`
                            `).concat((0,D.d9)(R({id:"analysis.baseline.cv"}),a==null?void 0:a.cv_value),`
                            `).concat((0,D.d9)("commit",t==null?void 0:t.commit),`
                            `).concat((0,D.wK)(t==null?void 0:t.server),`
                            `).concat((0,D.d9)(R({id:"analysis.specs"}),t==null?void 0:t.instance_type),`
                            `).concat((0,D.d9)("Image",t==null?void 0:t.image),`
                            `).concat((0,D.d9)("Bandwidth",t==null?void 0:t.bandwidth),`
                            `).concat((0,D.d9)("RunMode",t==null?void 0:t.run_mode),`
                            `).concat((0,D.d9)(R({id:"analysis.table.column.note"}),t==null?void 0:t.note),`
                            `).concat((0,D.d9)(R({id:"analysis.chart.compare_result"}),t==null?void 0:t.compare_result),`
                        </div>`).trim();return'<div style="display:flex;">'.concat(s,"</div>")}},grid:{left:"5%",right:60,bottom:"10%",top:"5%"},xAxis:{type:"category",data:U,axisLabel:{showMaxLabel:!0}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1,lineStyle:{type:"dashed"}},axisLabel:{formatter:function(l){return(0,S.HE)(l,te)}}},series:[].concat((0,o.Z)(ue),(0,o.Z)(V))}),W||x.on("click","series.line",function(K){if(K!=null&&K.data){var l=K==null?void 0:K.data,t=l.job_id;t&&(0,ce.N1)("/ws/".concat(I,"/test_result/").concat(t))}}),x.hideLoading(),ee(x),function(){x.dispose(),ee(void 0)}}},[ne]),z?(z==null||(r=z.job_list)===null||r===void 0?void 0:r.length)===0?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)(ie.UK,{children:[(0,i.jsx)(ie.Dx,{style:{height:"auto",lineHeight:"28px",minHeight:43,display:"flex",alignItems:"center"},children:(0,i.jsxs)(b.Z,{size:0,children:[m==null?void 0:m.metric.map(function(U){return(0,i.jsx)(y.Z.Text,{children:U},U)}),I&&(0,i.jsx)(me.Z,{onChange:k,fetchData:m})]})}),(0,i.jsx)(A.Z,{justify:"center",children:(0,i.jsx)(b.Z,{size:16,children:(g=ne.title)===null||g===void 0?void 0:g.map(function(U){return(0,i.jsx)(p.Z,(0,M.Z)((0,M.Z)({provider_env:v},U),{},{chartRef:Q}),U.name)})})}),(0,i.jsx)(ie.hC,{ref:L})]}):(0,i.jsx)(i.Fragment,{})};B.Z=P.memo(N,function(j,T){return JSON.stringify(j==null?void 0:j.fetchData)===JSON.stringify(T==null?void 0:T.fetchData)})},94080:function(fe,B,e){"use strict";var F=e(402),A=e(97272),w=e(11849),b=e(2824),J=e(49111),y=e(19650),o=e(20310),d=e(12788),M=e(67294),u=e(85893),Z,_e,P=d.ZP.div.attrs(function(D){return{style:{borderStyle:D!=null&&D.isBaseline?"dashed":"solid",borderColor:D.borderColor}}})(Z||(Z=(0,o.Z)([`
    height: 0;
    width: 10px;
    border-width: 1px;
`]))),C="rgba(0,0,0, .35)",f=(0,d.ZP)(y.Z).attrs(function(D){return{className:D.state?"":"legend_un_select"}})(_e||(_e=(0,o.Z)([`
    cursor: pointer;
    &.legend_un_select {
        .ant-typography {
            color: `,`;
        }
        `,` {
            border-color: `,` !important;
        }
    }
`])),C,P,C),ie=function D(p){var me,ce,S=p.name,i=p.chartRef,ve=p.isBaseline,G=p.isStandalone,N=p.source,j=p.provider_env,T=M.useState(!0),r=(0,b.Z)(T,2),g=r[0],n=r[1],m=function(){i==null||i.dispatchAction({type:"legendToggleSelect",name:S})},O=function(ae){var h=ae.selected;n(h[S])};return M.useEffect(function(){if(!!i&&!!S)return i.on("legendselectchanged",{seriesName:S},O),function(){i.off("legendselectchanged",{seriesName:S},O)}},[i]),G?(0,u.jsx)(y.Z,{size:[24,0],wrap:!0,children:N==null?void 0:N.map(function(v){return(0,u.jsx)(D,(0,w.Z)((0,w.Z)({},v),{},{chartRef:i,provider_env:j}),v.name)})}):(0,u.jsxs)(f,{direction:"vertical",size:0,onClick:m,state:g,children:[(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,u.jsx)(P,{isBaseline:ve?1:0,borderColor:i==null||(me=i.getModel())===null||me===void 0?void 0:me.getColorFromPalette(S)}),(0,u.jsx)(A.Z.Text,{style:{fontSize:10},ellipsis:!0,children:S})]}),j==="aliyun"&&(0,u.jsxs)(y.Z,{children:[(0,u.jsx)(P,{isBaseline:1,borderColor:i==null||(ce=i.getModel())===null||ce===void 0?void 0:ce.getColorFromPalette(S)}),(0,u.jsx)(A.Z.Text,{style:{fontSize:10},children:"\u57FA\u7EBFAVG\u503C"})]})]})};B.Z=ie},33372:function(fe,B,e){"use strict";var F=e(59250),A=e(13013),w=e(11849),b=e(2824),J=e(66456),y=e(79764),o=e(49111),d=e(19650),M=e(20310),u=e(67294),Z=e(1977),_e=e(30171),P=e(12788),C=e(78037),f=e(85893),ie,D,p=(0,P.ZP)(d.Z)(ie||(ie=(0,M.Z)([`
    background: #fff;
    width: 322px;
`]))),me=(0,P.ZP)(y.Z)(D||(D=(0,M.Z)([`
    .record-row-hide {
        display: none;
    }
`]))),ce=function(i){var ve=i.fetchData,G=i.onChange,N=(0,_e.J)(),j=N.metrics,T=u.useState({}),r=(0,b.Z)(T,2),g=r[0],n=r[1],m=u.useState(!1),O=(0,b.Z)(m,2),v=O[0],ae=O[1],h=u.useState((ve==null?void 0:ve.metric)||[]),E=(0,b.Z)(h,2),R=E[0],re=E[1];return u.useEffect(function(){return function(){n({})}},[]),u.useEffect(function(){v||G==null||G((0,w.Z)((0,w.Z)({},ve),{},{metric:R}))},[R,v]),(0,f.jsx)(A.Z,{destroyPopupOnHide:!0,open:v,trigger:["click"],onOpenChange:ae,dropdownRender:function(){return(0,f.jsx)(p,{direction:"vertical",size:0,children:(0,f.jsx)(me,{pagination:!1,size:"small",rowKey:"value",rowClassName:function(L){var $;return g!=null&&g.name?~(($=L.label)===null||$===void 0?void 0:$.indexOf(g==null?void 0:g.name))?"":"record-row-hide":""},rowSelection:{selectedRowKeys:R,onChange:function(L){re(L)}},scroll:{y:38*6},columns:[(0,w.Z)({dataIndex:"label",title:"\u6307\u6807"},(0,C.QT)(g,n,"name"))],dataSource:j==null?void 0:j.map(function(W){return{value:W,label:W}})})})},children:(0,f.jsx)(Z.Z,{style:{cursor:"pointer"}})})};B.Z=ce},27807:function(fe,B,e){"use strict";e.d(B,{HE:function(){return N}});var F=e(20228),A=e(11382),w=e(13062),b=e(71230),J=e(49111),y=e(19650),o=e(402),d=e(97272),M=e(86582),u=e(11849),Z=e(2824),_e=e(16917),P=e(20009),C=e(67294),f=e(21401),ie=e(63132),D=e(31911),p=e(7373),me=e(94080),ce=e(33372),S=e(24480),i=e(85893),ve="path://M873,435C877.4182739257812,435,881,438.58172607421875,881,443C881,447.41827392578125,877.4182739257812,451,873,451C868.5817260742188,451,865,447.41827392578125,865,443C865,438.58172607421875,868.5817260742188,435,873,435ZM873,436C869.134033203125,436,866,439.1340026855469,866,443C866,446.8659973144531,869.134033203125,450,873,450C876.865966796875,450,880,446.8659973144531,880,443C880,439.1340026855469,876.865966796875,436,873,436ZM873,439C875.2091674804688,439,877,440.7908630371094,877,443C877,445.2091369628906,875.2091674804688,447,873,447C870.7908325195312,447,869,445.2091369628906,869,443C869,440.7908630371094,870.7908325195312,439,873,439Z";function G(T,r){var g=T+"",n=g.length,m=g.substring(n-1,n);return m=="5"?(m="6",g=g.substring(0,n-1)+m,(g-0).toFixed(r)):(+T).toFixed(r)}var N=function(r,g){var n=(parseInt(r)+"").length,m=parseInt(n/4);return n>6?G(r/Math.pow(1e4,m),2)+g(m):r},j=function(r){var g,n,m,O=r.fetchData,v=O===void 0?{}:O,ae=r.provider_env,h=r.valueChange,E=r.setFetchData,R=r.setLoading,re=(0,_e.YB)(),I=re.formatMessage,W=(0,P.UO)(),L=W.ws_id,$=W.share_id,X=C.useRef(null),Q=C.useState(void 0),ee=(0,Z.Z)(Q,2),te=ee[0],se=ee[1],z=function(K){return new Map([[1,I({id:"analysis.wan"})],[2,I({id:"analysis.yi"})],[3,I({id:"analysis.zhao"})]]).get(K)},le=(0,_e.QT)(function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;return(0,f.ie)(x)},{manual:!0,debounceInterval:100,refreshDeps:[v],onSuccess:function(){R(!1)},onError:function(){R(!1)}}),k=le.data,ne=le.mutate,U=le.loading,ue=le.run;C.useEffect(function(){v.metric&&ue()},[v]),C.useEffect(function(){if(!!k){var x=k.job_list;!x||h==null||h(x)}},[k]);var oe=function(K){var l=K.metric;E==null||E(function(t){return t.map(function(a){return a.key===(v==null?void 0:v.key)?(0,u.Z)((0,u.Z)({},a),{},{metric:l}):a})}),l.length===0&&ne(null)},V=C.useMemo(function(){var x;if(!!k){var K=k.metric_map,l=k.job_list,t=l.reduce(function(a,s){var _=s.date,H=s.value,q=G(+H,2);return a[_]=a[_]?a[_].concat(q):[q],a},{});return(x=Object.keys(K))===null||x===void 0?void 0:x.reduce(function(a,s){var _=K[s],H=_.result_data,q=_.baseline_data,Y=Object.entries(H).reduce(function(pe,je){var Pe=(0,Z.Z)(je,2),be=Pe[0],Oe=Pe[1],Me=Object.keys(Oe).reduce(function(Ee,De){var ge=Oe[De];if(ge){var xe=G(+ge.value,2),Te=ge.cv_value.replace("\xB1","").replace("%","")*100/100/100,Ze=G((1+Te)*xe,2),Re=G((1-Te)*xe,2),Le=(0,u.Z)((0,u.Z)({},ge),{},{date:De,metric_name:s,ip:be,baseline_data:q,up_value:Ze,down_value:Re,value:xe});return ge.note&&(Le.symbol=ve),t[De]&&(0,p.Zb)(t[De],xe)&&(Le.symbol="circle",Le.itemStyle={color:"#000"}),Ee.concat(Le)}return Ee.concat({date:De,ip:be,value:null,baseline_data:q,metric_name:s})},[]),ye="".concat(s,"(").concat(be,")");return pe.titles.push({name:ye}),pe.lineDatas.push({type:"line",smooth:!0,ip:be,symbolSize:8,connectNulls:!1,name:ye,z:9999,opacity:1,showAllSymbol:!0,data:Me}),pe.upLine.push({type:"line",smooth:!0,lineStyle:{opacity:0},tooltip:{show:!1},symbol:"none",name:ye,select:{disabled:!0},selectedMode:!1,areaStyle:{color:"#ccc"},data:Me.map(function(Ee){return(0,u.Z)((0,u.Z)({},Ee),{},{value:Ee.up_value})})}),pe.downLine.push({type:"line",smooth:!0,lineStyle:{opacity:0},tooltip:{show:!1},symbol:"none",name:ye,select:{disabled:!0},selectedMode:!1,areaStyle:{color:"#fff",opacity:1},z:99,data:Me.map(function(Ee){return(0,u.Z)((0,u.Z)({},Ee),{},{value:Ee.down_value})})}),pe.xAxis=Object.keys(Oe),pe},{xAxis:[],lineDatas:[],upLine:[],downLine:[],titles:[]}),c=Y.xAxis,de=Y.lineDatas,he=Y.upLine,Ce=Y.downLine,Ae=Y.titles;return a.baseline.push({type:"line",name:s,symbol:"none",tooltip:{show:!1},lineStyle:{width:1,type:"dashed"},z:9999,data:c==null?void 0:c.map(function(pe){return{date:pe,value:q.value}})}),a.title.push([{name:s,isBaseline:1}].concat((0,M.Z)(Ae))),a.series=a.series.concat(he,Ce,de),a.xAxis=c,a},{baseline:[],title:[],series:[],xAxis:[]})}},[k]);return C.useEffect(function(){if(!!X.current&&!!V){var x=V.xAxis,K=V.series,l=V.title,t=V.baseline,a=ie.init(X.current);return a.clear(),a.showLoading(),a.setOption({legend:{icon:"rect",itemHeight:2,itemWidth:10,data:l.flat().map(function(s){return s.name}),show:!1},tooltip:{trigger:"axis",axisPointer:{snap:!0,type:"cross"},enterable:!0,backgroundColor:"#fff",borderColor:"#fff",textStyle:{color:"rgba(0,0,0,0.65)",fontSize:14},extraCssText:"box-shadow: 0 2px 8px 0 rgba(0,0,0,0.15);border-radius: 2px;padding:12px;max-height: 320px;overflow: auto;",formatter:function(_){var H=_.reduce(function(q,Y){var c=Y.data||{};if(!c.value)return q;var de=`<div style="margin-right:10px">
                                `.concat(Y.marker," ").concat(Y.seriesName,` <br />
                                `).concat((0,p.fZ)("JobID",c==null?void 0:c.job_id,L),`
                                `).concat((0,p.d9)("commit",c==null?void 0:c.commit),`
                                `).concat((0,p.d9)("Avg",c==null?void 0:c.value),`
                                `).concat((0,p.d9)("CV",c==null?void 0:c.cv_value),`
                                `).concat((0,p.d9)(I({id:"analysis.baseline.value"}),(c==null?void 0:c.baseline_data.value)&&Number(c==null?void 0:c.baseline_data.value).toFixed(2)),`
                                `).concat((0,p.d9)(I({id:"analysis.baseline.cv"}),c==null?void 0:c.baseline_data.cv_value),`
                                `).concat((0,p.d9)("commit",c==null?void 0:c.commit),`
                                `).concat((0,p.wK)(_.seriesName),`
                                `).concat((0,p.AU)(_,ae),`
                                `).concat(L&&(0,p.d9)(I({id:"analysis.table.column.note"}),c==null?void 0:c.note),`
                                `).concat((0,p.d9)(I({id:"analysis.chart.compare_result"}),c==null?void 0:c.compare_result),`
                            </div>`).trim();return q.concat('<div style="display:flex;">'.concat(de,"</div>"))},"");return H.length===0?"":'<div style="display:flex;flex-direction:row;gap:8px;max-width:545px;flex-wrap:wrap;">'.concat(H,"<div>")}},color:p.O9,grid:{left:"5%",right:60,bottom:"10%",top:20},xAxis:{type:"category",data:x,axisLabel:{showMaxLabel:!0},axisPointer:{z:9999}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisPointer:{z:100},min:"dataMin",max:"dataMax",splitArea:{areaStyle:{color:["#fff","#fff"]}},axisLabel:{formatter:function(_){return N(_,z)}},zlevel:100},series:[].concat((0,M.Z)(K),(0,M.Z)(t))}),$||a.on("click","series.line",function(s){if(s!=null&&s.data&&L){var _=s==null?void 0:s.data,H=_.job_id;H&&(0,S.N1)("/ws/".concat(L,"/test_result/").concat(H))}}),a.hideLoading(),se(a),function(){a.dispose(),se(void 0)}}},[V]),k?(k==null||(g=k.job_list)===null||g===void 0?void 0:g.length)===0?(0,i.jsx)(i.Fragment,{}):(0,i.jsx)(D.UK,{children:(0,i.jsxs)(A.Z,{spinning:U,children:[(0,i.jsx)(D.Dx,{style:{height:"auto",lineHeight:"28px",minHeight:43,display:"flex",alignItems:"center"},children:(0,i.jsxs)(y.Z,{size:0,wrap:!0,children:[v==null||(n=v.metric)===null||n===void 0?void 0:n.map(function(x){return(0,i.jsx)(d.Z.Text,{children:x},x)}),L&&(0,i.jsx)(ce.Z,{onChange:oe,fetchData:v})]})}),(0,i.jsx)(b.Z,{justify:"center",children:(0,i.jsx)(y.Z,{size:[24,0],wrap:!0,style:{paddingLeft:"3%",paddingRight:"3%"},children:V==null||(m=V.title)===null||m===void 0?void 0:m.map(function(x,K){return(0,i.jsx)(me.Z,{isStandalone:!0,source:x,chartRef:te,provider_env:ae},K)})})}),(0,i.jsx)(D.hC,{ref:X})]})}):(0,i.jsx)(i.Fragment,{})};B.ZP=C.memo(j,function(T,r){return JSON.stringify(T==null?void 0:T.fetchData)===JSON.stringify(r==null?void 0:r.fetchData)})},31911:function(fe,B,e){"use strict";e.d(B,{Dx:function(){return d},UK:function(){return M},hC:function(){return u}});var F=e(58024),A=e(91894),w=e(20310),b=e(12788),J,y,o,d=b.ZP.div(J||(J=(0,w.Z)([`
    width: 100%;
    font-size: 16px;
    font-weight: 500;
    color:  rgba(0,0,0,0.85);
    line-height: 43px;
    height: 43px;
    border-bottom: 1px solid #E9E9E9;
    text-indent: 1em;
`]))),M=(0,b.ZP)(A.Z)(y||(y=(0,w.Z)([`
    /* height: 360px; */
    /* margin-top: 10px; */
    width: 100%;
    .ant-card-body {
        padding: 0 20px;
        border: none;
    }
`]))),u=b.ZP.div(o||(o=(0,w.Z)([`
    width: 100%;
    height: `,`px;
`])),360-48)},97015:function(fe,B,e){"use strict";e.d(B,{Z:function(){return G}});var F=e(2824),A=e(58024),w=e(91894),b=e(20310),J=e(67294),y=e(63132),o=e(16917),d=e(20009),M=e(86582),u=e(11849),Z=e(7373),_e=function(j,T,r){var g=[{value:"Fail",color:"#C84C5A"},{value:"Skip",color:"#D9D9D9"},{value:"Pass",color:"#81BF84"}],n=Object.keys(j).map(function(h){var E=j[h];return(0,u.Z)((0,u.Z)({},E),{},{value:E==null?void 0:E.result,date:h})}),m=g.map(function(h){return{type:"custom",name:h.value,itemStyle:{color:h.color},data:n.map(function(E){return E.value===h.value?[E.date,E.value,E]:[E.date,void 0,E]}),renderItem:function(R,re){var I=R.seriesName,W=R.coordSys,L=re.coord([re.value(0),re.value(1)]),$=L[0],X=L[1],Q={width:40,height:W.height/3},ee={fill:g.filter(function(ne){return ne.value===I})[0].color};$=$-Q.width/2;var te,se,z;I==="Skip"&&(Q={width:40,height:10},X=X-Q.height/2),I==="Pass"&&(X=X-Q.height,se=$+Q.width/2,z=X-3,te="M ".concat(se," ").concat(z," L ").concat(se-5," ").concat(z-6," L ").concat(se+5," ").concat(z-6)),I==="Fail"&&(se=$+Q.width/2,z=X+Q.height+3,te="M ".concat(se," ").concat(z," L ").concat(se-5," ").concat(z+6," L ").concat(se+5," ").concat(z+6));var le=[{type:"rect",shape:(0,u.Z)({x:$,y:X},Q),style:ee}],k=Math.round(W.width/6);return le=le.concat(new Array(k).fill("").reduce(function(ne,U,ue){return ne.concat({type:"line",shape:{x1:W.x+ue*6,y1:W.y+W.height/2,x2:W.x+ue*6+4,y2:W.y+W.height/2},silent:!0,style:{stroke:"#595959",fill:"#595959",lineWidth:1}})},[])),I!=="Skip"&&le.push({type:"path",shape:{pathData:te,x:$,y:X},style:ee}),{type:"group",children:le}}}}),O=25,v=["Pass","Skip","Fail"],ae={grid:{left:"3%",right:30},legend:{icon:"rect",itemHeight:6,itemWidth:15,top:"5%",data:v.map(function(h){return{name:h,textStyle:{color:g.filter(function(E){return E.value===h})[0].color}}})},dataZoom:n.length>O?[{type:"slider",show:!0,zoomLock:!0,start:0,end:parseInt(O/n.length*100),left:"20%",right:"20%",brushSelect:!1}]:void 0,yAxis:{type:"category",data:v.map(function(h){return{value:h,textStyle:{color:g.filter(function(E){return E.value===h})[0].color}}}),splitNumber:2,axisTick:{show:!1},axisLine:{show:!1}},xAxis:{type:"category",date:n.map(function(h){return h.date})},tooltip:{enterable:!0,trigger:"item",backgroundColor:"#fff",borderColor:"#fff",textStyle:{color:"rgba(0,0,0,0.65)",fontSize:14},extraCssText:"box-shadow: 0 2px 8px 0 rgba(0,0,0,0.15);border-radius: 2px;padding:12px;",formatter:function(E){var R=E.data[2];return`<div style="margin-right:10px">
                        `.concat(E.marker," ").concat(E.name,` <br />
                        `).concat((0,Z.fZ)("JobID",R.job_id,T),`
                        `).concat((0,Z.d9)("commit",R.commit),`
                        `).concat((0,Z.d9)(r({id:"analysis.table.column.note"}),R.note),`
                    </div>`)}},series:(0,M.Z)(m)};return ae},P=_e,C=e(12788),f=function(j,T,r){var g=Object.keys(j).map(function(n){return j[n]?(0,u.Z)((0,u.Z)({},j[n]),{},{date:n,pass_rate:Number(j[n].pass_rate*100)}):{date:n,pass_rate:null}});return{dataset:[{source:g}],xAxis:{type:"category",splitLine:{show:!1}},legend:{icon:"line",itemHeight:2,itemWidth:10,top:"5%"},grid:{left:"5%",right:60,bottom:"10%"},yAxis:{type:"value",axisLabel:{show:!0,formatter:"{value} %",showMaxLabel:!0},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed"}}},series:[{type:"line",name:r({id:"analysis.TestConf.pass_rate"}),symbol:"circle",showAllSymbol:!0,encode:{x:"date",y:"pass_rate"},smooth:!0,symbolSize:8,itemStyle:{color:"#2FC25B"}}],tooltip:{trigger:"item",axisPointer:{snap:!0,type:"cross"},backgroundColor:"#fff",borderColor:"#fff",textStyle:{color:"rgba(0,0,0,0.65)",fontSize:14},enterable:!0,extraCssText:"box-shadow: 0 2px 8px 0 rgba(0,0,0,0.15);border-radius: 2px;padding:12px;",formatter:function(m){var O=m.data;return`<div>
                    `.concat(m.marker," ").concat(O.start_time,` <br />
                    `).concat((0,Z.fZ)("JobID",O.job_id,T),`
                    `).concat((0,Z.d9)("commit",O.commit),`
                    `).concat(r({id:"analysis.pass_rate"}),": ").concat(Number(O.pass_rate).toFixed(2),`%<br />
                    `).concat((0,Z.d9)(r({id:"analysis.table.total"}),O.all_case),`
                    `).concat((0,Z.d9)(r({id:"analysis.pass_num"}),O.pass_case),`
                    `).concat((0,Z.d9)(r({id:"analysis.table.column.note"}),O.note),`
                </div>`)}}}},ie=f,D=e(24480),p=e(85893),me,ce,S=C.ZP.div(me||(me=(0,b.Z)([`
    width: 100%;
    font-size: 16px;
    font-weight: 500;
    color:  rgba(0,0,0,0.85);
    line-height: 43px;
    height: 43px;
    border-bottom: 1px solid #E9E9E9;
    text-indent: 1em;
`]))),i=(0,C.ZP)(w.Z)(ce||(ce=(0,b.Z)([`
    height: 360px;
    /* margin-top: 10px; */
    width: 100%;
    .ant-card-body {
        padding: 0 20px;
        border: none;
    }
`]))),ve=function(j){var T=(0,o.YB)(),r=T.formatMessage,g=j.dataSource,n=j.title,m=j.provider_env,O=j.test_type,v=j.show_type,ae=(0,d.UO)(),h=ae.ws_id,E=(0,J.useRef)(),R=(0,J.useState)(void 0),re=(0,F.Z)(R,2),I=re[0],W=re[1];return J.useEffect(function(){var L=y.init(E.current);return L.clear(),L.showLoading(),I&&JSON.stringify(I)!=="{}"&&(O==="functional"&&(v==="result_trend"&&L.setOption(P(I,h,r)),v==="pass_rate"&&L.setOption(ie(I,h,r))),L.on("click","series.line",function($){var X=$.data;if(X){var Q=X.job_id;Q&&(0,D.N1)("/ws/".concat(h,"/test_result/").concat(Q))}})),L.hideLoading(),function(){L.dispose()}},[I,r,m,v,O,h]),(0,J.useEffect)(function(){W(void 0)},[m,O,v]),(0,J.useEffect)(function(){W(g||void 0)},[g]),(0,p.jsxs)(i,{children:[O==="performance"&&(0,p.jsx)(S,{children:n}),O==="functional"&&v==="result_trend"&&(0,p.jsx)(S,{children:(0,p.jsx)(o._H,{id:"analysis.chart.title.passRate"})}),O==="functional"&&v==="pass_rate"&&(0,p.jsx)(S,{children:(0,p.jsx)(o._H,{id:"analysis.chart.title.resultTrend"})}),(0,p.jsx)("div",{ref:E,style:{width:"100%",height:360-48}})]})},G=(0,J.memo)(ve)},68470:function(fe,B,e){"use strict";e.d(B,{Z:function(){return O}});var F=e(58024),A=e(91894),w=e(66456),b=e(79764),J=e(11849),y=e(67294),o=e(20009),d=e(16917),M=e(57338),u=e(440),Z=e(47673),_e=e(4107),P=e(13062),C=e(71230),f=e(402),ie=e(97272),D=e(49111),p=e(19650),me=e(57663),ce=e(71577),S=e(39428),i=e(3182),ve=e(9715),G=e(20526),N=e(2824),j=e(24480),T=e(21401),r=e(85893),g=(0,y.forwardRef)(function(v,ae){var h=(0,d.YB)(),E=h.formatMessage,R=v.show_type,re=v.test_type,I=v.onOk,W=G.Z.useForm(),L=(0,N.Z)(W,1),$=L[0],X=(0,y.useState)(!1),Q=(0,N.Z)(X,2),ee=Q[0],te=Q[1],se=(0,y.useState)({suite_name:"",conf_name:""}),z=(0,N.Z)(se,2),le=z[0],k=z[1],ne=(0,y.useState)(!1),U=(0,N.Z)(ne,2),ue=U[0],oe=U[1],V=function(){te(!1),k(void 0),oe(!1),$.resetFields()};(0,y.useImperativeHandle)(ae,function(){return{show:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;console.log(l),te(!0),l!==!1&&(k(l),$.setFieldsValue({note:l.note}))},hide:V}});var x=function(){ue||(oe(!0),$.validateFields().then(function(){var l=(0,i.Z)((0,S.Z)().mark(function t(a){var s,_,H,q,Y,c;return(0,S.Z)().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return s=a.note,_="perf_analysis",re!=="performance"&&(_="func_case_analysis",R==="pass_rate"&&(_="func_conf_analysis")),H={editor_obj:_,note:s},re==="performance"?H.test_job_id=le.job_id:H.result_obj_id=le.result_obj_id,he.next=7,(0,T.r_)(H);case 7:if(q=he.sent,Y=q.code,c=q.msg,oe(!1),Y===200){he.next=13;break}return he.abrupt("return",(0,j.EV)(Y,c));case 13:I(),V();case 15:case"end":return he.stop()}},t)}));return function(t){return l.apply(this,arguments)}}()).catch(function(l){console.log(l),oe(!1)}))};return(0,r.jsxs)(u.Z,{maskClosable:!1,keyboard:!1,width:376,title:(0,r.jsx)(d._H,{id:"analysis.edit.note"}),open:ee,onClose:V,bodyStyle:{padding:0},footer:(0,r.jsx)("div",{style:{textAlign:"right"},children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(ce.Z,{onClick:V,children:(0,r.jsx)(d._H,{id:"operation.cancel"})}),(0,r.jsx)(ce.Z,{type:"primary",onClick:x,children:(0,r.jsx)(d._H,{id:"operation.update"})})]})}),children:[le&&(0,r.jsxs)(C.Z,{style:{marginBottom:10,background:"#fff",padding:20,borderBottom:"10px solid #f0f2f5"},children:[(0,r.jsx)(ie.Z.Text,{style:{width:70,fontWeight:600,marginRight:8},children:(0,r.jsx)(d._H,{id:"analysis.job.name"})}),(0,r.jsx)(ie.Z.Paragraph,{style:{width:"calc( 100% - 70px - 8px)",marginBottom:0},ellipsis:!0,children:le.job_name})]}),(0,r.jsx)(G.Z,{form:$,layout:"vertical",style:{background:"#fff",padding:20,height:"calc( 100% - 94px )"},children:(0,r.jsx)(G.Z.Item,{label:(0,r.jsx)(d._H,{id:"analysis.annotations"}),name:"note",children:(0,r.jsx)(_e.Z.TextArea,{rows:8,placeholder:E({id:"analysis.annotations.placeholder"})})})})]})}),n=e(72529),m=e(13090),O=(0,y.memo)(function(v){var ae=(0,o.UO)(),h=ae.ws_id,E=v.refresh,R=v.dataSource,re=v.test_type,I=v.show_type,W=(0,y.useRef)(null),L=(0,d.md)(),$=function(ee){W.current.show(ee)},X=[{title:(0,r.jsx)(d._H,{id:"analysis.table.column.id"}),dataIndex:"job_id"},{title:(0,r.jsx)(d._H,{id:"analysis.table.column.name"}),dataIndex:"job_name",render:function(ee,te){return h?(0,r.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(location.origin,"/ws/").concat(h,"/test_result/").concat(te.job_id),children:ee}):ee}},{title:(0,r.jsx)(d._H,{id:"analysis.table.column.server"}),dataIndex:"server",render:function(ee,te){return(0,r.jsx)(m.Z,(0,J.Z)((0,J.Z)({},te),{},{val:ee,param:te.server_id,provider:te.server_provider}))}},{title:(0,r.jsx)(d._H,{id:"analysis.table.column.creator"}),dataIndex:"creator"},{title:(0,r.jsx)(d._H,{id:"analysis.table.column.startTime"}),dataIndex:"start_time"},{title:(0,r.jsx)(d._H,{id:"analysis.table.column.emdTime"}),dataIndex:"end_time"},h&&L.WsTourist()&&{title:(0,r.jsx)(d._H,{id:"analysis.table.column.note"}),dataIndex:"note",render:function(ee,te){return(0,r.jsx)(n.Pc,{title:ee,width:135+28-20,access:L.WsMemberOperateSelf(te.creator_id),onEdit:function(){return $(te)}})}}].filter(Boolean);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{style:{width:"100%",marginTop:10},children:(0,r.jsx)(b.Z,{rowKey:"job_id",columns:X,pagination:!1,dataSource:R,size:"small"})}),(0,r.jsx)(g,{ref:W,ws_id:h,show_type:I,test_type:re,onOk:E})]})})},7373:function(fe,B,e){"use strict";e.d(B,{d9:function(){return F},fZ:function(){return A},wK:function(){return w},AU:function(){return b},Zb:function(){return J},O9:function(){return y}});function F(o,d){return d?"".concat(o,"\uFF1A").concat(d,"<br />"):""}function A(o,d,M){return!M&&d?"".concat(o,": ").concat(d):d?"".concat(o,": <a href=","/ws/".concat(M,"/test_result/").concat(d),' target="_blank">#').concat(d,"</a><br />"):""}function w(o){return o?"\u6D4B\u8BD5\u673A\u5668: <span>".concat(o,"</span><br />"):""}var b=function(d,M){return"".concat(M===""?"\u89C4\u683C : ".concat(d.seriesName,`<br />
                    Image: `).concat(d.seriesName,`<br />
                    Bandwidth: `).concat(d.seriesName,`<br />
                    RunMode: `).concat(d.seriesName,"<br />"):"")};function J(o,d){for(var M=0,u=0,Z=o.length;u<Z;u++)if(o[u]===d&&(M++,M>1))return!0;return!1}var y=["rgb(216, 124, 124)","rgb(145, 158, 139)","rgb(215, 171, 130)","rgb(110, 112, 116)","rgb(97, 160, 168)","rgb(239, 161, 141)","rgb(120, 116, 100)","rgb(204, 126, 99)","rgb(114, 78, 88)","rgb(75, 86, 91)","rgb(221, 107, 102)","rgb(117, 154, 160)","rgb(230, 157, 135)","rgb(141, 193, 169)","rgb(234, 126, 83)","rgb(238, 221, 120)","rgb(115, 163, 115)","rgb(115, 185, 188)","rgb(114, 137, 171)","rgb(145, 202, 140)","rgb(244, 159, 66)","rgb(81, 107, 145)","rgb(89, 196, 230)","rgb(237, 175, 218)","rgb(147, 183, 227)","rgb(165, 231, 240)","rgb(203, 176, 227)","rgb(137, 52, 72)","rgb(217, 88, 80)","rgb(235, 129, 70)","rgb(255, 178, 72)","rgb(242, 214, 67)","rgb(235, 219, 164)","rgb(78, 163, 151)","rgb(34, 195, 170)","rgb(123, 217, 165)","rgb(208, 100, 138)","rgb(245, 141, 178)","rgb(242, 179, 201)","rgb(63, 177, 227)","rgb(107, 230, 193)","rgb(98, 108, 145)","rgb(160, 167, 230)","rgb(196, 235, 173)","rgb(150, 222, 232)","rgb(252, 151, 175)","rgb(135, 247, 207)","rgb(247, 244, 148)","rgb(114, 204, 255)","rgb(247, 197, 160)","rgb(212, 164, 235)","rgb(210, 245, 166)","rgb(118, 242, 242)","rgb(193, 35, 43)","rgb(39, 114, 123)","rgb(252, 206, 16)","rgb(232, 124, 37)","rgb(181, 195, 52)","rgb(254, 132, 99)","rgb(155, 202, 99)","rgb(250, 216, 96)","rgb(243, 164, 59)","rgb(96, 192, 221)","rgb(215, 80, 75)","rgb(198, 229, 121)","rgb(244, 224, 1)","rgb(240, 128, 90)","rgb(38, 192, 192)","rgb(46, 199, 201)","rgb(182, 162, 222)","rgb(90, 177, 239)","rgb(255, 185, 128)","rgb(216, 122, 128)","rgb(141, 152, 179)","rgb(229, 207, 13)","rgb(151, 181, 82)","rgb(149, 112, 109)","rgb(220, 105, 170)","rgb(7, 162, 164)","rgb(154, 127, 209)","rgb(88, 141, 213)","rgb(245, 153, 78)","rgb(192, 80, 80)","rgb(89, 103, 140)","rgb(201, 171, 0)","rgb(126, 176, 10)","rgb(111, 85, 83)","rgb(193, 64, 137)","rgb(224, 31, 84)","rgb(0, 24, 82)","rgb(245, 232, 200)","rgb(184, 210, 199)","rgb(198, 179, 142)","rgb(164, 216, 194)","rgb(243, 217, 153)","rgb(211, 117, 143)","rgb(220, 195, 146)","rgb(46, 71, 131)","rgb(130, 182, 233)","rgb(255, 99, 71)","rgb(160, 146, 241)","rgb(10, 145, 93)","rgb(234, 248, 137)","rgb(102, 153, 255)","rgb(255, 102, 102)","rgb(60, 179, 113)","rgb(213, 177, 88)","rgb(56, 182, 182)","rgb(193, 46, 52)","rgb(230, 182, 0)","rgb(0, 152, 217)","rgb(43, 130, 29)","rgb(0, 94, 170)","rgb(51, 156, 168)","rgb(205, 168, 25)","rgb(50, 164, 135)","rgb(138, 124, 168)","rgb(224, 152, 199)","rgb(143, 211, 232)","rgb(113, 102, 158)","rgb(204, 112, 175)","rgb(124, 180, 204)"]},30171:function(fe,B,e){"use strict";e.d(B,{u:function(){return A},J:function(){return w}});var F=e(67294),A=F.createContext({metrics:[]}),w=function(){return F.useContext(A)}},21401:function(fe,B,e){"use strict";e.d(B,{ie:function(){return A},mq:function(){return w},Hz:function(){return b},YK:function(){return y},r_:function(){return u},Uz:function(){return Z},a8:function(){return _e},dv:function(){return P}});var F=e(16917),A=function(f){return(0,F.WY)("/api/job/result/perf/analysis/",{data:f,method:"post"})},w=function(f){return(0,F.WY)("/api/job/result/func/analysis/",{data:f,method:"post"})},b=function(f){return(0,F.WY)("/api/job/result/perf/analysis/",{params:f})},J=function(f){return request("/api/job/result/func/analysis/",{params:f})},y=function(f){return(0,F.WY)("/api/sys/project/",{params:f})},o=function(f){return request("/api/get/analytics/tags/",{params:f})},d=function(f){return request("/api/case/workspace/case/",{params:f})},M=function(f){return request("/api/case/test_metric/",{params:f})},u=function(f){return(0,F.WY)("/api/job/test/editor/note/",{data:f,method:"post"})},Z=function(f){return(0,F.WY)("/api/job/result/perf/suite/list/",{method:"post",data:f})},_e=function(f){return(0,F.WY)("/api/job/result/analysis/metric/list/",{method:"post",data:f})},P=function(f){return(0,F.WY)("/api/job/result/share/analysis/",{method:"post",data:f})}},72529:function(fe,B,e){"use strict";e.d(B,{gN:function(){return ae},tZ:function(){return re},yQ:function(){return I},Pc:function(){return W},KS:function(){return Q},YV:function(){return ee},Nq:function(){return te},JQ:function(){return ue},iK:function(){return oe},fD:function(){return V},QN:function(){return x},ud:function(){return K}});var F=e(402),A=e(97272),w=e(49111),b=e(19650),J=e(20136),y=e(55241),o=e(11849),d=e(71153),M=e(60331),u=e(89032),Z=e(15746),_e=e(13062),P=e(71230),C=e(22385),f=e(89456),ie=e(20310),D=e(36017),p=e(35247),me=e(67294),ce=e(77429),S=e.n(ce),i=e(8212),ve=e(1870),G=e(20009),N=e(16917),j=e(12788),T=e(24480),r=e(60035),g=e(10753),n=e(85893),m,O,v=new Map([["success","#81BF84"],["pass","#81BF84"],["running","#649FF6"],["fail","#C84C5A"]]),ae=function(t){var a=(0,G.UO)(),s=a.ws_id;return(0,n.jsxs)(p.Z,{style:{marginBottom:t.bottomHeight},children:[(0,n.jsx)(p.Z.Item,{children:(0,n.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return N.m8.push("/ws/".concat(s,"/test_result"))},children:(0,n.jsx)(N._H,{id:"ws.result.details.test.result"})})}),(0,n.jsx)(p.Z.Item,{children:(0,n.jsx)(N._H,{id:"ws.result.details.result.details"})})]})},h=new Map([["success","#81BF84"],["fail","#C84C5A"],["running","#649FF6"],["stop","#1D1D1D"],["pending","#1D1D1D"],["skip","#1D1D1D"],["warning","#faad14"]]),E=function(t){return h.get(t)||""},R=j.ZP.span(m||(m=(0,ie.Z)([`
    color: `,`;
    fontWeight: 500;
    text-transform: capitalize;
`])),function(l){var t=l.color;return t}),re=function(t){var a=t;return Object.prototype.toString.call(t)==="[object Boolean]"&&(a=t?"success":"fail"),(0,n.jsx)(R,{color:E(a),children:a})},I=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(s){return s?(0,n.jsx)(g.K,{ellipsis:{tooltip:!0},children:s}):t}}},W=function(t){var a=t.title,s=t.width,_=s===void 0?"100%":s,H=t.onEdit,q=t.access,Y=(0,me.useRef)(),c=(0,G.UO)(),de=c.share_id;return(0,n.jsx)("div",{ref:Y,style:{width:_},children:(0,n.jsxs)(P.Z,{style:{width:_},justify:"start",align:"middle",children:[(0,n.jsx)(f.Z,{placement:"topLeft",title:a,children:(0,n.jsx)("span",{style:{maxWidth:54,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a||"-"})}),!de&&(0,n.jsx)(i.Z,{style:{marginLeft:6,cursor:"pointer"},onClick:function(){return q?H():(0,T.WR)()}})]})})},L=function(t){return v.get(t)||"#D9D9D9"},$=function(t){var a=t.text,s=(0,N.YB)(),_=(0,r.oM)(s.formatMessage({id:"request.copy.success"}));return(0,n.jsx)("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(){return _(a)},children:s.formatMessage({id:"operation.copy",defaultMessage:"\u590D\u5236"})})},X=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"-";return{ellipsis:{showTitle:!1},render:function(s){return s?_jsx(_Tooltip,{overlayClassName:styles.tootip_overflow,placement:"topLeft",title:_jsxs(_Row,{children:[_jsx(_Col,{span:24,style:{whiteSpace:"break-spaces"},children:s}),_jsx(_Col,{span:24,children:_jsx(_Row,{justify:"center",children:_jsx($,{text:s})})})]}),children:s}):t}}},Q=function(t){var a=t.text,s=t.defaultText,_=s===void 0?"-":s;return a?(0,n.jsx)(f.Z,{overlayClassName:S().tootip_overflow,placement:"topLeft",title:(0,n.jsxs)(P.Z,{children:[(0,n.jsx)(Z.Z,{span:24,style:{whiteSpace:"break-spaces"},children:a}),(0,n.jsx)(Z.Z,{span:24,children:(0,n.jsx)(P.Z,{justify:"center",children:(0,n.jsx)($,{text:a})})})]}),children:a}):_},ee=function(t){return t==="decline"?"#C84C5A":t==="normal"?"#000000":t==="increase"?"#81BF84":""},te=function(t,a,s){return t==="decline"?(0,n.jsx)("span",{style:{color:"#C84C5A"},children:s({id:"ws.result.details.".concat(t)})}):t==="normal"?(0,n.jsx)("span",{style:{color:"#000000"},children:s({id:"ws.result.details.".concat(t)})}):t==="increase"?(0,n.jsx)("span",{style:{color:"#81BF84"},children:s({id:"ws.result.details.".concat(t)})}):a||"-"},se=(0,j.ZP)(M.Z)(O||(O=(0,ie.Z)([`
    font-weight: 500;
    width: 72px;
    text-align: center;
    `,`
    text-transform: capitalize;
`])),function(l){var t=l.no_margin;return t?"margin-right: 0;":""}),z=function(t){return(0,n.jsx)(se,(0,o.Z)({},(0,o.Z)((0,o.Z)({},t),{},{collection:void 0})))},le=function(t){var a=(0,N.YB)(),s=a.formatMessage;return(0,n.jsx)(f.Z,{title:s({id:"ws.result.details.job_state"}),placement:"bottom",children:(0,n.jsx)(se,(0,o.Z)({},t))})},k=function(t){var a=t.title;return(0,n.jsx)(y.Z,{title:a,placement:"right",trigger:"hover",overlayClassName:S().tag_popover_style,children:(0,n.jsx)(ve.Z,{style:{color:"rgba(0, 0, 0, 0.65)",verticalAlign:"middle"}})})},ne=function(t){var a=t.state;return(0,n.jsx)(z,(0,o.Z)((0,o.Z)({},t),{},{color:L(a),style:v.get(a)?void 0:{color:"#1d1d1d"},children:a==="success"?"complete":a}))},U=function(t){var a=t.state;return(0,n.jsx)(le,(0,o.Z)((0,o.Z)({},t),{},{color:L(a),style:v.get(a)?void 0:{color:"#1d1d1d"},children:a==="success"?"complete":a}))},ue=function(t){var a=(0,N.YB)(),s=a.formatMessage,_=t.state,H=t.run_state,q=H===void 0?"":H,Y=t.state_desc,c=(0,G.UO)(),de=c.ws_id;return _==="running"?Y?(0,n.jsxs)(b.Z,{size:0,children:[(0,n.jsx)(ne,(0,o.Z)((0,o.Z)({},t),{},{children:_})),(0,n.jsx)(k,{title:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:Y.replace(/(\d+)/g,'<a href="/ws/'.concat(de,'/test_result/$1" target="_blank">$1</a>'))}})})]}):q?(0,n.jsxs)(b.Z,{size:0,children:[(0,n.jsx)(ne,(0,o.Z)((0,o.Z)({},t),{},{children:_})),(0,n.jsx)(k,{title:s({id:"ws.result.details.not.assigned.server"})})]}):(0,n.jsxs)(b.Z,{size:0,children:[(0,n.jsx)(ne,(0,o.Z)((0,o.Z)({},t),{},{children:_})),(0,n.jsx)(k,{title:s({id:"ws.result.details.running,please.wait"})})]}):_==="pending"&&Y?(0,n.jsxs)(b.Z,{size:0,children:[(0,n.jsx)(ne,(0,o.Z)((0,o.Z)({},t),{},{children:_})),(0,n.jsx)(k,{title:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:Y.replace(/(\d+)/g,'<a href="/ws/'.concat(de,'/test_result/$1" target="_blank">$1</a>'))}})})]}):(0,n.jsx)(ne,(0,o.Z)({},t))},oe=function(t){return(0,n.jsx)(U,(0,o.Z)((0,o.Z)({},t),{},{no_margin:1}))},V=function(t){var a=t.title,s=t.desc,_=t.placement,H=_===void 0?"bottom":_;return(0,n.jsxs)(b.Z,{children:[(0,n.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:a}),(0,n.jsx)(f.Z,{overlayClassName:S().table_question_tooltip,placement:H,arrowPointAtCenter:!0,title:s,color:"#fff",children:(0,n.jsx)(ve.Z,{style:{color:"rgba(0, 0, 0, 0.65)"}})})]})},x=function(t){var a=t.title,s=t.test_value,_=t.value_list,H=t.cv_value,q=t.max_value,Y=t.min_value,c=t.metric,de=t.result,he=(0,N.YB)(),Ce=he.formatMessage,Ae=(0,r.oM)(Ce({id:"request.copy.success"})),pe=function(xe){return xe?new Number(xe).toFixed(2):null},je=pe(q),Pe=pe(Y),be=H,Oe=pe(s),Me=_.map(function(ge){return pe(ge)}),ye="".concat(c," ").concat(a,`:
Avg: `).concat(Oe,`
CV:  `).concat(be);ye+=je?`
Max: `.concat(je):"",ye+=Pe?`
Min: `.concat(Pe):"",ye+=Me.length?`
Test Record
`:"",ye+=Me.reduce(function(ge,xe,Te){return ge.concat("(".concat(Te+1,") ").concat(xe,`
`))},"");var Ee="".concat(Oe,"\xB1").concat(be),De=function(){return de==="decline"?(0,n.jsx)("span",{className:S().result_popover_span,style:{color:"#C84C5A"},children:Ee}):de==="increase"?(0,n.jsx)("span",{className:S().result_popover_span,style:{color:"#81BF84"},children:Ee}):(0,n.jsx)("span",{className:S().result_popover_span,style:{color:"rgba(0, 0, 0, 0.65)"},children:Ee})};return(0,n.jsx)(y.Z,{overlayClassName:S().metric_list_copy,title:(0,n.jsxs)(P.Z,{justify:"space-between",children:[(0,n.jsx)("b",{children:a}),(0,n.jsx)("span",{onClick:function(){return Ae(ye)},style:{color:"#1890FF",cursor:"pointer",marginLeft:"8px"},children:(0,n.jsx)(N._H,{id:"operation.copy"})})]}),content:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(P.Z,{children:[(0,n.jsx)("b",{children:"Avg\uFF1A"}),(0,n.jsx)("span",{children:Oe})]}),(0,n.jsxs)(P.Z,{children:[(0,n.jsx)("b",{children:"CV\uFF1A"}),(0,n.jsx)("span",{children:be})]}),(0,n.jsxs)(P.Z,{children:[(0,n.jsx)("b",{children:"Max\uFF1A"}),(0,n.jsx)("span",{children:je})]}),(0,n.jsxs)(P.Z,{children:[(0,n.jsx)("b",{children:"Min\uFF1A"}),(0,n.jsx)("span",{children:Pe})]}),Me.length>0&&(0,n.jsx)(P.Z,{style:{marginTop:16},children:(0,n.jsx)("b",{children:"Test Record"})}),Me.map(function(ge,xe){return(0,n.jsx)(P.Z,{children:"(".concat(xe+1,")").concat(ge)},xe)})]}),children:De()})},K=function(t,a){return a&&(0,n.jsx)(Z.Z,{span:24,children:(0,n.jsxs)(P.Z,{children:[(0,n.jsx)(A.Z.Text,{style:{width:70,fontWeight:600,marginRight:8},children:t}),(0,n.jsx)(A.Z.Paragraph,{style:{width:"calc( 100% - 70px - 8px)"},ellipsis:!0,children:a})]})})}}}]);
