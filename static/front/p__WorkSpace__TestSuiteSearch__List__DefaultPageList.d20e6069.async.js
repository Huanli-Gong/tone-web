(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[7274],{99193:function(F,W,e){"use strict";e.d(W,{Z:function(){return K}});var i=e(45972),_=e(22374),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},O=m,C=e(25078),G=function(T,o){return _.createElement(C.Z,(0,i.Z)((0,i.Z)({},T),{},{ref:o,icon:O}))};G.displayName="UpOutlined";var K=_.forwardRef(G)},26511:function(F){F.exports={DefaultPageList_root:"DefaultPageList_root___2Dd4K",ChildTable_root:"ChildTable_root___3Qy8t","click-a-text":"click-a-text___3ApE6",enterOutlined:"enterOutlined___3t7Wz",ellipsis:"ellipsis___2zZHb",safety:"safety___2WpBr",expand_all_btn:"expand_all_btn___1SJEW"}},37442:function(F){F.exports={TestSuiteDefault_wrapper:"TestSuiteDefault_wrapper___29lcd",content:"content___3yKqZ",content_search:"content_search___3ULXk",initialPage:"initialPage___X8A8H",headerInfo:"headerInfo___3uqmW",define_backTop:"define_backTop___rrTNv",backTop_icon:"backTop_icon___WThkT"}},11673:function(F,W,e){"use strict";e.r(W),e.d(W,{default:function(){return Re}});var i=e(57359),_=e(34423),m=e(35832),O=e(32326),C=e(39190),G=e(20693),K=e(3278),l=e(22374),T=e(22812),o=e(24812),g=e(2514),Z=e(99193),s=e(11407),n=e(68077),r=e(20418),L=e(81138),t=e(96146),se=e(48766),P=e(81343),fe=e(66304),Y,ye=["svgRef","title"];function ue(){return ue=Object.assign?Object.assign.bind():function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(c[u]=y[u])}return c},ue.apply(this,arguments)}function Se(c,d){if(c==null)return{};var y=_e(c,d),u,w;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(c);for(w=0;w<x.length;w++)u=x[w],!(d.indexOf(u)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,u)||(y[u]=c[u]))}return y}function _e(c,d){if(c==null)return{};var y={},u=Object.keys(c),w,x;for(x=0;x<u.length;x++)w=u[x],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var we=function(d){var y=d.svgRef,u=d.title,w=Se(d,ye);return l.createElement("svg",ue({width:"12px",height:"14px",viewBox:"0 0 12 14",ref:y},w),u?l.createElement("title",null,u):null,Y||(Y=l.createElement("g",{id:"test-suite\\u68C0\\u7D22",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.createElement("g",{id:"1.\\u641C\\u7D22\\u9875",transform:"translate(-869.000000, -573.000000)",fillRule:"nonzero"},l.createElement("g",{id:"Group-3",transform:"translate(371.000000, 336.000000)"},l.createElement("g",{id:"Group-2",transform:"translate(0.000000, 34.000000)"},l.createElement("g",{id:"w\\u521B\\u5EFA",transform:"translate(30.000000, 9.000000)"},l.createElement("g",{id:"\\u8BA4\\u8BC1",transform:"translate(466.000000, 193.000000)"},l.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),l.createElement("path",{d:"M7.57066667,1.20613333 L2.77066667,3.31546667 C2.38352522,3.48568842 2.13351096,3.86855543 2.13333333,4.29146667 L2.13333333,7.59733333 C2.13333333,9.62213333 3.03893333,11.4314667 4.63466667,12.6784 L7.38506667,14.6192 C7.75375749,14.8793285 8.24624251,14.8793285 8.61493333,14.6192 L11.3445333,12.6938667 C12.9610667,11.4312 13.8666667,9.62186667 13.8666667,7.59733333 L13.8666667,4.29173333 C13.8666667,3.86862857 13.6166519,3.48549966 13.2293333,3.3152 L8.42933333,1.20586667 C8.15574995,1.0855751 7.84425005,1.0855751 7.57066667,1.20586667 L7.57066667,1.20613333 Z M3.2,4.29173333 L8,2.1824 L12.8,4.29173333 L12.8,7.59733333 C12.8,9.2896 12.0488,10.7906667 10.7085333,11.8378667 L8,13.7474667 L5.2704,11.8221333 C3.9512,10.7898667 3.2,9.28906667 3.2,7.5968 L3.2,4.29173333 Z",id:"Shape",fill:"#333333",opacity:.800000012}),l.createElement("path",{d:"M10.6666667,5.6 L11.4208,6.35413333 L7.95413333,9.8208 C7.74586674,10.0290037 7.40826659,10.0290037 7.2,9.8208 L5.06666667,7.68746667 L5.8208,6.93333333 L7.57706667,8.68933333 L10.6666667,5.6 Z",id:"Path",fill:"#00B386"})))))))))},pe=l.forwardRef(function(c,d){return l.createElement(we,ue({svgRef:d},c))}),be=e.p+"static/icon_SafetyCertificate.3441aeab.svg",me=e(39935),Ce=e(27310),de=e(42183),xe=e(26511),R=e.n(xe),a=e(52454),Ee=function(c){var d=(0,T.YB)(),y=d.formatMessage,u=new URL(window.location.href),w=u.pathname,x=c.ws_id,k=c.id,$=c.name,H=c.test_type,V=(0,l.useState)(!1),q=(0,C.Z)(V,2),M=q[0],B=q[1],ee=(0,l.useState)([]),z=(0,C.Z)(ee,2),X=z[0],te=z[1],ne=function(){var I=(0,O.Z)((0,m.Z)().mark(function S(A){var j,N,J;return(0,m.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return B(!0),v.prev=1,v.next=4,(0,de.z)(A);case 4:j=v.sent,N=j||{},J=N.data,j.code===200&&Array.isArray(J)?te(J):(te([]),t.default.error(j.msg||y({id:"request.failed"}))),B(!1),v.next=13;break;case 10:v.prev=10,v.t0=v.catch(1),B(!1);case 13:case"end":return v.stop()}},S,null,[[1,10]])}));return function(A){return I.apply(this,arguments)}}();(0,l.useEffect)(function(){ne({test_type:H,ws_id:x,suite_id:k})},[k]);var Q=[{dataIndex:"name",render:function(S){return(0,a.jsx)("span",{className:R()["click-a-text"],children:S})}},{dataIndex:"certificated",width:70,render:function(S){return(0,a.jsx)("span",{children:S?(0,a.jsxs)("span",{className:R().safety,children:[(0,a.jsx)(pe,{style:{marginRight:4}}),(0,a.jsx)(T._H,{id:"test.suite.authentication"})]}):null})}},{dataIndex:"add_state",width:80,render:function(S){return(0,a.jsx)("span",{className:R().ellipsis,children:(0,me.IA)(S,y)})}},{align:"right",dataIndex:"case_count",width:50,render:function(S){return(0,a.jsx)("span",{className:R().ellipsis,children:S==="\u5DF2\u6DFB\u52A0"?(0,a.jsx)(T._H,{id:"added"}):S})}}];return(0,a.jsx)("div",{className:R().ChildTable_root,children:(0,a.jsx)(n.Z,{showHeader:!1,size:"small",rowKey:"id",loading:M,columns:Q,dataSource:X,onRow:function(S){return{onClick:function(){var j=document.createElement("a");j.target="_blank",j.rel="noopener noreferrer",j.href="".concat(w,"/conf_Details?suite_id=").concat(k,"&case_id=").concat(S.id,"&suite_name=").concat(encodeURIComponent($),"&conf_name=").concat(encodeURIComponent(S.name)),j.click()}}},expandable:{expandIcon:function(){return(0,a.jsx)(Ce.r,{className:R().enterOutlined})}},pagination:!1})})},Ze=function(d){var y=(0,T.YB)(),u=y.formatMessage,w=new URL(window.location.href),x=w.pathname,k=d.type,$=d.ws_id,H=(0,l.useState)(!1),V=(0,C.Z)(H,2),q=V[0],M=V[1],B=(0,l.useState)([]),ee=(0,C.Z)(B,2),z=ee[0],X=ee[1],te=(0,l.useState)(!1),ne=(0,C.Z)(te,2),Q=ne[0],I=ne[1],S=(0,l.useState)([]),A=(0,C.Z)(S,2),j=A[0],N=A[1],J=(0,l.useState)(!1),ie=(0,C.Z)(J,2),v=ie[0],b=ie[1],ae=function(){var f=(0,O.Z)((0,m.Z)().mark(function p(E){var D,re;return(0,m.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,M(!0),h.next=4,(0,de.z)(E);case 4:if(h.t0=h.sent,h.t0){h.next=7;break}h.t0={};case 7:D=h.t0,re=D.data,D.code===200&&Array.isArray(re)?X(re):D.code!==200&&(X([]),t.default.error(D.msg||u({id:"request.failed"}))),M(!1),h.next=16;break;case 13:h.prev=13,h.t1=h.catch(0),M(!1);case 16:case"end":return h.stop()}},p,null,[[0,13]])}));return function(E){return f.apply(this,arguments)}}();(0,l.useEffect)(function(){k&&(ae({test_type:k,ws_id:$}),N([]),b(!1))},[k]);var le=function(p,E){N(p?j.concat([E.id]):j.filter(function(D){return D!==E.id}))},ce=function(p){var E=document.createElement("a");E.target="_blank",E.rel="noopener noreferrer",E.href="".concat(x,"/suite_Details?suite_id=").concat(p.id,"&suite_name=").concat(encodeURIComponent(p.name)),E.click()},oe=function(){b(!0)},he=[{dataIndex:"name",render:function(p,E){return(0,a.jsx)("span",{className:R()["click-a-text"],onClick:function(){return ce(E)},children:p})}},{dataIndex:"certificated",width:70,render:function(p){return(0,a.jsx)("span",{children:p?(0,a.jsxs)("span",{className:R().safety,children:[(0,a.jsx)(pe,{style:{marginRight:4}}),(0,a.jsx)(T._H,{id:"test.suite.authentication"})]}):null})}},{dataIndex:"add_state",width:80,render:function(p){return(0,a.jsx)("span",{className:R().ellipsis,children:(0,me.IA)(p,u)})}},{align:"right",dataIndex:"case_count",width:50,render:function(p){return(0,a.jsx)("span",{className:R().ellipsis,children:p})}}];return(0,a.jsxs)("div",{className:R().DefaultPageList_root,children:[(0,a.jsx)(n.Z,{showHeader:!1,size:"small",columns:he,rowKey:"id",dataSource:v?z:z.slice(0,20),pagination:!1,loading:q,expandable:{defaultExpandAllRows:Q,expandedRowKeys:j,onExpand:le,expandedRowRender:function(p,E){return(0,a.jsx)(Ee,(0,r.Z)({ws_id:$,test_type:k},p),E)},expandIcon:function(p){var E=p.expanded,D=p.onExpand,re=p.record;return E?(0,a.jsx)(se.Z,{onClick:function(h){return D(re,h)}}):(0,a.jsx)(P.Z,{onClick:function(h){return D(re,h)}})}}}),!v&&z.length>20&&(0,a.jsxs)("div",{className:R().expand_all_btn,onClick:oe,children:["\u5168\u90E8\u5C55\u5F00 ",(0,a.jsx)(fe.Z,{})]})]})},je=Ze,Te=e(37442),U=e.n(Te),ve=e(526),Le=K.Z.Search,Oe=function(d){var y=(0,T.YB)(),u=y.formatMessage;(0,ve.jk)("Workspace.".concat(d.route.name));var w=(0,o.UO)(),x=w.ws_id,k=(0,l.useState)("performance"),$=(0,C.Z)(k,2),H=$[0],V=$[1],q=(0,l.useState)({performance_num:0,functional_num:0}),M=(0,C.Z)(q,2),B=M[0],ee=M[1],z=(0,l.useState)(0),X=(0,C.Z)(z,2),te=X[0],ne=X[1],Q=(0,l.useRef)(null),I=function(){var v=(0,O.Z)((0,m.Z)().mark(function b(){var ae,le,ce,oe;return(0,m.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,de.ys)({ws_id:x,total_num:!0});case 2:if(f.t0=f.sent,f.t0){f.next=5;break}f.t0={};case 5:ae=f.t0,ae.code===200&&ae.data&&(le=ae.data||{},ce=le.functional_num,oe=le.performance_num,ee({functional_num:ce,performance_num:oe}));case 7:case"end":return f.stop()}},b)}));return function(){return v.apply(this,arguments)}}();(0,l.useEffect)(function(){I()},[x]);var S=(0,ve.CR)(),A=S.height,j=function(b){b&&T.m8.push({pathname:"/ws/".concat(x,"/suite_search/key"),query:{keyword:b}})},N=function(b){return function(){V(b)}},J=function(){var b=Q.current.scrollTop;ne(b)},ie=function(){Q.current.scrollTo(0,0)};return(0,a.jsxs)("div",{className:U().TestSuiteDefault_wrapper,style:{minHeight:A-50},onScroll:J,ref:Q,children:[(0,a.jsxs)("div",{className:U().content,style:{minHeight:A-270},children:[(0,a.jsx)(Le,{className:U().content_search,prefix:(0,a.jsx)(g.Z,{style:{color:"#bfbfbf",marginTop:4,marginRight:8}}),placeholder:u({id:"test.suite.search.placeholder"}),allowClear:!0,enterButton:u({id:"test.suite.search"}),onSearch:j}),(0,a.jsxs)("div",{className:U().initialPage,children:[(0,a.jsxs)(_.Z,{children:[(0,a.jsx)("div",{className:U().headerInfo,children:(0,a.jsxs)("span",{onClick:N("performance"),style:{color:H==="performance"?"#1890FF":"rgba(0, 0, 0, 0.65)",cursor:"pointer"},children:[(0,a.jsx)(T._H,{id:"performance.test"}),"(",B.performance_num,")"]})}),(0,a.jsx)("div",{className:U().headerInfo,children:(0,a.jsxs)("span",{onClick:N("functional"),style:{color:H==="functional"?"#1890FF":"rgba(0, 0, 0, 0.65)",cursor:"pointer"},children:[(0,a.jsx)(T._H,{id:"functional.test"}),"(",B.functional_num,")"]})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(je,{type:H,ws_id:x})})]})]}),(0,a.jsx)("div",{className:U().define_backTop,onClick:ie,style:{display:te>200?"block":"none",paddingTop:7},children:(0,a.jsx)(Z.Z,{className:U().backTop_icon})})]})},Re=Oe},42183:function(F,W,e){"use strict";e.d(W,{ys:function(){return O},z:function(){return C},w7:function(){return G},_Z:function(){return K},qn:function(){return l},lZ:function(){return T},yn:function(){return o},hX:function(){return g},_k:function(){return Z}});var i=e(35832),_=e(32326),m=e(22812),O=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/case/test_suite/retrieve/",{params:r}));case 1:case"end":return t.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),C=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/case/test_suite/retrieve/",{method:"GET",params:r}));case 1:case"end":return t.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),G=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/case/retrieve/quantity/",{method:"GET",params:r}));case 1:case"end":return t.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),K=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){var L,t,se,P;return(0,i.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return L=r.search_key,t=r.search_type,se=r.page_num,P=r.page_size,Y.abrupt("return",(0,m.WY)("/api/case/test_suite/retrieve/",{method:"POST",params:{page_num:se,page_size:P},data:{search_key:L,search_type:t}}));case 2:case"end":return Y.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),l=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/case/test_suite/",{method:"GET",params:r}));case 1:case"end":return t.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),T=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/case/test_metric/",{method:"GET",params:r}));case 1:case"end":return t.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),o=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){var L,t;return(0,i.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return L=r.case_id,t=r.ws_id,P.abrupt("return",(0,m.WY)("/api/case/test_case/detail/".concat(L,"/"),{method:"GET",params:{retrieve:1,ws_id:t}}));case 2:case"end":return P.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),g=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/case/test_suite/retrieve/",{method:"GET",params:r}));case 1:case"end":return t.stop()}},n)}));return function(r){return s.apply(this,arguments)}}(),Z=function(){var s=(0,_.Z)((0,i.Z)().mark(function n(r){return(0,i.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("/api/case/test_metric/",{method:"GET",params:r}));case 1:case"end":return t.stop()}},n)}));return function(r){return s.apply(this,arguments)}}()},27310:function(F,W,e){"use strict";e.d(W,{r:function(){return l}});var i=e(22374),_,m=["svgRef","title"];function O(){return O=Object.assign?Object.assign.bind():function(o){for(var g=1;g<arguments.length;g++){var Z=arguments[g];for(var s in Z)Object.prototype.hasOwnProperty.call(Z,s)&&(o[s]=Z[s])}return o},O.apply(this,arguments)}function C(o,g){if(o==null)return{};var Z=G(o,g),s,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);for(n=0;n<r.length;n++)s=r[n],!(g.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,s)||(Z[s]=o[s]))}return Z}function G(o,g){if(o==null)return{};var Z={},s=Object.keys(o),n,r;for(r=0;r<s.length;r++)n=s[r],!(g.indexOf(n)>=0)&&(Z[n]=o[n]);return Z}var K=function(g){var Z=g.svgRef,s=g.title,n=C(g,m);return i.createElement("svg",O({width:"9px",height:"10px",viewBox:"0 0 9 10",ref:Z},n),s?i.createElement("title",null,s):null,_||(_=i.createElement("g",{id:"test-suite\\u68C0\\u7D22",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"10.conf\\u8BE6\\u60C5\\u9875-\\u65E0\\u8BF4\\u660E-\\u65E0\\u6700\\u8FD1\\u8FD0\\u884C",transform:"translate(-244.000000, -313.000000)",fillRule:"nonzero"},i.createElement("g",{id:"Group-5",transform:"translate(220.000000, 262.000000)"},i.createElement("g",{id:"\\u7BAD\\u5934",transform:"translate(20.000000, 48.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M9.02246875,6.33009375 C8.82639063,6.1345625 8.50854688,6.1345625 8.3125,6.33009375 C8.1164375,6.525625 8.1164375,6.84264063 8.3125,7.03817188 L10.3681094,9.085625 L5.03665625,9.085625 L5.03665625,3.5169375 C5.03665625,3.23189062 4.80414063,3 4.51832813,3 C4.23251563,3 4,3.23190625 4,3.5169375 L4,9.6025625 C4,9.88759375 4.23251563,10.1194844 4.51832813,10.1194844 L10.368125,10.1194844 L8.3125,12.1669219 C8.1164375,12.3624531 8.1164375,12.6794844 8.3125,12.875 C8.41053125,12.9727969 8.53898437,13.0216563 8.66748437,13.0216563 C8.79595312,13.0216563 8.92445313,12.9727656 9.02246875,12.8750156 L11.9514063,9.95659375 C12.0455176,9.86281088 12.0984531,9.73542399 12.0984531,9.6025625 C12.0984531,9.46970083 12.045499,9.34231742 11.9513906,9.24853125 L9.02246875,6.33009375 Z",id:"Path",fill:"#575757"})))))))},l=i.forwardRef(function(o,g){return i.createElement(K,O({svgRef:g},o))}),T=e.p+"static/icon_arrow_on.e8a7c73c.svg"}}]);
