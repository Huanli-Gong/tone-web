(self.webpackChunktone_front=self.webpackChunktone_front||[]).push([[804],{59e3:function(We){We.exports={code_wrapper:"code_wrapper___3eANK"}},28075:function(We){We.exports={picker:"picker___uSvFT",waves:"waves___3JsYm"}},87204:function(We){We.exports={step_table_popover:"step_table_popover___1f0Zw",prep_test_conf_row:"prep_test_conf_row___19C03",popover_text_span:"popover_text_span___U51QY",prepTable:"prepTable___peGpw",buildTable:"buildTable___1mFuX",buildWrap:"buildWrap___1ORko",buildChild:"buildChild___3rdXh",buildName:"buildName___2BsvL",buildDetail:"buildDetail___2n-Br",buildCopy:"buildCopy___3X5js",process_suite_table_cls:"process_suite_table_cls___2_nEr"}},6547:function(We){We.exports={expandConf:"expandConf___3BXhT",expandIndex:"expandIndex___1kNdp",result_expand_table:"result_expand_table___2vQfW",result_info_table_head:"result_info_table_head___1GDEA",result_info_table_row:"result_info_table_row___2DLWy",column_circle_text:"column_circle_text___pXv4B",edit:"edit___2nvH1",file_icon:"file_icon___11_1k",dir_icon:"dir_icon___1qN2O",resultCaseTableCls:"resultCaseTableCls___U7YMc"}},64685:function(We){We.exports={setting_info_table:"setting_info_table___1ZOsw",label_style_form:"label_style_form___2imbA",label_style_form_en:"label_style_form_en___3Nm3-",job_test_form:"job_test_form___1r3-Z",pers_select:"pers_select___1FSND",join_persbaseline:"join_persbaseline___1_0tA",customCardCls:"customCardCls___1hVKa",test_suite_server_table:"test_suite_server_table___Pzj6m"}},53847:function(We){We.exports={test_result_name:"test_result_name___1v7Kr",test_summary_item:"test_summary_item___3O54P",test_summary_item_right:"test_summary_item_right___6YC7G",test_summary_item_right_unellipsis:"test_summary_item_right_unellipsis___cXNoX",test_summary_row:"test_summary_row___3ciVC",detail_collection:"detail_collection___q_uDD",offline_flag:"offline_flag___3dYdc",result_tab_nav:"result_tab_nav___xfr-a","ant-tabs-bar":"ant-tabs-bar___lp4GA"}},18370:function(){},17286:function(We,rt,o){"use strict";var Te=o(61679),De=o.n(Te),Ke=o(4974),ce=o.n(Ke),mt=o(51935),ut=o.n(mt),ct=o(48304),ke=o(59e3),dt=o.n(ke),H=o(52454);rt.Z=function(Ie){var I=Ie.code,Be=Ie.onChange,Me=Ie.readOnly,qe=Me===void 0?!1:Me,re=Ie.mode,at=re===void 0?"shell":re;return(0,H.jsx)(ct.fk,{value:I,className:dt().code_wrapper,options:{theme:"monokai",keyMap:"sublime",lineNumbers:at==="yaml",mode:at,readOnly:qe},onBeforeChange:function(jt,Je,ht){return Be(ht)}})}},79638:function(We,rt,o){"use strict";var Te=o(79625),De=o(96584),Ke=o(20418),ce=o(39190),mt=o(488),ut=o(41428),ct=o(22374),ke=o(97939),dt=o(526),H=o(52454),Ie=["title","children","width","color","placement","style"],I,Be=ke.ZP.div(I||(I=(0,ut.Z)([`
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
`]))),Me=function(re){var at=re.title,Le=re.children,jt=re.width,Je=re.color,ht=re.placement,fe=ht===void 0?"topLeft":ht,yt=re.style,He=(0,mt.Z)(re,Ie),f=(0,ct.useRef)(null),X=(0,ct.useState)(!1),Ze=(0,ce.Z)(X,2),C=Ze[0],i=Ze[1],wt=(0,dt.CR)(),Ae=wt.width,n=function(){var et,N,ve=f==null||(et=f.current)===null||et===void 0?void 0:et.clientWidth,Se=f==null||(N=f.current)===null||N===void 0?void 0:N.scrollWidth;i(ve<Se)};(0,ct.useEffect)(function(){n()},[at,Ae]);var Re=(0,H.jsx)(Be,(0,Ke.Z)((0,Ke.Z)({ref:f,style:(0,Ke.Z)({width:jt,color:Je},yt)},He),{},{children:Le||at||"-"}));return C?(0,H.jsx)(De.Z,{title:at,placement:fe,overlayStyle:{wordBreak:"break-all"},children:Re}):Re};rt.Z=Me},75667:function(We,rt,o){"use strict";o.d(rt,{$x:function(){return mt},X6:function(){return ct},cm:function(){return dt},BG:function(){return Ie},BS:function(){return re},Ti:function(){return at},iB:function(){return Le},F$:function(){return jt},x1:function(){return Je},Sy:function(){return fe},Rp:function(){return yt},Tv:function(){return He},rc:function(){return f},aB:function(){return X},Yh:function(){return Ze},mN:function(){return C},L0:function(){return wt},MH:function(){return Ae},oz:function(){return n},XW:function(){return Re},vu:function(){return Ce},kA:function(){return et}});var Te=o(35832),De=o(20418),Ke=o(32326),ce=o(22812);function mt(){return ut.apply(this,arguments)}function ut(){return ut=(0,Ke.Z)((0,Te.Z)().mark(function N(){var ve,Se=arguments;return(0,Te.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return ve=Se.length>0&&Se[0]!==void 0?Se[0]:{},U.abrupt("return",(0,ce.WY)("/api/server/cloud_server/",{params:ve}));case 2:case"end":return U.stop()}},N)})),ut.apply(this,arguments)}function ct(){return ke.apply(this,arguments)}function ke(){return ke=(0,Ke.Z)((0,Te.Z)().mark(function N(){var ve,Se=arguments;return(0,Te.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return ve=Se.length>0&&Se[0]!==void 0?Se[0]:{},U.abrupt("return",(0,ce.WY)("/api/server/cloud_server/",{method:"POST",data:(0,De.Z)({},ve)}));case 2:case"end":return U.stop()}},N)})),ke.apply(this,arguments)}function dt(N){return H.apply(this,arguments)}function H(){return H=(0,Ke.Z)((0,Te.Z)().mark(function N(ve){var Se,ot=arguments;return(0,Te.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Se=ot.length>1&&ot[1]!==void 0?ot[1]:{},e.abrupt("return",(0,ce.WY)("/api/server/cloud_server/detail/".concat(ve,"/"),{method:"PUT",data:(0,De.Z)({},Se)}));case 2:case"end":return e.stop()}},N)})),H.apply(this,arguments)}function Ie(N,ve){return I.apply(this,arguments)}function I(){return I=(0,Ke.Z)((0,Te.Z)().mark(function N(ve,Se){return(0,Te.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,ce.WY)("/api/server/cloud_server/detail/".concat(ve,"/"),{method:"DELETE",data:(0,De.Z)({},Se)}));case 1:case"end":return U.stop()}},N)})),I.apply(this,arguments)}function Be(){return Me.apply(this,arguments)}function Me(){return Me=_asyncToGenerator(_regeneratorRuntime().mark(function N(){var ve,Se=arguments;return _regeneratorRuntime().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return ve=Se.length>0&&Se[0]!==void 0?Se[0]:{},U.abrupt("return",request("/api/server/server_tag/",{params:ve}));case 2:case"end":return U.stop()}},N)})),Me.apply(this,arguments)}function qe(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return request("/api/auth/user/",{params:N})}function re(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/cloud_server/instance_type/",{params:N})}function at(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/cloud_server/aliyun/",{params:N})}function Le(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/cloud_server/image/",{params:N})}function jt(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/cloud_server/disk/categories/",{params:N})}function Je(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/check/cloud_name/",{params:N})}function ht(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return request("/api/server/check/var_name/",{method:"POST",data:_objectSpread({},N)})}function fe(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/test_cluster/",{params:N})}function yt(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/test_cluster/",{method:"POST",data:(0,De.Z)({},N)})}function He(N,ve){return(0,ce.WY)("/api/server/test_cluster/detail/".concat(N,"/"),{method:"PUT",data:(0,De.Z)({},ve)})}function f(N,ve){return(0,ce.WY)("/api/server/test_cluster/detail/".concat(N,"/"),{method:"DELETE",data:ve})}function X(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/cloud_ak/",{params:N})}function Ze(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/cloud_server/region/",{params:N})}function C(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/cloud_server/zone/",{params:N})}function i(N){return request("/api/server/test_cluster/cloud_type/".concat(N,"/"))}function wt(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/test_cluster/cloud_server/",{params:N})}function Ae(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ce.WY)("/api/server/test_cluster/cloud_server/",{method:"POST",data:(0,De.Z)({},N)})}function n(N){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,ce.WY)("/api/server/test_cluster/cloud_server/detail/".concat(N,"/"),{method:"PUT",data:(0,De.Z)({},ve)})}function Re(N){return(0,ce.WY)("/api/server/test_cluster/cloud_server/detail/".concat(N,"/"),{method:"DELETE"})}var Ce=function(){var N=(0,Ke.Z)((0,Te.Z)().mark(function ve(Se){return(0,Te.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,ce.WY)("/api/server/sync_state/",{method:"post",data:Se}));case 1:case"end":return U.stop()}},ve)}));return function(Se){return N.apply(this,arguments)}}(),et=function(){var N=(0,Ke.Z)((0,Te.Z)().mark(function ve(Se){return(0,Te.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,ce.WY)("/api/server/sync_cloud_server_info/",{params:Se}));case 1:case"end":return U.stop()}},ve)}));return function(Se){return N.apply(this,arguments)}}()},43480:function(We,rt,o){"use strict";var Te=o(8281),De=o(58591),Ke=o(39190),ce=o(22374),mt=o(79236),ut=o(98540),ct=o(60061),ke=o(28075),dt=o.n(ke),H=o(95844),Ie=o.n(H),I=o(52454),Be=function(qe){var re=qe.value,at=qe.onChange,Le=(0,ce.useState)(!1),jt=(0,Ke.Z)(Le,2),Je=jt[0],ht=jt[1],fe=(0,ce.useState)(!1),yt=(0,Ke.Z)(fe,2),He=yt[0],f=yt[1],X=(0,ce.useState)({r:255,g:157,b:78,a:1}),Ze=(0,Ke.Z)(X,2),C=Ze[0],i=Ze[1],wt=[{r:255,g:157,b:78,a:1},{r:91,g:216,b:166,a:1},{r:91,g:143,b:249,a:1},{r:247,g:102,b:78,a:1},{r:255,g:134,b:183,a:1},{r:43,g:158,b:157,a:1},{r:146,g:112,b:202,a:1},{r:109,g:200,b:236,a:1},{r:102,g:119,b:150,a:1},{r:245,g:188,b:22,a:1},{r:231,g:107,b:242,a:1}],Ae=function(){ht(!Je)},n=function(){ht(!1)},Re=function(ve){var Se=ve.rgb;i(Se);var ot="rgb(".concat(Se.r,",").concat(Se.g,",").concat(Se.b,",").concat(Se.a,")");at&&at(ot)};(0,ce.useEffect)(function(){var N={r:255,g:157,b:78,a:1};if(re){var ve=re.slice(4,re.length-1).split(",");N={r:Number(ve[0]),g:Number(ve[1]),b:Number(ve[2]),a:Number(ve[3])}}i(N)},[re]);var Ce=function(ve){i(ve),f(!1);var Se="rgb(".concat(ve.r,",").concat(ve.g,",").concat(ve.b,",").concat(ve.a,")");at&&at(Se)},et=(0,mt.ZP)({default:{color:{position:"relative",width:"22px",height:"22px",borderRadius:"2px",background:"rgba(".concat(C.r,", ").concat(C.g,", ").concat(C.b,", ").concat(C.a,")")},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},warp:{position:"absolute",paddingTop:"16px",paddingBottom:"6px",background:"#fff",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)",borderRadius:"2px",zIndex:9999}}});return(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{style:et.swatch,className:dt().click,onClick:Ae,children:(0,I.jsx)("div",{style:et.color,className:dt().waves})}),Je?(0,I.jsxs)("div",{style:et.popover,children:[(0,I.jsx)("div",{style:et.cover,onClick:n}),(0,I.jsxs)("div",{style:et.warp,children:[(0,I.jsxs)("div",{style:{background:"#fff",width:244,paddingLeft:"16px"},children:[wt.map(function(N,ve){return(0,I.jsx)("div",{children:(0,I.jsx)("div",{className:dt().waves,style:{position:"relative",float:"left",marginRight:"16px",marginBottom:"16px",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden",background:"rgba(".concat(N.r,", ").concat(N.g,", ").concat(N.b,", ").concat(N.a,")")},onClick:function(){return Ce(N)},children:JSON.stringify(C)==JSON.stringify(N)&&(0,I.jsx)(ct.Z,{style:{position:"absolute",top:"5px",left:"5px",color:"#fff"}})})},ve)}),(0,I.jsx)("div",{children:(0,I.jsxs)("div",{className:dt().waves,style:{float:"left",marginRight:"16px",marginBottom:"16px",position:"relative",width:"22px",height:"22px",borderRadius:"2px",overflow:"hidden"},onClick:function(){return f(!He)},children:[(0,I.jsx)("img",{src:Ie(),style:{position:"absolute",width:"22px"}}),(0,I.jsx)("div",{style:{position:"absolute",left:"4px",top:"4px",width:"14px",height:"14px",borderRadius:"2px",background:"rgba(".concat(C.r,", ").concat(C.g,", ").concat(C.b,", ").concat(C.a,")")}})]})})]}),He&&(0,I.jsx)(De.Z,{style:{margin:0}}),He&&(0,I.jsx)("div",{style:{padding:"6px"},children:(0,I.jsx)(ut.xS,{className:dt().picker,width:212,color:C,onChange:Re,presetColors:[]})})]})]}):null]})};rt.Z=Be},88090:function(We,rt,o){"use strict";o.r(rt),o.d(rt,{default:function(){return Aa}});var Te=o(67448),De=o(47548),Ke=o(54905),ce=o(90087),mt=o(20632),ut=o(71853),ct=o(46721),ke=o(94867),dt=o(70772),H=o(6701),Ie=o(31650),I=o(25100),Be=o(53374),Me=o(61674),qe=o(57359),re=o(34423),at=o(79625),Le=o(96584),jt=o(51937),Je=o(34516),ht=o(14320),fe=o(53479),yt=o(81138),He=o(96146),f=o(20418),X=o(35832),Ze=o(32326),C=o(39190),i=o(22374),wt=o(53847),Ae=o.n(wt),n=o(22812),Re=o(24812),Ce=o(26362),et=o(22977),N=o(72053),ve=o(43163),Se=o(488),ot=o(20507),U=o(39935),e=o(52454),gs=["count"],js=function(r){var t=r.data,a=t===void 0?{}:t,s=r.test_type,d=s===void 0?"":s,u=(0,n.YB)(),x=u.formatMessage,v=function(b,g){if(b==="increase")return{color:"#81BF84",name:x({id:"ws.result.details.".concat(b)}),legend:"#389E0D"};if(b==="decline")return{color:"#C84C5A",name:x({id:"ws.result.details.".concat(b)}),legend:"#C84C5A"};if(b==="normal")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(b)}),legend:"#000000"};if(b==="invalid")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(b)}),legend:"#000000"};if(b==="na")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(b)}),legend:"#000000"};if(b==="success")return{color:"#81BF84",name:x(g==="business_business"?{id:"ws.result.details.business.".concat(b)}:{id:"ws.result.details.".concat(b)}),legend:"#389E0D"};if(b==="fail")return{color:"#C84C5A",name:x({id:"ws.result.details.".concat(b)}),legend:"#C84C5A"};if(b==="warn")return{color:"#DCC506",name:x({id:"ws.result.details.".concat(b)}),legend:"#DCC506"};if(b==="skip")return{color:"#6A737D",name:x({id:"ws.result.details.".concat(b)}),legend:"#000000"}},y=(0,i.useRef)(null),c=(0,U.SE)(d),S=(0,i.useState)(""),j=(0,C.Z)(S,2),h=j[0],p=j[1];return(0,i.useEffect)(function(){var Z=setInterval(function(){var b=(0,n.Kd)();b!==h&&p(b)},200);return function(){Z&&clearInterval(Z)}},[]),(0,i.useEffect)(function(){if(JSON.stringify(a)!=="{}"){var Z=a.count,b=(0,Se.Z)(a,gs),g=c==="business_business"?["success","fail"]:Object.keys(b),P=g.map(function(F){return(0,f.Z)({value:a[F],key:F},v(F,c))}),T=ot.S1(y.current),w={};return P.forEach(function(F){var O=F.legend,R=F.key;w[R]={color:O}}),T.setOption({color:P.map(function(F){var O=F.color;return O}),legend:{selectedMode:!1,show:!0,bottom:0,formatter:function(O){var R=P.findIndex(function($){return O===$.name}),q=P[R];return"{".concat(q.key,"|").concat(O,"(").concat(q.value,")}")},textStyle:{rich:w},data:P.map(function(F){var O=F.color,R=F.name;return{name:R,textStyle:O}}),itemWidth:0,itemHeight:0},tooltip:{show:!1},series:[{type:"pie",radius:["60%","80%"],avoidLabelOverlap:!1,data:P,hoverOffset:1,height:"90%",label:{show:!0,position:"center",color:"#4c4a4a",formatter:"{total|"+Z+`}
\r{active|All cases}`,rich:{total:{fontSize:30,fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",color:"#000000"},active:{fontFamily:"\u5FAE\u8F6F\u96C5\u9ED1",fontSize:12,color:"rgba(0,0,0,.65)"}}},emphasis:{label:{show:!0}}}]}),function(){T==null||T.dispose()}}},[a,y,h]),(0,e.jsx)("div",{style:{width:"calc(100% - 0px)"},children:(0,e.jsx)("div",{ref:y,style:{height:170}})})},za=o(87967),bs=o(65320),Va=o(52730),mn=o(25205),Rn=o(66304),St=o(48766),Tt=o(81343),Ya=o(11407),kt=o(41604),Dt=o(94649),Ja=o(88018),pn=o(58414),Qa=o(88966),Ue=o(11048),Ga=o(69230),it=o(33821),Xa=o(8281),Ht=o(58591),qa=o(20693),tt=o(3278),ei=o(65790),me=o(17187),ys=o(86252),hn=o.n(ys),_n=o(72882),ti=o(67515),En=o(41083),ws=(0,i.forwardRef)(function(r,t){var a=(0,n.YB)(),s=a.formatMessage,d=(0,i.useState)(!1),u=(0,C.Z)(d,2),x=u[0],v=u[1],y=(0,i.useState)(!1),c=(0,C.Z)(y,2),S=c[0],j=c[1];(0,i.useImperativeHandle)(t,function(){return{show:function(){v(!0)}}});var h=me.Z.useForm(),p=(0,C.Z)(h,1),Z=p[0],b=function(){v(!1)},g=function(){S||(j(!0),Z.validateFields().then(function(T){console.log(T)}).catch(function(){j(!1)}))};return(0,e.jsxs)(En.Z,{width:487,title:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"}),visible:x,onCancel:b,onOk:g,okText:(0,e.jsx)(n._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:[(0,e.jsxs)(fe.Z,{children:[(0,e.jsx)("b",{children:(0,e.jsx)(n._H,{id:"ws.result.details.test.env"})}),(0,e.jsx)("span",{})]}),(0,e.jsxs)(fe.Z,{children:[(0,e.jsx)("b",{children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.type"})}),(0,e.jsx)("span",{})]}),(0,e.jsx)("div",{style:{width:"100%",height:10,background:"#F5F5F5"}}),(0,e.jsxs)(me.Z,{form:Z,layout:"vertical",children:[(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.name"}),children:(0,e.jsx)(tt.Z,{autoComplete:"off",placeholder:s({id:"ws.result.details.baseline.name.placeholder"})})}),(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline.desc"}),children:(0,e.jsx)(tt.Z.TextArea,{rows:3,autoComplete:"off",placeholder:s({id:"ws.result.details.baseline.desc.placeholder"})})})]})]})}),Zs=o(44851),xn=o.n(Zs),Cs=o(72100),Ss=function(t,a){var s=(0,n.YB)(),d=s.formatMessage,u=(0,Re.UO)(),x=u.ws_id,v=t.test_type,y=t.onOk,c=t.accessible,S=me.Z.useForm(),j=(0,C.Z)(S,1),h=j[0],p=(0,i.useState)(!1),Z=(0,C.Z)(p,2),b=Z[0],g=Z[1],P=(0,i.useState)({suite_list:[],suite_data:[]}),T=(0,C.Z)(P,2),w=T[0],F=T[1],O=(0,i.useState)(!1),R=(0,C.Z)(O,2),q=R[0],$=R[1],E=(0,i.useState)(!1),W=(0,C.Z)(E,2),V=W[0],G=W[1],z=(0,i.useState)([]),k=(0,C.Z)(z,2),ne=k[0],Q=k[1],_e=(0,i.useState)([]),B=(0,C.Z)(_e,2),ie=B[0],te=B[1],l=(0,i.useState)(),A=(0,C.Z)(l,2),_=A[0],m=A[1],M=(0,i.useState)(),ee=(0,C.Z)(M,2),ae=ee[0],J=ee[1],pe=(0,i.useRef)(null),we=(0,i.useRef)(null),le=(0,i.useRef)(null),Pe=function(){var D=(0,Ze.Z)((0,X.Z)().mark(function Y(){var he,se,xe,je;return(0,X.Z)().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return G(!0),lt.next=3,(0,Ce.bU)({ws_id:x,test_type:v});case 3:he=lt.sent,se=he.data,xe=he.code,xe===200&&(je=se.map(function(Fe){return{label:Fe.name,key:Fe.id,value:Fe.id}}),v==="functional"?Q(je):te(je),G(!1));case 7:case"end":return lt.stop()}},Y)}));return function(){return D.apply(this,arguments)}}(),Ye=function(){var D=(0,Ze.Z)((0,X.Z)().mark(function Y(he){var se,xe,je,Oe;return(0,X.Z)().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(he){Fe.next=2;break}return Fe.abrupt("return");case 2:return Fe.next=4,(0,Cs.si)({name:he,test_type:v,version:"",page_size:999,ws_id:x});case 4:return se=Fe.sent,xe=se.code,je=se.msg,Oe=se.data,xe===200?(He.default.success("\u6DFB\u52A0\u57FA\u7EBF\u6210\u529F!!!"),Pe(),m(void 0),J(void 0)):(0,U.EV)(xe,je),Fe.abrupt("return",Oe);case 10:case"end":return Fe.stop()}},Y)}));return function(he){return D.apply(this,arguments)}}();(0,i.useImperativeHandle)(a,function(){return{show:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;g(!0),Pe(),Y&&(console.log(Y),F(Y)),J(void 0),m(void 0)}}});var Ge=function(){g(!1),h.resetFields(),$(!1),F({}),m(void 0)},nt=function(Y,he){if(Y!==200){$(!1),(0,U.EV)(Y,he);return}y(),He.default.success(d({id:"operation.success"})),Ge()},gt=function(){$(!0),h.validateFields().then(function(){var Y=(0,Ze.Z)((0,X.Z)().mark(function he(se){var xe,je,Oe,lt,Fe,Nt,an,ln,Ft,dn,Wt,$t,It,on,un,Kt,Ut,Pt,zt,cn,fn;return(0,X.Z)().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(xe=se.bug,je=(0,f.Z)((0,f.Z)({},se),{},{ws_id:x,test_type:v,bug:xe==null?void 0:xe.trim()}),!(w!=null&&w.suite_list||w!=null&&w.suite_data)){Ne.next=12;break}if(!(w!=null&&w.suite_list.length||w!=null&&w.suite_data.length)){Ne.next=12;break}return Oe=w.suite_list,lt=w.suite_data,Fe=w.job_id,Ne.next=7,(0,Ce.FJ)((0,f.Z)((0,f.Z)({},je),{},{suite_list:Oe,suite_data:lt,job_id:Fe}));case 7:return Nt=Ne.sent,an=Nt.code,ln=Nt.msg,nt(an,ln),Ne.abrupt("return");case 12:if(v!=="functional"){Ne.next=22;break}return Ft=w.suite_id,dn=w.test_case_id,Wt=w.job_id,$t=w.id,Ne.next=16,(0,Ce._f)((0,f.Z)((0,f.Z)({},je),{},{test_job_id:Wt,test_suite_id:Ft,test_case_id:dn,result_id:$t}));case 16:It=Ne.sent,on=It.code,un=It.msg,nt(on,un),Ne.next=36;break;case 22:if(Kt=w.suite_id,Ut=w.test_case_id,Pt=w.job_id,!Ut){Ne.next=29;break}return Ne.next=26,(0,Ce.Tm)((0,f.Z)((0,f.Z)({},je),{},{job_id:Pt,suite_id:Kt,case_id:Ut}));case 26:Ne.t0=Ne.sent,Ne.next=32;break;case 29:return Ne.next=31,(0,Ce.FJ)((0,f.Z)((0,f.Z)({},je),{},{job_id:Pt,suite_list:[Kt]}));case 31:Ne.t0=Ne.sent;case 32:zt=Ne.t0,cn=zt.code,fn=zt.msg,nt(cn,fn);case 36:case"end":return Ne.stop()}},he)}));return function(he){return Y.apply(this,arguments)}}()).catch(function(Y){console.log(Y),$(!1)})},bt=function(Y){m(Y)},Ee=function(Y){J(Y)},oe=function(){var D=(0,Ze.Z)((0,X.Z)().mark(function Y(){var he,se,xe;return(0,X.Z)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!_){Oe.next=10;break}return Oe.next=3,Ye(_);case 3:if(he=Oe.sent,he){Oe.next=6;break}return Oe.abrupt("return");case 6:se=he.id,se&&(xe=h.getFieldValue("baseline_id")||[],h.setFieldsValue({baseline_id:xe.concat([se])})),m(""),we.current.blur();case 10:case"end":return Oe.stop()}},Y)}));return function(){return D.apply(this,arguments)}}(),K=function(){var D=(0,Ze.Z)((0,X.Z)().mark(function Y(){var he,se;return(0,X.Z)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(!ae){je.next=9;break}return je.next=3,Ye(ae);case 3:if(he=je.sent,he){je.next=6;break}return je.abrupt("return");case 6:se=he.id,se&&h.setFieldsValue({baseline_id:se}),le.current.blur();case 9:case"end":return je.stop()}},Y)}));return function(){return D.apply(this,arguments)}}();return(0,e.jsxs)(pn.Z,{maskClosable:!1,keyboard:!1,width:"376",title:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"}),open:b,onClose:Ge,footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(ke.Z,{onClick:Ge,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{type:"primary",onClick:gt,disabled:q,children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})}),children:[(0,e.jsx)(De.Z,{spinning:V,children:(0,e.jsxs)(me.Z,{form:h,layout:"vertical",children:[v==="functional"&&(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.bug"}),name:"bug",rules:[{required:!0,message:d({id:"ws.result.details.bug.empty"}),validator:function(Y,he,se){return he.trim()?Promise.resolve():Promise.reject(d({id:"ws.result.details.bug.empty"}))}}],children:(0,e.jsx)(tt.Z,{placeholder:d({id:"ws.result.details.bug.placeholder"}),autoComplete:"off"})}),v==="performance"&&(0,e.jsx)("div",{onMouseDown:function(Y){return Y.preventDefault()},children:(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_id"}),name:"baseline_id",rules:[{required:!0,message:d({id:"ws.result.details.baseline_id.empty"})}],children:(0,e.jsx)(it.Z,{listHeight:160,mode:"multiple",getPopupContainer:function(Y){return Y.parentNode},onSearch:Ee,ref:le,defaultActiveFirstOption:!1,filterOption:function(Y,he){return he.name.indexOf(Y)>=0},loading:V,placeholder:d({id:"ws.result.details.baseline_id.placeholder"}),dropdownStyle:{padding:0,margin:0},onSelect:function(Y){return h.setFieldsValue({baseline_id:Y})},dropdownRender:function(Y){return(0,e.jsxs)(e.Fragment,{children:[Y,ae&&!!ae.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ht.Z,{style:{margin:"8px 0"}}),c&&(0,e.jsx)("div",{style:{display:"inline-block",flexWrap:"nowrap",width:"100%",padding:"0 0 8px 8px"},onClick:K,children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(_n.Z,{style:{color:"#1890FF"}}),(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"})})]})})]})]})},options:ie.map(function(D){return{value:D.value,name:D.label,label:(0,e.jsx)(I.Z.Text,{ellipsis:{tooltip:D.label},children:(0,e.jsx)(xn(),{highlightStyle:{color:"#1890FF",padding:0,background:"unset"},searchWords:[_],autoEscape:!0,textToHighlight:D.label})})}})})})}),v==="functional"&&(0,e.jsx)("div",{onMouseDown:function(Y){return Y.preventDefault()},children:(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_id"}),name:"baseline_id",rules:[{required:!0,message:d({id:"ws.result.details.baseline_id.empty"})}],children:(0,e.jsx)(it.Z,{placeholder:d({id:"ws.result.details.baseline_id.placeholder"}),mode:"multiple",className:hn().select_baseline,allowClear:!0,optionLabelProp:"label",ref:we,listHeight:160,loading:V,getPopupContainer:function(Y){return Y.parentNode},onSearch:bt,filterOption:function(Y,he){return he.name.indexOf(Y)>=0},dropdownRender:function(Y){return(0,e.jsxs)(e.Fragment,{children:[Y,_&&!!_.length&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ht.Z,{style:{margin:"8px 0"}}),c&&(0,e.jsx)("div",{style:{display:"inline-block",flexWrap:"nowrap",width:"100%",padding:"0 0 8px 8px"},onClick:oe,children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(_n.Z,{style:{color:"#1890FF"}}),(0,e.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.create.baseline"})})]})})]})]})},options:ne.map(function(D){return{value:D.value,name:D.label,label:(0,e.jsx)(I.Z.Text,{ellipsis:{tooltip:D.label},children:(0,e.jsx)(xn(),{highlightStyle:{color:"#1890FF",padding:0,background:"unset"},searchWords:[_],autoEscape:!0,textToHighlight:D.label})})}})})})}),v==="functional"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.impact_result"}),name:"impact_result",initialValue:!0,children:(0,e.jsxs)(Ue.ZP.Group,{children:[(0,e.jsx)(Ue.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(Ue.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.description"}),name:"description",children:(0,e.jsx)(tt.Z.TextArea,{rows:4,placeholder:d({id:"ws.result.details.description.placeholder"})})})]})]})}),(0,e.jsx)(ws,{ref:pe})]})},gn=(0,i.forwardRef)(Ss),ft=o(41428),On=o(2514),Ts=function(t,a){var s=(0,n.YB)(),d=s.formatMessage,u=(0,Re.UO)(),x=u.ws_id,v=(0,i.useState)(!1),y=(0,C.Z)(v,2),c=y[0],S=y[1],j=(0,i.useState)({suite_name:"",conf_name:""}),h=(0,C.Z)(j,2),p=h[0],Z=h[1],b=(0,i.useState)(!1),g=(0,C.Z)(b,2),P=g[0],T=g[1],w=me.Z.useForm(),F=(0,C.Z)(w,1),O=F[0];(0,i.useImperativeHandle)(a,function(){return{show:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;S(!0),W!==!1&&(Z(W),O.setFieldsValue({note:W.note}))}}});var R=function(){S(!1),Z({suite_name:"",conf_name:""}),T(!1),O.resetFields()},q=function(){P||O.validateFields().then(function(){var W=(0,Ze.Z)((0,X.Z)().mark(function V(G){var z,k,ne,Q;return(0,X.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return T(!0),console.log(G,p),z=(0,f.Z)({},G),z.editor_obj=p.editor_obj,z.ws_id=x,p.editor_obj==="job"&&(z.job_id=p.job_id),p.editor_obj==="test_job_suite"&&(z.test_job_suite_id=p.job_suite_id),p.editor_obj==="test_job_conf"&&(z.test_job_conf_id=p.id),p.editor_obj==="test_job_case"&&(z.test_job_case_id=p.id),B.next=11,(0,Ce.tV)(z);case 11:if(k=B.sent,ne=k.msg,Q=k.code,Q!==200){B.next=19;break}return t.onOk(),R(),He.default.success(d({id:"operation.success"})),B.abrupt("return");case 19:return T(!1),B.abrupt("return",(0,U.EV)(Q,ne));case 21:case"end":return B.stop()}},V)}));return function(V){return W.apply(this,arguments)}}()).catch(console.log)},$=function(W,V){return V&&(0,e.jsx)(H.Z,{span:24,children:(0,e.jsxs)(fe.Z,{children:[(0,e.jsx)(I.Z.Text,{style:{width:70,fontWeight:600,marginRight:8},children:W}),(0,e.jsx)(I.Z.Paragraph,{style:{width:"calc( 100% - 70px - 8px)"},ellipsis:!0,children:V})]})})};return(0,e.jsxs)(pn.Z,{maskClosable:!1,keyboard:!1,width:"376",title:(0,e.jsx)(n._H,{id:"ws.result.details.edit.remarks"}),visible:c,onClose:R,bodyStyle:{padding:0},footer:(0,e.jsx)("div",{style:{textAlign:"right"},children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(ke.Z,{onClick:R,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{type:"primary",onClick:q,children:(0,e.jsx)(n._H,{id:"operation.update"})})]})}),children:[(p.suite_name||p.conf_name)&&(0,e.jsxs)(fe.Z,{style:{marginBottom:10,background:"#fff",padding:20,borderBottom:"10px solid #f0f2f5"},children:[$("Test Suite",p.suite_name),$("Test Conf",p.conf_name),$("Test Case",p.case_name)]}),(0,e.jsx)(me.Z,{form:O,layout:"vertical",style:{background:"#fff",padding:20,height:"calc( 100% - 94px )"},children:(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),name:"note",children:(0,e.jsx)(tt.Z.TextArea,{rows:8,placeholder:d({id:"ws.result.details.please.enter.remarks"})})})})]})},Vt=(0,i.forwardRef)(Ts),jn=o(80873),Fn=o(20905),de=o(78358),ks=o(6547),ge=o.n(ks),$e=o(79390),Qe=o(6130),Rs=function(r){var t=(0,n.YB)(),a=t.formatMessage,s=(0,Re.UO)(),d=s.ws_id,u=s.id,x=(0,n.md)(),v=r.test_case_id,y=r.suite_id,c=r.testType,S=r.creator,j=r.server_provider,h=r.state,p=h===void 0?"":h,Z=r.suite_name,b=r.conf_name,g=r.refreshId,P=r.setRefreshId,T=(0,i.useRef)(null),w=(0,i.useRef)(null),F=(0,i.useRef)(null),O={job_id:u,case_id:v,suite_id:y,ws_id:d,sub_case_name:void 0,sub_case_result:void 0,page_size:10,page_num:1},R=i.useState(O),q=(0,C.Z)(R,2),$=q[0],E=q[1],W=(0,n.QT)(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$;return(0,Ce._x)(l)},{initialData:[],refreshDeps:[$],debounceInterval:200,formatResult:function(A){return A}}),V=W.data,G=W.refresh,z=W.loading,k=function(A,_){_==null||_(),E(function(m){return(0,f.Z)((0,f.Z)({},m),{},{sub_case_name:A[0],page_num:1,page_size:10})})},ne=function(A){A()},Q=function(A){return{filterDropdown:function(m){var M=m.setSelectedKeys,ee=m.selectedKeys,ae=m.confirm,J=m.clearFilters;return(0,e.jsxs)("div",{style:{padding:8},children:[(0,e.jsx)(tt.Z,{ref:F,placeholder:"".concat(a({id:"operation.search"})," ").concat(A),value:ee[0],onChange:function(we){return M(we.target.value?[we.target.value]:[])},onPressEnter:function(){return k(ee,ae)},style:{width:188,marginBottom:8,display:"block"}}),(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(ke.Z,{type:"primary",onClick:function(){return k(ee,ae)},icon:(0,e.jsx)(On.Z,{}),size:"small",style:{width:90},children:(0,e.jsx)(n._H,{id:"operation.search"})}),(0,e.jsx)(ke.Z,{onClick:function(){return ne(J)},size:"small",style:{width:90},children:(0,e.jsx)(n._H,{id:"operation.reset"})})]})]})},filterIcon:function(m){return(0,e.jsx)(On.Z,{style:{color:m?"#1890ff":void 0}})},onFilterDropdownVisibleChange:function(m){m&&setTimeout(function(){return F.current.select()},100)},render:function(m){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:m},children:(0,e.jsx)(xn(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[$==null?void 0:$.sub_case_name],autoEscape:!0,textToHighlight:m?m.toString():""})})}}},_e=function(A){return new Map([["success",1],["fail",2],["skip",5],["warn",6]]).get(A)||void 0};(0,i.useEffect)(function(){g===v&&(E(function(l){return(0,f.Z)((0,f.Z)({},l),{},{sub_case_result:_e(p)})}),setTimeout(function(){P(null)},300)),g||E(function(l){return(0,f.Z)((0,f.Z)({},l),{},{sub_case_result:_e(p)})})},[p]);var B=function(A){T.current.show((0,f.Z)((0,f.Z)({},A),{},{editor_obj:"test_job_case",case_name:A.sub_case_name,suite_name:Z,conf_name:b}))},ie=function(A){w.current.show((0,f.Z)((0,f.Z)({},A),{},{suite_id:y,job_id:u,test_case_id:v}))},te=[(0,f.Z)((0,f.Z)({dataIndex:"sub_case_name",title:"Test Case",fixed:"left",width:400},(0,de.yQ)()),Q("Test Case")),{dataIndex:"result",title:(0,e.jsx)(jn.f,{placement:"bottomLeft",title:a({id:"ws.result.details.test.result"}),desc:a({id:"ws.result.details.test.result.view.log.file"})}),width:150,ellipsis:!0,render:function(A){var _="";return A==="Fail"&&(_="#C84C5A"),A==="Pass"&&(_="#81BF84"),A==="Warning"&&(_="#dcc506"),A==="Stop"&&(_="#1D1D1D"),(0,e.jsx)("span",{style:{color:_},children:A})}},{dataIndex:"description",width:180,title:(0,e.jsx)(jn.f,{placement:"bottomLeft",title:a({id:"ws.result.details.baseline.description"}),desc:a({id:"ws.result.details.baseline.description.ps"})}),ellipsis:!0,render:function(A,_){var m=_.description,M=a({id:"ws.result.details.match.baseline"});return _.match_baseline&&_.result==="Fail"&&(m=A?"".concat(A,"(").concat(M,")"):M),m?x.IsWsSetting()?(0,e.jsx)(Le.Z,{placement:"topLeft",title:m,children:(0,e.jsx)(I.Z.Link,{className:ge().hrefUrl,onClick:function(){if(_.skip_baseline_info){var ae=["performance","\u6027\u80FD\u6D4B\u8BD5"].includes(c)?"performance":"functional";(0,U.N1)("/ws/".concat(d,"/baseline/").concat(ae,"?").concat(Fn.stringify(_.skip_baseline_info)))}},children:m||"-"})}):(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:m||"-"}):"-"}},{dataIndex:"bug",title:["business_functional"].includes(c)?(0,e.jsx)(n._H,{id:"ws.result.details.aone.bug"}):(0,e.jsx)(n._H,{id:"ws.result.details.bug"}),width:180,ellipsis:!0,render:function(A,_){var m=_.bug,M="";if(m){M=m;var ee=/^((ht|f)tps?):\/\/[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/;ee.test(m)||(M="".concat(window.origin,"/ws/").concat(d,"404?page=").concat(location.href))}return m?(0,e.jsx)(Le.Z,{placement:"topLeft",title:A,children:(0,e.jsx)(I.Z.Link,{href:M,className:ge().hrefUrl,target:"_blank",children:m})}):"-"}},(0,f.Z)({dataIndex:"note",width:180,title:(0,e.jsx)(jn.f,{placement:"bottomLeft",title:a({id:"ws.result.details.result.remarks"}),desc:a({id:"ws.result.details.result.remarks.ps"})})},(0,de.yQ)()),{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),fixed:"right",width:200,render:function(A){var _=A.result==="Fail"&&!A.bug;return(0,e.jsx)(n.Nv,{accessible:x.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:x.WsMemberOperateSelf(S),fallback:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return(0,U.WR)()},children:(0,e.jsx)(n._H,{id:"operation.edit"})}),_&&(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return(0,U.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return B(A)},children:(0,e.jsx)(n._H,{id:"operation.edit"})}),_&&(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return ie(A)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)($e.sL,{name:"wsResultTableCaseList",refreshDeps:[x,c],rowKey:"id",size:"small",loading:z,className:"".concat(ge().result_info_table_head," ").concat(V!=null&&V.length?"":ge().result_info_table_head_line),pagination:{pageSize:V.page_size||10,current:V.page_num||1,total:V.total||0,showQuickJumper:!0,showSizeChanger:!0,onChange:function(A,_){E(function(m){return(0,f.Z)((0,f.Z)({},m),{},{page_num:m.page_size===_?A:1,page_size:_})})},showTotal:function(A){return a({id:"pagination.total.strip"},{data:A})}},columns:te,rowClassName:ge().result_info_table_row,dataSource:V.data||[]}),(0,e.jsx)(Vt,{ref:T,onOk:G}),(0,e.jsx)(gn,{ref:w,onOk:G,test_type:c,ws_id:d,server_provider:j,accessible:x.IsWsSetting()})]})},ni=o(64510),Rt=o(87445),si=o(68501),Es=o(98501),In=o(24336),Os=function(t){return(0,e.jsx)(e.Fragment,{children:t.items.length>0?(0,e.jsx)("span",{className:ge().dir_icon}):(0,e.jsx)("span",{className:ge().file_icon})})},Fs=function(r){var t=r.test_case_id,a=r.suite_id,s=(0,n.YB)(),d=s.formatMessage,u=(0,Re.UO)(),x=u.id,v=function(){var p=(0,Ze.Z)((0,X.Z)().mark(function Z(b,g){var P,T;return(0,X.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return P={},g=="download"&&(P={path:b.path,job_id:x,download:"1"}),g=="look"&&(P={path:b.path,job_id:x}),F.next=5,(0,n.WY)("/api/get/oss/url/",{params:P});case 5:T=F.sent,T&&(T.code===200&&T.msg==="ok"?window.open(T.data):He.default.warn("".concat(d(g==="download"?{id:"ws.result.details.failed.download.file"}:{id:"ws.result.details.failed.get.file"}))));case 7:case"end":return F.stop()}},Z)}));return function(b,g){return p.apply(this,arguments)}}(),y=function(Z){return(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{onClick:function(){return v(Z,"look")},children:Z.name}),!Z.items.length&&(0,e.jsx)(In.Z,{onClick:function(){return v(Z,"download")}})]})},c=function p(Z,b){return Z.map(function(g,P){return(0,f.Z)((0,f.Z)({},g),{},{title:y(g),key:"".concat(b,"-").concat(P),icon:function(w){return(0,e.jsx)(Os,(0,f.Z)({},w))},children:g.items&&g.items.length>0?p(g.items,"".concat(b,"-").concat(P)):[]})})},S=(0,n.QT)(function(){return(0,Ce.XJ)({job_id:x,case_id:t,suite_id:a})},{initialData:[],formatResult:function(Z){return Z.code===200?c(Z.data,0):[]}}),j=S.data,h=S.loading;return(0,e.jsx)("div",{style:{minHeight:50},children:(0,e.jsx)(De.Z,{spinning:h,children:j.length>0?(0,e.jsx)(Es.Z,{style:{padding:20},treeData:j,showIcon:!0}):(0,e.jsx)(Rt.Z,{image:Rt.Z.PRESENTED_IMAGE_SIMPLE})})})},Is=function(r){var t=r.test_case_id,a=r.suite_id,s=(0,Re.UO)(),d=s.id,u={kernel_version:"",rpm_info:[]},x=(0,n.QT)(function(){return(0,Ce.yH)({job_id:d,case_id:t,suite_id:a})},{initialData:u,formatResult:function(S){if(S.code===200){var j=(0,C.Z)(S.data,1),h=j[0],p=h.kernel_version,Z=h.rpm_info;return Z&&Z!=="{}"?{kernel_version:p,rpm_info:JSON.parse(Z)}:{kernel_version:p,rpm_info:[]}}return u}}),v=x.data,y=x.loading;return(0,e.jsx)("div",{style:{background:"#fff",padding:20},children:(0,e.jsxs)(De.Z,{spinning:y,children:[(0,e.jsx)(fe.Z,{children:v.kernel_version&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("b",{style:{marginRight:16},children:[(0,e.jsx)(n._H,{id:"ws.result.details.installed.kernel"}),"\xA0"]}),(0,e.jsx)("span",{children:v.kernel_version})]})}),v.rpm_info.map(function(c,S){return(0,e.jsxs)(fe.Z,{children:[(0,e.jsx)("b",{style:{marginRight:16},children:(0,e.jsx)(n._H,{id:"ws.result.details.installed.rpm"})}),(0,e.jsx)("span",{children:c.rpm})]},S)}),!v.kernel_version&&v.rpm_info.length===0&&(0,e.jsx)(Rt.Z,{image:Rt.Z.PRESENTED_IMAGE_SIMPLE})]})})},Ps=function(){return(0,e.jsx)(Rt.Z,{image:Rt.Z.PRESENTED_IMAGE_SIMPLE})},Pn=o(79638),Ds=function(r){var t=r.test_case_id,a=r.suite_id,s=r.state,d=r.refreshId,u=r.setRefreshId,x=r.testType,v=(0,n.YB)(),y=v.formatMessage,c=(0,Re.UO)(),S=c.id,j=c.ws_id,h=(0,n.QT)(function(){return(0,Ce.Zx)({ws_id:j,job_id:S,case_id:t,suite_id:a,compare_result:s})},{manual:!0}),p=h.data,Z=p===void 0?[]:p,b=h.run,g=h.loading,P=(0,n.md)();(0,i.useEffect)(function(){d&&d===t&&(b(),setTimeout(function(){u(null)},300)),d||b()},[s]);var T=y({id:"ws.result.details.threshold"}),w=[{title:(0,e.jsx)(n._H,{id:"ws.result.details.metric"}),dataIndex:"metric",ellipsis:{shwoTitle:!1},render:function(O){return O?(0,e.jsx)(Le.Z,{placement:"topLeft",title:O,children:O}):"-"}},{title:(0,e.jsx)(de.fD,{placement:"bottomLeft",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.result"}),desc:(0,e.jsx)(n._H,{id:"ws.result.details.test.result.view.log.file"})}),dataIndex:"test_value",ellipsis:{shwoTitle:!1},width:120,render:function(O,R){return(0,e.jsx)(de.QN,(0,f.Z)((0,f.Z)({},R),{},{title:y({id:"ws.result.details.compared.results"})}))}},{title:(0,e.jsx)(de.fD,{title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_value"}),desc:"AVG \xB1 CV"}),dataIndex:"baseline_value",width:120,ellipsis:{shwoTitle:!1},render:function(O,R){return O&&R.baseline_cv_value?(0,e.jsx)(n.Nv,{accessible:P.IsWsSetting(),children:(0,e.jsx)("span",{className:ge().hrefUrl,onClick:function(){if(R.skip_baseline_info){var $=["performance","\u6027\u80FD\u6D4B\u8BD5"].includes(x)?"performance":"functional";(0,U.N1)("/ws/".concat(j,"/baseline/").concat($,"?").concat(Fn.stringify(R.skip_baseline_info)))}},children:(0,e.jsx)(Pn.Z,{title:"".concat(O,"\xB1").concat(R.baseline_cv_value)})})}):"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.compared.results"}),dataIndex:"compare_result",width:120,ellipsis:!0,render:function(O,R){return O?(0,e.jsx)("span",{style:{color:(0,de.YV)(R.compare_result)},children:O}):"-"}},{title:(0,e.jsx)(de.fD,{title:T,desc:"AVG ".concat(T," / CV ").concat(T)}),dataIndex:"threshold",width:120,ellipsis:{shwoTitle:!1},render:function(O){return O?(0,e.jsx)(Pn.Z,{title:O}):"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.track_result"}),width:120,dataIndex:"track_result",ellipsis:!0,render:function(O,R){return(0,de.Nq)(R.track_result,R.result,y)}}];return(0,e.jsx)($e.sL,{name:"ws-result-metric-list",rowKey:"id",loading:g,pagination:!1,size:"small",className:"".concat(ge().result_info_table_head," ").concat(Z!=null&&Z.length?"":ge().result_info_table_head_line),rowClassName:ge().result_info_table_row,dataSource:Z,columns:w,refreshDeps:[j,T,P]})},vt=o(97939),Dn,Hs=(0,vt.ZP)(ce.Z)(Dn||(Dn=(0,ft.Z)([`
    .ant-tabs-nav {
        margin: 0;
    }
`]))),Bs=function(t){var a=t.testType,s=a===void 0?"functional":a,d=t.result_data,u=d===void 0?{}:d,x=u.ci_detail,v=u.result,y=x?JSON.parse(x):{},c=i.useState("1"),S=(0,C.Z)(c,2),j=S[0],h=S[1],p=function(g){switch(g){case"success":return(0,e.jsx)("span",{style:{color:"#81BF84"},children:"Complete"});case"fail":return(0,e.jsx)("span",{style:{color:"#C84C5A"},children:"Fail"});default:return(0,U.CB)(g)?(0,e.jsx)("a",{href:g,children:g}):(0,e.jsx)("span",{style:{opacity:.65},children:g})}},Z=function(g){var P=g.label,T=g.value;return(0,e.jsxs)("div",{style:{display:"flex"},children:[(0,e.jsx)("div",{style:{opacity:.85,width:124,fontFamily:"PingFangSC-Medium",fontSize:14},children:P}),p(T)]})};return(0,e.jsxs)("div",{style:{paddingLeft:40,paddingRight:0,background:"#FBFBFB",width:"100%"},children:[(0,e.jsxs)(Hs,{defaultActiveKey:"1",onTabClick:function(g){return h(g)},activeKey:j,children:[(0,e.jsx)(ce.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.testResult"})},"1"),["performance","business_performance"].includes(s)&&(0,e.jsx)(ce.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.monitor"})},"2"),(0,e.jsx)(ce.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.log"})},"3"),(0,e.jsx)(ce.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.versionInfo"})},"4"),["business_business"].includes(s)&&(0,e.jsx)(ce.Z.TabPane,{tab:(0,e.jsx)(n._H,{id:"ws.result.details.tab.executionDetails"})},"5")]}),j==="1"&&(0,e.jsxs)(e.Fragment,{children:[["performance","business_performance"].includes(s)&&(0,e.jsx)(Ds,(0,f.Z)({},t)),["functional","business_functional"].includes(s)&&(0,e.jsx)(Rs,(0,f.Z)({},t)),["business_business"].includes(s)&&(0,e.jsx)("div",{style:{background:"#fff",padding:"16px 24px"},children:(0,e.jsx)(Z,{label:"Test Result",value:v||"-"})})]}),j==="2"&&(0,e.jsx)(Ps,(0,f.Z)({},t)),j==="3"&&(0,e.jsx)(Fs,(0,f.Z)({},t)),j==="4"&&(0,e.jsx)(Is,(0,f.Z)({},t)),j==="5"&&(0,e.jsxs)("div",{style:{background:"#fff",padding:"16px 24px"},children:[(0,e.jsx)(Z,{label:"CI type",value:y.ci_system||"-"}),(0,e.jsx)(Z,{label:"Build ID",value:y.build_id||"-"}),(0,e.jsx)(Z,{label:"CI Project",value:y.ci_project||"-"})]})]})},Ms=Bs,Hn,Ls=["svgRef","title"];function Yt(){return Yt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Yt.apply(this,arguments)}function As(r,t){if(r==null)return{};var a=Ns(r,t),s,d;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(d=0;d<u.length;d++)s=u[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function Ns(r,t){if(r==null)return{};var a={},s=Object.keys(r),d,u;for(u=0;u<s.length;u++)d=s[u],!(t.indexOf(d)>=0)&&(a[d]=r[d]);return a}var Ws=function(t){var a=t.svgRef,s=t.title,d=As(t,Ls);return i.createElement("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:a},d),s?i.createElement("title",null,s):null,Hn||(Hn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"C_Success",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u6210\\u529F",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M12.3752188,6.09965625 L7.1603125,11.3145312 C7.03828125,11.4365625 6.84040625,11.4365625 6.718375,11.3145312 L3.62478125,8.2209375 C3.50275,8.0989375 3.50275,7.9010625 3.62478125,7.77903125 L4.5970625,6.80678125 C4.71909375,6.68471875 4.91696875,6.68475 5.039,6.80678125 L6.939375,8.70709375 L10.9610625,4.6854375 C11.0830938,4.56340625 11.2809375,4.56340625 11.403,4.6854375 L12.37525,5.65771875 C12.49725,5.77975 12.4972813,5.977625 12.3752188,6.09965625 Z",id:"Shape",fill:"#81BF84"}))))))},$s=i.forwardRef(function(r,t){return i.createElement(Ws,Yt({svgRef:t},r))}),ri=o.p+"static/success.3e2910b0.svg",Bn,Ks=["svgRef","title"];function Jt(){return Jt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Jt.apply(this,arguments)}function Us(r,t){if(r==null)return{};var a=zs(r,t),s,d;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(d=0;d<u.length;d++)s=u[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function zs(r,t){if(r==null)return{};var a={},s=Object.keys(r),d,u;for(u=0;u<s.length;u++)d=s[u],!(t.indexOf(d)>=0)&&(a[d]=r[d]);return a}var Vs=function(t){var a=t.svgRef,s=t.title,d=Us(t,Ks);return i.createElement("svg",Jt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:a},d),s?i.createElement("title",null,s):null,Bn||(Bn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"C_FAIL",transform:"translate(-4.000000, -5.000000)"},i.createElement("g",{id:"\\u5931\\u8D25",transform:"translate(4.000000, 5.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("polygon",{id:"Shape",fill:"#C84C5A",points:"10.8533334 12.1066666 7.94666667 9.36 5.22666667 12.2666666 3.78666667 10.9066666 6.50666667 8 3.94666667 5.57333333 5.30666667 4.13333333 7.86666667 6.56 10.2933334 4 11.7333334 5.36 9.33333336 7.92 12.2133334 10.6666666"}))))))},Ys=i.forwardRef(function(r,t){return i.createElement(Vs,Jt({svgRef:t},r))}),ai=o.p+"static/fail.a6f9ef08.svg",Mn,Js=["svgRef","title"];function Qt(){return Qt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Qt.apply(this,arguments)}function Qs(r,t){if(r==null)return{};var a=Gs(r,t),s,d;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(d=0;d<u.length;d++)s=u[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function Gs(r,t){if(r==null)return{};var a={},s=Object.keys(r),d,u;for(u=0;u<s.length;u++)d=s[u],!(t.indexOf(d)>=0)&&(a[d]=r[d]);return a}var Xs=function(t){var a=t.svgRef,s=t.title,d=Qs(t,Js);return i.createElement("svg",Qt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:a},d),s?i.createElement("title",null,s):null,Mn||(Mn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"C_NA",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u5FFD\\u7565",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("polygon",{id:"Shape",fill:"#6A737D",points:"4.56852792 6.85279187 11.4213198 6.85279187 11.4213198 9.13705584 4.56852792 9.13705584"}))))))},qs=i.forwardRef(function(r,t){return i.createElement(Xs,Qt({svgRef:t},r))}),ii=o.p+"static/skip.179f2809.svg",Ln=o(75841),er=function(t,a){var s=(0,n.YB)(),d=s.formatMessage,u=(0,Re.UO)(),x=u.ws_id,v=t.test_type,y=t.onOk,c=(0,i.useState)(!1),S=(0,C.Z)(c,2),j=S[0],h=S[1],p=(0,i.useState)(!1),Z=(0,C.Z)(p,2),b=Z[0],g=Z[1],P=me.Z.useForm(),T=(0,C.Z)(P,1),w=T[0],F=(0,i.useState)(),O=(0,C.Z)(F,2),R=O[0],q=O[1],$=(0,n.QT)(function(){return(0,Ln.bU)({ws_id:x,test_type:v,page_size:999})},{initialData:[],manual:!0}),E=$.data,W=$.loading,V=$.run;(0,i.useImperativeHandle)(a,function(){return{show:function(ne){V(),q(ne),h(!0)}}});var G=function(){h(!1),g(!1),q(null),w.resetFields()},z=function(){b||(g(!0),w.validateFields().then(function(){var ne=(0,Ze.Z)((0,X.Z)().mark(function Q(_e){var B,ie,te,l,A,_,m,M,ee;return(0,X.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return console.log(R),B=R.job_id,ie=R.suite_id,te=R.test_case_id,l=R.suite_data,A=R.suite_list,_={},ie&&te&&(_={suite_data:[{suite_id:ie,case_list:[te]}]}),ie&&!te&&(_={suite_list:[ie]}),l&&l.length>0&&(_={suite_data:l}),A&&A.length>0&&(_={suite_list:A}),J.next=9,(0,Ce.sG)((0,f.Z)((0,f.Z)({ws_id:x,job_id:B},_),_e));case 9:if(m=J.sent,M=m.code,ee=m.msg,M===200){J.next=16;break}return(0,U.EV)(M,ee),g(!1),J.abrupt("return");case 16:G(),y(),g(!1);case 19:case"end":return J.stop()}},Q)}));return function(Q){return ne.apply(this,arguments)}}()).catch(function(ne){console.log(ne),g(!1)}))};return(0,e.jsx)(pn.Z,{maskClosable:!1,keyboard:!1,visible:j,destroyOnClose:!0,title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),onClose:G,width:"376",footer:(0,e.jsx)(fe.Z,{justify:"end",children:(0,e.jsxs)(re.Z,{align:"end",children:[(0,e.jsx)(ke.Z,{onClick:G,children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{type:"primary",onClick:z,disabled:b,children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})}),children:(0,e.jsx)(me.Z,{form:w,requiredMark:!1,layout:"vertical",children:(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),name:"baseline_id",rules:[{required:!0,message:d({id:"ws.result.details.baseline.message"})}],children:(0,e.jsx)(it.Z,{placeholder:d({id:"ws.result.details.baseline.placeholder"}),showSearch:!0,allowClear:!0,loading:W,filterOption:function(ne,Q){var _e,B;return(_e=(B=Q==null?void 0:Q.name)!==null&&B!==void 0?B:"")===null||_e===void 0?void 0:_e.toLowerCase().includes(ne.toLowerCase())},options:E==null?void 0:E.map(function(k){return{value:k.id,name:k.name,label:(0,e.jsx)(I.Z.Text,{ellipsis:{tooltip:!0},children:k.name})}})})})})})},An=(0,i.forwardRef)(er),tr=o(2368),nr=o.n(tr),sr=function(t){var a=t.suite_id,s=t.testType,d=t.suite_name,u=t.server_provider,x=t.provider_name,v=t.creator,y=t.expandedState,c=t.expandedCaseRowKeys,S=t.suiteSelect,j=S===void 0?[]:S,h=t.onCaseSelect,p=t.openAllRows,Z=p===void 0?!1:p,b=t.setIndexExpandFlag,g=t.parentTableName,P=t.columnsChange,T=(0,n.Kd)()==="en-US",w=(0,Re.UO)(),F=w.id,O="url(".concat(nr(),") center center / 38.6px 32px "),R=(0,i.useState)([]),q=(0,C.Z)(R,2),$=q[0],E=q[1],W=(0,i.useState)([]),V=(0,C.Z)(W,2),G=V[0],z=V[1],k=(0,n.md)(),ne=(0,i.useState)(y),Q=(0,C.Z)(ne,2),_e=Q[0],B=Q[1],ie=(0,i.useState)(null),te=(0,C.Z)(ie,2),l=te[0],A=te[1],_=(0,n.QT)(function(){return(0,Ce.Q7)({job_id:F,suite_id:a,state:y})},{initialData:[],manual:!0}),m=_.data,M=_.loading,ee=_.refresh,ae=_.run;(0,i.useEffect)(function(){ae(),B(y)},[y]);var J=function(K){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";z(Array.from(new Set(G.concat(K)))),A(K),B(D)},pe=(0,i.useRef)(null),we=(0,i.useRef)(null),le=(0,i.useRef)(null),Pe=!!m.length&&m[0].baseline,Ye=!!m.length&&m[0].baseline_job_id,Ge=function(K){le.current.show((0,f.Z)((0,f.Z)({},K),{},{suite_id:a,job_id:F}))},nt=function(K){we.current.show((0,f.Z)((0,f.Z)({},K),{},{suite_id:a,job_id:F}))},gt=i.useMemo(function(){return[(0,f.Z)({title:"Test Suite",dataIndex:"conf_name",width:(0,$e.ny)(g,"suite_name")-32||228},(0,de.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_type"}),dataIndex:"test_type",width:(0,$e.ny)(g,"test_type")||100,render:function(K){return(0,e.jsx)("span",{children:K||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),dataIndex:"server_ip",width:130,ellipsis:{showHeader:!1},render:function(K,D){return(0,e.jsx)(Dt.Z,{val:K,param:D.server_id,provider:x,description:D.server_description})}},["functional","business_functional","business_business"].includes(s)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.result"}),width:80,render:function(K){var D=K.result_data.result;return D==="success"?(0,e.jsx)($s,{style:{width:16,height:16}}):D==="fail"?(0,e.jsx)(Ys,{style:{width:16,height:16}}):D==="NA"?(0,e.jsx)(qs,{style:{width:16,height:16}}):D==="-"?D:""}},{width:["functional","business_functional","business_business"].includes(s)?255:302,render:function(K){return["functional","business_functional","business_business"].includes(s)?(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"")},className:ge().column_circle_text,style:{fontWeight:600,color:"#649FF6"},children:K.result_data.case_count}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"success")},className:ge().column_circle_text,style:{fontWeight:600,color:"#81BF84"},children:K.result_data.case_success}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"fail")},className:ge().column_circle_text,style:{fontWeight:600,color:"#C84C5A"},children:K.result_data.case_fail}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"warn")},className:ge().column_circle_text,style:{fontWeight:600,color:"#dcc506"},children:K.result_data.case_warn}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"skip")},className:ge().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:K.result_data.case_skip})]}):(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"")},className:ge().column_circle_text,style:{fontWeight:600,color:"#649FF6"},children:K.result_data.count}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"increase")},className:ge().column_circle_text,style:{fontWeight:600,color:"#81BF84"},children:K.result_data.increase}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"decline")},className:ge().column_circle_text,style:{fontWeight:600,color:"#C84C5A"},children:K.result_data.decline}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"normal")},className:ge().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:K.result_data.normal}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"invalid")},className:ge().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:K.result_data.invalid}),(0,e.jsx)("span",{onClick:function(){return J(K.test_case_id,"na")},className:ge().column_circle_text,style:{fontWeight:600,color:"rgba(0,0,0.65)"},children:K.result_data.na})]})}},["performance","business_performance"].includes(s)&&Pe&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),dataIndex:"baseline",width:80},(0,de.yQ)()),["performance","business_performance"].includes(s)&&Ye&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_job_id"}),dataIndex:"baseline_job_id",width:80},(0,de.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),dataIndex:"start_time",width:(0,$e.ny)(g,"start_time")||160},(0,de.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),dataIndex:"end_time",width:(0,$e.ny)(g,"end_time")||160},(0,de.yQ)()),k.WsTourist()&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.note"}),dataIndex:"note",width:120,ellipsis:{showTitle:!1},render:function(K,D){return(0,e.jsx)(de.Pc,{title:K,width:120,access:k.WsMemberOperateSelf(v),onEdit:function(){return pe.current.show((0,f.Z)((0,f.Z)({},D),{},{suite_name:D.suite_name,editor_obj:"test_job_conf"}))}})}},["performance","business_performance"].includes(s)&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:T?180:145,fixed:"right",render:function(K){return(0,e.jsx)(n.Nv,{accessible:k.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:k.WsMemberOperateSelf(v),fallback:(0,e.jsxs)(re.Z,{onClick:function(){return(0,U.WR)()},children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return Ge(K)},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:{color:"#1890FF",cursor:"pointer"},onClick:function(){return nt(K)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}]},[s,v,k,Pe,Ye,P]).filter(Boolean),bt=["performance","business_performance"].includes(s)?{columnWidth:40,selectedRowKeys:$,onChange:function(K){E(K)}}:void 0;(0,i.useEffect)(function(){if(j.length){var oe=j.findIndex(function(K){return K===a});oe>-1&&E(m.map(function(K){return K.test_case_id}))}else E([])},[j]);var Ee=function(K,D){K?(b(!0),z(G.concat([D.test_case_id]))):(b(!1),z(G.filter(function(Y){return Y!==D.test_case_id})))};return(0,i.useEffect)(function(){h(a,$)},[$]),(0,i.useEffect)(function(){m.length&&c.includes(a)?z(m.map(function(oe){return oe.test_case_id})):z([])},[m,c]),(0,e.jsxs)("div",{style:{width:"100%"},children:[(0,e.jsxs)(fe.Z,{justify:"start",children:[!M&&(0,e.jsx)("div",{style:{width:32,background:O}}),(0,e.jsx)(kt.Z,{rowKey:"test_case_id",columns:gt,loading:M,showHeader:!1,dataSource:m,pagination:!1,scroll:{x:1300},size:"small",className:ge().resultCaseTableCls,style:{width:"calc(100% - 32px)"},rowSelection:bt,expandable:{defaultExpandAllRows:Z,expandedRowKeys:G,onExpand:Ee,expandedRowClassName:function(){return"expandedRowClassNameCls"},expandedRowRender:function(K){return(0,e.jsx)(Ms,(0,f.Z)((0,f.Z)({},K),{},{testType:s,server_provider:u,creator:v,suite_id:a,state:_e,suite_name:d,refreshId:l,setRefreshId:A}))},expandIcon:function(K){var D=K.expanded,Y=K.onExpand,he=K.record;return D?(0,e.jsx)(St.Z,{onClick:function(xe){return Y(he,xe)}}):(0,e.jsx)(Tt.Z,{onClick:function(xe){return Y(he,xe)}})}}})]}),(0,e.jsx)(gn,{ref:we,test_type:s,server_provider:u,onOk:ee,accessible:k.IsWsSetting()}),(0,e.jsx)(An,{ref:le,test_type:s,server_provider:u,onOk:ee}),(0,e.jsx)(Vt,{ref:pe,onOk:ee})]})},rr=sr,Bt=o(97207),_t=o.n(Bt),Nn,ar=["svgRef","title"];function Gt(){return Gt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Gt.apply(this,arguments)}function ir(r,t){if(r==null)return{};var a=lr(r,t),s,d;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(d=0;d<u.length;d++)s=u[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function lr(r,t){if(r==null)return{};var a={},s=Object.keys(r),d,u;for(u=0;u<s.length;u++)d=s[u],!(t.indexOf(d)>=0)&&(a[d]=r[d]);return a}var dr=function(t){var a=t.svgRef,s=t.title,d=ir(t,ar);return i.createElement("svg",Gt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:a},d),s?i.createElement("title",null,s):null,Nn||(Nn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"S_NA",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u5FFD\\u7565",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M7.99492386,0 C3.57947208,0 0,3.57945178 0,7.99492386 C0,12.4104163 3.57947208,15.9898477 7.99492386,15.9898477 C12.4103756,15.9898477 15.9898477,12.4103959 15.9898477,7.99492386 C15.9898477,3.57949239 12.4103756,0 7.99492386,0 Z M4.56852792,6.85279188 L11.4213198,6.85279188 L11.4213198,9.13705584 L4.56852792,9.13705584 L4.56852792,6.85279188 Z",id:"Shape",fill:"#6A737D"}))))))},or=i.forwardRef(function(r,t){return i.createElement(dr,Gt({svgRef:t},r))}),li=o.p+"static/skip.d363d9e8.svg",Wn,ur=["svgRef","title"];function Xt(){return Xt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},Xt.apply(this,arguments)}function cr(r,t){if(r==null)return{};var a=fr(r,t),s,d;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(d=0;d<u.length;d++)s=u[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function fr(r,t){if(r==null)return{};var a={},s=Object.keys(r),d,u;for(u=0;u<s.length;u++)d=s[u],!(t.indexOf(d)>=0)&&(a[d]=r[d]);return a}var vr=function(t){var a=t.svgRef,s=t.title,d=cr(t,ur);return i.createElement("svg",Xt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:a},d),s?i.createElement("title",null,s):null,Wn||(Wn=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"S_Success",transform:"translate(-4.000000, -4.000000)"},i.createElement("g",{id:"\\u6210\\u529F",transform:"translate(4.000000, 4.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M8,0 C3.58171875,0 0,3.58171875 0,8 C0,12.4182812 3.58171875,16 8,16 C12.4182812,16 16,12.4182812 16,8 C16,3.58171875 12.4182812,0 8,0 Z M12.3752188,6.09965625 L7.1603125,11.3145312 C7.03828125,11.4365625 6.84040625,11.4365625 6.718375,11.3145312 L3.62478125,8.2209375 C3.50275,8.0989375 3.50275,7.9010625 3.62478125,7.77903125 L4.5970625,6.80678125 C4.71909375,6.68471875 4.91696875,6.68475 5.039,6.80678125 L6.939375,8.70709375 L10.9610625,4.6854375 C11.0830937,4.56340625 11.2809375,4.56340625 11.403,4.6854375 L12.37525,5.65771875 C12.49725,5.77975 12.4972813,5.977625 12.3752188,6.09965625 Z",id:"Shape",fill:"#81BF84"}))))))},mr=i.forwardRef(function(r,t){return i.createElement(vr,Xt({svgRef:t},r))}),di=o.p+"static/success.f8d1ce1e.svg",$n,pr=["svgRef","title"];function qt(){return qt=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},qt.apply(this,arguments)}function hr(r,t){if(r==null)return{};var a=_r(r,t),s,d;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(d=0;d<u.length;d++)s=u[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function _r(r,t){if(r==null)return{};var a={},s=Object.keys(r),d,u;for(u=0;u<s.length;u++)d=s[u],!(t.indexOf(d)>=0)&&(a[d]=r[d]);return a}var xr=function(t){var a=t.svgRef,s=t.title,d=hr(t,pr);return i.createElement("svg",qt({width:"16px",height:"16px",viewBox:"0 0 16 16",ref:a},d),s?i.createElement("title",null,s):null,$n||($n=i.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("g",{id:"S_FAIL",transform:"translate(-4.000000, -5.000000)"},i.createElement("g",{id:"\\u5931\\u8D25",transform:"translate(4.000000, 5.000000)"},i.createElement("rect",{id:"Rectangle",fill:"#000000",fillRule:"nonzero",opacity:0,x:0,y:0,width:16,height:16}),i.createElement("path",{d:"M8,0 C3.57333333,0 0,3.57333333 0,8 C0,12.4266666 3.57333333,16 8,16 C12.4266666,16 16,12.4266666 16,8 C16,3.57333333 12.4266666,0 8,0 L8,0 Z M10.8533334,12.1066666 L7.94666667,9.36 L5.22666667,12.2666666 L3.78666667,10.9066666 L6.50666667,8 L3.94666667,5.57333333 L5.30666667,4.13333333 L7.86666667,6.56 L10.2933334,4 L11.7333334,5.36 L9.33333336,7.92 L12.2133334,10.6666666 L10.8533334,12.1066666 L10.8533334,12.1066666 Z",id:"Shape",fill:"#C84C5A"}))))))},gr=i.forwardRef(function(r,t){return i.createElement(xr,qt({svgRef:t},r))}),oi=o.p+"static/fail.ebebd89d.svg",pt=o(91959),jr=function(t){var a=(0,n.YB)(),s=a.formatMessage,d=(0,n.Kd)()==="en-US",u=[{key:"count",name:s({id:"ws.result.details.count"}),value:"",color:"#649FF6"},{key:"success",name:s({id:"ws.result.details.success"}),value:"success",color:"#81BF84"},{key:"fail",name:s({id:"ws.result.details.fail"}),value:"fail",color:"#C84C5A"},{key:"warn",name:s({id:"ws.result.details.warn"}),value:"warn",color:"#dcc506"},{key:"skip",name:s({id:"ws.result.details.skip"}),value:"skip",color:"#DDDDDD"}],x=[{key:"count",name:s({id:"ws.result.details.count"}),value:"",color:"#649FF6"},{key:"increase",name:s({id:"ws.result.details.increase"}),value:"increase",color:"#81BF84"},{key:"decline",name:s({id:"ws.result.details.decline"}),value:"decline",color:"#C84C5A"},{key:"normal",name:s({id:"ws.result.details.normal"}),value:"normal",color:"#DDDDDD"},{key:"invalid",name:s({id:"ws.result.details.invalid"}),value:"invalid",color:"#DDDDDD"},{key:"na",name:s({id:"ws.result.details.na"}),value:"na",color:"#DDDDDD"}],v=[{key:"count",name:s({id:"ws.result.details.business.count"}),value:"",color:"#649FF6"},{key:"success",name:s({id:"ws.result.details.business.success"}),value:"success",color:"#81BF84"},{key:"fail",name:s({id:"ws.result.details.business.fail"}),value:"fail",color:"#C84C5A"}],y=(0,Re.UO)(),c=y.id,S=y.ws_id,j=t.caseResult,h=j===void 0?{}:j,p=t.test_type,Z=p===void 0?"\u529F\u80FD":p,b=t.provider_name,g=b===void 0?"":b,P=t.creator,T=t.refreshResult,w=(0,U.SE)(Z),F=(0,i.useState)([]),O=(0,C.Z)(F,2),R=O[0],q=O[1],$=(0,i.useState)(!1),E=(0,C.Z)($,2),W=E[0],V=E[1],G=(0,i.useState)([]),z=(0,C.Z)(G,2),k=z[0],ne=z[1],Q=(0,i.useState)([]),_e=(0,C.Z)(Q,2),B=_e[0],ie=_e[1],te=i.useState([]),l=(0,C.Z)(te,2),A=l[0],_=l[1],m=(0,i.useRef)(null),M=(0,i.useRef)(null),ee=(0,i.useRef)(null),ae=(0,i.useState)([]),J=(0,C.Z)(ae,2),pe=J[0],we=J[1],le=(0,n.md)(),Pe=(0,i.useState)((0,pt.Z)()),Ye=(0,C.Z)(Pe,2),Ge=Ye[0],nt=Ye[1],gt=(0,i.useState)(!1),bt=(0,C.Z)(gt,2),Ee=bt[0],oe=bt[1],K=i.useState(""),D=(0,C.Z)(K,2),Y=D[0],he=D[1],se=i.useState(!0),xe=(0,C.Z)(se,2),je=xe[0],Oe=xe[1],lt=function(){var be=(0,Ze.Z)((0,X.Z)().mark(function L(){var ue,ye;return(0,X.Z)().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Oe(!0),Xe.next=3,(0,Ce.EF)({state:"",job_id:c});case 3:ue=Xe.sent,ye=ue.data,Oe(!1),we(Object.prototype.toString.call(ye)==="[object Array]"?ye:[]);case 7:case"end":return Xe.stop()}},L)}));return function(){return be.apply(this,arguments)}}();i.useEffect(function(){(c||T)&&lt()},[c,T]);var Fe=function(L,ue){ie(function(ye){return ye.concat(L.suite_id)}),_(function(ye){return ye.concat(L.suite_id)}),we(function(ye){return ye==null?void 0:ye.map(function(st){return st.suite_id===L.suite_id?(0,f.Z)((0,f.Z)({},st),{},{expandedState:ue}):st})})},Nt=function(L){M.current.show((0,f.Z)((0,f.Z)({},L),{},{job_id:c}))},an=function(){lt(),ne([]),q([]),nt((0,pt.Z)())},ln=function(L){m.current.show((0,f.Z)((0,f.Z)({},L),{},{job_id:c}))},Ft=function(L){var ue=L?pe.map(function(ye){var st=ye.suite_id;return st}):[];V(L),ie(ue),_(ue)},dn=["functional","business_functional"].includes(w)?u:w==="business_business"?v:x,Wt=pe[0]||{},$t=Wt.baseline,It=Wt.baseline_job_id,on=[(0,f.Z)({title:"Test Suite",dataIndex:"suite_name",width:260},(0,de.yQ)()),["functional","performance"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_type"}),dataIndex:"test_type",width:100,ellipsis:{showTitle:!1},render:function(L){var ue=(0,U.SE)(L);return(0,e.jsx)("span",{children:(0,e.jsx)(n._H,{id:"".concat(ue,".test"),defaultMessage:L})})}},["business_functional","business_performance","business_business"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(L){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:L})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),width:130,dataIndex:"server",render:function(){return"-"}},["functional","business_functional","business_business"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.result"}),dataIndex:"result",width:80,render:function(L){return L==="NA"?(0,e.jsx)(or,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):L==="-"?L:L==="fail"?(0,e.jsx)(gr,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):L==="success"?(0,e.jsx)(mr,{style:{width:16,height:16,verticalAlign:"text-bottom"}}):(0,e.jsx)(e.Fragment,{})}},{title:["functional","business_functional"].includes(w)?(0,e.jsx)(n._H,{id:"ws.result.details.functional"}):w==="business_business"?(0,e.jsx)(n._H,{id:"ws.result.details.business_business"}):(0,e.jsx)(n._H,{id:"ws.result.details.performance"}),width:["functional","business_functional","business_business"].includes(w)?255:302,key:"details",render:function(L){return["functional","business_functional","business_business"].includes(w)?(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#649FF6"},onClick:function(){return Fe(L,"")},children:L.conf_count}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#81BF84"},onClick:function(){return Fe(L,"success")},children:L.conf_success}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#C84C5A"},onClick:function(){return Fe(L,"fail")},children:L.conf_fail}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#dcc506"},onClick:function(){return Fe(L,"warn")},children:L.conf_warn}),w!=="business_business"&&(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"skip")},children:L.conf_skip})]}):(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#649FF6"},onClick:function(){return Fe(L,"")},children:L.count}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#81BF84"},onClick:function(){return Fe(L,"increase")},children:L.increase}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#C84C5A"},onClick:function(){return Fe(L,"decline")},children:L.decline}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"normal")},children:L.normal}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"invalid")},children:L.invalid}),(0,e.jsx)("div",{className:ge().column_circle_text,style:{background:"#DDDDDD",color:"rgba(0,0,0.65)"},onClick:function(){return Fe(L,"na")},children:L.na})]})}},["performance","business_performance"].includes(w)&&!!$t&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"}),dataIndex:"baseline",width:80},(0,de.yQ)()),["performance","business_performance"].includes(w)&&It&&(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.baseline_job_id"}),dataIndex:"baseline_job_id",width:80},(0,de.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),dataIndex:"start_time",width:160},(0,de.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),dataIndex:"end_time",width:160},(0,de.yQ)()),le.WsTourist()&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),dataIndex:"note",width:120,ellipsis:{showTitle:!1},render:function(L,ue){return(0,e.jsx)(de.Pc,{title:L,width:120,access:le.WsMemberOperateSelf(P),onEdit:function(){return ee.current.show((0,f.Z)((0,f.Z)({},ue),{},{suite_name:ue.suite_name,editor_obj:"test_job_suite"}))}})}},["performance","business_performance"].includes(w)&&{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:d?180:145,fixed:"right",key:"operation",ellipsis:{showTitle:!1},render:function(L){var ue={color:"#1890FF",cursor:"pointer",whiteSpace:"nowrap"};return(0,e.jsx)(n.Nv,{accessible:le.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:le.WsMemberOperateSelf(P),fallback:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{style:ue,onClick:function(){return(0,U.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:ue,onClick:function(){return(0,U.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]}),children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("span",{style:ue,onClick:function(){return Nt(L)},children:(0,e.jsx)(n._H,{id:"ws.result.details.baseline"})}),(0,e.jsx)("span",{style:ue,onClick:function(){return ln(L)},children:(0,e.jsx)(n._H,{id:"ws.result.details.join.baseline"})})]})})})}}],un=function(){M.current.show({job_id:c,suite_data:k,suite_list:R})},Kt=function(){lt(),ne([]),q([])},Ut=function(){m.current.show({job_id:c,suite_data:k,suite_list:R})},Pt=function(){oe(!W),Ft(!W)},zt=function(){W&&(_([]),oe(!1)),V(!W),ie(W?[]:pe.map(function(L){return L.suite_id}))},cn=function(){oe(!Ee),Ee?_([]):Ft(!0)},fn=function(L){he(L),we(function(ue){return ue==null?void 0:ue.map(function(ye){return(0,f.Z)((0,f.Z)({},ye),{},{expandedState:L})})}),pe.length&&(Pt(),Ft(!0))};(0,i.useEffect)(function(){if(h.count<50){var be=pe.map(function(L){var ue=L.suite_id;return ue});ie(be),_(be),V(!0),oe(!0)}},[h,pe]);var ms=w==="performance"?{columnWidth:40,selectedRowKeys:R,onChange:function(L){q(L)}}:void 0,Ne=function(L,ue){var ye=[];if(ue.length>0){var st=ye.findIndex(function(Xe){return Xe.suite_id===L});st>-1?ye=k.filter(function(Xe){if(Xe.suite_id===L)return{suite_id:L,case_list:ue}}):ye=k.concat([{suite_id:L,case_list:ue}]).reverse()}else ye=k.filter(function(Xe){if(Xe.suite_id!==L)return Xe});ne((0,Bt.uniqBy)(ye,"suite_id"))},ps=i.useMemo(function(){return B.length===pe.length},[B,pe]),hs=["functional","business_functional","business_business"].includes(w)?"Case":"index",Na=s(ps?{id:"ws.result.details.folded.conf"}:{id:"ws.result.details.expand.conf"}),Wa=s(Ee?{id:"ws.result.details.folded.".concat(hs)}:{id:"ws.result.details.expand.".concat(hs)}),_s="ws-job-result-list",$a=i.useState((0,pt.Z)()),xs=(0,C.Z)($a,2),Ka=xs[0],Ua=xs[1],vn=i.useMemo(function(){return!(k.length||R.length)},[R,k]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{style:{padding:"4px 20px 20px 20px"},children:[(0,e.jsxs)(fe.Z,{justify:"space-between",children:[(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(bs.Z.Button,{onClick:Pt,placement:"bottomLeft",icon:(0,e.jsx)(Rn.Z,{}),overlay:(0,e.jsxs)(mn.Z,{children:[(0,e.jsx)(mn.Z.Item,{className:ge().expandConf,onClick:zt,children:Na},"1"),(0,e.jsx)(mn.Z.Item,{className:ge().expandIndex,onClick:cn,children:Wa},"2")]}),children:s(ps?{id:"ws.result.details.folded.all"}:{id:"ws.result.details.expand.all"})}),["performance","business_performance"].includes(w)&&(0,e.jsx)(n.Nv,{accessible:le.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:le.WsMemberOperateSelf(P),fallback:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return(0,U.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.baseline"})}),(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return(0,U.WR)()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.join.baseline"})})]}),children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return un()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.baseline"})}),(0,e.jsx)(ke.Z,{disabled:vn,onClick:function(){return Ut()},children:(0,e.jsx)(n._H,{id:"ws.result.details.batch.join.baseline"})})]})})})]}),(0,e.jsx)(re.Z,{children:dn.map(function(be){var L=be.key,ue=be.name,ye=be.value;return(0,e.jsxs)("span",{onClick:function(){return fn(ye)},style:{cursor:"pointer",color:Y===ye?"#1890FF":"rgba(0, 0, 0, 0.65)"},children:[ue,"(",h[L],")"]},L)})})]}),(0,e.jsx)($e.sL,{columns:on,onColumnsChange:function(){return Ua((0,pt.Z)())},rowKey:"suite_id",name:_s,dataSource:pe,pagination:!1,refreshDeps:[S,le,w,$t,It,P],size:"small",loading:je,className:ge().result_expand_table,style:{marginTop:20},rowSelection:ms,expandable:{defaultExpandAllRows:W,expandedRowKeys:B,onExpand:function(L,ue){if(L){var ye=B.concat([ue.suite_id]);ie(ye),(ye==null?void 0:ye.length)===pe.length&&(V(!0),oe(!0))}else{var st=B.filter(function(Xe){return Xe!==ue.suite_id});ie(st),st.length||(V(!1),oe(!1))}},expandedRowRender:function(L){return(0,e.jsx)(rr,(0,f.Z)((0,f.Z)({},L),{},{creator:P,columnsChange:Ka,parentTableName:_s,server_provider:g,provider_name:g,testType:w,setIndexExpandFlag:oe,suiteSelect:R,onCaseSelect:Ne,expandedCaseRowKeys:A}),Ge)},expandIcon:function(L){var ue=L.expanded,ye=L.onExpand,st=L.record;return ue?(0,e.jsx)(St.Z,{onClick:function(kn){return ye(st,kn)}}):(0,e.jsx)(Tt.Z,{onClick:function(kn){return ye(st,kn)}})}}})]}),(0,e.jsx)(gn,{ref:m,test_type:w,server_provider:g,onOk:Kt,accessible:le.IsWsSetting()}),(0,e.jsx)(Vt,{ref:ee,onOk:lt}),(0,e.jsx)(An,{ref:M,test_type:w,server_provider:g,onOk:an})]})},br=jr,ui=o(40204),Zt=o(10724),yr=o(68210),wr=o(53187),Zr=o.n(wr),Kn,Cr=(0,vt.ZP)(kt.Z)(Kn||(Kn=(0,ft.Z)([`
    .expanded-row-padding-no>td {
        padding : 0 !important;
    }
    .buildWrap {
        height: 122px;
        padding: 20px 70px;
    }
`]))),bn=function(t){var a=t.name,s=t.link,d=(0,n.YB)(),u=d.formatMessage,x=function(y){var c=document.createElement("a");c.style.width="0px",c.style.height="0px",document.body.appendChild(c);var S=new(Zr())(c,{text:function(){return y}});S.on("success",function(){He.default.success(u({id:"ws.result.details.copied"}))}),c.click(),S.destroy(),document.body.removeChild(c)};return s?(0,e.jsxs)(fe.Z,{gutter:16,style:{width:"100%"},children:[(0,e.jsx)(H.Z,{span:2,xs:3,md:2,style:{textAlign:"right"},children:(0,e.jsxs)(I.Z.Text,{strong:!0,children:[a,(0,e.jsx)(n._H,{id:"ws.result.details.package"})]})}),(0,e.jsx)(H.Z,{span:18,children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(I.Z.Link,{children:s}),(0,e.jsx)("span",{onClick:function(){return x(s)},style:{cursor:"pointer"},children:(0,e.jsx)(yr.r,{})})]})})]}):(0,e.jsx)(e.Fragment,{})},Sr=function(t){var a=(0,Re.UO)(),s=a.id,d=t.refresh,u=d===void 0?!1:d,x=(0,i.useState)([]),v=(0,C.Z)(x,2),y=v[0],c=v[1],S=(0,n.QT)(function(){return(0,Ce.f7)({job_id:s})},{manual:!0}),j=S.loading,h=S.run,p=S.data;i.useEffect(function(){p&&JSON.stringify(p)!=="{}"&&c([p])},[p]),(0,i.useEffect)(function(){h()},[u]);var Z=[(0,f.Z)({dataIndex:"name",title:(0,e.jsx)(n._H,{id:"ws.result.details.name"})},(0,de.yQ)()),{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:de.tZ},{dataIndex:"git_repo",title:(0,e.jsx)(n._H,{id:"ws.result.details.git_repo"}),ellipsis:!0,render:function(g){return g?(0,e.jsx)("a",{href:g,target:"_blank",children:g}):"-"}},(0,f.Z)({dataIndex:"git_branch",title:(0,e.jsx)(n._H,{id:"ws.result.details.git_branch"})},(0,de.yQ)()),(0,f.Z)({dataIndex:"git_commit",title:"commit"},(0,de.yQ)()),{dataIndex:"cbp_link",title:(0,e.jsx)(n._H,{id:"ws.result.details.cbp_link"}),ellipsis:!0,render:function(g){return g?(0,e.jsx)("a",{href:g,target:"_blank",children:g}):"-"}},(0,f.Z)({dataIndex:"start_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"})},(0,de.yQ)()),(0,f.Z)({dataIndex:"end_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"})},(0,de.yQ)())];return y&&y.length?(0,e.jsx)(Zt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.build.kernel"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none",borderTop:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(Cr,{dataSource:y,columns:Z,rowKey:"name",loading:j,size:"small",pagination:!1,expandable:{expandedRowClassName:function(){return"expanded-row-padding-no"},expandedRowRender:function(g){return(0,e.jsxs)(re.Z,{direction:"vertical",style:{width:"100%",padding:16},children:[(0,e.jsx)(bn,{name:"kernel",link:g.kernel_package}),(0,e.jsx)(bn,{name:"devel",link:g.devel_package}),(0,e.jsx)(bn,{name:"headers",link:g.headers_package})]})},expandIcon:function(g){var P=g.expanded,T=g.onExpand,w=g.record;return P?(0,e.jsx)(St.Z,{onClick:function(O){return T(w,O)}}):(0,e.jsx)(Tt.Z,{onClick:function(O){return T(w,O)}})}}})}):(0,e.jsx)(e.Fragment,{})},Tr=Sr,ci=o(16832),Mt=o(69827),kr=o(17286),Un,zn,ze=(0,vt.ZP)(fe.Z)(Un||(Un=(0,ft.Z)([`
    & div:first-child {
        text-align: right;
        font-size: 14px;
        color: rgba(0,0,0,.45);
    }
    & div:last-child {
        font-size: 14px;
        color: #000000;
    }
`]))),yn=vt.ZP.span(zn||(zn=(0,ft.Z)([`
    float: left;
    width:2px;
    height:14px;
    background: #1890ff;
    margin: 5px 8px 0 0;
`]))),Rr=function(t){var a=t.tid,s=(0,i.useState)(!1),d=(0,C.Z)(s,2),u=d[0],x=d[1],v=(0,i.useState)({}),y=(0,C.Z)(v,2),c=y[0],S=y[1],j=(0,i.useState)(!1),h=(0,C.Z)(j,2),p=h[0],Z=h[1],b=function(){var P=(0,Ze.Z)((0,X.Z)().mark(function T(w){var F,O,R,q;return(0,X.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!w){E.next=10;break}return x(!0),E.next=4,(0,Ce.K0)({tid:a});case 4:F=E.sent,O=F.data,R=F.code,q=F.msg,R===200?S(O):(0,U.EV)(R,q),x(!1);case 10:Z(w);case 11:case"end":return E.stop()}},T)}));return function(w){return P.apply(this,arguments)}}(),g=(0,i.useMemo)(function(){return(0,e.jsxs)(De.Z,{spinning:u,children:[(0,e.jsxs)(Mt.Z.Content,{style:{marginBottom:20},children:[(0,e.jsx)(Ht.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(I.Z.Text,{strong:!0,children:[(0,e.jsx)(yn,{}),"\u4EFB\u52A1\u4FE1\u606F"]})}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"TID:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.tid)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Sync:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.sync)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Env:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.env)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Args:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.args)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Cwd:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.cwd)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Timeout:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.timeout)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"IP:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.ip)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"SN:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.sn)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"TSN:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.tsn)||"-"})]})]}),(0,e.jsxs)(Mt.Z.Content,{style:{marginBottom:20},children:[(0,e.jsx)(Ht.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(I.Z.Text,{strong:!0,children:[(0,e.jsx)(yn,{}),"\u4EFB\u52A1\u72B6\u6001"]})}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Status:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.status)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Delivery time:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.delivery_time)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Start time:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.start_time)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Finish time:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.finish_time)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Exit code:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.exit_code)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Error code:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.error_code)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Error msg:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.error_msg)||"-"})]}),(0,e.jsxs)(ze,{gutter:20,children:[(0,e.jsx)(H.Z,{span:6,children:"Pid:"}),(0,e.jsx)(H.Z,{span:18,children:(c==null?void 0:c.pid)||"-"})]})]}),(0,e.jsxs)(Mt.Z.Content,{style:{marginBottom:30},children:[(0,e.jsx)(Ht.Z,{orientation:"left",plain:!0,children:(0,e.jsxs)(I.Z.Text,{strong:!0,children:[(0,e.jsx)(yn,{}),"\u4EFB\u52A1\u7ED3\u679C"]})}),(0,e.jsx)(fe.Z,{gutter:20,style:{margin:"0 10px",height:200},children:(0,e.jsx)(kr.Z,{code:c==null?void 0:c.result})})]})]})},[c,u]);return(0,e.jsx)(Le.Z,{visible:p,overlayStyle:{width:510,maxWidth:"unset",padding:0,maxHeight:400,overflowY:"auto",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)"},color:"#fff",placement:"right",title:g,onVisibleChange:b,children:a})},wn=Rr,Er=o(87204),Lt=o.n(Er),Vn,Or=["svgRef","title"];function en(){return en=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r},en.apply(this,arguments)}function Fr(r,t){if(r==null)return{};var a=Ir(r,t),s,d;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(d=0;d<u.length;d++)s=u[d],!(t.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,s)||(a[s]=r[s]))}return a}function Ir(r,t){if(r==null)return{};var a={},s=Object.keys(r),d,u;for(u=0;u<s.length;u++)d=s[u],!(t.indexOf(d)>=0)&&(a[d]=r[d]);return a}var Pr=function(t){var a=t.svgRef,s=t.title,d=Fr(t,Or);return i.createElement("svg",en({width:"41px",height:"21px",viewBox:"0 0 41 21",ref:a},d),s?i.createElement("title",null,s):null,Vn||(Vn=i.createElement("g",{id:"Job\\u7ED3\\u679C\\u9875",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",opacity:.153831845},i.createElement("g",{id:"Artboard",transform:"translate(-246.000000, -132.000000)",stroke:"#000000"},i.createElement("g",{id:"Group-8-Copy",transform:"translate(246.000000, 132.000000)"},i.createElement("line",{x1:.5,y1:.5,x2:.5,y2:20.5,id:"Path-4"}),i.createElement("line",{x1:.75,y1:20,x2:40.75,y2:20.115605,id:"Path-4-Copy"}))))))},Dr=i.forwardRef(function(r,t){return i.createElement(Pr,en({svgRef:t},r))}),fi=o.p+"static/line.e6f7ecfa.svg",Hr=function(t){var a=t.dataSource,s=t.parentTableName,d=t.columnsChange,u=(0,n.YB)(),x=u.formatMessage,v=i.useMemo(function(){return[{dataIndex:"mode",title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),width:(0,$e.ny)(s,"server_type")+47||127,ellipsis:{showTitle:!1}},{dataIndex:"ip",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),align:"center",ellipsis:{showTitle:!1},width:(0,$e.ny)(s,"server")||220,render:function(){return(0,e.jsx)("div",{style:{display:"flex",justifyContent:"start"},children:(0,e.jsx)(Dr,{})})}},{dataIndex:"stage",title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),ellipsis:{showTitle:!1},width:(0,$e.ny)(s,"stage")||150,render:function(c){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:c||"-"})}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:{showTitle:!1},width:(0,$e.ny)(s,"state")||80,render:de.tZ},(0,f.Z)({dataIndex:"result",title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),width:(0,$e.ny)(s,"result")},(0,de.cQ)("Nothing to do")),{dataIndex:"tid",title:"TID",width:(0,$e.ny)(s,"tid"),ellipsis:{showTitle:!1},render:function(c){return c&&c.length?c.indexOf("API_v2_0_")>-1?(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:c}):(0,e.jsx)(wn,{tid:c}):"-"}},{dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},width:(0,$e.ny)(s,"gmt_created")||170},{dataIndex:"gmt_modified",title:(0,e.jsx)(n._H,{id:"ws.result.details.finish_time"}),ellipsis:{showTitle:!1},width:(0,$e.ny)(s,"gmt_modified")||170},{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),ellipsis:{showTitle:!1},key:"log",fixed:"right",width:(0,$e.ny)(s,"log")||80,render:function(c){var S=x({id:"ws.result.details.log"});return(c.state==="success"||c.state==="fail"||c.state==="stop")&&c.log_file?(0,e.jsx)(ke.Z,{size:"small",type:"link",style:{padding:0},onClick:function(){return window.open(c.log_file)},children:S}):(0,e.jsx)(ke.Z,{size:"small",type:"link",style:{padding:0},disabled:!0,children:S})}}]},[d]);return(0,e.jsx)(kt.Z,{columns:v,dataSource:a,showHeader:!1,rowKey:"rowKey",size:"small",scroll:{x:v.reduce(function(y,c){return c!=null&&c.width?y+=+c.width:y},0)},rowClassName:Lt().prep_test_conf_row,pagination:!1})},Yn=Hr,Br=function(t){var a=t.refresh,s=a===void 0?!1:a,d=t.provider_name,u=(0,Re.UO)(),x=u.id,v=u.ws_id,y=(0,n.YB)(),c=y.formatMessage,S=(0,i.useState)([]),j=(0,C.Z)(S,2),h=j[0],p=j[1],Z=i.useState((0,pt.Z)()),b=(0,C.Z)(Z,2),g=b[0],P=b[1],T=(0,n.QT)(function(){return(0,Ce.DH)({job_id:x,ws_id:v})},{refreshDeps:[s]}),w=T.data,F=T.loading;if(!w)return(0,e.jsx)(e.Fragment,{});var O=[{dataIndex:"server_type",title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),ellipsis:{showTitle:!1},width:80,render:function(E){return c({id:E})}},{dataIndex:"server",width:220,title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),ellipsis:{showTitle:!1},render:function(E,W){return W.server_type==="cluster"?(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:E}):(0,e.jsx)(Dt.Z,{val:E,param:W.server_id,provider:d,description:W.server_description})}},{dataIndex:"stage",title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),ellipsis:{showTitle:!1},width:150,render:function(E){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:E||"-"})}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:{showTitle:!1},width:80,render:de.tZ},{dataIndex:"result",ellipsis:{showTitle:!1},title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),render:function(E){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:E||"-"})}},{dataIndex:"tid",title:"TID",ellipsis:{showTitle:!1},render:function(){return"-"}},(0,f.Z)({dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),width:170},(0,de.yQ)()),(0,f.Z)({dataIndex:"gmt_modified",title:(0,e.jsx)(n._H,{id:"ws.result.details.finish_time"}),width:170},(0,de.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),width:80,key:"log",fixed:"right",ellipsis:{showTitle:!1},render:function(E){var W=c({id:"ws.result.details.log"});return(E.state==="success"||E.state==="fail"||E.state==="stop")&&E.log_file?(0,e.jsx)(I.Z.Link,{href:E.log_file,target:"_blank",children:W}):(0,e.jsx)(I.Z.Link,{disabled:!0,children:W})}}],R=[{width:150},{dataIndex:"server",title:(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),width:300,render:function(E,W){return E?(0,e.jsx)(Dt.Z,{val:E,param:W.server_id,provider:d}):"-"}},{},{},{},{},{}],q="ws-job-result-process-parent";return(0,e.jsx)(Zt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.preparation"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none",borderTop:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)($e.sL,{dataSource:w==null?void 0:w.map(function($,E){return(0,f.Z)((0,f.Z)({},$),{},{rowkey:"".concat($.server_id||$.server,"-").concat(E)})}),columns:O,name:q,onColumnsChange:function(){return P((0,pt.Z)())},rowKey:"rowkey",loading:F,size:"small",className:Lt().prepTable,pagination:!1,expandable:{columnWidth:47,expandedRowClassName:function(){return"expanded-row-padding-no"},expandedRowKeys:h,onExpand:function(E,W){return p(E?h.concat(W.rowkey):h.filter(function(V){return V!==W.rowkey}))},expandedRowRender:function(E){return E.server_type==="cluster"?Object.keys(E.server_list).map(function(W){var V,G=E.server_list[W],z=(V=G[0])===null||V===void 0?void 0:V.server_id;return(0,e.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column"},children:[(0,e.jsx)(kt.Z,{dataSource:[{server:W,id:z,server_id:z}],columns:R,size:"small",rowKey:"id",showHeader:!1,pagination:!1},W),(0,e.jsx)(Yn,(0,f.Z)((0,f.Z)({},E),{},{columnsChange:g,parentTableName:q,dataSource:G.map(function(k){return(0,f.Z)({id:z},k)})}))]},z)}):(0,e.jsx)(Yn,(0,f.Z)((0,f.Z)({parentTableName:q,columnsChange:g},E),{},{dataSource:E.server_list.map(function(W){return(0,f.Z)({id:W.server_id},W)})}))},expandIcon:function(E){var W=E.expanded,V=E.onExpand,G=E.record;return W?(0,e.jsx)(St.Z,{onClick:function(k){return V(G,k)}}):(0,e.jsx)(Tt.Z,{onClick:function(k){return V(G,k)}})}}})})},Mr=Br,vi=o(13059),Jn=o(53676),Qn=function(r){var t=r.title,a=t===void 0?"":t,s=r.need_reboot,d=r.setup_info,u=r.cleanup_info,x=r.step,v=(0,n.YB)(),y=v.formatMessage,c=[(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.stage"}),dataIndex:"stage"},(0,de.yQ)()),{title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),dataIndex:"state",render:de.tZ},(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),dataIndex:"result"},(0,de.yQ)()),{title:"TID",dataIndex:"tid",ellipsis:{showTitle:!1},render:function(p){return p&&p.length?p.indexOf("API_v2_0_")>-1?(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:p}):(0,e.jsx)(wn,{tid:p}):"-"}},(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.gmt_created"}),dataIndex:"gmt_created"},(0,de.yQ)()),(0,f.Z)({title:(0,e.jsx)(n._H,{id:"ws.result.details.gmt_modified"}),dataIndex:"gmt_modified"},(0,de.yQ)())],S=s?y({id:"ws.result.details.restart.server"}):"",j=d||u?y({id:"ws.result.details.execute.script"}):"";return S||j?(0,e.jsx)(Jn.Z,{overlayStyle:{width:850},arrowPointAtCenter:!0,className:Lt().step_table_popover,title:a,content:(0,e.jsx)(kt.Z,{size:"small",rowKey:"uid",columns:c,style:{width:810},dataSource:x,pagination:!1}),children:(0,e.jsx)("span",{className:Lt().popover_text_span,children:"".concat(S).concat(S&&j&&"\u3001").concat(j)})}):(0,e.jsx)(e.Fragment,{children:"-"})},Lr=o(76742),Ar=function(t){var a=t.test_suite_name,s=t.test_suite_id,d=t.testType,u=t.provider_name,x=t.creator,v=t.columnsRefresh,y=t.setColumnsRefresh,c=(0,Re.UO)(),S=c.id,j=(0,n.YB)(),h=j.formatMessage,p=(0,n.Kd)()==="en-US",Z={page_num:1,page_size:10,job_id:S,test_suite_id:s},b=(0,i.useState)(Z),g=(0,C.Z)(b,2),P=g[0],T=g[1],w=(0,i.useState)(!1),F=(0,C.Z)(w,2),O=F[0],R=F[1],q=(0,i.useState)(0),$=(0,C.Z)(q,2),E=$[0],W=$[1],V=(0,i.useState)({data:[],total:0}),G=(0,C.Z)(V,2),z=G[0],k=G[1],ne=(0,n.tT)("@@initialState"),Q=ne.initialState,_e=(0,n.md)(),B=function(){var _=(0,Ze.Z)((0,X.Z)().mark(function m(M){var ee,ae,J;return(0,X.Z)().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return R(!0),we.next=3,(0,Ce.EG)(M);case 3:ee=we.sent,ae=ee.code,J=ee.msg,ae===200?(k(ee),W(E),R(!1)):(0,U.EV)(ae,J);case 6:case"end":return we.stop()}},m)}));return function(M){return _.apply(this,arguments)}}(),ie=(0,U.YM)(P),te=(0,U.YM)(z),l=function(){var _=(0,Ze.Z)((0,X.Z)().mark(function m(M,ee){var ae,J,pe,we,le,Pe,Ye;return(0,X.Z)().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return ae=Q==null?void 0:Q.authList,J=ae.user_id,pe=J?{user_id:J}:{},nt.next=4,(0,Ce.Xc)((0,f.Z)((0,f.Z)({},pe),{},{editor_obj:"test_job_conf",test_job_conf_id:M.id,state:ee}));case 4:we=nt.sent,le=we.code,Pe=we.msg,Ye=ie.current.page_size,le===200?(T((0,f.Z)((0,f.Z)({},P),{},{page_num:(0,U.NG)(ie,te),page_size:Ye})),He.default.success(h({id:"operation.success"}))):(0,U.EV)(le,Pe);case 9:case"end":return nt.stop()}},m)}));return function(M,ee){return _.apply(this,arguments)}}();(0,i.useEffect)(function(){B(P)},[P]);var A=[(0,f.Z)({dataIndex:"test_case_name",title:"Test Conf",width:160},(0,de.yQ)()),{dataIndex:"server",title:["business_business"].includes(d)?(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}):(0,e.jsx)(n._H,{id:"ws.result.details.test.server"}),width:100,ellipsis:{showTitle:!1},render:function(m,M){return(0,e.jsx)(Dt.Z,{val:m,param:M.server_id,provider:u,description:M.server_description})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.env.preparation"}),width:p?200:80,ellipsis:{showTitle:!1},key:"preparation",render:function(m){var M=h({id:"ws.result.details.env.preparation.details"});return(0,e.jsx)(Qn,(0,f.Z)((0,f.Z)({},m),{},{title:"".concat(a,"/").concat(m.name||m.test_case_name).concat(M)}))}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),ellipsis:!0,width:80,render:de.tZ},{dataIndex:"tid",title:"TID",width:120,ellipsis:{showTitle:!1},render:function(m){return m&&m.length?m.indexOf("API_v2_0_")>-1?(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:m}):(0,e.jsx)(wn,{tid:m}):"-"}},(0,f.Z)({dataIndex:"result",title:(0,e.jsx)(n._H,{id:"ws.result.details.output.results"}),width:150},(0,de.yQ)("Nothing to do")),(0,f.Z)({dataIndex:"start_time",width:160,title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"})},(0,de.yQ)("-")),(0,f.Z)({dataIndex:"end_time",width:160,title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"})},(0,de.yQ)("-")),{title:(0,e.jsx)(n._H,{id:"ws.result.details.view.log"}),width:80,ellipsis:{showTitle:!1},fixed:"right",key:"log",render:function(m){var M=h({id:"ws.result.details.log"});return["success","fail","stop"].includes(m.state)&&m.log_file?(0,e.jsx)(I.Z.Link,{target:"_blank",href:m.log_file,children:M}):(0,e.jsx)(I.Z.Text,{disabled:!0,children:M})}},{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),width:80,ellipsis:{showTitle:!1},fixed:"right",key:"operation",render:function(m){return(0,e.jsx)(n.Nv,{accessible:_e.WsTourist(),children:(0,e.jsxs)(n.Nv,{accessible:_e.WsMemberOperateSelf(x),fallback:(0,e.jsxs)(I.Z.Link,{onClick:function(){return(0,U.WR)()},children:[m.state==="running"&&(0,e.jsx)(n._H,{id:"ws.result.details.suspension"}),m.state==="pending"&&(0,e.jsx)(n._H,{id:"ws.result.details.skip"})]}),children:[m.state==="running"&&(0,e.jsx)(I.Z.Link,{onClick:function(){return l(m,"stop")},children:(0,e.jsx)(n._H,{id:"ws.result.details.suspension"})}),m.state==="pending"&&(0,e.jsx)(I.Z.Link,{onClick:function(){return l(m,"skip")},children:(0,e.jsx)(n._H,{id:"ws.result.details.skip"})})]})})}}];return(0,e.jsxs)(re.Z,{style:{width:"100%",paddingLeft:40,paddingBottom:8},direction:"vertical",children:[(0,e.jsx)($e.sL,{columns:A,name:"ws-job-result-process-testconf",dataSource:(z==null?void 0:z.data)||[],refreshDeps:[u,_e,d,a,x,v],loading:O,rowKey:"id",size:"small",pagination:!1,onColumnsChange:y}),(0,e.jsx)(Lr.Z,{style:{marginTop:0,marginBottom:0},total:z.total,currentPage:P.page_num,pageSize:P.page_size,onPageChange:function(m,M){T((0,f.Z)((0,f.Z)({},P),{},{page_num:m,page_size:M}))}})]})},Nr=Ar,tn={color:"#1890FF",cursor:"pointer",marginLeft:12},nn={color:"rgba(0,0,0,.25)",marginLeft:12},Wr=function(t){var a=t.refresh,s=a===void 0?!1:a,d=t.testType,u=t.provider_name,x=(0,Re.UO)(),v=x.id,y=(0,n.YB)(),c=y.formatMessage,S=(0,n.tT)("@@initialState"),j=S.initialState,h=(0,n.md)(),p=(0,i.useState)(!1),Z=(0,C.Z)(p,2),b=Z[0],g=Z[1],P=(0,i.useState)(0),T=(0,C.Z)(P,2),w=T[0],F=T[1],O=i.useState((0,pt.Z)()),R=(0,C.Z)(O,2),q=R[0],$=R[1],E=(0,i.useState)([]),W=(0,C.Z)(E,2),V=W[0],G=W[1],z=c({id:"ws.result.details.stop.suite"}),k=c({id:"ws.result.details.skip.suite"}),ne=(0,n.QT)(function(){return(0,Ce.Po)({job_id:v})},{manual:!0,initialData:[]}),Q=ne.data,_e=ne.loading,B=ne.run;(0,i.useEffect)(function(){B()},[s]);var ie=function(){var A=(0,Ze.Z)((0,X.Z)().mark(function _(m){var M,ee,ae,J,pe,we;return(0,X.Z)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return M=j==null?void 0:j.authList,ee=M.user_id,ae=ee?{user_id:ee}:{},Pe.next=4,(0,Ce.Xc)((0,f.Z)((0,f.Z)({},ae),{},{editor_obj:"test_job_suite",test_job_suite_id:m.id,state:"stop"}));case 4:if(J=Pe.sent,pe=J.code,we=J.msg,pe===200){Pe.next=10;break}return(0,U.EV)(pe,we),Pe.abrupt("return");case 10:B(),He.default.success(c({id:"operation.success"}));case 12:case"end":return Pe.stop()}},_)}));return function(m){return A.apply(this,arguments)}}(),te=function(){var A=(0,Ze.Z)((0,X.Z)().mark(function _(m){var M,ee,ae,J,pe;return(0,X.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return M=j==null?void 0:j.authList,ee=M.user_id,le.next=3,(0,Ce.Xc)({editor_obj:"test_job_suite",state:"skip",test_job_suite_id:m.id,user_id:ee});case 3:if(ae=le.sent,J=ae.code,pe=ae.msg,J!==200){le.next=13;break}F(m.id),g(!0),He.default.success(c({id:"operation.success"})),B(),le.next=16;break;case 13:return g(!1),(0,U.EV)(J,pe),le.abrupt("return");case 16:case"end":return le.stop()}},_)}));return function(m){return A.apply(this,arguments)}}(),l=[{dataIndex:"test_suite_name",title:"Test Suite",width:160,ellipsis:{showTitle:!1}},["business_business"].includes(d)&&{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(_){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:_})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.env.preparation"}),ellipsis:{showTitle:!1},key:"preparation",render:function(_){var m=c({id:"ws.result.details.env.preparation.details"});return(0,e.jsx)(Qn,(0,f.Z)((0,f.Z)({},_),{},{title:"".concat(_.test_suite_name).concat(m)}))}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:function(_){return(0,de.tZ)(_)}},{dataIndex:"start_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},render:function(_){return(0,e.jsx)(e.Fragment,{children:_||"-"})}},{dataIndex:"end_time",title:(0,e.jsx)(n._H,{id:"ws.result.details.end_time"}),ellipsis:{showTitle:!1},render:function(_){return(0,e.jsx)(e.Fragment,{children:_||"-"})}},{title:(0,e.jsx)(n._H,{id:"Table.columns.operation"}),fixed:"right",key:"operation",render:function(_){var m=_.state,M={color:m!=="running"?"rgba(0,0,0,.25)":"#1890FF",cursor:m!=="running"?"not-allowed":"pointer"},ee=b&&w===_.id;return m==="running"?(0,e.jsx)(n.Nv,{accessible:h.WsTourist(),children:(0,e.jsxs)(n.Nv,{accessible:h.WsMemberOperateSelf(_.creator),fallback:(0,e.jsxs)("span",{children:[(0,e.jsx)("span",{style:M,onClick:function(){return(0,U.WR)()},children:z}),ee?(0,e.jsx)("span",{style:nn,children:k}):(0,e.jsx)("span",{style:tn,onClick:function(){return(0,U.WR)()},children:k})]}),children:[(0,e.jsx)("span",{style:M,onClick:function(){return ie(_)},children:z}),ee?(0,e.jsx)("span",{style:nn,children:k}):(0,e.jsx)("span",{style:tn,onClick:function(){return te(_)},children:k})]})}):m==="pending"?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("span",{style:M,children:z}),(0,e.jsx)(n.Nv,{accessible:h.WsTourist(),children:(0,e.jsx)(n.Nv,{accessible:h.WsMemberOperateSelf(_.creator),fallback:ee?(0,e.jsx)("span",{style:nn,children:k}):(0,e.jsx)("span",{style:tn,onClick:function(){return(0,U.WR)()},children:k}),children:ee?(0,e.jsx)("span",{style:nn,children:k}):(0,e.jsx)("span",{style:tn,onClick:function(){return te(_)},children:k})})})]}):(0,e.jsx)("span",{style:M,children:z})}}];return(0,e.jsx)(Zt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.case"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},extra:V.length===Q.length?(0,e.jsx)(ke.Z,{onClick:function(){return G([])},children:(0,e.jsx)(n._H,{id:"ws.result.details.put.away.all"})}):(0,e.jsx)(ke.Z,{onClick:function(){return G(Q.map(function(_){return _.id}))},children:(0,e.jsx)(n._H,{id:"ws.result.details.expanded.all"})}),children:(0,e.jsx)($e.sL,{dataSource:Q,columns:l,name:"job-result-process-suite",rowKey:"id",loading:_e,size:"small",pagination:!1,className:Lt().process_suite_table_cls,refreshDeps:[d,h],expandable:{indentSize:60,expandedRowKeys:V,onExpand:function(_,m){G(_?V.concat(m.id):V.filter(function(M){return M!==m.id}))},expandedRowRender:function(_){return(0,e.jsx)(Nr,(0,f.Z)((0,f.Z)({},_),{},{testType:d,provider_name:u,setColumnsRefresh:function(){return $((0,pt.Z)())},columnsRefresh:q}))},expandIcon:function(_){var m=_.expanded,M=_.onExpand,ee=_.record;return m?(0,e.jsx)(St.Z,{onClick:function(J){return M(ee,J)}}):(0,e.jsx)(Tt.Z,{onClick:function(J){return M(ee,J)}})}}})})},$r=Wr,Kr=function(r){var t=r.job_id,a=r.refresh,s=a===void 0?!1:a,d=r.provider_name,u=(0,n.QT)(function(){return(0,Ce.kv)({job_id:t})},{manual:!0}),x=u.data,v=u.loading,y=u.run;(0,i.useEffect)(function(){y()},[s]);var c=[{dataIndex:"index",title:" ",width:48,render:function(h){return h}},{dataIndex:"server",title:"IP".concat(""),ellipsis:{showTitle:!1},render:function(h,p){return h?(0,e.jsx)(Dt.Z,{val:h,param:p.server_id,provider:d,description:p.server_description}):"-"}},{dataIndex:"state",title:(0,e.jsx)(n._H,{id:"ws.result.details.state"}),render:de.tZ},{dataIndex:"monitor_link",title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor_link"}),ellipsis:{shwoTitle:!1},render:function(h){return h?(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},style:{color:"#1890FF"},children:(0,e.jsx)(I.Z.Link,{target:"_blank",href:h,ellipsis:!0,children:h})}):"-"}},(0,f.Z)({dataIndex:"remark",title:(0,e.jsx)(n._H,{id:"ws.result.details.failed.info"})},(0,de.yQ)()),{dataIndex:"gmt_created",title:(0,e.jsx)(n._H,{id:"ws.result.details.start_time"}),ellipsis:{showTitle:!1},render:function(h){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:h||"-"})}}];if(x&&!x.monitor_control)return(0,e.jsx)(e.Fragment,{});var S=x&&Array.isArray(x.result_list)?x.result_list:[];return(0,e.jsx)(Zt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)($e.sL,{dataSource:S,columns:c,refreshDeps:[],name:"ws-job-result-process-monitor-conf-table",rowKey:"id",loading:v,size:"small",pagination:!1})})},Gn,Ur=vt.ZP.div(Gn||(Gn=(0,ft.Z)([`
    background-color: #f5f5f5;
    & .ant-card:first-child {
        .ant-card-head-title {
            padding-top: 0;
        }
    }
`]))),zr=function(r){var t=r.job_id,a=r.onRef,s=r.test_type,d=r.provider_name,u=(0,i.useState)(new Date().getTime()),x=(0,C.Z)(u,2),v=x[0],y=x[1],c=(0,U.SE)(s);return(0,i.useImperativeHandle)(a,function(){return{refresh:function(){y(new Date().getTime())}}}),(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsxs)(Ur,{children:[(0,e.jsx)(Tr,{job_id:t,refresh:v}),(0,e.jsx)(Mr,{job_id:t,refresh:v,provider_name:d}),(0,e.jsx)(Kr,{job_id:t,refresh:v,provider_name:d}),(0,e.jsx)($r,{job_id:t,refresh:v,testType:c,provider_name:d})]})})},Xn=o(26388),qn=o(75667),Vr=o(70991),es,ts,ns,ss,rs,as,Zn=(0,vt.ZP)(re.Z)(es||(es=(0,ft.Z)([`
    width: 100%;
    & .ant-row{
        width: 100%;
        & div:first-child {
            text-align: right;
            font-size: 14px;
            color: rgba(0,0,0,.45);
        }
        & div:last-child {
            font-size: 14px;
            color: #000000;
        }
    }
`]))),Yr=vt.ZP.div(ts||(ts=(0,ft.Z)([`
    width: 100%;
    padding: 20px;
`]))),is=function(t,a){var s={cloud:a({id:"common.cloud"}),cloud_efficiency:a({id:"common.cloud_efficiency"}),cloud_ssd:a({id:"common.cloud_ssd"}),cloud_essd:a({id:"common.cloud_essd"})};return s[t]},Ve=function(t){var a=t.label,s=t.children;return(0,e.jsxs)(fe.Z,{gutter:8,children:[(0,e.jsx)(H.Z,{span:6,children:a}),(0,e.jsx)(H.Z,{span:18,children:s||"-"})]})},Et=function(t){var a=t.label,s=t.children;return(0,e.jsxs)(fe.Z,{gutter:8,children:[(0,e.jsx)(H.Z,{span:4,children:a}),(0,e.jsx)(H.Z,{span:20,children:s||"-"})]})},xt=function(t){return(0,e.jsx)(re.Z,(0,f.Z)({direction:"vertical",style:{width:"100%"}},t))},Jr=function(t){var a=t.tag_list,s=(0,n.YB)(),d=s.formatMessage;return(0,e.jsxs)(Zn,{direction:"vertical",size:20,children:[a&&!!a.length&&(0,e.jsxs)(xt,{children:[(0,e.jsx)(I.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.scheduling.tab"})}),(0,e.jsx)(fe.Z,{children:a.map(function(u){return(0,e.jsx)(Je.Z,{color:u.tag_color,children:u.name},u.id)})})]}),(0,e.jsxs)(xt,{children:[(0,e.jsx)(I.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.other.information"})}),(0,e.jsx)(Ve,{label:"".concat(d({id:"ws.result.details.configuration.name"}),":"),children:t==null?void 0:t.name}),(0,e.jsx)(Ve,{label:"Owner:",children:t==null?void 0:t.owner_name}),(0,e.jsx)(Ve,{label:"".concat(d({id:"ws.result.details.gmt_created"}),":"),children:t==null?void 0:t.gmt_created}),(0,e.jsx)(Ve,{label:"".concat(d({id:"ws.result.details.gmt_modified"}),":"),children:t==null?void 0:t.gmt_modified}),(0,e.jsx)(Ve,{label:"".concat(d({id:"ws.result.details.test_summary"}),":"),children:t==null?void 0:t.description})]})]})},ls=function(t){var a,s=t.$type,d=(0,n.YB)(),u=d.formatMessage;return(0,e.jsx)(Yr,{children:(0,e.jsxs)(Zn,{direction:"vertical",size:20,children:[(0,e.jsxs)(xt,{children:[(0,e.jsx)(I.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.hardware"})}),(0,e.jsxs)(xt,{children:[s!==0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ve,{label:"".concat(u({id:"common.instance.ID"}),":"),children:t==null?void 0:t.instance_id}),(0,e.jsx)(Ve,{label:"".concat(u({id:"common.private_ip"}),":"),children:t==null?void 0:t.private_ip})]}),(0,e.jsx)(Ve,{label:"Region/Zone:",children:t==null?void 0:t.region_zone}),(0,e.jsx)(Ve,{label:"".concat(u({id:"common.instance_type"}),":"),children:t==null?void 0:t.instance_type}),(0,e.jsx)(Ve,{label:"".concat(u({id:"common.bandwidth"}),":"),children:t==null?void 0:t.bandwidth}),(t==null?void 0:t.manufacturer)!=="aliyun_eci"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(Ve,{label:"".concat(u({id:"common.system_disk"}),":"),children:[is(t==null?void 0:t.system_disk_category,u),"/",t==null?void 0:t.system_disk_size,"G"]}),(0,e.jsxs)(Ve,{label:"".concat(u({id:"common.storage_type"}),":"),children:[is(t==null?void 0:t.storage_type,u),"/",t==null?void 0:t.storage_size,"G/",t==null?void 0:t.storage_number,"\u4E2A"]})]})]})]}),(0,e.jsxs)(xt,{children:[(0,e.jsx)(I.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.soft"})}),(0,e.jsx)(Ve,{label:"".concat(u({id:"common.image_name"}),":"),children:t==null?void 0:t.image_name})]}),s!==0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(xt,{children:[(0,e.jsx)(I.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"ws.result.details.use_state"})}),(0,e.jsx)(Ve,{label:"".concat(u({id:"common.server.state"}),":"),children:t==null?void 0:t.real_state})]}),(0,e.jsxs)(xt,{children:[(0,e.jsx)(I.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.channel_type"})}),(0,e.jsx)(Ve,{label:"Channel:",children:t==null?void 0:t.image_name}),(0,e.jsx)(Ve,{label:"".concat(u({id:"ws.result.details.state"}),":"),children:t==null?void 0:t.image_name})]})]}),JSON.stringify(t==null?void 0:t.extra_param)!=="{}"&&(0,e.jsxs)(xt,{children:[(0,e.jsx)(I.Z.Text,{strong:!0,children:(0,e.jsx)(n._H,{id:"common.extended.field"})}),t==null||(a=t.extra_param)===null||a===void 0?void 0:a.map(function(x,v){return x.param_key&&x.param_value!==""&&(0,e.jsxs)(Ve,{label:" ",children:[x.param_key,":",x.param_value]},v)})]}),(0,e.jsx)(Jr,(0,f.Z)({},t))]})})},Qr=vt.ZP.div(ns||(ns=(0,ft.Z)([`
    width: 100%;
`]))),Gr=vt.ZP.div(ss||(ss=(0,ft.Z)([`
    height: 42px;
    width: 100%;
    padding: 0 20px;
    background: #F5F5F5;
    color: rgba(0,0,0,0.85);
    line-height: 42px;
    font-weight: 700;
`]))),Xr=vt.ZP.div(rs||(rs=(0,ft.Z)([`
    width: 100%;
    border: 1px solid rgba(0,0,0,0.10);
`]))),qr=vt.ZP.div(as||(as=(0,ft.Z)([`
    height: 40px;
    line-height: 40px;
    width: 100%;
    border-bottom: 1px solid rgba(0,0,0,0.10);
    background-color: #F5F5F5;
    font-weight: 700;
    padding: 0 20px;
    color: rgba(0,0,0,0.85);
`]))),ea=function(t){var a=(0,n.YB)(),s=a.formatMessage,d=t.id,u=t.name,x=t.is_instance,v=i.useState([]),y=(0,C.Z)(v,2),c=y[0],S=y[1],j=i.useState(!1),h=(0,C.Z)(j,2),p=h[0],Z=h[1],b=function(){var g=(0,Ze.Z)((0,X.Z)().mark(function P(){var T,w,F;return(0,X.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,qn.L0)({cluster_id:d});case 2:T=R.sent,w=T.data,F=T.code,F===200&&S(w.map(function(q){return(0,f.Z)((0,f.Z)({},q),q.test_server)}));case 6:case"end":return R.stop()}},P)}));return function(){return g.apply(this,arguments)}}();return i.useEffect(function(){b()},[d]),(0,e.jsxs)(Qr,{children:[(0,e.jsxs)(Gr,{children:[(0,e.jsx)(n._H,{id:"ws.result.details.cluster.name"}),"\uFF1A",u]}),(0,e.jsxs)(Zn,{direction:"vertical",style:{padding:20},children:[(0,e.jsxs)(xt,{style:{padding:"0 20px",width:"100%"},children:[(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.configuration.name"}),":"),children:t==null?void 0:t.name}),(0,e.jsx)(Et,{label:"Owner:",children:t==null?void 0:t.owner_name}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.gmt_created"}),":"),children:t==null?void 0:t.gmt_created}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.gmt_modified"}),":"),children:t==null?void 0:t.gmt_modified}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.test_summary"}),":"),children:t==null?void 0:t.description}),(0,e.jsx)(Et,{label:"".concat(s({id:"ws.result.details.scheduling.tab"}),":"),children:t.tag_list&&!!t.tag_list.length?t==null?void 0:t.tag_list.map(function(g){return(0,e.jsx)(Je.Z,{color:g.tag_color,children:g.name},g.id)}):"-"})]}),c.map(function(g){var P=g.is_instance?s({id:"ws.result.details.server.instance.name"},{data:g.name}):s({id:"ws.result.details.server.configuration.name"},{data:g.name});return(0,e.jsxs)(Xr,{children:[(0,e.jsx)(qr,{children:p?(0,e.jsx)(Le.Z,{title:g.name,children:(0,e.jsx)(I.Z.Text,{ellipsis:!0,children:P})}):(0,e.jsx)(I.Z.Text,{ellipsis:{onEllipsis:function(){return Z(!0)}},children:P})}),(0,e.jsx)(ls,(0,f.Z)({$type:x},g))]},g.server_id)})]})]})},ta=function(t){var a=t.server_ip,s=t.is_instance,d=t.run_mode,u=t.provider_name,x=(0,Re.UO)(),v=x.ws_id,y=i.useState([]),c=(0,C.Z)(y,2),S=c[0],j=c[1],h=i.useState(!1),p=(0,C.Z)(h,2),Z=p[0],b=p[1],g=(0,n.YB)(),P=g.formatMessage,T=Object.prototype.toString.call(s)==="[object Number]",w=function(){var O=(0,Ze.Z)((0,X.Z)().mark(function R(q){var $,E,W,V,G,z,k;return(0,X.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(q&&T)){Q.next=26;break}if(d!=="cluster"){Q.next=13;break}return Q.next=4,(0,Vr.Y_)({ws_id:v,cluster_type:"aliyun",name:a});case 4:if($=Q.sent,E=$.data,W=$.code,W!==200){Q.next=11;break}j(E[0]),Q.next=13;break;case 11:return b(!1),Q.abrupt("return");case 13:if(d!=="standalone"){Q.next=26;break}return Q.next=16,(0,qn.$x)((V={ws_id:v},(0,Xn.Z)(V,s?"private_ip":"server_conf",a),(0,Xn.Z)(V,"in_pool",s?"":"all"),V));case 16:if(G=Q.sent,z=G.data,k=G.code,k!==200){Q.next=26;break}if(!(Object.prototype.toString.call(z)==="[object Array]"&&!!z.length)){Q.next=24;break}j(z),Q.next=26;break;case 24:return b(!1),Q.abrupt("return");case 26:b(q);case 27:case"end":return Q.stop()}},R)}));return function(q){return O.apply(this,arguments)}}(),F=a||"-";return u==="aliyun"&&!["",null,"\u968F\u673A"].includes(a)&&T?(0,e.jsx)(Le.Z,{visible:Z,overlayStyle:{width:510,maxWidth:"unset",padding:0,maxHeight:450,overflowY:"auto",boxShadow:"-12px 0 48px 16px rgba(0,0,0,0.03), -9px 0 28px 0 rgba(0,0,0,0.05), -6px 0 16px -8px rgba(0,0,0,0.08)"},color:"#fff",placement:"right",title:d==="cluster"?(0,e.jsx)(ea,(0,f.Z)((0,f.Z)({},S),{},{is_instance:s})):S.map(function(O){return(0,e.jsx)(ls,(0,f.Z)((0,f.Z)({},O),{},{$type:s}),O.id)}),onVisibleChange:w,children:F}):["\u968F\u673A"].includes(a)?(0,e.jsx)(Le.Z,{title:P({id:"common.random"}),children:(0,e.jsx)(n._H,{id:"common.random"})}):(0,e.jsx)(Le.Z,{title:F,children:F})},na=function(r){var t=r.data,a=t===void 0?[]:t,s=r.testType,d=r.provider_name,u=r.columnsRefresh,x=r.onColumnsChange,v=(0,n.YB)(),y=v.formatMessage,c=[{title:"Test Conf",dataIndex:"test_case_name",ellipsis:{showTitle:!1},width:200,render:function(j){return(0,e.jsx)(Le.Z,{title:j,children:j})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),ellipsis:{showTitle:!1},width:150,dataIndex:"run_mode"},{title:(0,e.jsx)(n._H,{id:"ws.result.details.the.server"}),dataIndex:"server_ip",ellipsis:{showTitle:!1},width:150,render:function(j,h){return(0,e.jsx)(ta,(0,f.Z)({provider_name:d},h))}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.timeout"}),dataIndex:"timeout",width:150,ellipsis:{showTitle:!1},render:function(j,h){return h.timeout||"-"}},{title:"Repeat",dataIndex:"repeat",width:100,ellipsis:{showTitle:!1}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.variable"}),ellipsis:{showTitle:!1},width:150,key:"variable",render:function(j){var h=j.env_info&&JSON.stringify(j.env_info)!=="{}"?Object.keys(j.env_info).reduce(function(p,Z,b){return p+="".concat(b===0?"":";").concat(Z,"=").concat(j.env_info[Z])},""):"-";return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:h})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.restart"}),dataIndex:"need_reboot",width:100,ellipsis:{showTitle:!1},render:function(j){return j?(0,e.jsx)(n._H,{id:"operation.yes"}):(0,e.jsx)(n._H,{id:"operation.no"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.setup_info"}),dataIndex:"setup_info",ellipsis:{showTitle:!1},width:150,render:function(j,h){if(!(h!=null&&h.need_reboot))return"-";var p=y({id:"ws.result.details.restart.before"}),Z=y({id:"ws.result.details.restart.after"}),b=(0,e.jsxs)("span",{children:["[",p,"]: ",j||"-",",  [",Z,"]: ",h.cleanup_info||"-"]});return j||h.cleanup_info?(0,e.jsx)(Le.Z,{placement:"topLeft",title:b,children:b}):"-"}},["business_business"].includes(s)&&{title:"Console",dataIndex:"console",width:100,ellipsis:{showTitle:!1},render:function(j){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:j})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),width:100,dataIndex:"monitor",ellipsis:{showTitle:!1},render:function(){return"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.priority"}),dataIndex:"priority",width:100,ellipsis:{showTitle:!1}}];return(0,e.jsx)($e.sL,{dataSource:a,columns:c,onColumnsChange:x,refreshDeps:[s,u],name:"ws-job-result-setting-case",rowKey:"test_case_id",pagination:!1,size:"small"})},sa=o(64685),Ct=o.n(sa),ra=function(r){var t=r.data,a=t===void 0?[]:t,s=r.testType,d=r.provider_name,u=(0,n.YB)(),x=u.formatMessage,v=i.useState((0,pt.Z)()),y=(0,C.Z)(v,2),c=y[0],S=y[1],j=[{title:"Test Suite",dataIndex:"test_suite_name",width:160,ellipsis:{showTitle:!1}},["business_business"].includes(s)?{title:(0,e.jsx)(n._H,{id:"ws.result.details.business_name"}),dataIndex:"business_name",width:160,ellipsis:{showTitle:!1},render:function(p){return(0,e.jsx)(Qe.K,{ellipsis:{tooltip:!0},children:p})}}:{title:(0,e.jsx)(n._H,{id:"ws.result.details.mode"}),dataIndex:"run_mode",width:160,ellipsis:{showTitle:!1}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.restart"}),dataIndex:"need_reboot",ellipsis:{showTitle:!1},width:100,render:function(p){return p?(0,e.jsx)(n._H,{id:"operation.yes"}):(0,e.jsx)(n._H,{id:"operation.no"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.setup_info"}),dataIndex:"setup_info",ellipsis:{showTitle:!1},width:150,render:function(p,Z){if(!(Z!=null&&Z.need_reboot))return"-";var b=x({id:"ws.result.details.restart.before"}),g=x({id:"ws.result.details.restart.after"});return p||Z.cleanup_info?(0,e.jsxs)(I.Z.Text,{ellipsis:{tooltip:!0},children:["[",b,"]: ",p||"-",",  [",g,"]: ",Z.cleanup_info||"-"]}):"-"}},{title:"Console",dataIndex:"console",ellipsis:{showTitle:!1},width:100,render:function(p){return p||"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.monitor"}),dataIndex:"monitor_info",ellipsis:{showTitle:!1},width:100,render:function(){return"-"}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.priority"}),dataIndex:"priority",ellipsis:{showTitle:!1},width:100,render:function(p){return p||"-"}}];return(0,e.jsx)(Zt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.test.cases.and.config"}),style:{marginBottom:10},children:(0,e.jsx)($e.sL,{dataSource:a,columns:j,name:"ws-job-result-setting-suite-server",rowKey:"test_suite_id",size:"small",pagination:!1,className:Ct().test_suite_server_table,refreshDeps:[s],expandable:{columnWidth:30,expandedRowRender:function(p){return(0,e.jsx)(na,{onColumnsChange:function(){return S((0,pt.Z)())},columnsRefresh:c,data:p.cases,testType:s,provider_name:d})},expandIcon:function(p){var Z=p.expanded,b=p.onExpand,g=p.record;return Z?(0,e.jsx)(St.Z,{onClick:function(T){return b(g,T)}}):(0,e.jsx)(Tt.Z,{onClick:function(T){return b(g,T)}})}}})})},aa=o(14582),ia=o(96211),la=o(78938),da=o(39854),ds=o(86323),oa=o(40896),Cn=o(526),ua=o(33705),ca=function(r){var t=r.contrl,a=r.disabled,s=a===void 0?!1:a,d=r.onRef,u=d===void 0?null:d,x=r.template,v=x===void 0?{}:x;if(JSON.stringify(t)==="{}")return(0,e.jsx)(e.Fragment,{});var y=(0,n.YB)(),c=y.formatMessage,S=(0,n.Kd)()==="en-US",j=me.Z.useForm(),h=(0,C.Z)(j,1),p=h[0],Z=(0,i.useState)(!1),b=(0,C.Z)(Z,2),g=b[0],P=b[1],T=(0,i.useState)(!1),w=(0,C.Z)(T,2),F=w[0],O=w[1],R=(0,i.useState)(!1),q=(0,C.Z)(R,2),$=q[0],E=q[1],W=(0,i.useState)("no"),V=(0,C.Z)(W,2),G=V[0],z=V[1],k=function(ie){z(ie.target.value),!s&&p.resetFields(["kernel","devel","headers","kernel_version","scripts"])};(0,i.useImperativeHandle)(u,function(){return{form:p,reset:function(){z("no"),P(!1),O(!1),E(!1),p.resetFields()}}});var ne=(0,n.QT)(function(){return(0,aa.ZP)({enable:"True"})}),Q=ne.data;(0,i.useEffect)(function(){if(JSON.stringify(v)!=="{}"){var B=v.monitor_info,ie=v.need_reboot,te=v.rpm_info,l=v.script_info,A=v.env_info,_=v.kernel_info,m=v.kernel_version,M=v.iclone_info,ee=v.build_pkg_info,ae=[];_&&JSON.stringify(_)!=="{}"&&(ae=(0,f.Z)((0,f.Z)({},ae),_));var J=!1,pe,we;M&&(pe=M.os,we=M.app_name,(pe||we)&&(J=!0,P(J)));var le=!!ee&&JSON.stringify(ee)!=="{}";m&&z("install_push"),!m&&!le&&z("no"),le&&z("install_build_kernel"),_&&JSON.stringify(_)!=="{}"&&!m&&z("install_un_push"),O(ie);var Pe=!1;B&&B.length>0&&(E(!0),Pe=!0);var Ye=A?(0,Cn.xX)(A):"";p.setFieldsValue((0,f.Z)((0,f.Z)({},ae),(0,f.Z)({monitor_info:B&&B.length>0?B:[{}],rpm_info:te&&te.length>0?te:[{rpm:"",pos:"before"}],script_info:l&&l.length>0?l:[{script:"",pos:"before"}],need_reboot:ie,env_info:Ye,reclone_contrl:J,os:pe,app_name:we,moniter_contrl:Pe,kernel_version:m},ee)))}},[v,Q]);var _e=function(ie){var te=ie.target;O(te.value),!s&&p.resetFields(["rpm_info","script_info"])};return(0,e.jsx)(Zt.Z,{className:Ct().customCardCls,title:(0,e.jsx)(n._H,{id:"ws.result.details.env.prepare.config"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},style:{marginBottom:10,borderTop:"none"},children:(0,e.jsx)(me.Z,{colon:!1,layout:"horizontal",size:"small",style:{width:"100%"},name:"env",form:p,labelCol:{span:4},className:"".concat(Ct().job_test_form," ").concat(Ct()[S?"label_style_form_en":"label_style_form"]),initialValues:{rpm_info:[{rpm:"",pos:"before"}],script_info:[{script:"",pos:"before"}],monitor_info:[{}],need_reboot:!1,hotfix_install:!0,scripts:[{script:"",pos:"before"}]},children:(0,e.jsx)(fe.Z,{children:(0,e.jsxs)(H.Z,{span:15,children:["reclone"in t&&(0,e.jsx)(me.Z.Item,{label:t.reclone.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.reclone.name)}),name:"reclone_contrl",initialValue:!1,children:(0,e.jsxs)(Ue.ZP.Group,{disabled:s,onChange:function(ie){var te=ie.target;return P(te.value)},children:[(0,e.jsx)(Ue.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(Ue.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),g&&(0,e.jsxs)(me.Z.Item,{label:" ",children:[(0,e.jsx)(me.Z.Item,{label:(0,e.jsx)(n._H,{id:"ws.result.details.physical"}),children:(0,e.jsxs)(fe.Z,{gutter:10,children:[(0,e.jsx)(H.Z,{span:12,children:(0,e.jsx)(me.Z.Item,{name:"os",noStyle:!0,children:(0,e.jsxs)(it.Z,{getPopupContainer:function(ie){return ie.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.physical.placeholder"}),disabled:s,children:[(0,e.jsx)(it.Z.Option,{value:"AliOS7U2-4.9-x86-64",children:"AliOS7U2-4.9-x86-64"}),(0,e.jsx)(it.Z.Option,{value:"AliOS7U2-aarch64",children:"AliOS7U2-aarch64"}),(0,e.jsx)(it.Z.Option,{value:"AliOS7U2-x86-64",children:"AliOS7U2-x86-64"})]})})}),(0,e.jsx)(H.Z,{span:12,children:(0,e.jsx)(me.Z.Item,{name:"app_name",noStyle:!0,children:(0,e.jsxs)(it.Z,{getPopupContainer:function(ie){return ie.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.app_name.placeholder"}),disabled:s,children:[(0,e.jsx)(it.Z.Option,{value:"baseos_server",children:"baseos_server"}),(0,e.jsx)(it.Z.Option,{value:"app_server",children:"app_server"})]})})})]})}),(0,e.jsx)(me.Z.Item,{name:"vm",label:(0,e.jsx)(n._H,{id:"ws.result.details.vm"}),children:(0,e.jsx)(it.Z,{getPopupContainer:function(ie){return ie.parentNode},placeholder:(0,e.jsx)(n._H,{id:"ws.result.details.vm.placeholder"}),disabled:s})})]}),"kernel_install"in t&&(0,e.jsx)(me.Z.Item,{label:t.kernel_install.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.kernel_install.name)}),children:(0,e.jsxs)(Ue.ZP.Group,{value:G,disabled:s,onChange:k,children:[(0,e.jsx)(Ue.ZP,{value:"no",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_no"})}),(0,e.jsx)(Ue.ZP,{value:"install_push",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_publish"})}),(0,e.jsx)(Ue.ZP,{value:"install_un_push",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_un"})}),(0,e.jsx)(Ue.ZP,{value:"install_build_kernel",children:(0,e.jsx)(n._H,{id:"ws.result.details.install_build"})})]})}),G==="install_push"&&(0,e.jsx)(ia.Z,{form:p,kernel:G,kernelList:Q,disabled:s}),G==="install_un_push"&&(0,e.jsx)(la.Z,{disabled:s,form:p}),G==="install_build_kernel"&&(0,e.jsx)(da.Z,{form:p,disabled:s,project_id:v==null?void 0:v.project_id}),"reboot"in t&&(0,e.jsx)(me.Z.Item,{label:t.reboot.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.reboot.name)}),name:"need_reboot",children:(0,e.jsxs)(Ue.ZP.Group,{disabled:s,onChange:_e,children:[(0,e.jsx)(Ue.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(Ue.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),"global_variable"in t&&(0,e.jsx)(me.Z.Item,{label:t.global_variable.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.global_variable.name)}),children:(0,e.jsxs)(H.Z,{span:24,style:{position:"relative"},children:[(0,e.jsx)(me.Z.Item,{name:"env_info",rules:[function(){return{validator:function(ie,te){if(te){var l=/^(\w+=((('[^']+'|"[^"]+")|.+)( |\n)))*\w+=(('[^']+'|"[^"]+")|.+)$/;return l.test(te)?Promise.resolve():Promise.reject(c({id:"format.key.value"}))}else return Promise.resolve()}}}],children:(0,e.jsx)(tt.Z.TextArea,{disabled:s,placeholder:c({id:"format.key.value"}),autoSize:{maxRows:10,minRows:3}})}),p.getFieldValue("env_info")&&(0,e.jsx)(ua.db,{style:{right:-20},onCopy:function(){return p.getFieldValue("env_info")}})]})}),"rpm"in t&&(0,e.jsx)(ds.Z,{form:p,label:t.rpm.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.rpm.name)}),listName:"rpm_info",textName:"rpm",radioName:"pos",buttonText:c({id:"ws.result.details.rpm.add"}),placeholder:c({id:"ws.result.details.please.enter.rpm"}),buttonShow:F,disabled:s}),"script"in t&&(0,e.jsx)(ds.Z,{form:p,label:t.script.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.script.name)}),listName:"script_info",textName:"script",radioName:"pos",buttonText:c({id:"ws.result.details.script.add"}),placeholder:c({id:"ws.result.details.please.enter.script"}),buttonShow:F,disabled:s}),"monitor"in t&&(0,e.jsx)(me.Z.Item,{label:t.monitor.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(t.monitor.name,".config")}),name:"moniter_contrl",initialValue:!1,children:(0,e.jsxs)(Ue.ZP.Group,{disabled:s,onChange:function(ie){var te=ie.target;return E(te.value)},children:[(0,e.jsx)(Ue.ZP,{value:!0,children:(0,e.jsx)(n._H,{id:"operation.yes"})}),(0,e.jsx)(Ue.ZP,{value:!1,children:(0,e.jsx)(n._H,{id:"operation.no"})})]})}),$&&(0,e.jsx)(oa.Z,{disabled:s,formComponent:p})]})})})})},mi=o(39693),os=o(12568),Sn=o(6895),fa=o(74066),va=it.Z.Option,ma=function(r){var t,a,s,d,u=r.contrl,x=r.disabled,v=x===void 0?!1:x,y=r.onRef,c=y===void 0?null:y,S=r.template,j=S===void 0?{}:S,h=(0,Re.UO)(),p=h.ws_id;if(JSON.stringify(u)==="{}")return(0,e.jsx)(e.Fragment,{});var Z=(0,n.YB)(),b=Z.formatMessage,g=(0,n.Kd)()==="en-US",P=me.Z.useForm(),T=(0,C.Z)(P,1),w=T[0],F=(0,i.useState)([]),O=(0,C.Z)(F,2),R=O[0],q=O[1],$=i.useState(),E=(0,C.Z)($,2),W=E[0],V=E[1],G=(0,i.useState)([]),z=(0,C.Z)(G,2),k=z[0],ne=z[1],Q=(0,i.useState)({}),_e=(0,C.Z)(Q,2),B=_e[0],ie=_e[1];(0,i.useImperativeHandle)(c,function(){return{form:w,reset:function(){w.resetFields()}}});var te=function(){var _=(0,Ze.Z)((0,X.Z)().mark(function m(){var M,ee;return(0,X.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,os.oG)({ws_id:p});case 2:M=J.sent,ee=M.data,q(ee);case 5:case"end":return J.stop()}},m)}));return function(){return _.apply(this,arguments)}}(),l=function(){var _=(0,Ze.Z)((0,X.Z)().mark(function m(){var M,ee,ae,J,pe;return(0,X.Z)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.prev=0,le.next=3,(0,Ln.MD)({ws_id:p,page_size:99999});case 3:M=le.sent,ee=M.code,ae=M.data,ee===200&&(J=_t().isArray(ae)?ae:[],pe=_t().find(J,{is_default:!0}),ne(J),ie(pe)),le.next=12;break;case 9:le.prev=9,le.t0=le.catch(0),console.log(le.t0);case 12:case"end":return le.stop()}},m,null,[[0,9]])}));return function(){return _.apply(this,arguments)}}();(0,i.useEffect)(function(){l(),te()},[]),(0,i.useEffect)(function(){var _=_t().cloneDeep(w.getFieldsValue());if(JSON.stringify(j)==="{}"&&JSON.stringify(B)!=="{}"&&w.setFieldsValue((0,f.Z)((0,f.Z)({},_),{},{report_template_id:_t().get(B,"id")})),JSON.stringify(j)!=="{}"){var m,M,ee,ae=j.cleanup_info,J=j.tags,pe=j.notice_info,we=j.report_name,le=j.callback_api,Pe=j.report_template_id;if(_t().isArray(pe)&&pe.forEach(function(Ge){m=Ge.subject,Ge.type==="email"&&(M=Ge.to),Ge.type==="ding"&&(ee=Ge.to)}),_t().isArray(k)){var Ye=_t().find(k,["id",j.report_template_id]);Pe=_t().get(Ye,"id")}w.setFieldsValue((0,f.Z)((0,f.Z)({},j),{},{cleanup_info:ae,tags:J,notice_subject:m,email:M,ding_token:ee,report_template_id:Pe,report_name:we,callback_api:le})),V(we)}},[B,k,j]);var A=function(m){var M=m.target.value,ee=_t().cloneDeep(w.getFieldsValue());w.setFieldsValue((0,f.Z)((0,f.Z)({},ee),{},{report_name:M})),V(M)};return(0,e.jsx)(Zt.Z,{title:(0,e.jsx)(n._H,{id:"ws.result.details.more.configurations"}),bodyStyle:{paddingTop:0},headStyle:{borderBottom:"none"},children:(0,e.jsx)(me.Z,{colon:!1,layout:"horizontal",size:"small",labelCol:{span:4},style:{width:"100%"},name:"more",form:w,className:"".concat(Ct().job_test_form," ").concat(Ct()[g?"label_style_form_en":"label_style_form"]),children:(0,e.jsx)(fe.Z,{children:(0,e.jsxs)(H.Z,{span:15,children:["cleanup"in u&&(0,e.jsx)(me.Z.Item,{name:"cleanup_info",label:u.cleanup.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.cleanup.name)}),children:(0,e.jsx)(tt.Z.TextArea,{disabled:v,placeholder:b({id:"ws.result.details.cleanup.placeholder"})})}),"job_tag"in u&&(0,e.jsx)(Sn.OT,{tags:R,label:u.job_tag.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.job_tag.name)}),disabled:v}),"notice_subject"in u&&(0,e.jsx)(me.Z.Item,{name:"notice_subject",label:u.notice_subject.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.notice_subject.name)}),children:(0,e.jsx)(tt.Z,{autoComplete:"off",disabled:v,placeholder:b({id:"ws.result.details.notice_subject.placeholder"},{date:"{date}"})})}),"email_notice"in u&&(0,e.jsx)(me.Z.Item,{name:"email",label:u.email_notice.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.email_notice.name)}),rules:[{pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:b({id:"ws.result.details.email.message"})}],children:(0,e.jsx)(tt.Z,{autoComplete:"off",disabled:v,placeholder:b({id:"ws.result.details.email.placeholder"})})}),"ding_notice"in u&&(0,e.jsx)(me.Z.Item,{name:"ding_token",label:u.ding_notice.alias||(0,e.jsx)(n._H,{id:"ws.result.details.".concat(u.ding_notice.name)}),children:(0,e.jsx)(tt.Z,{autoComplete:"off",disabled:v,placeholder:b({id:"ws.result.details.ding_notice.placeholder"})})}),"report"in u&&(0,e.jsxs)(me.Z.Item,{label:(u==null||(t=u.report)===null||t===void 0?void 0:t.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.report"}),name:"report_name",children:[(0,e.jsx)(tt.Z,{value:W||void 0,onChange:A,autoComplete:"off",disabled:v,placeholder:b({id:"ws.result.details.report.placeholder"},{job_name:"{job_name}",report_seq_id:"{report_seq_id}"})}),(0,e.jsx)(Jn.Z,{content:(0,e.jsxs)("div",{children:[b({id:"ws.result.details.report.Popover"}),(0,e.jsx)("p",{children:"{date} {job_name} {job_id} {product_version}"})]}),children:(0,e.jsx)(fa.Z,{className:Ct().question_icon})})]}),W&&"report"in u&&(0,e.jsx)(me.Z.Item,{name:"report_template_id",label:(u==null||(a=u.report)===null||a===void 0?void 0:a.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.report_template"}),children:(0,e.jsx)(it.Z,{showSearch:!0,disabled:v,placeholder:b({id:"ws.result.details.report_template.placeholder"}),defaultValue:B==null?void 0:B.name,optionFilterProp:"children",filterOption:function(m,M){return(M==null?void 0:M.toLowerCase().indexOf(m.toLowerCase()))>=0},children:k.map(function(_){return(0,e.jsx)(va,{value:_.id,children:_.name},_.id)})})}),"callback_api"in u&&(0,e.jsx)(me.Z.Item,{name:"callback_api",label:(u==null||(s=u.callback_api)===null||s===void 0?void 0:s.alias)||(0,e.jsx)(n._H,{id:"ws.result.details.callback_api"}),children:(0,e.jsx)(tt.Z,{autoComplete:"off",disabled:v,placeholder:b({id:"ws.result.details.callback_api.placeholder"})})}),!1]})})})})},pa=o(67164),ha=function(r){var t=r.jt_id,a=r.test_type,s=r.provider_name,d=(0,Re.UO)(),u=d.id,x=d.ws_id,v=(0,U.SE)(a),y=(0,n.QT)(function(){return(0,Ce.Cl)({job_id:u})},{initialData:{test_config:[]},formatResult:function(b){return b.code===200?b.data[0]:{test_config:[]}}}),c=y.data,S=y.loading,j=(0,n.QT)(function(){return(0,pa.Dn)({jt_id:t,ws_id:x})},{initialData:[]}),h=j.data,p=(0,i.useMemo)(function(){var Z={},b={},g={},P={};return h.forEach(function(T){T.config_index===1&&(Z[T.name]=T),T.config_index===2&&(b[T.name]=T),T.config_index===3&&(g[T.name]=T),T.config_index===4&&(P[T.name]=T)}),{basic:Z,env:b,suite:g,more:P}},[h]);return(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsx)(De.Z,{spinning:S,children:(0,e.jsxs)("div",{style:{background:"#F5F5F5"},children:[(0,e.jsx)(ca,{contrl:p.env,disabled:!0,template:c}),(0,e.jsx)(ra,{data:c==null?void 0:c.test_config,testType:v,provider_name:s}),(0,e.jsx)(ma,{contrl:p.more,disabled:!0,template:c})]})})})},sn=o(93329),_a=o(43480),xa=(0,i.forwardRef)(function(r,t){var a=(0,n.YB)(),s=a.formatMessage,d=me.Z.useForm(),u=(0,C.Z)(d,1),x=u[0],v=(0,i.useState)(!1),y=(0,C.Z)(v,2),c=y[0],S=y[1],j=(0,i.useState)(!1),h=(0,C.Z)(j,2),p=h[0],Z=h[1],b=(0,i.useState)(),g=(0,C.Z)(b,2),P=g[0],T=g[1];(0,i.useImperativeHandle)(t,function(){return{show:function(){S(!0),T(s({id:"please.enter.message"})),x.setFieldsValue({tag_color:"rgb(255,157,78,1)"})}}});var w=function(){x.resetFields(),S(!1),Z(!1)},F=function(){Z(!1)},O=function(){p||(Z(!0),T(void 0),x.validateFields().then(function(){var q=(0,Ze.Z)((0,X.Z)().mark(function $(E){var W,V,G;return(0,X.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,(0,Ce._U)((0,f.Z)({ws_id:r.ws_id},E));case 2:W=k.sent,V=W.code,G=W.msg,V===200?(r.onOk(),w(),He.default.success(s({id:"operation.success"}))):V===1302?T(s({id:"ws.result.details.tag_name.already.exists"})):(Z(!1),He.default.error(G));case 6:case"end":return k.stop()}},$)}));return function($){return q.apply(this,arguments)}}()).catch(function(){Z(!1)}))};return(0,e.jsx)(En.Z,{width:460,title:(0,e.jsx)(n._H,{id:"ws.result.details.new.tag"}),visible:c,centered:!0,onCancel:w,maskClosable:!1,onOk:O,okText:(0,e.jsx)(n._H,{id:"operation.confirm"}),cancelText:(0,e.jsx)(n._H,{id:"operation.cancel"}),children:(0,e.jsx)(De.Z,{spinning:!1,children:(0,e.jsxs)(me.Z,{form:x,layout:"vertical",children:[(0,e.jsx)(me.Z.Item,{name:"tag_color",label:(0,e.jsx)(n._H,{id:"ws.result.details.tag_color"}),children:(0,e.jsx)(_a.Z,{})}),(0,e.jsx)(me.Z.Item,{name:"name",label:(0,e.jsx)(n._H,{id:"ws.result.details.tag_name"}),help:P,rules:[{required:!0,max:32,message:s({id:"please.enter.message"}),pattern:/^[A-Za-z0-9\._-]*$/g}],children:(0,e.jsx)(tt.Z,{onFocus:F})}),(0,e.jsx)(me.Z.Item,{name:"description",label:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"}),children:(0,e.jsx)(tt.Z.TextArea,{rows:4,placeholder:s({id:"ws.result.details.please.enter.remarks"})})})]})})})}),ga=function(t){var a,s,d=t.label,u=t.closable,x=t.onClose,v=t.value;return(0,e.jsx)(Je.Z,{color:(a=d.props)===null||a===void 0?void 0:a.color,closable:u,onClose:x,style:{marginRight:3},children:((s=d.props)===null||s===void 0?void 0:s.children)||v})},ja=function(r){var t=r.tags,a=t===void 0?[]:t,s=r.onOk,d=r.ws_id,u=r.job_id,x=r.creator_id,v=r.accessLabel,y=r.width,c=(0,i.useState)(!1),S=(0,C.Z)(c,2),j=S[0],h=S[1],p=(0,i.useState)([]),Z=(0,C.Z)(p,2),b=Z[0],g=Z[1],P=(0,n.md)(),T=(0,n.QT)(function(){return(0,os.oG)({ws_id:d})},{manual:!0,initialData:[]}),w=T.data,F=T.loading,O=T.refresh,R=T.run,q=(0,i.useRef)(null),$=function(){h(!1)},E=function(){var k=(0,Ze.Z)((0,X.Z)().mark(function ne(){var Q,_e,B;return(0,X.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,Ce.ED)({job_id:u,tag_id:b,ws_id:d});case 2:if(Q=te.sent,_e=Q.code,B=Q.msg,_e===200){te.next=8;break}return(0,U.EV)(_e,B),te.abrupt("return");case 8:s(),$();case 10:case"end":return te.stop()}},ne)}));return function(){return k.apply(this,arguments)}}();(0,i.useEffect)(function(){R()},[d]),(0,i.useEffect)(function(){g(a.map(function(k){return k.id}))},[a]);var W=function(){R(),h(!0)},V=function(ne){g(ne)},G=function(){var ne;(ne=q.current)===null||ne===void 0||ne.show()},z={paddingTop:5,paddingRight:8};return(0,e.jsxs)("div",{style:{width:"calc(100% - ".concat(y,"px)")},children:[j?(0,e.jsxs)(re.Z,{size:8,children:[(0,e.jsx)(it.Z,{mode:"multiple",value:b,loading:F,size:"small",style:{width:600},tagRender:ga,onChange:V,allowClear:!0,getPopupContainer:function(ne){return ne.parentNode},dropdownRender:function(ne){return(0,e.jsxs)("div",{children:[ne,v&&(0,e.jsx)("div",{style:{maxHeight:300,overflow:"auto",padding:"10px",borderTop:"1px solid #eee",marginBottom:"-4px"},onClick:G,children:(0,e.jsxs)("span",{className:hn().test_summary_job,children:[(0,e.jsx)(_n.Z,{style:{marginRight:8,color:"#1890ff"}}),(0,e.jsx)(n._H,{id:"ws.result.details.new.tag"})]})})]})},options:w.map(function(k){return{value:k.id,label:(0,e.jsx)(Je.Z,{color:k.tag_color,children:k.name})}})}),(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(ke.Z,{onClick:$,size:"small",children:(0,e.jsx)(n._H,{id:"operation.cancel"})}),(0,e.jsx)(ke.Z,{onClick:E,size:"small",type:"primary",children:(0,e.jsx)(n._H,{id:"operation.ok"})})]})]}):(0,e.jsxs)(re.Z,{wrap:!0,size:4,children:[(0,e.jsx)(n.Nv,{accessible:P.WsTourist()&&P.WsMemberOperateSelf(x),fallback:(0,e.jsx)(sn.Z,{onClick:function(){return(0,U.WR)()},style:z}),children:(0,e.jsx)(sn.Z,{onClick:W,style:z})}),a.length>0?a.map(function(k){return(0,e.jsx)(Je.Z,{style:{margin:0},color:k.color,children:k.name},k.id)}):(0,e.jsx)("span",{style:{color:"rgba(0,0,0,0.85)"},children:"-"})]}),(0,e.jsx)(xa,{ref:q,ws_id:d,onOk:O})]})},ba=o(20038),ya=o(65871),wa=o.n(ya),Za=function(){var t=(0,Cn.CR)(),a=t.height,s=(0,Re.UO)(),d=s.ws_id,u=(0,n.YB)();return(0,e.jsxs)(Mt.Z,{style:{padding:20,height:a-50,minHeight:0,overflowX:"scroll",background:"#f5f5f5"},children:[(0,e.jsx)(de.gN,{bottomHeight:20}),(0,e.jsx)(Mt.Z.Content,{style:{background:"#fff"},children:(0,e.jsx)("div",{style:{backgroundColor:"#fff",height:a-140},children:(0,e.jsx)("div",{style:{textAlign:"center",position:"relative",top:"50%",transform:"translateY(-50%)"},children:(0,e.jsx)(re.Z,{direction:"vertical",children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)("div",{style:{display:"inline-block"},children:(0,e.jsx)("img",{alt:"icon",src:wa()})}),(0,e.jsxs)("div",{style:{textAlign:"left",display:"inline-block",marginLeft:80},children:[(0,e.jsx)("div",{style:{color:"#000",fontSize:48,opacity:.85,fontWeight:"bold"},children:"\u62B1\u6B49\uFF0C\u9875\u9762\u65E0\u6CD5\u8BBF\u95EE\u2026"}),(0,e.jsx)("div",{style:{color:"#000",fontSize:16,opacity:.45,marginTop:20,marginBottom:20},children:"\u9875\u9762\u94FE\u63A5\u53EF\u80FD\u5DF2\u5931\u6548\u6216\u88AB\u5220\u9664"}),(0,e.jsx)(I.Z.Link,{onClick:function(){return n.m8.push(d?"/ws/".concat(d,"/test_result"):"/")},children:u.formatMessage({defaultMessage:"\u8FD4\u56DE\u9996\u9875",id:"page.500.button"})})]})]})})})})})]})},Ca=Za,rn=o(46601),Sa=o(99193),Ta=function(t){var a=(0,Re.UO)(),s=a.ws_id,d=(0,i.useState)(!0),u=(0,C.Z)(d,2),x=u[0],v=u[1],y=(0,i.useState)(!0),c=(0,C.Z)(y,2),S=c[0],j=c[1],h=(0,i.useState)([]),p=(0,C.Z)(h,2),Z=p[0],b=p[1],g=function(){v(!x)},P=t.job_id,T=function(){var F=(0,Ze.Z)((0,X.Z)().mark(function O(){var R,q;return(0,X.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return j(!0),E.next=3,(0,Ce.dy)({job_id:P});case 3:R=E.sent,q=R.data,b(q||[]),j(!1);case 7:case"end":return E.stop()}},O)}));return function(){return F.apply(this,arguments)}}();(0,i.useEffect)(function(){T()},[P]);var w=[{title:"IP",render:function(O,R){return R.device_type?(0,e.jsx)("span",{children:R.ip||"-"}):(0,e.jsx)("span",{children:R.pub_ip||"-"})}},{title:"SN",dataIndex:"sn"},{title:(0,e.jsx)(n._H,{id:"ws.result.details.provider_name"}),dataIndex:"device_type",render:function(O){return(0,e.jsx)(e.Fragment,{children:O||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.channel_type"}),dataIndex:"channel_type",render:function(O){return(0,e.jsx)(e.Fragment,{children:O||"-"})}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.use_state"}),dataIndex:"state",render:function(O,R){return(0,Sn.Ul)(O,R,s)}},{title:(0,e.jsx)(n._H,{id:"ws.result.details.real_state"}),dataIndex:"real_state",render:function(O,R){return(0,Sn.Ul)(O,R,s)}}];return Z.length?(0,e.jsx)(De.Z,{spinning:S,children:(0,e.jsxs)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:[(0,e.jsxs)(fe.Z,{style:{marginBottom:16},children:[(0,e.jsxs)(H.Z,{span:22,children:[(0,e.jsx)(rn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(I.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.test.machine.failure"})}),(0,e.jsxs)(fe.Z,{style:{padding:"4px 0 0 60px"},children:[(0,e.jsx)(I.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.failed.server"})}),Array.isArray(Z)&&Z.map(function(F,O){var R=F.ip,q=F.sn,$=F.pub_ip,E=F.device_type,W=E?R:$,V=W&&q?W+"/"+q:W||q;return(0,e.jsx)("span",{style:{marginRight:20},children:V},O)})]})]}),(0,e.jsx)(H.Z,{span:2,style:{textAlign:"right",paddingRight:18},children:(0,e.jsx)("div",{style:{paddingTop:38,cursor:"pointer"},onClick:g,children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(I.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"#1890FF"},children:x?(0,e.jsx)(n._H,{id:"operation.expand"}):(0,e.jsx)(n._H,{id:"operation.collapse"})}),x?(0,e.jsx)(Rn.Z,{style:{color:"#1890FF"}}):(0,e.jsx)(Sa.Z,{style:{color:"#1890FF"}})]})})})]}),!x&&(0,e.jsx)(fe.Z,{style:{padding:"0 20px 16px 20px"},children:(0,e.jsx)(H.Z,{span:24,className:hn().machineTable,children:(0,e.jsx)(kt.Z,{columns:w,dataSource:Z,pagination:!1,size:"small"})})})]})}):(0,e.jsx)(e.Fragment,{})},ka=Ta,Ra=function(t){var a=t.aliyun_is_instance_release,s=t.cluster_msg,d=t.server_occupied,u=t.provider_name,x=(0,Re.UO)(),v=x.ws_id,y=function(S){return!!(S&&typeof S=="string"&&S.length>0)};return y(a)?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(fe.Z,{style:{marginBottom:16},children:(0,e.jsxs)(H.Z,{span:24,children:[(0,e.jsx)(rn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsxs)(I.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:[(0,e.jsx)(n._H,{id:"aliyunServer"})," ",(0,e.jsx)(n._H,{id:"ws.result.details.instance.released"})]}),(0,e.jsx)(fe.Z,{style:{padding:"4px 0 0 60px"},children:(0,e.jsx)(I.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:a})})]})})}):y(s)?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(fe.Z,{style:{marginBottom:16},children:(0,e.jsxs)(H.Z,{span:24,children:[(0,e.jsx)(rn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(I.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.machine.config.error"})}),(0,e.jsx)(fe.Z,{style:{padding:"4px 0 0 60px"},children:(0,e.jsx)(I.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)("a",{href:u==="cluster"?"/ws/".concat(v,"/device/cloud"):"/ws/".concat(v,"/device/group"),target:"_blank",children:s})})})]})})}):d&&!!d.length?(0,e.jsx)("div",{style:{background:"#FFFBE6",border:"1px solid #FFE58F",marginBottom:10},children:(0,e.jsx)(fe.Z,{style:{marginBottom:16},children:(0,e.jsxs)(H.Z,{span:24,children:[(0,e.jsx)(rn.Z,{style:{color:"#FAAD14",padding:"16px 18px 0 26px"}}),(0,e.jsx)(I.Z.Text,{style:{paddingTop:16,fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.85)"},children:(0,e.jsx)(n._H,{id:"ws.result.details.machine.occupied.by.job"})}),(0,e.jsxs)(fe.Z,{style:{padding:"4px 0 0 60px"},children:[(0,e.jsx)(I.Z.Text,{style:{fontFamily:"PingFangSC-Medium",color:"rgba(0,0,0,0.65)",marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.occupy.job"})}),d.map(function(c){return(0,e.jsxs)("span",{style:{marginRight:20},onClick:function(){return setTimeout(function(){window.location.href="/ws/".concat(v,"/test_result/").concat(c.job_id)})},children:[c.job_name,"/",c.job_id]},c.job_id)})]})]})})}):(0,e.jsx)(e.Fragment,{})},Ea=Ra,Oa=o(24637),pi=o(89963),Tn=o(70077),us=o(45972),Fa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"},Ia=Fa,Pa=o(25078),cs=function(t,a){return i.createElement(Pa.Z,(0,us.Z)((0,us.Z)({},t),{},{ref:a,icon:Ia}))};cs.displayName="ShareAltOutlined";var Da=i.forwardRef(cs),fs,vs=(0,vt.ZP)(I.Z.Text)(fs||(fs=(0,ft.Z)([`
    cursor: pointer;
    font-size: 16px;
    &:hover {
        color: #1890ff
    }
`]))),At=["running","pending","pending_q"],Ha=function(t){return new Promise(function(a){return setTimeout(a,t)})},Ba=function(t){var a=t.state,s=t.bottomHeight,d=(0,Re.UO)(),u=d.ws_id,x=d.id,v=(0,n.md)(),y=(0,n.YB)(),c=i.useRef(null),S=i.useState(),j=(0,C.Z)(S,2),h=j[0],p=j[1],Z=i.useState(!1),b=(0,C.Z)(Z,2),g=b[0],P=b[1],T=i.useState(!1),w=(0,C.Z)(T,2),F=w[0],O=w[1],R=(0,Cn.oM)(y.formatMessage({id:"request.copy.success"})),q=function(){var G=(0,Ze.Z)((0,X.Z)().mark(function z(){var k,ne,Q,_e,B;return(0,X.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return P(!0),te.next=3,(0,Ce._N)({job_id:x});case 3:if(k=te.sent,ne=k.data,Q=k.code,P(!1),Q===200){te.next=9;break}return te.abrupt("return");case 9:if(ne){te.next=11;break}return te.abrupt("return");case 11:if(_e=ne.state,B=ne.job_url,_e!=="running"){te.next=19;break}return O(!0),F||He.default.loading({key:"download_running_".concat(u,"_").concat(x),content:y.formatMessage({id:"ws.result.details.breadcrumb.button.download.running"}),duration:0}),te.next=17,Ha(1500);case 17:return q(),te.abrupt("return");case 19:He.default.destroy("download_running_".concat(u,"_").concat(x)),_e==="success"&&(p(B),O(!1)),_e==="fail"&&(O(!1),He.default.error(y.formatMessage({id:"ws.result.details.breadcrumb.button.download.fail"})));case 22:case"end":return te.stop()}},z)}));return function(){return G.apply(this,arguments)}}(),$=function(){var G=(0,Ze.Z)((0,X.Z)().mark(function z(){var k,ne,Q;return(0,X.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!h){B.next=3;break}return(k=c.current)===null||k===void 0||k.click(),B.abrupt("return");case 3:if(!F){B.next=5;break}return B.abrupt("return");case 5:if(g){B.next=13;break}return B.next=8,(0,Ce.$Y)({job_id:x});case 8:if(ne=B.sent,Q=ne.code,Q===200){B.next=12;break}return B.abrupt("return",He.default.error(y.formatMessage({id:"ws.result.details.breadcrumb.button.download.fail"})));case 12:q();case 13:case"end":return B.stop()}},z)}));return function(){return G.apply(this,arguments)}}();i.useEffect(function(){var G;h&&((G=c.current)===null||G===void 0||G.click())},[h]);var E=window.location,W=E.origin,V=E.pathname;return(0,e.jsxs)(fe.Z,{justify:"space-between",children:[(0,e.jsxs)(Tn.Z,{style:{marginBottom:s},children:[(0,e.jsx)(Tn.Z.Item,{children:(0,e.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return n.m8.push("/ws/".concat(u,"/test_result"))},children:(0,e.jsx)(n._H,{id:"ws.result.details.test.result"})})}),(0,e.jsx)(Tn.Z.Item,{children:(0,e.jsx)(n._H,{id:"ws.result.details.result.details"})})]}),(0,e.jsx)(n.Nv,{accessible:v.IsWsSetting(),children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(Le.Z,{placement:"bottom",title:y.formatMessage({id:"ws.result.details.breadcrumb.button.share"}),children:(0,e.jsx)(vs,{onClick:function(){return R(W+V)},children:(0,e.jsx)(Da,{})})}),!At.includes(a)&&(0,e.jsx)(Le.Z,{placement:"bottom",title:y.formatMessage({id:"ws.result.details.breadcrumb.button.download"}),children:(0,e.jsx)(vs,{onClick:$,children:(0,e.jsx)(In.Z,{})})})]})}),(0,e.jsx)("a",{ref:c,href:h,target:"_blank",style:{display:"none"},rel:"noreferrer"})]})},Ot=function(t){var a=t.name,s=t.dataIndex,d=t.isLink,u=t.onClick,x=(0,n.Kd)()==="en-US",v=x?120:58;return(0,e.jsxs)(H.Z,{span:8,style:{display:"flex",alignItems:"start"},children:[(0,e.jsx)(I.Z.Text,{className:Ae().test_summary_item,style:{width:v},children:a}),d?(0,e.jsx)(I.Z.Text,{className:Ae().test_summary_item_right,style:{cursor:"pointer",color:"#1890FF",width:"calc(100% - ".concat(v,"px - 16px)")},children:(0,e.jsx)("span",{onClick:u,children:s||"-"})}):(0,e.jsx)(I.Z.Text,{className:Ae().test_summary_item_right,style:{width:"calc( 100% - ".concat(v,"px - 16px)")},children:s||"-"})]})},Ma=function(t){var a=(0,n.md)(),s=t.creator_id,d=t.note,u=t.refresh,x=(0,Re.UO)(),v=x.id,y=i.useRef(),c=function(){var h;(h=y.current)===null||h===void 0||h.show({editor_obj:"job",job_id:v,note:d})},S={paddingTop:5,marginRight:10};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.Nv,{accessible:a.WsMemberOperateSelf(s),fallback:(0,e.jsx)(sn.Z,{onClick:function(){return(0,U.WR)()},style:(0,f.Z)({},S)}),children:(0,e.jsx)(sn.Z,{onClick:c,style:(0,f.Z)({},S)})}),(0,e.jsx)(Vt,{ref:y,onOk:u})]})},La=function(){var t,a=(0,n.YB)(),s=a.formatMessage,d=(0,n.Kd)()==="en-US",u=d?120:58,x=(0,Re.UO)(),v=x.ws_id,y=x.id,c=(0,Re.TH)(),S=c.pathname,j=c.query,h=(0,n.md)(),p=(0,i.useState)(j!=null&&j.tab?+j.tab:1),Z=(0,C.Z)(p,2),b=Z[0],g=Z[1],P=(0,i.useRef)(),T=(0,i.useRef)(),w=i.useState(!1),F=(0,C.Z)(w,2),O=F[0],R=F[1],q=i.useState(!1),$=(0,C.Z)(q,2),E=$[0],W=$[1],V=(0,i.useRef)(null),G=(0,i.useRef)(null),z=(0,n.tT)("@@initialState"),k=z.initialState,ne=i.useState(!0),Q=(0,C.Z)(ne,2),_e=Q[0],B=Q[1],ie=i.useState({}),te=(0,C.Z)(ie,2),l=te[0],A=te[1],_=i.useRef(null),m=function(){var Ee=(0,Ze.Z)((0,X.Z)().mark(function oe(){var K,D,Y,he,se;return(0,X.Z)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return B(!0),je.next=3,(0,Ce.xO)({job_id:y,ws_id:v});case 3:if(K=je.sent,D=K.data,Y=K.code,B(!1),!(Y!==200||Object.prototype.toString.call(D)!=="[object Array]"||D.length===0)){je.next=9;break}return je.abrupt("return",A({}));case 9:if(he=(0,C.Z)(D,1),se=he[0],se){je.next=12;break}return je.abrupt("return",A({}));case 12:(se==null?void 0:se.state)==="running"&&g(2),A(se),setTimeout(function(){document.title="#".concat(y," ").concat(se==null?void 0:se.name," - T-One")},300);case 15:case"end":return je.stop()}},oe)}));return function(){return Ee.apply(this,arguments)}}();i.useEffect(function(){return m(),function(){_.current&&clearTimeout(_.current),A({})}},[]);var M=function(){var Ee=(0,Ze.Z)((0,X.Z)().mark(function oe(){var K,D,Y,he;return(0,X.Z)().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(K=l.state,At.includes(K)){xe.next=3;break}return xe.abrupt("return");case 3:return xe.next=5,(0,et.Rg)({job_id:y,ws_id:v});case 5:if(D=xe.sent,Y=D.data.job_state,he=D.code,he===200){xe.next=10;break}return xe.abrupt("return");case 10:At.includes(Y)&&(_.current=setTimeout(M,5e3)),A(function(je){return(0,f.Z)((0,f.Z)({},je),{},{state:Y})});case 12:case"end":return xe.stop()}},oe)}));return function(){return Ee.apply(this,arguments)}}();i.useEffect(function(){var Ee=l.state;_.current&&setTimeout(_.current),Ee&&M()},[l==null?void 0:l.state]);var ee=function(oe){g(oe),n.m8.replace("".concat(S,"?tab=").concat(oe))},ae=function(){He.default.success(s({id:"operation.success"})),m()},J=function(){return(0,Bt.isNull)(l==null?void 0:l.baseline_job_id)?l==null?void 0:l.baseline_name:(0,e.jsxs)("a",{href:"/ws/".concat(v,"/test_result/").concat(l==null?void 0:l.baseline_job_id),children:["# ",l==null?void 0:l.baseline_job_id]})},pe=function(){var Ee=(0,Ze.Z)((0,X.Z)().mark(function oe(){var K,D,Y;return(0,X.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(l.collection){se.next=6;break}return se.next=3,(0,et.dN)({job_id:y});case 3:se.t0=se.sent,se.next=9;break;case 6:return se.next=8,(0,et.pi)({job_id:y});case 8:se.t0=se.sent;case 9:if(K=se.t0,D=K.msg,Y=K.code,Y===200){se.next=14;break}return se.abrupt("return",(0,U.EV)(Y,D));case 14:A(function(xe){return(0,f.Z)((0,f.Z)({},xe),{},{collection:!xe.collection})});case 15:case"end":return se.stop()}},oe)}));return function(){return Ee.apply(this,arguments)}}(),we=function(){var Ee=(0,Ze.Z)((0,X.Z)().mark(function oe(){var K,D,Y,he,se,xe;return(0,X.Z)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!O){Oe.next=2;break}return Oe.abrupt("return");case 2:return R(!0),K=k==null?void 0:k.authList,D=K.user_id,Y=D?{user_id:D}:{},Oe.next=7,(0,Ce.Xc)((0,f.Z)((0,f.Z)({},Y),{},{editor_obj:"job",job_id:y,state:"stop"}));case 7:if(he=Oe.sent,se=he.code,xe=he.msg,se===200){Oe.next=14;break}return(0,U.EV)(se,xe),R(!1),Oe.abrupt("return");case 14:He.default.success(s({id:"operation.success"})),m(),b===1&&W(!0),b===2&&T.current.refresh(),R(!1);case 19:case"end":return Oe.stop()}},oe)}));return function(){return Ee.apply(this,arguments)}}(),le={wordBreak:"break-all",whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2},Pe=function(){P.current.show(l)},Ye=l!=null&&(t=l.report_li)!==null&&t!==void 0&&t.length?"default":"primary",Ge=(l==null?void 0:l.created_from)==="offline",nt=function(oe){return new Map([["\u5185\u7F51\u673A\u5668",s({id:"aligroupServer"})],["\u4E91\u4E0A\u673A\u5668",s({id:"aliyunServer"})],["aligroup",s({id:"aligroupServer"})],["aliyun",s({id:"aliyunServer"})]]).get(oe)},gt=function(oe){return new Map([["\u5185\u7F51\u673A\u5668","aligroup"],["\u4E91\u4E0A\u673A\u5668","aliyun"],["aligroup","aligroup"],["aliyun","aliyun"]]).get(oe)},bt=[[1,"testResult",(0,e.jsx)(br,{creator:l.creator,test_type:l.test_type,job_id:y,cases:l.case_result,caseResult:l.case_result,provider_name:gt(l.provider_name),ws_id:v,refreshResult:E},"testResult")],[2,"testProgress",(0,e.jsx)(zr,{job_id:y,onRef:T,test_type:l==null?void 0:l.test_type,provider_name:gt(l==null?void 0:l.provider_name)},"testProgress")],[3,"testConfig",(0,e.jsx)(ha,{jt_id:l==null?void 0:l.job_type_id,provider_name:gt(l==null?void 0:l.provider_name),test_type:l==null?void 0:l.test_type},"testConfig")]];return(0,e.jsxs)(De.Z,{spinning:_e,className:Ae().spin_style,children:[JSON.stringify(l)==="{}"?(0,e.jsx)(Ca,{}):(0,e.jsxs)("div",{style:{background:"#F5F5F5",width:"100%",overflowX:"hidden",overflowY:"auto"},children:[(0,e.jsxs)("div",{style:{minHeight:270,marginBottom:10,background:"#fff",padding:20},children:[(0,e.jsx)(Ba,(0,f.Z)({bottomHeight:4},l)),(0,e.jsxs)("div",{style:{paddingLeft:20,position:"relative"},children:[(0,e.jsx)(n.Nv,{accessible:h.WsTourist(),children:l!=null&&l.collection?(0,e.jsx)(ve.Z,{style:{color:"#F7B500"},className:Ae().detail_collection,onClick:pe}):(0,e.jsx)(N.Z,{style:{color:"#4F4F4F"},className:Ae().detail_collection,onClick:pe})}),(0,e.jsxs)(fe.Z,{className:Ae().test_result_name,align:"middle",children:["#".concat(l==null?void 0:l.id," ").concat(l==null?void 0:l.name),(l==null?void 0:l.created_from)==="offline"&&(0,e.jsx)("span",{className:Ae().offline_flag,children:(0,e.jsx)(n._H,{id:"ws.result.list.offline"})})]}),(0,e.jsxs)(fe.Z,{children:[(0,e.jsxs)(H.Z,{span:17,children:[(0,e.jsx)(fe.Z,{style:{marginBottom:(l==null?void 0:l.state)!=="pending"||(0,Bt.isNull)(l==null?void 0:l.pending_state_desc)?26:0},children:(0,e.jsxs)(re.Z,{children:[(0,e.jsx)(de.iK,{state:l==null?void 0:l.state}),(l==null?void 0:l.provider_name)&&(0,e.jsx)(Le.Z,{title:s({id:"ws.result.details.provider_name"}),placement:"bottom",children:(0,e.jsx)(Je.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:nt(l==null?void 0:l.provider_name)})}),(l==null?void 0:l.test_type)&&(0,e.jsx)(Le.Z,{title:s({id:"ws.result.details.test_type"}),placement:"bottom",children:(0,e.jsx)(Je.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:(0,e.jsx)(n._H,{id:"".concat((0,U.SE)(l==null?void 0:l.test_type),".test"),defaultMessage:l==null?void 0:l.test_type})})}),(l==null?void 0:l.job_type)&&(0,e.jsx)(Le.Z,{title:s({id:"ws.result.details.job_type"}),placement:"bottom",children:(0,e.jsx)(Je.Z,{color:"#F2F4F6",style:{color:"#515B6A",margin:0},children:l==null?void 0:l.job_type})})]})}),(l==null?void 0:l.state)==="pending"&&(l==null?void 0:l.pending_state_desc)&&(0,e.jsx)(fe.Z,{style:{marginBottom:26,marginTop:6},children:(0,e.jsx)(Me.Z,{message:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:l==null?void 0:l.pending_state_desc.replace(/(\d+)/g,'<a href="/ws/'.concat(v,'/test_result/$1" target="_blank">$1</a>'))}}),type:"warning",showIcon:!0,closable:!0,style:{height:30,color:"rgba(0,0,0,0.65)",fontSize:12}})}),(0,e.jsxs)(fe.Z,{className:Ae().test_summary_row,children:[(0,e.jsx)(Ot,{name:s({id:"ws.result.details.creator_name"}),dataIndex:l==null?void 0:l.creator_name}),(0,e.jsx)(Ot,{name:s({id:"ws.result.details.gmt_created"}),dataIndex:l==null?void 0:l.gmt_created}),(0,e.jsx)(Ot,{name:s({id:"ws.result.details.finish_time"}),dataIndex:l==null?void 0:l.end_time})]}),(0,e.jsxs)(fe.Z,{className:Ae().test_summary_row,children:[(0,e.jsx)(Ot,{name:s({id:"ws.result.details.project_name"}),dataIndex:l==null?void 0:l.project_name}),(0,e.jsx)(Ot,{name:(0,Bt.isNull)(l==null?void 0:l.baseline_job_id)?s({id:"ws.result.details.baseline_test"}):s({id:"ws.result.details.baseline_job"}),dataIndex:J()}),(0,e.jsx)(H.Z,{span:8,children:(0,e.jsxs)(fe.Z,{children:[(0,e.jsx)(I.Z.Text,{className:Ae().test_summary_item,style:{width:u},children:(0,e.jsx)(n._H,{id:"ws.result.details.produce.version"})}),(0,e.jsx)(I.Z.Text,{className:Ae().test_summary_item_right_unellipsis,style:{width:"calc( 100% - ".concat(u,"px - 16px)")},children:(l==null?void 0:l.product_version)||"-"})]})})]}),(l==null?void 0:l.plan_instance_name)&&(l==null?void 0:l.plan_instance_id)&&(0,e.jsx)(fe.Z,{className:Ae().test_summary_row,children:(0,e.jsx)(Ot,{name:s({id:"ws.result.details.plan_instance_name"}),dataIndex:l==null?void 0:l.plan_instance_name,isLink:!0,onClick:function(){return n.m8.push("/ws/".concat(v,"/test_plan/view/detail/").concat(l==null?void 0:l.plan_instance_id))}})}),(0,e.jsxs)(fe.Z,{className:Ae().test_summary_row,children:[(0,e.jsx)(I.Z.Text,{className:Ae().test_summary_item,style:{width:u},children:(0,e.jsx)(n._H,{id:"ws.result.details.job.tag"})}),(0,e.jsx)(ja,{width:u+16,onOk:ae,ws_id:v,job_id:y,tags:l==null?void 0:l.tags,creator_id:l==null?void 0:l.creator,accessLabel:h.WsMemberOperateSelf()})]}),(0,e.jsxs)(fe.Z,{style:{position:"relative"},children:[(0,e.jsx)(I.Z.Text,{className:Ae().test_summary_item,style:{width:u},children:(0,e.jsx)(n._H,{id:"ws.result.details.test_summary"})}),(0,e.jsx)(Ma,{note:l==null?void 0:l.note,creator_id:l==null?void 0:l.creator,refresh:m}),(0,e.jsx)("div",{style:(0,f.Z)((0,f.Z)({},le),{},{width:"calc(100% - ".concat(u,"px - 60px)")}),children:l!=null&&l.note?(0,e.jsx)(Le.Z,{title:(0,e.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:l==null?void 0:l.note}),placement:"topLeft",overlayStyle:{minWidth:800},children:l==null?void 0:l.note}):(0,e.jsx)("span",{children:"-"})})]})]}),(0,e.jsx)(H.Z,{span:7,style:{position:"relative"},children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"fix-end",width:"100%"},children:(0,e.jsx)(js,{test_type:l.test_type,data:l.case_result,plan:l.plan_instance_name&&l.plan_instance_id})})})]})]})]}),(0,e.jsx)(ka,{job_id:y}),(0,e.jsx)(Ea,(0,f.Z)({},l)),(0,e.jsx)("div",{style:{background:"#fff"},children:(0,e.jsx)(ce.Z,{defaultActiveKey:b,onTabClick:ee,className:Ae().result_tab_nav,tabBarExtraContent:(0,e.jsxs)("div",{style:{display:"flex",marginRight:12},children:[(0,e.jsx)(ba.Z,{viewAllReport:V,dreType:"bottomRight",jobInfo:l,origin:"jobDetail",stylesButton:G.current}),(0,e.jsx)(n.Nv,{accessible:h.IsWsSetting(),children:(0,e.jsx)(ke.Z,{type:Ye,onClick:Pe,disabled:Ge,style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.rerun"})})}),(0,e.jsx)(n.Nv,{accessible:h.WsMemberOperateSelf(l==null?void 0:l.creator),fallback:At.includes(l==null?void 0:l.state)&&(0,e.jsx)(ke.Z,{onClick:function(){return(0,U.WR)()},style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.stop"})}),children:At.includes(l==null?void 0:l.state)&&(0,e.jsx)(ut.Z,{placement:"topRight",title:s({id:"ws.result.details.job.confirm.stop",defaultMessage:"\u786E\u5B9A\u8981\u505C\u6B62job\u5417\uFF1F"}),onConfirm:we,children:(0,e.jsx)(ke.Z,{style:{marginRight:8},children:(0,e.jsx)(n._H,{id:"ws.result.details.stop"})})})})]}),items:bt.map(function(Ee){return{key:Ee[0],label:s({id:"ws.result.details.tab.".concat(Ee[1])}),children:Ee[2],disabled:Ee[0]===2&&(l==null?void 0:l.created_from)==="offline"}})})})]}),(0,e.jsx)(Oa.Z,{ref:P})]})},Aa=La},68210:function(We,rt,o){"use strict";o.d(rt,{r:function(){return ke}});var Te=o(22374),De,Ke=["svgRef","title"];function ce(){return ce=Object.assign?Object.assign.bind():function(H){for(var Ie=1;Ie<arguments.length;Ie++){var I=arguments[Ie];for(var Be in I)Object.prototype.hasOwnProperty.call(I,Be)&&(H[Be]=I[Be])}return H},ce.apply(this,arguments)}function mt(H,Ie){if(H==null)return{};var I=ut(H,Ie),Be,Me;if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(H);for(Me=0;Me<qe.length;Me++)Be=qe[Me],!(Ie.indexOf(Be)>=0)&&(!Object.prototype.propertyIsEnumerable.call(H,Be)||(I[Be]=H[Be]))}return I}function ut(H,Ie){if(H==null)return{};var I={},Be=Object.keys(H),Me,qe;for(qe=0;qe<Be.length;qe++)Me=Be[qe],!(Ie.indexOf(Me)>=0)&&(I[Me]=H[Me]);return I}var ct=function(Ie){var I=Ie.svgRef,Be=Ie.title,Me=mt(Ie,Ke);return Te.createElement("svg",ce({width:"12px",height:"12px",viewBox:"0 0 12 12",ref:I},Me),Be?Te.createElement("title",null,Be):null,De||(De=Te.createElement("g",{id:"\\u5BF9\\u6BD4",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},Te.createElement("g",{id:"13.\\u5BF9\\u6BD4\\u7ED3\\u679C",transform:"translate(-399.000000, -706.000000)",fill:"#000000",fillRule:"nonzero"},Te.createElement("g",{id:"Group-42",transform:"translate(0.000000, 534.000000)"},Te.createElement("g",{id:"Group-41",transform:"translate(0.000000, 107.000000)"},Te.createElement("g",{id:"Group-22",transform:"translate(20.000000, 1.000000)"},Te.createElement("g",{id:"Group",transform:"translate(377.000000, 59.000000)"},Te.createElement("g",{id:"\\u94FE\\u63A5",transform:"translate(0.000000, 3.000000)"},Te.createElement("rect",{id:"Rectangle",opacity:0,x:0,y:0,width:16,height:16}),Te.createElement("path",{d:"M11.91,7.92 C11.7153722,8.09503346 11.4186893,8.09033311 11.2297039,7.90922206 C11.0407184,7.72811102 11.0234032,7.43189657 11.19,7.23 L12.06,6.32 C12.709515,5.51696592 12.6264975,4.34816777 11.87,3.645 C11.115,2.86 10,2.79 9.37,3.45 L6.94,6 C6.29048502,6.80303408 6.37350246,7.97183223 7.13,8.675 C7.3238618,8.87001873 7.3238618,9.18498127 7.13,9.38 C7.0361167,9.47465633 6.90831877,9.52789916 6.775,9.52789916 C6.64168123,9.52789916 6.5138833,9.47465633 6.42,9.38 C5.29380253,8.29148422 5.21051969,6.51405308 6.23,5.325 L8.66,2.79 C9.705,1.7 11.48,1.79 12.61,2.99 C13.7040886,4.07696429 13.7802373,5.82185565 12.785,7 L11.91,7.92 Z M3.59,8.08 C3.78462784,7.90496654 4.0813107,7.90966689 4.27029614,8.09077794 C4.45928159,8.27188898 4.47659677,8.56810343 4.31,8.77 L3.44,9.68 C2.79048502,10.4830341 2.87350246,11.6518322 3.63,12.355 C4.385,13.14 5.5,13.21 6.13,12.55 L8.56,10 C9.20951498,9.19696592 9.12649754,8.02816777 8.37,7.325 C8.1761382,7.12998127 8.1761382,6.81501873 8.37,6.62 C8.4638833,6.52534367 8.59168123,6.47210084 8.725,6.47210084 C8.85831877,6.47210084 8.9861167,6.52534367 9.08,6.62 C10.2061975,7.70851578 10.2894803,9.48594692 9.27,10.675 L6.84,13.21 C5.795,14.3 4.02,14.21 2.89,13.01 C1.79591137,11.9230357 1.71976275,10.1781444 2.715,9 L3.59,8.08 Z",id:"Shape"}))))))))))},ke=Te.forwardRef(function(H,Ie){return Te.createElement(ct,ce({svgRef:Ie},H))}),dt=o.p+"static/icon_link.2a9a12ad.svg"},65871:function(We,rt,o){We.exports=o.p+"static/loss.14b90aa5.png"},95844:function(We){We.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAABUlJREFUWAnVmT1yHDcQhRvAzO7yR1U2HbGKsUPzCsxUOoIPYGVWyBs4YSiXE/kAOoJSXcE+A8uM7Mgkd2d3Bv5eA6Ak+wCEUYttoAcYPDw0enowwUjXf15fzPu/b1JYrkZbzqNlW4W9Sa7DglxsEw+WkNKnkO3YilxHJPqTKjeS9DnluvoP02RxzhbuZwuHxdLDbEY9Pe4tSL9Fr/rDwfVxWrxu24OFhf77cGfz8jHldB3ePN4OPwL2cZp+G4KdWQ4MHkw/umkuyJK4NcMLglnmbwm6TkEKihL/SWrYEoOXzii4qe6mbODXBFrySait2pDzPJ9T/j7vdy/z26PLYX+INxbGs8zNI8wFgxHaRxud2cSdEqVdhh2Vw+B3OjCYJrcwIt34j9SEqUApANBoxoDSNb8yoxCgPQpIjdQDOe5KO2MVNAEW0gHHic6owrSc2fbxZpgtXelGS4iMtlTmyj0NncZTEnz1FCEixpxhALMqkbJUrW1rUhqqRvJlKUVvrcZ00rJ7R64Hb6M6ZdfXa2pb2l8Nkw3nDOkDRtYg5PDhaLV6/dM3N7fl9s/zz/JfzNP+HTb9ysFqRRY7jzAMq9o2JRtgb54ZrCjSBkur8bWDbQwj4z4e2aQc1ljvyn7uAGxbU4F2Wxe71eYHOS1tCN9SbpeteSfyM3bF9jCFYwCz2aJ8ga52luQ9BAuPoo0mL+EcF6fVGVjB+TfDu7hxhof8f2E4Djwo8K/4QAyjP4rl+DGFxvSwJSrwZz6PmuL+O8P8uQ3Dp9vw4gHOyEOjY4bbptvFU2f2sEx9MrytJiE/LC9R/HAmUINhhUe9JdmwYCkL8EN84cymTHzq1t0Z4vsC9AmwwnIBbeFfZ3CfmPUwUQxvK8NT0/SG+LEyrE1HGhb8sOLQZstF3dF/3WxurWL43k4cXerRfoWsMVz9AV5Crzy6AvweQTe3ViGGsNO7SK0h8jo5/KJ7/v88fsnikJeGr8nnB/kFgoPeJT+lYXwoFb35Kk1FdPOf118XS/V3fs4pQnUXDriC7gatgMSRP4DpjRqQQ6q7sFfAefNVAbzwjAbzEPyggYnUaEiT6io1hgmChXgY27O6MN4VVoHJazGME555gmAWg8puDi2y7w1ywoYVp0OogD/ZcGqPwM4A59ULB2qHyrB7CZlDY7ozwNYY1gklTA+81DnYjEn0GL/nEYYFjnNnB9yiyn69BLFOxkMsmABBz5BqcOE2LF1nKa9OAcsZtJvGjB8WSNlvpyZhxOs6p7alPJI/2TB1d2+dMWyJeB0bzhwJFxuuDHNQ7Ez3hteS2BUqAWbvBU5WlIeav3ubL3oBnV/9epGHY8vjMUg3nmOU/das8m6ydz2AFthpPrzTw9jZTTCceP/89pf8ByZyLjcn4JGAWHKgrgmskAl5VOtHXPe6VgT9CdGeS7wN5152ynWXO3Y0a3lsD3x5OthxvGdRZ773FXnCWV5ip6+NOgOu4pbwhuv+fXDmeyBfs/QoZvl1fm17Bsz5Tm0+CpjbCVJl5cZ6kt3UrLI/05FPelSKo7Rhn0JUtSNVQakc0ZS6Wpej8/JyptdfjiP5GiV92UqCGCgXnfTadCHGjwOWcb3f20smdCaQ8scaeIXXECgxLUbHyvBGerVrkhE0Qf+GpyHpo9ySjmiUdWCu4bXEqh8chN5wdC6t/mtA62sfx2a0ltS09nzGkExj+GuV0nX8/U24HRe7BOR78h3tCrsakbIzSdFBCUjN0gu4J8oC6W+Fuv6UXFNrKhemSzftekGRDkk/6QVVuiJhP4Q7pvF+k9Jl+PDD7T9Qqao1PwZEZwAAAABJRU5ErkJggg=="},39693:function(We,rt,o){"use strict";var Te=o(49132),De=o.n(Te),Ke=o(18370),ce=o.n(Ke)}}]);
